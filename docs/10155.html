<html>
<head>
<title>How to fix Error 522 on Cloudflare</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何修复 Cloudflare 上的错误 522</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-fix-error-522-on-cloudflare-cb1dff05cd99?source=collection_archive---------12-----------------------#2022-10-10">https://blog.devgenius.io/how-to-fix-error-522-on-cloudflare-cb1dff05cd99?source=collection_archive---------12-----------------------#2022-10-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/7d066c0d128a4e15fc7f6c93a70e0809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iBkazySsdewGdCEj"/></div></div></figure><p id="6478" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Cloudflare 团队在分享错误的可能原因以及如何解决这些问题方面做得非常好。我很快概述了以下这些；</p><h1 id="a6ff" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">522 错误的原因</h1><blockquote class="lr ls lt"><p id="3dff" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated">当 Cloudflare 联系原始 web 服务器超时时，会出现错误 522。两种不同的超时会导致 HTTP 错误 522，具体取决于它们在 Cloudflare 和原始 web 服务器之间发生的时间:</p><p id="a86b" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated">1.在建立连接之前，原始 web 服务器不会在 Cloudflare 发送 SYN 的 15 秒内将 SYN+ACK 返回给 Cloudflare。</p><p id="13fc" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated">2.建立连接后，原始 web 服务器不会在 90 秒内确认(ACK) Cloudflare 的资源请求。</p><p id="ddac" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated">来源:<a class="ae ly" href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#:~:text=Error%20522%3A%20connection%20timed%20out,-Error%20522%20occurs&amp;text=Before%20a%20connection%20is%20established,resource%20request%20within%2090%20seconds." rel="noopener ugc nofollow" target="_blank"> Cloudflare 支持</a></p></blockquote><p id="9a45" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这篇<a class="ae ly" href="https://qr.ae/pvcKqB" rel="noopener ugc nofollow" target="_blank"> Quora 帖子</a>涵盖了连接超时消息的更多原因。</p><h1 id="019d" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">我是如何解决错误的</h1><p id="cddc" class="pw-post-body-paragraph jv jw in jx b jy lz ka kb kc ma ke kf kg mb ki kj kk mc km kn ko md kq kr ks ig bi translated">就我而言，我意识到我有两个 A 记录集。第二个是在我的域名处于赎回宽限期时自动添加的——我没有及时续费。</p><p id="86b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Cloudflare 早些时候给我发了一封电子邮件，说我的名称服务器不再指向 Cloudflare，我的 DNS 记录将在 7 天内从 Cloudflare 系统中完全删除。这证明了我为什么会发现新的 DNS 记录—可能是由 Cloudflare 添加的。</p><p id="2c66" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，当我试图通过添加第二个 A 记录来重现这个问题时，我的应用程序运行得很好。我不知道为什么我不能得到同样的错误。</p><p id="ab38" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="lu">伟大的一周即将到来！</em></p></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><p id="e9b2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="lu">最初发布于</em><a class="ae ly" href="https://belindamarionk.hashnode.dev/how-to-fix-error-522-on-cloudflare" rel="noopener ugc nofollow" target="_blank"><em class="lu">https://Belinda marionk . hash node . dev</em></a><em class="lu">。</em></p></div></div>    
</body>
</html>