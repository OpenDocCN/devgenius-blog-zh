<html>
<head>
<title>A Guide To Undoing Git Mistakes ✅️ 👨🏻‍🏭</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">✅️消除 Git 错误指南👨🏻‍🏭</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/a-guide-to-undoing-git-mistakes-%EF%B8%8F-da357f0136b?source=collection_archive---------10-----------------------#2022-12-03">https://blog.devgenius.io/a-guide-to-undoing-git-mistakes-%EF%B8%8F-da357f0136b?source=collection_archive---------10-----------------------#2022-12-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/8a79792cfa6b7c336eee283fcd416910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*XjK9FHL7k38Ix265.jpg"/></div></figure><p id="e859" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><strong class="jt io">失误！</strong>软件开发不需要这些。然而，他们总是设法破坏软件创作的美感。🙀</p><p id="809b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，错误是不可避免的。你如何克服你的错误？</p><p id="daf4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">撤销的能力是版本控制系统的一个有用的特性。<br/> Git 是一个很好的安全网，如果你做了一个错误的决定，它会给你另一个机会。😎</p><p id="470a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">想浏览一些有用的 Git 命令吗？这对你可能很有价值。</p><div class="kp kq gp gr kr ks"><a href="https://devangtomar.medium.com/git-commands-you-must-unquestionably-know-69aeb8594bd3" rel="noopener follow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd io gy z fp kx fr fs ky fu fw im bi translated">你肯定知道 Git 命令！🚀</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">全球使用最广泛的分布式版本控制系统叫做 Git。这个项目是在…开发的</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">devangtomar.medium.com</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg jp ks"/></div></div></a></div><p id="34a4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在本文中，我描述了您可能犯的错误类型，以及帮助您摆脱这些错误的 Git 方法。</p><h2 id="e4bc" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">1.删除未被跟踪的文件☠️</h2><p id="51c3" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您向项目中添加了一些新文件，并更新了其他一些文件。您改变了主意，决定不再需要您创建的任何新文件，并将坚持使用修改后的文件更改。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/857eaacf978f6cc342ce68cf83ecb517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*iGlErkDqR70MxeLs.jpeg"/></div></figure><p id="308f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">Git 有一个删除未跟踪文件的命令:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="ec01" class="mp li in ml b be mq mr l ms mt">git clean -f</span></pre><p id="fae4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">git clean 命令需要-f 参数，该参数表示强制指令(也称为— force)。因为这个操作涉及到删除未跟踪的文件，所以您必须确定您正在做什么，因为在 Git 中删除未提交的工作是不可能的。</p><p id="7c65" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">此命令不会删除由定义的未跟踪的文件夹或文件。默认情况下 gitignore 文件。要删除忽略的文件，请使用-x 选项。</p><p id="1f61" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">此外，git clean 不会在目录上递归执行。这是防止无意永久擦除的又一安全措施。</p><p id="eae8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">使用-d 开关也可以删除目录。</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="d3eb" class="mp li in ml b be mq mr l ms mt">git clean -df</span></pre><p id="7850" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这将删除未跟踪的文件和目录，但不会删除。gitignore 文件。</p><h2 id="9983" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">2.停止跟踪被跟踪的文件⛔</h2><p id="041b" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您有一个不希望 git 跟踪的节点模块文件夹。<br/>您提交了节点模块文件夹，但是您未能使用. gitignore 文件忽略它。在提交之前，创建. gitignore 文件并在其中包含节点模块文件夹。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/59a211d431999266e23828bce9191c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*mS2rruU9X-597DoU.png"/></div></figure><p id="8b82" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">但是，Git 仍然在跟踪它(节点模块)。这是因为一旦文件被创建并提交到 Git 数据库，Git 将继续跟踪对它的更改。</p><p id="942c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">您希望 Git 停止跟踪节点模块子目录。</p><p id="fde1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">只需运行:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="7443" class="mp li in ml b be mq mr l ms mt">git rm -r  --cached node_modules</span></pre><h2 id="001a" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">3.修改上次提交🔨</h2><p id="f056" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您已经向本地 Git 数据库提交了一个请求。之后，你意识到你忽略了在提交中添加文件修改(你可能没有保存文件)。或者您添加了一个新文件，并希望它链接到您最近提交的文件。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mv"><img src="../Images/71159b821fd20864578447fa034e82cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x_qFOmr3gcpHTCHR.png"/></div></div></figure><p id="8cae" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">Git 将允许您在解锁之前的提交后添加新文件。</p><p id="1566" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">只需遵循以下步骤:</p><p id="051b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">首先，添加缺少的文件:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="4b9f" class="mp li in ml b be mq mr l ms mt">git add newfile.ts</span></pre><p id="7d6f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后，运行:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="e154" class="mp li in ml b be mq mr l ms mt">git commit --amend --no-edit</span></pre><p id="a619" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><code class="fe na nb nc ml b">--no-edit</code>标志修改提交而不改变提交消息。</p><h2 id="2333" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">4.放弃工作目录🗑️中的所有更改</h2><p id="4192" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">你在努力做你的项目。例如，您可以修改您的代码，以遵循更好的模式和干净的代码标准。重构时你破坏了程序中的一个功能，却不知道哪里出错了。您希望返回到应用程序正常工作的前一个状态(提交),以便重新找到方向。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/db6ee29b134bb3d48a70f35669e621eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*gD2X7scVYFa4AbM_.png"/></div></figure><p id="11e8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，您希望撤销所有未提交的更改，并将 Git 工作树返回到上次提交时的状态。</p><p id="6620" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">使用命令:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="59b6" class="mp li in ml b be mq mr l ms mt">git restore .</span></pre><blockquote class="nd ne nf"><p id="e785" class="jr js ng jt b ju jv jw jx jy jz ka kb nh kd ke kf ni kh ki kj nj kl km kn ko ig bi translated"><strong class="jt io"> <em class="in">注意:</em> </strong> <em class="in">该命令将您的工作副本恢复到您本地 git 数据库中的最近提交。您尚未提交的更改将永久丢失。</em></p></blockquote><h2 id="ba5a" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">5.放弃对文件所做的所有更改🚮</h2><p id="f025" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您已经对本地 git repo 中的文件进行了更改。您随后发现您对特定文件(connect.js)所做的更改并不明智，应该撤销。但是，您希望保留对其他文件所做的任何更改。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/74edc773c7bb369109d4658fc7779a2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wwa3wuMhBvY9B-LD"/></div></figure><p id="6498" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，您希望将文件 connect.js 恢复到之前的状态。</p><p id="69ff" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">Git 允许您这样做:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="a8c8" class="mp li in ml b be mq mr l ms mt">git restore index.js</span></pre><h2 id="7442" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">6.修改最后一条提交消息🏭</h2><p id="e0c2" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">这是一个类似于上面描述的场景。但是这一次，您已经提交了 git，并且对您选择的提交消息并不感到兴奋。你希望信息在描述你所做的事情时更有意义。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/5fd55cf420d6171836a394001a365315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*RSD1jou6G7NsZDWN.jpg"/></div></figure><p id="bc7f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">Git 又一次宽容了，允许您修复之前糟糕的提交消息。</p><p id="2a5e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">简单来说，运行:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="c4f9" class="mp li in ml b be mq mr l ms mt">git commit --amend -m "Phew! A better commit message this time"</span></pre><h2 id="b160" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">7.将文件还原到⌛以前的旧版本</h2><p id="8a73" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">与前面的命令不同，您希望将项目中的特定文件恢复到比上次提交更早的状态。</p><p id="9a3e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，如果版本 3 是您的前一次提交，您希望这个特定的文件显示为它在版本 3 之前的版本 2 中的样子。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nl"><img src="../Images/bde85a172a58591f7725788347989028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j6ZGVOJAtKx6-zp8.jpg"/></div></div></figure><p id="2f85" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">使用 Git:</p><p id="4340" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">随时查找并复制提交哈希:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="e966" class="mp li in ml b be mq mr l ms mt">git log</span></pre><p id="4e4c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="f9b0" class="mp li in ml b be mq mr l ms mt">git restore --source &lt;commit-hash&gt; &lt;filename&gt;</span></pre><p id="eafc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">就这么简单，对吧？</p><h2 id="ac47" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">8.恢复已删除的文件(以前提交的)♻️</h2><p id="55ab" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">当您注意到一个过期的文件时，您正在对项目进行更改。您继续删除文件以释放空间。你后来意识到你需要刚刚删除的文件。</p><p id="288e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">要取回您的文件:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="dd3b" class="mp li in ml b be mq mr l ms mt">git restore deleted-file.css</span></pre><p id="45e0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这将向您呈现文件，就像它在之前的提交中一样。</p><h2 id="9903" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">9.放弃本地存储库中的所有更改，恢复到远程存储库中的精确状态🎒</h2><p id="cc7c" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您对本地回购分支机构进行了一些更改和提交。你已经重接了线路，你在想，“为什么我一开始就要做这些改变？”</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/43115e034496bf466b7f4227f4929f3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*S127KaY4ukkHqvCn.png"/></div></figure><p id="1dc1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，您希望删除当前本地分支上的所有内容，并用远程主分支替换它。</p><p id="4e46" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">只需按如下方式撤消:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="d365" class="mp li in ml b be mq mr l ms mt">git reset --hard origin/main</span></pre><blockquote class="nd ne nf"><p id="e6bc" class="jr js ng jt b ju jv jw jx jy jz ka kb nh kd ke kf ni kh ki kj nj kl km kn ko ig bi translated"><strong class="jt io"> <em class="in">警告</em> </strong> <em class="in">:未提交的更改将永久丢失。</em></p></blockquote><p id="fa25" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><strong class="jt io"> 10。将提交切换到不同的分支🔼🔽</strong></p><p id="163d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">您目前正在处理项目的两个特性:创建一个时事通讯和微调页脚布局。您已经建立了两个不同的分支:新闻稿和页脚布局，每个分支都有自己的功能:新闻稿和页脚布局。</p><p id="fa6e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">您目前正在添加简讯功能并提交到简讯分支。当您返回到您的项目时，您希望使用页脚布局功能，但是却忽略了切换到页脚布局分支。您提交了不正确的新闻稿分支的页脚布局功能。</p><p id="8481" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">后来，您发现您对新闻分支的提交实际上属于页脚分支。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/4d0e99de0e3a825874c3428c56778c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*HQqC1oL3JOnEzzFV.jpg"/></div></figure><p id="9535" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，您希望将添加页脚布局功能的提交从新闻稿分支移到页脚布局分支。</p><p id="56e9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在 Git 中，执行以下操作:</p><p id="b98b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">查看时事通讯部分:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="093d" class="mp li in ml b be mq mr l ms mt">git checkout newsletter</span></pre><p id="ff6c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">找到并复制添加了<em class="ng">页脚布局特性</em>的提交的<em class="ng">提交散列</em>。运行命令:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="8d24" class="mp li in ml b be mq mr l ms mt">git log</span></pre><p id="71cc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">签出您希望通过此提交应用的合法分支。在我们的案例中:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="3989" class="mp li in ml b be mq mr l ms mt">git checkout footer-layout</span></pre><p id="d2b5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后应用提交:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="32d4" class="mp li in ml b be mq mr l ms mt">git cherry-pick &lt;commit-hash&gt;</span></pre><p id="f9bc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后检查<code class="fe na nb nc ml b">newsletter</code>分支:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="a003" class="mp li in ml b be mq mr l ms mt">git checkout newsletter</span></pre><p id="283d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">并去掉这个不需要的提交，这个提交添加了<em class="ng">页脚布局</em>:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="800c" class="mp li in ml b be mq mr l ms mt">git reset HEAD~1 --hard</span></pre><p id="2201" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">HEAD~1 表示我们正在将时事通讯分支重置为最近提交之后的一个提交，并删除我们已经离开的提交。请记住，最近提交的新闻稿分支是带有页脚布局功能的。</p><h2 id="571f" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">11.复活已删除的分支🔙</h2><p id="c8e0" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您决定不再需要某个特性分支，并将垃圾桶放在它上面(删除它)。下次报警的时候，不小心删了。你现在处于“恐慌模式”你希望你能回到过去把它找回来。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/7dffe3f89e5ddf1f022947821224620f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*ZQ1HPaJGFuC3KUZb.png"/></div></figure><p id="4db9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所以你想要恢复你被删除的分支。</p><p id="303e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">以下是恢复已删除分支的方法:</p><p id="b036" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">找到并复制已删除分支的提交哈希，它将在您运行命令时显示:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="319e" class="mp li in ml b be mq mr l ms mt">git reflog</span></pre><p id="6703" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后重新创建您的分支，如下所示:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="524e" class="mp li in ml b be mq mr l ms mt">git branch &lt;branch-name&gt; &lt;deleted-branch-commit-hash&gt;</span></pre><p id="7f16" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这将建立到 deleted-branch-commit-hash &gt;的所有工作的分支。如果 deleted-branch-commit-hash &gt;不是已删除分支中最近的工作，您仍然可以找到新的提交散列，直到找到包含您最近工作的散列。当您键入 git branch 时，您之前删除的分支将再次列出。即使源中的分支被删除(远程),这也是有效的。</p><p id="266c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如果 branch-name &gt;不是您要找的，只需用 git branch-m branch-name &gt; new-branch-name &gt;重命名它。</p><p id="bdb8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">不用说，成功恢复被删除的分支的关键是定位正确的提交散列，所以明智地命名提交；会有很大帮助。</p><h2 id="367a" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">12.倒带/撤销错误的提交⏪</h2><p id="3b5f" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您的团队已经发布了项目的新版本。你们都确信新功能是一件艺术品。几秒钟后，团队领导打来紧急电话，称新发布的版本包含一个重大错误，必须立即解决。技术团队必须快速响应，坐下来发现问题并不是紧急情况下的适当解决方案。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nm"><img src="../Images/b92269b5778a25c877a5c5f0c7a79e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tNTmi9Fpp0PojJTc.jpeg"/></div></div></figure><p id="3d18" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">撤销对易出错版本的更改是最快的反应之一。</p><p id="8b40" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所以您希望回滚对提交所做的更改。</p><p id="32a9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在 Git 中是这样做的:</p><p id="d4fa" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">找到并复制您要从中撤消更改的提交的提交散列(中断的提交)。</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="bede" class="mp li in ml b be mq mr l ms mt">git log</span></pre><p id="a7b5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">还原由该提交指定的更改:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="e2f5" class="mp li in ml b be mq mr l ms mt">git revert &lt;broken-commit-hash&gt;</span></pre><h2 id="b521" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">13.撤消 Git 合并👈🏻❌</h2><p id="d7a2" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您对特性分支中的新改进感到满意。您认为您已经准备好将功能分支合并到主分支中了。因此，您从主分支中合并特性分支，并将您的新修改推送到远程存储库中。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/1bda6d87a9599bcdc1b711cda77cf296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/0*e3c6_VSf9Oyv16kS.jpg"/></div></figure><p id="fc03" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">过了一会儿，你会明白合并根本不是一个好的举动。</p><p id="bed1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所以你想逆转合并。Git 支持你。</p><p id="e055" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">从调查主要分支开始:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="c9c0" class="mp li in ml b be mq mr l ms mt">git checkout main</span></pre><p id="ced5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后运行<code class="fe na nb nc ml b">git log</code>来获取<em class="ng">合并提交</em>的<em class="ng">提交哈希</em>。</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="9348" class="mp li in ml b be mq mr l ms mt">git log</span></pre><p id="787b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后回复如下:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="0a81" class="mp li in ml b be mq mr l ms mt">git revert -m 1 &lt;merge-commit-hash&gt;</span></pre><p id="bfa4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">合并中的分支是该合并的父级。</p><h2 id="c21a" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">14.回滚到旧版本🎢🛼</h2><p id="d5a0" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您可以将项目恢复到以前的版本。这也可能是对不正确提交的响应:您想要恢复到最近中断的提交之前正常工作的版本。</p><p id="08e3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">警告:这个 git 命令重写历史。当与其他人一起工作于一个软件项目时，这是不合适的。</p><p id="386a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，您想要通过倒带存储库的历史来回到项目的早期版本。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi no"><img src="../Images/900787d6fc81d1d63a8b9488e2846ab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*yqrRqxNu6PlsKAQq.jpg"/></div></figure><p id="5424" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在 git 中:</p><p id="8477" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">找到并复制您希望项目恢复到的提交哈希:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="815b" class="mp li in ml b be mq mr l ms mt">git log</span></pre><p id="10f8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">将您存储库重置为由<em class="ng">提交散列</em>指定的状态:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="7b3c" class="mp li in ml b be mq mr l ms mt">git reset --hard &lt;commit-hash&gt;</span></pre><h2 id="3fd9" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">15.修改旧的提交消息✂️</h2><p id="6c94" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">你对项目的进展感到满意。你在回顾你项目的历史。您会看到一条明显不明确的提交消息。</p><p id="1a53" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所以你想用一个更好的描述逻辑语义的消息来替换这个消息(只是一个有更好解释的消息)。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/0f83e1a957b5d5114074e8f35f94ffbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*yaDMQh-Orw0QFHak.png"/></div></figure><p id="a64a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">使用 Git 中的交互式 rebase，您可以更新更早以前的提交消息:</p><p id="56f6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">找到并复制要更改其提交消息的提交的提交散列:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="c2c3" class="mp li in ml b be mq mr l ms mt">git log</span></pre><p id="e2d2" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">打开重置基础交互式会话:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="6f8a" class="mp li in ml b be mq mr l ms mt">git rebase -i &lt;commit-hash&gt;</span></pre><p id="d1cd" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">将弹出一个编辑器，您可以在其中修复输入错误，并提供更好的描述性消息。</p><h2 id="7a70" class="lh li in bd lj lk ll dn lm ln lo dp lp kc lq lr ls kg lt lu lv kk lw lx ly lz bi translated">16.删除旧的提交😵</h2><p id="a2ee" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">您可能会被一个旧的提交所困扰，并希望将其从您的项目历史中删除。</p><p id="a782" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所以您希望从项目历史记录中删除该提交。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/82ade3dc811fcc63acd8cb04d0ec146c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*0xaP5DccGSoX700W-2P9oA.png"/></div></figure><p id="3a5a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">您可以通过执行以下操作来删除此提交:</p><p id="e747" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">首先，找到并复制注定要提交的提交散列。</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="b177" class="mp li in ml b be mq mr l ms mt">git log</span></pre><p id="642e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后:</p><pre class="mg mh mi mj gt mk ml mm bn mn mo bi"><span id="4fb7" class="mp li in ml b be mq mr l ms mt">git rebase -i &lt;commit-hash&gt;</span></pre><h1 id="3e71" class="nq li in bd lj nr ns nt lm nu nv nw lp nx ny nz ls oa ob oc lv od oe of ly og bi translated">本文的 GitHub URL💻</h1><div class="kp kq gp gr kr ks"><a href="https://github.com/devangtomar/git-guide" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd io gy z fp kx fr fs ky fu fw im bi translated">GitHub - devangtomar/git-guide</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">width = " 5.0in 英寸" height = " 4.55in 英寸" }错误！软件开发不需要这些。然而，他们总是设法…</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">github.com</p></div></div><div class="lb l"><div class="oh l ld le lf lb lg jp ks"/></div></div></a></div><h1 id="a8f4" class="nq li in bd lj nr ns nt lm nu nv nw lp nx ny nz ls oa ob oc lv od oe of ly og bi translated">结论💡</h1><p id="834f" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated">这就是你改正错误的方法。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi oi"><img src="../Images/d2547d7095c1167c1e583291849e7a2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-yq7bXVZ5QRqEC-u.jpg"/></div></div></figure><p id="d2ee" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">只是几点:</p><ul class=""><li id="beef" class="oj ok in jt b ju jv jy jz kc ol kg om kk on ko oo op oq or bi translated">在处理团队项目时，最好避免重写历史记录的指令。但是，您可以修改仅存在于您自己的回购协议中的专用分支的历史记录。规则是不要改变一个分支的历史，其他人已经在这个分支上建立了他们的工作。事情可能会变得棘手。</li><li id="dce5" class="oj ok in jt b ju os jy ot kc ou kg ov kk ow ko oo op oq or bi translated">您可能使用过 git log 命令，该命令显示提交列表。git reflog 命令类似，但是它显示了 HEAD 更改的时间列表。</li><li id="1f1a" class="oj ok in jt b ju os jy ot kc ou kg ov kk ow ko oo op oq or bi translated">您的参考日志是您独有的。Reflog 记录自克隆存储库以来对每个分支所做的任何修改或提交。</li><li id="9e87" class="oj ok in jt b ju os jy ot kc ou kg ov kk ow ko oo op oq or bi translated">Git 不会在 90 天后自动删除提交；它们可以在 reflog 中找到。这样一来，你又有了一次改正错误的机会。</li></ul><p id="4107" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">谢谢你，reading✨</p><h1 id="5d7a" class="nq li in bd lj nr ns nt lm nu nv nw lp nx ny nz ls oa ob oc lv od oe of ly og bi translated">大家连起来聊聊天吧！向世界上任何事物开放🏖️🍹</h1><p id="561c" class="pw-post-body-paragraph jr js in jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko ig bi translated"><strong class="jt io">🐦推特:</strong><a class="ae ox" href="https://twitter.com/devangtomar7" rel="noopener ugc nofollow" target="_blank"/><br/><strong class="jt io">🔗LinkedIn:</strong><a class="ae ox" href="https://www.linkedin.com/in/devangtomar" rel="noopener ugc nofollow" target="_blank"/><br/><strong class="jt io">📚Stackoverflow : </strong> <a class="ae ox" href="https://stackoverflow.com/users/8198097/devangtomar" rel="noopener ugc nofollow" target="_blank">德旺托玛</a><br/><strong class="jt io">🖼️insta gram:</strong><a class="ae ox" href="https://instagram.com/be_ayushmann" rel="noopener ugc nofollow" target="_blank">be _ ayushmann</a><br/>ⓜ️<strong class="jt io">中:</strong> <a class="ae ox" href="https://medium.com/u/8f5e1c86129d?source=post_page-----e42119a306ca--------------------------------" rel="noopener">德旺托玛</a> <br/> ☊ <strong class="jt io">哈什诺德:</strong> <a class="ae ox" href="https://devangtomar.hashnode.dev/" rel="noopener ugc nofollow" target="_blank">德旺托玛</a> <br/> <strong class="jt io"> 🧑‍💻开发到:</strong> <a class="ae ox" href="https://dev.to/devangtomar" rel="noopener ugc nofollow" target="_blank">开发到</a></p></div></div>    
</body>
</html>