<html>
<head>
<title>Julia for Analysts: Tips for Better Beginnings — The Bigger Picture (#5)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析师 Julia:更好的开始——更大的图景(#5)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/julia-for-analysts-tips-for-better-beginnings-the-bigger-picture-5-3fe7e4cb110f?source=collection_archive---------10-----------------------#2022-08-24">https://blog.devgenius.io/julia-for-analysts-tips-for-better-beginnings-the-bigger-picture-5-3fe7e4cb110f?source=collection_archive---------10-----------------------#2022-08-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="042f" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">回顾一下 Julia 生态系统还提供了什么(修订、日志、调试器)。Julia 只是任何项目(模型/洞察/应用)成功的一小部分，所以在版本控制、实验记录、轻松输出和自动化方面投入时间。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b553dfcc8a1bdcf9525fe1d699821b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*URVuTo0Wo5Kt_bL7VxMQtw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">美国宇航局在<a class="ae ks" href="https://unsplash.com/s/photos/earth?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><h1 id="c11c" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">我希望早点使用的软件包</h1><h1 id="34de" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Revise.jl</h1><p id="29b6" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated"><a class="ae ks" href="https://timholy.github.io/Revise.jl/stable/" rel="noopener ugc nofollow" target="_blank"> Revise.jl </a>是切片面包以来最好吃的东西！你的(加载的)代码会在你每次修改时神奇地更新，你不需要重启 Julia。</p><p id="29ff" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">我曾经简单地用<code class="fe mm mn mo mp b">includet()</code>跟踪我的脚本，但是我现在已经开始为每个迷你分析创建一个专用的包(用<code class="fe mm mn mo mp b">]generate</code>)。一旦它有了自己的文件夹，它就有了自己的项目规范——还有几个下游的好处。</p><h1 id="c1f7" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">PkgTemplates.jl</h1><p id="391e" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">如果你正在考虑出版你的作品，你应该总是以<a class="ae ks" href="https://invenia.github.io/PkgTemplates.jl/" rel="noopener ugc nofollow" target="_blank"> PkgTemplates.jl </a>开始你的项目。</p><p id="4333" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">现代 Julia 包的交钥匙解决方案——它可以设置你的文件夹结构、文档、测试、git、Github 动作等等。</p><h1 id="1a01" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">测试. jl</h1><p id="4311" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">测试再简单不过了(<code class="fe mm mn mo mp b">using Test</code>)！我认为一个轻量级测试套件的开销大约是每个函数 2 分钟，这将为您节省无数的调试时间！</p><p id="24de" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">我的工作流程:</p><ul class=""><li id="0a9c" class="mq mr in ln b lo mh lr mi lu ms ly mt mc mu mg mv mw mx my bi translated">我应用“三原则”——如果我使用某个逻辑 3 次或更多次(或者知道我会这样做)，我将它包装在一个函数中，生成轻量级的文档字符串，并添加一个简单的断言语句来测试预期的输出(<code class="fe mm mn mo mp b">@assert X==Z</code>)。</li><li id="6b87" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">这个函数存在于<code class="fe mm mn mo mp b">src</code>文件夹的一个文件中，但是 Revise.jl 包负责重新加载我所做的每一个修改。</li><li id="c3ec" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">然后，我将代码移动到我的项目的<code class="fe mm mn mo mp b">test</code>文件夹中的一个文件中，并用我的项目添加注册它(<code class="fe mm mn mo mp b">test/runtests.jl</code>中的<code class="fe mm mn mo mp b">include(data_handlers.jl)</code>行)</li><li id="11b8" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">剩下唯一要做的事情就是用<code class="fe mm mn mo mp b">@assert</code>替换<code class="fe mm mn mo mp b">@test</code>(可选地将几个测试打包成<code class="fe mm mn mo mp b">@testset</code> s)并用<code class="fe mm mn mo mp b">]test</code>运行所有的测试(在 REPL 包模式下)。</li></ul><h1 id="9fe8" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Logging.jl</h1><p id="1f3d" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">标准库的一部分，但仍然很棒。Macro <code class="fe mm mn mo mp b">@info</code>是你的朋友，你再也不会用 print 了！</p><p id="018e" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">您可以使用<a class="ae ks" href="https://github.com/JuliaLogging/LoggingExtras.jl" rel="noopener ugc nofollow" target="_blank"> LoggingExtras.jl </a>定制您的日志程序。</p><h1 id="1496" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">调试器. jl</h1><p id="15fb" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">Debugger.jl 是一个很好的工具，可以交互式地调试你的代码，而不需要做任何初始设置。</p><p id="b0f9" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">如果你所关心的只是设置一个断点并能够检查上下文，那么 Infiltrator.jl 是一个更轻便的选择。</p><p id="ec56" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">当我从<code class="fe mm mn mo mp b">my_func_that_breaks()</code>得到一个奇怪的错误时，我的典型工作流程</p><pre class="kd ke kf kg gt ne mp nf ng aw nh bi"><span id="2c3f" class="ni ku in mp b gy nj nk l nl nm">using Debugger<br/>names(Debugger) # to remind myself of the break_on_error function<br/>break_on_error(true) <br/>@run my_func_that_breaks()<br/># once inside, use ? for help and q to quit</span></pre><h1 id="fb16" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">JET.jl</h1><p id="69be" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">一个很棒的代码分析器，<a class="ae ks" href="https://github.com/aviatesk/JET.jl" rel="noopener ugc nofollow" target="_blank"> JET.jl </a>，可以在你运行代码之前发现你的错误。</p><p id="8068" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">简单跑:<code class="fe mm mn mo mp b">using JET; report_and_watch_file("my_script.jl",annotate_types=true)</code></p><h1 id="18b4" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">JuliaSyntax.jl</h1><p id="581d" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">JuliaSyntax.jl 是一个令人兴奋的新语法解析器，它会给你更好的错误信息。我在等 0.1 版本加到我的 startup.jl，看看<a class="ae ks" href="https://www.youtube.com/watch?v=CIiGng9Brrk" rel="noopener ugc nofollow" target="_blank"> JuliaCon 2022 视频</a>。</p><h1 id="f50b" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Term.jl</h1><p id="165a" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated"><a class="ae ks" href="https://github.com/FedeClaudi/Term.jl" rel="noopener ugc nofollow" target="_blank"> Term.jl </a>大多是为了构建漂亮的 CLI 和终端应用(类似于 Python 中的<a class="ae ks" href="https://rich.readthedocs.io/en/stable/introduction.html" rel="noopener ugc nofollow" target="_blank"> Rich </a></p><p id="c743" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">然而，它有几个日常使用的好方法，例如，<code class="fe mm mn mo mp b">termshow(func)</code>用于显示可用的方法，即将发布的<code class="fe mm mn mo mp b">@showme</code>宏将向您显示给定方法实例的定义。</p><h1 id="1792" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">JuliaFormatter.jl</h1><p id="e076" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">juliaformat . JL 是一个很棒的节省程序，它让你的代码更具可读性。</p><p id="9ca4" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">你需要做的就是在你的项目目录下运行:<code class="fe mm mn mo mp b">using JuliaFormatter; format(".")</code>。</p><h1 id="6a43" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Literate.jl</h1><p id="2108" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated"><a class="ae ks" href="https://fredrikekre.github.io/Literate.jl/v2/" rel="noopener ugc nofollow" target="_blank"> Literate.jl </a>是你通往识字编程的门户】(https://en . Wikipedia . org/wiki/Literate _ Programming)。</p><p id="1e2a" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">简而言之，你可以把你的代码写成一个易于阅读和版本控制的脚本，但是用一个命令你就可以把它导出到 Markdown，Notebooks 等等。</p><p id="0922" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">最好的部分是，你几乎不需要改变任何东西——只需要在这里和那里添加一个<code class="fe mm mn mo mp b">#</code>就可以实现想要的布局。</p><p id="80a0" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">识字编程有什么好处？</p><p id="6b3f" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">在数据的世界里，你的代码运行和测试成功通常是不够的，你需要能够解释它并为其他利益相关者和你自己记录它(有时一年有 100 多个项目，你真的记得你做了什么吗？).</p><p id="0c8a" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">配合 Quarto 使用更是如虎添翼。</p><h1 id="0882" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">四开</h1><p id="3d6f" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated"><a class="ae ks" href="https://quarto.org/" rel="noopener ugc nofollow" target="_blank"> Quarto </a>是“一个基于 Pandoc 的开源科技出版系统”(你可以说它是面向 Python 和 Julia 用户的 Rmarkdown+knitter 的跨平台继承者)。</p><p id="0514" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">对于参数化运行和以多种输出格式(演示、HTML 报告等)发布漂亮的报告，我还没有见过更好的工具。</p><p id="bd53" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">参见<a class="ae ks" href="https://quarto.org/docs/computations/julia.html" rel="noopener ugc nofollow" target="_blank">使用四开本</a>中的茱莉亚。</p><p id="e385" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">我的工作流程通常是将我的脚本放入 Quarto Markdown(使用 Literate.jl ),然后生成一个 HTML 报告(用于分发)和一个用于会议的交互式 Revealjs 演示。作为一名前管理顾问，我无法相信创建如此漂亮和专业的演示是如此容易。</p><h1 id="98c5" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">重新思考你的整体工作流程</h1><p id="c6ce" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">Julia 只是任何项目(模型/洞察/应用)成功的一小部分。投入时间围绕它构建一个健壮的工作流。</p><p id="6edc" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">下面的概述提供了一些适合我和我的用例的要点。</p><h2 id="8548" class="ni ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">我的项目生态系统</h2><h2 id="340c" class="ni ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">项目结构+文档</h2><ul class=""><li id="da56" class="mq mr in ln b lo lp lr ls lu ny ly nz mc oa mg mv mw mx my bi translated">以任何合作者都知道如何导航的方式组织你的项目(例如，使用 PkgTemplates.jl 并从<a class="ae ks" href="https://cookiecutter.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> Cookiecutter </a>文件夹结构中获得灵感)</li><li id="8d74" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">首先，在 README.md 文件中描述您的项目，并逐步解释如何运行它(/重新训练模型)</li><li id="fa0a" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">稍后，用例子构建适当的文档(例如，Literate.jl + Documenter.jl)</li></ul><h2 id="7530" class="ni ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">版本控制</h2><ul class=""><li id="ec0d" class="mq mr in ln b lo lp lr ls lu ny ly nz mc oa mg mv mw mx my bi translated">使用 git 的源代码(例如，使用 Github 桌面，它让一切变得毫不费力)</li><li id="0c5f" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">数据(例如，使用 DVC 与自动气象站 S3 后端，这是非常便宜和容易设置)</li></ul><h2 id="83f8" class="ni ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">将科学放回数据科学中</h2><ul class=""><li id="2de9" class="mq mr in ln b lo lp lr ls lu ny ly nz mc oa mg mv mw mx my bi translated">跟踪你的实验，并朝着你的成功指标前进(例如，MLFlow 很棒——你可以使用<a class="ae ks" href="https://github.com/JuliaAI/MLFlowClient.jl" rel="noopener ugc nofollow" target="_blank"> MLFlowClient.jl </a>或<a class="ae ks" href="https://dvc.org/doc/use-cases/experiment-tracking" rel="noopener ugc nofollow" target="_blank"> DVC 实验跟踪</a>)</li></ul><h2 id="ba9d" class="ni ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">发布精美的报告和演示文稿</h2><ul class=""><li id="73d8" class="mq mr in ln b lo lp lr ls lu ny ly nz mc oa mg mv mw mx my bi translated">永远没有足够的评论和工件来描述你所应用的逻辑，或者讨论报告和发现的报告(例如，使用 Literate.jl + Quarto)</li></ul><h2 id="aa35" class="ni ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">自动化您的工作流程</h2><ul class=""><li id="c692" class="mq mr in ln b lo lp lr ls lu ny ly nz mc oa mg mv mw mx my bi translated">本地:如果你经常在你的 shell 中重复一些命令，将它们封装到一个<a class="ae ks" href="https://opensource.com/article/18/8/what-how-makefile" rel="noopener ugc nofollow" target="_blank"> Makefile </a>中，或者在你的 shell 的配置文件中添加一个别名(参见文章#1)</li><li id="c069" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">在云上:Github Actions 或 Azure Pipelines 可以在每次推送时运行你的测试套件和任何其他检查。这对于打击那些需要很长时间才能浮出水面并且需要几分钟才能安装好的 bug 来说是无价的。</li></ul><p id="03e4" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">我见过使用但没有经验的荣誉奖:</p><ul class=""><li id="d150" class="mq mr in ln b lo mh lr mi lu ms ly mt mc mu mg mv mw mx my bi translated"><a class="ae ks" href="https://github.com/JuliaDynamics/DrWatson.jl" rel="noopener ugc nofollow" target="_blank"> DrWatson.jl </a>的广告词是“你科学探索的完美助手”。它已经被用于几个项目，包括英国的流行病学建模(<a class="ae ks" href="https://github.com/epimap/Epimap.jl-public" rel="noopener ugc nofollow" target="_blank"> Epimap.jl </a>)</li><li id="2424" class="mq mr in ln b lo mz lr na lu nb ly nc mc nd mg mv mw mx my bi translated">当你必须与一些远程源保持同步时</li></ul></div><div class="ab cl ob oc hr od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ig ih ii ij ik"><p id="a492" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="oi">原发布于</em><a class="ae ks" href="https://siml.earth/scratchpad/analysts_tips_for_beginnings5/" rel="noopener ugc nofollow" target="_blank"><em class="oi">https://siml . earth</em></a><em class="oi">。</em></p></div></div>    
</body>
</html>