<html>
<head>
<title>Understanding Lambda, Map, Filter and Reduce Function In Python By Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过实例理解Python中的Lambda、Map、Filter和Reduce函数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/understanding-lambda-map-filter-and-reduce-function-in-python-by-examples-eda4e6865f7?source=collection_archive---------12-----------------------#2020-06-08">https://blog.devgenius.io/understanding-lambda-map-filter-and-reduce-function-in-python-by-examples-eda4e6865f7?source=collection_archive---------12-----------------------#2020-06-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="cb1a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> L </strong> et me介绍我胖乎乎的小伙伴<a class="ae ki" href="https://en.wikipedia.org/wiki/Eric_Cartman" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kj">Eric Cartman</em></strong></a><em class="kj"/>来自<a class="ae ki" href="https://southpark.cc.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">南园</strong> </a>。<strong class="jm io"> <em class="kj">卡特曼</em> </strong>可爱，聪明，爱吃！他谈到了自己</p><blockquote class="kk kl km"><p id="2031" class="jk jl kj jm b jn jo jp jq jr js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kh ig bi translated">我不胖，我只是骨架大</p></blockquote><p id="d7b7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天他将帮助我们了解这些锋利的瑞士军刀在Python中的用法。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi kq"><img src="../Images/828d5cfcee3e3ab5f34919df0738f05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zvg_UVB7IlHm3Yw90yFKog.jpeg"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">南方公园的埃里克·卡特曼带着他的食物和肚子😊</figcaption></figure><p id="2067" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在Python中，我们更多地使用循环来处理像(列表、数组、元组)这样的可迭代对象。但是事情不只是简单的遍历一个iterable，我们需要扫描或聚集iterable中的数据，并使它们如我们所期望的那样可用。当我们不得不处理更大的Python脚本或代码库时，它们可能是重复的和令人不知所措的。</p><p id="7d32" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这三个功能</p><ul class=""><li id="bef1" class="lg lh in jm b jn jo jr js jv li jz lj kd lk kh ll lm ln lo bi translated"><strong class="jm io">地图</strong></li><li id="b8c1" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated"><strong class="jm io">滤镜</strong></li><li id="f8e5" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated"><strong class="jm io">减少</strong></li></ul><p id="20e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">帮助我们减少对for循环的依赖。</p><p id="4aef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们回到我们的朋友卡特曼，他去了一家餐馆，点了一些他喜欢的食物。我们可以在列表中显示它们-</p><pre class="kr ks kt ku gt lu lv lw lx aw ly bi"><span id="46bb" class="lz ma in lv b gy mb mc l md me">ordered_menu = ['pizza','pasta','chicken','burger','salad' ,'french fry']</span></pre><p id="c666" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，首先我们将使用for循环进行不同的操作</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi mf"><img src="../Images/f63e84d6574f4820d666d0420e5668fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eYCbatEsqRlDiM2A3UWU7Q.png"/></div></div></figure><p id="4bee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以看到卡特曼使用了</p><ul class=""><li id="67d1" class="lg lh in jm b jn jo jr js jv li jz lj kd lk kh ll lm ln lo bi translated">扫描菜单中蔬菜项目的第一个for循环</li><li id="a93e" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">第二个是用来把酱汁和菜单上的每一道菜混合在一起</li><li id="45c5" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">第三个用于计算项目的总价</li></ul><p id="1cc3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们将帮助Cartman用<strong class="jm io">映射、过滤、减少</strong>功能替换循环。</p><h1 id="a44f" class="mg ma in bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">过滤器</h1><p id="8e93" class="pw-post-body-paragraph jk jl in jm b jn nd jp jq jr ne jt ju jv nf jx jy jz ng kb kc kd nh kf kg kh ig bi translated">过滤函数基本上是这样写的</p><pre class="kr ks kt ku gt lu lv lw lx aw ly bi"><span id="1d0a" class="lz ma in lv b gy mb mc l md me">filter(function, iterable)</span></pre><p id="3ac2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我们需要一个函数和一个iterable。把这个函数想象成一个验证器。它将检查iterable的单个元素的某些标准，并返回<strong class="jm io"> True或False。<br/> </strong>所以我们的第一个for循环会是这样的</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi ni"><img src="../Images/3d627f3085613e687ec272ca178f9cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iK7dJrxlJ2d3x9lns2IQzw.png"/></div></div></figure><p id="4640" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请注意，filter返回一个值为<strong class="jm io"> True </strong>的对象，因此<strong class="jm io"> veg_foods </strong>是一个可迭代对象！</p><h1 id="1dfe" class="mg ma in bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated"><strong class="ak">地图</strong></h1><p id="052e" class="pw-post-body-paragraph jk jl in jm b jn nd jp jq jr ne jt ju jv nf jx jy jz ng kb kc kd nh kf kg kh ig bi translated"><strong class="jm io"> map </strong>函数将给定的函数应用于iterable的每一项，并返回结果列表。<strong class="jm io">映射</strong>功能<strong class="jm io"> </strong>的语法是<strong class="jm io"> </strong>如下</p><pre class="kr ks kt ku gt lu lv lw lx aw ly bi"><span id="c036" class="lz ma in lv b gy mb mc l md me">map(function, iterable)</span></pre><p id="2667" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以卡特曼的第二个循环现在会像这样</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi ni"><img src="../Images/26b48310ba6ddd9cb3505dd7dd65b88e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KBkid1CG3MnPbUJ2LcpzPQ.png"/></div></div></figure><p id="815f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> Map </strong>函数也产生一个iterable对象，我们用iterable做了一些改变。</p><h1 id="e93a" class="mg ma in bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">减少</h1><p id="5032" class="pw-post-body-paragraph jk jl in jm b jn nd jp jq jr ne jt ju jv nf jx jy jz ng kb kc kd nh kf kg kh ig bi translated">我们计算总价的最后一个循环可以用<strong class="jm io"> reduce </strong>函数代替。<strong class="jm io"/><strong class="jm io">减少</strong>功能可以写成和<strong class="jm io">贴图</strong>和<strong class="jm io">滤镜几乎一样。</strong>但是我们无法访问reduce函数，如map或filter，因为它是由Python中的<strong class="jm io"> functiontools </strong>模块提供的</p><pre class="kr ks kt ku gt lu lv lw lx aw ly bi"><span id="424b" class="lz ma in lv b gy mb mc l md me">reduce(function, iterable)</span></pre><p id="acdd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以<strong class="jm io"> reduce </strong>函数需要两个参数，一个是<strong class="jm io">函数</strong>，另一个是iterable。这个函数需要两个参数。第一个是<code class="fe nj nk nl lv b">iterable</code>中的第一个元素(如果<code class="fe nj nk nl lv b">initial</code>未提供)，第二个是<code class="fe nj nk nl lv b">iterable</code>中的第二个元素。如果提供了<code class="fe nj nk nl lv b">initial</code>，那么它将成为<code class="fe nj nk nl lv b">func</code>的第一个参数，而<code class="fe nj nk nl lv b">iterable</code>中的第一个元素将成为第二个元素。</p><p id="89d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">减少</strong>功能<strong class="jm io"> </strong>减少(我知道，原谅我)<code class="fe nj nk nl lv b">iterable</code>成单一值。这就是它如此命名的原因！</p><p id="df90" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以卡特曼的第三个循环看起来像这样</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi nm"><img src="../Images/8eaa6bfabfc727fb6c14c68766927615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PE9D3DF1CxJnx2N1FHb2bg.png"/></div></div></figure><h1 id="5b46" class="mg ma in bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated"><strong class="ak">λ函数</strong></h1><p id="d05b" class="pw-post-body-paragraph jk jl in jm b jn nd jp jq jr ne jt ju jv nf jx jy jz ng kb kc kd nh kf kg kh ig bi translated"><strong class="jm io"> Lambda </strong>函数是匿名函数，可以支持一个或多个参数，声明后可以立即调用。我们可以用<strong class="jm io"> lambda函数</strong>来重写<strong class="jm io"> map、filter、</strong>和<strong class="jm io"> reduce </strong>函数，以更加Pythonic化的方式。让我们写吧</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi mf"><img src="../Images/20832c5b66c0245f602edf88554ffd0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u77uu9b4oQOx0wMVeyRumA.png"/></div></div></figure><p id="5a6d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这使得我们的代码更短更干净。</p><h1 id="8c71" class="mg ma in bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">结论</h1><p id="7638" class="pw-post-body-paragraph jk jl in jm b jn nd jp jq jr ne jt ju jv nf jx jy jz ng kb kc kd nh kf kg kh ig bi translated">上述函数将帮助我们减少代码中重复循环的依赖性。当你需要循环的时候就使用它们，但是当涉及到过滤项目或者聚合或者对一个iterable中的所有元素进行操作的时候，你为什么不利用Python提供的这些功能呢！</p><blockquote class="kk kl km"><p id="5b39" class="jk jl kj jm b jn jo jp jq jr js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kh ig bi translated"><strong class="jm io"> <em class="in">为什么我有翅膀能飞还需要脚</em> </strong> <em class="in">？<br/> — </em> <strong class="jm io"> <em class="in"> </em> </strong>墨西哥艺术家弗里达·卡罗</p></blockquote><p id="5b2d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是的，但是你仍然需要脚走路😆<br/>当你需要走路时，只需使用环即可！当你有了飞翔的环境，你可以使用<strong class="jm io">贴图、过滤、减少和lambda函数</strong>作为你的翅膀！</p></div></div>    
</body>
</html>