# 减少 iOS 的 Xcode 构建时间

> 原文：<https://blog.devgenius.io/reduce-xcode-build-time-for-ios-bf43d3ca4ab8?source=collection_archive---------1----------------------->

## 使用不同的工具和技巧，从 Xcode 构建，减少 iOS 构建/编译时间的技巧和建议

![](img/17ccedf59e3814891b75ecbdf8fa0d33.png)

照片由 [Pexels](https://www.pexels.com/photo/person-encoding-in-laptop-574071/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) 的 [Lukas](https://www.pexels.com/@goumbik?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) 拍摄

有很多方法可以减少 iOS 应用程序的构建时间，也可以提高代码质量和创建可重用的模块。让我们来看看可能的方法列表:

## 将应用程序拆分成模块

这是缩短编译时间的最好方法之一。对于大型项目，你需要考虑一个架构，应用程序使用不同的模块，而不是将所有代码放在同一个项目中。

在本教程中，我们有一个银行应用程序，其中有一些 API 调用来检索您的信用卡和其他银行操作。该应用程序还可以扫描卡片，自动检索卡号、有效期和持卡人姓名。

这里的想法是创建一个工作区，而不是一个项目，并创建我们可以用于特定原因的模块。对于这个项目，一个想法是将网络部分(API 调用机制)、信用卡读卡器和主项目分开。这样，如果你在主项目中做了一个改变，其他两个模块将不会被再次编译。

将应用程序拆分成模块的好处不仅在于减少编译时间，还在于可以在其他项目中重用这些模块，只需导入它们，而不必在每次需要时进行复制/粘贴。

## 移除不必要的豆荚

不要添加您将用于小任务的吊舱。例如，如果您需要处理简单的 http 请求，您不必将 Alamofire 导入到您的项目中，因为您可以使用单个文件/类来实现这一点。你也可以阅读我写的一篇关于如何做到这一点的文章。

[](/create-your-own-service-manager-without-using-alamofire-in-swift-1af5d5440461) [## 无需使用 Swift 中的 Alamofire 即可创建自己的服务经理

### 调用 swift-iOS 项目中任何 API 的简单方法，无需使用第三方库

blog.devgenius.io](/create-your-own-service-manager-without-using-alamofire-in-swift-1af5d5440461) 

## 使用私有 IBOutlets (Swift)

当你创建一个新的 UIViewController 并且你有一些像 UIButtons 或者 UILabels 这样的 IBOutlets 的时候，你应该把它们设置成私有的(默认情况下它们是公共的)。在大多数情况下，插座不会在其他类中使用，而只会在您各自的 UIViewController 中使用。减少公共对象可以减少编译时间。

## 删除不必要的页眉。h 文件(仅适用于 Objective-C)

当您的项目在 objective-c 中开发时，您需要导入。h 文件放入您的。m 文件来导入您需要的对象，但是通常它会导入比您真正需要的更多的东西。例如，不要在。h 文件，但使用。而是 m(它将只为该文件编译它)。也不要添加任何仅包含您的。m 文件需要在。h 文件。

## 删除未使用的文件

试着删除所有你不再需要的文件。这些文件可能是一个未使用的类、一个旧资产(不再使用的图像)或您不再使用的被遗忘的功能

## 添加 SwiftLint

SwiftLint 是一个用于 iOS 应用程序的库，你可以有一些关于你的项目的规则(这些规则可以是像一个函数不应该超过 40 行，或者一个函数的复杂度不超过 10 行等等)。你也可以添加关于编码标准的规则，比如属性命名，逗号后面的空格以及其他一些东西。导入该库可能会增加您的构建时间，但是对于大型项目，您可能会有好处(可能会减少编译时间),因为该工具可以为您提供一些建议，比如减少文件中的代码(意味着减少编译时间)以及删除所有不使用的函数。

## 禁用 DSYM 生成

这个只适用于模拟器版本。您需要更改模拟器 SDK(项目和 pods)的设置，只输出 dwarf。

## Swift 扩展

当你创建一个新的扩展时，它默认是公共的。这可能会增加编译时间，因为每个 swift 类都应该/可以使用它。避免创建只在代码的一部分中使用的扩展。虽然您可以创建扩展名，但在应该使用该扩展名的文件中将其声明为 private 不失为一个好主意。

## 指定类型

如果你不这样做，编译器会帮你做，这会增加编译时间。例如，如果您有一个浮点数，请执行以下操作:

> *let number = 10
> let number:CG float = 10*

## 脚本

避免故事板里面有很多 UIViewControllers。相反，你可以尝试为每个“故事”创建一个新的故事板。例如，如果你有一个有注册流程、登录和仪表板的应用程序，你可以把它们分成 3 个不同的故事板

## 使用代码而不是故事板或 xib

这并不总是一个好的做法，因为如果你在代码中而不是在故事板中看到它们，理解 UI 可能会更困难，但是对于非常简单的 UI(例如只有 webview 的视图控制器)，你可以简单地从代码中完成，而不是只为 UI 创建一个新文件。

感谢阅读，请评论其他提示或建议！