# 用抽象管理代码依赖，减少变更的影响

> 原文：<https://blog.devgenius.io/manage-code-dependencies-with-abstractions-and-reduce-the-effects-of-change-3acbd67c0dd0?source=collection_archive---------1----------------------->

## 管理变化或者它管理你

![](img/201aca26931f5779b60c0b04d93454bf.png)

来自 [Pexels](https://www.pexels.com/photo/gray-metal-cubes-decorative-1005644/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels) 的照片 [Oleg Magni](https://www.pexels.com/@oleg-magni?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)

> "编程语言是一种对我们的思维习惯有深远影响的工具."Ew Dijkstra

抽象是一个很难理解的概念，理解如何使用它需要时间和经验。

我使用了接口和抽象类，但是直到最近我才明白抽象对于代码设计的一些好处。理解抽象是如何工作的，有助于理解设计模式，并看到良好编码实践的好处。

这种理解是通过阅读(在某些情况下重读)下面提到的这本书的不同部分得到的

*   代码完成 2
*   干净的代码
*   头先设计模式
*   设计模式——可重用面向对象软件的要素
*   南外观设计原则

头先设计模式提到了这些设计原则，这解释了好的面向对象设计的好处

*   封装变化的内容
*   重组合轻继承
*   编程面向接口，而不是实现
*   努力实现交互对象之间的松散耦合设计
*   依赖于抽象。不依赖于具体的类

# 知识就像拼图游戏

当学习新的想法和概念时，你可以得到部分的理解，其中一部分是清楚的，而其他部分可能是模糊的。我认为信息/想法具有三维属性，当你从不同的角度看待信息/想法时，它突然变得有意义。

[这篇](http://www.freepatentsonline.com/article/ETC-Review-General-Semantics/19726510.html)文章谈论了作为知识的隐喻，就像拼图游戏一样

随着更多的拼图碎片就位，你的理解也在增长

# 什么是抽象？

在从编码的角度看抽象之前，什么是抽象的一般定义，Wiki 有几个定义

[http://en.wikipedia.org/wiki/Abstraction](http://en.wikipedia.org/wiki/Abstraction)

> ***概念抽象可以通过过滤* [*信息*](http://en.wikipedia.org/wiki/Information) *内容* [*概念*](http://en.wikipedia.org/wiki/Concept) *或可观察的* [*现象*](http://en.wikipedia.org/wiki/Phenomenon) *来形成，只选择与特定目的相关的方面。例如，将一个皮革足球抽象成一个更一般的概念的* [*球*](http://en.wikipedia.org/wiki/Ball) *只选择关于一般球属性和行为的信息，消除了那个特定球*的其他特征**

**[抽象—计算机科学](http://en.wikipedia.org/wiki/Abstraction_(computer_science))**

> ***在* [*计算机科学中*](http://en.wikipedia.org/wiki/Computer_science) *，* ***抽象*** *是一种管理计算机系统复杂性的技术。它的工作原理是建立一个人与系统交互的复杂级别，将更复杂的细节抑制在当前级别之下***
> 
> ***当抽象进行到被定义的操作中，使得不同类型的对象可以被替换，这就是所谓的* [*多态*](http://en.wikipedia.org/wiki/Polymorphism_(computer_science)) *。当它以相反的方向前进时，在类型或类内部，将它们结构化以简化一组复杂的关系，它被称为* [*委托*](http://en.wikipedia.org/wiki/Delegation_(programming)) *或* [*继承*](http://en.wikipedia.org/wiki/Inheritance_(computer_science)) *。***

**代码完成 2 给出了什么是抽象的清晰定义**

> **抽象是以简化的形式看待复杂操作的能力。类接口提供了隐藏在接口后面的实现的抽象**

# **什么是抽象？**

**抽象在日常语言中经常使用，我们在谈论很多事情时使用抽象，例如**

*   **椅子**
*   **桌子**
*   **计算机**
*   **手机**

**这些是每个人都理解的抽象概念，但人们没有手机，他们有手机的确切型号，但大多数人不会通过手机的抽象型号来谈论确切型号。**

**手机有一些核心数据**

*   **套环**
*   **屏幕**
*   **按钮**
*   **MICROPHONE 的简称**
*   **扬声器**

**手机是一个抽象类的好例子，它可以被一个真实的实例继承，从而增加更多的功能。**

# **为什么理解抽象很重要**

**抽象有助于隐藏具体的代码，这些代码会随着抽象而改变，比如接口和抽象类，它们不太可能改变。**

**使用抽象限制代码中的依赖性，减少依赖性意味着减少代码中变化的影响。**

**开发人员在编写代码时的两个关键长期目标**

1.  **增加代码的可读性**
2.  **最小化依赖性，减少变化的影响**

**这些都是长期的好处，使维护更容易，并避免可怕的遗留代码。**

# **理解抽象**

**抽象是许多面向对象设计原则背后的关键原则之一，例如**

*   **遗产**
*   **多态性**
*   **作文**
*   **抽象的好处**
*   **代码很容易理解**
*   **管理变化和变化的影响**
*   **创建内聚代码——它找到公共字段**
*   **产生松散耦合**

**抽象将概念提炼为它们的核心价值，将想法剥离为抽象想法的基础。它留下了一个想法的普通细节。**

**抽象使得理解代码更容易，因为它集中于核心特性/动作，而不是小细节。**

**当阅读这两个 OO 设计原则时，我的理解开始增长**

*   **封装变化的内容**
*   **编程面向接口，而不是实现。**

# **如何找到抽象？**

**在博客文章[如何找到类](https://crmbusiness.wordpress.com/2015/07/17/how-to-find-classes/)中，我谈到了如何找到类，找到抽象是一个类似的练习。常见的抽象是**

*   **名词——事物、人、系统**
*   **动词**
*   **类型**
*   **行为**
*   **是一种继承**
*   **有—行为**

**动作/动词通常是抽象的，例如绘图、验证、处理、路由。**

**当我提到类型时，我指的是**

**抽象在生活中很有用**

**你经常提到，人们一直在使用抽象**

*   **计算机**
*   **椅子**
*   **人**
*   **汽车**

**你不要谈论与众不同的汽车类型，而是笼统地说汽车，人们会明白你在说什么。**

**同样的想法也可以用在你的代码设计中。您会发现一些常见的操作，如验证、绘制、更新和异常。常见的动作是接口，具体的类可以隐藏在它后面。**

**异常是一个很好的例子，你有一个核心异常，然后独特的异常扩展它。**

**例外是抽象，InvalidPluginExecutionException、NullReferenceException 等是实现的具体类。**

# **例子**

**我写了一些代码，当状态改变时会被触发，根据特定的值，会有不同的路径，有很多不同的路径**

**抽象就是 Route，我把它做成一个接口，然后通过系统中许多不同的 Route 来实现它。如果用户想要更多的路线，代码会封装变化的内容。**

**一半的代码使用接口路由，添加更多路由的任何更改都意味着使用接口的代码需要更改或受更改的影响。**

# **为什么抽象如此重要**

**抽象有助于创建设计良好的代码。**

**代码很容易理解，因为如果你已经掌握了正确的抽象，代码在做什么是显而易见的。**

**抽象有助于创建松散耦合的代码。原因是抽象就像一个类型，封装了抽象类/接口背后的潜在变化。**

**要理解为什么这很重要，你需要理解以下陈述**

# ****编码到一个接口，而不是一个具体的类****

**一个经典的抽象是创建一个数据库层，一个抽象类或接口，它是用户与数据库交互的代码部分。**

**抽象将变化的影响最小化，因为与接口交互的代码不会受到实现/具体类变化的影响。将来代码可能会改变，并且会添加更多的类型。**

**添加更多类型不会影响任何只与接口交互的代码。**

**这让我很好地理解了设计原则**

****封装什么变什么****

**商业规则或算法就是一个很好的例子。当你有一个行为或类型时，你就有了一个抽象。使用抽象类将管理变更的效果，并创建一个松散耦合的系统来管理变更的效果。**

# **理解抽象需要时间**

**抽象随处可见，因为它们让生活变得更简单**

*   **共同语**
*   **南国际劳工组织原则**
*   **设计模式**
*   **设计原则**

**直到我开始理解“封装变量”和“接口编码”这两个术语，我才慢慢明白抽象是如何让组织代码/减少依赖性变得更容易的。通过抽象类和接口的抽象有助于管理变更和减少变更带来的错误。**

**设计不佳的代码会产生变化，因为它很脆弱。更改一个代码会导致不相关的代码中断。这种突然决裂的原因是依赖。**

**抽象(接口/抽象类)减少了依赖性，抽象成为依赖性和变化的障碍。**

**学习设计模式和优秀的代码将帮助你理解如何使用抽象。下面的两本书是关于设计模式入门的好书，我投票给 Head First 设计模式，因为它更容易阅读。**

*   **[头先设计图案](http://www.amazon.co.uk/gp/product/0596007124/ref=as_li_tl?ie=UTF8&camp=1634&creative=19450&creativeASIN=0596007124&linkCode=as2&tag=hsdcb-21)**
*   **[设计模式:可复用面向对象软件的要素](http://www.amazon.co.uk/gp/product/0201633612/ref=as_li_tl?ie=UTF8&camp=1634&creative=19450&creativeASIN=0201633612&linkCode=as2&tag=hsdcb-21)**

# **摘要**

**在设计你的代码时，抽象是一个便于理解的工具，它使维护代码更容易，提高可读性，减少依赖性。**

**[原帖](https://crmbusiness.wordpress.com/2015/08/12/why-understanding-abstractions-helps-you-write-better-code/)**