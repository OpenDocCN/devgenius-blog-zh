<html>
<head>
<title>How to Store JSON in Database Laravel 9</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在数据库 Laravel 9 中存储 JSON</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-store-json-in-database-laravel-9-8f64a7202ccf?source=collection_archive---------0-----------------------#2022-07-13">https://blog.devgenius.io/how-to-store-json-in-database-laravel-9-8f64a7202ccf?source=collection_archive---------0-----------------------#2022-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3be675c5330321a7cf5795b0393bff37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5xPexWfYOcxSkC9Wt-_F7g.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><strong class="bd kc">如何在数据库 Laravel 9 中存储 JSON</strong></figcaption></figure><p id="f022" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">今天我们将学习<strong class="kf ir">如何在数据库 Laravel 9 </strong>中存储 JSON。本教程将介绍如何在 laravel 9 中将 JSON 值存储到数据库中。</p><p id="36b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是大数据或不固定的列，那么你不能创建太多的字段来保存数据到数据库。然后，您必须将值保存到数据库中的 JSON 中。这种方式可以平稳地加载数据库，而不必加载到数据库中。</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><a href="https://www.cloudways.com/en/?id=1278547&amp;data1=medium"><div class="gh gi lb"><img src="../Images/0052d13ee0e1887fb89fc011c5282bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GogyJLdJ0kULiWQF.jpg"/></div></a></figure><h1 id="46cd" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">如何在数据库 Laravel 9 中存储 JSON 的步骤:</h1><ul class=""><li id="c7ea" class="md me iq kf b kg mf kk mg ko mh ks mi kw mj la mk ml mm mn bi translated"><strong class="kf ir">步骤 1: </strong>安装新的 Laravel 9 应用程序</li><li id="bd08" class="md me iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated"><strong class="kf ir">步骤 2: </strong>创建数据库和迁移</li><li id="e14d" class="md me iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated"><strong class="kf ir">第三步:</strong>创建模型</li><li id="0ba2" class="md me iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated"><strong class="kf ir">步骤 4: </strong>创建路线</li><li id="e8f4" class="md me iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated"><strong class="kf ir">步骤 5: </strong>创建控制器</li><li id="14f3" class="md me iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated"><strong class="kf ir">第六步:</strong>测试</li><li id="e905" class="md me iq kf b kg mo kk mp ko mq ks mr kw ms la mk ml mm mn bi translated"><strong class="kf ir">第七步:</strong>结论</li></ul><p id="0655" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">也可阅读:</strong> <a class="ae mt" href="https://laraveltuts.com/create-ajax-crud-laravel-9-application-example/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">创建 Ajax CRUD Laravel 9 应用示例</strong> </a></p><h1 id="3a15" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">步骤 1:安装新的 Laravel 9 应用程序</h1><p id="a6a3" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">首先，我们将安装一个全新的 laravel 9 应用程序。要安装 laravel 9 应用程序，请在终端中运行以下命令。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="fcb3" class="nc lh iq my b gy nd ne l nf ng">composer create-project laravel/laravel save-json-app</span><span id="6459" class="nc lh iq my b gy nh ne l nf ng">cd save-json-app</span></pre><p id="fcc7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">注:</strong><strong class="kf ir">save-JSON-app</strong>为 laravel 9 应用名称。</p><h1 id="26db" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">步骤 2:创建数据库和迁移</h1><p id="e8e8" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">现在，我们将创建一个数据库。打开<strong class="kf ir"> phpmyadmin </strong>并创建一个名为<strong class="kf ir"> save-json-app </strong>的新数据库。</p><p id="38bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将数据库详细信息输入到<strong class="kf ir">。如下面的代码所示。</strong></p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="c56e" class="nc lh iq my b gy nd ne l nf ng">DB_CONNECTION=mysql<br/>DB_HOST=127.0.0.1<br/>DB_PORT=3306<br/>DB_DATABASE=save-json-app<br/>DB_USERNAME=root<br/>DB_PASSWORD=</span></pre><p id="9d73" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们将创建带有标题和数据(作为 json)列的<strong class="kf ir">项</strong>迁移。要创建迁移，请在终端中运行以下命令。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="0607" class="nc lh iq my b gy nd ne l nf ng">php artisan make:migration create_items_table</span></pre><p id="0cbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，打开可以在<strong class="kf ir">数据库/迁移</strong>文件夹中找到的项目迁移文件，并更新以下代码。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="cd00" class="nc lh iq my b gy nd ne l nf ng">&lt;?php<br/>  <br/>use Illuminate\Database\Migrations\Migration;<br/>use Illuminate\Database\Schema\Blueprint;<br/>use Illuminate\Support\Facades\Schema;<br/>  <br/>return new class extends Migration<br/>{<br/>    /**<br/>     * Run the migrations.<br/>     *<br/>     * @return void<br/>     */<br/>    public function up()<br/>    {<br/>        Schema::create('items', function (Blueprint $table) {<br/>            $table-&gt;id();<br/>            <strong class="my ir">$table-&gt;string('title');<br/>            $table-&gt;json('data')-&gt;nullable();</strong><br/>            $table-&gt;timestamps();<br/>        });<br/>    }<br/>  <br/>    /**<br/>     * Reverse the migrations.<br/>     *<br/>     * @return void<br/>     */<br/>    public function down()<br/>    {<br/>        Schema::dropIfExists('items');<br/>    }<br/>};</span></pre><p id="5222" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在运行迁移来创建一个项目表。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="361a" class="nc lh iq my b gy nd ne l nf ng">php artisan migrate</span></pre><p id="cd4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">也可阅读:</strong> <a class="ae mt" href="https://laraveltuts.com/how-to-create-rss-feed-in-laravel-9-example/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">如何在 Laravel 9 中创建 RSS Feed 示例</strong> </a></p><h1 id="c425" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">步骤 3:创建模型</h1><p id="5c57" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">现在，我们将创建一个项目模型。要创建项目模型，请在终端中运行以下命令。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="7a0d" class="nc lh iq my b gy nd ne l nf ng">php artisan make:model Item</span></pre><p id="3de4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开<strong class="kf ir">item.php</strong>文件，该文件可以在<strong class="kf ir"> App/Models/ </strong>中找到，并更新以下代码。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="9b7a" class="nc lh iq my b gy nd ne l nf ng">&lt;?php<br/>  <br/>namespace App\Models;<br/>  <br/>use Illuminate\Database\Eloquent\Factories\HasFactory;<br/>use Illuminate\Database\Eloquent\Model;<br/>use Illuminate\Database\Eloquent\Casts\Attribute;<br/>  <br/>class Item extends Model<br/>{<br/>    use HasFactory;<br/>  <br/>    /**<br/>     * Write code on Method<br/>     *<br/>     * @return response()<br/>     */<br/>    protected $fillable = [<br/>        'title', 'data' <br/>    ]; <br/>  <br/>    /**<br/>     * Get the user's first name.<br/>     *<br/>     * @return \Illuminate\Database\Eloquent\Casts\Attribute<br/>     */<br/>    protected function data(): Attribute<br/>    {<br/>        return Attribute::make(<br/>            get: fn ($value) =&gt; json_decode($value, true),<br/>            set: fn ($value) =&gt; json_encode($value),<br/>        );<br/>    } <br/>}</span></pre><h1 id="e711" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">步骤 4:创建路线</h1><p id="9cda" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">现在我们要创建路线。输入以下路线到<strong class="kf ir"> routes/web.php </strong></p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="8c82" class="nc lh iq my b gy nd ne l nf ng">&lt;?php<br/> <br/>use Illuminate\Support\Facades\Route;<br/>use App\Http\Controllers\ItemController;<br/>   <br/>/*<br/>|--------------------------------------------------------------------------<br/>| Web Routes<br/>|--------------------------------------------------------------------------<br/>|<br/>| Here is where you can register web routes for your application. These<br/>| routes are loaded by the RouteServiceProvider within a group which<br/>| contains the "web" middleware group. Now create something great!<br/>|<br/>*/<br/>     <br/>Route::get('item', [ItemController::class, 'index']);</span></pre><p id="7ff0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">也读作:</strong> <a class="ae mt" href="https://laraveltuts.com/ajax-file-upload-with-progress-bar-in-laravel-9-example/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Ajax 文件上传带进度条的 Laravel 9 例子</strong> </a></p><h1 id="ee8f" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">步骤 5:创建控制器</h1><p id="914f" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">最后一步是创建一个<strong class="kf ir">ItemController.php</strong>。在<strong class="kf ir"> app/Http/Controllers </strong>中创建一个新文件<strong class="kf ir">ItemController.php</strong>，并向 controller 输入以下代码。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="6bdd" class="nc lh iq my b gy nd ne l nf ng">&lt;?php<br/>  <br/>namespace App\Http\Controllers;<br/>  <br/>use Illuminate\Http\Request;<br/>use App\Models\Item;<br/>  <br/>class ItemController extends Controller<br/>{<br/>    /**<br/>     * Write code on Method<br/>     *<br/>     * @return response()<br/>     */<br/>    public function index()<br/>    {<br/>        $input = [<br/>            'title' =&gt; 'Demo Title',<br/>            'data' =&gt; [<br/>                '1' =&gt; 'One',<br/>                '2' =&gt; 'Two',<br/>                '3' =&gt; 'Three'<br/>            ]<br/>        ];<br/>  <br/>        $item = Item::create($input);<br/>  <br/>        dd($item-&gt;data);<br/>  <br/>    }<br/>}</span></pre><h1 id="a5b6" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第六步:测试</h1><p id="96a6" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">现在，是时候测试我们的 laravel 应用程序了。首先通过运行以下命令启动 laravel 服务器。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="97a2" class="nc lh iq my b gy nd ne l nf ng">php artisan serve</span></pre><p id="9bf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并在任何 web 浏览器中打开以下 URL。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="832f" class="nc lh iq my b gy nd ne l nf ng"><a class="ae mt" href="http://127.0.0.1:8000/item" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/item</a></span></pre><p id="3e83" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">也可理解为:</strong><a class="ae mt" href="https://laraveltuts.com/datatables-filter-with-dropdown-in-laravel-9-example/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">Laravel 9 示例</strong> </a>中带下拉菜单的数据表过滤器</p><p id="7fee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以看到数据库输出和打印变量输出:</p><p id="def8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">数据库输出:</strong></p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/52d1c4e7ca826d3bb6882ba51b150619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EwxmF_asx2w53-0bSd82yg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><strong class="bd kc">如何在数据库 Laravel 9 中存储 JSON</strong></figcaption></figure><p id="f1ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">输出:</strong></p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="26da" class="nc lh iq my b gy nd ne l nf ng">array:3 [<br/>  1 =&gt; "One"<br/>  2 =&gt; "Two"<br/>  3 =&gt; "Three"<br/>]</span></pre><h1 id="7b16" class="lg lh iq bd kc li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">第七步:结论</h1><p id="ac11" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">今天，我们学习了如何在数据库 Laravel 9 中存储 JSON。希望这篇教程对你学习 Laravel 9 有所帮助。如果你有任何问题，你可以在下面的评论区问我们。如果你喜欢教程，请订阅我们的<a class="ae mt" href="https://www.youtube.com/channel/UCwIbFoGoht3Dom9Q1NkOS3A" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> YouTube 频道</strong> </a>并在社交网络<a class="ae mt" href="https://www.facebook.com/laraveltutscom" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">脸书</strong> </a>和<a class="ae mt" href="https://www.instagram.com/laraveltuts/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Instagram </strong> </a>上关注我们。</p><p id="942b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">也读作:</strong> <a class="ae mt" href="https://laraveltuts.com/create-react-js-crud-using-vite-in-laravel-9-example/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">在 Laravel 9 示例中使用 Vite 创建 React JS CRUD</strong></a></p><p id="733b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nj">2022 年 7 月 13 日，原载于</em><a class="ae mt" href="https://laraveltuts.com/how-to-store-json-in-database-laravel-9/" rel="noopener ugc nofollow" target="_blank"><em class="nj"/></a>4 分钟读完</p></div></div>    
</body>
</html>