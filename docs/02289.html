<html>
<head>
<title>The Technology Behind The Spotify Wrapped Feature</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spotify打包功能背后的技术</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-technology-behind-spotify-wrapped-2019-dce9e129265f?source=collection_archive---------3-----------------------#2020-07-27">https://blog.devgenius.io/the-technology-behind-spotify-wrapped-2019-dce9e129265f?source=collection_archive---------3-----------------------#2020-07-27</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><p id="e72a" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">听音乐已经成为我们生活中不可或缺的一部分，在过去的几十年里，听音乐已经有了长足的进步。你不得不购买黑胶唱片、卡带和CD(我过去收集了很多)，你们中的一些人甚至购买数字下载(Eminem、Green Day和其他当时流行的音乐)的日子已经一去不复返了，现在你所要做的就是下载一个可以在一天中任何时候播放的应用程序，同时将设备放在口袋中。这种应用程序只不过是音乐流媒体服务，让你通过支付会员费来获得数百万首歌曲，会员费按月或按年开具发票，因此你不必购买单首歌曲或专辑。</p><figure class="kn ko kp kq gu kr gi gj paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gi gj km"><img src="../Images/e305706335e196c244dd700bc9875654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iIYoXGHmRhDrM2DN1QfnsQ.jpeg"/></div></div><figcaption class="ky kz gk gi gj la lb bd b be z dk translated">雷切尔·勒奈特·弗伦奇在<a class="ae lc" href="https://unsplash.com/s/photos/concert?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3275" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated"><a class="ae lc" href="https://www.spotify.com/uk/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq is"> Spotify </strong> </a>可能是目前最好的音乐流媒体服务(至少对大多数人来说<em class="ld"/>)。嗯，还有其他大玩家，如<a class="ae lc" href="https://www.apple.com/music/" rel="noopener ugc nofollow" target="_blank"><strong class="jq is">Apple Music</strong></a><strong class="jq is"/><a class="ae lc" href="https://www.amazon.com/music/unlimited" rel="noopener ugc nofollow" target="_blank"><strong class="jq is">Amazon Music Unlimited</strong></a><strong class="jq is"/>和<a class="ae lc" href="https://www.youtube.com/musicpremium" rel="noopener ugc nofollow" target="_blank"> <strong class="jq is"> YouTube Music </strong> </a>但Spotify的票价比竞争对手好，至少根据这篇<a class="ae lc" href="https://www.cnet.com/how-to/best-music-streaming-service-for-2020-spotify-apple-music-amazon-tidal-and-youtube/" rel="noopener ugc nofollow" target="_blank">文章</a>。</p><figure class="kn ko kp kq gu kr gi gj paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gi gj le"><img src="../Images/bddc3d4139ab36b7c1275282c754c616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ujatwaIo_dTsz5d792-_Rw.jpeg"/></div></div><figcaption class="ky kz gk gi gj la lb bd b be z dk translated">照片由<a class="ae lc" href="https://unsplash.com/@barncreative?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">法比奥·阿尔维斯</a>在<a class="ae lc" href="https://unsplash.com/s/photos/spotify?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="ab44" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">众所周知，<strong class="jq is"> Spotify自2016年2月以来一直是</strong> <a class="ae lc" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq is">谷歌云平台</strong> </a>的 <strong class="jq is">最大客户之一，而在2018年，Spotify披露将在未来三年内为其谷歌云基础设施投资至少4.5亿美元。这是当时一家音乐流媒体服务公司的巨额投资。</strong></p><figure class="kn ko kp kq gu kr"><div class="bz fq l di"><div class="lf lg l"/></div><figcaption class="ky kz gk gi gj la lb bd b be z dk translated">Spotify从内部到云的旅程</figcaption></figure><p id="c71a" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated"><em class="ld">2019年12月，Spotify放弃了</em> <a class="ae lc" href="http://spotify.com/wrapped" rel="noopener ugc nofollow" target="_blank"> <em class="ld">包装</em> </a> <em class="ld">功能，作为给其用户的提前圣诞礼物。这个功能可以让用户回顾他们的收听习惯。还有一个新的<a class="ae lc" href="https://newsroom.spotify.com/2019-12-03/the-top-songs-artists-playlists-and-podcasts-of-2019-and-the-last-decade/" rel="noopener ugc nofollow" target="_blank">十年包装</a>功能，展示过去10年人们收听的歌曲、专辑、艺术家和播客。</em></p><blockquote class="lh"><p id="ed6c" class="li lj ir bd lk ll lm ln lo lp lq kl dk translated"><em class="lr">“从2010年到2019年，你可能会发现新的音乐和播客，重新爱上旧的最爱，甚至可能会喜欢上一两种新的风格。这就是为什么今年，我们不仅带回了你的年度个性化</em> <strong class="ak"> <em class="lr"> Spotify包装</em> </strong> <em class="lr">，而且我们还展示了我们的用户在过去十年中的收听情况。”— Spotify </em></p></blockquote><p id="e4ac" class="pw-post-body-paragraph jo jp ir jq b jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh lw kj kk kl ik bi translated"><strong class="jq is">2019年，Spotify运行了有史以来最大的</strong> <a class="ae lc" href="https://thedeveloperstory.com/2020/07/24/cloud-dataflow-a-unified-model-for-batch-and-streaming-data-processing/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq is">谷歌云数据流</strong> </a> <strong class="jq is">管道作业。</strong>这使他们能够以更少的运营开销实现大规模扩展。Google在2015年初发布了<a class="ae lc" href="http://www.vldb.org/pvldb/vol8/p1792-Akidau.pdf" rel="noopener ugc nofollow" target="_blank"> Cloud Dataflow </a>，作为基于Google内部两个系统的云产品，用于批处理和流数据处理。Dataflow为批处理和流式传输引入了一个统一的模型，它整合了来自这些先前系统的想法，Google后来将该模型和<a class="ae lc" href="https://beam.apache.org/documentation/sdks/" rel="noopener ugc nofollow" target="_blank"> SDK代码</a>作为<a class="ae lc" href="https://beam.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Beam </a>捐赠给了Apache Software Foundation。</p><figure class="kn ko kp kq gu kr gi gj paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gi gj lx"><img src="../Images/6cc006d838bcf760ccf6fe93bc5fe504.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*12W51tTOMEq6JipB"/></div></div><figcaption class="ky kz gk gi gj la lb bd b be z dk translated">谷歌云中的Spotify。图片来源:Pinterest</figcaption></figure><p id="56a9" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated"><em class="ld"> Spotify已经为</em><strong class="jq is"><em class="ld">Apache Beam</em></strong><em class="ld">和</em><strong class="jq is"><em class="ld">Google Cloud data</em></strong><em class="ld">构建并开源了一个大数据处理Scala API，名为</em><a class="ae lc" href="https://github.com/spotify/scio" rel="noopener ugc nofollow" target="_blank"><strong class="jq is"><em class="ld">Scio</em></strong></a><strong class="jq is"><em class="ld">。Spotify Wrapped 2019包括年度和十年的列表，Spotify表示，他们与谷歌云的工程团队和专家密切合作，并从他们以前的错误中吸取教训，这有助于他们完成他们有史以来最复杂的工作之一。</em></strong></p><p id="c44f" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated"><em class="ld">除了数据流之外，Spotify还使用了一种技术，其中使用了</em><a class="ae lc" href="https://cloud.google.com/bigtable/docs/overview" rel="noopener ugc nofollow" target="_blank"><strong class="jq is"><em class="ld">Bigtable</em></strong></a><em class="ld">，这是以非常低的延迟存储大量单键数据的理想选择。</em>这导致了显著的成本节约，该团队开发了许多工具，这些工具至今仍在使用。这些工具使他们能够并行处理大量数据，从而节省了资金。</p><h1 id="58b9" class="ly lz ir bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">更多参考</h1><h2 id="7ff9" class="mw lz ir bd ma mx my dn me mz na dp mi jz nb nc mm kd nd ne mq kh nf ng mu nh bi translated">谷歌的内部应用被数据流取代</h2><ol class=""><li id="0c44" class="ni nj ir jq b jr nk jv nl jz nm kd nn kh no kl np nq nr ns bi translated"><strong class="jq is"> FlumeJava </strong>:</li></ol><div class="nt nu gq gs nv nw"><a href="https://research.google/pubs/pub35650/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fp"><div class="ny ab nz cl cj oa"><h2 class="bd is gz z fq ob fs ft oc fv fx iq bi translated">简单高效的数据并行管道</h2><div class="od l"><h3 class="bd b gz z fq ob fs ft oc fv fx dk translated">MapReduce和类似的系统大大简化了编写数据并行代码的任务。然而，许多现实世界…</h3></div><div class="oe l"><p class="bd b dl z fq ob fs ft oc fv fx dk translated">谷歌研究</p></div></div><div class="of l"><div class="og l oh oi oj of ok kw nw"/></div></div></a></div><p id="8582" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated"><strong class="jq is"> 2。砂轮</strong>:</p><div class="nt nu gq gs nv nw"><a href="https://research.google/pubs/pub41378/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fp"><div class="ny ab nz cl cj oa"><h2 class="bd is gz z fq ob fs ft oc fv fx iq bi translated">MillWheel:互联网规模的容错流处理-谷歌研究</h2><div class="od l"><h3 class="bd b gz z fq ob fs ft oc fv fx dk translated">MillWheel是一个用于构建低延迟数据处理应用程序的框架，在谷歌得到了广泛应用。用户…</h3></div><div class="oe l"><p class="bd b dl z fq ob fs ft oc fv fx dk translated">谷歌研究</p></div></div><div class="of l"><div class="ol l oh oi oj of ok kw nw"/></div></div></a></div><h2 id="0f08" class="mw lz ir bd ma mx my dn me mz na dp mi jz nb nc mm kd nd ne mq kh nf ng mu nh bi translated">Spotify的大数据处理之旅</h2><div class="nt nu gq gs nv nw"><a href="https://engineering.atspotify.com/2017/10/16/big-data-processing-at-spotify-the-road-to-scio-part-1/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fp"><div class="ny ab nz cl cj oa"><h2 class="bd is gz z fq ob fs ft oc fv fx iq bi translated">Spotify的大数据处理:通往Scio之路(上)</h2><div class="od l"><h3 class="bd b gz z fq ob fs ft oc fv fx dk translated">这是2部分博客系列的第一部分。在这个系列中，我们将讨论Scio，一个用于Apache Beam和…</h3></div><div class="oe l"><p class="bd b dl z fq ob fs ft oc fv fx dk translated">engineering.atspotify.com</p></div></div><div class="of l"><div class="om l oh oi oj of ok kw nw"/></div></div></a></div><h1 id="b9ef" class="ly lz ir bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">Spotify是2019年和过去十年的顶级歌曲、艺术家、播放列表和播客</h1><p id="928b" class="pw-post-body-paragraph jo jp ir jq b jr nk jt ju jv nl jx jy jz on kb kc kd oo kf kg kh op kj kk kl ik bi translated"><a class="ae lc" href="https://newsroom.spotify.com/2019-12-03/the-top-songs-artists-playlists-and-podcasts-of-2019-and-the-last-decade/" rel="noopener ugc nofollow" target="_blank">https://news room . Spotify . com/2019-12-03/the-top-songs-artists-playlists-and-podcast-of-2019 and-the-last-decade</a></p></div></div>    
</body>
</html>