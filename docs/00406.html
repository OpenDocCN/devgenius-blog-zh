<html>
<head>
<title>UserInterfaceLevel, the future of floating apps?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用户界面级别，浮动应用的未来？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/userinterfacelevel-the-future-of-floating-apps-bec2d3328e79?source=collection_archive---------6-----------------------#2020-06-06">https://blog.devgenius.io/userinterfacelevel-the-future-of-floating-apps-bec2d3328e79?source=collection_archive---------6-----------------------#2020-06-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="618a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">iOS 13为你的应用带来了新的活力。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/a3ecaa95e8c7372c6cf0c03975e5dd5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MkMlRltDlURkncsR"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">照片由<a class="ae ks" href="https://unsplash.com/@pemmax?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Przemyslaw Marczynski </a>在<a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="2450" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">去年在Shopify，我们开始开发全新的销售点。有一个小问题，假设所有的屏幕都全屏显示给用户，我们需要区分模态屏幕和其他屏幕的能力。iOS 13对此有过很棒的回答。</p><p id="541f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感觉每一个新的iOS版本都给<code class="fe lp lq lr ls b">UITraitCollection</code>或者<code class="fe lp lq lr ls b">UIUserActivity</code>增加了一些东西。iOS 13也不例外，它为<code class="fe lp lq lr ls b">UITraitCollection</code>增加了一个小而强大的功能，在开发通用应用程序时会派上用场。特别是如果你的应用程序是以浮动窗口的形式出现的话，这个附加功能就是<code class="fe lp lq lr ls b">userInterfaceLevel</code>。</p><h2 id="87fb" class="lt lu in bd lv lw lx dn ly lz ma dp mb lc mc md me lg mf mg mh lk mi mj mk ml bi translated">什么是用户界面级别？</h2><p id="f23e" class="pw-post-body-paragraph kt ku in kv b kw mm jo ky kz mn jr lb lc mo le lf lg mp li lj lk mq lm ln lo ig bi translated">苹果将其描述为窗口内容的视觉层次。可能的值有<code class="fe lp lq lr ls b">base</code>、<code class="fe lp lq lr ls b">elevated</code>和<code class="fe lp lq lr ls b">unspecified</code>。第一个是窗口的主要内容，最后一个是它上面的任何内容。这将是完美的匹配，我们需要的模态窗口有一个专门的背景颜色。</p><blockquote class="mr ms mt"><p id="52a6" class="kt ku mu kv b kw kx jo ky kz la jr lb mv ld le lf mw lh li lj mx ll lm ln lo ig bi translated">*查看评论部分，了解杰夫·哈克沃斯关于这些值如何因其他因素而变化的精彩解释</p></blockquote><h2 id="05fc" class="lt lu in bd lv lw lx dn ly lz ma dp mb lc mc md me lg mf mg mh lk mi mj mk ml bi translated">用它来满足我们的需求</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="ab gu cl na"><img src="../Images/4b289ba78f3a7d9c90b662222bf966be.png" data-original-src="https://miro.medium.com/v2/format:webp/1*e29n9d7QSoBrTpVhcV892A.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">AdaptiveColor源代码</figcaption></figure><p id="c4fa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">前面的片段是Shopify的<a class="ae ks" href="https://shopify.com/pos" rel="noopener ugc nofollow" target="_blank">销售点应用</a>如何处理动态颜色。您应该关注第24行，我们检测用户界面的当前高度，并决定将两个颜色集中的哪一个用于这个特定的颜色。</p><p id="8165" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，假设我们想改变一个视图的背景颜色，我们需要做的就是:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="ab gu cl na"><img src="../Images/8fe4f0e24691c566c6844e46f6d0601f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*4ArYjxWzHNyyEPRU4PSEiA.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">AdaptiveColor的用法示例</figcaption></figure><p id="3848" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">由于出色的UIAppearance，我们可以像设计背景视图一样设计我们的UINavigationController，并且我们所有的屏幕都将以正确的颜色显示。</p><p id="c376" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">将所有东西放在一个项目中，它看起来像这样:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="ab gu cl na"><img src="../Images/32b1f104389330c3b5b5e9ea03bff8fd.png" data-original-src="https://miro.medium.com/v2/1*VcQWI-ZVnBkAVBeS39tsnA.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">背景颜色的变化对显示级别做出反应</figcaption></figure><h2 id="d8e9" class="lt lu in bd lv lw lx dn ly lz ma dp mb lc mc md me lg mf mg mh lk mi mj mk ml bi translated">进一步阅读</h2><p id="5fec" class="pw-post-body-paragraph kt ku in kv b kw mm jo ky kz mn jr lb lc mo le lf lg mp li lj lk mq lm ln lo ig bi translated">仅此而已！，一如既往，您可以在GitHub上找到完整的源代码</p><div class="nb nc gp gr nd ne"><a href="https://github.com/raulriera/technical-articles" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd io gy z fp nj fr fs nk fu fw im bi translated">Raul riera/技术文章</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">我写的技术文章的代码库👨🏻‍💻。您可以在以下网站找到它们及更多内容…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">github.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns km ne"/></div></div></a></div></div><div class="ab cl nt nu hr nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ig ih ii ij ik"><ol class=""><li id="2502" class="oa ob in kv b kw kx kz la lc oc lg od lk oe lo of og oh oi bi translated">苹果文档<a class="ae ks" href="https://developer.apple.com/documentation/uikit/uitraitcollection/3238085-userinterfacelevel" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/documentation/ui kit/uitraitcollection/3238085-user interface level</a></li><li id="aa5e" class="oa ob in kv b kw oj kz ok lc ol lg om lk on lo of og oh oi bi translated">苹果文档<a class="ae ks" href="https://developer.apple.com/documentation/uikit/uiappearance" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/documentation/ui kit/ui appearance</a></li></ol></div></div>    
</body>
</html>