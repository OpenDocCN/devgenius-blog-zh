<html>
<head>
<title>TypeScript with React Redux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有 React Redux 的类型脚本</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/typescript-with-react-redux-1a1c2f5c23ce?source=collection_archive---------15-----------------------#2020-06-23">https://blog.devgenius.io/typescript-with-react-redux-1a1c2f5c23ce?source=collection_archive---------15-----------------------#2020-06-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/abb4db040f28ae771549d8ea8782b850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tCYYY7pUnp4Cx3CKMNQ86w.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">react-typescript-redux</figcaption></figure><h1 id="9b0d" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">什么是 TypeScript？</h1><p id="e1da" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">TypeScript 是 JavaScript 的超集，这意味着它是添加了额外特性的 JavaScript。从技术上讲，所有的 JavaScript 代码也是类型脚本代码。TypeScript 是一种强类型、面向对象的编译语言，由微软的<strong class="kz io">安德斯·海尔斯伯格</strong>(c#的设计者)设计。类型脚本支持 ECMAScript6 (ES6)。</p><h1 id="f08e" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">先决条件</h1><p id="38ce" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">了解 react、redux 和 react-router-dom。理解 html，css 和 Scss。</p><p id="dcdd" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">必须有纱线或 npm。</p><p id="c56a" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">create-react-app 必须安装。</p><h2 id="b4e8" class="ma ka in bd kb mb mc dn kf md me dp kj li mf mg kn lm mh mi kr lq mj mk kv ml bi translated">设置</h2><p id="6e36" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">在本课程中，我们将学习简单的待办事项应用程序。</p><p id="ce27" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">安装项目。运行命令</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="d9e6" class="ma ka in mr b gy mv mw l mx my">create react-app todo --typescript</span></pre><p id="557d" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">然后转到创建的文件夹，即 todo，并添加这些包。react-router-dom 来自 routing，redux 用于状态管理，其中 redux-thunk 是一个中间件。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="36b8" class="ma ka in mr b gy mv mw l mx my">yarn add @types/react-router-dom @types/redux @types/react-redux @types/redux-thunk</span></pre><p id="0380" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">然后输入命令 yarn start 来运行项目。你会得到这样的结果</p><p id="9f63" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">查看我们拥有的项目文件夹结构，</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/ffad8151bbe4de8014ab8a6597f356db.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*Jb3HbrzCfQl_WHQJojNXBA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">文件夹结构</figcaption></figure><p id="940f" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">所以现在在 src 中添加文件夹，</p><ul class=""><li id="c962" class="na nb in kz b la lv le lw li nc lm nd lq ne lu nf ng nh ni bi translated">存储-&gt;状态</li><li id="5d64" class="na nb in kz b la nj le nk li nl lm nm lq nn lu nf ng nh ni bi translated">视图-&gt;用于视图页面</li></ul><p id="3e17" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">正在连接到存储，使用类型脚本还原。在 index.tsx 中，更新代码，如。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="993e" class="ma ka in mr b gy mv mw l mx my"><em class="no">const </em>app = (<br/>    &lt;Provider <em class="no">store</em>={store}&gt;<br/>        &lt;BrowserRouter&gt;<br/>            &lt;App/&gt;<br/>        &lt;/BrowserRouter&gt;<br/>    &lt;/Provider&gt;<br/>)<br/>ReactDOM.render(<br/>    app,<br/>    document.getElementById('root')<br/>);</span></pre><p id="12db" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">在存储文件夹中创建 store.ts，并将其更新为:</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">商店. ts</figcaption></figure><p id="0e79" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">在存储文件夹中创建 reducers 文件夹。然后在 reducer 文件夹中添加 index.ts。并将 index.ts 更新为</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="936a" class="ma ka in mr b gy mv mw l mx my"><em class="no">import </em>{ <em class="no">combineReducers </em>} <em class="no">from </em>"redux";<br/><br/><em class="no">export default combineReducers</em>({<br/>})</span></pre><p id="c0ce" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">现在我们有了导入联合收割机减速器，一旦我们创建了其他减速器，我们就在这里注册其他减速器组件。</p><p id="5397" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">现在，您的应用程序将成功运行，但没有任何更改。</p><p id="f161" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">现在让我们在视图中创建 todo 文件夹，在 todo 中创建索引文件</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/e0bd8cd6a737eb950b82153267095921.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*Syhh_NLT0w3civtcKftRRw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">视图</figcaption></figure><p id="f7ca" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">在<strong class="kz io"> index.tsx </strong>中创建组件:</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="a92f" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">你会得到这样的结果:</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nr"><img src="../Images/9c7fc7cb71dbfc772950804f1feaf7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*otwKddusLQFt5NzMC1z3kA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">任务型外观</figcaption></figure><p id="e759" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">现在在 Todo 中创建服务文件夹。在服务中，我们将添加待办事项操作、待办事项缩减器和待办事项类型。</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/0f74d6b4d9509ce523b6fb98fc6ef386.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*URdott8UAbBw4gBCbQfEpg.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">待办事项视图</figcaption></figure><p id="99d4" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">现在让我们更新这些文件</p><p id="4090" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">todoType.ts</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="2ff3" class="ma ka in mr b gy mv mw l mx my"><em class="no">export const </em>GET_TASK = "GET_TASK"</span></pre><p id="f180" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><strong class="kz io"> todoReducer.ts: </strong></p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="5dbe" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><strong class="kz io"> todoAction.ts: </strong></p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="38f6" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">这里<em class="no">接口 ITodo 定义了</em>任何实体都必须遵守的语法。简单地说，它验证数据的类型。</p><p id="0e45" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">在主存储文件夹中注册动作和减速器。</p><p id="6fcd" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><strong class="kz io"> action.ts: </strong></p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="632b" class="ma ka in mr b gy mv mw l mx my"><em class="no">export </em>{<br/>    <em class="no">getTask</em>,<br/>    <em class="no">storeTask<br/></em>} <em class="no">from </em>'../../views/Todo/services/todoAction'</span></pre><p id="23fa" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><strong class="kz io"> reducer.ts: </strong></p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="634c" class="ma ka in mr b gy mv mw l mx my"><em class="no">import </em>{ <em class="no">combineReducers </em>} <em class="no">from </em>"redux";<br/><em class="no">import todoReducer from </em>"../../views/Todo/services/todoReducer";<br/><em class="no">export default combineReducers</em>({<br/>    <em class="no">todoReducer<br/></em>})</span></pre><p id="833b" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">我们必须更新<strong class="kz io"> index.tsx </strong>以便连接商店:</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="9b96" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">最后运行应用程序，我们将得到结果。你可以在<a class="ae nt" href="https://github.com/rajeevrajchal/ts-todo" rel="noopener ugc nofollow" target="_blank"> github </a>中找到代码。</p><p id="ca6f" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">这是我在 react redux 下编写 typescript 的方法。</p></div></div>    
</body>
</html>