<html>
<head>
<title>In Python, help make numbers in the millions, billions, and trillions more readable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Python 中，帮助使数百万、数十亿和数万亿的数字更可读</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/write-better-python-code-with-this-tip-to-make-numbers-in-millions-billions-and-trillions-b68e3d65d0b1?source=collection_archive---------12-----------------------#2022-01-26">https://blog.devgenius.io/write-better-python-code-with-this-tip-to-make-numbers-in-millions-billions-and-trillions-b68e3d65d0b1?source=collection_archive---------12-----------------------#2022-01-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2cb5d39114682a6a9830d51106ec15c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qnk2fiZO9nQXDYz3"/></div></div></figure><p id="82dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我偶然发现的一个很好的 Python 技巧，它肯定会让你至少“哦，哇，这很好”，最多“哦，哇，这实际上对我正在做的事情很有帮助”。</p><p id="1941" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个技巧使您的数百万、数十亿和数万亿(我想，甚至更多，确切地说，是万亿、五万亿、六万亿、七万亿、八万亿、十万亿和十万亿，尽管如果您在 Python 代码中使用这些类型的数字，我会有些印象深刻)更具可读性。</p><p id="a752" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的意思可以用代码很好地说明。我们以下面这个块为例，它将各个国家的 2017 年名义 GDP 赋给变量。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="4bc8" class="lf lg iq lb b gy lh li l lj lk">america_gdp = 19,485,394,000,000<br/>china_gdp = 12,237,700,479,375<br/>japan_gdp = 4,872,415,104,315</span></pre><p id="0361" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好吧，首先，这个代码有什么问题？</p><p id="9f28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗯，逗号会引起 Python 的抱怨。你不能给这些变量赋值，因为逗号不允许出现在这样的数字中。因此，要使代码能够正确编译，您可以这样做:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="179e" class="lf lg iq lb b gy lh li l lj lk">america_gdp = 19485394000000<br/>china_gdp = 12237700479375<br/>japan_gdp = 4872415104315</span></pre><p id="fd46" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好吧，技术上来说，这行得通。但让我们面对现实:这有点难看，而且真的不清楚这些数字是什么，或者这些数字的规模。不仅第一眼，甚至在盯着代码看一会儿之后也很难看出；就好像这些是电话号码或银行账号或其他什么东西，而不是数万亿美元的金额。</p><p id="b4cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我接下来要给你们展示的是这个魔术，也许你们以前见过，也许没有，但对我来说，当我这样做的时候，我总是充满喜悦。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e08f" class="lf lg iq lb b gy lh li l lj lk">america_gdp = 19_485_394_000_000<br/>china_gdp = 12_237_700_479_375<br/>japan_gdp = 4_872_415_104_315</span></pre><p id="f2d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在那里！你看到我们在那里做了什么吗？我们用下划线(<code class="fe ll lm ln lb b">_</code>)代替了逗号！</p><p id="c312" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">继续，尝试一下——它会编译并正常工作(如果你使用的是 Python 3.6 或更高版本)。</p><p id="c4c5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个特性来自于<a class="ae lo" href="https://www.python.org/dev/peps/pep-0515/" rel="noopener ugc nofollow" target="_blank"> PEP 515，数字文字中的下划线</a>。作者 Georg Brandl，Serhiy Storchaka 这样描述基本原理:</p><blockquote class="lp lq lr"><p id="038a" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated">这个 PEP 建议扩展 Python 的语法和 number-from-string 构造函数，以便在整数、浮点和复数文本中，下划线可以用作数字分组的可视分隔符。</p><p id="a287" class="jy jz ls ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated">这是其他现代语言的一个常见特性，可以帮助提高长文字或文字的可读性，这些文字的值应该清楚地分成几个部分，如十六进制表示法中的字节或单词。</p></blockquote><p id="a906" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">总之，这是 Python 的一个很酷的小技巧，可以让你的代码更具可读性，最终，这是你应该永远记住的。希望你和我第一次发现的时候一样喜欢这个。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="32d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你觉得这篇文章很有帮助或者只是喜欢阅读它，可以考虑<a class="ae lo" href="https://tremaineeto.medium.com/membership" rel="noopener">注册成为一名媒体会员</a>。每月 5 美元，你可以无限制地阅读媒体上关于软件、技术等主题的报道。如果你<a class="ae lo" href="https://tremaineeto.medium.com/membership" rel="noopener">用我的链接</a>注册，我会得到一小笔佣金。</p><div class="md me gp gr mf mg"><a href="https://tremaineeto.medium.com/membership" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">通过我的推荐链接加入 Medium—Tremaine Eto</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">tremaineeto.medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu jw mg"/></div></div></a></div></div></div>    
</body>
</html>