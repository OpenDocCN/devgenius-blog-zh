<html>
<head>
<title>Be Careful with the Dependencies You Install in JavaScript Frameworks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">小心您在JavaScript框架中安装的依赖项</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/be-careful-with-the-dependencies-you-install-fe8205fbd9e?source=collection_archive---------6-----------------------#2021-06-27">https://blog.devgenius.io/be-careful-with-the-dependencies-you-install-fe8205fbd9e?source=collection_archive---------6-----------------------#2021-06-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="9e58" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一切都很好，直到你的后背被严重程度为1的阻滞药碰壁。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3d01915ba28d16af11cb4022396bb8f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LhmniKTRqUHwTuIplGyAuA.png"/></div></div></figure><h2 id="6e24" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">故事时间:</h2><p id="18a6" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">我是公司的技术负责人，我们必须确保的一部分是确保给我们的截止日期，在团队中分配工作，这样一个人会感觉被忽略了，并保持代码的质量/标准。</p><p id="9644" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">每当我们试图在这些方面走捷径时，公司最终都不得不承受某种损失，这是我们的责任，以确保在任何情况下都不会出现这种情况。</p><p id="62e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如今，人们使用跨平台的应用程序来确保最大限度地接触他们的开发者。当你的web应用程序应该与每个开发者的噩梦一起工作时，这可能会很快升级为非常重要。</p><p id="ca84" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">发生了什么，拦截器是什么？</strong></p><p id="081d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们有一个功能，它非常依赖于以特定的标准、特定的格式和样式创建excel报表。</p><p id="0243" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们不得不联系npm来寻找一个合适的库，因为我们相信对于一个大部分时间都局限于一个功能集的模块来说，不要重新发明轮子，这会导致在紧迫的时间期限内实现次优。</p><p id="228d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是我们发现<strong class="jm io"> exceljs </strong>的时候，所以我们用同样的方法解决了一些错误，并推送到uat。</p><p id="e9a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，当推进到UAT时，我们意识到一个客户正在使用Internet Explorer，应用程序完全空白。</p><p id="8b72" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个是由于<strong class="jm io">钩子形式的</strong>库，幸运的是它有一个transpiled es5版本，我在我们的webpack中设置了一个<strong class="jm io">别名</strong>,以便在任何时候请求该库或在我们的代码中引用该库时使用transpiled的目录。</p><p id="d673" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这解决了我们使用表单的问题，但是我们使用exceljs就没那么幸运了，尽管库有一些方法来处理这个问题，但是在Internet explorer中，我们还是不断地得到奇怪的错误，不管我们做了什么，大部分时间几乎没有信息和简单的语法错误。</p><h2 id="3e9d" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">我们的最后时刻解决方案:</h2><p id="0198" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">我们没有足够的时间来集成任何其他库，因为我们严重依赖它，并且不容易抛弃它。</p><p id="6b38" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一件事是卸载这个库，至少看到react UI，它几乎是空白的。</p><p id="ba9e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，我们在应用程序的index.html中使用CDN导入这个库。</p><h2 id="1212" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated"><strong class="ak">现在的变通办法:)</strong></h2><pre class="kj kk kl km gt ls lt lu lv aw lw bi"><span id="817b" class="ku kv in lt b gy lx ly l lz ma">const isIE = /*@cc_on!@*/ false || !!document.documentMode;</span></pre><p id="9a77" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们使用这个条件来识别internet explorer，然后有条件地隐藏并且不显示这个特性，只在internet explorer中给出使用现代浏览器的警告，就是这样。</p><p id="f9dc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我原封不动地保留了应用程序的主要功能。</p><p id="a6e3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在此期间，我还在babel插件、Webpack和pollyfills的帮助下修改了几个其他的小问题，但最终一切顺利。</p><h2 id="61d7" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated"><strong class="ak">关键要点:</strong></h2><p id="ea85" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">在将依赖项集成到项目中之前，请务必阅读GitHub、Stack overflow等上的依赖项和论坛的文档。</p><p id="0431" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最初投入几分钟可以让你最终省去很多麻烦。</p><p id="ab31" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请继续关注更多真实世界的编程问题、它们的解决方案以及总体最佳实践。</p><p id="cc9e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">和平！！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mb"><img src="../Images/a533b7652c0ee61f008bb1262ec5e1b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zxL1CqU6dCbOj854"/></div></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">马特·博茨福德在<a class="ae mg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div></div>    
</body>
</html>