<html>
<head>
<title>Code Smell 77 — Timestamps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味77 —时间戳</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-smell-77-timestamps-cb3d4cdbb1f2?source=collection_archive---------2-----------------------#2021-06-09">https://blog.devgenius.io/code-smell-77-timestamps-cb3d4cdbb1f2?source=collection_archive---------2-----------------------#2021-06-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="745d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">时间戳被广泛使用。他们有一个中央发行机构，不会回去，是吗？</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/760b4b37da01958449d2d2c445b84369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*PTTrm6mkcZYLdeHE6MBKDw.gif"/></div></figure><blockquote class="kk kl km"><p id="304c" class="kn ko kp kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">TL；DR:序列不要用时间戳。集中并锁定您的发行者。</p></blockquote><h1 id="1d87" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">问题</h1><ul class=""><li id="8e4f" class="mc md in kq b kr me ku mf mg mh mi mj mk ml lj mm mn mo mp bi translated">双射故障。</li><li id="05c8" class="mc md in kq b kr mq ku mr mg ms mi mt mk mu lj mm mn mo mp bi translated">时间戳冲突。</li><li id="6074" class="mc md in kq b kr mq ku mr mg ms mi mt mk mu lj mm mn mo mp bi translated">时间戳精度。</li><li id="da41" class="mc md in kq b kr mq ku mr mg ms mi mt mk mu lj mm mn mo mp bi translated">数据包紊乱。</li></ul><p id="cd1b" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">-一个本质问题(排序)的不良<a class="ae mv" href="https://medium.com/dev-genius/no-silver-bullet-65cba1775f9b" rel="noopener">意外实现</a>(时间戳)。</p><h1 id="9e85" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">解决方法</h1><p id="12f1" class="pw-post-body-paragraph kn ko in kq b kr me jo kt ku mf jr kw mg mw kz la mi mx ld le mk my lh li lj ig bi translated">1.使用集中顺序压模。(不，不是一个<a class="ae mv" href="https://codeburst.io/singleton-the-root-of-all-evil-8e59ca966243" rel="noopener" target="_blank">单身</a>)。</p><p id="0176" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">2.如果需要模拟一个序列，<a class="ae mv" href="https://medium.com/@mcsee/the-one-and-only-software-design-principle-5328420712af" rel="noopener">模拟一个序列</a>。</p><h1 id="7941" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">示例代码</h1><h2 id="9189" class="mz ll in bd lm na nb dn lq nc nd dp lu mg ne nf lw mi ng nh ly mk ni nj ma nk bi translated">错误的</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nl nm l"/></div></figure><h2 id="1701" class="mz ll in bd lm na nb dn lq nc nd dp lu mg ne nf lw mi ng nh ly mk ni nj ma nk bi translated">对吧</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nl nm l"/></div></figure><h1 id="34a1" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">侦查</h1><p id="c37f" class="pw-post-body-paragraph kn ko in kq b kr me jo kt ku mf jr kw mg mw kz la mi mx ld le mk my lh li lj ig bi translated">时间戳在许多语言中非常流行，并且无处不在。</p><p id="3261" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">我们需要用它们来建模…时间戳。</p><h1 id="d65a" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">标签</h1><ul class=""><li id="5cc5" class="mc md in kq b kr me ku mf mg mh mi mj mk ml lj mm mn mo mp bi translated">双射</li></ul><h1 id="804a" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">结论</h1><p id="59f4" class="pw-post-body-paragraph kn ko in kq b kr me jo kt ku mf jr kw mg mw kz la mi mx ld le mk my lh li lj ig bi translated">这种气味的灵感来自最近的<a class="ae mv" href="https://www.hebergementwebs.com/transport/the-autonomous-helicopter-mars-named-ingenuity-is-confused-by-a-time-stamp-issue-providing-insightful-lessons-for-self-driving-cars-ai" rel="noopener ugc nofollow" target="_blank">独创性软件故障</a>。</p><p id="56cd" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">如果我们不遵循我们的<a class="ae mv" href="https://medium.com/@mcsee/the-one-and-only-software-design-principle-5328420712af" rel="noopener">映射器</a>规则和时间模型序列，我们将面临麻烦。</p><p id="7b4f" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">幸运的是,“独创性”是一种复杂的自主飞行器，拥有强大的故障安全着陆软件。</p><p id="ddce" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">这段视频描述了故障</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nn nm l"/></div></figure><h1 id="8da7" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">关系</h1><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-39-new-date-7a2571a81ecb"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">代码气味39 —新日期()</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">70s第一教程:getCurrentDate()。小菜一碟。我们处在20年代，时代不再全球化。</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">blog.devgenius.io</p></div></div><div class="oa l"><div class="ob l oc od oe oa of ki nr"/></div></div></a></div><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-32-singletons-d6d7b0a9f251"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">代码气味32 —单件</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">世界上最常用和最著名的设计模式正在给我们带来巨大的伤害。</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">blog.devgenius.io</p></div></div><div class="oa l"><div class="og l oc od oe oa of ki nr"/></div></div></a></div><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-71-magic-floats-disguised-as-decimals-31271b957ac5"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">代码气味71 —伪装成小数的魔法浮动</h2><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">blog.devgenius.io</p></div></div><div class="oa l"><div class="oh l oc od oe oa of ki nr"/></div></div></a></div><h1 id="dd07" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">更多信息</h1><div class="no np gp gr nq nr"><a href="https://ieeexplore.ieee.org/document/805196" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">时间戳:关于它们的使用和实现的主要问题</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">本文讨论了创建和使用安全数字时间戳时出现的一些问题。从……</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">ieeexplore.ieee.org</p></div></div><div class="oa l"><div class="oi l oc od oe oa of ki nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://codeburst.io/the-one-and-only-software-design-principle-5328420712af" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">唯一的软件设计原则</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">如果我们在一个单一的规则上建立我们的整个范式，我们可以保持它的简单并做出优秀的模型。</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">codeburst.io</p></div></div><div class="oa l"><div class="oj l oc od oe oa of ki nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://codeburst.io/what-is-software-9a78c1172cf9" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">软件有什么问题？</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">软件正在吞噬世界。我们这些工作、生活和热爱软件的人通常不会停下来思考它的…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">codeburst.io</p></div></div><div class="oa l"><div class="ok l oc od oe oa of ki nr"/></div></div></a></div></div><div class="ab cl ol om hr on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ig ih ii ij ik"><blockquote class="kk kl km"><p id="4aae" class="kn ko kp kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最美的代码，最美的函数，最美的程序，有时候根本就不存在。</p></blockquote><p id="55d9" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">乔恩·本特利</p><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/software-engineering-great-quotes-3af63cea6782"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">软件工程名言</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">blog.devgenius.io</p></div></div><div class="oa l"><div class="os l oc od oe oa of ki nr"/></div></div></a></div></div><div class="ab cl ol om hr on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ig ih ii ij ik"><p id="6b42" class="pw-post-body-paragraph kn ko in kq b kr ks jo kt ku kv jr kw mg ky kz la mi lc ld le mk lg lh li lj ig bi translated">本文是CodeSmell系列的一部分。</p><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">如何找到你的代码中有问题的部分</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">blog.devgenius.io</p></div></div><div class="oa l"><div class="ot l oc od oe oa of ki nr"/></div></div></a></div></div></div>    
</body>
</html>