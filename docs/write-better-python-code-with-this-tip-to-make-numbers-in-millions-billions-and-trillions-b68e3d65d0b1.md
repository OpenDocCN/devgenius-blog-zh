# 在 Python 中，帮助使数百万、数十亿和数万亿的数字更可读

> 原文：<https://blog.devgenius.io/write-better-python-code-with-this-tip-to-make-numbers-in-millions-billions-and-trillions-b68e3d65d0b1?source=collection_archive---------12----------------------->

![](img/2cb5d39114682a6a9830d51106ec15c9.png)

这是我偶然发现的一个很好的 Python 技巧，它肯定会让你至少“哦，哇，这很好”，最多“哦，哇，这实际上对我正在做的事情很有帮助”。

这个技巧使您的数百万、数十亿和数万亿(我想，甚至更多，确切地说，是万亿、五万亿、六万亿、七万亿、八万亿、十万亿和十万亿，尽管如果您在 Python 代码中使用这些类型的数字，我会有些印象深刻)更具可读性。

我的意思可以用代码很好地说明。我们以下面这个块为例，它将各个国家的 2017 年名义 GDP 赋给变量。

```
america_gdp = 19,485,394,000,000
china_gdp = 12,237,700,479,375
japan_gdp = 4,872,415,104,315
```

好吧，首先，这个代码有什么问题？

嗯，逗号会引起 Python 的抱怨。你不能给这些变量赋值，因为逗号不允许出现在这样的数字中。因此，要使代码能够正确编译，您可以这样做:

```
america_gdp = 19485394000000
china_gdp = 12237700479375
japan_gdp = 4872415104315
```

好吧，技术上来说，这行得通。但让我们面对现实:这有点难看，而且真的不清楚这些数字是什么，或者这些数字的规模。不仅第一眼，甚至在盯着代码看一会儿之后也很难看出；就好像这些是电话号码或银行账号或其他什么东西，而不是数万亿美元的金额。

所以我接下来要给你们展示的是这个魔术，也许你们以前见过，也许没有，但对我来说，当我这样做的时候，我总是充满喜悦。

```
america_gdp = 19_485_394_000_000
china_gdp = 12_237_700_479_375
japan_gdp = 4_872_415_104_315
```

在那里！你看到我们在那里做了什么吗？我们用下划线(`_`)代替了逗号！

继续，尝试一下——它会编译并正常工作(如果你使用的是 Python 3.6 或更高版本)。

这个特性来自于 [PEP 515，数字文字中的下划线](https://www.python.org/dev/peps/pep-0515/)。作者 Georg Brandl，Serhiy Storchaka 这样描述基本原理:

> 这个 PEP 建议扩展 Python 的语法和 number-from-string 构造函数，以便在整数、浮点和复数文本中，下划线可以用作数字分组的可视分隔符。
> 
> 这是其他现代语言的一个常见特性，可以帮助提高长文字或文字的可读性，这些文字的值应该清楚地分成几个部分，如十六进制表示法中的字节或单词。

总之，这是 Python 的一个很酷的小技巧，可以让你的代码更具可读性，最终，这是你应该永远记住的。希望你和我第一次发现的时候一样喜欢这个。

如果你觉得这篇文章很有帮助或者只是喜欢阅读它，可以考虑[注册成为一名媒体会员](https://tremaineeto.medium.com/membership)。每月 5 美元，你可以无限制地阅读媒体上关于软件、技术等主题的报道。如果你[用我的链接](https://tremaineeto.medium.com/membership)注册，我会得到一小笔佣金。

[](https://tremaineeto.medium.com/membership) [## 通过我的推荐链接加入 Medium—Tremaine Eto

### 作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…

tremaineeto.medium.com](https://tremaineeto.medium.com/membership)