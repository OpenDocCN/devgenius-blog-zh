<html>
<head>
<title>Portfolio Sharing— Expense Tracker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">投资组合共享—费用跟踪</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/portfolio-sharing-expense-tracker-ce4c54c1a91d?source=collection_archive---------12-----------------------#2022-06-23">https://blog.devgenius.io/portfolio-sharing-expense-tracker-ce4c54c1a91d?source=collection_archive---------12-----------------------#2022-06-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5c2f" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">查看我在<a class="ae kc" href="https://yumingchang1991.medium.com/technical-article-structure-on-medium-954850e1ef4d" rel="noopener">我的技术文章</a>中的所有其他帖子</h2></div><p id="2b9c" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">我很自豪也很兴奋，同时也很害怕与大家分享我在<a class="ae kc" href="https://yumingchang1991.github.io/personal-portfolio/" rel="noopener ugc nofollow" target="_blank">投资组合</a>中的第一个全栈项目。</p><ul class=""><li id="82d7" class="kz la in kf b kg kh kj kk km lb kq lc ku ld ky le lf lg lh bi translated">骄傲兴奋，因为今天我终于产生了足够的信心，相信自己有资格成为一名网络开发人员</li><li id="a862" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">害怕是因为当我看着这个项目时，我可以发现很多改进它的机会</li><li id="0cee" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">此外，当然还有我不知道但想学的知识。所以也许你可以在评论中与我分享你的想法，成为我的阳光！</li></ul><h1 id="306c" class="ln lo in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">费用跟踪器和 GitHub Repo</h1><p id="5187" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated">大约 3 年来，我一直在记录我的所有支出。对我来说，想象一个用户想要这样一个工具是小菜一碟；因此，费用追踪似乎是一个很好的起点。</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mk"><img src="../Images/679943dd589706b02dbc9234163e9132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Y6qWTAuTmrXMucaNUjo9g.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">登录页面的屏幕截图</figcaption></figure><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi na"><img src="../Images/acec96d5b84fa9d8a1197dbebe09cbc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UbsUu0G0Q3POeESVlpd6Fw.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">费用页面的屏幕截图</figcaption></figure><ul class=""><li id="e874" class="kz la in kf b kg kh kj kk km lb kq lc ku ld ky le lf lg lh bi translated">这是部署在 Heroku 上的<a class="ae kc" href="https://dry-plateau-72468.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">费用追踪器</a>的链接</li><li id="3b35" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">这是我的 GitHub 回购</li></ul><h2 id="76ed" class="nb lo in bd lp nc nd dn lt ne nf dp lx km ng nh lz kq ni nj mb ku nk nl md nm bi translated">放弃</h2><ol class=""><li id="b7c1" class="kz la in kf b kg mf kj mg km nn kq no ku np ky nq lf lg lh bi translated">这个项目是活动的，这意味着随着时间的推移，它很可能会发生变化</li><li id="1039" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky nq lf lg lh bi translated">只要 Heroku link 在我的投资组合中，它就会保持活动状态。如果你发现它不再可访问，这意味着我用其他项目取代它。更多最新项目，请访问<a class="ae kc" href="https://yumingchang1991.github.io/personal-portfolio/" rel="noopener ugc nofollow" target="_blank">我的作品集</a> <br/> <strong class="kf io">目前已被撤下，因为 Heroku 自 2022 年 11 月</strong>起不再提供免费计划</li></ol></div><div class="ab cl nr ns hr nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ig ih ii ij ik"><h1 id="397f" class="ln lo in bd lp lq ny ls lt lu nz lw lx jt oa ju lz jw ob jx mb jz oc ka md me bi translated">使用的技术和开发过程</h1><p id="c3c2" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated">这个项目的技术结构非常简单:</p><ul class=""><li id="74e2" class="kz la in kf b kg kh kj kk km lb kq lc ku ld ky le lf lg lh bi translated">首先，<strong class="kf io"> Express </strong>用于快速创建服务器和设置路由</li><li id="6415" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">其次，<strong class="kf io">mongose</strong>用于建立模式并与 MongoDB Atlas 交互</li><li id="5cae" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">第三，<strong class="kf io">手柄</strong>用于启用服务器端渲染，<strong class="kf io">引导</strong>用于使界面更漂亮，<strong class="kf io">手柄助手功能</strong>用于改善用户体验(我们都很忙，所以不要让我打一个东西)</li><li id="c9b7" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">然后，包含<strong class="kf io"> Passport </strong>创建用户系统；bcrypt 用于保护私人数据</li><li id="aad7" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">然后，导入<strong class="kf io"> connect-flash </strong>，根据不同的用户行为显示警告信息</li><li id="77de" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">然后，创建<strong class="kf io">播种器</strong>向数据库提供测试文件</li><li id="2367" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">最后，可重用函数<strong class="kf io">被重构</strong>以增加可读性</li></ul></div><div class="ab cl nr ns hr nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ig ih ii ij ik"><h1 id="7c07" class="ln lo in bd lp lq ny ls lt lu nz lw lx jt oa ju lz jw ob jx mb jz oc ka md me bi translated">自我访谈反思</h1><h2 id="41ef" class="nb lo in bd lp nc nd dn lt ne nf dp lx km ng nh lz kq ni nj mb ku nk nl md nm bi translated">我觉得最熟悉的技术是什么？</h2><p id="b973" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated">我越来越习惯使用 Express 框架来设置 web 服务器。我可以生动地想象一个请求如何从客户机传到服务器，按照我写的顺序通过中间件，然后将响应发送回客户机。</p><p id="5f18" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">通过查看这个请求-响应过程，我更加理解为什么中间件被放置在某个位置，以及即使在呈现时我没有发送任何上下文对象，handlebars 如何读取一些属性。<em class="od">(提示:handlebars 正在读取响应以进行渲染)</em>后者可以帮助我设计一个更好的视图模板。</p><h2 id="864d" class="nb lo in bd lp nc nd dn lt ne nf dp lx km ng nh lz kq ni nj mb ku nk nl md nm bi translated">那最起码的呢？</h2><p id="070d" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated">起初，我认为 connect-flash 以一种神秘的方式工作。我不确定 flash 消息如何通过不同的模块传递。我被这个方法弄糊涂了。</p><p id="9c4b" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">我后来才知道，钥匙其实是在<code class="fe oe of og oh b">flash()</code>前面的<code class="fe oe of og oh b">request</code>物体。Express 中间件只是给请求/响应对象添加副作用的功能。通过看到这个事实，它帮助我更好地理解请求/响应周期。</p><p id="7de0" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">(<a class="ae kc" href="https://yumingchang1991.medium.com/express-middleware-explained-in-one-minute-671af8d5a3b9" rel="noopener">这是我的一分钟解释快速中间件的帖子</a>，如果你对它感兴趣的话)</p><h2 id="f357" class="nb lo in bd lp nc nd dn lt ne nf dp lx km ng nh lz kq ni nj mb ku nk nl md nm bi translated">道路上有什么障碍？我如何克服它们？</h2><p id="a06b" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated">我只列举几个障碍:</p><ul class=""><li id="6c4a" class="kz la in kf b kg kh kj kk km lb kq lc ku ld ky le lf lg lh bi translated">将 Mongo 文档中的日期类型格式化为 YYYY-MM-DD，以便数据可以在主页中按预期呈现，并作为编辑记录时的默认值。<br/>我看了 MongoDB 和 Mongoose 文档，了解了<code class="fe oe of og oh b">aggregation()</code>。然而，它与典型的猫鼬<code class="fe oe of og oh b">Model.find()</code>或<code class="fe oe of og oh b">Model.create</code>有些不同。如果我想使用<code class="fe oe of og oh b">aggregation</code>，我需要将当前基于承诺的链接重写到 async/await 中，以获得其返回的结果。我认为重构太费力了，所以只需写一个简单的帮助函数来返回想要的日期字符串。</li><li id="76dd" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">我希望在编辑现有文档时，所有的信息都预先填写在表格中。痛点是<code class="fe oe of og oh b">select</code>和<code class="fe oe of og oh b">option</code>。需要根据其输入动态选择其中一个选项。<br/>我查看了把手文档，发现我们可以将<code class="fe oe of og oh b">{{#if}}</code>与自定义助手结合起来，在视图模板中创建更复杂的条件。它非常有效。</li><li id="0ad2" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky le lf lg lh bi translated">有一个简单的客户端 JavaScript 通过<code class="fe oe of og oh b">express.static()</code>提供。我试了几次，但是客户端没有从服务器收到任何要执行的脚本。嗯，这是初学者的错误。我忘了在 html 文件中添加<code class="fe oe of og oh b">&lt;script&gt;</code>。我只是在几次尝试失败后突然想起这件事。</li></ul><h2 id="ae7d" class="nb lo in bd lp nc nd dn lt ne nf dp lx km ng nh lz kq ni nj mb ku nk nl md nm bi translated">在所有这些障碍中，我最喜欢哪一个？</h2><p id="7cc0" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated"><code class="fe oe of og oh b">aggregation</code>让我真正感到兴奋的是，数据在返回之前是如何在数据库中处理的；然而，它没有在这个项目中使用。</p><p id="dc24" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">因此，我会说最愉快的是车把定制助手。因为它扩展了我以更大的灵活性进行渲染的能力。我感觉越来越好了。</p><h2 id="ca27" class="nb lo in bd lp nc nd dn lt ne nf dp lx km ng nh lz kq ni nj mb ku nk nl md nm bi translated">还有其他外卖吗？</h2><p id="a604" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated">我发现在一个路径中直接使用渲染不会改变显示 URL，但是会让用户留在原来的路径中。这可能会引起一些不必要的混乱。</p><p id="2fd0" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，<code class="fe oe of og oh b">GET /users/register</code>会呈现一个注册表单。提交表单时，将路线定义为<code class="fe oe of og oh b">POST /users</code>更符合逻辑。然而，我们总是希望在服务器端执行某种形式的表单数据验证，当出现错误时，我们会将用户重定向回注册表单，将他们以前的输入作为默认值。如果我们将路径设计为<code class="fe oe of og oh b">POST /users/register</code>，那么我们可以直接在<code class="fe oe of og oh b">POST</code>路径中呈现注册页面，并非常容易地将用户输入传递给它。</p><p id="d99b" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">如果我们把它设计成<code class="fe oe of og oh b">POST /users</code>，那么如果我们直接渲染注册页面，用户 URL 就停留在<code class="fe oe of og oh b">/users</code>而不是<code class="fe oe of og oh b">/users/register</code>。使用<code class="fe oe of og oh b">POST /users</code>的主要缺点是我们需要找出另一种方法将用户输入传递给<code class="fe oe of og oh b">GET /users/register</code>。</p><p id="a6fc" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">没什么大不了的，使用<code class="fe oe of og oh b">POST /users/register</code>只是节省了一些开发痛苦，而没有放弃太多的路径可读性。</p></div><div class="ab cl nr ns hr nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ig ih ii ij ik"><h1 id="5b1b" class="ln lo in bd lp lq ny ls lt lu nz lw lx jt oa ju lz jw ob jx mb jz oc ka md me bi translated">下一步</h1><p id="aebb" class="pw-post-body-paragraph kd ke in kf b kg mf jo ki kj mg jr kl km mh ko kp kq mi ks kt ku mj kw kx ky ig bi translated">以下是我计划完善这个项目:</p><ol class=""><li id="ecaa" class="kz la in kf b kg kh kj kk km lb kq lc ku ld ky nq lf lg lh bi translated">制作不同的视图，按月和按类别，并使用聚合使计算发生在数据库中</li><li id="39b4" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky nq lf lg lh bi translated">实施忘记密码和更改密码</li><li id="da37" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky nq lf lg lh bi translated">重构当前代码</li><li id="ab86" class="kz la in kf b kg li kj lj km lk kq ll ku lm ky nq lf lg lh bi translated">制作一个按钮来切换内容显示语言</li></ol></div></div>    
</body>
</html>