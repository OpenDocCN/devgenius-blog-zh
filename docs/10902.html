<html>
<head>
<title>Chatbot Driven Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">èŠå¤©æœºå™¨äººé©±åŠ¨çš„å¼€å‘</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/chatbot-driven-development-fbb4392ff5b4?source=collection_archive---------10-----------------------#2022-12-06">https://blog.devgenius.io/chatbot-driven-development-fbb4392ff5b4?source=collection_archive---------10-----------------------#2022-12-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8268" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">ç”¨ OpenAI çš„ ChatGPT åˆ†äº«æˆ‘çš„ç¼–ç å®éªŒ</h2></div><p id="c2f0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated">ä½ å¯èƒ½å¬è¯´è¿‡<a class="ae lh" href="https://openai.com/blog/chatgpt/" rel="noopener ugc nofollow" target="_blank"> ChatGPT </a>ï¼Œå®ƒè‡ªå‘å¸ƒä»¥æ¥äººæ°”é£™å‡ï¼Œå·²ç»<a class="ae lh" href="https://twitter.com/sama/status/1599668808285028353?s=20&amp;t=i1HtKPGeYadE397wB6bX9Q" rel="noopener ugc nofollow" target="_blank">çªç ´ä¸€ç™¾ä¸‡ç”¨æˆ·</a>ã€‚äººä»¬ç”¨è¿™ä¸ªå·¥å…·åšä¸€äº›ç»å¯¹ä»¤äººæƒŠè®¶çš„äº‹æƒ…ï¼Œæ¯”å¦‚åœ¨é‡Œé¢å»ºä¸€ä¸ª<a class="ae lh" href="https://twitter.com/317070/status/1599152176344928256?s=20&amp;t=yW4LjC4-7IY8RyiQ_FYtaA" rel="noopener ugc nofollow" target="_blank">è™šæ‹Ÿæœº</a>æˆ–è€…<a class="ae lh" href="https://www.theguardian.com/technology/2022/dec/04/ai-bot-chatgpt-stuns-academics-with-essay-writing-skills-and-usability" rel="noopener ugc nofollow" target="_blank">å†™å­¦æœ¯è®ºæ–‡</a>ã€‚</p><p id="9fd7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">æˆ‘ä¹Ÿä¸èƒ½é”™è¿‡å°è¯•çš„æœºä¼šã€‚ç›®å‰ï¼Œæˆ‘æ­£åœ¨å­¦ä¹  Rust ç¼–ç¨‹è¯­è¨€(è€Œä¸”è§‰å¾—å¾ˆç¥å¥‡ï¼)ï¼Œå¹¶æ„å»ºå°é¡¹ç›®æ¥å®è·µã€‚å¦‚æœæˆ‘ç”¨äººå·¥æ™ºèƒ½åŠ©æ‰‹æ¥ä¿ƒè¿›æˆ‘çš„å­¦ä¹ ä¼šæ€ä¹ˆæ ·ï¼Ÿæˆ‘ä»¬å·²ç»æœ‰äº†åƒ<a class="ae lh" href="https://github.com/features/copilot" rel="noopener ugc nofollow" target="_blank"> Copilot </a>æˆ–<a class="ae lh" href="https://blog.replit.com/ai" rel="noopener ugc nofollow" target="_blank"> Ghostwriter </a>è¿™æ ·çš„ä¸“ç”¨å·¥å…·æ¥å¸®åŠ©ç¼–å†™ä»£ç ã€‚ä½†æ˜¯ä¹Ÿè®¸æœ‰å¯èƒ½æ›´è¿›ä¸€æ­¥ï¼Œç”¨ä¸€ä¸ªé€šç”¨çš„èŠå¤©æœºå™¨äººæ¥æ„å»ºè½¯ä»¶ï¼Œå®ƒå¯ä»¥ç»™æˆ‘ä»¬åé¦ˆå¹¶å¸®åŠ©æˆ‘ä»¬æ”¹è¿›ã€‚</p><p id="3e9a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">äº‹å®ä¸Šï¼Œä½¿ç”¨è‡ªç„¶è¯­è¨€æ¥æ„å»ºä»£ç å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„æƒ³æ³•ã€‚OpenAI ä¹‹å‰å‘å¸ƒäº†ä¸€ä¸ª<a class="ae lh" href="https://beta.openai.com/codex-javascript-sandbox" rel="noopener ugc nofollow" target="_blank"> JavaScript playground </a>ï¼Œå…è®¸ç”¨æˆ·ä½¿ç”¨æ–‡æœ¬å‘½ä»¤æ„å»º web åº”ç”¨ã€‚ç„¶è€Œï¼Œç”±äºä½¿ç”¨äº†å¤§å‹è¯­è¨€æ¨¡å‹ï¼ŒChatGPT å¹¶ä¸å±€é™äºä»»ä½•ç‰¹å®šçš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œä¸”åŠŸèƒ½æ›´åŠ å¼ºå¤§ã€‚</p><p id="02b6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†åˆ†äº«æˆ‘ä½¿ç”¨ ChatGPT æ„å»ºä¸€ä¸ªç®€å•çš„ Rust HTTP å®¢æˆ·ç«¯çš„ç»éªŒï¼Œè¯¥å®¢æˆ·ç«¯å‘â€¦ä¸€ä¸ª OpenAI æ¨¡å‹å‘é€è¯·æ±‚ï¼è¿™æ˜¯ä¸€ä¸ªéå¸¸åŸºæœ¬çš„æ¦‚å¿µéªŒè¯ï¼Œç”šè‡³ä¸æ˜¯ä¸€ä¸ª MVPã€‚ä½†æ˜¯å®ƒåº”è¯¥è®©æ‚¨å¯¹ ChatGPT çš„èƒ½åŠ›æœ‰æ‰€äº†è§£ã€‚æˆ‘ä»¬å¼€å§‹å§ï¼</p><blockquote class="li lj lk"><p id="f48e" class="kc kd ll ke b kf kg jo kh ki kj jr kk lm km kn ko ln kq kr ks lo ku kv kw kx ig bi translated">åœ¨è¿™é‡Œä½ å¯ä»¥æ‰¾åˆ°è¿™ç¯‡æ–‡ç« ä¸­åˆ›å»ºçš„ä»£ç ã€‚</p></blockquote><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/a25be1ce439c2f1fe0fd0d91884ffe2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iKmYrnJM14w2yDu39z8FGw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">æˆ‘æƒ…ä¸è‡ªç¦åœ°ä¸ºè¿™ç¯‡æ–‡ç« ç”Ÿæˆäº†ä¸€å¼ å°é¢å›¾ç‰‡ï¼Œå¹¶ä¸”ä½¿ç”¨äº†<a class="ae lh" href="https://openai.com/dall-e-2/" rel="noopener ugc nofollow" target="_blank"> OpenAI æ¨¡å‹</a>ã€‚</figcaption></figure><h1 id="36a3" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">0.ä»‹ç»</h1><p id="33e9" class="pw-post-body-paragraph kc kd in ke b kf mx jo kh ki my jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">æˆ‘ä½¿ç”¨ä»¥ä¸‹æ ¼å¼è§„åˆ™æ¥ç»„ç»‡æ–‡ç« ã€‚</p><ul class=""><li id="c7b2" class="nc nd in ke b kf kg ki kj kl ne kp nf kt ng kx nh ni nj nk bi translated">æˆ‘å‘å¸ƒåˆ°èŠå¤©å®¤çš„æ‰€æœ‰æ–‡æœ¬ç‰‡æ®µéƒ½ä»¥<strong class="ke io"> <em class="ll">æˆ‘å¼€å§‹ã€‚</em> </strong></li><li id="3ce9" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nh ni nj nk bi translated">åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä¸ä»…å†™äº†çº¯æ–‡æœ¬ï¼Œè¿˜å†™äº†å°ä»£ç ç‰‡æ®µæ¥å¼•å¯¼å¯¹è¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ç”¨é™ä»·å¼çš„ä¸‰ä¸ªåå‹¾å·å°†ä»£ç æ®µåŒ…è£…èµ·æ¥ã€‚</li><li id="02a1" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nh ni nj nk bi translated">ä»æ¨¡å‹æ¥æ”¶çš„å“åº”ä»¥<strong class="ke io"> <em class="ll"> ChatGPT </em> </strong>å¼€å§‹ã€‚</li><li id="d638" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nh ni nj nk bi translated">åœ¨æŸäº›(å¤§å¤šæ•°)æƒ…å†µä¸‹ï¼Œè¿™äº›å›ç­”è¢«ç¼–è¾‘ä»¥æ’é™¤ç”¨ç®€å•è‹±è¯­å†™çš„è¿‡äºå†—é•¿çš„ç‰‡æ®µæˆ–ç¼©çŸ­é‡å¤çš„ç‰‡æ®µï¼Œå¹¶ä¸”åªä¿ç•™æœ€ç›¸å…³çš„éƒ¨åˆ†ã€‚</li><li id="9885" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nh ni nj nk bi translated">æˆ‘å’Œ GPT çš„ä¿¡æ¯éƒ½æ˜¯ç”¨æ–œä½“å­—å†™çš„ã€‚æ–‡æœ¬çš„å…¶ä½™éƒ¨åˆ†ä»¥æ™®é€šå­—ä½“ä¹¦å†™(å°±åƒè¿™ä¸ªä»‹ç»ä¸€æ ·),ä»¥åŒ…å«é™„åŠ çš„æ³¨é‡Šã€‚</li><li id="d1e0" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nh ni nj nk bi translated">åœ¨æŸäº›åœ°æ–¹ï¼Œæˆ‘ä½¿ç”¨<code class="fe nq nr ns nt b">[sentenses in square brackets]</code>æ¥æ·»åŠ â€œå†…åµŒâ€è¯„è®ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸æ˜¯æ¥è‡ªèŠå¤©çš„ä¸€å­—ä¸å·®çš„æ¶ˆæ¯ã€‚</li><li id="a2f0" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nh ni nj nk bi translated">æœ€åï¼Œå½“æˆ‘ä½¿ç”¨èŠå¤©æœºå™¨äººæ—¶ï¼Œå®ƒä¸æ˜¯å¾ˆç¨³å®šï¼Œæ‰€ä»¥ï¼Œæˆ‘ä¸å¾—ä¸ä»å¤´å¼€å§‹å¯¹è¯å‡ æ¬¡ï¼Œæˆ–è€…ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„ç‰‡æ®µé‡æ–°ç”Ÿæˆç­”æ¡ˆã€‚</li></ul><h1 id="b694" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">I .ç¼–å†™ API å®¢æˆ·ç«¯</h1><p id="e9ed" class="pw-post-body-paragraph kc kd in ke b kf mx jo kh ki my jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">æˆ‘éœ€è¦ä½ å¸®æˆ‘å†™ä¸€ä¸ª Rust ç¨‹åºã€‚å‚è§è¦æ±‚:</em></p><ol class=""><li id="1b30" class="nc nd in ke b kf kg ki kj kl ne kp nf kt ng kx nu ni nj nk bi translated">è¯¥ç¨‹åºæ˜¯ä¸€ä¸ªç®€å•çš„ CLI å®¢æˆ·ç«¯ï¼Œç”¨äºæ‰“å¼€åŸºäº AI GPT çš„æ¨¡å‹ã€‚</li><li id="2f05" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated"><em class="ll">ç¨‹åºå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºæç¤ºï¼Œå‘ API å‘å‡ºè¯·æ±‚ã€‚</em></li><li id="7e33" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated"><em class="ll">å®ƒä» env å˜é‡æˆ–ã€‚env æ–‡ä»¶(å¦‚æœå­˜åœ¨)ã€‚</em></li><li id="ff6d" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated"><em class="ll">å¦‚æœæ²¡æœ‰æä¾› API å¯†é’¥/ä»¤ç‰Œï¼Œå®ƒä¼šè¦æ±‚éªŒè¯ã€‚</em></li><li id="ff23" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated">ç¨‹åºå¯ä»¥ä½¿ç”¨ä»»ä½•ä½ è®¤ä¸ºæœ‰åŠ©äºè¾¾åˆ°è¦æ±‚ç»“æœçš„æ¿æ¡ç®±ã€‚</li></ol><p id="6c12" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> ChatGPT: </em> </strong> <code class="fe nq nr ns nt b">[phrases in plain English are omitted]</code></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="43f1" class="nz mg in nt b be oa ob l oc od">use std::env;<br/><br/>// Import the OpenAI API client crate<br/>use openai::Client;<br/><br/>// Read the API credentials from environment variables<br/>let api_key = env::var("OPENAI_API_KEY").expect("OPENAI_API_KEY must be set");<br/><br/>// Create a new client with the API key<br/>let client = Client::new(api_key);<br/><br/>// Prompt the user for input<br/>println!("Enter a prompt:");<br/>let mut prompt = String::new();<br/>stdin().read_line(&amp;mut prompt)?;<br/><br/>// Use the client to make a request to the API<br/>let response = client.completions(prompt, None, None, None)?;<br/><br/>// Print the response<br/>println!("{:?}", response);</span></pre><p id="e9a0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">å¥½å§ï¼Œå°±è¯´æˆ‘æ²¡æœ‰</em> <code class="fe nq nr ns nt b"><em class="ll">openai</em></code> <em class="ll">æ¿æ¡ç®±å§ã€‚ä¸ºæˆ‘å†™ä¸€ä¸ªç®€å•çš„å®ç°ï¼Œç”¨</em> <code class="fe nq nr ns nt b"><em class="ll">reqwest</em></code> <em class="ll">æ¿æ¡ç®±ä»£æ›¿ã€‚</em></p><p id="1298" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"><em class="ll">ChatGPT:</em></strong>T4ã€‘</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="7be3" class="nz mg in nt b be oa ob l oc od">use std::env;<br/><br/>// Import the reqwest crate<br/>use reqwest;<br/><br/>// Read the API credentials from environment variables<br/>let api_key = env::var("OPENAI_API_KEY").expect("OPENAI_API_KEY must be set");<br/><br/>// Prompt the user for input<br/>println!("Enter a prompt:");<br/>let mut prompt = String::new();<br/>stdin().read_line(&amp;mut prompt)?;<br/><br/>// Build the request URL with the prompt and API key<br/>let url = format!("https://api.openai.com/v1/completions/models/davinci/versions/1?prompt={}&amp;api_key={}", prompt, api_key);<br/><br/>// Send the request and parse the JSON response<br/>let response: serde_json::Value = reqwest::get(url)?.json()?;<br/><br/>// Print the response<br/>println!("{:?}", response);</span></pre><p id="a39e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> Me: </em> </strong> <em class="ll">è¯·å°†åˆ›å»ºå¥½çš„çº¿æ¡éšè—åœ¨ä¸“ç”¨å®¢æˆ·ç«¯å¯¹è±¡åé¢ã€‚å®ƒå¯èƒ½çœ‹èµ·æ¥å¦‚ä¸‹:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="1513" class="nz mg in nt b be oa ob l oc od">pub struct Client {<br/>    /// add any fields you deem necessary<br/>}<br/>impl Client {<br/>    pub fn authenticate(&amp;mut self) {<br/>        /// does API authentication if not authenticated yet<br/>    }<br/>    pub fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>        /// implement the request and return result as a dedicated result structure<br/>    }<br/>    /// any other methods you might need<br/>}</span></pre><p id="76a8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> ChatGPT: </em> </strong></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="3835" class="nz mg in nt b be oa ob l oc od">use std::env;<br/>use std::error::Error;<br/><br/>// Import the reqwest crate<br/>use reqwest;<br/><br/>// Import the serde_json crate<br/>use serde_json;<br/><br/>// Define a result type for the API response<br/>type OpenAIResult = Result&lt;serde_json::Value, Box&lt;dyn Error&gt;&gt;;<br/><br/>// Define the Client struct<br/>pub struct Client {<br/>    api_key: String,<br/>    authenticated: bool,<br/>}<br/><br/>impl Client {<br/>    // Implement the authenticate method<br/>    pub fn authenticate(&amp;mut self) {<br/>        if !self.authenticated {<br/>            // Read the API key from environment variables<br/>            self.api_key = env::var("OPENAI_API_KEY").expect("OPENAI_API_KEY must be set");<br/>            self.authenticated = true;<br/>        }<br/>    }<br/><br/>    // Implement the prompt method<br/>    pub fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>        // Build the request URL with the prompt and API key<br/>        let url = format!("https://api.openai.com/v1/completions/models/davinci/versions/1?prompt={}&amp;api_key={}", message, self.api_key);<br/><br/>        // Send the request and parse the JSON response<br/>        let response: serde_json::Value = reqwest::get(url)?.json()?;<br/><br/>        // Return the response<br/>        Ok(response)<br/>    }<br/>}</span></pre><p id="f180" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">ç¼–è¾‘ä¸€ä¸‹ä½ çš„è§£å†³æ–¹æ¡ˆã€‚ä¸è¦ä½¿ç”¨ä»»ä½•ç¡¬ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å°†å®ƒä»¬æ”¾å…¥å…¨å±€å˜é‡å’Œ/æˆ–åŠ¨æ€æ„é€ ã€‚</em></p><p id="81e2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> ChatGPT: </em> </strong></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="1eac" class="nz mg in nt b be oa ob l oc od">use std::env;<br/>use std::error::Error;<br/><br/>// Import the reqwest crate<br/>use reqwest;<br/><br/>// Import the serde_json crate<br/>use serde_json;<br/><br/>// Define a result type for the API response<br/>type OpenAIResult = Result&lt;serde_json::Value, Box&lt;dyn Error&gt;&gt;;<br/><br/>// Define global variables for the API endpoint and model<br/>const API_ENDPOINT: &amp;str = "https://api.openai.com/v1/completions/models/";<br/>const MODEL: &amp;str = "davinci";<br/>const MODEL_VERSION: &amp;str = "1";<br/><br/>// Define the Client struct<br/>pub struct Client {<br/>    api_key: String,<br/>    authenticated: bool,<br/>}<br/><br/>impl Client {<br/>    // Implement the authenticate method<br/>    pub fn authenticate(&amp;mut self) {<br/>        if !self.authenticated {<br/>            // Read the API key from environment variables<br/>            self.api_key = env::var("OPENAI_API_KEY").expect("OPENAI_API_KEY must be set");<br/>            self.authenticated = true;<br/>        }<br/>    }<br/><br/>    // Implement the prompt method<br/>    pub fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>        // Build the request URL with the prompt, model, and API key<br/>        let url = format!("{}{}/versions/{}?prompt={}&amp;api_key={}", API_ENDPOINT, MODEL, MODEL_VERSION, message, self.api_key);<br/><br/>        // Send the request and parse the JSON response<br/>        let response: serde_json::Value = reqwest::get(url)?.json()?;<br/><br/>        // Return the response<br/>        Ok(response)<br/>    }<br/>}</span></pre><p id="21d7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">å†™ä¸€ç³»åˆ—å‘½ä»¤ï¼Œæˆ‘éœ€è¦æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥è®¾ç½®ä½ ä¸Šé¢åˆ›å»ºçš„é¡¹ç›®ã€‚</em></p><p id="650a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> ChatGPT: </em> </strong> <code class="fe nq nr ns nt b">[returns a response with lots of text between commands]</code></p><p id="6a3e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">å¯¹äºä¸Šé¢ä½ ç»™æˆ‘çš„ç­”æ¡ˆï¼Œå»æ‰æ‰€æœ‰ç”¨è‹±æ–‡å†™çš„â€œçº¯æ–‡æœ¬â€ï¼Œåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ä»£ç ç‰‡æ®µï¼Œä½œä¸º bash å‘½ä»¤çš„åºåˆ—ï¼Œæ¥å®ç°ç»“æœã€‚</em></p><p id="a0b3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä¸‹é¢æ˜¯ä¸€ç³»åˆ— bash å‘½ä»¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬åœ¨ Rust ä¸­ä¸ºåŸºäº OpenAI GPT çš„æ¨¡å‹å»ºç«‹ä¸€ä¸ªç®€å•çš„ CLI å®¢æˆ·ç«¯é¡¹ç›®ã€‚</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="45ae" class="nz mg in nt b be oa ob l oc od"># Install the Rust programming language<br/>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh<br/><br/># Create a new project directory and navigate to it<br/>mkdir openai-client<br/>cd openai-client<br/><br/># Initialize a new Rust project with cargo<br/>cargo init<br/><br/># Edit the Cargo.toml file and add the reqwest and serde_json crates as dependencies<br/>echo '[dependencies]' &gt;&gt; Cargo.toml<br/>echo 'reqwest = "0.10"' &gt;&gt; Cargo.toml<br/>echo 'serde_json = "1.0"' &gt;&gt; Cargo.toml<br/><br/># Create a new file named src/main.rs<br/>touch src/main.rs<br/><br/># Copy the code for the Client struct into src/main.rs<br/>echo 'use std::env;<br/>use std::error::Error;<br/><br/>// Import the reqwest crate<br/>use reqwest;<br/><br/>// Import the serde_json crate<br/>use serde_json;<br/><br/>// Define a result type for the API response<br/>type OpenAIResult = Result&lt;serde_json::Value, Box&lt;dyn Error&gt;&gt;;<br/><br/>// Define global variables for the API endpoint and model<br/>const API_ENDPOINT: &amp;str = "https://api.openai.com/v1/completions/models/";<br/>const MODEL: &amp;str = "davinci";<br/>const MODEL_VERSION: &amp;str = "1";<br/><br/>// Define the Client struct<br/>pub struct Client {<br/>    api_key: String,<br/>    authenticated: bool,<br/>}<br/><br/>impl Client {<br/>    // Implement the authenticate method<br/>    pub fn authenticate(&amp;mut self) {<br/>        if !self.authenticated {<br/>            // Read the API key from environment variables<br/>            self.api_key = env::var("OPENAI_API_KEY").expect("OPENAI_API_KEY must be set");<br/>            self.authenticated = true;<br/>        }<br/>    }<br/><br/>    // Implement the prompt method<br/>    pub fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>        // Build the request URL with the prompt, model, and API key<br/>        let url = format!("{}{}/versions/{}?prompt={}&amp;api_key={}", API_ENDPOINT, MODEL, MODEL_VERSION, message, self.api_key);<br/><br/>        // Send the request and parse the JSON response<br/>        let response: serde_json::Value = reqwest::get(url)?.json()?;<br/><br/>        // Return the response<br/>        Ok(response)<br/>    }<br/>}' &gt;&gt; src/main.rs<br/><br/># Build and run the project<br/>cargo run</span></pre><p id="722e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">å·®ä¸å¤šäº†ï¼ä½†æ˜¯ï¼Œæ‚¨åˆ›å»ºçš„</em> <code class="fe nq nr ns nt b"><em class="ll">main.rs</em></code> <em class="ll">æ–‡ä»¶æ— æ•ˆã€‚å®ƒä¸å…·å¤‡</em> <code class="fe nq nr ns nt b"><em class="ll">main</em></code> <em class="ll">åŠŸèƒ½ã€‚è¯·ç¼–è¾‘æ‚¨åˆ›å»ºçš„ä»£ç ç‰‡æ®µï¼Œä½¿å…¶åŒ…å«ä¸€ä¸ªåŸºæœ¬çš„ main å‡½æ•°ï¼Œè¯¥å‡½æ•°ä» args è·å–ç”¨æˆ·æç¤ºï¼Œå¹¶å‘ API å‘é€è¯·æ±‚ã€‚</em></p><p id="6889" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> ChatGPT: </em> </strong> <code class="fe nq nr ns nt b">[updates the script adding main function; showing the updated part only]</code></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="cf68" class="nz mg in nt b be oa ob l oc od">... // [the rest of the code goes above]<br/><br/>// Define the main function<br/>fn main() {<br/>    // Create a new client<br/>    let mut client = Client {<br/>        api_key: "".to_string(),<br/>        authenticated: false,<br/>    };<br/><br/>    // Authenticate the client<br/>    client.authenticate();<br/><br/>    // Read the prompt from command-line arguments<br/>    let args: Vec&lt;String&gt; = env::args().collect();<br/>    if args.len() &lt; 2 {<br/>        eprintln!("Usage: openai-client &lt;prompt&gt;");<br/>        process::exit(1);<br/>    }<br/>    let prompt = &amp;args[1];<br/><br/>    // Use the client to make a request to the API<br/>    let response = client.prompt(prompt).unwrap();<br/><br/>    // Print the response<br/>    println!("{:?}", response);<br/>}</span></pre><p id="044d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">ç°åœ¨ï¼Œè¿˜æœ‰ä¸€ä»¶äº‹ã€‚è¯·åˆ›å»ºä¸€ä¸ª</em> <code class="fe nq nr ns nt b"><em class="ll">Client::new</em></code> <em class="ll">æ¥åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå…¶</em> <code class="fe nq nr ns nt b"><em class="ll">api_key</em></code> <em class="ll">å­—ç¬¦ä¸²ä¸ºç©ºï¼Œå¹¶ä¸”</em> <code class="fe nq nr ns nt b"><em class="ll">false</em></code> <em class="ll">å­—æ®µçš„å€¼ä¸º</em> <code class="fe nq nr ns nt b"><em class="ll">authenticated</em></code> <em class="ll">å­—æ®µï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ä»£æ›¿åˆ›å»ºå®¢æˆ·ç«¯çš„å®ä¾‹ã€‚å› æ­¤ï¼Œæ›´æ–°åçš„è¡Œåº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="c502" class="nz mg in nt b be oa ob l oc od">let mut client = Client::new();</span></pre><p id="091d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> ChatGPT: </em> </strong> <code class="fe nq nr ns nt b">[unfortunately, this time, the conversation stopped abruptly; the snippet was trimmed half-way, and the model was thinking indefinitely without any further outout; so, I left the snippet as is]</code></p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="cbf4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å“¦ï¼ŒçœŸä»¤äººå°è±¡æ·±åˆ»ï¼è¯¥æ¨¡å‹å‡†ç¡®åœ°è·Ÿè¸ªå¯¹è¯ï¼Œå¹¶æ ¹æ®è¯·æ±‚å¯¹ä»£ç è¿›è¡Œé€‚å½“çš„ä¿®æ”¹ã€‚å…³é”®æ—¶åˆ»:åœ¨æœ¬åœ°å¤åˆ¶ç²˜è´´ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªç¼ºå°‘çš„ä¸»å‡½æ•°ï¼Œå¹¶å°è¯•è¿è¡Œå®ƒï¼</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="1dc3" class="nz mg in nt b be oa ob l oc od">chmod +x create_client.sh<br/>./create_client.sh</span></pre><blockquote class="ol"><p id="762b" class="om on in bd oo op oq or os ot ou kx dk translated">æˆ‘ä»¬åˆ°äº†å—ï¼Ÿå—¯ï¼Œä¸å®Œå…¨æ˜¯â€¦</p></blockquote><pre class="ov ow ox oy oz nv nt nw bn nx ny bi"><span id="3d5e" class="nz mg in nt b be oa ob l oc od">error[E0433]: failed to resolve: use of undeclared crate or module `process`<br/>  --&gt; src/main.rs:62:9<br/>   |<br/>62 |         process::exit(1);<br/>   |         ^^^^^^^ use of undeclared crate or module `process`<br/><br/>error[E0277]: the trait bound `std::string::String: IntoUrl` is not satisfied<br/>   --&gt; src/main.rs:40:56<br/>    |<br/>40  |         let response: serde_json::Value = reqwest::get(url)?.json()?;<br/>    |                                           ------------ ^^^ expected an implementor of trait `IntoUrl`<br/>    |                                           |<br/>    |                                           required by a bound introduced by this call<br/>    |<br/>    = note: required because of the requirements on the impl of `IntoUrl` for `std::string::String`<br/>note: required by a bound in `reqwest::get`<br/>   --&gt; [...].cargo/registry/src/github.com-1ecc6299db9ec823/reqwest-0.10.10/src/lib.rs:256:21<br/>    |<br/>256 | pub async fn get&lt;T: IntoUrl&gt;(url: T) -&gt; crate::Result&lt;Response&gt; {<br/>    |                     ^^^^^^^ required by this bound in `reqwest::get`<br/>help: consider borrowing here<br/>    |<br/>40  |         let response: serde_json::Value = reqwest::get(&amp;url)?.json()?;<br/>    |                                                        +<br/><br/>error[E0277]: the `?` operator can only be applied to values that implement `Try`<br/>  --&gt; src/main.rs:40:43<br/>   |<br/>40 |         let response: serde_json::Value = reqwest::get(url)?.json()?;<br/>   |                                           ^^^^^^^^^^^^^^^^^^ the `?` operator cannot be applied to type `impl Future&lt;Output = Result&lt;Response, reqwest::Error&gt;&gt;`<br/>   |<br/>   = help: the trait `Try` is not implemented for `impl Future&lt;Output = Result&lt;Response, reqwest::Error&gt;&gt;`<br/><br/>Some errors have detailed explanations: E0277, E0433.<br/>For more information about an error, try `rustc --explain E0277`.<br/>error: could not compile `openai-client` due to 3 previous errors</span></pre><p id="b9d4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œè¿™ä¸ªç‰‡æ®µä¸å¤ªæ­£ç¡®ã€‚</p><ol class=""><li id="0d90" class="nc nd in ke b kf kg ki kj kl ne kp nf kt ng kx nu ni nj nk bi translated">ç”Ÿæˆçš„ bash è„šæœ¬ä½¿ç”¨<code class="fe nq nr ns nt b">&gt;&gt;</code>æ“ä½œç¬¦å°†åˆ›å»ºçš„ä»£ç é™„åŠ åˆ°<code class="fe nq nr ns nt b">main.rs</code>ä¸­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨<code class="fe nq nr ns nt b">&gt;</code>ä»å¤´å¼€å§‹åˆ›å»ºæ–‡ä»¶ã€‚(æ‰€ä»¥ï¼Œä½ æœ€åå¾—åˆ°äº†<em class="ll">ä¸¤ä¸ª</em>ä¸»å‡½æ•°ã€‚)</li><li id="3217" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated">å®ƒè¿˜å‘æˆ‘æ‰‹åŠ¨ä¿®å¤çš„ TOML æ–‡ä»¶ä¸­å†™å…¥äº†ä¸€ä¸ªé¢å¤–çš„<code class="fe nq nr ns nt b">[dependencies]</code>è¡Œï¼Œä»¥ä¾¿è®©<code class="fe nq nr ns nt b">cargo run</code>å·¥ä½œã€‚</li><li id="eb21" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated">æ¼æ‰äº†åŒ…æ‹¬<code class="fe nq nr ns nt b">std::process</code>ã€‚</li><li id="187e" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated">ä¾èµ–ç‰ˆæœ¬å¾ˆé‡è¦:<code class="fe nq nr ns nt b">reqwest=0.10</code>é»˜è®¤ä½¿ç”¨å¼‚æ­¥ APIï¼Œå› æ­¤ä¸èƒ½ä¸ ChatGPT ç”Ÿæˆçš„ä»£ç ä¸€èµ·å·¥ä½œã€‚å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ:ç”¨<code class="fe nq nr ns nt b">#[tokio::main]</code>ä¿®é¥°ä¸»å‡½æ•°ï¼Œä½¿å…¶å¼‚æ­¥ï¼Œæˆ–è€…é™çº§ç‰ˆæœ¬ä½¿ç”¨åŒæ­¥ APIã€‚</li><li id="bf07" class="nc nd in ke b kf nl ki nm kl nn kp no kt np kx nu ni nj nk bi translated">æœ€åï¼Œå®ƒåº”è¯¥ä½¿ç”¨<code class="fe nq nr ns nt b">&amp;url</code>è€Œä¸ä»…ä»…æ˜¯<code class="fe nq nr ns nt b">url</code>ã€‚</li></ol><p id="3acc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">æˆ‘åœ¨å°è¯•è¿è¡Œç”Ÿæˆçš„è„šæœ¬å’Œç›‘å¬ç¼–è¯‘å™¨æ—¶å‘ç°äº†è¿™äº›é”™è¯¯ï¼Œå¹¶åœ¨ç¼–è¾‘å™¨ä¸­ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°ä¿®å¤å®ƒä»¬ã€‚ä½†é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒçœ‹èµ·æ¥å¾ˆæœ‰é“ç†ï¼å¹¶ä¸”ï¼Œå‡†ç¡®åœ°éµå¾ªè¯´æ˜ã€‚</p><p id="0e13" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å¦‚æœæˆ‘ä»¬èƒ½è®©æœºå™¨äººå¸®æˆ‘ä»¬ä¿®å¤ bug å‘¢ï¼Ÿæˆ‘ä»¬æ¥è¯•è¯•å§ï¼</p><h1 id="8e69" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">äºŒã€‚ä¿®å¤ bug</h1><p id="d5c9" class="pw-post-body-paragraph kc kd in ke b kf mx jo kh ki my jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">æˆ‘æœ‰ä¸€ä¸ªé”ˆç¨‹åºï¼Œä¸èƒ½ç¼–è¯‘ã€‚æˆ‘ä¼šç»™ä½ çœ‹æˆ‘ç¨‹åºçš„å†…å®¹ï¼Œè¿˜æœ‰é”™è¯¯ã€‚è¯·å‘Šè¯‰æˆ‘å“ªé‡Œæœ‰é”™è¯¯ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶(æˆ–æ–‡ä»¶)ä¸æ›´æ–°çš„å†…å®¹ï¼Œæˆ‘å¯ä»¥ç”¨æ¥æˆåŠŸåœ°ç¼–è¯‘ä»£ç ã€‚</em></p><p id="07de" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">ä¸‹é¢æ˜¯æˆ‘çš„æºä»£ç :</em> <code class="fe nq nr ns nt b">[copy-pasted main.rs script that doesn't compile]</code></p><p id="7b9b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">ä¸‹é¢æ˜¯æˆ‘çš„é”™è¯¯:</em> <code class="fe nq nr ns nt b">[copy-pasted error output coming from the Rust compiler]</code></p><p id="ec9f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"><em class="ll">ChatGPT:</em></strong><em class="ll">ä»£ç ä¸­æ²¡æœ‰å®šä¹‰</em> <code class="fe nq nr ns nt b"><em class="ll">process</em></code> <em class="ll">æ¨¡å—ã€‚</em> <code class="fe nq nr ns nt b"><em class="ll">process</em></code> <em class="ll">æ¨¡å—æ˜¯</em> <code class="fe nq nr ns nt b"><em class="ll">std::process</em></code> <em class="ll">æœºç®±çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦åœ¨æ–‡ä»¶å¼€å¤´å¯¼å…¥ã€‚å¦å¤–ï¼Œç¬¬ 40 è¡Œçš„</em> <code class="fe nq nr ns nt b"><em class="ll">url</em></code> <em class="ll">å˜é‡æ˜¯ä¸€ä¸ª</em> <code class="fe nq nr ns nt b"><em class="ll">String</em></code> <em class="ll">ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸º</em> <code class="fe nq nr ns nt b"><em class="ll">Url</em></code> <em class="ll">ç±»å‹ï¼Œä»¥ä¾¿ä½œä¸ºå‚æ•°ä¼ é€’ç»™</em> <code class="fe nq nr ns nt b"><em class="ll">reqwest::get</em></code> <em class="ll">æ–¹æ³•ã€‚</em></p><p id="4d14" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">ä¸‹é¢æ˜¯ä»£ç çš„æ›´æ–°ç‰ˆæœ¬ï¼Œç¼–è¯‘æ—¶ä¸ä¼šå‡ºé”™:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="4aa1" class="nz mg in nt b be oa ob l oc od">use std::env;<br/>use std::error::Error;<br/>use std::process;<br/><br/>// [same as before]<br/><br/>impl Client {<br/>    // Implement the authenticate method<br/>    pub fn authenticate(&amp;mut self) { ... }<br/><br/>    // Implement the prompt method<br/>    pub fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>        // Build the request URL with the prompt, model, and API key<br/>        let url = format!("{}{}/versions/{}?prompt={}&amp;api_key={}", API_ENDPOINT, MODEL, MODEL_VERSION, message, self.api_key);<br/><br/>        // Convert the URL to a `Url` type and send the request<br/>        let url: reqwest::Url = url.parse()?;<br/>        let response: serde_json::Value = reqwest::get(url)?.json()?;<br/><br/>        // Return the response<br/>        Ok(response)<br/>    }<br/>}<br/><br/>// [same as before]</span></pre></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="589b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å®ƒæ•æ‰åˆ°äº†<code class="fe nq nr ns nt b">std::process</code>çš„é—®é¢˜ï¼Œä¹Ÿå¯¹<code class="fe nq nr ns nt b">url</code>å˜é‡åšäº†ä¸€äº›ä¿®æ”¹ã€‚æœ‰ç”¨å—ï¼Ÿ</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="56ac" class="nz mg in nt b be oa ob l oc od">   Compiling openai-client v0.1.0 (...)<br/>error[E0277]: the `?` operator can only be applied to values that implement `Try`<br/>  --&gt; src/main.rs:42:43<br/>   |<br/>42 |         let response: serde_json::Value = reqwest::get(url)?.json()?;<br/>   |                                           ^^^^^^^^^^^^^^^^^^ the `?` operator cannot be applied to type `impl Future&lt;Output = Result&lt;Response, reqwest::Error&gt;&gt;`<br/>   |<br/>   = help: the trait `Try` is not implemented for `impl Future&lt;Output = Result&lt;Response, reqwest::Error&gt;&gt;`<br/><br/>For more information about this error, try `rustc --explain E0277`.<br/>error: could not compile `openai-client` due to previous error</span></pre><p id="3105" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">è¿˜æ²¡æœ‰ï¼è®©æˆ‘ä»¬è¦æ±‚ä¸€ä¸ªè§£å†³æ–¹æ¡ˆâ€¦</p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="8c21" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">å—¯ï¼Œç‰‡æ®µè¿˜æ˜¯å¤±è´¥ã€‚è¿™ä¸€æ¬¡ï¼Œé”™è¯¯æ˜¯:[å¤åˆ¶ç²˜è´´ä¸Šé¢çš„é”™è¯¯] </em></p><p id="f6cd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"><em class="ll">ChatGPT:</em></strong><em class="ll">è¯¥é”™è¯¯æ¶ˆæ¯è¡¨æ˜</em> <code class="fe nq nr ns nt b"><em class="ll">?</em></code> <em class="ll">è¿ç®—ç¬¦ä¸èƒ½ä¸</em> <code class="fe nq nr ns nt b"><em class="ll">impl Future&lt;Output = Result&lt;Response, reqwest::Error&gt;&gt;</em></code> <em class="ll">ç±»å‹çš„å€¼ä¸€èµ·ä½¿ç”¨ã€‚åœ¨ Rust ä¸­ï¼Œ</em> <code class="fe nq nr ns nt b"><em class="ll">?</em></code> <em class="ll">è¿ç®—ç¬¦åªèƒ½åº”ç”¨äºå®ç°</em> <code class="fe nq nr ns nt b"><em class="ll">Try</em></code> <em class="ll">ç‰¹å¾çš„å€¼ã€‚</em></p><p id="b231" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll"/><code class="fe nq nr ns nt b"><em class="ll">reqwest::get</em></code><em class="ll">æ–¹æ³•è¿”å›ä¸€ä¸ª</em> <code class="fe nq nr ns nt b"><em class="ll">Future</em></code> <em class="ll">ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯èƒ½è¿˜ä¸å¯ç”¨çš„å€¼ã€‚ä¸ºäº†å°†</em> <code class="fe nq nr ns nt b"><em class="ll">?</em></code> <em class="ll">è¿ç®—ç¬¦ä¸</em> <code class="fe nq nr ns nt b"><em class="ll">reqwest::get</em></code> <em class="ll">æ–¹æ³•çš„ç»“æœä¸€èµ·ä½¿ç”¨ï¼Œå¿…é¡»ä½¿ç”¨</em> <code class="fe nq nr ns nt b"><em class="ll">await</em></code> <em class="ll">å…³é”®å­—å°†</em> <code class="fe nq nr ns nt b"><em class="ll">Future</em></code> <em class="ll">è½¬æ¢ä¸º</em> <code class="fe nq nr ns nt b"><em class="ll">Result</em></code> <em class="ll">ã€‚</em></p><p id="6a32" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">ä¸‹é¢æ˜¯ä»£ç çš„æ›´æ–°ç‰ˆæœ¬ï¼Œç¼–è¯‘æ—¶ä¸ä¼šå‡ºé”™:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="abac" class="nz mg in nt b be oa ob l oc od">use std::env;<br/>use std::error::Error;<br/>use std::process;<br/><br/>// Import the reqwest crate<br/>use reqwest;<br/><br/>// Import the serde_json crate<br/>use serde_json;<br/><br/>// Define a result type for the API response<br/>type OpenAIResult = Result&lt;serde_json::Value, Box&lt;dyn Error&gt;&gt;;<br/><br/>// Define global variables for the API endpoint and model<br/>const API_ENDPOINT: &amp;str = "https://api.openai.com/v1/completions/models/";<br/>const MODEL: &amp;str = "davinci";<br/>const MODEL_VERSION: &amp;str = "1";<br/><br/>// Define the Client struct<br/>pub struct Client {<br/>    api_key: String,<br/>    authenticated: bool,<br/>}<br/><br/>impl Client {<br/>    // Implement the authenticate method<br/>    pub fn authenticate(&amp;mut self) {<br/>        if !self.authenticated {<br/>            // Read the API key from environment variables<br/>            self.api_key = env::var("OPENAI_API_KEY").expect("OPENAI_API_KEY must be set");<br/>            self.authenticated = true;<br/>        }<br/>    }<br/><br/>    // Implement the prompt method<br/>    pub async fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>        // Build the request URL with the prompt, model, and API key<br/>        let url = format!("{}{}/versions/{}?prompt={}&amp;api_key={}", API_ENDPOINT, MODEL, MODEL_VERSION, message, self.api_key);<br/><br/>        // Convert the URL to a `Url` type and send the request<br/>        let url: reqwest::Url = url.parse()?;<br/>        let response: serde_json::Value = reqwest::get(url).await?.json().await?;<br/><br/>        // Return the response<br/>        Ok(response)<br/>    }<br/>}<br/><br/>// Define the main function<br/>#[tokio::main]<br/>async fn main() {<br/>    // Create a new client<br/>    let mut client = Client {<br/>        api_key: "".to_string(),<br/>        authenticated: false,<br/>    };<br/><br/>    // Authenticate the client<br/>    client.authenticate();<br/><br/>    // Read the prompt from command-line arguments<br/>    let args: Vec&lt;String&gt; = env::args().collect();<br/>    if args.len() &lt; 2 {<br/>        eprintln!("Usage: openai-client &lt;prompt&gt;");<br/>        process::exit(1);<br/>    }<br/>    let prompt = &amp;args[1];<br/><br/>    // Use the client to make a request to the API<br/>    let response = client.prompt(prompt).await.unwrap();<br/><br/>    // Print the response<br/>    println!("{:?}", response);<br/>}</span></pre><p id="b9ec" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">æ³¨</em> <code class="fe nq nr ns nt b">[it is defintely wanted to add some comment, but stopped here.]</code></p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="c6e4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">è¿™æ˜¯å¾ˆå¥½çš„è¿›æ­¥ï¼è¿™ä¸€æ¬¡ï¼Œä»£ç ç‰‡æ®µä½¿ç”¨äº†å¼‚æ­¥ APIï¼Œç¼–è¯‘é”™è¯¯çš„æ•°é‡å‡å°‘äº†ã€‚ç„¶è€Œï¼Œä»£ç ä»ç„¶ä¸å·¥ä½œï¼Œå› ä¸ºæˆ‘ä»¬è¿˜éœ€è¦å¯¹ TOML æ–‡ä»¶æ·»åŠ ä¸€äº›ä¿®æ­£ã€‚(ä¹Ÿè®¸æˆ‘ä¹Ÿåº”è¯¥æŠŠæ–‡ä»¶çš„å†…å®¹ä¼ é€’ç»™æœºå™¨äººï¼Ÿ)</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="e153" class="nz mg in nt b be oa ob l oc od">[dependencies]<br/>tokio = { version = "0.2", features = ["full"] }<br/>reqwest = { version = "0.10", features = ["json"] }</span></pre><p id="2343" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å¦åˆ™ï¼Œä»£ç ç‰‡æ®µè¿™æ¬¡æˆåŠŸç¼–è¯‘ï¼ä½†æ˜¯çœŸçš„ç®¡ç”¨å—ï¼Ÿ</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="46ac" class="nz mg in nt b be oa ob l oc od">Object {"error": Object {"code": Null, "message": String("Invalid URL (GET /v1/completions/models/davinci/versions/1)"), "param": Null, "type": String("invalid_request_error")}}</span></pre><p id="aa21" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">æ˜¾ç„¶ï¼Œç«¯ç‚¹å’Œ/æˆ–å‚æ•°æ˜¯é”™è¯¯çš„ã€‚è®©æˆ‘ä»¬å†ä¸€æ¬¡å¯»æ±‚å¸®åŠ©ï¼è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–‡æ¡£ä¸­<a class="ae lh" href="https://beta.openai.com/docs/api-reference/making-requests" rel="noopener ugc nofollow" target="_blank">çš„ä¸€ä¸ªä¾‹å­æ¥æç¤ºè¿™ä¸ªæ¨¡å‹ã€‚</a></p><h1 id="2dc5" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">ä¸‰ã€‚å‘é€è¯·æ±‚</h1><p id="bbe8" class="pw-post-body-paragraph kc kd in ke b kf mx jo kh ki my jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> Me </em> </strong> <em class="ll">:æˆ‘ç”¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µåšä¸€ä¸ªæ‰“å¼€ AI API çš„è¯·æ±‚ã€‚</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="dd37" class="nz mg in nt b be oa ob l oc od">const API_ENDPOINT: &amp;str = "https://api.openai.com/v1/completions/models/";<br/>const MODEL: &amp;str = "davinci";<br/>const MODEL_VERSION: &amp;str = "1";<br/><br/>pub async fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>    // Build the request URL with the prompt, model, and API key<br/>    let url = format!("{}{}/versions/{}?prompt={}&amp;api_key={}", API_ENDPOINT, MODEL, MODEL_VERSION, message, self.api_key);<br/><br/>    // Convert the URL to a `Url` type and send the request<br/>    let url: reqwest::Url = url.parse()?;<br/>    let response: serde_json::Value = reqwest::get(url).await?.json().await?;<br/><br/>    // Return the response<br/>    Ok(response)<br/>}</span></pre><p id="01bf" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">ä½†æ˜¯ï¼Œå®ƒå¤±è´¥äº†ï¼Œå¹¶æ˜¾ç¤ºé”™è¯¯:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="aa63" class="nz mg in nt b be oa ob l oc od">Object {"error": Object {"code": Null, "message": String("Invalid URL (GET /v1/completions/models/davinci/versions/1)"), "param": Null, "type": String("invalid_request_error")}}</span></pre><p id="2413" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">æˆ‘çŒœæ˜¯å‚æ•°æˆ–è€…ç½‘å€ï¼Œæˆ–è€…ä¸¤è€…éƒ½æ˜¯é”™çš„ã€‚ä½ èƒ½ç»™æˆ‘çœ‹ä¸€ä¸‹æ­£ç¡®é…ç½®çš„ä»£ç ç‰‡æ®µå—ï¼Ÿè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨</em> <code class="fe nq nr ns nt b"><em class="ll">curl</em></code> <em class="ll">æ¥æŸ¥è¯¢ API çš„ bash è„šæœ¬ï¼Œå¹¶ä¸”å·¥ä½œæ­£å¸¸ã€‚</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="de95" class="nz mg in nt b be oa ob l oc od">curl https://api.openai.com/v1/completions \<br/>-H "Content-Type: application/json" \<br/>-H "Authorization: Bearer YOUR_API_KEY" \<br/>-d '{"model": "text-davinci-003", "prompt": "Say this is a test", "temperature": 0, "max_tokens": 7}'</span></pre><p id="92ad" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">è¯·ä¿®æ”¹æˆ‘çš„ä»£ç ï¼Œä»¥å®ç°ä¸ä¸Šé¢æ˜¾ç¤ºçš„</em> <code class="fe nq nr ns nt b"><em class="ll">curl</em></code> <em class="ll">ç›¸åŒçš„è¯·æ±‚ã€‚</em></p><p id="7880" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"><em class="ll">ChatGPT:</em></strong><em class="ll">æ‚¨çš„ä»£ç è¯•å›¾ä½¿ç”¨</em> <code class="fe nq nr ns nt b"><em class="ll">GET</em></code> <em class="ll"> HTTP æ–¹æ³•å‘ OpenAI API å‘å‡ºè¯·æ±‚ï¼Œè¿™æ˜¯ä¸æ­£ç¡®çš„ã€‚æ‚¨æä¾›çš„</em> <code class="fe nq nr ns nt b"><em class="ll">curl</em></code> <em class="ll">å‘½ä»¤ä½¿ç”¨äº†</em> <code class="fe nq nr ns nt b"><em class="ll">POST</em></code> <em class="ll">æ–¹æ³•ï¼Œè¿™æ˜¯å‘é€å¸¦æœ‰æ­£æ–‡çš„è¯·æ±‚æ—¶ä½¿ç”¨çš„æ­£ç¡®æ–¹æ³•ã€‚</em></p><p id="a43d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">è¦ä¿®å¤æ‚¨çš„ä»£ç ï¼Œæ‚¨éœ€è¦å°†</em> <code class="fe nq nr ns nt b"><em class="ll">reqwest::get</em></code> <em class="ll">è°ƒç”¨æ”¹ä¸º</em> <code class="fe nq nr ns nt b"><em class="ll">reqwest::Client::post</em></code> <em class="ll">ï¼Œå¹¶å°†è¯·æ±‚ä½“ä½œä¸ºå‚æ•°ä¼ é€’ç»™</em> <code class="fe nq nr ns nt b"><em class="ll">post</em></code> <em class="ll">æ–¹æ³•ã€‚æ‚¨è¿˜éœ€è¦åœ¨è¯·æ±‚ä¸­è®¾ç½®</em> <code class="fe nq nr ns nt b"><em class="ll">Content-Type</em></code> <em class="ll">å’Œ</em> <code class="fe nq nr ns nt b"><em class="ll">Authorization</em></code> <em class="ll">å¤´ï¼Œå¦‚</em> <code class="fe nq nr ns nt b"><em class="ll">curl</em></code> <em class="ll">å‘½ä»¤æ‰€ç¤ºã€‚</em></p><p id="8b7a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">è¿™æ˜¯ä½ çš„ä»£ç çš„æ›´æ–°ç‰ˆæœ¬ï¼Œåº”è¯¥å¯ä»¥å·¥ä½œ:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="c87f" class="nz mg in nt b be oa ob l oc od">const API_ENDPOINT: &amp;str = "https://api.openai.com/v1/completions";<br/>const MODEL: &amp;str = "text-davinci-003";<br/>const MODEL_VERSION: &amp;str = "1";<br/><br/>pub async fn prompt(&amp;self, message: &amp;String) -&gt; OpenAIResult {<br/>    // Build the request body with the prompt, model, and temperature<br/>    let request_body = json!({<br/>        "prompt": message,<br/>        "model": MODEL,<br/>        "temperature": 0,<br/>        "max_tokens": 7,<br/>    });<br/><br/>    // Build the request URL with the model and version<br/>    let url = format!("{}/models/{}/versions/{}", API_ENDPOINT, MODEL, MODEL_VERSION);<br/><br/>    // Convert the URL to a `Url` type and send the request<br/>    let url: reqwest::Url = url.parse()?;<br/>    let client = reqwest::Client::new();<br/>    let response: serde_json::Value = client.post(url)<br/>        .header("Content-Type", "application/json")<br/>        .header("Authorization", format!("Bearer {}", self.api_key))<br/>        .json(&amp;request_body)<br/>        .send()<br/>        .await?<br/>        .json()<br/>        .await?;<br/><br/>    // Return the response<br/>    Ok(response)<br/>}</span></pre></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="4098" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å¹²å¾—å¥½ï¼Œéå¸¸æ¥è¿‘ï¼å¯¹åº”è¯¥æ”¹å˜ä»€ä¹ˆçš„è§£é‡Šä¹Ÿå¾ˆæ£’ã€‚(è¿™æ˜¯ä¸€ä¸ªå°†å‘½ä»¤æˆ–ä»£ç ç‰‡æ®µä»ä¸€ç§è¯­è¨€æˆ–å·¥å…·æ˜ å°„åˆ°å¦ä¸€ç§è¯­è¨€æˆ–å·¥å…·çš„å¥½å·¥å…·ã€‚)è®©å®ƒå·¥ä½œçš„ä¸€ä¸ªç¼–è¾‘æ˜¯å®é™…æ›¿æ¢æ‰€è¯·æ±‚çš„ URLã€‚å› ä¸ºæ¨¡å‹ä»ç„¶åšæŒä½¿ç”¨é”™è¯¯çš„é“¾æ¥ã€‚æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ä¸‹é¢çš„ URLã€‚</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="3421" class="nz mg in nt b be oa ob l oc od">let url = String::from(API_ENDPOINT);</span></pre><p id="9f1a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä¿®å¤å¹¶é‡æ–°ç¼–è¯‘åï¼Œè¾“å‡ºå¦‚ä¸‹:</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="c2ef" class="nz mg in nt b be oa ob l oc od">&gt; OPENAI_API_KEY="&lt;your-key&gt;" cargo run -- "Hello, Davinci"<br/><br/>Object {"choices": <br/>    Array [Object {<br/>        "finish_reason": String("length"), <br/>        "index": Number(0), <br/>        "logprobs": Null, <br/>        "text": String("\n\nHello! How can I")}<br/>     ], <br/>     "created": Number(1670342922), <br/>     "id": String("cmpl-6KUmowybKJ9NVIboliVpD2yaPeIv7"), <br/>     "model": String("text-davinci-003"), <br/>     "object": String("text_completion"), <br/>     "usage": Object {<br/>         "completion_tokens": Number(7), <br/>         "prompt_tokens": Number(5), <br/>         "total_tokens": Number(12)<br/>     }<br/>}</span></pre><blockquote class="ol"><p id="5ccb" class="om on in bd oo op oq or os ot ou kx dk translated">æœ‰ç”¨ï¼ğŸ‰</p></blockquote><p id="eab9" class="pw-post-body-paragraph kc kd in ke b kf pa jo kh ki pb jr kk kl pc kn ko kp pd kr ks kt pe kv kw kx ig bi translated">ç°åœ¨ï¼Œæ˜¯æ—¶å€™åšä¸€äº›é‡æ„æ¥ä½¿ä»£ç æ›´å¹²å‡€ï¼Œå¹¶ç”¨ CLI é€‰é¡¹æ›¿æ¢ç¡¬ç¼–ç çš„å‚æ•°äº†ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŠ©æ‰‹éšæ—¶å‡†å¤‡å¸®åŠ©æˆ‘ä»¬â€¦</p><h1 id="32f6" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">å››ã€‚æ¸…ç†</h1><p id="50c3" class="pw-post-body-paragraph kc kd in ke b kf mx jo kh ki my jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> Me: </em> </strong> <em class="ll">åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œå»æ‰</em> <code class="fe nq nr ns nt b"><em class="ll">Client::authenticate</em></code> <em class="ll">æ–¹æ³•ã€‚åˆ›å»ºä¸€ä¸ªæ–°çš„é™æ€æ–¹æ³•</em> <code class="fe nq nr ns nt b"><em class="ll">Client::new</em></code> <em class="ll">ï¼Œè¯¥æ–¹æ³•å®ç°è®¤è¯é€»è¾‘å¹¶è¿”å›ä¸€ä¸ª</em> <code class="fe nq nr ns nt b"><em class="ll">Result</em></code> <em class="ll">å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä¸€ä¸ªæ–°åˆ›å»ºçš„å®¢æˆ·ç«¯(å¦‚æœå¸¦æœ‰å¯†é’¥çš„ç¯å¢ƒå˜é‡å­˜åœ¨)ï¼Œå¦åˆ™è¿”å› errorã€‚åŒæ ·ï¼Œé‡æ„</em> <code class="fe nq nr ns nt b"><em class="ll">prompt</em></code> <em class="ll">æ–¹æ³•ä»¥æ¥å—</em> <code class="fe nq nr ns nt b"><em class="ll">request_body</em></code> <em class="ll">ä½œä¸ºå‚æ•°ã€‚è¯·ä¸è¦åœ¨å›ç­”ä¸­åŒ…å«ä»»ä½•æ–‡æœ¬ï¼ŒåªåŒ…å«æ›´æ–°åçš„ä»£ç ç‰‡æ®µã€‚</em></p><p id="3cc3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe nq nr ns nt b">[copy-pasted the so far created code as the previously started conversation was lost]</code></p><p id="a4a7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll"> ChatGPT: </em> </strong></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="b48d" class="nz mg in nt b be oa ob l oc od">pub struct Client {<br/>    api_key: String,<br/>}<br/><br/>impl Client {<br/>    // Implement the new method<br/>    pub fn new() -&gt; Result&lt;Client, Box&lt;dyn std::error::Error&gt;&gt; {<br/>        // Read the API key from environment variables<br/>        let api_key = env::var("OPENAI_API_KEY")?;<br/>        Ok(Client{ api_key })<br/>    }<br/><br/>    // Implement the prompt method<br/>    pub async fn prompt(&amp;self, request_body: &amp;serde_json::Value) -&gt; OpenAIResult {<br/>        // Build the request URL with the model and version<br/>        let url = String::from(API_ENDPOINT);<br/>    <br/>        // Convert the URL to a `Url` type and send the request<br/>        let url: reqwest::Url = url.parse()?;<br/>        let client = reqwest::Client::new();<br/>        let response: serde_json::Value = client.post(url)<br/>            .header("Content-Type", "application/json")<br/>            .header("Authorization", format!("Bearer {}", self.api_key))<br/>            .json(request_body)<br/>            .send()<br/>            .await?<br/>            .json()<br/>            .await?;<br/>    <br/>        // Return the response<br/>        Ok(response)<br/>    }<br/>}</span></pre><p id="1894" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">å¤ªæ£’äº†ï¼ç°åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¼‚æ­¥ main å‡½æ•°ï¼Œè¯¥å‡½æ•°ä» CLI è¯»å–è¯·æ±‚ä½“å€¼ï¼Œå¹¶ä½¿ç”¨å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ã€‚å¦‚æœç¼ºå°‘ä»»ä½•å‚æ•°ï¼Œåˆ™ç»ˆæ­¢ç¨‹åºã€‚</em></p><p id="4c10" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">ChatGPT:T42ã€‘</strong></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="e7a4" class="nz mg in nt b be oa ob l oc od">use structopt::StructOpt;<br/><br/>#[derive(StructOpt, Debug)]<br/>struct Cli {<br/>    // The prompt to generate text for<br/>    #[structopt(short = "p", long = "prompt")]<br/>    prompt: String,<br/><br/>    // The model to use for text generation<br/>    #[structopt(short = "m", long = "model")]<br/>    model: String,<br/><br/>    // The temperature to use for text generation<br/>    #[structopt(short = "t", long = "temperature")]<br/>    temperature: f64,<br/><br/>    // The maximum number of tokens to generate<br/>    #[structopt(short = "x", long = "max_tokens")]<br/>    max_tokens: usize,<br/>}<br/><br/>#[tokio::main]<br/>async fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {<br/>    // Parse CLI arguments<br/>    let args = Cli::from_args();<br/><br/>    // Create a new client instance<br/>    let client = Client::new()?;<br/><br/>    // Build the request body<br/>    let request_body = json!({<br/>        "prompt": &amp;args.prompt,<br/>        "model": &amp;args.model,<br/>        "temperature": args.temperature,<br/>        "max_tokens": args.max_tokens,<br/>    });<br/><br/>    // Generate text using the prompt<br/>    let response = client.prompt(&amp;request_body).await?;<br/><br/>    // Print the response<br/>    println!("{}", response);<br/><br/>    Ok(())<br/>}</span></pre><p id="d4e4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ll">æˆ‘:</em> </strong> <em class="ll">æˆ‘åº”è¯¥ç”¨ä»€ä¹ˆç‰ˆæœ¬çš„</em> <code class="fe nq nr ns nt b"><em class="ll">structopt</em></code> <em class="ll">æ¿æ¡ç®±æ‰èƒ½è®©ä¸Šé¢çš„ç‰‡æ®µå·¥ä½œï¼Ÿ</em></p><p id="f2fa" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"><em class="ll">ChatGPT:</em></strong><em class="ll">ä½ åº”è¯¥ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„</em> <code class="fe nq nr ns nt b"><em class="ll">structopt</em></code> <em class="ll">æœºç®±ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦æ›´æ–°æ‚¨çš„</em> <code class="fe nq nr ns nt b"><em class="ll">Cargo.toml</em></code> <em class="ll">æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·ï¼Œå¦‚ä¸‹æ‰€ç¤º:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="1870" class="nz mg in nt b be oa ob l oc od">[dependencies]<br/>structopt = "^0.3.12"</span></pre><p id="f976" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">è¿™å°†ä½¿ç”¨ä¸</em> <code class="fe nq nr ns nt b"><em class="ll">0.3.12</em></code> <em class="ll">ç‰ˆæœ¬å…¼å®¹çš„</em> <code class="fe nq nr ns nt b"><em class="ll">structopt</em></code> <em class="ll">æ¿æ¡ç®±çš„æœ€æ–°ç‰ˆæœ¬ã€‚</em></p><p id="163d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„</em> <code class="fe nq nr ns nt b"><em class="ll">structopt</em></code> <em class="ll">æ¿æ¡ç®±ï¼Œæ— éœ€æŒ‡å®šç‰ˆæœ¬å·ï¼Œå¦‚ä¸‹:</em></p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="e177" class="nz mg in nt b be oa ob l oc od">[dependencies]<br/>structopt = "*"</span></pre><p id="63dc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ll">è¿™å°†ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„</em> <code class="fe nq nr ns nt b"><em class="ll">structopt</em></code> <em class="ll">æ¿æ¡ç®±å¯ç”¨åœ¨</em> <a class="ae lh" href="https://crates.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ll">æ¿æ¡ç®±. io </em> </a> <em class="ll">ä¸Šã€‚ä½†æ˜¯ï¼Œå¦‚æœåœ¨æ–°ç‰ˆæœ¬ä¸­å¼•å…¥äº†é‡å¤§æ›´æ”¹ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å…¼å®¹æ€§é—®é¢˜ã€‚</em></p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="255b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å¥½çš„ï¼Œè¿™ä¸ªçœ‹èµ·æ¥æ¯”ä¸Šä¸€ä¸ªç‰ˆæœ¬å¥½ä¸€ç‚¹ã€‚æˆ‘ç‰¹åˆ«å–œæ¬¢å…³äºä½¿ç”¨å“ªç§æ¿æ¡ç®±ä»¥åŠæœ‰å“ªäº›é€‰é¡¹çš„è§£é‡Šã€‚</p><p id="05ef" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥å®ƒæ˜¯å¦ä»ç„¶å·¥ä½œã€‚</p><pre class="lq lr ls lt gt nv nt nw bn nx ny bi"><span id="22db" class="nz mg in nt b be oa ob l oc od">&gt; cargo run -- -p 'hello, openai!' -m text-davinci-003 -t 0 -x 12<br/><br/>{<br/>    "choices": [{<br/>        "finish_reason":"stop",<br/>        "index":0,"logprobs":null,<br/>        "text":"\n\nHi there!"<br/>    }],<br/>    "created":1670360311,<br/>    "id":"cmpl-6KZJHJ8vW8CB5LyTE0C2hfMv7DY6z",<br/>    "model":"text-davinci-003",<br/>    "object":"text_completion",<br/>    "usage":{"completion_tokens":5,"prompt_tokens":5,"total_tokens":10}<br/>}</span></pre><p id="9149" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å¤ªæ£’äº†ã€‚</p><h1 id="cf1d" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">åŠ¨è¯ ï¼ˆverb çš„ç¼©å†™ï¼‰ç»“å°¾éƒ¨åˆ†</h1><p id="269b" class="pw-post-body-paragraph kc kd in ke b kf mx jo kh ki my jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">äººå·¥æ™ºèƒ½é¢†åŸŸçš„å‘å±•é€Ÿåº¦ä»¤äººå°è±¡æ·±åˆ»ã€‚æ¯ä¸ªæœˆ(ç”šè‡³æ¯å‘¨ï¼)å¸¦æ¥äº†æ–°çš„å‘å±•ï¼Œæ¯”å¦‚å¼ºå¤§çš„æ–°æ¨¡å‹çš„å‘å¸ƒï¼Œè¿™äº›æ¨¡å‹å¯ä»¥æœ‰æ•ˆåœ°ç©<a class="ae lh" href="https://techcrunch.com/2022/12/01/now-ai-can-outmaneuver-you-at-both-stratego-and-diplomacy/?guccounter=1&amp;guce_referrer=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8&amp;guce_referrer_sig=AQAAAEZvoiFQiW6I3q77eFPrthoj02eDMH2xoPfD15tf8SyGBzLhkV0AOle55NqPyFZbliqVC0NI5N_LW8AB9LshgIaE6-8TFoONqA0Ze39TiWt5hxw0g6_IlrY3QGPNy2FFywXhS0o1-MxahhxGZ0383QiebjVt1jr7ylVG39XYrS0q" rel="noopener ugc nofollow" target="_blank">å¤æ‚çš„æ£‹ç›˜æ¸¸æˆ</a>ï¼Œæˆ–è€…æ¨åŠ¨<a class="ae lh" href="https://www.nature.com/articles/s41586-022-05172-4" rel="noopener ugc nofollow" target="_blank">æ–°ç®—æ³•</a>çš„å‘ç°ã€‚è¿‘å¹´æ¥å–å¾—çš„è¿›å±•ç¡®å®ä»¤äººç©ç›®ï¼Œæƒ³åˆ°è¿™äº›è¿›å±•çš„æ½œåœ¨åº”ç”¨ä»¤äººå…´å¥‹ã€‚éšç€äººå·¥æ™ºèƒ½ç ”ç©¶çš„ä¸æ–­å‘å±•ï¼Œæˆ‘ä»¬å¯ä»¥æœŸå¾…åœ¨æœªæ¥çœ‹åˆ°æ›´å¤šä»¤äººå…´å¥‹çš„å‘å±•ã€‚</p><p id="ba3a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å½“ç„¶ï¼Œè¿™äº›è¿›æ­¥ä¹Ÿæœ‰å±€é™æ€§ã€‚ä¸€ä¸ªæœ€é‡è¦çš„é™åˆ¶æ˜¯ï¼Œæœ‰æ—¶è¿™äº›æ¨¡å‹äº§ç”Ÿçš„ç­”æ¡ˆéå¸¸<em class="ll">åˆç†</em>ï¼Œä½†ä¸å®Œå…¨æ­£ç¡®ã€‚å®ƒä»¬å¯èƒ½éœ€è¦å¯¹æç¤ºè¿›è¡Œ(å¾®å°çš„)ç¼–è¾‘æˆ–é‡æ–°æªè¾ã€‚æ­¤å¤–ï¼Œè™½ç„¶ Rust ç­‰è¯­è¨€æ‹¥æœ‰ç¼–è¯‘å™¨å’Œ linters ç­‰å·¥å…·ï¼Œå¯ä»¥éªŒè¯ä»£ç çš„æ­£ç¡®æ€§å¹¶æ£€æŸ¥æ¼æ´ï¼Œä½†å°†è¿™äº›æ£€æŸ¥åº”ç”¨äºå…¶ä»–ç”¨é€”å¹¶ä¸å®¹æ˜“ï¼Œå¦‚<a class="ae lh" href="https://www.technologyreview.com/2022/11/18/1063487/meta-large-language-model-ai-only-survived-three-days-gpt-3-science/" rel="noopener ugc nofollow" target="_blank">è§£é‡Šç§‘å­¦</a>æˆ–<a class="ae lh" href="https://www.theverge.com/2022/12/5/23493932/chatgpt-ai-generated-answers-temporarily-banned-stack-overflow-llms-dangers" rel="noopener ugc nofollow" target="_blank">å›ç­” StackOverflow ä¸Šçš„ç¼–ç é—®é¢˜</a>ã€‚æœ‰æ—¶ï¼Œå¤§å‹è¯­è¨€æ¨¡å‹(LLM)å®¹æ˜“å˜å¾—<a class="ae lh" href="https://twitter.com/itstimconnors/status/1599544717943123969?s=20&amp;t=Hwc370nJT2eQH66Wrpwjkg" rel="noopener ugc nofollow" target="_blank">éå¸¸è‡ªä¿¡ï¼Œä½†è‡ªç›¸çŸ›ç›¾ï¼Œè€Œä¸”å¤§é”™ç‰¹é”™</a>ã€‚</p><p id="0816" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ç„¶è€Œï¼Œè¿™äº›å·¥å…·å’Œæ¨¡å‹åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½åœ¨ä¸æ–­æ”¹è¿›ã€‚å¾ˆéš¾ç›¸ä¿¡ï¼Œå°±åœ¨å‡ å¹´å‰ï¼Œåšæˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­è®¨è®ºçš„äº‹æƒ…ä¼¼ä¹è¿˜æ˜¯çº¯ç²¹çš„ç§‘å¹»å°è¯´ã€‚çœ‹åˆ°äººå·¥æ™ºèƒ½ç ”ç©¶å°†åœ¨æœªæ¥æŠŠæˆ‘ä»¬å¸¦åˆ°å“ªé‡Œï¼Œä»¤äººå…´å¥‹ã€‚</p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="225b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe nq nr ns nt b">[Parts of this post were edited with ChatGPT's assistance ;)]</code></p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="4dbd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« å—ï¼Ÿä¸è¦çŠ¹è±«ï¼Œç»™å®ƒé¼“æŒï¼è¿˜æœ‰ï¼Œä½ å¯ä»¥åœ¨ <a class="ae lh" href="https://twitter.com/devforfu" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> Twitter </em> </a> <em class="ll">æˆ–</em><a class="ae lh" href="https://www.linkedin.com/in/ilia-zaitsev" rel="noopener ugc nofollow" target="_blank"><em class="ll">LinkedIn</em></a><em class="ll">ä¸Šæ‰¾åˆ°æˆ‘ï¼Œå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…è®¿é—®</em> <a class="ae lh" href="https://iliazaitsev.me/" rel="noopener ugc nofollow" target="_blank"> <em class="ll">æˆ‘çš„ç½‘ç«™</em> </a> <em class="ll">æŸ¥çœ‹æˆ‘åœ¨äº’è”ç½‘ä¸Šçš„å…¶ä»–å¸–å­ã€‚</em></p></div></div>    
</body>
</html>