# LeetCode: 28ã€‚å®æ–½ strStr()(ä½¿ç”¨å›¾åƒçš„è§£å†³æ–¹æ¡ˆ)

> åŸæ–‡ï¼š<https://blog.devgenius.io/leetcode-28-implement-strstr-solution-with-images-7066d68c2262?source=collection_archive---------2----------------------->

é“¾æ¥:â†’https://leetcode.com/problems/implement-strstr/

# **é—®é¢˜:â†’**

æ‰§è¡Œ[strtr()](http://www.cplusplus.com/reference/cstring/strstr/)ã€‚

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²`needle`å’Œ`haystack`ï¼Œè¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„`needle`åœ¨`haystack`ä¸­çš„ç´¢å¼•ï¼Œå¦‚æœ`needle`ä¸æ˜¯`haystack`çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™è¿”å›`-1`ã€‚

**æ¾„æ¸…:**

å½“`needle`ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥è¿”å›ä»€ä¹ˆï¼Ÿè¿™æ˜¯é¢è¯•æ—¶åº”è¯¥é—®çš„ä¸€ä¸ªå¥½é—®é¢˜ã€‚

å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå½“`needle`ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œæˆ‘ä»¬å°†è¿”å› 0ã€‚è¿™ä¸ C çš„[strtr()](http://www.cplusplus.com/reference/cstring/strstr/)å’Œ Java çš„ [indexOf()](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)) ä¸€è‡´ã€‚

**å®æ–½ä¾‹ 1:**

```
**Input:** haystack = "hello", needle = "ll"
**Output:** 2
```

**å®æ–½ä¾‹ 2:**

```
**Input:** haystack = "aaaaa", needle = "bba"
**Output:** -1
```

**çº¦æŸ:**

*   `1 <= haystack.length, needle.length <= 104`
*   `haystack`å’Œ`needle`ä»…ç”±å°å†™è‹±è¯­å­—ç¬¦ç»„æˆã€‚

# **æº¶æ¶²:â†’**

è¿™é‡Œï¼Œæˆ‘ä»¬ç»™äº†ä¸¤æ ¹ç»³å­ä¸€æ ¹æ˜¯**è‰å †**å¦ä¸€æ ¹æ˜¯**é’ˆã€‚**

![](img/65a05edaba4df3341aabe70e2b1e939c.png)

æŒ‰ç…§ç»™å®šçš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬å…ˆæ£€æŸ¥**é’ˆ**æ˜¯å¦ç©ºäº†ï¼Œå¦‚æœ**é’ˆ**ç©ºäº†ï¼Œæˆ‘ä»¬å†è¿”å› **-1** ã€‚æˆ‘ä»¬é€šè¿‡å–ç©ºå­—ç¬¦ä¸²çš„é•¿åº¦æ¥æ£€æŸ¥å®ƒï¼Œå¦‚æœé•¿åº¦æ˜¯ **0** å°±è¡¨ç¤ºå®ƒæ˜¯ç©ºå­—ç¬¦ä¸²ã€‚

![](img/8d2a0abc32c06d3c7f0f98a717b9d6db.png)

ä¸**é’ˆç›¸åŒ**æˆ‘ä»¬éœ€è¦å¾—åˆ°**è‰å †**çš„é•¿åº¦ã€‚

![](img/6d2660ef6846a571cab557c5e6d769ec.png)

**è‰å †**å–é•¿çš„åŸå› æ˜¯ä¸ºäº†æ£€æŸ¥**é’ˆ**çš„ç»³å­æ˜¯å¦æ¯”**è‰å †å¤§ï¼Œ**è¡¨ç¤ºæ•´æ ¹**é’ˆ**åœ¨**è‰å †ä¸­æ‰¾ä¸åˆ°ï¼Œ**å› ä¸º**é’ˆ**æ¯”**è‰å †**æ›´æœ‰ä¸ªæ€§ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯æˆ‘ä»¬å¯ä»¥ç®€å•çš„é€€å› **-1** ï¼Œ

![](img/76f074d731980fb75b53b60133809b40.png)

ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº† for å¾ªç¯ï¼Œè¿™ä¸ªå¾ªç¯å°†å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦åœ¨å¹²è‰å †ä¸­ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆè¿”å›å®ƒçš„ç´¢å¼•ã€‚

åœ¨ for å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å°†æ”¾ç½®å¦‚ä¸‹æ¡ä»¶:

![](img/1f34a89a80cfc067ff39f7130957aff1.png)

è¿™é‡Œæˆ‘å°†ä»é›¶å¼€å§‹ï¼Œä¸€ç›´åˆ°**haystackLength-needle length+1ï¼Œ**æˆ‘ä»¬è¿™æ ·åšçš„åŸå› æ˜¯å› ä¸ºæˆ‘ä»¬æ­£åœ¨æ£€æŸ¥**å¹²è‰å †ä¸­çš„æ•´ä¸ª**é’ˆ**ä¸²ã€‚**å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ

![](img/9304ac33baa98423c9741b8a52fed3da.png)

æ‰€ä»¥ï¼Œåªè¦ **i = 3ï¼Œ**æˆ‘ä»¬å°±åˆ°è¾¾äº†**å¹²è‰å †**ä¸²çš„æœ«ç«¯ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬çš„ for å¾ªç¯ä»é›¶å¼€å§‹ï¼Œç”¨ **if æ¡ä»¶**æˆ‘ä»¬æ­£åœ¨æ£€æŸ¥ï¼Œ**é’ˆ**å€¼æ˜¯å¦ä¸**å¹²è‰å †**çš„å‰ä¸¤ä¸ªå­—ç¬¦åŒ¹é…ï¼Ÿ

ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚å› æ­¤ï¼Œ **IF** æ¡ä»¶å°†å˜ä¸º **false** ã€‚

![](img/8cf6ae51bd264304e24152c47183e58a.png)

ç°åœ¨ï¼Œ **I** å°†å˜ä¸º 1ï¼Œæˆ‘ä»¬å†æ¬¡æ£€æŸ¥**é’ˆ**å€¼æ˜¯å¦ä¸**è‰å †**çš„**ç¬¬äºŒ**å’Œ**ç¬¬ä¸‰**å­—ç¬¦åŒ¹é…ï¼Ÿ

ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚å› æ­¤ï¼Œ **IF** æ¡ä»¶å°†å˜ä¸º **false** ã€‚

![](img/a33d6daca07972d22d076296ba9407ba.png)

ç°åœ¨ï¼Œ **I** å°†å˜ä¸º 2ï¼Œæˆ‘ä»¬å†æ¬¡æ£€æŸ¥**é’ˆ**å€¼æ˜¯å¦ä¸**è‰å †**çš„**ç¬¬ä¸‰**å’Œ**ç¬¬å››**å­—ç¬¦åŒ¹é…ï¼Ÿ

ç­”æ¡ˆæ˜¯**æ˜¯çš„**ã€‚å› æ­¤ï¼Œ **IF** æ¡ä»¶å°†å˜ä¸º **true** ã€‚

![](img/db68cdd375a95d4b7268de65cf0fa8d2.png)

éšç€åŒ¹é…æˆ‘ä»¬æ­£åœ¨è¿”å›ï¼Œ **iï¼Œ**è¿™å°†æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªåŒ¹é…**ç´¢å¼•ã€‚**

è¿™é‡Œçš„**æˆ‘**ä¼šæ˜¯ **2ã€‚**

## **ä»£ç (Java): â†’**

## **ä»£ç (Python) : â†’**

# æ—¶é—´å¤æ‚åº¦

æˆ‘ä»¬åªæ‰«æä¸€æ¬¡æ•°ç»„ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ O(n) ã€‚

# ç©ºé—´å¤æ‚æ€§

ç”±äºæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ä»»ä½•é¢å¤–çš„æ•°ç»„ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦å°†æ˜¯ O(1)***ã€‚***

æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œâ¤

å¦‚æœæˆ‘åšé”™äº†ä»€ä¹ˆï¼Ÿè®©æˆ‘åœ¨è¯„è®ºä¸­ã€‚æˆ‘å¾ˆæƒ³è¿›æ­¥ã€‚

æ‹æ‰‹å£°ğŸ‘å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€‚