<html>
<head>
<title>React — Displaying Different Things As Screen Size Changes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应—随着屏幕大小的变化显示不同的内容</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/react-displaying-different-things-as-screen-size-changes-c123a6749156?source=collection_archive---------2-----------------------#2022-01-04">https://blog.devgenius.io/react-displaying-different-things-as-screen-size-changes-c123a6749156?source=collection_archive---------2-----------------------#2022-01-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ac3bcef22a1e379347026cd90f7e9605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*B_EYNqabYQpmbjqo.jpeg"/></div></div></figure><p id="534f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">随着越来越多的移动用户出现，我们越来越需要让我们的 web 应用程序具有响应性，即使对于初学者也是如此。这里，<em class="kw">响应式</em>应用<em class="kw"> </em>意味着它显示内容的方式会根据我们的屏幕大小而变化。</p><h2 id="a175" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">响应式和非响应式网页设计示例</h2><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/c3eb2ce727a6c160a156f95e7076a180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/0*wDbnh4y8xOPouuy0"/></div></figure><p id="1adf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，假设一个网站首先是为桌面用户开发的。如果这个网站<em class="kw">有响应</em>并且我们在移动浏览器上访问它，我们可能会看到类似左图的内容。然而，如果网站<em class="kw">没有</em> <em class="kw">响应</em>，我们可能会看到如右图所示的灾难。</p><p id="2500" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我将带您完成一个简单的任务——在我们调整屏幕大小时改变一个分区的背景颜色。</p><h1 id="93c4" class="lv ky iq bd kz lw lx ly lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">我们的目标是创造</h1><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/635a04f342c3565f43314d2ec4f1d05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*ks3iwviA-G9VXlkSlO1OcQ.gif"/></div></figure><h1 id="52c4" class="lv ky iq bd kz lw lx ly lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">创建我们的 React 应用</h1><p id="10bf" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr mr kt ku kv ij bi translated"><a class="ae ms" href="https://zl-liu.medium.com/list/react-explained-simply-for-beginners-5a3c51d27b57" rel="noopener">https://ZL-Liu . medium . com/list/react-explained-simple-for-初学者-5a3c51d27b57 </a></p><p id="839a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您不太确定如何创建 React 应用程序，请查看我创建的 React 文章列表，以便开始使用。让我们创建一个普通的单页 React 应用程序，然后继续。</p><h1 id="189a" class="lv ky iq bd kz lw lx ly lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">添加代码来显示我们的屏幕大小</h1><figure class="lr ls lt lu gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="c6db" class="lv ky iq bd kz lw lx ly lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">代码中发生了什么</h1><h2 id="f2a5" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">定义我们的国家</h2><pre class="lr ls lt lu gt mv mw mx my aw mz bi"><span id="25a4" class="kx ky iq mw b gy na nb l nc nd">state = {<br/>    innerWidth: window.innerWidth<br/>}</span></pre><p id="d005" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们想让某个东西动态更新，我们需要把它放在我们的<code class="fe ne nf ng mw b">state</code>中。在这里，<code class="fe ne nf ng mw b">innerWidth</code>代表我们当前屏幕的宽度，我们首先将它设置为<code class="fe ne nf ng mw b">window.innerWidth</code>，这将给出我们刚才所说的。</p><h2 id="551b" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">一旦我们的组件挂载，添加一个事件监听器</h2><pre class="lr ls lt lu gt mv mw mx my aw mz bi"><span id="1977" class="kx ky iq mw b gy na nb l nc nd">componentDidMount() {<br/>    window.addEventListener("resize", this.resize.bind(this))<br/>    this.resize()<br/>}</span></pre><p id="7f7d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦我们的组件完成加载(挂载)，就会调用<code class="fe ne nf ng mw b">componentDidMount</code>函数。一旦这个函数被调用，我们就添加一个事件监听器来寻找一个<code class="fe ne nf ng mw b">"resize"</code>事件，当你改变你的屏幕尺寸时就会触发这个事件。我们的事件监听器被绑定到我们的<code class="fe ne nf ng mw b">resize</code>函数(我们将在下一步到达)——本质上，每当我们调整屏幕大小时，一个<code class="fe ne nf ng mw b">"resize"</code>事件将被触发，我们的<code class="fe ne nf ng mw b">resize</code>函数将被调用。</p><h2 id="ec59" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">编写 resize 函数</h2><pre class="lr ls lt lu gt mv mw mx my aw mz bi"><span id="ae7f" class="kx ky iq mw b gy na nb l nc nd">resize() {<br/>    this.setState({innerWidth: window.innerWidth})<br/>}</span></pre><p id="bbf6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个函数的主要目的是更新我们的状态。每当我们的屏幕尺寸发生变化时，这个函数都会被调用，它实际上将我们状态的<code class="fe ne nf ng mw b">innerWidth</code>属性设置为当前的屏幕尺寸。</p><h2 id="7a2b" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">编写 getColor 函数</h2><pre class="lr ls lt lu gt mv mw mx my aw mz bi"><span id="f165" class="kx ky iq mw b gy na nb l nc nd">getColor(innerWidth) {<br/>    if (innerWidth &lt;= 500) return "red"<br/>    if (innerWidth &lt;= 600) return "blue"<br/>    if (innerWidth &lt;= 700) return "green"<br/>    if (innerWidth &lt;= 800) return "yellow"<br/>    if (innerWidth &lt;= 900) return "pink"<br/>    if (innerWidth &lt;= 1000) return "beige"<br/>    if (innerWidth &lt;= 1100) return "lightblue"<br/>    return "violet"<br/>}</span></pre><p id="7720" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个函数接受一个整数(屏幕大小)并返回相应的颜色。这些数字和颜色是任意选择的，你可以随意摆弄它们。</p><h2 id="9056" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">编写我们的渲染函数</h2><pre class="lr ls lt lu gt mv mw mx my aw mz bi"><span id="8c7e" class="kx ky iq mw b gy na nb l nc nd">render() {<br/>    const style = {<br/>        "background-color": this.getColor(this.state.innerWidth)<br/>    }</span><span id="8c7d" class="kx ky iq mw b gy nh nb l nc nd">    return &lt;div&gt;<br/>        &lt;h1&gt;<br/>            this.state.innerWidth: {this.state.innerWidth}<br/>        &lt;/h1&gt;</span><span id="8b24" class="kx ky iq mw b gy nh nb l nc nd">        &lt;br /&gt;</span><span id="97ed" class="kx ky iq mw b gy nh nb l nc nd">        &lt;h1 style={style}&gt;<br/>            The background color of this div changes as you resize your screen<br/>        &lt;/h1&gt;<br/>    &lt;/div&gt;<br/>}</span></pre><p id="186d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">无论这个函数返回什么，都是我们在应用程序上看到的东西。在这里，为了访问我们状态中的<code class="fe ne nf ng mw b">innerWidth</code>，我们使用了<code class="fe ne nf ng mw b">this.state.innerWidth</code>，我们在这里使用了两次——一次是简单地显示我们的屏幕宽度，另一次是根据我们的屏幕大小改变我们的<code class="fe ne nf ng mw b">div</code>的背景颜色。</p><p id="a7d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里，我们将<code class="fe ne nf ng mw b">h1</code>标签的样式设置为动态。当我们改变屏幕尺寸时(使用 inspect 面板)，<code class="fe ne nf ng mw b">this.state.innerWidth</code>也会改变，<code class="fe ne nf ng mw b">this.getColor(this.state.innerWidth)</code>也会改变。</p><h1 id="7069" class="lv ky iq bd kz lw lx ly lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">运行和测试我们的响应式应用</h1><pre class="lr ls lt lu gt mv mw mx my aw mz bi"><span id="5ace" class="kx ky iq mw b gy na nb l nc nd">npm run start</span></pre><h2 id="acb9" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">打开检查面板</h2><ul class=""><li id="4283" class="ni nj iq ka b kb mn kf mo kj nk kn nl kr nm kv nn no np nq bi translated">右键→ <em class="kw">检查</em></li><li id="5153" class="ni nj iq ka b kb nr kf ns kj nt kn nu kr nv kv nn no np nq bi translated">向左/向右拖动屏幕以改变屏幕尺寸</li></ul><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/635a04f342c3565f43314d2ec4f1d05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*ks3iwviA-G9VXlkSlO1OcQ.gif"/></div></figure><h1 id="bbf2" class="lv ky iq bd kz lw lx ly lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">一些最后的话</h1><p id="4894" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr mr kt ku kv ij bi translated">这可能不是最先进的方法——可能有高水平的库使我们能够以更短、更强大的方式做类似的事情。然而，我希望这篇短文能给你一个简单易懂的方法来动态地改变你的应用程序的外观。</p><h1 id="4c32" class="lv ky iq bd kz lw lx ly lc lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">结论</h1><p id="1fd8" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj mp kl km kn mq kp kq kr mr kt ku kv ij bi translated">如果这篇文章有价值，并且你希望支持我成为一名作家，请考虑注册一个 Medium 会员——每月 5 美元，你可以无限制地访问 Medium 上的故事。如果你用我下面的链接注册，我会给你零额外费用赚一点佣金。</p><p id="4c1b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ms" href="https://zl-liu.medium.com/membership" rel="noopener"> <strong class="ka ir"> <em class="kw">注册使用我这里的链接阅读无限媒体文章</em> </strong> </a>！</p><p id="837d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果这篇文章为你提供了巨大的价值，请考虑给我买杯咖啡——非常感谢每一份小小的贡献！</p><p id="991a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ms" href="https://www.buymeacoffee.com/zlliu" rel="noopener ugc nofollow" target="_blank"><em class="kw">https://www.buymeacoffee.com/zlliu</em></a></p><p id="cc36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你希望在我发布时得到通知，请考虑加入我的电子邮件列表。</p><div class="nw nx gp gr ny nz"><a href="https://zl-liu.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">每当 Zlliu 发布时收到一封电子邮件。</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">每当 Zlliu 发布时收到一封电子邮件。注册后，如果您还没有中型帐户，您将创建一个…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">zl-liu.medium.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on jw nz"/></div></div></a></div></div></div>    
</body>
</html>