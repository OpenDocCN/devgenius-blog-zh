<html>
<head>
<title>PHP — P71: Magic Constants</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P71:魔法常数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-p71-magic-constants-eb9bea6645d3?source=collection_archive---------8-----------------------#2022-07-23">https://blog.devgenius.io/php-p71-magic-constants-eb9bea6645d3?source=collection_archive---------8-----------------------#2022-07-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b00764b305a59a28c6c25ae8a7faa260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hKTGIfcwWnFGaixEloWNsw.jpeg"/></div></div></figure><p id="23ee" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将探索 PHP 的神奇常数。</p><ul class=""><li id="9df3" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">__LINE__ 显示文件的当前行号。</li><li id="4e04" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">__FILE__ 显示文件的完整路径和文件名。</li><li id="65d0" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">__DIR__ 显示文件的目录。</li><li id="b12b" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">__FUNCTION__ 显示函数名，或匿名函数的{closure}。</li><li id="1fb6" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">__CLASS__ 显示类名。类名包括声明它的命名空间。</li><li id="fbc8" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">__TRAIT__ 显示特征名称。trait 名称包括声明它的名称空间。</li><li id="ea9c" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">__METHOD__ 显示类方法名。</li><li id="0c8d" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">__NAMESPACE__ 显示当前名称空间的名称。</li></ul></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="23a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回顾:回顾我们上次停止的地方。</p><div class="lr ls gp gr lt lu"><a href="https://github.com/dinocajic/php-7-youtube-tutorials/tree/master/70%20Subnamespaces" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">PHP-YouTube-教程/70 个子命名空间</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">PHP YouTube 教程的代码。为 dinocajic/PHP-YouTube-tutorials 开发做贡献，创建一个…</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">github.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi jw lu"/></div></div></a></div><div class="lr ls gp gr lt lu"><a rel="noopener  ugc nofollow" target="_blank" href="/php-p70-sub-namespaces-11ff9c0f0787"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">PHP — P70:子名称空间</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">如果可以定义名称空间，那么定义子名称空间也没什么不同。我们还将看一下与…有关的课程</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">blog.devgenius.io</p></div></div><div class="md l"><div class="mj l mf mg mh md mi jw lu"/></div></div></a></div></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="79ba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">魔法常数并不复杂。说明它们的最好方式是通过一个例子。让我们对我们的<em class="mk"> Car </em>类中的<em class="mk">get _ year _ make _ and _ model()</em>方法做一个修改，并开始包含这些神奇的常数，看看它们有什么作用。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="a643" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们首先要看的是<em class="mk"> __LINE__ </em>魔法常数。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7040" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你认为我们得到了什么？没错。这是代码中的当前行。在这种情况下，应该是“Line #: 13 ”,因为这是包含<em class="mk"> __LINE__ </em>魔法常量的代码行。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="c455" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mk"> __FILE__ </em>魔术常数返回插入<em class="mk"> __FILE__ </em>魔术常数的绝对文件路径。对我来说就是<em class="mk">C:/www/YouTube/PHP/71 _ Magic _ Constants/car . PHP</em>。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="8025" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mk"> __DIR__ </em>魔法常数为我们提供了包含<em class="mk"> __DIR__ </em>魔法常数的文件的目录。它与<em class="mk"> __FILE__ </em>几乎相同，但不包括文件名本身。</p><p id="9f97" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mk">C:/www/YouTube/PHP/71 _ Magic _ Constants</em></p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="ba92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mk"> __CLASS__ </em>返回包含<em class="mk"> __CLASS__ </em>幻常数的类名，即<em class="mk"> Vehicles\Cars\Car。它给出了以全名为空格的输出，这样你就知道它实际上引用的是哪个类。</em></p><p id="6315" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我想你开始明白了。如果我们调用<em class="mk"> __METHOD__ </em>和<em class="mk"> __ NAMESPACE__ </em>魔法常数，它们将返回包含这些魔法常数的方法和名称空间，在本例中为<em class="mk">Vehicles \ Cars \ Car::get _ year _ make _ and _ model</em>和<em class="mk"> Vehicles\Cars </em>。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="bc0a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">唯一没有被我们关注的是<em class="mk"> __TRAIT__ </em>。如果我们把这个放在同一个代码中，我们不会得到任何东西，因为这个类不是一个特性。不过，我们也有一些特质，比如<em class="mk"> Engine </em>特质，我们可以修改一下它的方法<em class="mk"> check_oil_level </em>。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="2994" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们调用上面的代码，我们得到<em class="mk">车辆/汽车/停车场/发动机</em>作为输出。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="fcfb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就是这样。我告诉过你，这将是美好而简单的。大多数情况下，您会在日志文件中使用它们，以便快速指向错误。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mr mq l"/></div></figure></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><div class="ml mm mn mo gt lu"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">dinochaic/PHP-YouTube-教程</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">PHP YouTube 教程的代码。</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">github.com</p></div></div><div class="md l"><div class="ms l mf mg mh md mi jw lu"/></div></div></a></div></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f8fc58490bc373090a2c3f8382795e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hwMIIxj3EeKtjcIB.jpeg"/></div></div></figure><p id="9341" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dino Cajic 目前是 LSBio(lifetime bio sciences，Inc.) 、<a class="ae mt" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae mt" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank">角蛋白</a>、<a class="ae mt" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠峰生物科技</a>、<a class="ae mt" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae mt" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的 IT 主管。他还是我的自动化系统公司的首席执行官。他拥有超过十年的软件工程经验。他拥有计算机科学学士学位和生物学副学位。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识传播。</p><p id="6d6a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过<a class="ae mt" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>与他联系，通过<a class="ae mt" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>跟随他，或者<a class="ae mt" href="https://www.dinocajic.com/" rel="noopener ugc nofollow" target="_blank">访问他的博客</a>，或者<a class="ae mt" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的 Medium 出版物</a>。</p><p id="6438" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae mt" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="mk">阅读 Dino Cajic(以及 Medium 上成千上万其他作家)的所有故事。您的会员费直接支持 Dino Cajic 和您阅读的其他作家。你还可以全面了解 Medium 上的所有新闻。</em> </a></p></div></div>    
</body>
</html>