<html>
<head>
<title>What is the -X flag in a curl command?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">curl 命令中的-X 标志是什么？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-the-x-aka-request-flag-in-a-curl-command-a489b02346d4?source=collection_archive---------15-----------------------#2022-12-06">https://blog.devgenius.io/what-is-the-x-aka-request-flag-in-a-curl-command-a489b02346d4?source=collection_archive---------15-----------------------#2022-12-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bc4f31181b10b289e9e3937f309b8326.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*60pa7s_YnR1WMGes"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">凯文·霍尔瓦特在<a class="ae kc" href="https://unsplash.com/photos/Pyjp2zmxuLk" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</figcaption></figure><p id="ea2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">见过 curl 命令中的<code class="fe lb lc ld le b">-X</code>标志吗？</p><p id="50b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可能有过——这是比较常见的一种，毕竟，你是在这里读这篇文章的，不是吗？</p><p id="50e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好吧，让我们直奔主题吧。</p><h1 id="5913" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">手册页上写了什么</h1><p id="5102" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">如果您看一下手册页上的内容，它会告诉您:</p><p id="07e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi"> (HTTP)指定与 HTTP 服务器通信时使用的自定义请求方法。将使用指定的请求方法，而不是其他使用的方法(默认为 GET)。请阅读 HTTP 1.1 规范，了解详细信息和解释。常见的附加 HTTP 请求包括 PUT 和 DELETE，但 WebDAV 等相关技术提供了 PROPFIND、COPY、MOVE 等。</em></p><p id="1c63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi">通常你不需要这个选项。各种 GET、HEAD、POST 和 PUT 请求都是通过使用专用命令行选项来调用的。</em></p><p id="49e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个选项仅仅改变了 HTTP 请求中实际使用的单词，它并没有改变 curl 的行为方式。因此，举例来说，如果您想要进行适当的 HEAD 请求，使用-X HEAD 是不够的。你需要使用 <a class="ae kc" href="https://curl.se/docs/manpage.html#-I" rel="noopener ugc nofollow" target="_blank"> <em class="mi"> -I，— head </em> </a> <em class="mi">选项。</em></p><p id="0607" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi">您用</em> <a class="ae kc" href="https://curl.se/docs/manpage.html#-X" rel="noopener ugc nofollow" target="_blank"> <em class="mi"> -X，— request </em> </a> <em class="mi">设置的方法字符串将用于所有请求，例如，如果您使用</em> <a class="ae kc" href="https://curl.se/docs/manpage.html#-L" rel="noopener ugc nofollow" target="_blank"> <em class="mi"> -L，— location </em> </a> <em class="mi">可能会导致意想不到的副作用，因为 curl 没有根据 HTTP 30x 响应代码更改请求方法，等等。</em></p><p id="ffa7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi"> (FTP)指定使用 FTP 创建文件列表时使用的自定义 FTP 命令，而不是 LIST。</em></p><p id="f4e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi"> (POP3)指定一个自定义 POP3 命令来代替 LIST 或 RETR。</em></p><p id="95a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi"> (IMAP)指定要使用的自定义 IMAP 命令，而不是 LIST。(在 7.30.0 中添加)</em></p><p id="4f9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi"> (SMTP)指定一个自定义 SMTP 命令来代替 HELP 或 VRFY。(在 7.34.0 中添加)</em></p><p id="6448" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi">如果多次提供</em> <a class="ae kc" href="https://curl.se/docs/manpage.html#-X" rel="noopener ugc nofollow" target="_blank"> <em class="mi"> -X，—请求</em> </a> <em class="mi">，将使用最后一次设定值。</em></p><p id="9005" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi">例子:</em></p><pre class="mj mk ml mm gt mn le mo bn mp mq bi"><span id="69f4" class="mr lg iq le b be ms mt l mu mv">curl -X "DELETE" https://example.com<br/> curl -X NLST ftp://example.com/</span></pre><p id="be20" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">…老实说，这对您来说已经足够好了！</p><p id="ea2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但如果不是，那么我将简要地用我自己的话来表达它的真正含义。</p><h1 id="add8" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">另一种解释</h1><p id="1259" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">基本上，使用<code class="fe lb lc ld le b">-X</code>的第一种方式是作为一个标签，你可以添加到 curl 中，紧接着是一个 HTTP 方法(例如，<code class="fe lb lc ld le b">GET</code>、<code class="fe lb lc ld le b">DELETE</code>、<code class="fe lb lc ld le b">POST</code>、<code class="fe lb lc ld le b">PUT</code>等等)，然后是一个 url。</p><p id="65e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，您所做的就是指定一个 HTTP 方法，通过该方法针对您指定的 URL 执行请求。</p><p id="0018" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，对于<code class="fe lb lc ld le b">POST</code>，您可能想要添加一个主体来实际发布到 URL。</p><p id="b0ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这种情况下，您实际上需要使用不同的标志:<code class="fe lb lc ld le b">-d</code>。</p><pre class="mj mk ml mm gt mn le mo bn mp mq bi"><span id="4043" class="mr lg iq le b be ms mt l mu mv">curl -X POST https://stuffinla.com/<br/>   -H 'Content-Type: application/json'<br/>   -d '{"user":"user_id","password":"hunter123"}'</span></pre><p id="fc49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你还可以看到另一面旗帜<code class="fe lb lc ld le b">-H</code>。那个用来指定你将要发布的请求头。</p><p id="c2ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是我们正在远离这里的事情。</p><p id="b156" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看到那个<code class="fe lb lc ld le b">-X</code>了吗？这就是我们在本文中讨论的标志，您将看到<code class="fe lb lc ld le b">POST</code>紧随其后。那是因为我们正在向那个 URL <code class="fe lb lc ld le b"><a class="ae kc" href="https://stuffinla.com." rel="noopener ugc nofollow" target="_blank">https://stuffinla.com</a></code> <a class="ae kc" href="https://stuffinla.com." rel="noopener ugc nofollow" target="_blank">发帖。</a></p><p id="686d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您不需要在 HTTP 方法(例如<code class="fe lb lc ld le b">"POST"</code>)周围加上引号，但是您也可以这样做。</p><p id="19ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除了 HTTP 方法之外，<code class="fe lb lc ld le b">-X</code>支持的另一件事是指定您希望用来访问 URL 的协议类型。</p><p id="5f58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，您可以说类似于<code class="fe lb lc ld le b">-X IMAP</code>的话来使用 IMAP 协议访问 URL。例如，您也可以对像<code class="fe lb lc ld le b">SMTP</code>这样的协议做同样的事情。</p><p id="03fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不过，对你们大多数人来说，你们可能只是想使用<code class="fe lb lc ld le b">-X</code>的第一种用法。</p><p id="b7c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有，还有一件事！不使用标志<code class="fe lb lc ld le b">-X</code>，也可以使用<code class="fe lb lc ld le b">--request</code>。这是完全一样的东西，但是形式更长(也许更令人难忘)。</p></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><p id="e63b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你觉得这篇文章很有帮助或者只是喜欢阅读它，可以考虑<a class="ae kc" href="https://tremaineeto.medium.com/membership" rel="noopener">注册成为</a>的一名媒体成员。</p><p id="3e24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每月 5 美元，你可以无限制地阅读媒体上关于软件、技术等主题的报道。</p><p id="6e95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我个人付费成为会员，能够每天查找特定的技术文章是非常宝贵的。</p><p id="5a82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你用我的链接注册，我会得到一小笔佣金。</p><div class="nd ne gp gr nf ng"><a href="https://tremaineeto.medium.com/membership" rel="noopener follow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">通过我的推荐链接加入 Medium—Tremaine Eto</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">tremaineeto.medium.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu jw ng"/></div></div></a></div></div></div>    
</body>
</html>