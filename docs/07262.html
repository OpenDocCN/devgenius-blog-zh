<html>
<head>
<title>Bottom Navigation made simple using Jetpack Navigation Component.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Jetpack 导航组件简化底部导航。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/bottom-navigation-made-simple-using-jetpack-navigation-component-efcdbfc913be?source=collection_archive---------5-----------------------#2022-03-10">https://blog.devgenius.io/bottom-navigation-made-simple-using-jetpack-navigation-component-efcdbfc913be?source=collection_archive---------5-----------------------#2022-03-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="09da" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">探索导航组件| Kotlin | AndroidX</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/c931499f286f86e2c2a99689b24c235e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q_903UaGVKjO-4iSqZPvLQ.png"/></div></div></figure><h1 id="a578" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">简介</strong></h1><p id="58a4" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">用片段管理导航就是处理回栈，处理片段事务，突出片段选项，迷失在中间不知道回哪里去！！</p><p id="ea68" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最好的解决方案是导航组件，一旦我开始使用它，我就再也回不去了。这是一次性解决所有问题的一站式解决方案。这是关于做底部导航，这将比以往任何时候都更容易和更令人愉快。</p><p id="f594" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在深入研究之前，我还在 YouTube 上发布了一个关于底部导航和导航组件的视频。看一看！</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="7020" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">优势</h1><ul class=""><li id="d563" class="mg mh in jm b jn lz jr ma jv mi jz mj kd mk kh ml mm mn mo bi translated">自动处理片段事务</li><li id="7456" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">默认情况下正确处理向上和向后</li><li id="236b" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">动画和交易的默认行为</li><li id="de64" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">深度链接作为第一类操作</li><li id="60ac" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">用额外的工作实现导航 UI 模式(导航抽屉和底部导航)。</li><li id="cc95" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">导航时传递参数时键入 safety</li></ul></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><blockquote class="mu"><p id="6830" class="mv mw in bd mx my mz na nb nc nd kh dk translated">让我们深入研究一下代码吧！</p></blockquote><h1 id="4793" class="lb lc in bd ld le lf lg lh li lj lk ll lm ne lo lp lq nf ls lt lu ng lw lx ly bi translated">1.重要的事情先来！..添加导航依赖项</h1><p id="bfb0" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">将以下依赖项添加到您的应用程序的 build.gradle，以便导航组件在您的项目中支持。</p><pre class="kq kr ks kt gt nh ni nj nk aw nl bi"><span id="0c65" class="nm lc in ni b gy nn no l np nq"><em class="nr">// Kotlin<br/></em>implementation("androidx.navigation:navigation-fragment-ktx:2.4.1")<br/>implementation("androidx.navigation:navigation-ui-ktx:2.4.1")<br/><br/><em class="nr">// Feature module Support<br/></em>implementation("androidx.navigation:navigation-dynamic-features-fragment:2.4.1")<br/><br/><em class="nr">// Testing Navigation<br/></em>androidTestImplementation("androidx.navigation:navigation-testing:2.4.1")<br/><br/><em class="nr">// Jetpack Compose Integration<br/></em>implementation("androidx.navigation:navigation-compose:2.4.1")</span></pre><h1 id="5850" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">2.创建片段</h1><p id="00ff" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">我想创建 3 个片段和一个主要活动。主要活动将集中在底部导航和导航主机来了。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ns"><img src="../Images/9dba66bad0710411919e120e7dc73f32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EIj02KzdcsDRsV0eDQ-shQ.png"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">主要活动</figcaption></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nx"><img src="../Images/3343f963b77a2840a5d134d05b8a456b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QURoTKGclWOKNrYu-8jYkg.png"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">片段-1</figcaption></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nx"><img src="../Images/12eaedd2b88fe417d07edeedb38c7003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8IDU5vITp2XGDnRJ_u-WLw.png"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">片段 2</figcaption></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ny"><img src="../Images/b661949fb87d59dc16508b5924d158dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UDUiOe-L5SzMh9zPoYuuDA.png"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">片段 3</figcaption></figure><h1 id="e29b" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">3.导航图</h1><p id="e872" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">如何创建导航图？</p><ul class=""><li id="2c76" class="mg mh in jm b jn jo jr js jv nz jz oa kd ob kh ml mm mn mo bi translated">转到您的资源文件夹-&gt;右键单击</li><li id="1e1e" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">创建资源文件</li><li id="e7e4" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">给出你想要的名字</li><li id="7291" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">在资源类型中选择导航</li><li id="e43e" class="mg mh in jm b jn mp jr mq jv mr jz ms kd mt kh ml mm mn mo bi translated">单击确定</li></ul><p id="adf5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你已经准备好导航图了。</p><p id="8c45" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是一个集中的空间，它显示所有的片段，过渡，他们之间的行动。Navgraph 有 2 部分的设计和代码，我们可以按照我们的意愿来设计它。</p><p id="86b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是它的样子</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi oc"><img src="../Images/722121f7e974454729beda24f25a87c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gMzZ9D99eDRmLu4LIGGntg.png"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">设计</figcaption></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi od"><img src="../Images/068ac3bdcb15278b9a21421d9b7afac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5yNyBXVizXPEMewUDqIl2A.png"/></div></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk translated">密码</figcaption></figure><h1 id="4b53" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">4.设置起始目的地</h1><p id="43ee" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">用户需要在启动应用程序后到达特定的固定目的地。导航应该基于 LIFO(后进先出)堆栈。移动到一个新的目的地意味着在栈顶推出新的屏幕。起始目的地将是堆栈中的最后一个，大多数情况下是我们关闭应用程序时的最后一页。</p><p id="f34c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">设置堆栈目的地就像点击按钮一样简单，只需从下拉列表中选择一个片段，这将是您的应用程序的第一个屏幕。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/2a6fe3d753da1ea134130aa3e79a7e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*uNLuxvGChum_9O17iXN_sw.png"/></div></figure><h1 id="92ab" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">5.添加 NavHost 片段和底部导航</h1><p id="d2fe" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">导航主机片段——导航组件中最重要的组件。它是一个空的片段，当用户在应用程序中导航时，它会被放入和取出。</p><p id="6294" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">底部导航—它是屏幕底部的一个视图，上面有多个按钮，单击任何按钮时，位于顶部的片段会根据所采取的操作更改 UI，底部会突出显示，以帮助用户显示屏幕。</p><pre class="kq kr ks kt gt nh ni nj nk aw nl bi"><span id="4c5f" class="nm lc in ni b gy nn no l np nq"><em class="nr">&lt;?</em>xml version="1.0" encoding="utf-8"<em class="nr">?&gt;<br/></em>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    tools:context=".ui.activity.MainActivity"&gt;<br/><br/>    &lt;androidx.fragment.app.FragmentContainerView<br/>        android:id="@+id/nav_host_fragment"<br/>        android:name="androidx.navigation.fragment.NavHostFragment"<br/>        android:layout_width="match_parent"<br/>        android:layout_height="match_parent"<br/>        app:layout_constraintLeft_toLeftOf="parent"<br/>        app:layout_constraintRight_toRightOf="parent"<br/>        app:layout_constraintTop_toTopOf="parent"<br/>        app:layout_constraintBottom_toBottomOf="@id/bottomNavigation"<br/>        app:defaultNavHost="true"<br/>        android:layout_marginBottom="60dp"<br/>        app:navGraph="@navigation/nav_graph" //the nav graph/&gt;<br/><br/>    &lt;com.google.android.material.bottomnavigation.BottomNavigationView<br/>         android:layout_height="60dp"<br/>        android:layout_width="match_parent"<br/>        android:id="@+id/bottomNavigation"<br/>        app:layout_constraintTop_toBottomOf="@id/nav_host_fragment"<br/>        app:layout_constraintBottom_toBottomOf="parent"<br/>        app:menu="@menu/menu_bottom_nav"// the menu file /&gt;<br/><br/>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span></pre><p id="9769" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，我们需要映射 navhost 图&amp;创建一个带有底部导航选项的菜单，并将其映射到 xml。</p><pre class="kq kr ks kt gt nh ni nj nk aw nl bi"><span id="bce1" class="nm lc in ni b gy nn no l np nq"><em class="nr">&lt;?</em>xml version="1.0" encoding="utf-8"<em class="nr">?&gt;<br/></em>&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;<br/>    &lt;item<br/>        android:id="@id/homeFragment"<br/>        android:icon="@drawable/home"<br/>        android:title="Home" /&gt;<br/><br/>    &lt;item<br/>        android:id="@id/favouritesFragment"<br/>        android:icon="@drawable/home"<br/>        android:title="Favourites" /&gt;<br/><br/>    &lt;item<br/>        android:id="@id/accountsFragment"<br/>        android:icon="@drawable/home"<br/>        android:title="Account" /&gt;<br/>&lt;/menu&gt;</span></pre><h1 id="502b" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">6.一切就绪！..最后一步</h1><p id="6485" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">应用程序中的导航是使用 NavController 完成的，它是一个在 NavHost 中管理应用程序导航的对象。</p><p id="d31f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将 NavHost 片段&amp; NavHost 初始化到活动。</p><pre class="kq kr ks kt gt nh ni nj nk aw nl bi"><span id="a293" class="nm lc in ni b gy nn no l np nq">class MainActivity : AppCompatActivity() {<br/>    override fun onCreate(savedInstanceState: Bundle?) {<br/>        super.onCreate(savedInstanceState)<br/>        setContentView(R.layout.<em class="nr">activity_main</em>)<br/><br/>        val navHostFragment = <em class="nr">supportFragmentManager</em>.findFragmentById(R.id.<em class="nr">nav_host_fragment</em>) as NavHostFragment<br/>        val navController = navHostFragment.navController<br/>        val navView: BottomNavigationView = findViewById(R.id.<em class="nr">bottomNavigation</em>)<br/>        navView.<em class="nr">setupWithNavController</em>(navController)<br/><br/>    }<br/>}</span></pre><p id="d7d7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们可以运行应用程序并查看输出。</p><div class="kq kr ks kt gt ab cb"><figure class="of ku og oh oi oj ok paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><img src="../Images/f71c520be61b1f5e8740fd8b4b486379.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*yWAbzBKXdd3bFLms5f0alA.jpeg"/></div></figure><figure class="of ku og oh oi oj ok paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><img src="../Images/a9185490810240b55e1a9f12789aa819.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*692WBOijgv73IX1O4JNfhQ.jpeg"/></div></figure><figure class="of ku og oh oi oj ok paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><img src="../Images/8221fc9b6d817de7d6e0ebe70f87ef5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*ybgsgjqUsCtZxNxdzdkX_w.jpeg"/></div></figure></div><p id="96ed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是关于 Jetpack 导航组件&amp;底部导航的全部内容。</p><h1 id="4509" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">编码快乐！！</h1></div></div>    
</body>
</html>