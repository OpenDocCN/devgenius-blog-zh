<html>
<head>
<title>Python @property decorator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python @property 装饰器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/python-property-decorator-538beb77cce2?source=collection_archive---------5-----------------------#2022-10-21">https://blog.devgenius.io/python-property-decorator-538beb77cce2?source=collection_archive---------5-----------------------#2022-10-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="37b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 Python 中，装饰器特性包装一个函数，向现有代码添加几个功能，然后返回它。方法和函数是可调用的，因为它们可以被调用。因此，装饰器是一个返回可调用对象的可调用对象。这也称为元编程，因为程序的一部分在编译时改变了程序的另一部分。注意:有关更多信息，请参见 Python 中的 Decorators。</p><p id="b3b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> Python @property decorator </strong></p><p id="1e90" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">@property decorator 是一个 Python 内置的 decorator，它允许您定义属性，而不必调用内置函数 property()。它用于从指定的 getter、setter 和 deleter 中返回类的属性特性作为参数。让我们看一些如何在 Python 中使用@property 装饰器的例子:examples:</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="bc57" class="kr ks in kn b gy kt ku l kv kw"># Python program to illustrate the use of</span><span id="ce59" class="kr ks in kn b gy kx ku l kv kw"># @property decorator</span><span id="8ff6" class="kr ks in kn b gy kx ku l kv kw"># Defining class</span><span id="5646" class="kr ks in kn b gy kx ku l kv kw">class Portal:</span><span id="1255" class="kr ks in kn b gy kx ku l kv kw"># Defining __init__ method</span><span id="ede2" class="kr ks in kn b gy kx ku l kv kw">def __init__(self):</span><span id="c0b4" class="kr ks in kn b gy kx ku l kv kw">self.__name =''</span><span id="8e62" class="kr ks in kn b gy kx ku l kv kw"># Using @property decorator</span><span id="ee4d" class="kr ks in kn b gy kx ku l kv kw">@property</span><span id="8e2c" class="kr ks in kn b gy kx ku l kv kw"># Getter method</span><span id="324a" class="kr ks in kn b gy kx ku l kv kw">def name(self):</span><span id="7df7" class="kr ks in kn b gy kx ku l kv kw">return self.__name</span><span id="7135" class="kr ks in kn b gy kx ku l kv kw"># Setter method</span><span id="34a0" class="kr ks in kn b gy kx ku l kv kw">@name.setter</span><span id="2f28" class="kr ks in kn b gy kx ku l kv kw">def name(self, val):</span><span id="3bce" class="kr ks in kn b gy kx ku l kv kw">self.__name = val</span><span id="63f6" class="kr ks in kn b gy kx ku l kv kw"># Deleter method</span><span id="cd3b" class="kr ks in kn b gy kx ku l kv kw">@name.deleter</span><span id="1494" class="kr ks in kn b gy kx ku l kv kw">def name(self):</span><span id="2af0" class="kr ks in kn b gy kx ku l kv kw">del self.__name</span><span id="2618" class="kr ks in kn b gy kx ku l kv kw"># Creating object</span><span id="3a49" class="kr ks in kn b gy kx ku l kv kw">p = Portal();</span><span id="3625" class="kr ks in kn b gy kx ku l kv kw"># Setting name</span><span id="adb8" class="kr ks in kn b gy kx ku l kv kw">p.name = 'CarToon'</span><span id="06c2" class="kr ks in kn b gy kx ku l kv kw"># Prints name</span><span id="25b4" class="kr ks in kn b gy kx ku l kv kw">print (p.name)</span><span id="5ca4" class="kr ks in kn b gy kx ku l kv kw"># Deletes name</span><span id="ac07" class="kr ks in kn b gy kx ku l kv kw">del p.name</span><span id="741e" class="kr ks in kn b gy kx ku l kv kw"># As name is deleted above this</span><span id="843e" class="kr ks in kn b gy kx ku l kv kw"># will throw an error</span><span id="3383" class="kr ks in kn b gy kx ku l kv kw">print (p.name)</span></pre><p id="4598" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">输出:</strong></p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="f0d9" class="kr ks in kn b gy kt ku l kv kw">CarToon</span><span id="8be2" class="kr ks in kn b gy kx ku l kv kw">## An error is thrown</span><span id="96b8" class="kr ks in kn b gy kx ku l kv kw">Traceback (most recent call last):</span><span id="99ae" class="kr ks in kn b gy kx ku l kv kw">File "main.py", line 42, in</span><span id="5e0a" class="kr ks in kn b gy kx ku l kv kw">print (p.name)</span><span id="c981" class="kr ks in kn b gy kx ku l kv kw">File "main.py", line 16, in name</span><span id="3240" class="kr ks in kn b gy kx ku l kv kw">return self.__name</span><span id="d327" class="kr ks in kn b gy kx ku l kv kw">AttributeError: 'Portal' object has no attribute '_Portal__name'</span></pre><p id="620e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里使用@property decorator 来定义类门户中的属性名，它有三个名称相似的方法(getter、setter 和 deleter)，即 name()，但参数数量不同。name(self)是一个 getter 方法，并标有@property，而 name(self，val)是一个 setter 方法，因为它用于设置属性 __name 的值，并标有@name.setter。deleter 是一个 deleter 方法，可以删除 setter 方法分配的值。但是，使用关键字 del 调用 deleter。范例 2:</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="40e8" class="kr ks in kn b gy kt ku l kv kw">Python program to illustrate the use of</span><span id="e234" class="kr ks in kn b gy kx ku l kv kw"># @property decorator</span><span id="0f42" class="kr ks in kn b gy kx ku l kv kw"># Creating class</span><span id="bf0f" class="kr ks in kn b gy kx ku l kv kw">class Celsius:</span><span id="f2c2" class="kr ks in kn b gy kx ku l kv kw"># Defining init method with its parameter</span><span id="340b" class="kr ks in kn b gy kx ku l kv kw">def __init__(self, temp = 0):</span><span id="bf92" class="kr ks in kn b gy kx ku l kv kw">self._temperature = temp</span><span id="a702" class="kr ks in kn b gy kx ku l kv kw"># @property decorator</span><span id="7547" class="kr ks in kn b gy kx ku l kv kw">@property</span><span id="7aa4" class="kr ks in kn b gy kx ku l kv kw"># Getter method</span><span id="0302" class="kr ks in kn b gy kx ku l kv kw">def temp(self):</span><span id="8fcd" class="kr ks in kn b gy kx ku l kv kw"># Prints the assigned temperature value</span><span id="9c09" class="kr ks in kn b gy kx ku l kv kw">print("The value of the temperature is: ")</span><span id="4a90" class="kr ks in kn b gy kx ku l kv kw">return self._temperature</span><span id="2103" class="kr ks in kn b gy kx ku l kv kw"># Setter method</span><span id="9d47" class="kr ks in kn b gy kx ku l kv kw">@temp.setter</span><span id="093c" class="kr ks in kn b gy kx ku l kv kw">def temp(self, val):</span><span id="119a" class="kr ks in kn b gy kx ku l kv kw"># If temperature is less than -273 than a value</span><span id="8d78" class="kr ks in kn b gy kx ku l kv kw"># error is thrown</span><span id="25b3" class="kr ks in kn b gy kx ku l kv kw">if val &lt; -273:</span><span id="4b24" class="kr ks in kn b gy kx ku l kv kw">raise ValueError("It is a value error.")</span><span id="3503" class="kr ks in kn b gy kx ku l kv kw"># Prints this if the value of the temperature is set</span><span id="2722" class="kr ks in kn b gy kx ku l kv kw">print("The value of the temperature is set.")</span><span id="4a49" class="kr ks in kn b gy kx ku l kv kw">self._temperature = val</span><span id="455c" class="kr ks in kn b gy kx ku l kv kw"># Creating object for the stated class</span><span id="035c" class="kr ks in kn b gy kx ku l kv kw">cel = Celsius();</span><span id="55dc" class="kr ks in kn b gy kx ku l kv kw"># Setting the temperature value</span><span id="78ea" class="kr ks in kn b gy kx ku l kv kw">cel.temp = -270</span><span id="67c6" class="kr ks in kn b gy kx ku l kv kw"># Prints the temperature that is set</span><span id="8c51" class="kr ks in kn b gy kx ku l kv kw">print(cel.temp)</span><span id="610f" class="kr ks in kn b gy kx ku l kv kw"># Setting the temperature value to -300</span><span id="9277" class="kr ks in kn b gy kx ku l kv kw"># which is not possible so, an error is</span><span id="1673" class="kr ks in kn b gy kx ku l kv kw"># thrown</span><span id="b469" class="kr ks in kn b gy kx ku l kv kw">cel.temp = -300</span><span id="8426" class="kr ks in kn b gy kx ku l kv kw">print(cel.temp)</span></pre><p id="ec10" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">输出:</strong></p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="6f18" class="kr ks in kn b gy kt ku l kv kw">The value of the temperature is set.</span><span id="84f7" class="kr ks in kn b gy kx ku l kv kw">The value of the temperature is:</span><span id="8027" class="kr ks in kn b gy kx ku l kv kw">-270</span><span id="d85a" class="kr ks in kn b gy kx ku l kv kw"># An error is thrown</span><span id="0cef" class="kr ks in kn b gy kx ku l kv kw">Traceback (most recent call last):</span><span id="c5d2" class="kr ks in kn b gy kx ku l kv kw">File "main.py", line 47, in</span><span id="0c58" class="kr ks in kn b gy kx ku l kv kw">cel.temp = -300</span><span id="3d11" class="kr ks in kn b gy kx ku l kv kw">File "main.py", line 28, in temp</span><span id="6bf2" class="kr ks in kn b gy kx ku l kv kw">raise ValueError("It is a value error.")</span><span id="9bee" class="kr ks in kn b gy kx ku l kv kw">ValueError: It is a value error.</span></pre><p id="686f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里抛出一个值错误，因为指定的温度必须大于-273。但是这里零下 300 度。因此，会引发值错误。</p></div></div>    
</body>
</html>