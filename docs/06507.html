<html>
<head>
<title>Dependency Management in iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS中的依赖管理</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/dependancy-management-for-ios-27dd681d7ea0?source=collection_archive---------2-----------------------#2022-01-13">https://blog.devgenius.io/dependancy-management-for-ios-27dd681d7ea0?source=collection_archive---------2-----------------------#2022-01-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/44c648d68945bb2752df1525cd593b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqvv5sJ7Yx7_TXCENkLIGQ.png"/></div></div></figure><h1 id="1f0b" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">什么是依赖管理器？</strong></h1><p id="b8be" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">软件包/依赖项管理器可以说是一种工具，它自动化了在我们的应用程序中安装、升级、配置和删除软件的过程。</p><p id="00f0" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">假设我们需要在应用程序中处理网络请求，但是我们不想浪费时间去创建已经存在的东西。我们只是想使用一个健壮、可靠、制作精良、经过充分测试的现有框架。</p><p id="1132" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这些框架是我们的应用程序所依赖的。</p><p id="539d" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">依赖项/包管理器帮助管理我们的应用程序中的依赖项。Alamofire是我们为网络请求添加的一个框架/依赖项。</p><p id="f177" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">依赖项可以静态或动态地链接到iOS项目。</p><p id="ed93" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在静态链接中，所有依赖项都在编译时复制到项目中，而动态链接只允许通过在运行时加载依赖项来将它们的引用存储在我们的项目中。</p><p id="6d26" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">像UIKit这样的系统框架是动态链接的，因此不需要每次修改应用程序时都进行更新。像AFNetworking、ObjectMapper这样的第三方框架可以静态或动态链接。</p><p id="9e86" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">手动依赖管理</strong></p><p id="59b9" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">手动将依赖项添加到项目时，请遵循以下步骤:</p><ol class=""><li id="0e40" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">下载项目/将其添加为git子模块</li></ol><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="4c68" class="mo jw in mk b gy mp mq l mr ms">$ git submodule add https://github.com/Alamofire/Alamofire.git<br/><br/><br/>2. Add a project to your existing project</span></pre><p id="4f53" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">打开新的<code class="fe mt mu mv mk b">Alamofire</code>文件夹，将<code class="fe mt mu mv mk b">Alamofire.xcodeproj</code>拖到应用程序Xcode项目的项目导航器中。</p><p id="f315" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在项目导航器中选择<code class="fe mt mu mv mk b">Alamofire.xcodeproj</code>,并验证部署目标是否与您的应用程序目标相匹配。</p><p id="c345" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">3.将框架添加到项目设置</p><p id="f65e" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在窗口顶部的标签栏中，打开“常规”面板。点击“嵌入式二进制文件”部分下的<code class="fe mt mu mv mk b">+</code>按钮。根据需求选择框架<code class="fe mt mu mv mk b">Alamofire.framework</code>，因为它包括iOS和macOS框架。</p><h2 id="4e43" class="mo jw in bd jx mw mx dn kb my mz dp kf le na nb kj li nc nd kn lm ne nf kr ng bi translated"><strong class="ak">使用依赖关系管理器进行依赖关系管理:</strong></h2><p id="1730" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">以下是iOS最常用的依赖管理器:</p><ol class=""><li id="3e6a" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">椰子足类</li><li id="4d33" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">迦太基</li><li id="144a" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">Swift软件包管理器</li></ol><p id="c07d" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">软件包管理器应该具有以下能力:</p><ul class=""><li id="71de" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq nm mc md me bi translated">将软件包和源代码集中托管在公共服务器上，供开发者或贡献者使用</li><li id="4350" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq nm mc md me bi translated">在运行时下载源代码，这样我们就不需要将它包含在存储库中。</li><li id="fbd0" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq nm mc md me bi translated">通过包含源文件，将源代码链接到我们的工作存储库。</li><li id="56ed" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq nm mc md me bi translated">允许对包进行版本控制</li></ul><h1 id="0838" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">椰子</strong></h1><ol class=""><li id="a1cf" class="lw lx in kv b kw kx la lb le nn li no lm np lq mb mc md me bi translated">集中式依赖管理器</li><li id="45f5" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">可用于快速和客观的可可项目</li><li id="a43a" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">开源</li><li id="4e67" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">用Ruby构建</li><li id="4cf9" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">Cocoa pods基于名为Specs.git的主要中央回购协议</li><li id="30e2" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">Specs.git托管所有框架规范</li><li id="44d6" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">为了让其他开发人员可以使用软件包管理器，软件包开发人员必须使用pod命令行将代码推送到这个repo</li><li id="0a99" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">它的网站上有一个公共搜索特性，这样开发者可以在一个地方搜索不同的框架</li><li id="063e" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">支持所有苹果平台——iOS、macOS、tvOS、watchOS</li></ol><p id="5cd4" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">安装</strong> <code class="fe mt mu mv mk b">$ sudo gem install cocoapods</code></p><p id="e938" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">为了使用Cocoa pods集成依赖项，我们需要在项目根文件夹中创建<strong class="kv io"> Podfile </strong>。<strong class="kv io"> pod init </strong>命令将创建空的Podfile。</p><p id="b951" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用<strong class="kv io"> pod install </strong>下载依赖项，这将生成<strong class="kv io"> Podfile.lock </strong>文件。</p><p id="a3fe" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">还会创建一个名为“<strong class="kv io"> Pods </strong>的文件夹。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="0c80" class="mo jw in mk b gy mp mq l mr ms">platform :ios, '11.0'<br/>use_frameworks!<br/>target 'Project Name' <strong class="mk io">do</strong></span><span id="8f7c" class="mo jw in mk b gy nq mq l mr ms"># Pods for "Project Name"<br/>pod 'Alamofire', '~&gt; 5.2'</span><span id="8394" class="mo jw in mk b gy nq mq l mr ms"><strong class="mk io">end</strong></span></pre><p id="4c7d" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io"> COCOAPODS和XCODE协作</strong></p><ol class=""><li id="9af3" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">Cocoapods和XCode协同工作，将依赖关系集成到iOS项目中。</li><li id="67a1" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated"><strong class="kv io"> pod安装</strong>命令创建。<strong class="kv io"> xcworkspace </strong>文件放在。<strong class="kv io"> xcodeproj </strong>文件打开项目</li><li id="1e4d" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">在项目根文件夹中创建Podfile.lock文件</li><li id="8d0c" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated"><strong class="kv io">Pod</strong>目录，该目录包含添加到Podfile中的所有Pod依赖项的源代码。</li><li id="1cc5" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">更改XCode项目设置。</li></ol><p id="54fb" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">椰子——利弊</strong></p><p id="4cd2" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">优点</strong></p><ol class=""><li id="a2b9" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">易于设置和使用。</li><li id="5d70" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">自动完成所有XCode项目设置。在iOS项目中添加依赖项不需要手动设置。</li><li id="0746" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">有许多贡献者可用，所以动态库可用于集成。使用Cocoapods网站上的公共搜索，轻松搜索图书馆。</li></ol><p id="19d3" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">限制</strong></p><ol class=""><li id="7019" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">它是建立在Ruby之上的，我们必须管理Ruby的依赖，比如Bundler，Gems等等</li><li id="6cc7" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">CocoaPods更新Xcode项目和文件就像变魔术一样，不知道发生了什么变化。</li><li id="f5e2" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">集中的</li></ol><h1 id="910d" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">袁绍</strong></h1><ol class=""><li id="6bee" class="lw lx in kv b kw kx la lb le nn li no lm np lq mb mc md me bi translated">Carthage是Swift和Objective-C Cocoa项目的分散依赖管理器</li><li id="2adc" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated"><strong class="kv io">分散化:</strong>Carthage没有中央specs.git存储库。</li></ol><p id="5497" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这减少了维护工作和中心故障点的可能性。</p><ol class=""><li id="70d1" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">但是，我们需要检查每个依赖关系回购是否过期，而不是Cocoa-pods中的集中回购。</li><li id="acf3" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">支持所有苹果平台:iOS，MacOS，tvOS。watchOS</li><li id="4f8b" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">Carthage命令行工具只能在Mac上使用。</li><li id="95b0" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">开源</li><li id="9d59" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">使用Swift构建</li></ol><p id="f87b" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">迦太基和XCODE协作</strong></p><ol class=""><li id="121f" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">不会更改XCode和项目文件。</li><li id="2951" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">控制XCode需要添加哪些文件。</li><li id="c573" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">Carthage很简单，只需添加和构建依赖项，让开发人员将二进制文件添加到项目中。</li></ol><p id="e032" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第一步:</strong></p><p id="6d2c" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">迦太基安装方法:</strong></p><p id="e8ea" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">安装Carthage有多种选择:</p><ul class=""><li id="6ed1" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq nm mc md me bi translated"><strong class="kv io">安装人员</strong>:</li></ul><p id="1104" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">下载Carthage软件包安装程序</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="30a6" class="mo jw in mk b gy mp mq l mr ms"><a class="ae nr" href="https://github.com/Carthage/Carthage/releases" rel="noopener ugc nofollow" target="_blank">https://github.com/Carthage/Carthage/releases</a></span></pre><p id="8942" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">下载迦太基的最新版本:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="2ae8" class="mo jw in mk b gy mp mq l mr ms"><a class="ae nr" href="https://github.com/Carthage/Carthage/releases" rel="noopener ugc nofollow" target="_blank">https://github.com/Carthage/Carthage/releases</a></span></pre><p id="7ea0" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">选择最近的构建，然后在下载下选择Carthage.pkg。</p><p id="0a31" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">双击<strong class="kv io"> Carthage.pkg </strong>运行安装程序。点按“继续”，选择安装软件包的位置，再次点按“继续”，最后点按“安装”。</p><p id="069a" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">可能的困难:</strong></p><p id="3965" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">如果Carthage.pkg未安装，您可能会看到一条消息，说明“Carthage.pkg无法打开，因为它来自一个身份不明的开发人员。”</p><p id="b34e" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">打开finder右击Carthage . pkg→open with→Installer</p><p id="6c3f" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">安装过程开始选择安装位置，点击继续。</p><p id="eb98" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">检查版本:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="b31e" class="mo jw in mk b gy mp mq l mr ms">carthage version</span></pre><ul class=""><li id="2262" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq nm mc md me bi translated"><strong class="kv io">自制</strong></li></ul><p id="c576" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用命令安装自制软件:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="8a53" class="mo jw in mk b gy mp mq l mr ms">/usr/bin/ruby -e “$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span></pre><p id="d29c" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">安装迦太基:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="c72f" class="mo jw in mk b gy mp mq l mr ms">brew install carthage</span></pre><p id="b913" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">如果你之前安装了Carthage的二进制版本，你应该删除<code class="fe mt mu mv mk b">/Library/Frameworks/CarthageKit.framework</code></p><ul class=""><li id="d8a4" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq nm mc md me bi translated"><strong class="kv io"> Macports </strong>:</li></ul><p id="c379" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae nr" href="https://www.macports.org" rel="noopener ugc nofollow" target="_blank">https://www.macports.org</a></p><p id="8263" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在下载下，选择最新的软件包。</p><p id="87f3" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">为macOS安装MacPorts <strong class="kv io"> 2.6.4 </strong></p><p id="861a" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">运行命令:</strong></p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="1e1d" class="mo jw in mk b gy mp mq l mr ms">sudo port selfupdate<!-- --> <br/>sudo port install carthage</span></pre><p id="7304" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第二步:</strong></p><p id="6dcb" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在“终端”中导航到项目的根目录</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="8e43" class="mo jw in mk b gy mp mq l mr ms">cd /Users/sukanksha.paralikar/Documents/POC/DemoCarthageDependencyManager</span></pre><p id="b93a" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第三步:</strong></p><p id="71bd" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用touch命令创建一个空的Cartfile:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="887c" class="mo jw in mk b gy mp mq l mr ms">touch Cartfile</span></pre><p id="6b0f" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用命令打开Cartfile:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="48f9" class="mo jw in mk b gy mp mq l mr ms">Open -a Xcode Cartfile</span></pre><p id="2650" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">添加要添加到项目中的依赖项</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="83a1" class="mo jw in mk b gy mp mq l mr ms"> github “Alamofire/Alamofire”</span></pre><p id="80c3" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第四步:</strong></p><p id="3bd4" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">键入命令以获取更新的依赖项。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="0c01" class="mo jw in mk b gy mp mq l mr ms">carthage update — platform iOS</span></pre><p id="18fd" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第五步:</strong></p><p id="3720" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">Carthage创建Cartfile.resolved文件，这样当你从服务器签出代码的时候，就应该在项目中添加相同版本的相同依赖项。</p><p id="5fc2" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用以下命令打开目录:</p><p id="c611" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">打开迦太基</p><p id="d77e" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">迦太基目录有两个文件夹-</p><ol class=""><li id="dc81" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">构建-&gt; iOS</li><li id="fab5" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">检验</li></ol><p id="55bb" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">Build中有iOS文件夹，其中有添加到cart文件中的框架</p><p id="1e0a" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">“签出”文件夹包含添加到项目中的依赖项的源代码。</p><p id="5592" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第六步:</strong></p><p id="0bf7" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在项目目标的“常规”设置选项卡上，在“链接的框架和库”部分，从磁盘上的Carthage/Build文件夹中拖放每个要使用的框架。</p><p id="edf2" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">常规-&gt;链接的框架和库-&gt;添加文件夹-&gt;项目目录路径-&gt; Carthage -&gt;构建-&gt; iOS -&gt; Alamofire.framework</p><p id="0f38" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第七步:</strong></p><p id="35cd" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在应用程序目标的“构建阶段”设置选项卡上，单击“+”图标并选择“新建运行脚本阶段”。创建一个运行脚本，在其中指定您的shell(例如:/bin/sh)，将以下内容添加到shell下的脚本区域:</p><p id="940d" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">应用程序目标-&gt;构建阶段-&gt;图标-&gt;新运行脚本阶段-&gt;运行脚本-&gt;Shell</p><p id="61e1" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在外壳文本字段中键入以下内容:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="f745" class="mo jw in mk b gy mp mq l mr ms">/usr/local/bin/carthage copy-frameworks</span></pre><p id="3afb" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">检查-&gt;在构建日志中显示环境变量</p><p id="01ac" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">选中-&gt;仅在安装时运行脚本</p><p id="96b5" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第八步:</strong></p><p id="cfb6" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在输入文件下:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="1c9d" class="mo jw in mk b gy mp mq l mr ms">$(SRCROOT)/Carthage/Build/iOS/“Result.framework”</span></pre><p id="0f8d" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">第九步:</strong></p><p id="46af" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">将复制框架的路径添加到“输出文件”中</p><ol class=""><li id="5131" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">导航至<em class="ns">构建阶段</em>选项卡</li><li id="356a" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">点击+按钮，选择<em class="ns">新建复制文件阶段</em></li><li id="ab55" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">展开<em class="ns">复制文件</em>部分。</li><li id="903f" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">对于<em class="ns">目的地</em>下拉列表，选择<em class="ns">框架</em>。</li><li id="f91d" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">将<em class="ns"> Alamofire.framework </em>文件放到拖放目标中(此处显示“在此添加文件”)。出现提示时，勾选<em class="ns">目的地:如果需要，复制项目</em>复选框。</li><li id="4650" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">同时确保勾选复选框<em class="ns">副本上的代码符号</em>。仅在安装框时不勾选<em class="ns">副本。</em></li></ol><p id="f85c" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">迦太基——优缺点:</strong></p><p id="01e4" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">优点</strong></p><ol class=""><li id="da1a" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">向开发人员提供控制，因为不涉及XCode项目</li><li id="0a12" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">分散</li></ol><p id="c522" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">限制</strong></p><ol class=""><li id="9f58" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">贡献者不多，因为迦太基有一个小的社区在工作。</li><li id="8a7c" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">缓慢且不稳定</li><li id="c4c6" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">需要许多手动步骤来使用Carthage集成依赖性。</li></ol><h1 id="4b8e" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">Swift软件包管理器</h1><p id="3530" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kv io">Swift</strong>T28】包管理器从<strong class="kv io">Swift</strong>T32】3.0就有了。在Xcode 11中，苹果增加了Swift包管理器支持，用于管理iOS中Swift代码的分发。</p><p id="bef2" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">一个Swift包主要包括两个部分:源代码，它是包的核心，以及一个<em class="ns">清单</em>文件，即<em class="ns"> Package.swift </em>，它是包配置发生的地方。</p><p id="0580" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">要检查您是否安装了Swift Package Manager:</p><blockquote class="nt nu nv"><p id="1066" class="kt ku ns kv b kw lr ky kz la ls lc ld nw lt lg lh nx lu lk ll ny lv lo lp lq ig bi translated">快速构建–版本</p></blockquote><p id="619a" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">使用SPM创建一个包:</strong></p><p id="0103" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">打开终端并创建一个名为Demo的目录，然后进入SPMDemo</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="d788" class="mo jw in mk b gy mp mq l mr ms">mkdir SPMDemo<br/>cd SPMDemo</span></pre><p id="7cbc" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io"> SPM —优缺点:</strong></p><p id="7bf4" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">优点</strong></p><ol class=""><li id="c3a0" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">Swift的官方包管理工具</li><li id="76fe" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">由苹果公司管理</li><li id="7757" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">在服务器端swift项目中非常有用</li></ol><p id="4904" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io">限制</strong></p><ol class=""><li id="8341" class="lw lx in kv b kw lr la ls le ly li lz lm ma lq mb mc md me bi translated">相对于椰子和迦太基的新工具</li><li id="3f48" class="lw lx in kv b kw nh la ni le nj li nk lm nl lq mb mc md me bi translated">仅支持macOS和Linux</li></ol><h1 id="3061" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">摘要</h1><p id="ac8e" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">通过这种方式，我们看到了向您的iOS项目添加依赖项的不同方法及其优缺点。虽然我们有cocoapods和Carthage，但与Swift Package Manager相比，它可能是苹果未来官方工具的更好选择。</p><p id="ed84" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">快乐阅读:-)</p></div></div>    
</body>
</html>