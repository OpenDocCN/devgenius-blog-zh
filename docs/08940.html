<html>
<head>
<title>Day 104 of Game Dev: Unity New Input System — Progress Bar UI!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发第 104 天:Unity 新输入系统——进度条 UI！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-103-of-game-dev-unity-new-input-system-progress-bar-ui-428db3f3be6a?source=collection_archive---------14-----------------------#2022-07-19">https://blog.devgenius.io/day-103-of-game-dev-unity-new-input-system-progress-bar-ui-428db3f3be6a?source=collection_archive---------14-----------------------#2022-07-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="38dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">目标:使用新的输入系统创建一个进度条 UI。</p><p id="fd84" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这应该是最终结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0dd2c2f6332f22ee3d4b0828da15bea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tkWrIZ4nEVFcDy-axu4f1g.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">每当我按住空格时，横条就会填满，而当我不按住空格时，就会失去进度。</figcaption></figure><p id="4dba" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Unity 已经有一个内置的滑动条，我们可以通过代码来操作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/93b9ecf2eb7fb661d79a7b5886a2a0fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*Y7QzyrEKY3Q8HIk98Sfh8w.png"/></div></figure><p id="2193" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在滑块上有一个值变量，它表示条有多满。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/119e52ad6dd51b1b25184f2870af2885.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/1*tWNVvF8UzgYejaVSPngOmQ.gif"/></div></figure><p id="21f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">和滑块一起，这个脚本让我填充或降低它的进度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi la"><img src="../Images/f235f64797f6a63b45daa8d3b0a03a67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xsPLgmZx7NVYVlDoRSmKMw.png"/></div></div></figure><p id="84f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们来分析一下。</p><p id="d487" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我获得了对输入动作资产的引用，启用了我想要使用的动作映射，并为开始和取消的事件创建了一个方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/12393d2617d7d8c491990413138a3435.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*QrYs8tiLMvc7JJh3Oc61uQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/845074802d60a443b1bcbce7ae9f283c.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*3yAMXXXZwPWplqAwLdjzbw.png"/></div></figure><p id="eeee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">动作图由 1 个动作组成，空格键设置为绑定。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ld"><img src="../Images/345d569cc48b7dabce4d29ac9bbd8fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*diZIjByOBab6mK-ycBJoCw.png"/></div></div></figure><p id="c690" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我还需要访问滑块，这样我就可以操作它的值变量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi le"><img src="../Images/2a7ab64180e3f0daadef87e0742dc868.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*1WwOtjFh19mo3l_d-xPnDg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/714d92f49a7dfed7e4fc0b320bf66ca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*ZCb5Ypq6iqLjvHBumAmWGg.png"/></div></figure><p id="20c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，我将创建一个协程，基于 bool 增加 sliders 值。如果布尔值为假，那么滑块值将减少，直到达到 0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lg"><img src="../Images/603dd46ac27a8b7a46b5da5e6082dff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*ynPMaQxK8kiFCyjJV6niSQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/c898822cca02c94fecdccd1f2eefc2d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*AUEuqehBXEoxm2HAxlfnKg.png"/></div></figure><p id="3ec2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">或者，我可以设置滑块值根据布尔值减少。这样您就不必等到该值达到 0 后再开始增加。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi li"><img src="../Images/56d2b84a1ce69601e82d764f7f37127d.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*Xt3XA8Hxk8udzwyh3q_4-A.png"/></div></figure><p id="f5c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我用时间来加或减这个值，deltaTime 意味着它会根据实际时间增加或减少。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lj"><img src="../Images/19fd0ead7f068d661407df6475367e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zy7qJLviM2ozveN9Qm0ViQ.png"/></div></div></figure><p id="c7d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">回到 started 和 canceled 方法，我正在检查被按下的空格键是否已经启动。如果已经将 _isFilling bool 设置为 true，则启动协程。如果空格键停止被按下(被取消)，那么将 _isFilling bool 设置为 false。</p><p id="4222" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我对此很感兴趣，但肯定需要其他人的一些投入才能做好。如果你需要帮助，不要难过。你的工作不是成为无所不知的人，而是解决问题的人。有时候解决问题最快最好的方法就是寻求帮助。这没什么不对。</p><p id="05ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="lk">如有任何问题或想法欢迎评论。让我们制作一些令人敬畏的游戏！</em> </strong></p></div></div>    
</body>
</html>