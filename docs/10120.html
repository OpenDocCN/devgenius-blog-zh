<html>
<head>
<title>Spring Boot + JPA + MySQL in 15 min</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">15 分钟内 Spring Boot + JPA + MySQL</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/spring-boot-jpa-mysql-in-15-min-8c246120fd62?source=collection_archive---------10-----------------------#2022-10-08">https://blog.devgenius.io/spring-boot-jpa-mysql-in-15-min-8c246120fd62?source=collection_archive---------10-----------------------#2022-10-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="9078" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个博客将有助于理解主要的 Spring boot 和 JPA Hibernate 注释。将会详细讨论 Spring Boot + JPA + MySQL 的集成，以及它如何与 RESTFul web 服务一起工作。</p><p id="b348" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇文章将有助于学习、修改和准备关于 Spring Boot 和 JPA 实际上是如何一步一步工作的面试。</p><p id="dba4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是先决条件，但不是强制要求，在开始实施之前需要安装 Java 和 MySQL。</p><p id="6015" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是 Spring Boot 和 JPA 项目的代码结构，我们将构建它作为本文的一部分。我们将在突出显示的包和文件中进行更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/1f89db265b31b51e0557593372399c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*aDO9uHBLadegabKngq4erg.png"/></div></figure><p id="10e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为本文的一部分，我们将使用 Spring 工具包，要下载和设置 Spring 工具包，请点击此<a class="ae kq" href="https://medium.com/@toimrank/spring-boot-project-setup-in-5-min-c1e6d2541027" rel="noopener">链接</a>。</p><p id="9d61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">按照下面的步骤创建我们的第一个 Spring 应用程序项目。</p><ol class=""><li id="7fb4" class="kr ks in jm b jn jo jr js jv kt jz ku kd kv kh kw kx ky kz bi translated">打开我们安装在这里的弹簧工具包。</li><li id="49d8" class="kr ks in jm b jn la jr lb jv lc jz ld kd le kh kw kx ky kz bi translated">点击顶部导航菜单中的<strong class="jm io">文件</strong>，然后点击<strong class="jm io">新建</strong>。一旦我们点击 create <strong class="jm io"> new </strong>选项，就会有一个选项<strong class="jm io"> Spring Starter Project </strong>开始出现。</li></ol><p id="76a9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面的窗口将开始出现。</p><p id="b500" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为项目的<strong class="jm io">组</strong>和<strong class="jm io">工件</strong>提供下面突出显示的值，并点击<strong class="jm io">下一步</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/95f86879280f06036f99326b38041bc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/0*nZXMtK-I9pS6l3rl.png"/></div></figure><p id="1439" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.在下面的屏幕中选择打开<strong class="jm io">网</strong>选项，并选择<strong class="jm io">弹簧网。</strong>点击<strong class="jm io">完成</strong>将创建 Spring 项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/bfe80cfa8a190644d25555340364c9e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3ZW1vsR5EEGLvaFj.png"/></div></figure><p id="3fe4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4.创建 User.java 类，如下图所示，用 setter getter 创建 id 和 name 变量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/19a643dc27b03725fbdf4bb2c4f7dec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*ezH-K7GQ0wCHI3bA__ZZ3g.png"/></div></figure><p id="37fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> User </strong>类具有<strong class="jm io"> @Entity </strong>和<strong class="jm io"> @Table </strong>注释，将 User 类与 MySQL 数据库中的<strong class="jm io"> user </strong>表进行映射。</p><p id="af98" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> @Entity </strong>批注会将类标记为实体。</p><p id="1530" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> @Table </strong>注释将用提供的表映射类。name 属性可用于将类名与数据库表名进行映射。如果没有提供，默认情况下它会将表名作为类名。</p><p id="fc61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> @Id </strong>注释是一个实体标识符</p><p id="92a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> @GeneratedValue </strong>用于生成值。这主要有助于自动创建唯一主键。</p><p id="2d9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.创建扩展包含所有 CRUD 操作的<strong class="jm io"> JpaRepository </strong>接口的 UserRepository.java 类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi li"><img src="../Images/eb8ca6b7413bd282601aa639e7fea786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*cZ5F6aeyjYNjfGZOoz6V3Q.png"/></div></figure><p id="a706" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> @Repository </strong>注释提供了对对象执行所有 CRUD 操作的机制。</p><p id="e6f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">6.用下面的内容创建另一个 UserDao.java 类</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/f77de6c61ba5b8aecb9441dcd56e4115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*8k-a0eW7Izzay_zhoDXcBQ.png"/></div></figure><p id="601b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> @Service </strong>注释帮助我们将任何类转换成服务，所有其他类都可以在<strong class="jm io"> @Autowired </strong>注释的帮助下轻松使用它。</p><p id="feee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> repository.findAll() </strong>是 JpaRepository 接口的内置函数，它将帮助我们从用户表中获取数据。</p><p id="d29a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> repository.findById(id)。get() </strong>也是 JpaRepository 接口的内置函数，它将获取特定 id 的用户记录。</p><p id="2ea7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> repository.save(user) </strong>也是 JpaRepository 的内置函数，允许我们保存或更新 MySQL 数据库中的用户对象</p><p id="35dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">repository . delete byId(id)</strong>也是 JpaRepository 的内置函数，允许我们从 MySQL 数据库中删除特定 id 的用户对象。</p><p id="0abe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">7.用下面的内容再创建一个 UserController.java 类</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/780159a3c4826203139c7085aa3c7d10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*btDEnCibRD09U9vcV-f9cw.png"/></div></div></figure><p id="e0b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">8.当我们使用 STS 或 initializr 创建项目时，下面的类默认被创建。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/be666f816f552ebfd733897e1be78103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*IsZoksdDvtsz-atJZ-xrbg.png"/></div></figure><p id="efbd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">9.更新 application.properties 文件以提供连接 MySQL 数据库的详细信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lq"><img src="../Images/141810ce24275cbf8520895968a75178.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*842A_8inR7BO5yoI9Qk2ow.png"/></div></div></figure><p id="9771" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">10.让我们创建一个数据库，并使用下面的查询将数据插入 MySQL 数据库</p><p id="c6f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lr">创建表用户(id int NOT NULL AUTO_INCREMENT，name varchar(255) NOT NULL，PRIMARY KEY(id))；</em></p><p id="edc0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lr">插入用户值(1，“约翰”)；</em></p><p id="b529" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">11.选择根项目文件夹，右键单击并选择运行方式-&gt; Spring Boot 应用程序将启动服务器。</p><h1 id="9ece" class="ls lt in bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">输出</h1><h2 id="a577" class="mq lt in bd lu mr ms dn ly mt mu dp mc jv mv mw mg jz mx my mk kd mz na mo nb bi translated">获取所有用户列表</h2><p id="1763" class="pw-post-body-paragraph jk jl in jm b jn nc jp jq jr nd jt ju jv ne jx jy jz nf kb kc kd ng kf kg kh ig bi translated">点击以下 URL 将返回具有以下内联输出的所有用户列表<br/><a class="ae kq" href="http://localhost:8080/user" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/user</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/9071e6e7c5e57fc588ade6378f5fc203.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*6opsbKGdUWcMRt0M_YsQjw.png"/></div></figure><h2 id="0964" class="mq lt in bd lu mr ms dn ly mt mu dp mc jv mv mw mg jz mx my mk kd mz na mo nb bi translated">按 Id 获取用户</h2><p id="5620" class="pw-post-body-paragraph jk jl in jm b jn nc jp jq jr nd jt ju jv ne jx jy jz nf kb kc kd ng kf kg kh ig bi translated">点击下面的 URL 将返回 id 为 1<br/>T20】的特定用户 http://localhost:8080/user/1</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/db82ac3687aada3ebb391091eca47c7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*t3UzRTH4eDr_0PWazckakQ.png"/></div></figure><h2 id="e954" class="mq lt in bd lu mr ms dn ly mt mu dp mc jv mv mw mg jz mx my mk kd mz na mo nb bi translated">按 Id 创建用户</h2><p id="d0e2" class="pw-post-body-paragraph jk jl in jm b jn nc jp jq jr nd jt ju jv ne jx jy jz nf kb kc kd ng kf kg kh ig bi translated">对于<strong class="jm io">帖子或在数据库中保存</strong>数据，我们将使用 chrome 插件 postman。提供所有以红色突出显示的输入。点击发送会将数据保存在数据库中，并返回以绿色突出显示的响应。</p><p id="18fa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将从 UserController.java 类调用下面的方法:</p><blockquote class="nj nk nl"><p id="9ab1" class="jk jl lr jm b jn jo jp jq jr js jt ju nm jw jx jy nn ka kb kc no ke kf kg kh ig bi translated">@ post mapping(path = "/User ")<br/>public response entity&lt;User&gt;save User(@ request body User User){</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi np"><img src="../Images/df94f7dff5b2834acd7b8a849338ff72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NWUj3LFBdrtV7RQS5hgvNg.png"/></div></div></figure><h2 id="66c0" class="mq lt in bd lu mr ms dn ly mt mu dp mc jv mv mw mg jz mx my mk kd mz na mo nb bi translated">按 Id 更新用户详细信息</h2><p id="2fab" class="pw-post-body-paragraph jk jl in jm b jn nc jp jq jr nd jt ju jv ne jx jy jz nf kb kc kd ng kf kg kh ig bi translated">为了<strong class="jm io">上传或更新数据库中的</strong>数据，我们将使用 chrome 插件 postman。提供所有以红色突出显示的输入。点击发送将更新数据库中的数据，并返回以绿色突出显示的响应。</p><p id="2857" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Put 将从 UserController.java 类调用下面的方法，从 URL 中选择用户 id 为 2，从请求体中选择数据，如下面的函数定义中所述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nq"><img src="../Images/cf9438379e0a21ae17d4d405773b16f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*laL13sdNbNjF1Gn67ATSwQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi np"><img src="../Images/c5a77f1e44f42fd0be053cb6cf9a96e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rak7xPB1igDi8j6jiJlgxw.png"/></div></div></figure><h2 id="677a" class="mq lt in bd lu mr ms dn ly mt mu dp mc jv mv mw mg jz mx my mk kd mz na mo nb bi translated">按 Id 删除用户</h2><p id="e8fb" class="pw-post-body-paragraph jk jl in jm b jn nc jp jq jr nd jt ju jv ne jx jy jz nf kb kc kd ng kf kg kh ig bi translated">要从数据库中删除用户记录，我们将使用 chrome 插件 postman。提供所有以红色突出显示的输入。点击发送将从数据库中删除特定 Id 的用户，并返回以绿色突出显示的响应。</p><p id="7053" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">删除将从 UserController.java 类中调用下面的方法，从 URL 中选择用户 id 为 2:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nr"><img src="../Images/2bb22b466f190036abcefa67a19444a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4-tULTp_7z6621frKFzbvw.png"/></div></div></figure><p id="9fd0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望你发现这篇文章有趣且内容丰富。请分享给你的朋友来传播知识。</p><p id="bdb1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以关注我即将发布的博客<a class="ae kq" href="https://medium.com/@toimrank" rel="noopener">关注</a>。<br/>谢谢你！</p></div></div>    
</body>
</html>