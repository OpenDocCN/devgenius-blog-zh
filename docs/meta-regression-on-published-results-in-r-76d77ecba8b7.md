# 元回归——试图从元分析中获得更多

> 原文：<https://blog.devgenius.io/meta-regression-on-published-results-in-r-76d77ecba8b7?source=collection_archive---------2----------------------->

## 关于 R 中已发表的结果

元回归实际上是混合模型的另一个时髦的说法。所以，所有的假设、规则、警告和可能性都适用于混合模型，也适用于元回归。

这个博客的有趣之处在于，我将要描述的项目和我将要展示的作品都是基于已发表的结果。很多结果。最终，科学家们收录了约 200 篇论文的结果，以寻找变量之间的关系。对于那些从未听说过[辛普森悖论](https://en.wikipedia.org/wiki/Simpson%27s_paradox)的人来说，这是一种它可能猖獗的情况。

在这个例子中，我将向您展示我如何使用 R 来建模数据集(在此发布)以及我所做的选择。我将再次清楚地向您展示混合模型中的[收缩](https://medium.com/@marc.jacobs012/randomness-in-mixed-models-8b7affd8a7c4)将如何对置信度和预测区间估计产生影响。想了解更多混合模型及其假设的人，比如[随机性](https://medium.com/@marc.jacobs012/randomness-in-mixed-models-8b7affd8a7c4)，只要按照文中的链接就可以了。

库已加载。R 中混动车型的主包是 **lme4** 。

数据集的加载和浏览

![](img/6cce3a2752de3091333b66dec380a8d0.png)![](img/ebcd2cf47d9003c05144eede0a46cfb8.png)

我们有 821 个观察值和 6 列。pairs 图没有暗示强关系，但是它暗示了作为副本的重命名变量(相关性为 1)。图片作者。

上面的代码是查找缺失数据、密度、相关性、关联和数据嵌套的示例代码。因为我们有跨越 200 个出版物的数据，所以数据是嵌套的。

![](img/0e836eda50c1563bec4c140ad859729a.png)![](img/12fc232470792c80d31af44d6f132759.png)![](img/ffa0869413ef39f308320a0c61f1fc26.png)

没有丢失数据，一些时髦的密度图，和一些严重的相关性。图片作者。

![](img/e990ec1b376e7eb99200af1ab346b2cb.png)

这张图来自 **psych** 包，是寻找变量之间相关性的一个很好的开始。图片作者。

![](img/b75ced312d1346f21e056f6a3a5b7288.png)![](img/24ee2b666c1732f62c17cb8f1a9a4635.png)![](img/3c63e6a90f56980de6685e8e3178fcaf.png)![](img/025647253c5c548811b6b5031757bb71.png)

图片作者。

![](img/317c11fac0928469c4778591c0621120.png)

该图清楚地显示了变量之间的关系，但这种关系肯定因出版物而异。不仅是力量，有时甚至是方向。通过混合模型部分地汇集这些数据甚至不是一件容易的事情。图片作者。

![](img/d36c01ca6444e58a692607f19e8d104b.png)

等高线图显示了每个相互作用的最大值。图片作者。

![](img/0b5c61b48382f8c355b7e8343d5dd0ee.png)

显示关系的 3D 等高线图。图片作者。

以下两个情节是整个练习中最重要的。它们显示了研究内和研究间变量之间的关系。您可以清楚地看到，任何池模型都是数据异构性的杂乱表示。事实上，如果不考虑每项研究的细节，对这些数据进行元回归是非常困难的，这可能会令人望而生畏。在元回归中，[元分析](https://medium.com/@marc.jacobs012/introduction-to-meta-analysis-in-r-468e9b33925c)的所有假设都适用。

![](img/462c7508c12342f5731a2f5e38d02089.png)

在你看到的意大利面上，汇集的线条毫无意义。图片作者。

![](img/41995adea23de1162fd938cccb326832.png)

同上图。已经清楚的是，池化和非池化模型不会创造出你想要的东西，因为第一个模型拟合不足，第二个模型拟合过度。图片作者。

所以，让我们从比较一个汇集的主效应模型和一个汇集的交互作用模型开始。然后，我们可以看看未汇集的版本。

![](img/c8535a85f02d1083d402c895fc5bbaa9.png)

相互作用似乎是有意义的，但话说回来，我们没有考虑研究之间的差异，这是一个根本性的错误。图片作者。

![](img/36d2686ced3790a21c18965937f90e0d.png)

清楚地表明研究有不同的效果。图片作者。

![](img/f3256b4b36486e8c438b3675a1a6d51c.png)![](img/56ba91845df46b90d1d3aa38fe1379f9.png)

非混合模型的预测值与观察值。图片作者。

现在，让我们建立一个部分池模型，其中我们在模型的[随机效应部分添加了发布因子。这将创建一个模型，在该模型中，预测将基于随机效应的分布和每个发布与主效应的偏差而缩小。越轨越多，萎缩越多。](https://medium.com/@marc.jacobs012/randomness-in-mixed-models-8b7affd8a7c4)

下面，我用方差分析和肯沃德-罗杰比较测试了几个模型。请记住，模型需要嵌套以创建正确的比较度量——因此，只能比较较大模型的较小模型。因此，这个过程是极其反复的。

![](img/6824b9163d0dd88b7dc022d8a9253410.png)![](img/3b789b9e3a3457ab95868143fa1474fc.png)![](img/502e996c5b89575334f2751550df90fb.png)![](img/6de72ea2bd17917c317d076f38b10211.png)![](img/007b39599081ea99bccef3b673626fae.png)![](img/5307d6ab278c428e566f2d32660d60a9.png)

混合模型的假设看起来不错——所有随机效应的正态性和同质性。图片作者。

![](img/8f67e8f98020d089cb4ddd08b66b455e.png)

每个出版物与随机效应分布的偏差。你想看到偏差。图片由作者提供。

下面的情节是最重要的情节。黑点是 X 和 Y 变量之间关系的观察值。红点来自未合并模型，绿色来自部分合并模型，蓝色来自合并模型。显而易见，混合模型不会做出很好的预测，但从这些图表中，未混合模型(将出版因子视为固定效应)和部分混合模型(将出版因子视为分布)之间的差异并不明显。

![](img/50ae7c078f1147758a8c8f9c4a75284e.png)

图片作者。

![](img/7bd6785815f1f7af0acee688ae533d7d.png)

图片作者。

直到你画出残差的密度。

![](img/38df7d474fcf3928de550002d90f5b93.png)

部分池模型表现更好，这是应该的，因为它是为防止过度拟合而构建的。不过，它与非 pool 模型的差异并不是那么极端，这意味着我们可能遗漏了一些必要的变量。图片作者。

下面，您将看到展示和构建图的另一种方式，以查看未合并、合并和部分合并回归。对我来说，上面的代码会更好，但下面可能会更多地展示这些图和模型实际上是如何自顶向下构建和自底向上展示的。

![](img/f00891553569781fbaaaf5b4428b50eb.png)![](img/85f7fed623efcc046d0ceacd2c79f518.png)![](img/89384443569557afcdff2f42da959579.png)

该模型似乎表现充分，但在残差中是长尾的。图片作者。

![](img/dc4986110fdf07ea2885800f7d2a4b35.png)![](img/9f35a5bd625c1d92e16fb8ab8c90bab8.png)

残差似乎足够好了。在右边，你可以清楚地看到随机效果的变化。图片作者。

![](img/b109917ea0df521b0abf4fe91bc43ff4.png)

两个变量之间的预测关系。图片作者。

![](img/f11f148af91c99883ce7408085e4b685.png)

因为我们有一个混合模型，我们可以对所有的研究进行元回归。这意味着所有结果都来自最佳线性无偏预测(BLUP)。图片作者。

总而言之，这是一个小例子，展示了在寻求执行元回归时如何构建和比较模型。细心的读者可能会注意到，在这种异质研究的基础上建立一个模型可能不是最好的，需要包括额外的变量来区分信号和噪声。