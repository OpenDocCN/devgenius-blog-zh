<html>
<head>
<title>Uber Service Mesh Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">优步服务网状架构</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/uber-service-mesh-architecture-58267817387d?source=collection_archive---------5-----------------------#2022-09-03">https://blog.devgenius.io/uber-service-mesh-architecture-58267817387d?source=collection_archive---------5-----------------------#2022-09-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/86f03b5451c56e08f627e32fdd85b887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yHpHPN2AnUa9m2Kw"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">汤姆·莫比在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><div class=""><h2 id="ac57" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">优步=普遍更经济的乘坐方式</h2></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><blockquote class="lc"><p id="0c1a" class="ld le jg bd lf lg lh li lj lk ll lm dk translated"><a class="ae jd" href="https://ko-fi.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank">如果你觉得我为你贡献了价值，请支持我！</a></p></blockquote><p id="01ec" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh lm ij bi mi translated">上个月，我感觉我的收入几乎立刻减少了。我越来越难获得我想要的收入，但如果我停下来，我会为我推荐的会员感到难过。请告诉我原因以及如何改进。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><ul class=""><li id="4235" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">服务网格基础设施通过<a class="ae jd" href="https://en.wikipedia.org/wiki/Remote_procedure_call" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">远程过程调用</strong></a>(RPC)处理服务间通信，并提供连接、管理和保护微服务的平台</li><li id="2179" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">它通过处理需要复杂编码的功能减轻了应用程序开发人员的负担，这可以在网格级别而不是在应用程序中完成</li><li id="ceee" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">它提供了分布式服务所需的关键功能环境，如弹性、服务发现、负载平衡、加密、授权和容错(通过服务重试和断路器)。</li></ul><p id="9ea1" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><em class="nk">你可以看一下我的文章有更好的理解。</em></p><div class="ip iq gp gr ir nl"><a href="https://jinlow.medium.com/the-introduction-of-service-mesh-710d9b566df0" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">服务网格简介</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">它是一种网络模型，位于 TCP/IP 之上的抽象层。</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">jinlow.medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz ix nl"/></div></div></a></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="0e8d" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">文章“<a class="ae jd" href="https://medium.com/interviewnoodle/uber-system-architecture-40201134aaea" rel="noopener"> <strong class="lp jh">优步系统架构</strong> </a>”将业务需求抽象为系统模块或系统组件。这篇文章将解释更多的技术知识。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="a090" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">由<a class="ae jd" href="https://www.linkedin.com/in/chien-chih-l-11049a1b?trk=public_profile_browsemap_profile-result-card_result-card_full-click" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">廖建志</strong></a><a class="ae jd" href="https://www.linkedin.com/in/krolikowskipawel/" rel="noopener ugc nofollow" target="_blank"><strong class="lp jh">Pawel Krolikowski、</strong></a><strong class="lp jh"/><strong class="lp jh"/><a class="ae jd" href="https://www.linkedin.com/in/sangeeta-kundu-a448118" rel="noopener ugc nofollow" target="_blank"><strong class="lp jh">Sangeeta Kundu</strong></a>撰写的文章《<a class="ae jd" href="https://www.uber.com/en-MY/blog/better-load-balancing-real-time-dynamic-subsetting/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">优步目前的服务网状架构》提出了一个实时动态子集解决方案。子集算法是大规模分布式系统负载平衡中常用的技术。随着集群规模的增加，性能瓶颈往往会逐渐暴露出来，这会给应用程序带来一定的开销。</strong></a></p><p id="1b4a" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">优步决定将其整体架构分成多个代码库，以形成微服务架构。</p><p id="c5a0" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">然而，优步微服务系统也面临着诸多挑战。</p><ol class=""><li id="6e99" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm oa mz na nb bi translated">很多微服务都要互相调用才能完成一个任务。一旦其中一个过程出错，就很难排除故障</li><li id="cf73" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated">微服务可以进一步分为许多组件。如果单个部件存在故障，整个系统的误差将非常复杂。如果在调用服务时没有错误处理机制，就不容易排除故障</li><li id="72cd" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated">如果版本升级更改了 API，服务可能不会被调用。在新版本发布时，需要控制不同的版本访问不同的地址。它需要智能流量控制机制。</li></ol><p id="0029" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">一个微服务通过远程过程调用与另一个微服务通信，而不用担心基础设施的细节。它需要的只是目标服务名、过程和请求。服务网格解决了其余的问题。</p><ol class=""><li id="89e3" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm oa mz na nb bi translated"><strong class="lp jh">发现</strong>——找到最新、最健康的后端服务</li><li id="f1c0" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated"><strong class="lp jh">负载平衡</strong> —将负载适当地分配给可用的服务</li><li id="c392" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated"><strong class="lp jh">认证</strong> —服务之间的安全通信</li><li id="4bd7" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated"><strong class="lp jh">流量整形</strong> —当出现服务故障时，避免将请求转发到特定区域/集群</li><li id="8170" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated"><strong class="lp jh">可观察性</strong> —观察延迟和流量模式</li><li id="8722" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated"><strong class="lp jh">可靠性</strong> —节流、速率限制、自动故障转移</li></ol></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="059d" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">优步技术概述</strong></p><p id="2ed5" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">优步基础设施在全球多个地区运营。它涵盖内部数据中心和公共云提供商。每个控制平面组件都被划分，并且每个都有几个子组件。</p><figure class="oc od oe of gt is gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/547dca37f7ab1ced69c5257f1f009d72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/0*wIB8o3MYM-_dohUt.jpg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://www.uber.com/en-MY/blog/better-load-balancing-real-time-dynamic-subsetting/" rel="noopener ugc nofollow" target="_blank"><strong class="bd og"/>优步科技有限公司</a></figcaption></figure><p id="baef" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">服务 A 通过主机代理向服务 B 发出 RPC 请求。在网络层，优步的服务网状架构是基于<em class="nk">第 7 层(应用层负载平衡)构建的——基于 URL 等应用层信息。</em></p><blockquote class="lc"><p id="a835" class="ld le jg bd lf lg lh li lj lk ll lm dk translated">第 7 层负载平衡通过虚拟 URL 或主机名接收请求，然后将它们分发到真实的服务器。它根据第 4 层信息或第 7 层信息转发流量。没有第四层负载均衡是绝对不可能有第七层负载均衡的。可以根据 URL、浏览器类别和语言来确定正在转发的流量。例如，web 服务器可以分为两组，中文用户和英文用户。然后，第七层负载均衡可以在用户访问你的域名时自动识别用户语言，并选择相应的服务器组。因此，它主要分析应用层信息，如 HTTP 协议 URL 或 cookie 信息。</p></blockquote><p id="21d1" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh lm ij bi translated">你可以读一下我的文章来更好地理解。</p><div class="ip iq gp gr ir nl"><a href="https://medium.com/thedevproject/the-fundamental-knowledge-of-system-design-9-load-balancer-c55ff4feae5" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">系统设计基础知识——(9)——负载均衡器</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">负载平衡—将一组任务分配给一组资源的过程。有两种主要方法…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="oh l nw nx ny nu nz ix nl"/></div></div></a></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><figure class="oc od oe of gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oi"><img src="../Images/e73bdf4ca8f8ef8d407f196c1e265be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mCLYXLmqKDWHg665.jpg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://developer.ibm.com/blogs/istio-15-release/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd og">大可对 IBM </strong> </a></figcaption></figure><p id="12a0" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">在高层，代理通过控制平面 API 连接到控制平面组件。</p><figure class="oc od oe of gt is gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/015a5c7abc0746caddc72999a8d67d57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/0*4TSNCR2qNXQ8cAkt.jpg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://www.uber.com/en-MY/blog/better-load-balancing-real-time-dynamic-subsetting/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd og">优步科技有限公司</strong> </a></figcaption></figure><p id="0885" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">主机代理</strong></p><ul class=""><li id="53cf" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">调用者服务将 RPC 请求发送到本地端口，由主机代理监听</li><li id="f5d0" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">主机代理将 RPC 请求直接转发给后端服务</li><li id="ee5a" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">代理连接到控制平面组件，以从流量控制服务接收流量分布，从而了解流量如何在服务的不同区域/组之间分割</li><li id="678f" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">从发现服务获取任务</li><li id="bb9a" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">在可用的后端服务之间执行负载平衡</li></ul><p id="183c" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">服务发现系统</strong></p><ul class=""><li id="73c6" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">它与集群管理接口以更新后端服务的任务。</li><li id="8ae4" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">组件 A 与多个组件通信。但是当组件数量增加时，为每个组件添加单独的负载平衡器变得太复杂和不切实际。因此，组件 A 必须知道仍能正常提供服务的多个组件的确切位置。服务发现用于查找其他组件的位置，并将组件位置信息返回给代理，以便代理可以对任务进行负载平衡。</li></ul><p id="d492" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">交通控制系统</strong></p><ul class=""><li id="36df" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">它是整个系统的指挥官</li><li id="dc92" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">它生成流量分配，包括每个后端任务池应该接受的流量分配</li><li id="949d" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">它定义了控制服务请求如何在服务网格中路由的规则</li><li id="bcfa" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">它为服务所有者配置策略集。</li><li id="0c83" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">它允许服务所有者创建一个漏极来避免某些后端任务池，或者跨数据中心故障转移流量</li></ul></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="b5ae" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">现在，您应该对优步的服务网格体系结构有了大致的了解。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="14ce" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">此外，本文还讨论了高效的负载平衡技术。</p><p id="d712" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">负载均衡概念</strong></p><p id="60c2" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">子集</strong></p><p id="b7d2" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">在一个集群中，服务器通常有不同的标签，那么如何将一个请求路由到一组有指定标签的服务器呢？通常，根据服务的类别将服务器分组到一个服务下，以形成多个子集。</p><blockquote class="lc"><p id="de9f" class="ld le jg bd lf lg lh li lj lk ll lm dk translated">负载平衡中的子集化指的是将潜在的后端任务集划分为重叠的“子集”，以便所有后端服务都接收流量，并且每个代理都正确地加载任务。</p></blockquote><p id="200e" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh lm ij bi translated">为了避免为每个请求重复建立和断开 TCP 连接，代理通常与后端服务保持长期连接。每个连接在两端都消耗一些计算资源(CPU、内存等)，即使它是空闲的。</p><p id="74df" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">理论上来说，维护成本很低。然而，当横向扩展微服务试图处理更多请求时，维护成本会迅速上升。子集化可以解决这个问题。</p><p id="adc8" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">方法论</strong>:目的地规则根据标签将流量划分为不同的子集，为调度提供虚拟服务，设置相关负载百分比，实现流量控制。</p><p id="0134" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">由于服务网格的大小，主机上的代理需要使用子集。</p><p id="b8d3" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">然而，有许多不平衡的问题。</p><ol class=""><li id="0ab7" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm oa mz na nb bi translated"><strong class="lp jh">随机任务选择导致的不平衡</strong> —代理可以从可用池中随机挑选后端服务，并对这些任务进行负载平衡，而无需依赖控制平面</li><li id="33de" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm oa mz na nb bi translated"><strong class="lp jh">主机共址导致的不平衡</strong> —代理由同一服务器上的所有后端服务共享。因此，服务发出一个请求，一个随机挑选的后端任务子集将比其他任务接收更多的请求。</li></ol><p id="7ef5" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">改进</strong>:实时动态子集化</p><ul class=""><li id="b84e" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">当代理知道被调用者服务接收的 QPS 的数量时，它可以计算它的负载占整个流量的比例。因此，它可以按比例动态确定其子集的大小。</li></ul><figure class="oc od oe of gt is gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/79b3da94e43d2b507eb60905a10ef1db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/0*YesR1yK4lziZ5k1t.jpg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://www.uber.com/en-MY/blog/better-load-balancing-real-time-dynamic-subsetting/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd og">优步科技有限公司</strong> </a></figcaption></figure><figure class="oc od oe of gt is gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/f8130b08cbaabfba50b3775804e551f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/0*c7SUIhJOSVWDUHgX.jpg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://www.uber.com/en-MY/blog/better-load-balancing-real-time-dynamic-subsetting/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd og">优步科技有限公司</strong> </a></figcaption></figure><ul class=""><li id="2404" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">代理定期向流量控制系统上传流量负载报告。</li></ul><p id="43b7" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">要横向扩展，有两层聚合:</p><ul class=""><li id="8e64" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">1)交通管理员—利用交通分布的全局视图</li><li id="167d" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">2)流量聚合器—随着代理数量的增加而横向扩展</li></ul><p id="c80c" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">代理有 3 种类型的信息</p><ul class=""><li id="8468" class="mr ms jg lp b lq mt lt mu lw mv ma mw me mx lm my mz na nb bi translated">1)流量分配—发送到每个后端服务的流量百分比</li><li id="44e0" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">2)负载—发送的流量</li><li id="4624" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">3)总负载—服务接收的总流量</li><li id="504b" class="mr ms jg lp b lq nc lt nd lw ne ma nf me ng lm my mz na nb bi translated">该信息允许工程师动态调整每个代理的子集大小</li></ul></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="77c5" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><strong class="lp jh">参考文献</strong></p><div class="ip iq gp gr ir nl"><a href="https://www.uber.com/en-MY/blog/multitenancy-microservice-architecture/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">为什么我们在优步的微服务架构中利用多租户</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">优步服务的性能依赖于我们在平台上快速稳定地推出新功能的能力…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">www.uber.com</p></div></div><div class="nu l"><div class="ol l nw nx ny nu nz ix nl"/></div></div></a></div><div class="ip iq gp gr ir nl"><a href="https://www.uber.com/en-MY/blog/better-load-balancing-real-time-dynamic-subsetting/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">更好的负载平衡:实时动态子集设置</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">子集化是大规模分布式系统负载平衡中常用的技术。在这篇博文中，我们将…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">www.uber.com</p></div></div><div class="nu l"><div class="om l nw nx ny nu nz ix nl"/></div></div></a></div><div class="ip iq gp gr ir nl"><a href="https://en.wikipedia.org/wiki/Remote_procedure_call" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">远程过程调用-维基百科</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">在分布式计算中，远程过程调用(RPC)是指计算机程序使一个过程(子例程)执行…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">en.wikipedia.org</p></div></div><div class="nu l"><div class="on l nw nx ny nu nz ix nl"/></div></div></a></div><div class="ip iq gp gr ir nl"><a href="https://istio.io/latest/docs/reference/config/networking/destination-rule/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">目的地规则</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">DestinationRule 定义在路由发生后应用于服务流量的策略。这些规则…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">istio.io</p></div></div></div></a></div><div class="ip iq gp gr ir nl"><a href="https://www.plugandplaytechcenter.com/resources/what-service-mesh-and-why-should-you-care-about-it/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">什么是服务网格，为什么要关注它</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">在过去的两年中，您可能听说过一个叫做“服务网格”的东西和相关的开源技术…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">www.plugandplaytechcenter.com</p></div></div><div class="nu l"><div class="oo l nw nx ny nu nz ix nl"/></div></div></a></div><div class="ip iq gp gr ir nl"><a href="https://thenewstack.io/ubers-catalyst-service-mesh-provides-visibility-speed/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">优步基于无服务器的服务网格 Catalyst 加快了应用程序开发</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">当肖恩·伯克在 2015 年被优步聘为员工工程师时，他走进了一家正在经历…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">thenewstack.io</p></div></div><div class="nu l"><div class="op l nw nx ny nu nz ix nl"/></div></div></a></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="f941" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">如果你发现我的任何文章有帮助或有用，那么请考虑给我一杯咖啡，帮助支持我的工作或给我赞助😊·通过使用和</p><p id="f43b" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><a class="ae jd" href="https://www.patreon.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh"> Patreon </strong> </a></p><p id="55a2" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><a class="ae jd" href="https://ko-fi.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank"><strong class="lp jh">Ko-fi.com</strong></a></p><p id="b23e" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated"><a class="ae jd" href="https://www.buymeacoffee.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank">T23】buymeacoffeeT25】</a></p><p id="f017" class="pw-post-body-paragraph ln lo jg lp b lq mt kh ls lt mu kk lv lw nh ly lz ma ni mc md me nj mg mh lm ij bi translated">最后但同样重要的是，如果你还不是一个中等会员，并打算成为一个，我恳请你使用下面的链接。我将收取你的一部分会员费，不增加你的额外费用。</p><div class="ip iq gp gr ir nl"><a href="https://jinlow.medium.com/membership" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd jh gy z fp nq fr fs nr fu fw jf bi translated">用我的引荐链接-金加入 Medium</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">阅读金(以及其他成千上万的作家)的每一篇小说。你的会费直接支持金和…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">jinlow.medium.com</p></div></div><div class="nu l"><div class="oq l nw nx ny nu nz ix nl"/></div></div></a></div></div></div>    
</body>
</html>