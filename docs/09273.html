<html>
<head>
<title>How to Build Your First Stock Trading Strategy In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Python 建立你的第一个股票交易策略</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-build-your-first-stock-trading-strategy-in-python-d96b45e98aa2?source=collection_archive---------2-----------------------#2022-08-11">https://blog.devgenius.io/how-to-build-your-first-stock-trading-strategy-in-python-d96b45e98aa2?source=collection_archive---------2-----------------------#2022-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4824" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">好消息是它很容易实现。但是效果好吗？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0f5a84c189d411a1c237c6c18b037fa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xuxlcwPKtjiRVf3klxvMOg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">里克·j·布朗在<a class="ae kv" href="https://unsplash.com/s/photos/strategy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="909d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是时候给你的股市分析工具箱增加一个新的项目了。</p><p id="3e11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用<strong class="ky ir">趋势交易</strong>策略。它假设股票的价格将继续朝着与当前趋势相同的方向移动。</p><blockquote class="ls"><p id="405c" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">它的目标是通过分析资产在特定方向的动量来获取收益。</p></blockquote><p id="2ac7" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">当价格向一个特定的方向移动，比如向上或向下，这被称为趋势。</p><p id="2de9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一战略使用不同的指标。我们今天将关注移动平均线。</p><p id="fcfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="mh">免责声明</em> </strong> <em class="mh">:本帖仅为教育目的而写。没有任何股票的投资建议或推广。</em></p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="b3f5" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">内容</h2><ol class=""><li id="2497" class="ni nj iq ky b kz nk lc nl lf nm lj nn ln no lr np nq nr ns bi translated"><a class="ae kv" href="https://medium.com/p/d96b45e98aa2#41c8" rel="noopener">导入库并检索库存数据</a></li><li id="f0cc" class="ni nj iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://medium.com/p/d96b45e98aa2#975d" rel="noopener">使用简单移动平均线(SMA)创建快慢信号</a></li><li id="837b" class="ni nj iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://medium.com/p/d96b45e98aa2#07c8" rel="noopener">如何生成多头头寸</a></li><li id="a14f" class="ni nj iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://medium.com/p/d96b45e98aa2#1863" rel="noopener">计算并可视化累计利润</a></li><li id="9c53" class="ni nj iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://medium.com/p/d96b45e98aa2#d37f" rel="noopener">结论</a></li></ol></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="41c8" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">1.导入库和检索库存数据</h2><p id="60f7" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">我们首先导入我们需要的库。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="0a2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们使用 yahoo finance (yfinance)通过输入相应的股票代码和选择的时间段来检索股票数据。在本帖中，我们将关注股票代码为“abbv”的艾伯维公司。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/ae3b217594e3668a9f9fe54ab019dda7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QfRnHLXa2Z6IJQov3FRJZA.png"/></div></div></figure><h2 id="975d" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">2.使用简单移动平均线(SMA)创建快速和慢速信号</h2><p id="6f8e" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">下面是 Investopedia 的定义:</p><blockquote class="oe of og"><p id="2ed7" class="kw kx mh ky b kz la jr lb lc ld ju le oh lg lh li oi lk ll lm oj lo lp lq lr ij bi translated">简单移动平均线(SMA)是一种计算方法，采用过去特定天数内一组给定价格的算术平均值；例如，过去 15 天、30 天、100 天或 200 天。投资媒体</p></blockquote><p id="4068" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，这在 Python 中用 rolling()方法很容易计算。</p><p id="8117" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们产生两个信号:</p><ul class=""><li id="fbbe" class="ni nj iq ky b kz la lc ld lf ok lj ol ln om lr on nq nr ns bi translated">使用最近 15 天的股票价格的 SMA 的快速信号</li><li id="033e" class="ni nj iq ky b kz nt lc nu lf nv lj nw ln nx lr on nq nr ns bi translated">使用最近 50 天的股票价格的 SMA 的慢速信号</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/d4c65df9f941a362b84b20dde5d23f55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H09286g5PJgtgT0xr57FIg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">带有两个新信号列的数据框</figcaption></figure><h2 id="07c8" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">3.如何生成多头头寸</h2><p id="2622" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">当购买资产时，希望其价值会上升，这被称为做多或看涨。</p><blockquote class="ls"><p id="1379" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">每当 MA-15 &gt; MA-50 时，就会触发多头头寸:我们买入并持有一部分股票。</p></blockquote><p id="a7f1" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">由于股价的移动平均线在最近 15 天内较高，因此显示出积极的趋势。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="06bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的代码设置了关于我们的 2 个信号的条件。当 MA15 &gt;MA-50 时，np.select 将设置值 1，否则为 0。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/bf4c021492950b5864e798e9a82c884f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BHT38FBttrSk5kxBNEpqeA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">“位置”列已创建</figcaption></figure><h2 id="1863" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">4.计算并绘制累计利润</h2><p id="4719" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">让我们检查结果，看看它在所选期间的表现如何。</p><p id="4676" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将首先计算我们的多头头寸每天产生的利润。日利润等于第二天的收盘价减去当天的收盘价。</p><p id="4c3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将使用 cumsum()方法计算这些天的累计利润。</p><p id="41ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们最后用 Matplotlib 绘制结果。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/9762f82349418ac51fb6067f9fdbbe4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z66Hw2LOglPcP3J1bCrfnw.png"/></div></div></figure><p id="77e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们预计利润会持续到 5 月份左右，然后会有负面影响。我选择这只股票是为了说明这种交易策略的局限性。在投资之前，你需要做大量的研究。</p><h2 id="d37f" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated"><strong class="ak"> 5。结论</strong></h2><p id="e0ab" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">这种趋势交易策略很容易实施。这是一个很好的机会来更新关键概念，如移动平均线，快速/慢速信号，多头头寸和每日/累计利润。</p><p id="ebbd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种策略不足以在证券交易所单独使用，需要额外的投入。但是了解它的工作原理是很有趣的。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="5629" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你喜欢阅读这篇文章！未来的文章请关注我。它激励我继续下去。</p><div class="or os gp gr ot ou"><a href="https://medium.com/@Eyquem/membership" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">通过我的推荐链接加入 Medium-Khuong LAN Cao Thai</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">阅读 Khuong lán Cao Thai(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kp ou"/></div></div></a></div><p id="0e94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">参考资料:</p><p id="795b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">【investopedia.com T2】趋势交易定义</p><p id="55ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">【investopedia.com】移动平均线(MA)定义</p><p id="985b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/the-handbook-of-coding-in-finance/building-a-simple-trading-strategy-in-python-trend-following-727cafecb78c" rel="noopener">用 Python 构建简单的交易策略—趋势跟踪|作者:Bee Guan Teo |金融编码手册| Medium </a></p></div></div>    
</body>
</html>