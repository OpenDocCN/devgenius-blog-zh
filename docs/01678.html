<html>
<head>
<title>Building a step wizard with react native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用react native构建步骤向导</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/building-a-step-wizard-with-react-native-70d37697df24?source=collection_archive---------4-----------------------#2020-07-09">https://blog.devgenius.io/building-a-step-wizard-with-react-native-70d37697df24?source=collection_archive---------4-----------------------#2020-07-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/11a31d37dcab2818b4393c9f50a9b798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iz6d1_Tmo8a0fQmFZJkDvA.png"/></div></div></figure><div class=""/><p id="51c7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在过去的几个月里，由于疫情的情况，我决定是时候离开react native一段时间，重新开始建设了！是的，在我继续用angular做有趣的事情的同时，我给了自己一个喘息的机会。在这次暂时的休息之前，我开发了一个step wizard组件，所以我决定对它进行优化和重构，因为从那以后，新的版本出现了钩子和其他一些非常好的东西。</p><p id="b2e0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以让我们开始吧！！</p><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/af119b4943ca6a5b9af9845f10e26045.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*vSgsF2bvfu-Lk9C9_VDS6g.png"/></div></figure><p id="2462" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们开始创建一个UI时，我们必须把它想成一组组件，它们将包装你的界面的一部分，然后一起工作，知道了这一点，是时候这样设置我们的组件了。</p><p id="27f2" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">步骤组件和上下文<br/> </strong>对于我们的API上下文，我们只需要共享状态和两个函数，一个用于设置当前步骤的索引，另一个用于设置我们想要显示的所有步骤。我们用空的步骤数组和索引为0的当前步骤初始化状态。</p><p id="35d7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">步骤数组是一个对象数组，这个对象将有标题，我们想在标题与StepHeader组件和组件，我们想在"步骤内容"组件。</p><figure class="ku kv kw kx gt ip"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="252e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，上下文提供者向其消费者共享其功能和状态，该提供者将包装我们的组件，因此现在每个组件都可以使用来自上下文的数据来完成它们的工作。</p><figure class="ku kv kw kx gt ip"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="8a30" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们只需设置我们的步骤组件，并通过调用“setSteps”和“setCurrentStep”函数来填充这个步骤数组，以默认显示第一步。</p><figure class="ku kv kw kx gt ip"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="9063" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz"> StepHeader组件<br/>T5】我们已经创建了两个组件StepHeader和Circle。</strong></p><figure class="ku kv kw kx gt ip"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="a704" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">说明</p><p id="9583" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它是这样工作的:</p><ol class=""><li id="5a9e" class="la lb iy jx b jy jz kc kd kg lc kk ld ko le ks lf lg lh li bi translated">我们从上下文中获得步骤的数组，对于每个标题，它将显示一个带有我们的Circle组件和标题的视图。</li><li id="2f0d" class="la lb iy jx b jy lj kc lk kg ll kk lm ko ln ks lf lg lh li bi translated">Circle组件有两个属性:(selectedIndex和index) index将是我们想要在圆圈中间显示的数字，我们将使用这个索引与selectedIndex进行比较，selectedIndex将显示我们所在的当前步骤，这个数字将由state存储，现在我们知道当它被选中时何时设置圆圈的特定样式。</li><li id="8316" class="la lb iy jx b jy lj kc lk kg ll kk lm ko ln ks lf lg lh li bi translated">对于标题，我们使用“number of lines”属性，默认设置2为文本必须拥有的行数，如果文本多于两行，我们将设置属性“ellipsizeMode”为tail以放置一些点。</li><li id="cad2" class="la lb iy jx b jy lj kc lk kg ll kk lm ko ln ks lf lg lh li bi translated">然后，我们放一个视图，它将代表一条线，这只是把一条线通过中间的步骤按钮只是为了把一些时尚。</li></ol><p id="3554" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此处的样式:</p><figure class="ku kv kw kx gt ip"><div class="bz fp l di"><div class="ky kz l"/></div></figure><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/e42ae59aff2196e36420fd7fe43473db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*ab3hB29DZOr1oe4km_aCpg.png"/></div></figure><p id="142a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">步骤内容组件</strong></p><p id="e55d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该组件将通过当前索引显示特定组件，该索引将由上下文提供程序更改，否则，如果该数组为空，则不会显示任何内容。</p><figure class="ku kv kw kx gt ip"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="637a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">页脚组件</strong></p><p id="d58d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个组件可以被认为是我们的动作组件。有两个按钮，一个用于返回上一个内容，另一个用于显示下一个内容。</p><p id="12a8" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为此，我们将调用一个在上下文中共享的函数来更改当前索引，让“StepContent”组件知道需要显示什么内容。</p><figure class="ku kv kw kx gt ip"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="dd67" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就这样，有了这些，我们就有了StepWizard组件！！</p></div></div>    
</body>
</html>