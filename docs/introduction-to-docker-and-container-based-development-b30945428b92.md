# Docker 和基于容器的开发简介

> 原文：<https://blog.devgenius.io/introduction-to-docker-and-container-based-development-b30945428b92?source=collection_archive---------10----------------------->

![](img/7dd6a897a77ea92cd95998bd90b291fe.png)

*   Docker 是一组平台即服务产品，使用操作系统级虚拟化来交付称为容器的软件包中的软件。Docker 并不是使用基于容器的应用程序容器的准确术语。

# 第一代

*   当我们考虑更早的时候，我们的应用程序部署在物理服务器上。
*   是的。如今，我们的应用程序也部署在物理服务器上，但要正确理解这一点。

> 假设我们有一个应用程序数据库，观察三台不同的服务器，那时我们使用三台不同的物理硬件设备。

那时最大的问题是维护那些服务器。我们需要考虑

> 空间
> 
> 独立网络
> 
> 操作系统维护成本
> 
> 浪费电力

所以存在这样的问题，

*   网络服务器可能不会使用 100%的处理能力。
*   数据库服务器可能不会使用 100，000 的空间。

在这一代之后，我们进入了第**代虚拟机管理程序**。

# **第一代虚拟机管理程序(第二代)**

*   在虚拟机管理程序中，我们使用单一类型的处理硬件设备，然后在其上安装虚拟机管理程序。现在，我们在此虚拟机管理程序上创建多个虚拟机(VM)。
*   假设虚拟机 1 占用了 20%的处理能力。虚拟机 2 占 10%。虚拟机 3 占用了 20%的处理能力。现在我们总共使用了 50%的处理能力。还有另外 50%的处理能力，因此我们可以使用这些处理能力来创建多个其他虚拟机。
*   所以现在我们解决了一个问题，那就是能量的浪费。
*   现在，我们将在虚拟机上安装操作系统。我们可以在每个虚拟机上安装不同的操作系统。因此，我们有能力在每个操作系统中安装我们的应用程序。

但是我们的问题仍然没有解决。

为什么？

*   有三个独立的不同的操作系统，这导致了大量的成本。不仅如此，我们还必须维护和更新这些系统。
*   制作另一个服务器可能需要新的虚拟机，所以要花相当多的时间来做这些事情。(已经做了一些配置)
*   由于虚拟机的引导过程，这将消耗大量的时间。

# 集装箱(**第三代)**

*   这里我们也有相同的硬件设备。我们不存储多个操作系统。但我们确实在硬件设备上安装了单一操作系统。因此，这解决了前几代产品中的补丁许可、维护和更新问题。
*   现在我们在这个容器的顶部创建 docker。
*   docker 是由 Apache 2.0 许可支持的开源项目。
*   我们位于主机操作系统之上，这意味着操作系统已经启动，因此启动应用程序将会比前几代更快。

**Docker 引擎**

*   首先，最好理解 docker 引擎不是 docker 项目。docker 引擎是一个非常小的部分。
*   Docker 引擎是一个核心，业务流程、注册、安全、服务都是围绕 docker 引擎构建的。

注册表:注册表是一个你可以存储 docker 图像的地方，我们可以在上面做我们自己的定制，并把这些 docker 图像推回到注册表中。

*   所以有多个存储库。你可以下载任何你想要的存储库/docker 映像，你可以定制，然后你可以把它推回来。

**流程编排:**流程编排是将所有这些实例组合在一起并实现共同目标的过程。对于那些微观层次的各种流程，您可以为它们创建不同的容器。

*   当您进行部署时，您不需要定义容器到主机的方向。编排流程将定义这些容器的去向、依赖关系以及流程的优先级。

关于 Docker 的神话:

*   有人说 docker 是**而不是坚持**(就像当你关闭 docker 时，你的一切都丢失了)。但那不是真的。Dockers 天生就是坚持不懈的，无论你做什么，无论你何时关机或开机，它都不会消失。
*   docker 仅适用于新应用程序，不适用于传统应用程序:这种说法部分正确，但完全不正确。当您拥有传统的多机箱旧环境时，您可以将传统应用程序推回虚拟机。但是 docker 不是这样的。如果你使用的是基于容器的应用程序，最好使用微级服务架构。这就是我们需要 Docker 的地方，因为你可以有一个负责任的应用程序，并创建一个独立的容器，不仅如此，因为它使你的应用程序具有自我修复的能力。

> 假设这个 HTTP 容器有大量负载，现在我们可以从这个 HTTP 模块中分离出新的容器并重定向您的流量。

*   开发人员的另一个著名观点是遗留应用程序不支持 Docker 容器。这也是部分正确的。

技术上没有限制，有状态/无状态并不重要，我们可以放入这个容器，但您可能无法获得全部功能/好处。