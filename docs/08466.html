<html>
<head>
<title>PHP — P58: Static Keyword</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P58:静态关键字</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-p58-static-keyword-da0b92d45b3c?source=collection_archive---------6-----------------------#2022-06-16">https://blog.devgenius.io/php-p58-static-keyword-da0b92d45b3c?source=collection_archive---------6-----------------------#2022-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4ec7c61eac0cff47e4b04f58a359be41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OxPFkOee9sJLUsApKqGMJA.jpeg"/></div></div></figure><p id="f803" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">静态方法是属于类而不属于对象的方法。属于对象的方法有时被称为实例方法。类似于我们在上一篇文章中访问常量而不必实例化类的方法，我们也可以访问静态方法而不必实例化。</p><div class="kw kx gp gr ky kz"><a rel="noopener  ugc nofollow" target="_blank" href="/php-p57-scope-resolution-operator-19c50ca607d4"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">PHP — P57:范围解析操作符</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">在 PHP 中，作用域解析操作符或双冒号::，允许你访问常量、静态属性和…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">blog.devgenius.io</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><p id="ba28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了访问这些静态方法，我们将使用类名，然后是范围解析操作符，最后是静态方法名。</p><p id="65c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lo">class name::static _ method()</em></p><p id="faf5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">给你一点计算机科学术语:静态方法存储在堆内存的一个独立部分。实例方法存储在堆栈内存中。</p><p id="68ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数时候，程序员会从架构的角度选择创建静态方法和属性，比如当一个人试图实现一个 Singleton 时。<em class="lo">别担心，我们不会在这里讨论设计模式</em>。</p><p id="6324" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">静态方法的创建类似于实例方法，除了将<em class="lo">静态</em>关键字附加到声明中。</p><p id="fdb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lo">公共静态函数 getNumberOfBankAccount() </em></p><p id="5ca0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">静态属性前面也有<em class="lo"> static </em>关键字。</p><p id="b654" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lo">静态$ name</em></p><p id="e30c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的例子中，我们将看看一个对象被实例化了多少次。我们不想在类外存储变量。如果我们不使用<em class="lo">静态</em>，每次对象被实例化时，它将读取 1。为了将它从对象中分离出来，我们将使它<em class="lo">保持静态。</em></p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><p id="7878" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lo">重述</em>:我们有一个没有任何静态方法或属性的<a class="ae lw" href="https://github.com/dinocajic/php-7-youtube-tutorials/blob/master/GermanShepherd.php" rel="noopener ugc nofollow" target="_blank"> GermanShepherd </a>类。</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><p id="8ef9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们从创建一个新文件开始，该文件将测试我们的 GermanShepherd 类。我们现在要做的就是计算这个类被实例化的次数。在我们的文件中，让我们包含 GermanShepherd 类并创建 5 个 GermanShepherd 对象。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="2d0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们继续之前，我们可以在上面的文件中创建一个变量，并记录我们每次实例化一个类的时间。这很容易出错，对可伸缩性也不好。让我们以正确的方式来做这件事，并在 GermanShepherd 类中创建我们的静态属性。</p><p id="b8cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在 GermanShepherd 类中创建$<em class="lo">num _ of _ dogs _ created</em>static<em class="lo">int</em>并初始化为 0。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="665e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">即使我们有 5 个实例，初始化为 0 只发生在第一个对象的创建过程中。它不会每次都被重置。</p><p id="7558" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们如何更新<em class="lo"> $num_of_dogs_created </em>。你说得对，我们可以在每次类被实例化时手动更新它。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="49c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那能行吗？会的。但是很乱，我们什么都没解决。这几乎和文件中有变量一样糟糕。我们不要那样做。</p><p id="c734" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">解决这个问题的一个选择是在我们的构造函数中增加增量。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="10e9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，我们也想谈谈方法。如果我们想在类之外增加<em class="lo"> $num_of_dogs_created </em>而不直接调用静态属性会怎样？记住为什么要使用访问器和赋值器。我们可以创建一个方法来更新它，然后调用这个静态方法。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="8cd6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为我们在同一个类中调用静态属性，我们可以使用<em class="lo"> self </em>关键字从我们的<em class="lo">update _ num _ of _ dogs _ created()</em>方法中访问它。然后，我们从构造函数中调用静态方法。你可能已经注意到的一件事是，我们在双冒号操作符后面使用了美元符号；这和使用<em class="lo"> $this </em>关键字时有一点不同，在这里你去掉了对象操作符后面的美元符号。</p><p id="1156" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们试一试，看看我们会得到什么。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="8dbb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们得到<em class="lo">创建的实例数:5 </em>，因为这是我们创建的对象数。</p><p id="e3c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们愿意，可以在类外部调用该方法来再次递增它。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="e88a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">遍历代码:</p><ul class=""><li id="dc44" class="md me iq ka b kb kc kf kg kj mf kn mg kr mh kv mi mj mk ml bi translated">我们实例化每个 GermanShepherd 类，并且每次递增静态属性<em class="lo"> $num_of_dogs_created </em>。</li><li id="e02d" class="md me iq ka b kb mm kf mn kj mo kn mp kr mq kv mi mj mk ml bi translated">回显<em class="lo"> $num_of_dogs_created </em>并显示<em class="lo"> 5。</em></li><li id="3c01" class="md me iq ka b kb mm kf mn kj mo kn mp kr mq kv mi mj mk ml bi translated">再次调用<em class="lo">update _ num _ of _ dogs _ created()</em>方法。它将静态属性<em class="lo"> $num_of_dogs_created </em>增加 1。</li><li id="2574" class="md me iq ka b kb mm kf mn kj mo kn mp kr mq kv mi mj mk ml bi translated">下一个<em class="lo">回显</em>语句显示<em class="lo"> 6。</em></li></ul><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mr mc l"/></div></figure></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><div class="lx ly lz ma gt kz"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">dinocajic/PHP-7-YouTube-教程</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">PHP 7.x YouTube 教程的代码。</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">github.com</p></div></div><div class="li l"><div class="ms l lk ll lm li ln jw kz"/></div></div></a></div></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eedd2fc7f979c1388ce49bbf42fea924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5llmfGa3TGXrDhqj.jpeg"/></div></div></figure><p id="1c08" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡伊奇目前是<a class="ae lw" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(生命周期生物科学公司)</a>、<a class="ae lw" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae lw" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae lw" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物</a>、<a class="ae lw" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae lw" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="b57c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae lw" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae lw" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae lw" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="33b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae lw" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="lo">阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。</em> </a></p></div></div>    
</body>
</html>