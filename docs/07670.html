<html>
<head>
<title>Spring Boot Global Exception Handling With Thymeleaf &amp; REST APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用百里香叶和 REST APIs 处理 Spring Boot 全局异常</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/spring-boot-global-exception-handling-with-thymeleaf-rest-apis-96f61ff62dda?source=collection_archive---------0-----------------------#2022-04-14">https://blog.devgenius.io/spring-boot-global-exception-handling-with-thymeleaf-rest-apis-96f61ff62dda?source=collection_archive---------0-----------------------#2022-04-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/628ac127fc5baf79c45598b8959a92c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P8JAmctgZQP6Xz0wewqPSg.jpeg"/></div></div></figure><p id="fb42" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我将使用 UI 页面和 REST APIs 处理全局异常。对于 UI 页面，如果发生任何错误/异常，页面将重定向到常见错误页面。对于 REST APIs，如果发生任何错误/异常，将会向用户提供准确的消息。我将介绍以下内容:</p><ul class=""><li id="64c6" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">如何处理项目中的全局异常？</li><li id="247b" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">用 UI 页面处理全局异常。</li><li id="7872" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">用 REST APIs 处理全局异常。</li><li id="0634" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">如何在我们的 Spring Boot 应用程序中使用 H2 数据库？</li></ul><h1 id="eec6" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">初步的</h1><p id="be44" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">在开始之前，如果你想了解 Spring Boot &amp;如何创建一个 Spring Boot 应用程序，请访问这篇文章。</p><h1 id="9ea7" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">使用的工具和技术</h1><ul class=""><li id="50b5" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated">Java 1.8</li><li id="c6ab" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">Spring Boot 2.5.4</li><li id="b8a3" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">H2 数据库和 JPA:数据库和交互</li><li id="b31f" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">用于网页的 Java 模板引擎</li><li id="15f5" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">Eclipse IDE:用于编写代码</li><li id="0310" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">Maven:提供构建环境</li><li id="3c69" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">邮递员:API 测试</li></ul><figure class="mp mq mr ms gt jo gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/6c5ec4332029972c94e7e71ef5dd53a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*VhnkeM8q9H37sP1j8X-TfA.png"/></div></figure><p id="58de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我简单解释一下上述项目结构的各个部分。</p><ul class=""><li id="4d70" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated"><strong class="jx io"> ExceptionController </strong>类用于处理所有异常。</li><li id="74ab" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io"> UserController </strong>类是一个为用户请求提供请求映射方法的控制器。</li><li id="a4e9" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io"> UserNotFoundException </strong>类用于返回特定异常的消息。</li><li id="c74b" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io">用户</strong>类是包含用户特定数据的实体。</li><li id="fcc2" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io">userrepository</strong>是一个为所有 CRUD 方法扩展 JpaRepository 的接口。它将在 UserService 类中自动连接。</li><li id="9ed5" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io"> UserService </strong>类用于在执行用户操作时管理业务逻辑。</li><li id="1afa" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">类是由 Spring 创建的，它包含运行我们的应用程序的 main 方法。</li><li id="77d9" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io">error.html</strong>用于在出现错误/异常时重定向页面。</li><li id="7a1a" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io">index.html</strong>用作用户的仪表板页面。</li><li id="8aa1" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io">user.html</strong>用于获取用户的详细信息</li><li id="0453" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io"> application.properties </strong>文件包含 H2 数据源、JPA、Hibernate、端口号、上下文路径等配置。</li><li id="040a" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">pom.xml 包含对 Spring Boot、H2、JPA、百里香等的依赖。</li><li id="82f4" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io"> schema.sql </strong>用于创建一个表，因为我们正在使用 H2 数据库。</li><li id="6ae2" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io"> data.sql </strong>用于在程序运行时在创建的表中插入一些数据。</li></ul><h1 id="9b5e" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">为 API 创建和设置项目</h1><p id="a817" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">创建 Spring Boot 项目后，打开<strong class="jx io"> pom.xml </strong>并添加这些依赖项:</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak"> pom.xml </strong></figcaption></figure><h1 id="08a1" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">配置端口、上下文路径和 H2 数据源</h1><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">应用程序.属性</figcaption></figure><ul class=""><li id="7580" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated"><code class="fe mz na nb nc b">server.port</code>属性用于改变默认端口号。</li><li id="7a71" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">server.servlet.context-path </code> properties 用于为你的应用程序定义根路径。我已经将<strong class="jx io"> /user </strong>定义为我根路径。</li><li id="c9d1" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">spring.datasource.url </code>属性用于定义与 h2 数据库连接的数据库 url。</li><li id="1aa1" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">Spring Boot 使用 Hibernate 实现 JPA，我们为 PostgreSQL 配置了<code class="fe mz na nb nc b">PostgreSQLDialect</code>。</li><li id="8517" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">spring.jpa.hibernate.ddl-auto</code>用于数据库初始化。我们将该值设置为<code class="fe mz na nb nc b">update</code>值，以便在数据库中自动创建一个与定义的数据模型对应的表。对模型的任何更改也会触发表的更新。</li><li id="b7e5" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">spring.jpa.show-sql =false</code>用于从控制台隐藏 sql 查询。</li><li id="3012" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">spring.h2.console.enabled=true</code>用于嵌入式 GUI 控制台，用于浏览内容和运行 SQL 查询。</li><li id="49aa" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">spring.jpa.database.platform </code>用于指定数据库。</li></ul><h1 id="c176" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">定义数据模型</h1><ul class=""><li id="3b02" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated">我们的数据模型是<strong class="jx io">User.java</strong>，有五个字段:id、姓名&amp;电子邮件。</li><li id="fa8d" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">在<strong class="jx io">com . demo . exception . model</strong>包下，我们定义用户类。</li></ul><p id="29b0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> model/User.java </strong></p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak">User.java</strong></figcaption></figure><ul class=""><li id="407c" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated"><code class="fe mz na nb nc b">@Entity</code>注释表明该类是一个持久的 Java 类。</li><li id="8668" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">@Id</code>标注是针对主键的。</li><li id="7f1f" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">@GeneratedValue</code>注释用于定义主键的生成策略。</li><li id="a5e1" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">GenerationType.AUTO</code>表示自动增量字段。</li></ul><h1 id="6cd8" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">定义服务来处理业务逻辑</h1><ul class=""><li id="b515" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated">在<strong class="jx io">服务</strong>包中，创建一个 UserService 类。</li><li id="9dc4" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">我们的服务类是 UserService.java，它包含了所有处理仓库操作的方法，并将响应返回给 UserController.java。</li></ul><p id="94b3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">service/user service . Java</strong></p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak">UserService.java</strong></figcaption></figure><ul class=""><li id="277a" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated"><code class="fe mz na nb nc b">@Service</code>注释用于将类标记为提供某些业务功能的服务提供者。</li><li id="31bd" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">@Autowired</code>用于将<strong class="jx io">用户存储库</strong> bean 注入局部变量。</li></ul><h1 id="eb31" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">定义存储库接口</h1><p id="bb93" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">创建一个存储库，以便与数据库中的用户进行交互。<br/>在<strong class="jx io">仓库</strong>包中，创建扩展<code class="fe mz na nb nc b">JpaRepository</code>的<code class="fe mz na nb nc b">UserRepository</code>接口</p><p id="4e6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">repository/user repository . Java</strong></p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak">UserRepository.java</strong></figcaption></figure><h1 id="559d" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">创建一个全局异常类&amp;处理异常</h1><ul class=""><li id="4807" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated">首先，我将创建一个自定义异常类<strong class="jx io"> UserNotFoundException </strong>，它扩展了<strong class="jx io"> IllegalArgumentException </strong>类&amp;来定义一个参数化的构造函数。</li></ul><p id="ba89" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">handler/usernotfoundexception . Java</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak">UserNotFoundException.java</strong></figcaption></figure><p id="e300" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，创建另一个类<strong class="jx io">exception controller</strong>&amp;<strong class="jx io"/>用<strong class="jx io"> @ControllerAdvice </strong>注释对该类进行注释。</p><p id="820e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">控制器/异常控制器. java</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak">ExceptionController.java</strong></figcaption></figure><ul class=""><li id="754e" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">注释允许我们处理整个应用程序中的异常。这个注释是<code class="fe mz na nb nc b">@Component</code>注释的专门化，因此它可以通过类路径扫描自动检测。</li><li id="6d92" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">@ExceptionHandler</code>注释表明我们想要处理哪种类型的异常。</li><li id="91fe" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">正如你在上面看到的，我已经定义了方法，即<strong class="jx io">userNotFoundException()</strong>&amp;<strong class="jx io">illegalArgumentException()</strong>，它将根据类型处理异常。</li><li id="56db" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">userNotFoundException()</code>方法<strong class="jx io"> </strong>用<strong class="jx io"> @ExceptionHandler </strong>注释&amp;增加了<strong class="jx io">usernotfoundexception . class</strong>来确定该方法的异常类型。我也已经将方法返回到<strong class="jx io">错误页面。</strong>因此，我使用百里香叶作为视图，这样它将返回到<strong class="jx io">error.html</strong>页面。下面我附上了 error.html 代码。</li><li id="d67e" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">illegalArgumentException()</code>方法用于处理非法参数的异常，因为我在这个方法中添加了<strong class="jx io">illegalargumentexception . class</strong>。我们将通过 REST APIs 测试这个方法。</li></ul><h2 id="6513" class="nd li in bd lj ne nf dn ln ng nh dp lr kg ni nj lv kk nk nl lz ko nm nn md no bi translated">让我们创建一些 UI 页面来测试我们的<code class="fe mz na nb nc b">"userNotFoundException()”</code>方法</h2><ul class=""><li id="45c8" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated">首先，我将创建一个 index.html 页面，这将是一个登陆页面，包含所有的用户列表。</li></ul><p id="ee95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">资源/模板/索引. html</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak">index.html</strong></figcaption></figure><ul class=""><li id="f64b" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">在 index.html，我添加了一个字段，我们可以根据他们的 id 搜索用户。</li><li id="a9bb" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">现在，创建另一个包含用户详细信息的 user.html 页面。</li></ul><p id="8a22" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">resources/templates/user.html</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak">user.html</strong></figcaption></figure><ul class=""><li id="0f0a" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">最后，创建一个<strong class="jx io">error.html</strong>页面，它将在错误/异常时执行。在我们当前的场景中，它将在我们搜索数据库中不存在的用户时执行。</li></ul><p id="8773" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">资源/模板/错误. html</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">【error.html T42】</figcaption></figure><h1 id="65e6" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">用于创建表格和插入数据的 SQL 脚本</h1><p id="9d97" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">我将创建两个文件<strong class="jx io"> schema.sql &amp; data.sql </strong>，其中包含创建表格的脚本&amp;在内存中插入一些数据，因为我们正在使用 H2 数据库。</p><p id="d67c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">resources/schema.sql</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak"> schema.sql </strong></figcaption></figure><p id="9120" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">资源/数据. sql</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated"><strong class="ak"> data.sql </strong></figcaption></figure><h1 id="1887" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">运行应用程序</h1><ul class=""><li id="8605" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated">要通过 IDE 运行 Spring Boot 应用，<strong class="jx io">右键单击项目- &gt;运行- &gt; Spring Boot 应用</strong>或者您可以通过 CLI 运行您的项目。使用 CLI 运行<strong class="jx io">打开你的终端- &gt;进入你的项目的根文件夹- &gt;输入“mvn spring-boot:run”。</strong></li><li id="a172" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">一旦应用程序成功运行，将在模式中自动创建包含 3 个用户记录的用户表，因为我们已经在 application.properties 文件中将值设置为<strong class="jx io"> update </strong>。</li></ul><h1 id="434e" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">通过 UI 页面测试应用程序</h1><ul class=""><li id="ad68" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated">现在，从您的浏览器&amp;转到<code class="fe mz na nb nc b">localhost:8080/user/</code>，它将如下所示:</li></ul><figure class="mp mq mr ms gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi np"><img src="../Images/861d07cf0a022a2f792709fc44d4abdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRdZRs5FQkWquqAy7W3eHQ.png"/></div></div></figure><ul class=""><li id="b72c" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">正如您可以看到的，在仪表板页面中有 3 个用户记录(我们之前在 data.sql 文件中写的用户详细信息)。</li><li id="ba78" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">我们可以通过在搜索框中输入用户 Id 来搜索任何特定用户的详细信息。</li></ul><figure class="mp mq mr ms gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nq"><img src="../Images/588e8c1c8d9015aa2f51fa1d19a40abc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DEM4cVJH01c9wu9oJXLmXg.png"/></div></div></figure><ul class=""><li id="c0fc" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">当我们传递任何在我们的模式中不存在的 ID 时，它将重定向到<strong class="jx io">错误页面</strong>，因为我们已经在后端处理了<strong class="jx io"> UserNotFoundException </strong>异常。</li></ul><figure class="mp mq mr ms gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nr"><img src="../Images/d44c666ec78238f8c18c2990f2195391.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TbG2jIeuplkvu5AR7SQeLQ.png"/></div></div></figure><ul class=""><li id="a870" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">你可以在 url 栏中看到，我传递了一个在我们的模式中不存在的 Id，因此它被重定向到<strong class="jx io">错误页面</strong>。我们可以通过点击<strong class="jx io">返回仪表板</strong>按钮返回仪表板页面。</li></ul><h1 id="a628" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">通过 REST APIs 测试应用程序</h1><h2 id="9499" class="nd li in bd lj ne nf dn ln ng nh dp lr kg ni nj lv kk nk nl lz ko nm nn md no bi translated">我们在本文中创建的 REST APIs:</h2><ul class=""><li id="60c2" class="kt ku in jx b jy mf kc mg kg ml kk mm ko mn ks ky kz la lb bi translated"><code class="fe mz na nb nc b">localhost:8080/user/userList</code>将获取已创建用户的列表。</li><li id="908a" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><code class="fe mz na nb nc b">localhost:8080/user/userById</code>将通过 Id 获取特定用户的详细信息。</li></ul><figure class="mp mq mr ms gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ns"><img src="../Images/8d102fe4476d4d62318e99eac310eb38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I1zA2xdKQ1w46gDdQN5DpA.png"/></div></div></figure><figure class="mp mq mr ms gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nt"><img src="../Images/01c4b907e28b79535b2528087f7628f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4D_Bbb6j7WpntYMVybOvPg.png"/></div></div></figure><figure class="mp mq mr ms gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/f9acfebcaf314a4be5257fff58141d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e99XHqwhgl8PfSp1gG_X_w.png"/></div></div></figure><p id="0b10" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正如你所看到的，当我们在我们的<code class="fe mz na nb nc b">localhost:8080/user/userById</code> api 中传递无效数据时，它会给出带有<strong class="jx io"> 400 状态代码</strong>的错误消息，因为我们已经在后端处理了<strong class="jx io">IllegalArgumentException</strong>。</p></div><div class="ab cl nv nw hr nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ig ih ii ij ik"><blockquote class="oc od oe"><p id="acb7" class="jv jw of jx b jy jz ka kb kc kd ke kf og kh ki kj oh kl km kn oi kp kq kr ks ig bi translated"><strong class="jx io">资源</strong>:<strong class="jx io"/><a class="ae mk" href="https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">https://spring . io/blog/2013/11/01/exception-handling-in-spring-MVC</strong>T35】</a></p><p id="94ac" class="jv jw of jx b jy jz ka kb kc kd ke kf og kh ki kj oh kl km kn oi kp kq kr ks ig bi translated"><a class="ae mk" href="https://github.com/pritam73/SpringBoot_GlobalExceptionHandling" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="in">点击这里下载源代码</em> </strong> </a></p></blockquote><h1 id="154f" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">#结论</h1><p id="7bb2" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">在本文中，我使用 Spring Boot &amp; H2 数据库和 UI 页面以及 REST APIs 处理了全局异常。</p><p id="6b76" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望这是有用的。一声‘拍手’一定会鼓励我多写文章，多分享我的知识。</p><p id="8da5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在 LinkedIn  上<a class="ae mk" href="https://www.linkedin.com/in/pritam-kumar-85b64316b" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">联系我，讨论更多。所以请随意连接。</strong></a></p></div></div>    
</body>
</html>