<html>
<head>
<title>Saving Data with Unity Part 1!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Unity 保存数据第 1 部分！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/saving-data-with-unity-part-1-4bf0c35dbb1e?source=collection_archive---------13-----------------------#2022-03-08">https://blog.devgenius.io/saving-data-with-unity-part-1-4bf0c35dbb1e?source=collection_archive---------13-----------------------#2022-03-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="a7fe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">目的:将病例信息保存为 Dat 文件！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/93a56a6c6991a0b8d10f2bbe0ae53f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQlF7GV7E9YcuNxExkKOZA.png"/></div></div></figure><p id="3f84" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将把案例的对象转换成数据文件。首先，我们需要创建在 UIManager 中保存这些信息的能力。当我们点击提交按钮时，UIManager 将负责上传这些信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ku"><img src="../Images/b439c30ff11d4f5350b15eff2d6eb8f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KnrOz_G4Ty68O9HglSADvg.png"/></div></div></figure><p id="94b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建新案例</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kv"><img src="../Images/1b62bb8aca275ec948da2bd759a7c031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sDyBlbtlstKL7VQAmkbMqA.png"/></div></div></figure><p id="cdfb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将所有 awsCase 属性设置为 activeCase</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kw"><img src="../Images/3daffd8b050b700df05c0f9bbc7d5ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*inEmEGaAPgS3ZsyKc97hVQ.png"/></div></div></figure><p id="55c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们用活动案例数据填充新案例，然后将 awecase 转换成文件并存储在云中。</p><p id="a8d8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下一步是打开数据流，这是通过使用二进制格式化程序完成的。二进制格式化程序将允许我们把这个案例转换成文本文件。我们之所以能做到这一点，是因为[系统。可序列化】。这允许你把它转换成一堆字节，并存储到一个数据文件中。</p><p id="e466" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">二进制格式化程序需要使用 System 命名空间。' runtime . serialization . formatters . binary；'</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kx"><img src="../Images/9142b21008abcd0bbda73c42f3982f24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLQ3OLB9k-0rmh-ykLdsfg.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ky"><img src="../Images/94eca4a6b398ea2cea9f7266ddf5680e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o8WjkLE56kE4gHsvtac6xQ.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">这就开放了序列化数据的能力。</figcaption></figure><p id="75da" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们在这里创建一个新的数据流。一旦我们有了它，我们需要创建一个文件来保存它。为此，我们需要打开我们的文件流。这需要使用系统命名空间。木卫一；'</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ld"><img src="../Images/5601e035228e3dc2408db21e737ce70c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3bd81DCnjM2g20g04leJUQ.png"/></div></div></figure><p id="518b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这相当于创建一个文件的能力以及我们将它保存在哪里。在 Unity 中，我们得到了一个叫做持久数据路径的东西，在那里我们可以访问保存的关于我们应用程序的信息。</p><p id="e2ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将选择“应用程序”。“持久数据路径”这是 Unity 提供给我们的东西，它建议我们保存游戏文件等信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi le"><img src="../Images/dd94b60a2d62a15c68be928c62bc411b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MEGsHguAvIUL0kGtL-qgXw.png"/></div></div></figure><p id="d7e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后我们将向它追加一个字符串。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lf"><img src="../Images/175ba9238dcf9194f4f0c0ab5f217b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mMDbjJpOxafJsz0JJwb8sw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">这将创建一个名为 caseID 的文件</figcaption></figure><p id="c8ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦我们有了那个文件位置和附加的文件，我们需要写入那个文件。</p><p id="85fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为此，我们访问二进制格式化程序，并键入 Serialize()</p><p id="e1de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们序列化时，我们传入一个要序列化的流，然后传入一个对象。我们将传递要保存的文件。那么我们需要一个对象。什么对象？awsCase</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lg"><img src="../Images/519075b2d2d596a22e7638efd61aa00a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7AJaoLW0veQtsUupiro_zA.png"/></div></div></figure><p id="8909" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦我们序列化，我们要确保我们关闭文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lh"><img src="../Images/5196c011e328c62f2c89dd812b2f4e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ej0yp2J0oHJ-5wtTPNxSfQ.png"/></div></div></figure><p id="19e2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为提交按钮设置一个点击事件，以调用我们创建的提交按钮方法。</p><p id="52ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要指定这样追加的文件类型”。dat "文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi li"><img src="../Images/254ca00aed6314791c2d41ab25ba198b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HwXHYpxFaZN9f4RvrX9zFg.png"/></div></div></figure><p id="aabe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">暂时就这样了。在下一部分中，我们将讨论纹理的序列化。下期教程再见！</p></div></div>    
</body>
</html>