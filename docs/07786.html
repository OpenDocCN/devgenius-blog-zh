<html>
<head>
<title>Flutter Internationalization (i18n) with GetX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 GetX 的 Flutter 国际化(i18n)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/flutter-internationalization-i18n-with-getx-d3a6465d1282?source=collection_archive---------2-----------------------#2022-04-23">https://blog.devgenius.io/flutter-internationalization-i18n-with-getx-d3a6465d1282?source=collection_archive---------2-----------------------#2022-04-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/09978fbf63c149d6db2f2d689b7fc054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4X5bbUcRJQaJ5ofXmg_YcQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">i18n 的可视化</figcaption></figure><h1 id="75ec" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">什么是国际化？</h1><p id="05d7" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">国际化(通常简称为 i18n)是开发您的应用程序的过程，以这种方式<strong class="kz io">它支持多种语言/地区，并使本地化变得容易。</strong></p><p id="1baf" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">例如，使用硬编码字符串的 Flutter 应用程序被认为没有为国际观众做好准备，当应用程序必须以其他语言推出时，这将引起一场真正的斗争。</p><figure class="mb mc md me gt jo gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/9afc7c2dafcae718182f871b60470495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*i_efDHM-KdhIq33U3eBbuw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">文本小部件中使用的硬编码字符串</figcaption></figure><p id="c9bb" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">正确的方法是在翻译词典中使用引用键，而不是硬编码的字符串。下次应用程序显示一些文本时，它会在字典中查找所选用户语言的关键字，并相应地检索内容。下图很好地解释了这一点。</p><figure class="mb mc md me gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mf"><img src="../Images/a4a52b67e924f729f3f2de8c9450ec86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ZUjGdOFm30uveIcr_W2RA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">文本微件中使用的映射键引用</figcaption></figure><blockquote class="mg mh mi"><p id="1812" class="kx ky mj kz b la lv lc ld le lw lg lh mk lx lk ll ml ly lo lp mm lz ls lt lu ig bi translated">除了文本之外，日期和数字的格式(金额、电话号码等)、布局等也应该在国际化过程中加以考虑。</p></blockquote><p id="16dc" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">概括地说，国际化意味着以一种易于扩展的方式开发您的产品，并且如果出现任何新的语言/地区，只需要最小的代码更改。</p><h1 id="d9bf" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">用 GetX 实现国际化</h1><p id="f5fc" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">让我们深入代码，学习一下如何实现国际化:</p><ul class=""><li id="2674" class="mn mo in kz b la lv le lw li mp lm mq lq mr lu ms mt mu mv bi translated">首先在您的<code class="fe mw mx my mz b">pubspec.yaml</code>文件中添加<em class="mj"> get </em>作为依赖项。请从<a class="ae na" href="https://pub.dev/packages/get" rel="noopener ugc nofollow" target="_blank">网站</a>查看最新版本。</li></ul><figure class="mb mc md me gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><ul class=""><li id="86e7" class="mn mo in kz b la lv le lw li mp lm mq lq mr lu ms mt mu mv bi translated">接下来，确保你的最高级别小部件是<strong class="kz io"> GetMaterialApp </strong>而不是<strong class="kz io"> MaterialApp </strong>。</li></ul><figure class="mb mc md me gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><ul class=""><li id="5b1f" class="mn mo in kz b la lv le lw li mp lm mq lq mr lu ms mt mu mv bi translated"><em class="mj"> GetMaterialApp </em>可以带<code class="fe mw mx my mz b">translations</code>的类类型<em class="mj">翻译</em>。</li></ul><figure class="mb mc md me gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><ul class=""><li id="bc68" class="mn mo in kz b la lv le lw li mp lm mq lq mr lu ms mt mu mv bi translated">现在让我们实现类<code class="fe mw mx my mz b">AppTranslations</code>，它需要从<code class="fe mw mx my mz b">Translations</code>扩展而来。</li></ul><p id="6195" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><code class="fe mw mx my mz b">Translations</code>是来自<code class="fe mw mx my mz b">get</code>依赖项的抽象类，您必须包含返回多语言地图的<em class="mj"> keys </em>方法的实现。像这样:</p><figure class="mb mc md me gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="c1a2" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">上面你可以看到，<code class="fe mw mx my mz b">en_US</code>，<code class="fe mw mx my mz b">ur_PK</code>，这些叫做<code class="fe mw mx my mz b">Locales</code>，来源于<code class="fe mw mx my mz b">material.dart</code></p><p id="b7f4" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">locale 有两个参数，<em class="mj"> languageCode </em>和<em class="mj"> countryCode </em>。</p><p id="c8a9" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">你可以在这里看到所有地区<a class="ae na" href="https://pub.dev/documentation/locales/latest/locales/Locale-class.html" rel="noopener ugc nofollow" target="_blank">的列表。</a></p><ul class=""><li id="385a" class="mn mo in kz b la lv le lw li mp lm mq lq mr lu ms mt mu mv bi translated">现在，不要在文本小部件中使用硬编码的字符串，而是使用您在地图中添加的引用键，在我的例子中，就像这样:</li></ul><figure class="mb mc md me gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="9a1b" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">就像你在上面的插图中看到的一样。右⁉️</p><ul class=""><li id="f657" class="mn mo in kz b la lv le lw li mp lm mq lq mr lu ms mt mu mv bi translated">最后一件事，你应该知道的是关于改变地区。您可以像这样将初始区域设置传递给您的<em class="mj"> GetMaterialApp </em>。因此，最初，您的应用程序将显示在英语区域。</li></ul><figure class="mb mc md me gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="ed1b" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">到目前为止，输出是这样的。</p><figure class="mb mc md me gt jo gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/3b5dbaa66571f926a7e60b21f648c945.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*Y52A8f8mtPPLUqvYlbxH8w.png"/></div></figure><p id="23c7" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">现在，假设我想在浮动操作按钮被按下后立即将区域设置更新为乌尔都语。你就是这么做的:</p><figure class="mb mc md me gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="f4bb" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><code class="fe mw mx my mz b">Get.updateLocale</code>负责更新区域设置，作为参数给出的区域设置将在<em class="mj"> AppTranslations </em>类中查找相应的键。</p><p id="af91" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">点击一个按钮，奇迹就发生了:</p><figure class="mb mc md me gt jo gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/f62517057d20396159f44d2486e8a175.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*UU6kjiZofC8PDGDUiHuKDw.png"/></div></figure><p id="f48e" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">不仅文本字符串发生了变化，而且您可能还注意到 LTR 布局变成了 RTL。嗯，这就是 Getx 国际化的妙处。</p><p id="65b2" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">乌尔都语、阿拉伯语、波斯语、希伯来语和普什图语将在区域设置更新为这些语言后立即拥有 RTL 布局。GetX 国际化类支持它，你不必为此做任何事情！</p><figure class="mb mc md me gt jo gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/44c1b7521c9c9d1a18a3364e99f3ff10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*gnIqwIXHkX0W8yT0djg8Cg.png"/></div></figure><p id="c04a" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">欢迎从官方文档中探索更多关于 GetX 国际化的内容，如果我遗漏了什么，请告诉我！</p><p id="2e98" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><a class="ae na" href="https://pub.dev/packages/get#internationalization" rel="noopener ugc nofollow" target="_blank"> <strong class="kz io">链接到官方文档</strong> </a></p><p id="580b" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">感谢你的阅读，为它鼓掌或者请我喝杯咖啡！</p><figure class="mb mc md me gt jo gh gi paragraph-image"><a href="https://www.buymeacoffee.com/hussainhabib"><div class="gh gi ng"><img src="../Images/c1ee2f589cd09623cbdf063bf6c50b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*dRxpOXApZorXsroKDPQkOg.png"/></div></a></figure></div></div>    
</body>
</html>