# LeetCode 142ã€‚é“¾è¡¨å¾ªç¯ II(å¸¦å›¾åƒçš„è§£å†³æ–¹æ¡ˆ)

> åŸæ–‡ï¼š<https://blog.devgenius.io/leetcode-142-linked-list-cycle-ii-7cc3e587b6a0?source=collection_archive---------3----------------------->

# é—®é¢˜:â†’

ç»™å®šä¸€ä¸ªé“¾è¡¨çš„`head`ï¼Œè¿”å›*å¾ªç¯å¼€å§‹çš„èŠ‚ç‚¹ã€‚å¦‚æœæ²¡æœ‰å¾ªç¯ï¼Œè¿”å›* `null`ã€‚

å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹å¯ä»¥é€šè¿‡ç»§ç»­è·Ÿéš`next`æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸­å°±å­˜åœ¨å¾ªç¯ã€‚åœ¨å†…éƒ¨ï¼Œ`pos`ç”¨æ¥è¡¨ç¤º tail çš„`next`æŒ‡é’ˆæ‰€è¿æ¥çš„èŠ‚ç‚¹çš„ç´¢å¼•(**0-ç´¢å¼•**)ã€‚å¦‚æœæ²¡æœ‰å¾ªç¯ï¼Œåˆ™ä¸º`-1`ã€‚**æ³¨æ„** `pos` **æ²¡æœ‰ä½œä¸ºå‚æ•°**ä¼ é€’ã€‚

**ä¸è¦ä¿®æ”¹**é“¾è¡¨ã€‚

**ä¾‹ 1:**

![](img/bc5968437e3ac8a42350da55789caf78.png)

```
**Input:** head = [3,2,0,-4], pos = 1
**Output:** tail connects to node index 1
**Explanation:** There is a cycle in the linked list, where tail connects to the second node.
```

**ä¾‹äºŒ:**

![](img/35f173f858719b5b41f791b051a2fd4c.png)

```
**Input:** head = [1,2], pos = 0
**Output:** tail connects to node index 0
**Explanation:** There is a cycle in the linked list, where tail connects to the first node.
```

**ä¾‹ 3:**

![](img/d8981f93865b9395fc6f35e27af6fec3.png)

```
**Input:** head = [1], pos = -1
**Output:** no cycle
**Explanation:** There is no cycle in the linked list.
```

**çº¦æŸ:**

*   åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹æ•°é‡åœ¨èŒƒå›´`[0, 104]`å†…ã€‚
*   `-105 <= Node.val <= 105`
*   `pos`æ˜¯é“¾è¡¨ä¸­çš„`-1`æˆ–**æœ‰æ•ˆç´¢å¼•**ã€‚

**è·Ÿè¿›:**èƒ½å¦ç”¨`O(1)`(å³å¸¸æ•°)å†…å­˜è§£å†³ï¼Ÿ

# è§£å†³æ–¹æ¡ˆ:â†’

åœ¨ç»§ç»­ä¹‹å‰ï¼Œæˆ‘åªæ˜¯å»ºè®®æ‚¨å…ˆäº†è§£ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼Œ

[](https://medium.com/@alexmurphyas8/leetcode-141-linked-list-cycle-solution-with-images-85da5369a0da) [## LeetCode 141ã€‚é“¾è¡¨å¾ªç¯(å¸¦å›¾åƒçš„è§£å†³æ–¹æ¡ˆ)

### é“¾æ¥:â†’https://leetcode.com/problems/linked-list-cycle/

medium.com](https://medium.com/@alexmurphyas8/leetcode-141-linked-list-cycle-solution-with-images-85da5369a0da) 

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

ä¸‹å›¾æ˜¯ä»æ€»ä½“ä¸Šç†è§£å®ƒï¼Œ

![](img/33fc2d64e8b3d7e18c2f07a051e2f2f2.png)

è®©æˆ‘ä»¬ç”¨ä»£ç æ¥ç†è§£ï¼Œ

é¦–å…ˆï¼Œæˆ‘ä»¬é‡‡ç”¨**æ…¢é€Ÿ**å’Œ**å¿«é€Ÿ**å˜é‡ï¼Œå®ƒä»¬æŒ‡å‘ç»™å®šé“¾è¡¨çš„å¤´éƒ¨ã€‚

![](img/3197367194cff6969bca86ca7ce84a9a.png)

**â€” â€”ç¬¬ä¸€æ¬¡è¿­ä»£â€” â€”**

ç°åœ¨ï¼Œæˆ‘ä»¬å°†è¿›å…¥ while å¾ªç¯ï¼Œæ…¢é€Ÿå’Œå¿«é€Ÿç§»åŠ¨ï¼Œ

![](img/c0719b5bb56633e68837269950a7a9ee.png)

åœ¨è¿™é‡Œï¼Œå®ƒå°†é‡å¤ç›´åˆ°ï¼Œ**æ…¢å’Œå¿«ä¸ä¼šå˜æˆç›¸åŒçš„**ï¼Œ

![](img/e60101a4605486c7cb4116057df598ba.png)

**â€” â€”ç¬¬äºŒæ¬¡è¿­ä»£â€” â€”**

![](img/e4a6d4645c8f49c6f79e6560ddebf54f.png)

**â€” â€”ç¬¬ä¸‰æ¬¡è¿­ä»£â€” â€”**

![](img/a3c37550ce5b01d456ec74b1fccd3465.png)![](img/b83d97e3d760746262e8981ad710a4f5.png)

**â€” â€”ç¬¬å››æ¬¡è¿­ä»£â€” â€”**

è¿™é‡Œï¼Œ**æ…¢å’Œå¿«**ä¼šå˜æˆ**ä¸€æ ·çš„**ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šè¿›å…¥å†… while å¾ªç¯ï¼Œ

![](img/b167d73c52aa6d02457a7766b3437d1f.png)

åœ¨è¿™é‡Œï¼Œå¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œ

è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°ï¼Œæ…¢é€ŸæŒ‡é’ˆæŒ‡å‘çš„äº¤å‰èŠ‚ç‚¹æ˜¯ L1+L2ã€‚

æŒ‡å‘äº¤å‰èŠ‚ç‚¹çš„å¿«é€ŸæŒ‡é’ˆæ˜¯ 2(L1+L2 ),å› ä¸ºå¿«é€ŸæŒ‡é’ˆæ€»æ˜¯ç§»åŠ¨æ…¢é€ŸæŒ‡é’ˆæ­¥é•¿çš„ 2 å€ã€‚

å½“`slow`ä¸`fast`ç›¸é‡æ—¶ï¼Œ

![](img/b358feca30bae4fad607a59a3542973b.png)

å¿«é€ŸæŒ‡é’ˆç§»åŠ¨çš„è·ç¦»= 2 *(æ…¢é€ŸæŒ‡é’ˆç§»åŠ¨çš„è·ç¦»)

```
(m + n*x + k) = 2*(m + n*y + k)x -->  Number of complete cyclic rounds made by 
       fast pointer before they meet first time

y -->  Number of complete cyclic rounds made by 
       slow pointer before they meet first time
```

ç°åœ¨ï¼Œ

```
(m + n*x + k) = 2*(m + n*y + k)--> m + nx + k = 2m + 2ny + 2k--> m + k = 2m + 2ny + 2k - nx--> 2m - m + 2k - k + 2ny - nx = 0--> m + k + n(2y -x) = 0--> **m + k = n(x - 2y)**Which means **m+k is a multiple of n**.
```

![](img/ef9238ead28fe914d92c814fd1e7c6e7.png)

å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä»¥**ç›¸åŒçš„é€Ÿåº¦**å†æ¬¡ç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä½¿å¾—ä¸€ä¸ªæŒ‡é’ˆ(ä¾‹å¦‚ **slow1** )ä»é“¾è¡¨çš„**å¤´èŠ‚ç‚¹**å¼€å§‹ï¼Œè€Œå…¶ä»–æŒ‡é’ˆ(ä¾‹å¦‚ **fast** )ä»ä¼šåˆç‚¹å¼€å§‹ã€‚

![](img/ceebba2c01c241a1b92136ffe69958dc.png)

å½“ **slow1** æŒ‡é’ˆåˆ°è¾¾å¾ªç¯çš„èµ·ç‚¹(å·²ç»ç§»åŠ¨äº† m æ­¥)æ—¶ï¼Œ **fast** ä¹Ÿä¼šç§»åŠ¨ **m** æ­¥ï¼Œå› ä¸ºå®ƒä»¬ç°åœ¨ç§»åŠ¨çš„é€Ÿåº¦ç›¸åŒã€‚

![](img/cbc1cf04a951c2a32f284883ceae841c.png)

æœ€åï¼Œä»–ä»¬åœ¨åœ†åœˆçš„èµ·ç‚¹ç›¸é‡ï¼Œ

![](img/849b07d0530a0420a5b4f182ae50089a.png)

è®©æˆ‘ä»¬å†æ¬¡ç”¨ä»£ç æ¥ç†è§£ï¼Œ

ç°åœ¨ï¼Œæˆ‘ä»¬æ­£åœ¨è®¨è®ºå¦ä¸€ä¸ªå˜é‡ Slow1ï¼Œå®ƒæŒ‡å‘ Headï¼Œ

![](img/2772af8eb4d83a6e8618096c8ff6020b.png)

åœ¨å†…éƒ¨ while å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å°†è¿­ä»£ç›´åˆ° slow1 å’Œ slow ä¸ç›¸åŒï¼Œ

**â€”â€”â€”å†…éƒ¨ while å¾ªç¯è¿­ä»£ 1â€”â€”â€”â€”**

![](img/6634554bf38e75a7bca7c76f40863307.png)

**â€”â€”â€”å†…éƒ¨ while å¾ªç¯è¿­ä»£ 2â€”â€”â€”â€”**

è¿™é‡Œï¼Œslow == slow1ï¼Œ

![](img/9310fac52909a5ce8e495e74820617e8.png)

æ‰€ä»¥ï¼Œ**å†… while å¾ªç¯**è¢«**ç»ˆæ­¢**ï¼Œå°†è¿”å› slowï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆã€‚

![](img/b0736c133b02b17aafce47062b53943f.png)

æœ€åï¼Œ**æ…¢**æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®Œæ•´çš„æºä»£ç ï¼Œ

# ä»£ç (Java): â†’

# ä»£ç (Python): â†’

# æ—¶é—´å¤æ‚åº¦

è¿™é‡Œï¼Œæˆ‘ä»¬éå†çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„é“¾è¡¨ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ **O(n)** ã€‚

# ç©ºé—´å¤æ‚æ€§

è¿™é‡Œï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†ä¸‰ä¸ªå˜é‡ï¼Œæ‰€ä»¥æ€»çš„ç©ºé—´å¤æ‚åº¦ä¹Ÿå°†æ˜¯ **O(1)** ã€‚

![](img/a3111195e30430a13d8dfb8d7a037257.png)

æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œâ¤

å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·é¼“æŒğŸ‘è¿™ç¯‡æ–‡ç« ã€‚

è¯·åœ¨[åª’ä½“](https://medium.com/@alexmurphyas8)ä¸Šå…³æ³¨æˆ‘ï¼Œæˆ‘ä¼šåƒä¸Šé¢ä¸€æ ·å‘å¸ƒæœ‰ç”¨çš„ä¿¡æ¯ã€‚

insta gramâ†’[https://www.instagram.com/alexmurphyas8/](https://www.instagram.com/alexmurphyas8/)

æ¨ç‰¹â†’[https://twitter.com/AlexMurphyas8](https://twitter.com/AlexMurphyas8)

å¦‚æœæˆ‘åšé”™äº†ä»€ä¹ˆï¼Ÿè®©æˆ‘åœ¨è¯„è®ºä¸­ã€‚æˆ‘å¾ˆæƒ³è¿›æ­¥ã€‚