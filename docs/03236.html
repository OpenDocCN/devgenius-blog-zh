<html>
<head>
<title>Top React Hooks — Helper Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">顶部反应挂钩—辅助挂钩</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/top-react-hooks-helper-hooks-49e24a8503f4?source=collection_archive---------4-----------------------#2020-10-15">https://blog.devgenius.io/top-react-hooks-helper-hooks-49e24a8503f4?source=collection_archive---------4-----------------------#2020-10-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b115d826eb0ef6bdf48cad2d481fa02c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pCaHpa33Jwwn56cI"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">迪米特里·豪特曼在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3cc0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks 包含了 React 应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的 React 挂钩。</p><h1 id="fe1e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反抗海盗</h1><p id="6023" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Pirate 是一个带有各种钩子的库，我们可以使用。</p><p id="cdbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们可以运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dbdf" class="mn lc iq mj b gy mo mp l mq mr">npm install react-pirate</span></pre><p id="0d75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a91c" class="mn lc iq mj b gy mo mp l mq mr">yarn add react-pirate</span></pre><p id="4f64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它带有各种钩子，包括获取状态的前一个值的<code class="fe ms mt mu mj b">usePrevious</code>钩子。</p><p id="7b16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5052" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { usePrevious } from "react-pirate";</span><span id="0d9e" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [count, setCount] = React.useState(0);<br/>  const prevCount = usePrevious(count);</span><span id="f8aa" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={() =&gt; setCount(count =&gt; count + 1)}&gt;increment&lt;/button&gt;<br/>      &lt;p&gt;<br/>        {count} {prevCount}<br/>      &lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="8ebd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">usePrevious</code>钩子让我们获得一个状态的前一个值。</p><p id="33b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是将<code class="fe ms mt mu mj b">count</code>钩子传递给<code class="fe ms mt mu mj b">usePrevious</code>钩子。</p><p id="06d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回<code class="fe ms mt mu mj b">count</code>的前一个值。</p><p id="97dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useToggle </code>钩子让我们创建一个布尔状态并切换它。</p><p id="d0bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ef75" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useToggle } from "react-pirate";</span><span id="c5f6" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { value, toggle } = useToggle(false);</span><span id="4ea7" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={toggle}&gt;toggle&lt;/button&gt;<br/>      &lt;p&gt;{value.toString()}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="6370" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe ms mt mu mj b">useToggle</code>挂钩。</p><p id="df30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">钩子接受一个布尔值作为参数。</p><p id="f1ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它被用作初始值。</p><p id="4c7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个具有<code class="fe ms mt mu mj b">value</code>和<code class="fe ms mt mu mj b">toggle</code>属性的对象。</p><p id="6a43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">value</code>具有布尔值。</p><p id="8b45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">toggle</code>让我们切换<code class="fe ms mt mu mj b">value</code>。</p><p id="ed8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当组件被挂载时,<code class="fe ms mt mu mj b">useMount</code>钩子允许我们运行代码。</p><p id="c640" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="224b" class="mn lc iq mj b gy mo mp l mq mr">import React, { useLayoutEffect } from "react";<br/>import { useMount } from "react-pirate";</span><span id="acec" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  useMount(<br/>    () =&gt; {<br/>      console.log("mounted");<br/>    },<br/>    { hook: useLayoutEffect }<br/>  );</span><span id="2a27" class="mn lc iq mj b gy mv mp l mq mr">  return &lt;p&gt;hello&lt;/p&gt;;<br/>}</span></pre><p id="76f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在第一个参数中使用带有回调的<code class="fe ms mt mu mj b">useMount</code>钩子，该回调在组件被挂载时运行。</p><p id="9cfc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它做的事情与<code class="fe ms mt mu mj b">componentDidMount</code>方法类似。</p><p id="2a2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还附带了一个相当于<code class="fe ms mt mu mj b">componentDidUpdate</code>的方法。</p><p id="a252" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8bdf" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useUpdate } from "react-pirate";</span><span id="24e0" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [count, setCount] = React.useState(0);</span><span id="944b" class="mn lc iq mj b gy mv mp l mq mr">  useUpdate(() =&gt; {<br/>    console.log("updated");<br/>  });</span><span id="d9a2" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; setCount(count =&gt; count + 1)}&gt;increment&lt;/button&gt;<br/>      &lt;p&gt;{count}&lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="20ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了带有回调的<code class="fe ms mt mu mj b">useUpdate</code>钩子，当<code class="fe ms mt mu mj b">count</code>状态被更新时，回调就会运行。</p><p id="dca1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还附带了一个<code class="fe ms mt mu mj b">useUnmount</code>钩子，该钩子接受一个回调来运行一个组件卸载。</p><p id="2f1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="79c7" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useUnmount } from "react-pirate";</span><span id="7a41" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  useUnmount(() =&gt; {<br/>    console.log("unmount");<br/>  });</span><span id="7538" class="mn lc iq mj b gy mv mp l mq mr">  return &lt;&gt;&lt;/&gt;;<br/>}</span></pre><h1 id="6516" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应动力挂钩</h1><p id="ca38" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">react-powerhooks 库附带了各种可以在我们的应用程序中使用的钩子。</p><p id="bdf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8a12" class="mn lc iq mj b gy mo mp l mq mr">yarn add react-powerhooks</span></pre><p id="dfd8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用它附带的钩子。</p><p id="913e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写以下代码来使用<code class="fe ms mt mu mj b">useToggle</code>钩子:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="832b" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useToggle } from "react-powerhooks";</span><span id="f550" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [value, toggle] = useToggle(true);</span><span id="f459" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; toggle()}&gt;toggle&lt;/button&gt;<br/>      &lt;p&gt;{value.toString()}&lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="1b92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在组件中使用了<code class="fe ms mt mu mj b">useToggle</code>钩子。</p><p id="0b11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要一个参数作为初始值。</p><p id="fc2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个数组，其值作为<code class="fe ms mt mu mj b">value</code>变量。</p><p id="1a4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">toggle</code>是切换<code class="fe ms mt mu mj b">value</code>的功能。</p><p id="4847" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有更多的钩子来帮助我们。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/680b4ee21442b0b599a6099262b98dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T-9D0pcp-ReyXI8R"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com/@ravi_roshan_inc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ravi Roshan </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="bc7b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="d757" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Pirate 和 react-powerhooks 都为我们提供了很多辅助钩子。</p></div></div>    
</body>
</html>