<html>
<head>
<title>Python, for Experienced Programmers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python，面向有经验的程序员</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/python-for-experienced-programmers-a2ee334ce62f?source=collection_archive---------1-----------------------#2020-07-09">https://blog.devgenius.io/python-for-experienced-programmers-a2ee334ce62f?source=collection_archive---------1-----------------------#2020-07-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d762" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">开始使用 Python 所需要知道的一切</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/30dbfe15ccf4951d8fda4f7a5aa52eac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HTQAT6waFgvLXvyyR_XOxQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">蟒蛇标志由<a class="ae lb" href="https://en.wikipedia.org/wiki/File:Python-logo-notext.svg" rel="noopener ugc nofollow" target="_blank">弗罗伊</a></figcaption></figure><p id="74bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，我将全面概述 Python 编程。目的是通过提供足够的信息让有经验的程序员尽快熟悉<em class="lc">的工作。</em></p><p id="8e33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您已经安装了 Python，请随意跳到“Python 基础知识”一节。</p></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="e1ca" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">安装 Python</h1><p id="9776" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">Python 的最新主要版本是 Python 3。python 2<a class="ae lb" href="https://www.python.org/doc/sunset-python-2/" rel="noopener ugc nofollow" target="_blank">不再支持</a>，即使它预装在一些操作系统上，你也不应该使用它。</p><h2 id="fabe" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">Linux 操作系统</h2><p id="3244" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">几乎所有的 Linux 发行版都预装了 Python。请确保您使用的是 Python 3。有些发行版同时带有 Python 2 和 Python 3，你可能需要输入<code class="fe mz na nb nc b">python3</code>来使用那个版本。</p><h2 id="2e4f" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">马科斯</h2><p id="4c7b" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">从 Catalina 开始，Python 成为 macOS 开发工具的一部分，这是我推荐的快速安装方式。如果您还没有安装开发工具，请键入:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="f951" class="mn ll iq nc b gy nh ni l nj nk">python3 --version</span></pre><p id="d089" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将打印您已安装的 Python 版本，或者邀请您安装开发人员工具:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/70985e7a70eb3726ec49f5830a5edeb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*3xQ2T4zvTfOlGnOfOMPH7w.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Python 3 安装对话框</figcaption></figure><p id="f01b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将把 Python 3 安装到<code class="fe mz na nb nc b">/Applications/Xcode.app/Contents/Developer/Library/Frameworks</code>中。</p><p id="5d1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除了本教程的范围之外，还有许多其他方法可以得到一个工作的 Python，但是如果你想更深入，请看这里的<a class="ae lb" href="https://opensource.com/article/19/5/python-3-default-mac#what-to-do" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="df76" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">Windows 操作系统</h2><p id="25ed" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">在 Windows 上安装 Python 甚至更容易，因为它现在可以在 Windows 商店上获得。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nm"><img src="../Images/84b53d0a7e0e60d9a88ac9a3dc0c39c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vmQIVJQ489GCAjYJ_E1hSQ.png"/></div></div></figure><p id="2130" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这会将 Python 安装到<code class="fe mz na nb nc b">c:\Users\&lt;yourname&gt;\AppData\Local\Microsoft\WindowsApps</code>中，您可以将它添加到您的 Windows PATH 环境变量中。或者，可以在开始菜单中找到 Python 的快捷方式。</p><h2 id="fd76" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">移动设备</h2><p id="f612" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">Python 也可以在大多数移动设备上使用。在 iOS 上我强烈推荐<a class="ae lb" href="http://omz-software.com/pythonista/" rel="noopener ugc nofollow" target="_blank"> Pythonista </a>。在 Android 上<a class="ae lb" href="https://play.google.com/store/apps/details?id=ru.iiec.pydroid3" rel="noopener ugc nofollow" target="_blank"> PyDroid 3 </a>值得调查。</p><h2 id="7886" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">网</h2><p id="02f0" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">不想装什么？好吧…用<a class="ae lb" href="https://repl.it/languages/python3" rel="noopener ugc nofollow" target="_blank"> repl.it </a>在你的浏览器中运行 Python。</p></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="99c1" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">Python 基础</h1><h2 id="9bce" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">你好世界</h2><p id="45ea" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">先说经典的《Hello World》节目。我们将通过打开一个交互式 python 解释器来做到这一点。我假设您的 Python 命令名为<code class="fe mz na nb nc b">python3</code>，那么我们的步骤将如下所示:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="f062" class="mn ll iq nc b gy nh ni l nj nk"><strong class="nc ir">$</strong> python3<br/>Python 3.7.3 (default, Apr 24 2020, 18:51:23)<br/>[Clang 11.0.3 (clang-1103.0.32.62)] on darwin<br/>Type "help", "copyright", "credits" or "license" for more information.<br/>&gt;&gt;&gt; print("Hello World")<br/>Hello World</span></pre><p id="b815" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里发生了很多事情，所以让我们来分析一下。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="f3bd" class="mn ll iq nc b gy nh ni l nj nk">$ python3</span></pre><p id="b4eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mz na nb nc b">$</code>是你的 shell 提示。根据你的平台不同，这可能是<code class="fe mz na nb nc b">C:\&gt;</code>或者别的什么。</p><p id="1e72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mz na nb nc b">python3</code>是调用交互式 python 解释器的命令。</p><p id="a9c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mz na nb nc b">&gt;&gt;&gt;</code>是 Python 的主要提示。当按下回车键<em class="lc">时，这里输入的任何内容都将被解释器评估，除非</em>输入的语句是代码块的开始(见下文)。</p><p id="16c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mz na nb nc b">print("Hello World")</code>是我们实际打印“Hello World”的 Python 代码。这将调用内置函数<code class="fe mz na nb nc b">print()</code>，并将<code class="fe mz na nb nc b">"Hello World"</code>作为参数传递。</p><p id="47f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们按回车键时，文本<code class="fe mz na nb nc b">Hello World</code>被返回。</p><h2 id="ce52" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">使用解释器</h2><p id="960a" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">Python 的主要优势之一是它能够动态操作，并在运行时检查或修改程序的许多方面。这与编译语言不同，在编译语言中，在程序编译后，对可以改变或自省的内容通常有限制。</p><p id="9aeb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，如果我们键入:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="b71e" class="mn ll iq nc b gy nh ni l nj nk">&gt;&gt;&gt; help(print)</span></pre><p id="8a02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将获得<code class="fe mz na nb nc b">print</code>功能的帮助(或<a class="ae lb" href="https://www.python.org/dev/peps/pep-0257/" rel="noopener ugc nofollow" target="_blank">文档字符串</a>)。</p><p id="e70f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以使用<code class="fe mz na nb nc b">type()</code>函数在运行时找出<em class="lc">类型</em>信息。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="34db" class="mn ll iq nc b gy nh ni l nj nk">&gt;&gt;&gt; type(print)<br/>&lt;class 'builtin_function_or_method'&gt;</span></pre><p id="4d92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这告诉我们<code class="fe mz na nb nc b">print</code>是类<code class="fe mz na nb nc b">builtin_function_or_method</code>的一个实例。我们可以通过以下内容来证实这一点:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="cc12" class="mn ll iq nc b gy nh ni l nj nk">&gt;&gt;&gt; help(type(print))</span></pre><p id="68f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尝试使用<code class="fe mz na nb nc b">help</code>和<code class="fe mz na nb nc b">type</code>是学习 Python 如何工作的好方法。</p><h2 id="d072" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">运行脚本</h2><p id="83c8" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">在解释器中直接输入命令对于实验是有用的，但是这不是运行生产代码的通常方式。相反，我们将代码保存到一个文本文件中，并将文件路径作为参数传递给解释器。</p><p id="b2e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们创建一个名为<code class="fe mz na nb nc b">hello.py</code>的文件，并将我们的语句<code class="fe mz na nb nc b">print("Hello World")</code>添加到文件的顶部。</p><p id="7123" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在保存文件并使用以下命令运行脚本:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="62c4" class="mn ll iq nc b gy nh ni l nj nk">$ python3 hello.py</span></pre><p id="3428" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将在控制台上打印“Hello World”。</p></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="e5a4" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">Python 语言</h1><h2 id="d2e6" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">评论</h2><p id="bafb" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">在 Python 中,<code class="fe mz na nb nc b">#</code>符号用于表示注释:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="41bd" class="mn ll iq nc b gy nh ni l nj nk"># This is a Python comment</span></pre><p id="9447" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从现在开始，注释将用于注释代码片段。</p><p id="5dd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">数字类型</strong></p><p id="245a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">主要的数字类型是<code class="fe mz na nb nc b">int</code>和<code class="fe mz na nb nc b">float</code>，前者可以保存任意长度的有符号整数，后者通常使用 C <a class="ae lb" href="https://floating-point-gui.de/formats/fp/" rel="noopener ugc nofollow" target="_blank"> IEEE 754 64 位</a>T2 在内部实现。</p><p id="5afa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，在 Python 中，我们可以写:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="002f" class="mn ll iq nc b gy nh ni l nj nk">&gt;&gt;&gt; x = pow(2, 255)   # generate a 256-bit int and assign to x<br/>&gt;&gt;&gt; x.bit_length()    # display number of bits needed to represent x<br/>256</span></pre><p id="8abc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这不同于 C 风格的语言，在 C 风格的语言中，整数类型具有固定的大小(32 位无符号、64 位等)。</p><p id="9e70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">罗列了</strong></p><p id="086c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Python 列表是可变序列。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="6e3f" class="mn ll iq nc b gy nh ni l nj nk">&gt;&gt;&gt; x = [1, 2, 3, 4]   # create a list and assign to x<br/>&gt;&gt;&gt; y = x[0]           # retrieve the zeroth element and assign to y<br/>&gt;&gt;&gt; x[1] = y           # lists are mutable so we can modify elements<br/>&gt;&gt;&gt; x                  # show the current value of x<br/>[1, 1, 3, 4]</span></pre><p id="1b82" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">列表有一些有用的内置操作，例如:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="7968" class="mn ll iq nc b gy nh ni l nj nk">z = x + [y]            # concatenate two lists and assign to z<br/>del x[0]               # delete the zeroth element in x<br/>len(x)                 # return the number of elements in x<br/>x.sort()               # sort the elements in x</span></pre><p id="8615" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">列表可以包含任何类型的项目，甚至是多种类型的组合:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="5f41" class="mn ll iq nc b gy nh ni l nj nk">x = [[1, 2], [1, 1]]  # list of lists<br/>x = [2.1, [1, 1]]     # list containing a float and a list</span></pre><p id="be19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">琴弦</strong></p><p id="691b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一方面，字符串是不可变的。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="d56f" class="mn ll iq nc b gy nh ni l nj nk">"Foo"             # double quoted string<br/>'Foo'             # single quoted string (equivalent)<br/>"Hello 'Foo'"     # nested quotes, no need to escape<br/>"""               # triple quotes for multi-line string<br/>Multi-line<br/>"""<br/>a = 'Foo'         # assign 'Foo' to variable a<br/>a[1] = 'f'        # a is immutable, will throw a TypeError exception</span></pre><p id="8323" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">元组和范围</strong></p><p id="26a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">元组和范围也是不可变的序列类型。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="0ef9" class="mn ll iq nc b gy nh ni l nj nk">x = (1, 2, 3, 4)   # a tuple is an immutable list<br/>x[1] = 3           # this will throw a TypeError exception<br/>y = list(x)        # create a new list from a tuple<br/>x = range(10)      # create a range from 0 to 10<br/>y = x[5]           # assign the 5th element in the range to y</span></pre><p id="e2d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">切片</strong></p><p id="cc4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">字符串、列表、元组和范围都是 Python <em class="lc">序列</em>的例子。它们的一个共同点是可以用 Python 的<em class="lc">切片</em>操作符来访问。切片具有以下语法:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="81b6" class="mn ll iq nc b gy nh ni l nj nk">sequence[<em class="lc">start</em>:<em class="lc">stop</em>:<em class="lc">step</em>]</span></pre><p id="9c1c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mz na nb nc b">start</code>是切片的起始索引，<code class="fe mz na nb nc b">stop</code>是结束索引，<code class="fe mz na nb nc b">step</code>是步长。也可以使用负索引，因此<code class="fe mz na nb nc b">-1</code>的<code class="fe mz na nb nc b">stop</code>将是<code class="fe mz na nb nc b">N-1th</code>元素，其中<code class="fe mz na nb nc b">N</code>是元素的数量。默认分别为<code class="fe mz na nb nc b">0</code>、<code class="fe mz na nb nc b">N</code>和<code class="fe mz na nb nc b">1</code>。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="da2b" class="mn ll iq nc b gy nh ni l nj nk">x = 'Hello World'       # assign the string Hello World to x<br/>y = x[:5]               # slice from the zeroth to 5th element<br/>y                       # y is now 'Hello'<br/>y = x[4:-3]             # y is now 'o Wo'<br/>y = x[::-1]             # -1 steps backwards, y is now 'dlroW olleH'</span></pre><p id="a45c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">字典</strong></p><p id="f351" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Python 字典是可变的数据结构，提供了键/值对的映射。字典是用花括号语法定义的。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="40ed" class="mn ll iq nc b gy nh ni l nj nk">a = {'a':1, 'b':2}     # define a dictionary with keys 'a' and 'b'<br/>b = a['a']             # retrieves the value at key 'a'<br/>a['a'] = 3             # assigns a new value to the key at 'a'<br/>dict([['a', 1], ['b', 2]]) # create a dictionary from list of lists</span></pre><p id="e537" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lb" href="https://mail.python.org/pipermail/python-dev/2017-December/151283.html" rel="noopener ugc nofollow" target="_blank">从 Python 3.7 开始</a>Python 中的字典保证是插入排序的。</p><h2 id="12bb" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">代码块</h2><p id="bf6b" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">在“C 风格”语言中，代码块用花括号<code class="fe mz na nb nc b">{...}</code>表示。在 Python 中，我们使用冒号来引入一个代码块，该代码块中的所有代码都必须缩进至少一个空白字符。</p><p id="0ae8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">条件执行</strong></p><p id="f86e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像大多数语言一样，Python 使用<code class="fe mz na nb nc b">if</code> / <code class="fe mz na nb nc b">else</code>结构进行条件分支。这里我们使用 Python 布尔类型进行分支，它可以有值<code class="fe mz na nb nc b">True</code>或<code class="fe mz na nb nc b">False</code>。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="5d17" class="mn ll iq nc b gy nh ni l nj nk">if True:               # valid code block, code indented by 4 spaces<br/>    print("Here")<br/>else:<br/>    pass               # pass statement does nothing<br/>if True:<br/>   print("Here")       # error: inconsistent indentation in block</span></pre><p id="fd61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">循环</strong></p><p id="812c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，与许多语言类似，Python 支持“for”循环。然而，以下习语<em class="lc">不受</em>支持:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="a6bb" class="mn ll iq nc b gy nh ni l nj nk">for (int i = 0; i &lt; 10; ++i) {   // do something }</span></pre><p id="bfe7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这可以用一个范围迭代器来代替:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="e4f6" class="mn ll iq nc b gy nh ni l nj nk">for i in range(10):<br/>    # do something</span></pre><p id="a080" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们想要迭代一个序列的元素，同时维护一个索引计数，我们可以使用<code class="fe mz na nb nc b">enumerate()</code>函数:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="c295" class="mn ll iq nc b gy nh ni l nj nk">for i,v in enumerate((1,2,3,4,5)): # enumerate elements in tuple<br/>    if i % 2 == 0:                 # continue loop for even indexes<br/>       continue<strong class="nc ir"><br/>    </strong>print(v)                       # otherwise print the value</span></pre><p id="29ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在 Python 中，如果一个类型(例如一个范围)可以被迭代，它被称为<em class="lc">可迭代</em>。</p><p id="8192" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">功能</strong></p><p id="b2d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mz na nb nc b">def</code>关键字在 Python 中用于开始函数定义。然后，它必须后跟一个函数名和零个或多个括号中的参数名。</p><p id="6f26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与 C 风格语言不同，我们不需要声明函数参数的类型，也不需要声明返回类型。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="c9f9" class="mn ll iq nc b gy nh ni l nj nk">def add(x, y):         # define a function that takes two arguments<br/>    return x + y</span><span id="f8d1" class="mn ll iq nc b gy nn ni l nj nk">add('Hello', 'World')  # returns 'HelloWorld'<br/>add([1, 2], [3, 4])    # returns [1, 2, 3, 4]<br/>add(1, 2)              # returns 3</span></pre><p id="96d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">异常情况</strong></p><p id="577b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像许多现代语言一样，Python 支持异常。</p><p id="f5b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要引发异常，我们可以写:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="b7d3" class="mn ll iq nc b gy nh ni l nj nk">raise Exception("Error message")</span></pre><p id="dd72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将导致以下内容打印到控制台:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="d95c" class="mn ll iq nc b gy nh ni l nj nk">Traceback (most recent call last):<br/>File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>Exception: Error message</span></pre><p id="a358" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了处理异常，我们使用了一个<code class="fe mz na nb nc b">try</code> / <code class="fe mz na nb nc b">except</code>组合:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="c43f" class="mn ll iq nc b gy nh ni l nj nk">try:                                      # try block<br/>    raise Exception("Error message")      # raise an exception<br/>except Exception as e:                    # catch the exception<br/>    print(e)                              # print the exception</span></pre><p id="7477" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将打印“错误信息”。</p><p id="2e18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通常例外会比<code class="fe mz na nb nc b">Exception</code>更具体。更多详情见<a class="ae lb" href="https://docs.python.org/3/tutorial/errors.html" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><h2 id="7cb9" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">对象和类</h2><p id="e8f4" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">Python 中的一切都是对象。</p><p id="20b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，如果我们使用前面介绍的<code class="fe mz na nb nc b">type()</code>函数，我们可以看到:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="0142" class="mn ll iq nc b gy nh ni l nj nk">&gt;&gt;&gt; type('hello')<br/>&lt;class 'str'&gt;</span></pre><p id="6ae1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以<code class="fe mz na nb nc b">hello</code>是一个<code class="fe mz na nb nc b">str</code>类的实例。我们可以使用内置的<code class="fe mz na nb nc b">dir()</code>函数来列出一个类的方法和属性:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="e2d8" class="mn ll iq nc b gy nh ni l nj nk">&gt;&gt;&gt; dir(str)</span></pre><p id="5c7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以看到<code class="fe mz na nb nc b">str</code>有大量的方法。例如，我们可以通过调用它的<code class="fe mz na nb nc b">capitalise()</code>方法来大写一个字符串:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="0f14" class="mn ll iq nc b gy nh ni l nj nk">'hello'.capitalize()    # this will return the new string 'Hello'</span></pre><p id="144e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">定义类别</strong></p><p id="64c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以用<code class="fe mz na nb nc b">class</code>关键字定义新的类。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="10cc" class="mn ll iq nc b gy nh ni l nj nk">class A:               # define a class called A<br/>    pass               # do nothing</span><span id="b264" class="mn ll iq nc b gy nn ni l nj nk">a = A()                # create an instance of A and assign to a</span></pre><p id="4f00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成员变量(或者 Python 中的<em class="lc">属性</em>)可以通过在<code class="fe mz na nb nc b">class</code>范围赋值来添加。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="7eb6" class="mn ll iq nc b gy nh ni l nj nk">class A:<br/>    x = 2              # create class attribute x</span><span id="8640" class="mn ll iq nc b gy nn ni l nj nk">y = A.x                # y is now 2<br/>B = A                  # create a reference to A and assign to B<br/>B.z = 3                # class attributes can be added dynamically<br/>print(A.z)             # A.z is now 3</span></pre><p id="d85e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以通过在<code class="fe mz na nb nc b">class</code>范围定义函数来添加方法。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="0136" class="mn ll iq nc b gy nh ni l nj nk">class Counter:<br/>    count = 0          # class attribute count<br/>    def increment():   # define method to increment count<br/>        count += 1<br/>        <br/>Counter.increment()    # call the method increment(), count is now 1<br/>counter = Counter()    # create instance of Counter<br/>counter.count          # class attribute... count is still 1</span></pre><p id="7d3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，我们所有的变量和方法都在<code class="fe mz na nb nc b">class</code>范围内运行，但是这通常不是我们想要的。为了定义<em class="lc">实例属性</em>，我们向方法传递一个<code class="fe mz na nb nc b">self</code>参数。<code class="fe mz na nb nc b">self</code>对象是指<em class="lc">类实例</em>。</p><p id="647c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还将使用一个特殊的方法，<code class="fe mz na nb nc b">__init__</code>，当创建一个对象时会调用这个方法。类似于在其他语言中如何自动调用<em class="lc">构造函数</em>。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="e35c" class="mn ll iq nc b gy nh ni l nj nk">class Counter:<br/>     def __init__(self):   # define __init__ method passing self<br/>         self.count = 0    # set instance attribute count to 0<br/>     def increment(self):  # define increment method passing self<br/>         self.count += 1   # add 1 to instance attribute count<br/>        <br/>c1 = Counter()             # create Counter instance<br/>c2 = Counter()             # create another instance<br/>c1.increment()             # increment counter for c1<br/>c1.count                   # count is 1<br/>c2.count                   # count is 0</span></pre><p id="5e34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">继承</strong></p><p id="7373" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与其他语言类似，Python 类通过将父类放在子类旁边来支持继承。</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="c519" class="mn ll iq nc b gy nh ni l nj nk">class Parent:               # define a parent class<br/>     def test(self):        # define an instance method<br/>         print("test")</span><span id="74e0" class="mn ll iq nc b gy nn ni l nj nk">class Child(Parent):        # Child inherits from Parent<br/>     pass</span><span id="4078" class="mn ll iq nc b gy nn ni l nj nk">c = Child()                 # Create an instance of Child<br/>c.test()                    # Call inherited test() method</span></pre></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="4318" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">模块和包</h1><h2 id="c85f" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">Python 模块</h2><p id="c061" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">大多数语言都允许将可重用的代码块打包，供其他代码使用。Python 通过模块支持这一点。</p><p id="f5d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在 Python 中，模块只是一个导入到另一个 Python 文件中的 Python 文件。例如，如果我们创建一个名为<code class="fe mz na nb nc b">mymodule.py</code>的文件并添加一个测试函数:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="d7b9" class="mn ll iq nc b gy nh ni l nj nk">def test():<br/>    print("test")</span></pre><p id="1cb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在创建另一个名为 main.py 的文件:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="b2a4" class="mn ll iq nc b gy nh ni l nj nk">import mymodule          # import the module just created</span><span id="6f22" class="mn ll iq nc b gy nn ni l nj nk">mymodule.test()          # call the test function from mymodule</span></pre><p id="555f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们现在用<code class="fe mz na nb nc b">python3 main.py</code>运行<code class="fe mz na nb nc b">main.py</code>，它会在控制台上打印“测试”。我们也可以写:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="e028" class="mn ll iq nc b gy nh ni l nj nk">from mymodule import test # only import the test function</span><span id="b189" class="mn ll iq nc b gy nn ni l nj nk">test()                    # call the test function from mymodule</span></pre><h2 id="a662" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">内置模块</h2><p id="6e96" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">Python 附带了一个大型的内置模块库，称为<a class="ae lb" href="https://docs.python.org/3/library/" rel="noopener ugc nofollow" target="_blank"> Python 标准库</a>。一些常用的模块包括:</p><ul class=""><li id="9dec" class="no np iq jp b jq jr ju jv jy nq kc nr kg ns kk nt nu nv nw bi translated"><a class="ae lb" href="https://docs.python.org/3/library/math.html" rel="noopener ugc nofollow" target="_blank">数学</a>为数学函数</li><li id="2424" class="no np iq jp b jq nx ju ny jy nz kc oa kg ob kk nt nu nv nw bi translated"><a class="ae lb" href="https://docs.python.org/3/library/csv.html" rel="noopener ugc nofollow" target="_blank"> csv </a>用于 csv 读写</li><li id="b838" class="no np iq jp b jq nx ju ny jy nz kc oa kg ob kk nt nu nv nw bi translated">系统相关功能的<a class="ae lb" href="https://docs.python.org/3/library/sys.html" rel="noopener ugc nofollow" target="_blank"> sys </a>和<a class="ae lb" href="https://docs.python.org/3/library/os.html" rel="noopener ugc nofollow" target="_blank"> os </a></li><li id="35a6" class="no np iq jp b jq nx ju ny jy nz kc oa kg ob kk nt nu nv nw bi translated"><a class="ae lb" href="https://docs.python.org/3/library/urllib.html" rel="noopener ugc nofollow" target="_blank"> urllib </a>用于处理 URL</li></ul><h2 id="0aaa" class="mn ll iq bd lm mo mp dn lq mq mr dp lu jy ms mt ly kc mu mv mc kg mw mx mg my bi translated">包装</h2><p id="8f90" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">Python 包是分发大块代码的一种方式。因此，一个包将包含 1 个或多个模块。</p><p id="1757" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了创建一个包，我们创建一个与我们的包同名的目录，并在目录中创建一个空的<code class="fe mz na nb nc b">__init__.py</code>文件。然后，我们在目录中添加我们想要包含的任何模块。结果应该是这样的:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="f71b" class="mn ll iq nc b gy nh ni l nj nk">mypackage<br/>├── __init__.py<br/>├── module1.py<br/>└── module2.py</span></pre><p id="1486" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们可以像这样使用这个包:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="76a1" class="mn ll iq nc b gy nh ni l nj nk">import mypackage              # import the package<br/>mypackage.module1.func()      # call func from module1 in mypackage</span><span id="42de" class="mn ll iq nc b gy nn ni l nj nk">from mypackage import module2 # import module 2 from mypackage<br/>module2.func()                # call func from module 2</span></pre><p id="ea26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有许多有用的 Python 包可用，从机器学习库到图像处理，再到 web 应用程序框架。其中许多可以从<a class="ae lb" href="https://pypi.org" rel="noopener ugc nofollow" target="_blank"> Python 包索引</a>中获得。</p></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="1a13" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">放在一起:读取一个 JSON 文件</h1><p id="aa2b" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">在任何语言中，一个非常常见的任务是读取、编辑和写入文件。作为一个快速演示，我们将编辑一个 JSON 文件。</p><p id="7cbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先从<a class="ae lb" href="https://gist.github.com/jamiebullock/eeeb4c902f298e6dd2d7b293f92305b4" rel="noopener ugc nofollow" target="_blank">这里</a>下载我们的测试文件。现在，我们的剧本:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="9371" class="mn ll iq nc b gy nh ni l nj nk">import json                       # import the json module</span><span id="5b74" class="mn ll iq nc b gy nn ni l nj nk">f = open('fake_fruit.json', 'w')  # use open() to open the file<br/>data = json.load(f)               # call json.load() to load as json</span></pre><p id="348f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mz na nb nc b">data</code>现在是包含 JSON 数据的 Python 字典，所以<code class="fe mz na nb nc b">print(data)</code>会给出:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="ba1d" class="mn ll iq nc b gy nh ni l nj nk">{'Fruit': [{'Name': 'Banana', 'Colour': 'Yellow'}, {'Name': 'Apple', 'Colour': 'Green'}, {'Name': 'Orange', 'Colour': 'Orange'}]}</span></pre><p id="ddd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在可以用以下命令修改和写回文件:</p><pre class="km kn ko kp gt nd nc ne nf aw ng bi"><span id="4835" class="mn ll iq nc b gy nh ni l nj nk">data['Fruit'][1]['Name'] = 'Wrong' # write 'Wrong' to 'Name' field<br/>json.dump(data, f, indent=4)       # write JSON back to file<br/>f.close()                          # close the file</span></pre><p id="8a7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你检查 JSON 文件，你会看到，'苹果'已被'错误'取代。</p></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="3146" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">进一步阅读</h1><p id="2091" class="pw-post-body-paragraph jn jo iq jp b jq mi js jt ju mj jw jx jy mk ka kb kc ml ke kf kg mm ki kj kk ij bi translated">本文的目的是让有经验的程序员进入 Python 的世界。同时，我们可以利用这里所解释的内容做很多事情，这里有一些链接供那些希望更进一步的人使用:</p><ul class=""><li id="d1cb" class="no np iq jp b jq jr ju jv jy nq kc nr kg ns kk nt nu nv nw bi translated">官方 Python 网站令人惊叹</li><li id="454b" class="no np iq jp b jq nx ju ny jy nz kc oa kg ob kk nt nu nv nw bi translated"><a class="ae lb" href="https://ipython.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> ipython </a>是一个必不可少的 Python shell 来代替默认的</li><li id="1696" class="no np iq jp b jq nx ju ny jy nz kc oa kg ob kk nt nu nv nw bi translated"><a class="ae lb" href="https://flask.palletsprojects.com/en/1.1.x/" rel="noopener ugc nofollow" target="_blank"> Flask </a>是一个很棒的 Python web 框架</li><li id="8ba3" class="no np iq jp b jq nx ju ny jy nz kc oa kg ob kk nt nu nv nw bi translated">一本很棒的书是马克·卢茨和大卫·阿舍尔写的《学习 Python》</li></ul></div></div>    
</body>
</html>