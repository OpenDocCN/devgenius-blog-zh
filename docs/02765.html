<html>
<head>
<title>D3.js — What’s new in Version 6?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">D3 . js——版本6中有什么新内容？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/d3-js-whats-new-in-version-6-5f45b00a85cb?source=collection_archive---------2-----------------------#2020-08-28">https://blog.devgenius.io/d3-js-whats-new-in-version-6-5f45b00a85cb?source=collection_archive---------2-----------------------#2020-08-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/950b51064b344fb96ffb61f67ef7c175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_yI8LsuDmVR-6BwB"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">马库斯·温克勒在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="ef0f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript中的数据驱动文档，简称D3.js，是一个非常受欢迎的库，可以使用<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" rel="noopener ugc nofollow" target="_blank"> canvas </a>或<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/SVG" rel="noopener ugc nofollow" target="_blank"> SVG </a>为你的网页添加很酷的数据可视化。这是一个非常强大的工具，可以做任何你可以想象的事情，比如绘制图表或可视化数据。甚至有一些高级接口在D3的低级控制之上，例如<a class="ae jz" href="https://vega.github.io/" rel="noopener ugc nofollow" target="_blank"> Vega，它使用自己特定格式的JSON来更容易地创建视觉效果</a>，以及<a class="ae jz" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank"> Altair，它是一个库</a>，允许你用Python创建Vega视觉效果。</p><p id="c55e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">昨天，D3发布了一个新的重大更新，版本6.0。在这次更新中有大量的新特性，其中许多是不向后兼容的！我在这里描述其中的几个。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="e19b" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">ECMA剧本</h1><p id="ca3d" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">D3的最新版本最终符合ES6/ES2015标准！这意味着为了浏览器的向后兼容性，它将需要一个<a class="ae jz" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> transpiler </a>。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="1f0b" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">再见，D3 .事件</h1><p id="0da5" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">在D3的以前版本中，为了处理任何DOM操作，事件监听器必须与一个全局对象<code class="fe mi mj mk ml b">d3.event</code>对话，这个全局对象是一个静态字段，它返回关于当前被调用事件的所有必要信息。这需要一点时间来适应，并且在DOM事件和D3之间增加了一层不必要的隔离。</p><p id="6fbf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在D3 6中，D3.event已被完全删除。所有事件监听器现在都接收到<em class="mm">事件本身— </em>一个更加直观和干净的实现，感觉更像普通的JS。</p><p id="8e54" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#events" rel="noopener ugc nofollow" target="_blank">受此影响的听众有</a><code class="fe mi mj mk ml b">d3.selection</code><code class="fe mi mj mk ml b">d3.transition</code><code class="fe mi mj mk ml b">d3.brush</code><code class="fe mi mj mk ml b">d3.drag</code><code class="fe mi mj mk ml b">d3.zoom</code>。传递给回调函数的第一个参数现在是事件对象本身。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="0211" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">统一点击</h1><p id="eb00" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">D3允许你读取光标输入的各种方式(之前的<code class="fe mi mj mk ml b">d3.mouse</code>、<code class="fe mi mj mk ml b">d3.touch</code>、<code class="fe mi mj mk ml b">d3.touches</code>和<code class="fe mi mj mk ml b">d3.clientPoint</code>，)已经被<a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#pointer" rel="noopener ugc nofollow" target="_blank">整合成一个单一的便捷功能- </a>、<a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#pointer" rel="noopener ugc nofollow" target="_blank">(以及多点触摸的</a>、<code class="fe mi mj mk ml b"><a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#pointer" rel="noopener ugc nofollow" target="_blank">d3.pointers</a></code>、<a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#pointer" rel="noopener ugc nofollow" target="_blank">)。)</a></p><p id="3aef" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">熟悉的功能的另一个更加简化和强大的实现。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="9381" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">更快的三角测量</h1><p id="411c" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated"><a class="ae jz" href="https://en.wikipedia.org/wiki/Voronoi_diagram" rel="noopener ugc nofollow" target="_blank">为了将一个平面分割成最接近其上每个物体的区域</a>，最常用的有效算法是一种叫做财富算法的<a class="ae jz" href="https://en.wikipedia.org/wiki/Fortune's_algorithm" rel="noopener ugc nofollow" target="_blank">“扫描线”技术。</a></p><p id="0350" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">例如，这种技术在地理图中非常有用。它们对于实际的UI目的也很方便，例如使悬停在图中的点上以获得更多信息变得容易(因为voronoi分区是图形的直观明显的可视部分)或者甚至是在线图中放置标签(使用voronoi分区将确保各种标签彼此不受阻碍)。)</p><p id="09d4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在D3的旧版本中，有一个名为<code class="fe mi mj mk ml b">d3-voronoi</code>的内置api来完成这个任务。<a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#delaunay" rel="noopener ugc nofollow" target="_blank">在D3 6中，已经被</a> <code class="fe mi mj mk ml b"><a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#delaunay" rel="noopener ugc nofollow" target="_blank">d3-delaunay</a></code> <a class="ae jz" href="https://observablehq.com/d/f91cccf0cad5e9cb#delaunay" rel="noopener ugc nofollow" target="_blank"> </a>取代——一种计算Voronoi划分的优化算法，比旧版本快5–10倍！</p><p id="d82a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">奇妙的新D3文档包括了对其工作原理的可视化解释，我强烈推荐你去看看。这些可视化的例子不仅使理解D3下涉及的更复杂的主题变得容易，它们也是D3如何简单有效地将数据可视化付诸实践的完美例子！</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="5cc7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在新版本中有更多的功能，但我希望这是对新D3更新的一个很好的介绍！</p><div class="mn mo gp gr mp mq"><a href="https://observablehq.com/d/f91cccf0cad5e9cb" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">D3 6.0迁移指南</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">D3 6.0迁移指南刷、拖、缩放事件新的事件系统适用于所有的监听器，不仅仅是在…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">observablehq.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jt mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a href="https://github.com/d3/d3/blob/master/CHANGES.md" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">d3/d3</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">2020年8月26日上映。本文件仅涵盖主要变更。对于小的和补丁的变化，请参阅版本…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">github.com</p></div></div><div class="mz l"><div class="nf l nb nc nd mz ne jt mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a href="https://observablehq.com/@d3/gallery" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">走廊</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">画廊寻找一个好的D3例子？这里有几个(好吧，...)来细读。动画D3的数据连接，插值器，和…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">observablehq.com</p></div></div><div class="mz l"><div class="ng l nb nc nd mz ne jt mq"/></div></div></a></div></div></div>    
</body>
</html>