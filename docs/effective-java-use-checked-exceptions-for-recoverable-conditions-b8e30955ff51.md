# 有效的 Java:对可恢复条件使用检查异常

> 原文：<https://blog.devgenius.io/effective-java-use-checked-exceptions-for-recoverable-conditions-b8e30955ff51?source=collection_archive---------4----------------------->

![](img/6e72ce218121f80851eee1a1a790f907.png)

照片由[维达尔·诺德里-马西森](https://unsplash.com/@vidarnm?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

本章描述了什么时候应该抛出哪种类型的`Throwable`。我们最常接触的两种主要的`Throwable`类型是检查异常和未检查异常。两者之间的主要区别在于，检查的异常是方法签名的一部分，方法签名强制调用方以某种方式处理检查的异常(要么捕捉异常，要么在调用堆栈中向上传递异常)。问题是，什么时候应该使用哪种异常类型。

*有效的 Java* 建议用例分解如下。如果一个异常是可恢复的，你应该使用一个检查过的异常，如果假设某人可以从一个异常中恢复是不合理的，你应该使用一个未检查的异常。我实际上不同意这一点。我相信检查异常会导致代码更难阅读，而且几乎没有任何好处。正是因为这个原因，我从不编写检查异常。虽然使用检查异常来迫使 API 调用方尝试从异常中恢复的概念是有意义的，但对我来说似乎不值得。

有一种类型的`Throwable`我们跳过了，那就是`Error` s。这样做的原因是因为你几乎不应该与`Error` s 交互。根据一个被广泛接受的约定`Error` s 是为 JVM 保留的，以便在真正不可恢复的事情发生时抛出。这意味着你永远不应该捕捉它们(或者它的超类`Throwable`)或者将它们抛出`AssertionError`之外。这扩展到直接从`Throwable`基类扩展。这将像检查异常一样处理，但这不是应该做的事情，无论是从`Exception`还是`RuntimeException`扩展。

最后要记住的是，异常只是普通的类。因此，您可以向异常类添加任意数据和方法。当您想要传递关于异常或抛出异常的对象的状态的附加信息时，这可能非常有用。在处理异常时，您永远不希望强制异常的处理程序尝试解析异常消息以获得所需的信息。

虽然对于何时应该使用检查异常和未检查异常可能会有一些分歧，但在整个代码中保持一致性是至关重要的，这将使代码更易于维护。