<html>
<head>
<title>Public Cloud : First Static Website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">公共云:第一个静态网站</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/public-cloud-first-static-website-7d6f7c6f794?source=collection_archive---------3-----------------------#2021-11-18">https://blog.devgenius.io/public-cloud-first-static-website-7d6f7c6f794?source=collection_archive---------3-----------------------#2021-11-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/5a6d0abb26c531b14cd780b91c4f8983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SGJ_-naAmahSP9VPHb50hw.png"/></div></div></figure><p id="d099" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这篇博客是我们从零开始讨论<strong class="jx io"> Devops </strong>概念的系列文章的一部分，面向的是入门知识有限的读者。从初级初学者的角度概括这个系列的前两个概念。我们将增加其他级别和文章，因为我们建立了这个系列。</p><p id="76ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://amit894.medium.com/ansible-hello-world-8d37627758a9" rel="noopener">T3】ansi bleT5】</a></p><p id="fab0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://amit894.medium.com/ssh-what-not-to-do-92c266ca430f" rel="noopener"> <strong class="jx io">宋承宪</strong> </a></p><h1 id="62ed" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">静态网站</h1><p id="c9db" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">静态网站基本上是一个网页，其内容是固定的，不会根据各种条件而改变，如<em class="lx">认证、用户流量等</em>。这种情况下的动态功能需要在客户端处理，因此这些功能用于非常简单的业务用例。</p><h1 id="af69" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">云存储</h1><p id="5621" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">每个云提供商都有自己的托管产品，有助于存储可在云架构的多种使用情形中使用的内容。</p><ul class=""><li id="99d6" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated"><strong class="jx io"> AWS S3- </strong>亚马逊的简单存储服务用于将各种内容类型存储为桶。使用正确的访问策略，这些桶可以作为静态网站在公共互联网上公开。</li><li id="7226" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated"><strong class="jx io">Azure Storage Account-</strong>Azure Storage Account提供通用的存储容器，可以存储<em class="lx"> Blob、表格、文件</em>等，然后作为简单的静态网站公开。</li><li id="7179" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated"><strong class="jx io">谷歌云存储- </strong>谷歌使用云存储，进而可以存储<em class="lx"> json、html、blob </em>和其他标准二进制/非二进制内容，这些内容可以作为静态网站托管。</li></ul><p id="cdd8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注意</strong> -出于初级水平的目的，我们不会将<strong class="jx io">负载平衡</strong>和<strong class="jx io">证书管理</strong>作为本博客平台模块的一部分</p><h1 id="ed09" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">创建静态网站</h1><p id="474a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">出于学习blob的目的，我们将使用配置管理工具<strong class="jx io"> Terraform </strong>，它是云竞争工具，用于创建和扩展基础架构。有一些工具，如Azure ARM模板、AWS云形成模板，可以独立用于创建相同的模板</p><ul class=""><li id="f99f" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated"><strong class="jx io">安装Terraform — </strong> Terraform可以使用预编译的进行安装，也可以根据本<a class="ae kt" href="https://learn.hashicorp.com/tutorials/terraform/install-cli" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">指南</strong> </a> <strong class="jx io">中给出的源代码进行编译。</strong>安装完成后，运行以下命令验证安装是否成功-</li></ul><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="5e64" class="mv kv in mr b gy mw mx l my mz">terraform -version</span><span id="11e4" class="mv kv in mr b gy na mx l my mz"><strong class="mr io">Output</strong></span><span id="82d4" class="mv kv in mr b gy na mx l my mz">Terraform v1.0.11</span><span id="b08d" class="mv kv in mr b gy na mx l my mz">on darwin_arm64</span></pre><ul class=""><li id="aa84" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated"><strong class="jx io">配置帐户— </strong>为了使用terraform cli创建基础架构，客户端(mac/windows)需要通过给定AWS/Azure/GCP帐户的身份验证。使用以下命令也可以达到同样的效果</li></ul><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="3ae3" class="mv kv in mr b gy mw mx l my mz"><strong class="mr io">Azure</strong></span><span id="012f" class="mv kv in mr b gy na mx l my mz">az login</span><span id="4e94" class="mv kv in mr b gy na mx l my mz"><strong class="mr io">AWS</strong></span><span id="b174" class="mv kv in mr b gy na mx l my mz">aws configure</span><span id="23a7" class="mv kv in mr b gy na mx l my mz"><strong class="mr io">GCP</strong></span><span id="ac62" class="mv kv in mr b gy na mx l my mz">gcloud auth application-default login</span></pre><ul class=""><li id="bb0f" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated"><strong class="jx io">创建模块— </strong> Terraform模块主要由三个主文件<strong class="jx io"> main.tf、variables.tf和output.tf组成</strong><em class="lx">main . TF</em>用于定义需要作为模块的一部分创建的资源和提供者，<em class="lx"> variables.tf </em>用于将变量传递给<em class="lx"> main.tf </em>和<em class="lx"> output.tf </em>用于输出作为模块的一部分创建的资源的名称</li></ul><p id="0053" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> AWS S3示例</strong></p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="nb nc l"/></div></figure><ul class=""><li id="e61b" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated"><strong class="jx io">构建基础设施- </strong>为了创建在最后一步中已经构建好模块的基础设施，我们应该按顺序使用以下terraform步骤。</li></ul><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="4fd4" class="mv kv in mr b gy mw mx l my mz"><strong class="mr io">Initialising Modules</strong></span><span id="0322" class="mv kv in mr b gy na mx l my mz">terraform init</span><span id="3759" class="mv kv in mr b gy na mx l my mz"><strong class="mr io">Planning Modules</strong></span><span id="dc0d" class="mv kv in mr b gy na mx l my mz">terraform plan</span><span id="b8bd" class="mv kv in mr b gy na mx l my mz"><strong class="mr io">Applying Modules</strong></span><span id="f22f" class="mv kv in mr b gy na mx l my mz">terraform apply</span></pre><ul class=""><li id="c8ca" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated"><strong class="jx io">访问静态网站</strong> -发布网站已经创建，可以从Chrome/默认客户端浏览器查看。https://static894.z13.web.core.windows.net/</li></ul><p id="e5e0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">天蓝色斑点示例</strong></p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/e433a83f6d9fb3e1b24a37e09dfa8aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g0DntZ9KR7o7EvTajiiScQ.png"/></div></div></figure><ul class=""><li id="adf6" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated"><strong class="jx io">破坏基础设施- </strong>一旦网站可用，就可以使用删除基础设施</li></ul><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="7f8f" class="mv kv in mr b gy mw mx l my mz"><strong class="mr io">Destroying Modules</strong></span><span id="e652" class="mv kv in mr b gy na mx l my mz">terraform destroy</span></pre><h1 id="d640" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">额外资源</h1><ul class=""><li id="c432" class="ly lz in jx b jy ls kc lt kg ne kk nf ko ng ks md me mf mg bi translated"><strong class="jx io">AWS—</strong><a class="ae kt" href="https://github.com/amit894/multicloud-static-website/tree/main/modules/aws-basic" rel="noopener ugc nofollow" target="_blank">https://github . com/Amit 894/multi cloud-static-website/tree/main/modules/AWS-basic</a></li><li id="16bb" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated"><strong class="jx io">Azure—</strong><a class="ae kt" href="https://github.com/amit894/multicloud-static-website/tree/main/modules/azure-basic" rel="noopener ugc nofollow" target="_blank">https://github . com/Amit 894/multi cloud-static-website/tree/main/modules/Azure-basic</a></li><li id="87d2" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated"><strong class="jx io">GCP—</strong><a class="ae kt" href="https://github.com/amit894/multicloud-static-website/tree/main/modules/gcp-basic" rel="noopener ugc nofollow" target="_blank">https://github . com/Amit 894/multi cloud-static-website/tree/main/modules/GCP-basic</a></li></ul></div></div>    
</body>
</html>