<html>
<head>
<title>Sending Client-side Emails using React and EmailJS Deployed with Netlify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用部署了 Netlify 的 React 和 EmailJS 发送客户端电子邮件</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/sending-client-side-emails-using-react-and-emailjs-deployed-with-netlify-965429e34441?source=collection_archive---------1-----------------------#2022-03-31">https://blog.devgenius.io/sending-client-side-emails-using-react-and-emailjs-deployed-with-netlify-965429e34441?source=collection_archive---------1-----------------------#2022-03-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6d6665bb4bebb50779538c01246d31a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZSdaW8wn6RitSAKe-6Fjxg.png"/></div></div></figure><p id="4584" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我创建我的<a class="ae kt" href="https://www.jeremiahsnidar.com/" rel="noopener ugc nofollow" target="_blank">个人网站</a>时，我想包含一个联系表单，用户可以给我发电子邮件。如果我有一个 Rails API，我可以使用<a class="ae kt" href="https://guides.rubyonrails.org/action_mailer_basics.html" rel="noopener ugc nofollow" target="_blank">动作邮件</a>。到目前为止，我还不需要这个项目的后端，所以我想探索只有前端的选项。我决定用电子邮件。<strong class="jx io">在本教程中，我将解释我如何创建带有电子邮件集成的联系表单。</strong></p><p id="e416" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">EmailJS 有很棒的<a class="ae kt" href="https://www.emailjs.com/docs/tutorial/overview/" rel="noopener ugc nofollow" target="_blank">教程</a>和使用<a class="ae kt" href="https://www.emailjs.com/docs/examples/reactjs/" rel="noopener ugc nofollow" target="_blank"> React </a>的例子。我使用了他们的文档并做了一些调整。<strong class="jx io">在他们的例子中，他们使用了</strong><a class="ae kt" href="https://reactjs.org/docs/hooks-reference.html#useref" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">useRef</strong></a><strong class="jx io">hook 和</strong><a class="ae kt" href="https://www.emailjs.com/docs/sdk/send-form/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">sendForm</strong></a><strong class="jx io">SDK。我喜欢使用 useState 创建受控表单，并发送包含表单数据的对象。<strong class="jx io">本教程使用</strong><a class="ae kt" href="https://reactjs.org/docs/hooks-state.html" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">useState</strong></a><strong class="jx io">和</strong><a class="ae kt" href="https://www.emailjs.com/docs/sdk/send/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">send</strong></a><strong class="jx io">SDK。如果你上过熨斗学校，本教程将遵循你在那里学到的模式。</strong></strong></p><h2 id="2aa8" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">关于客户端电子邮件的说明</h2><p id="aef4" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">在本教程中，我描述了使用。这只对 Github 隐藏了这些信息。<strong class="jx io">当您发送表单</strong>的获取请求时，您的 id 仍然可以通过开发工具访问，这意味着有人可以使用该信息向您发送垃圾邮件。这就是 API 密钥必须存储在后端的原因，也是客户端发邮件很少的原因。我还是用了。环境和。gitignore 来防止有人从 Github 获取这些信息，但是这会给你一种错误的安全感。</p><p id="a2a2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">有办法减轻暴露这些信息的影响，但你无法阻止。只需支付少量费用(每月 5 美元)，你就可以将你的域名列入白名单，使其成为唯一可接受的请求源。你也可以免费使用验证码，这样人们每次都需要填写表单。</strong></p><p id="7ce3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">总结:</p><ol class=""><li id="b6fd" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">创建一个 EmailJS 帐户，并设置电子邮件服务和电子邮件模板。</li><li id="0cae" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">安装节点包并设置环境变量。</li><li id="1bcc" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">使用 state 和 emailjs.send SDK 创建一个受控制的表单来跟踪表单数据，并使用表单数据创建一封电子邮件。</li></ol><h1 id="27ac" class="mg kv in bd kw mh mi mj kz mk ml mm lc mn mo mp lf mq mr ms li mt mu mv ll mw bi translated">设置电子邮件</h1><h2 id="130d" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">注册一个账户</h2><p id="2308" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">首先，我<a class="ae kt" href="https://dashboard.emailjs.com/sign-up" rel="noopener ugc nofollow" target="_blank">在 EmailJS 注册了一个免费账户</a>，并按照他们的<a class="ae kt" href="https://www.emailjs.com/docs/tutorial/overview/" rel="noopener ugc nofollow" target="_blank">教程</a>添加了一个电子邮件服务并创建了一个电子邮件模板。</p><h2 id="ee2e" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">添加电子邮件服务</h2><p id="80ab" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">然后，我通过选择“添加新服务”按钮添加了一个电子邮件服务，并将我的电子邮件添加到帐户中。添加电子邮件后，您将拥有一个与该帐户关联的服务 ID。稍后你们会引用这个。</p><h2 id="d998" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">创建电子邮件模板</h2><figure class="my mz na nb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/6a0c45675fa6fdaca7b41abe4b327077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-LcGJJt_tD_DL7970hZAw.png"/></div></div></figure><p id="10c0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以将{{ }}放在任何输入的周围，这些输入将使用从应用程序中的表单传入的变量来填充。当我发送此对象时:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="2286" class="ku kv in nd b gy nh ni l nj nk">{<br/>  subject: "Example",<br/>  message: "This is an example",<br/>  firstName: "Jeremiah",<br/>  lastName: "Snidar",<br/>  email: "jsnidar@gmail.com"<br/>}</span></pre><p id="880c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它会生成以下电子邮件:</p><figure class="my mz na nb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nl"><img src="../Images/13ee9956c7a39ec0590a642095b6cd1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t_c3a3rGbLSCD8jRnEq3VQ.png"/></div></div></figure><h1 id="5f78" class="mg kv in bd kw mh mi mj kz mk ml mm lc mn mo mp lf mq mr ms li mt mu mv ll mw bi translated">安装软件包和设置环境变量</h1><p id="aa38" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">在我的项目的<code class="fe nm nn no nd b">src</code>文件夹中，我创建了一个<code class="fe nm nn no nd b"><a class="ae kt" href="https://github.com/jsnidar/jeremiah-snidar-portfolio/tree/main/src/contact" rel="noopener ugc nofollow" target="_blank">contact</a></code> <a class="ae kt" href="https://github.com/jsnidar/jeremiah-snidar-portfolio/tree/main/src/contact" rel="noopener ugc nofollow" target="_blank">文件夹</a>来保存与联系人表单相关联的组件，您可以将其用作参考。</p><h2 id="280f" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">安装软件包</h2><p id="379c" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">我开始在应用程序的根文件夹中安装 npm 包。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="9dbe" class="ku kv in nd b gy nh ni l nj nk">$ npm install @emailjs/browser --save</span></pre><h2 id="e9b5" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">创建和隐藏环境变量</h2><p id="3b96" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">为了使用 EmailJS SDK，您必须在 HTTP 请求中发送您的服务 ID、模板 ID 和用户 ID。最佳实践是通过将信息保存在. env 文件中并使用。gitignore 将该文件从 Github 存储库中排除。<strong class="jx io">这并不能在浏览器中隐藏这些信息，所以有人仍然可以在浏览器中窃取这些信息，并使用它们向您发送垃圾邮件。</strong></p><p id="e4dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是如何做到这一点:</p><ol class=""><li id="fb53" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">在根目录中创建一个. env 文件。</li><li id="48f9" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">在您的<code class="fe nm nn no nd b">.gitignore</code>文件中的<code class="fe nm nn no nd b"># misc</code>下添加<code class="fe nm nn no nd b">.env</code>。你这样做的原因是为了确保你的。env 文件不会被推送到 git。如果文件被推送到 git，那么任何有权访问您的回购的人都可以看到这些信息。我建议在向<code class="fe nm nn no nd b">.env</code>文件添加信息之前这样做，以防万一。</li></ol><figure class="my mz na nb gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/784fe0c7a38d3be5ed0896fa67dced45.png" data-original-src="https://miro.medium.com/v2/resize:fit:238/format:webp/1*srkVM0bUIJWdEfTLUNXq6Q.png"/></div></figure><p id="e10e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3.按照<a class="ae kt" href="https://create-react-app.dev/docs/adding-custom-environment-variables/" rel="noopener ugc nofollow" target="_blank"> react 的规范</a>将您的环境变量添加到您的<code class="fe nm nn no nd b">.env</code>文件中。React 要求每个环境变量以<code class="fe nm nn no nd b">REACT_APP_</code>开头。完成后，您的环境变量应该如下所示:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="dfd1" class="ku kv in nd b gy nh ni l nj nk">REACT_APP_EMAILJS_SERVICE_ID="your_service_id_wrapped_in_quotes"</span><span id="4d33" class="ku kv in nd b gy nq ni l nj nk">REACT_APP_EMAILJS_TEMPLATE_ID="your_template_id_wrapped_in_quotes"</span><span id="a9ce" class="ku kv in nd b gy nq ni l nj nk">REACT_APP_EMAILJS_USER_ID=""your_user_id_wrapped_in_quotes""</span></pre><p id="cf19" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">登录您的 EmailJS 帐户。</p><ul class=""><li id="bbb4" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks nr ly lz ma bi translated">您可以通过点击<a class="ae kt" href="https://dashboard.emailjs.com/admin" rel="noopener ugc nofollow" target="_blank">此处</a>找到您的电子邮件服务 ID，或者在登录您的 EmailJS 帐户时点击“电子邮件服务”选项卡。</li><li id="db2b" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks nr ly lz ma bi translated">您可以通过点击此处的<a class="ae kt" href="https://dashboard.emailjs.com/admin/templates" rel="noopener ugc nofollow" target="_blank">或点击电子邮件模板选项卡找到您的模板 ID。</a></li><li id="8b17" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks nr ly lz ma bi translated">要查找您的用户 ID，请点击此处的<a class="ae kt" href="https://dashboard.emailjs.com/admin/integration" rel="noopener ugc nofollow" target="_blank">或转到“集成”选项卡。</a></li></ul><h2 id="0677" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">将环境变量添加到您的版本中</h2><p id="9ea6" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">我使用<a class="ae kt" href="https://www.netlify.com/?utm_source=google&amp;utm_medium=paid_search&amp;utm_campaign=12755510784&amp;adgroup=118788138897&amp;utm_term=netlify&amp;utm_content=kwd-371509120223&amp;creative=514583565825&amp;device=c&amp;matchtype=e&amp;location=9028316&amp;gclid=CjwKCAjwopWSBhB6EiwAjxmqDSL_4U9mw319An5OEV85DrK8S6ucJrTAX7-4544o6Npl7J9CdAnX8BoCS2QQAvD_BwE" rel="noopener ugc nofollow" target="_blank"> Netlify </a>来部署我的应用程序。这里是关于网络生活环境变量的<a class="ae kt" href="https://docs.netlify.com/configure-builds/environment-variables/" rel="noopener ugc nofollow" target="_blank">文档</a>。在 Netlify 中，您可以:</p><ol class=""><li id="dc66" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">点击你的网站</li><li id="c87b" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">选择网站设置</li></ol><figure class="my mz na nb gt jo gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/2f318608b5cdfa91a04e100b05e5436d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*zjircrtk81NeHGZEDk_qwg.png"/></div></figure><p id="80e0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3.从侧栏中选择 build and deploy</p><figure class="my mz na nb gt jo gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/12e6aff0443a05d7d0f526ccf597d82e.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*d_GUJnMLyanIq4zrdrcPvQ.png"/></div></figure><p id="c424" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4.选择环境</p><figure class="my mz na nb gt jo gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/2d44d5407a11d1c1a21cfab5e0b21992.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*t9dSxNoO_wDBNhlW3gB9Qw.png"/></div></figure><p id="5e22" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">5.选择编辑变量</p><figure class="my mz na nb gt jo gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/006a769bd2e93a2cea036bd6815b0ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:292/format:webp/1*3LEkZLFMxK027dF38ebMoQ.png"/></div></figure><p id="5214" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">6.单击新变量。</p><figure class="my mz na nb gt jo gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/481710d8a2b49a7583eceacc37dff133.png" data-original-src="https://miro.medium.com/v2/resize:fit:284/format:webp/1*gaCgYKz1JgybtcFDN6DpEg.png"/></div></figure><p id="31f7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">7.密钥将是变量的名称，并且应该与您的。环境文件。<strong class="jx io">该值将与您的中的值相同。env 文件，只是该字符串没有用引号括起来。完成后点击保存。</strong></p><figure class="my mz na nb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nx"><img src="../Images/02f7be66e215ca5d493bf538595e47c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wH0rJilApwEKzH6y8zld2A.png"/></div></div></figure><h1 id="6a1e" class="mg kv in bd kw mh mi mj kz mk ml mm lc mn mo mp lf mq mr ms li mt mu mv ll mw bi translated">创建受控表单</h1><p id="e6ea" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">我使用 React Bootstrap 创建了我的<a class="ae kt" href="https://github.com/jsnidar/jeremiah-snidar-portfolio/blob/main/src/contact/ContactForm.js" rel="noopener ugc nofollow" target="_blank">表单</a>。</p><figure class="my mz na nb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ny"><img src="../Images/e60eb74272c891614cf6658716efe85c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xfl0I9RYgu5Jp9W5X88QtA.png"/></div></div></figure><h2 id="d35d" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">设置状态和处理更改</h2><p id="1a4b" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">我使用 useState 来跟踪与表单相关的数据。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="b9ab" class="ku kv in nd b gy nh ni l nj nk">const [ formData, setFormData ] = useState({<br/>  email: '', <br/>  firstName: '', <br/>  lastName: '', <br/>  subject: '', <br/>  message: ''<br/>});</span></pre><p id="2481" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我创建了一个函数来处理表单输入的变化。</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="a494" class="ku kv in nd b gy nh ni l nj nk">const handleChange = (e) =&gt; setFormData({...formData, [e.target.id]: e.target.value})</span></pre><p id="c936" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<code class="fe nm nn no nd b">formData</code>对象中有一个与每个键相关联的输入，当用户填写表单时，使用<code class="fe nm nn no nd b">handleChange</code>更新值。我不会深入讨论表单设计的细节，但是如果你愿意的话，你可以参考这里的<a class="ae kt" href="https://github.com/jsnidar/jeremiah-snidar-portfolio/blob/main/src/contact/ContactForm.js" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="4a3b" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">导入电子邮件</h2><p id="e901" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">将电子邮件导入表单文件:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="81d5" class="ku kv in nd b gy nh ni l nj nk">import emailjs from '@emailjs/browser';</span></pre><h2 id="d638" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">提交表单</h2><p id="7329" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">我写了一个函数<code class="fe nm nn no nd b">sendEmail</code>来处理使用<a class="ae kt" href="https://www.emailjs.com/docs/sdk/send/" rel="noopener ugc nofollow" target="_blank"> emailjs.send </a> SDK 提交表单。在 React 中，当引用环境变量时，使用<code class="fe nm nn no nd b">process.env.VARIABLE_NAME</code>。</p><p id="33d2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe nm nn no nd b">email.send</code>的语法是:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="e1b1" class="ku kv in nd b gy nh ni l nj nk">emailjs.send(<br/>  serviceID, <br/>  templateID, <br/>  templateParams, <br/>  userID<br/>);</span></pre><p id="71ca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是它在我的函数中的样子:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="da7e" class="ku kv in nd b gy nh ni l nj nk">const sendEmail = (e) =&gt; {<br/>  e.preventDefault();</span><span id="f2d3" class="ku kv in nd b gy nq ni l nj nk">  emailjs.send(<br/>    process.env.REACT_APP_EMAILJS_SERVICE_ID,<br/>    process.env.REACT_APP_EMAILJS_TEMPLATE_ID,<br/>    formData, process.env.REACT_APP_EMAILJS_USER_ID<br/>  )<br/>  .then((result) =&gt; {<br/>    setFormData({<br/>      email: '', <br/>      firstName: '', <br/>      lastName: '', <br/>      subject: '', <br/>      message: ''<br/>    })<br/>    setAlertContent({<br/>      heading: "Thank you for contacting me.", <br/>      message: "I will respond to your message as soon as I can."<br/>    })<br/>    setShowAlert(true)<br/>  }, (error) =&gt; {<br/>    setAlertContent({<br/>      heading: "Something went wrong.", <br/>      message: error.text<br/>    })<br/>    setShowAlert(true)<br/>  });</span><span id="270f" class="ku kv in nd b gy nq ni l nj nk">};</span></pre><p id="2376" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">提交表单时，如果成功，则会出现一条警告，显示:</p><figure class="my mz na nb gt jo gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/7a8a1c01bc91f3a078315010add0110a.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*cwbVVILJ_xCaT4oZlj036A.png"/></div></figure><p id="4e44" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果有问题，则会显示错误警告。</p><h1 id="1836" class="mg kv in bd kw mh mi mj kz mk ml mm lc mn mo mp lf mq mr ms li mt mu mv ll mw bi translated">回顾</h1><p id="e281" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">在这篇文章中，我演示了如何:</p><ol class=""><li id="35fe" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">创建一个 EmailJS 帐户，并设置电子邮件服务和电子邮件模板。</li><li id="441c" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">安装节点包并设置环境变量。</li><li id="db42" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">使用 state 和 emailjs.send SDK 创建一个受控制的表单来跟踪表单数据，并使用表单数据创建一封电子邮件。</li></ol><p id="fdcb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">调试提示:在 React 中，你将把环境变量的值用引号括起来，但是在 Netlify 中你不会用引号括起来。</p><p id="f8e3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望你觉得这很有用。如果这篇文章对你有帮助，请喜欢它，并留下你的评论！</p></div></div>    
</body>
</html>