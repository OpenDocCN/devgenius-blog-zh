<html>
<head>
<title>Using SQLite In Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨ Flutter ä¸­ä½¿ç”¨ SQLite</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/using-sqlite-in-flutter-4b16e5ef36dc?source=collection_archive---------0-----------------------#2021-11-29">https://blog.devgenius.io/using-sqlite-in-flutter-4b16e5ef36dc?source=collection_archive---------0-----------------------#2021-11-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="c93a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æœ¬æ–‡å°†ä½¿ç”¨<strong class="jm io"> sqflite </strong>æ’ä»¶ç¦»çº¿ä¿å­˜ç»“æ„åŒ–æ•°æ®ï¼Œå¹¶åœ¨ Flutter åº”ç”¨ç¨‹åºä¸­åˆ›å»ºæ•°æ®åº“ã€å­˜å‚¨ã€æ›´æ–°å’Œåˆ é™¤æ•°æ®(CRUD)ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ea2fd104fc0c4c42988990f19338b705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*q7KGE3gFx20anUXljP7RVw.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">åœ¨ Flutter é²ç¾æ•°å­—ä¸­ä½¿ç”¨ SQLite(UI çš„ä¸€éƒ¨åˆ†ç”± Mitesh Chodvadiya è®¾è®¡)</figcaption></figure><h1 id="d54e" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤ç¬¬ 1 éƒ¨åˆ†:å¼€å§‹</h1><p id="6191" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated"><strong class="jm io"> Flutter </strong>æ˜¯ä¸€æ¬¾ç§»åŠ¨åº”ç”¨ SDKï¼Œç”¨äºä¸º iOS å’Œ Android æ„å»ºé«˜æ€§èƒ½ã€é«˜ä¿çœŸçš„åº”ç”¨ã€‚Flutter ä¸ç°æœ‰ä»£ç ä¸€èµ·å·¥ä½œï¼Œè¢«ä¸–ç•Œå„åœ°çš„å¼€å‘äººå‘˜å’Œç»„ç»‡ä½¿ç”¨ï¼Œå¹¶ä¸”æ˜¯å…è´¹å’Œå¼€æºçš„ã€‚</p><p id="6aa8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æœ¬æ–‡å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨æ›´çŸ­çš„æ—¶é—´å†…æ„å»ºæ¼‚äº®ã€é«˜æ€§èƒ½çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªå°å‹çš„<strong class="jm io"> SQLite </strong>æ•°æ®åº“åœ¨æœ¬åœ°ä¿å­˜å’Œæ“ä½œæ•°æ®ã€‚</p><p id="29c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">SQLite æ•°æ®åº“æ˜¯ä¸€ä¸ªè½»é‡çº§çš„åµŒå…¥å¼æ•°æ®åº“ã€‚å®ƒçš„æ•°æ®åº“æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚<strong class="jm io"> SQLite </strong>é€šå¸¸è¢«ç§»åŠ¨è®¾å¤‡ã€ä¸­å°å‹æµé‡ç½‘ç«™ç”¨äºç‰ˆæœ¬è½¬æ¢ç³»ç»Ÿã€è´¢åŠ¡åˆ†æå·¥å…·ã€åª’ä½“ç¼–ç›®å’Œç¼–è¾‘å¥—ä»¶ã€CAD è½¯ä»¶åŒ…ã€è®°å½•ä¿å­˜ç¨‹åºç­‰ã€‚ä½¿ç”¨<strong class="jm io"> SQLite </strong>çš„ä¼˜ç‚¹åŒ…æ‹¬<strong class="jm io"> : </strong></p><p id="aee0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ…It å¯ä»¥ç”¨äºä»»ä½•ç¼–ç¨‹è¯­è¨€å’Œä»»ä½•è®¾å¤‡</p><p id="0d64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ•°æ®åº“çš„âœ…The å¤§å°é€šå¸¸é™åˆ¶ä¸º 2GB</p><p id="d257" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ…å’Œæ›´å¤šå…³äº W3C å­¦æ ¡çš„ä¿¡æ¯</p><h1 id="9ae0" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ç›®å½•</h1><ul class=""><li id="1193" class="mc md in jm b jn lw jr lx jv me jz mf kd mg kh mh mi mj mk bi translated">åœ¨é¢¤æŒ¯ä¸­å¯ç”¨<strong class="jm io"> Sqflite </strong></li><li id="cc83" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">åœ¨é¢¤æŒ¯ä¸­åˆ›å»ºæ¨¡å‹</li><li id="d0dc" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">ä½¿ç”¨ Flutter ä¸­çš„æ¨¡å‹åˆ›å»ºè¡¨æ ¼</li><li id="82d2" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">åœ¨ SQLite ä¸­æ’å…¥/æ›´æ–°/åˆ é™¤(CRUD)æ•°æ®</li><li id="4b2c" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">åœ¨ Flutter ä¸­æ˜¾ç¤º SQLite ä¸­çš„æ•°æ®</li><li id="ac16" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">ä¼˜åŒ– SQLite çš„é¢¤æŒ¯æ€§èƒ½</li><li id="21da" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">ä¸‹è½½ SQLite æ–‡ä»¶</li><li id="c04b" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">å‡çº§ SQLite ä¸­çš„è¡¨æ¨¡å¼</li></ul><h1 id="cf50" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤ç¬¬äºŒéƒ¨åˆ†:åœ¨é¢¤æŒ¯ä¸­å¯ç”¨<strong class="ak"> Sqflite </strong></h1><p id="2cc5" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated"><strong class="jm io"> <em class="mq"> SQLite </em> </strong>æ˜¯ä¸€ä¸ªå¼€æºçš„å…³ç³»æ•°æ®åº“ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨å’Œæ“ä½œæ•°æ®ï¼Œå¦‚æ·»åŠ ã€åˆ é™¤å’Œç§»é™¤æ•°æ®ã€‚</p><p id="6abf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å®ƒä¸éœ€è¦æœåŠ¡å™¨æˆ–åç«¯ä»£ç ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨è®¾å¤‡ä¸Šçš„æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚è¯·ç‚¹å‡»æŸ¥çœ‹æ›´å¤šä¿¡æ¯ã€‚</p><p id="f79f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ­¥éª¤ 1ï¸âƒ£:å°†<strong class="jm io"> sqflite </strong>åŒ…æ·»åŠ åˆ° pubspec.yaml ä¸­</p><p id="1df0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è®¿é—®<a class="ae mb" href="https://pub.dev/packages/sqflite/install" rel="noopener ugc nofollow" target="_blank"> pub.dev </a>å¹¶åœ¨æ–‡ä»¶<code class="fe mr ms mt mu b">pubspec.yaml</code>ä¸­æ·»åŠ <code class="fe mr ms mt mu b">sqflite:^2.0.0+4</code></p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="f53c" class="mz kz in mu b gy na nb l nc nd">environment:<br/>  sdk: "&gt;=2.12.0 &lt;3.0.0"</span><span id="29fa" class="mz kz in mu b gy ne nb l nc nd">dependencies:<br/>  flutter:<br/>    sdk: flutter<br/>  sqflite: ^2.0.0+4<br/>  path: ^1.8.0</span></pre><p id="daf6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">æ­¥éª¤</strong> 2ï¸âƒ£:åœ¨ Flutter ä¸­æ·»åŠ <code class="fe mr ms mt mu b">path:^1.8.0</code>æ’ä»¶</p><p id="aa2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">path æ’ä»¶æ˜¯ Dart çš„è·¨å¹³å°è·¯å¾„æ“ä½œåº“ï¼Œå®ƒæœ‰åŠ©äºæŒ‡å®šåŒ…å«æ•°æ®åº“çš„æ–‡ä»¶çš„ä½ç½®ã€‚</p><p id="49c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¾‹å¦‚ï¼Œå¦‚æœè¦åŠ å…¥æ•°æ®åº“çš„è·¯å¾„:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/23a14d9ceec34085ba346ccc1acba51d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Cs8C6mwpOr4gck0Zcltbnw.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">å°†<strong class="bd la"> Sqflite </strong>åŒ…æ·»åŠ åˆ° Flutter-é²ç¾æ•°å­—</figcaption></figure><p id="bcd0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">ç¬¬ä¸€æ­¥</strong> 3ï¸âƒ£:è·‘é…’é¦†æ‰¾äºº</p></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><h1 id="69f3" class="ky kz in bd la lb nn ld le lf no lh li lj np ll lm ln nq lp lq lr nr lt lu lv bi translated">ä½ ä¼šæ”¯æŒ awesomeâ¤ï¸</h1><blockquote class="ns nt nu"><p id="d415" class="jk jl mq jm b jn jo jp jq jr js jt ju nv jw jx jy nw ka kb kc nx ke kf kg kh ig bi translated">è¯·å¸®æˆ‘è·å¾— 100 åè¿½éšè€…ã€‚</p></blockquote></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><h1 id="04da" class="ky kz in bd la lb nn ld le lf no lh li lj np ll lm ln nq lp lq lr nr lt lu lv bi translated">ğŸŸ¤åœ¨ SQLite ä¸­åˆ›å»ºäº†ä¸€ä¸ªè¡¨</h1><p id="cf1d" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated"><strong class="jm io">æ­¥éª¤</strong> 1ï¸âƒ£:åœ¨æœåŠ¡æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code class="fe mr ms mt mu b">sqlite_service.dart </code>æ–‡ä»¶ã€‚</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="2941" class="mz kz in mu b gy na nb l nc nd">import 'package:sqflite/sqflite.dart';<br/>import 'package:path/path.dart';</span><span id="1dee" class="mz kz in mu b gy ne nb l nc nd">class SqliteService {<br/>  Future&lt;Database&gt; initializeDB() async {<br/>    String path = await getDatabasesPath();<br/>    <br/>    return openDatabase(<br/>      join(path, 'database.db'),<br/>      onCreate: (database, version) async {<br/>         await database.execute( <br/>           "CREATE TABLE Notes(id INTEGER PRIMARY KEY AUTOINCREMENT,  <br/>           description TEXT NOT NULL)",<br/>      );<br/>     },<br/>     version: 1,<br/>    );<br/>  }<br/>}</span></pre><p id="e5ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">æ­¥éª¤</strong> 2ï¸âƒ£:åˆå§‹åŒ–æ•°æ®åº“</p><p id="79fd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ… <code class="fe mr ms mt mu b">getDatabasePath()</code>:è·å–é»˜è®¤çš„æ•°æ®åº“ä½ç½®ã€‚</p><p id="08e3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ… <code class="fe mr ms mt mu b">openDatabase()</code>:æ¥å—ä¸€ä¸ªå¼ºåˆ¶çš„<code class="fe mr ms mt mu b">String</code>ä½œä¸ºå‚æ•°ï¼Œå®ƒæ˜¯æ•°æ®åº“çš„è·¯å¾„ã€‚</p><p id="89a9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ…:æˆ‘ä»¬ä½¿ç”¨åŒ…<code class="fe mr ms mt mu b">path</code>ä¸­çš„æ–¹æ³•<code class="fe mr ms mt mu b">join()</code>æŠŠç»™å®šçš„è·¯å¾„è¿æ¥æˆä¸€ä¸ªå•ä¸€çš„è·¯å¾„ï¼Œä¾‹å¦‚æˆ‘ä»¬ä¼šå¾—åˆ°<code class="fe mr ms mt mu b">databasepath/database.db</code>ã€‚</p><p id="61af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ… <code class="fe mr ms mt mu b">onCreate()</code>å›è°ƒ:ç¬¬ä¸€æ¬¡åˆ›å»ºæ•°æ®åº“æ—¶ä¼šè°ƒç”¨å®ƒï¼Œå®ƒä¼šæ‰§è¡Œä¸Šé¢çš„ SQL æŸ¥è¯¢æ¥åˆ›å»ºè¡¨<code class="fe mr ms mt mu b">notes</code>ã€‚è¿™æ˜¯åˆ›å»ºè¡¨å’Œåˆå§‹å¡«å……è¡¨çš„åœ°æ–¹ã€‚</p><h1 id="d6fd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤ç¬¬ 3 éƒ¨åˆ†:åˆ›å»ºä¸€ä¸ªé¢¤æŒ¯æ¨¡å‹</h1><p id="124f" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ï¼Œä¾‹å¦‚ï¼Œä¿å­˜å¾…åŠäº‹é¡¹åˆ—è¡¨åº”ç”¨ç¨‹åºçš„æ³¨é‡Šåˆ—è¡¨ï¼Œå› æ­¤æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç±»<code class="fe mr ms mt mu b">Note</code>ï¼Œå®ƒå°†åŒ…å«ä¸æ³¨é‡Šç›¸å…³çš„ä¸åŒå­—æ®µã€‚</p><p id="4041" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åŸºæœ¬ä¸Šï¼Œè¿™ä¸ªæ¨¡å‹å®šä¹‰äº†å¯ä»¥ä»æ•°æ®åº“çš„è¡¨ä¸­æå–çš„å­—æ®µã€‚</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="c546" class="mz kz in mu b gy na nb l nc nd">class Note{ <br/>  final int id; <br/>  final String description;<br/>   <br/>  Note({this.id, this.description});<br/>  <br/>  Note.fromMap(Map&lt;String, dynamic&gt; item): <br/>    id=item["id"], description= item["description"];<br/>  <br/>  Map&lt;String, Object&gt; toMap(){<br/>    return {'id':id,'description': description};<br/>  }<br/>}</span></pre><p id="4711" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code class="fe mr ms mt mu b">Note.fromMap()</code>çš„å‘½åæ„é€ å‡½æ•°å’Œä¸€ä¸ªåä¸º<code class="fe mr ms mt mu b">toMap()</code>çš„æ–¹æ³•ï¼Œå°†æ•°æ®è½¬æ¢æˆæ˜ å°„ï¼Œåä¹‹äº¦ç„¶ï¼Œä»¥æ“ä½œ SQLite æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚</p><h1 id="695f" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤åœ¨ SQLite ä¸­å°†æ•°æ®æ’å…¥åˆ°ä¸€ä¸ªè¡¨ä¸­</h1><p id="3a75" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">è®©æˆ‘ä»¬å¼€å§‹åœ¨<code class="fe mr ms mt mu b">sqlite_service.dart </code>æ–‡ä»¶ä¸­åˆ›å»º CRUD æ–¹æ³•</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="e9c0" class="mz kz in mu b gy na nb l nc nd">class SqliteService{<br/>  <br/>  Future&lt;int&gt; createItem(Note note) async {<br/>    int result = 0;<br/>    final Database db = await initializeDB();<br/>    final id = await db.insert(<br/>      'Notes', note.toMap(), <br/>      conflictAlgorithm: ConflictAlgorithm.replace);</span><span id="6583" class="mz kz in mu b gy ne nb l nc nd">   }<br/>}</span></pre><p id="1848" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ… <code class="fe mr ms mt mu b">createItem()</code>ä¼šè®°ä¸‹ä¸€å¼ çº¸æ¡ï¼Œç„¶åå°†çº¸æ¡æ’å…¥è¡¨æ ¼<code class="fe mr ms mt mu b">Notes</code>ã€‚</p><p id="c575" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ… <code class="fe mr ms mt mu b">insert()</code>æ–¹æ³•:å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°<code class="fe mr ms mt mu b">String table, Map&lt;String, Object?&gt; values</code>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æ¨¡å‹ç±»ä¸­åˆ›å»ºä¸€ä¸ª<code class="fe mr ms mt mu b">toMap()</code>æ–¹æ³•ã€‚</p><h1 id="80b7" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤ä» SQLite çš„ä¸€ä¸ªè¡¨ä¸­è·å–æ•°æ®</h1><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="0dd8" class="mz kz in mu b gy na nb l nc nd">class SqliteService{ <br/>  Future&lt;List&lt;Note&gt;&gt; getItems() async {<br/>    final db = await SqliteService.initizateDb();<br/>    final List&lt;Map&lt;String, Object?&gt;&gt; queryResult = <br/>      await db.query('Notes', orderBy: NoteColumn.createdAt);<br/>    return queryResult.map((e) =&gt; Note.fromMap(e)).toList();<br/>  }<br/>}</span></pre><p id="d029" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ…æˆ‘ä»¬ä½¿ç”¨<code class="fe mr ms mt mu b">query()</code>è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²æ‰©å……<code class="fe mr ms mt mu b">Notes</code>ï¼Œå®ƒæ˜¯ä»è¡¨<code class="fe mr ms mt mu b">Notes</code>ä¸­æ£€ç´¢æ‰€æœ‰åˆ—çš„è¡¨åã€‚</p><p id="be88" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ…<code class="fe mr ms mt mu b">queryResult</code>è¿”å›ä¸€ä¸ª<code class="fe mr ms mt mu b">List</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<code class="fe mr ms mt mu b">map()</code>æ–¹æ³•å°†<code class="fe mr ms mt mu b">List&lt;Map&lt;String, Object?&gt;&gt;</code>è½¬æ¢ä¸º<code class="fe mr ms mt mu b">List&lt;Note&gt;</code>ã€‚</p><h1 id="338c" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤ç¬¬ 4 éƒ¨åˆ†:åœ¨ SQLite ä¸­ä»è¡¨ä¸­åˆ é™¤æ•°æ®</h1><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="a1f3" class="mz kz in mu b gy na nb l nc nd">class SqliteService{</span><span id="bf5b" class="mz kz in mu b gy ne nb l nc nd">  // Delete an note by id<br/>  Future&lt;void&gt; deleteItem(String id) async {<br/>   final db = await SqliteService.initizateDb();</span><span id="876b" class="mz kz in mu b gy ne nb l nc nd">    try {<br/>      await db.delete("Notes", where: "id = ?", whereArgs: [id]);<br/>    } catch (err) {<br/>      debugPrint("Something went wrong when deleting an item: $err");<br/>    }<br/>  }<br/>}</span></pre><p id="31e0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ…<code class="fe mr ms mt mu b">delete()</code>æ–¹æ³•:æˆ‘ä»¬ä¼ é€’è¡¨åå¹¶æŒ‡å®šæˆ‘ä»¬æƒ³è¦åˆ é™¤è¡¨ä¸­çš„è¡Œçš„åˆ—ã€‚</p><h1 id="0bd1" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤æ˜¾ç¤ºæ¥è‡ª SQLite çš„æ•°æ®</h1><p id="4ae2" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªè¡¨å•ï¼Œå…è®¸ç”¨æˆ·å¡«å†™åŒ…æ‹¬æ³¨é‡Šæè¿°åœ¨å†…çš„æ•°æ®ã€‚æäº¤è¡¨å•æ—¶ï¼Œæ•°æ®å°†å­˜å‚¨åœ¨è¡¨æ ¼çš„ç›¸åº”åˆ—ä¸­ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/59ca4fa8b0497721c87dfbcc6a5adf85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ZoD3EdIf5rfBAkZCQdhHJQ.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">åœ¨ Flutter é²ç¾æ•°ç ä¸­ä½¿ç”¨<strong class="bd la"> SQLite </strong></figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/0d47595eeba02bfdabcf72fef571048e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LrF7rwqNoj9QPurZP0JKxA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">åœ¨ Flutter ä¸­ä½¿ç”¨<strong class="bd la">SQLite</strong>â€”â€”é²ç¾æ•°ç </figcaption></figure><p id="2ccc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬å°†æœ‰ä¸¤ä¸ªå±å¹•ã€‚è®©æˆ‘ä»¬ä»<strong class="jm io">ä¸»é¡µ</strong>å±å¹•å¼€å§‹:</p><p id="1c5f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ­¥éª¤ 1ï¸âƒ£:åˆå§‹åŒ–æœ‰çŠ¶æ€å°éƒ¨ä»¶ä¸­çš„<code class="fe mr ms mt mu b">SqliteService </code>ç±»ã€‚</p><p id="41c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨<code class="fe mr ms mt mu b">_HomePageState</code>ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸‹é¢çš„ä»£ç :</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="cf2b" class="mz kz in mu b gy na nb l nc nd"><strong class="mu io">class</strong> <strong class="mu io">_HomePageState</strong> <strong class="mu io">extends</strong> State<strong class="mu io">&lt;</strong>MyHomePage<strong class="mu io">&gt;</strong> <strong class="mu io">{</strong><br/><br/>  late SqliteService _sqliteService<strong class="mu io">;</strong><br/><br/>  @override<br/>  <strong class="mu io">void</strong> initState<strong class="mu io">()</strong> <strong class="mu io">{</strong><br/>    <strong class="mu io">super.</strong>initState<strong class="mu io">();</strong><br/>    <strong class="mu io">this.</strong>_sqliteService<strong class="mu io">=</strong> SqliteService<strong class="mu io">();</strong><br/>    <strong class="mu io">this.</strong>_sqliteService<strong class="mu io">.</strong>initializeDB<strong class="mu io">().</strong>whenComplete<strong class="mu io">(()</strong> async <strong class="mu io">{</strong><br/>      await _refreshNotes<strong class="mu io">();</strong><br/>      setState<strong class="mu io">(()</strong> <strong class="mu io">{});</strong><br/>    <strong class="mu io">});</strong><br/>  <strong class="mu io">}</strong></span></pre><p id="eae6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»<code class="fe mr ms mt mu b">SqliteService()</code>çš„å®ä¾‹ï¼Œç„¶åè°ƒç”¨<code class="fe mr ms mt mu b">initalizeDb()</code>æ¥åˆ›å»ºåŒ…å«<code class="fe mr ms mt mu b">Notes</code>è¡¨çš„æ•°æ®åº“ã€‚å½“<code class="fe mr ms mt mu b">Future</code>å®Œæˆæ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨<code class="fe mr ms mt mu b">_refreshNotes()</code>æ¥è·å–è¡¨ä¸­çš„å±æ€§åˆ—è¡¨ã€‚</p><p id="27e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨<code class="fe mr ms mt mu b">_refreshNotes()</code>ä¸­ï¼Œæˆ‘ä»¬ä¼šæœ‰ä»¥ä¸‹å†…å®¹:</p><p id="b161" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ­¥éª¤ 2ï¸âƒ£:ä»ä¸»å±å¹•ä¸Šçš„ SQLite ä¸­è·å–æ•°æ®</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="e778" class="mz kz in mu b gy na nb l nc nd">// All items<br/>List&lt;Note&gt; _notes = [];</span><span id="88e3" class="mz kz in mu b gy ne nb l nc nd">// This function is used to fetch all data from the database<br/>void _refreshNotes() async {</span><span id="03fd" class="mz kz in mu b gy ne nb l nc nd">  final data = await SqliteService.getItems();<br/>  setState(() {<br/>    _notes = data;<br/>  });<br/>}</span></pre><p id="f2c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ…æˆ‘ä»¬ç§°ä¹‹ä¸º<code class="fe mr ms mt mu b">getItems()</code>ç±»ä¸­å®šä¹‰çš„<code class="fe mr ms mt mu b">SqliteService().</code>æ–¹æ³•</p><p id="dac7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å®Œæˆåï¼Œå°†è°ƒç”¨<code class="fe mr ms mt mu b">setState(() {});</code>ï¼Œè¿™å°†é‡å»ºå°éƒ¨ä»¶æ ‘ã€‚</p><h1 id="1b18" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤ä¼˜åŒ– SQLite çš„é¢¤æŒ¯æ€§èƒ½</h1><p id="00fe" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated"><strong class="jm io">æ­¥éª¤</strong> 1ï¸âƒ£:å°†æ•°æ®åº“æ·»åŠ åˆ°<code class="fe mr ms mt mu b">assets</code>æ–‡ä»¶å¤¹ä¸­</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="8d1d" class="mz kz in mu b gy na nb l nc nd">assets/database.db</span></pre><p id="03c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">æ­¥éª¤</strong> 2ï¸âƒ£:åœ¨æ–‡ä»¶ä¸­æŒ‡å®šèµ„äº§<code class="fe mr ms mt mu b">pubspec.yaml</code></p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="cfa2" class="mz kz in mu b gy na nb l nc nd">flutter:<br/>  assets:<br/>    - assets/<!-- -->database<!-- -->.db</span></pre><p id="41cc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">æ­¥éª¤</strong> 3ï¸âƒ£:å°†æ•°æ®åº“å¤åˆ¶åˆ°ä½ çš„æ–‡ä»¶ç³»ç»Ÿä¸­</p><p id="463a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ‚¨éœ€è¦ä»èµ„äº§ä¸­è·å¾—ä¸€ä¸ªæ–°çš„å‰¯æœ¬ï¼Œè¿˜æ˜¯æ€»æ˜¯å¤åˆ¶èµ„äº§ï¼Œè¿™å–å†³äºæ‚¨ã€‚ä¸ºäº†è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œæœ€å¥½åªå¤åˆ¶èµ„æºä¸€æ¬¡ï¼Œç„¶åæ‰“å¼€å‰¯æœ¬ã€‚</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="a584" class="mz kz in mu b gy na nb l nc nd">import 'package:path/path.dart';<br/>import 'dart:typed_data';<br/>import 'package:flutter/services.dart';</span><span id="3b54" class="mz kz in mu b gy ne nb l nc nd">var databasesPath = await getDatabasesPath();<br/>var path = join(databasesPath, "database.db");<br/><br/>// Check if the database exists<br/>var exists = await databaseExists(path);<br/><br/>if (!exists) {<br/>  // Should happen only the first time you launch your application<br/>  print("Creating new copy from asset");<br/><br/>  // Make sure the parent directory exists<br/>  try {<br/>    await Directory(dirname(path)).create(recursive: true);<br/>  } catch (_) {}<br/>    <br/>  // Copy from asset<br/>  ByteData data = await rootBundle.load(join("assets", "database.db"));<br/>  List&lt;int&gt; bytes =<br/>  data.buffer.asUint8List(data.offsetInBytes, data.lengthInBytes);<br/>  <br/>  // Write and flush the bytes written<br/>  await File(path).writeAsBytes(bytes, flush: true);<br/><br/>} else {<br/>  print("Opening existing database");<br/>}<br/>// open the database<br/>db = await openDatabase(path, readOnly: true);</span></pre><h1 id="23bf" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤ä¸‹è½½äº† SQLite æ–‡ä»¶</h1><p id="f04b" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®åº“æ–‡ä»¶ä¿å­˜åœ¨ Android è®¾å¤‡ä¸Šçš„æ–‡ä»¶å¤¹<strong class="jm io">data/data/your package name/databases</strong>ä¸­ï¼Œè€Œåœ¨ iOS å’Œ macOS ä¸Šï¼Œå®ƒæ˜¯ Documents ç›®å½•ã€‚</p><p id="7638" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœä½ æƒ³æ£€æŸ¥æ–‡ä»¶ç›®å½•ï¼Œä¸‹é¢çš„è¯­å¥å°†æ˜¾ç¤ºè·¯å¾„:</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="37d1" class="mz kz in mu b gy na nb l nc nd">String path = await getDatabasesPath();</span></pre><p id="eba2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼ŒåŒ…åä¸º<strong class="jm io"> com.lumeidigital.v2 </strong>ã€‚å¦‚æœæˆ‘åœ¨ Android Studio ä¸Šæ‰“å¼€è®¾å¤‡æ–‡ä»¶æµè§ˆå™¨ï¼Œæˆ‘å¯ä»¥é€šè¿‡è®¿é—®<strong class="jm io">data/data/com . lumeidigital . v2/databases æ¥è®¿é—®æ•°æ®åº“æ–‡ä»¶ã€‚</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/263fccd9f95ee30cae39da114fe3bbf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6zGDh-0kvW8zv0XKnqh5WQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">SQLite åœ¨ Flutter ä¸­çš„åº”ç”¨â€”â€”é²ç¾æ•°ç </figcaption></figure><p id="ef14" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨ï¼Œé€‰æ‹©<strong class="jm io">æ•°æ®åº“</strong>å¹¶ä¸‹è½½æ‰©å±•åä¸º<strong class="jm io">çš„æ•°æ®åº“ã€‚dbï¼Œ</strong>å³å‡»æ•°æ®åº“åç§°ï¼Œå°†æ–‡ä»¶ä¿å­˜åœ¨ä»»ä½•éœ€è¦çš„ä½ç½®ï¼Œä½†è®°ä½ä½ç½®ï¼Œç„¶åç‚¹å‡»<strong class="jm io">å¦å­˜ä¸º</strong>å¯¹è¯æ¡†ä¸­çš„<strong class="jm io">ç¡®å®š</strong>ã€‚</p><p id="f8d4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¸ºäº†æŸ¥çœ‹æ•°æ®åº“ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª SQLite æµè§ˆå™¨ï¼Œä½ å¯ä»¥ä» https://sqlitebrowser.org/dl/<a class="ae mb" href="https://sqlitebrowser.org/dl/" rel="noopener ugc nofollow" target="_blank">ä¸‹è½½ SQLite æµè§ˆå™¨ã€‚ä»ä¸Šé¢çš„é“¾æ¥ä¸ºæ‚¨çš„è®¾å¤‡ä¸‹è½½ä¸€ä¸ªåˆé€‚çš„ SQLite æµè§ˆå™¨å¹¶æ‰“å¼€å®ƒã€‚</a></p><p id="519d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœä½¿ç”¨çš„æ˜¯ VS ä»£ç ï¼Œå¯ä»¥ä¸‹è½½ä¸€ä¸ªåä¸º<strong class="jm io"> SQLite </strong>çš„æ‰©å±•ï¼Œæ‰“å¼€<strong class="jm io"> database.db. </strong></p><blockquote class="ns nt nu"><p id="00a8" class="jk jl mq jm b jn jo jp jq jr js jt ju nv jw jx jy nw ka kb kc nx ke kf kg kh ig bi translated"><strong class="jm io"> ctrl + shift + p </strong>æ‰“å¼€æ•°æ®åº“</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/fc6dd0b046d04a5c4cd0d0b0a90b1cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uwCWRWzb-iYrBdvXHTjg1w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">SQLite åœ¨ Flutter ä¸­çš„åº”ç”¨â€”â€”é²ç¾æ•°ç </figcaption></figure><h1 id="5aa2" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤å‡çº§ SQLite ä¸­çš„è¡¨æ¨¡å¼</h1><p id="1ca2" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">åœ¨ SQLite ä¸­ï¼Œå½“æ•°æ®åº“æ‰“å¼€æ—¶ï¼Œ<code class="fe mr ms mt mu b">onCreate()</code>å’Œ<code class="fe mr ms mt mu b">onUpgrade()</code>è¢«è°ƒç”¨ã€‚ç‰ˆæœ¬å·æ˜¯ä¼ é€’ç»™æ„é€ å‡½æ•°çš„ int å‚æ•°ï¼Œä¿å­˜åœ¨ SQLite æ•°æ®åº“æ–‡ä»¶ä¸­ã€‚</p><p id="95c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ… <code class="fe mr ms mt mu b">onCreate()</code>å›è°ƒ:å½“æ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨å¹¶ä¸”åˆšåˆšåˆ›å»ºæ—¶è°ƒç”¨ã€‚å¦‚æœ<code class="fe mr ms mt mu b">onCreate()</code>æˆåŠŸè¿”å›å¹¶ä¸”æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™è®¤ä¸ºæ•°æ®åº“æ˜¯ç”¨è¯·æ±‚çš„ç‰ˆæœ¬å·åˆ›å»ºçš„ã€‚</p><p id="5978" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">âœ… <code class="fe mr ms mt mu b">onUpgrade()</code>å›è°ƒ:å½“æ•°æ®åº“æ–‡ä»¶å­˜åœ¨ä½†ç‰ˆæœ¬å·ä½äºæ„é€ å‡½æ•°ä¸­è¯·æ±‚çš„ç‰ˆæœ¬å·æ—¶è°ƒç”¨ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯åœ¨æ•°æ®åº“éœ€è¦å‡çº§æ—¶ä½¿ç”¨çš„ã€‚å®ç°åº”è¯¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥åˆ é™¤è¡¨ã€æ·»åŠ è¡¨æˆ–æ‰§è¡Œä»»ä½•å…¶ä»–éœ€è¦å‡çº§åˆ°æ–°æ¨¡å¼ç‰ˆæœ¬çš„æ“ä½œã€‚</p><p id="67ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe mr ms mt mu b">onUpgrade()</code>åº”è¯¥å°†è¡¨æ¨¡å¼æ›´æ–°åˆ°æ‰€è¯·æ±‚çš„ç‰ˆæœ¬ã€‚</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="168f" class="mz kz in mu b gy na nb l nc nd">Future&lt;Database&gt; initializeDB() async {<br/>    String path = await getDatabasesPath();</span><span id="63b0" class="mz kz in mu b gy ne nb l nc nd">    return openDatabase(<br/>      join(path, 'database.db'),<br/>      onCreate: (database, version) async {<br/>         await database.execute( "CREATE TABLE properties(id INTEGER PRIMARY KEY AUTOINCREMENT, address TEXT NOT NULL)",<br/>      );<br/>     },<br/>     version: 1,<br/>     on<!-- -->Upgrade<!-- -->: (database, oldVersion, newVersion){()=&gt; ....}<br/>    );<br/>  }</span></pre><p id="cc96" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ›´æ”¹è¡¨æ¨¡å¼çš„ä¸¤ç§æ–¹æ³•:</p><p id="7b3c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">1ï¸âƒ£:åˆ é™¤æ—§çš„æ•°æ®åº“æ–‡ä»¶ï¼Œå› æ­¤å†æ¬¡è¿è¡Œ<code class="fe mr ms mt mu b">onCreate()</code>å›è°ƒã€‚åœ¨å¼€å‘æœŸé—´ï¼Œå½“æ‚¨å¯¹å·²å®‰è£…çš„ç‰ˆæœ¬æœ‰æ›´å¤šçš„æ§åˆ¶å¹¶ä¸”æ•°æ®ä¸¢å¤±ä¸æ˜¯é—®é¢˜æ—¶ï¼Œè¿™æ˜¯å®Œç¾çš„ã€‚</p><p id="270f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2ï¸âƒ£:å¢åŠ ç‰ˆæœ¬å·ï¼Œè¿™æ ·å°±è°ƒç”¨äº†<code class="fe mr ms mt mu b">onUpgrade()</code>å›è°ƒã€‚åœ¨å¼€å‘æœŸé—´ï¼Œå½“æ•°æ®ä¸¢å¤±ä¸æˆé—®é¢˜æ—¶ï¼Œæ‚¨å¯ä»¥æ‰§è¡Œç±»ä¼¼äº<code class="fe mr ms mt mu b">DROP TABLE IF EXIST &lt;table name&gt; </code>çš„ SQL æ¥åˆ é™¤ç°æœ‰çš„è¡¨ï¼Œå¹¶è°ƒç”¨<code class="fe mr ms mt mu b">onCreate()</code>æ¥é‡æ–°åˆ›å»ºæ•°æ®åº“ã€‚</p><p id="e75d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä½†æ˜¯ï¼Œå¦‚æœå‘å¸ƒäº†åº”ç”¨ç¨‹åºï¼Œæ‚¨éœ€è¦åœ¨<code class="fe mr ms mt mu b">onUpgrade()</code>å›è°ƒä¸­å®ç°æ•°æ®è¿ç§»ï¼Œè¿™æ ·æ‚¨çš„ç”¨æˆ·å°±ä¸ä¼šä¸¢å¤±ä»–ä»¬çš„æ•°æ®ã€‚</p><h1 id="35f0" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ğŸŸ¤å…¶ä»–æ•°æ®åº“é›†æˆ</h1><p id="7a43" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">æ€»æ˜¯éœ€è¦å­˜å‚¨æ•°æ®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥ä¸ Flutter ä¸€èµ·ä½¿ç”¨çš„æ•°æ®åº“:</p><ul class=""><li id="791b" class="mc md in jm b jn jo jr js jv ob jz oc kd od kh mh mi mj mk bi translated"><a class="ae mb" href="https://firebase.flutter.dev/docs/overview/" rel="noopener ugc nofollow" target="_blank">ç‡ƒçƒ§åŸºåœ°</a></li><li id="0916" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><a class="ae mb" href="https://supabase.io/" rel="noopener ugc nofollow" target="_blank"> Supabase </a></li><li id="9625" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><a class="ae mb" href="https://pub.dev/packages/hive" rel="noopener ugc nofollow" target="_blank"> Hive </a>(æœ¬åœ°æ•°æ®åº“)</li><li id="7c53" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><a class="ae mb" href="https://pub.dev/packages/moor" rel="noopener ugc nofollow" target="_blank">æ‘©å°”</a>(æœ¬åœ°æ•°æ®åº“)</li></ul></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><h1 id="5d3e" class="ky kz in bd la lb nn ld le lf no lh li lj np ll lm ln nq lp lq lr nr lt lu lv bi translated">æ›´å¤šæ•™ç¨‹:</h1><ul class=""><li id="b1e3" class="mc md in jm b jn lw jr lx jv me jz mf kd mg kh mh mi mj mk bi translated"><a class="ae mb" href="https://medium.com/@lumeilin301/flutter-animation-tutorial-4eb560eace48" rel="noopener">é¢¤æŒ¯åŠ¨ç”»æ•™ç¨‹</a></li><li id="dae2" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><a class="ae mb" href="https://medium.com/@lumeilin301/flutter-firebase-app-tutorial-part-1-get-started-95cce84939c3" rel="noopener">é£˜èµ·&amp; Firebase App æ•™ç¨‹</a></li></ul><h1 id="6f05" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">ä½ ä¼šæ”¯æŒ awesomeâ¤ï¸</h1><blockquote class="ns nt nu"><p id="950a" class="jk jl mq jm b jn jo jp jq jr js jt ju nv jw jx jy nw ka kb kc nx ke kf kg kh ig bi translated">è¯·å¸®æˆ‘è·å¾— 100 åè¿½éšè€…ã€‚</p></blockquote><p id="52d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">å…³é”®è¯:</strong> Flutterï¼ŒSQLiteï¼Œæ•°æ®åº“ï¼ŒCRUDã€‚</p><p id="d02b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ğŸ‘‰<em class="mq">æºä»£ç åœ¨</em> <a class="ae mb" href="https://github.com/lumei301/flutter-sqlite" rel="noopener ugc nofollow" target="_blank"> <em class="mq"> Github </em> </a>ä¸Šæ›´æ–°</p></div></div>    
</body>
</html>