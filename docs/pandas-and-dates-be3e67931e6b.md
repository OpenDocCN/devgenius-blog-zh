# 熊猫日期时间对象

> 原文：<https://blog.devgenius.io/pandas-and-dates-be3e67931e6b?source=collection_archive---------7----------------------->

## 了解如何选择熊猫日期时间对象

Pandas 是用于数据分析和操作的最常用的 Python 库。基本的熊猫实体是一个数据框。这篇文章研究了我们如何处理数据框架中的日期。我们着眼于可能的混淆点及其解决方案。

我写了另一篇文章，研究了熊猫的时间序列数据。

![](img/ad21bd05e8adc798290e9a04cdcd7fb8.png)

熊猫电子表格(由[马库斯·斯皮斯克](https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄)

## 使用 Python 日期时间加载熊猫数据框

当我们加载数据帧时，无论是通过 ***read_csv*** 还是 ***read_excel*** ，我们都可以指定哪个字段包含日期，以便可以立即将字符串解析为 datetime 对象。我们用属性 ***parse_dates*** 来做这件事。

加载熊猫数据框

这将把列的值转换为 datetime 对象。该操作假设日期是以 **ISO 8601** 日期格式(YYYY-MM-DD)或类似格式书写的，即月份在日期之前。让我们看看这个属性是如何导致我们出错的。

```
0 07/09/2020 1 09/10/2020 2 05/11/2020 3 06/11/2020 4 22/11/2020
```

这些是解析之前的日期的文本值。在前 4 行中，第一个值小于 12，这意味着它可以表示一个月的值。然而，在第五行中，我们看到第一个值是 22，因此我们最初的理解是错误的。第一个值是日，这意味着我们需要调整预期的日期格式。如果观察到的行中没有一行包含任何大于 12 的值，那么这个例子可能会特别棘手，在这种情况下，您可能甚至没有注意到解析是以错误的顺序进行的。因此，如果有一个日期优先的格式，应该将属性 **dayfirst** 设置为 true。

使用 Python 日期时间解析加载 pandas 数据框

如果数据格式完全不同，您可以通过设置属性 **date_parser** 来定义一个自定义解析器。

## 基于 Python 日期的过滤

假设我们想从足球数据集中过滤掉 2 月 7 日的所有比赛。

将 Python 日期时间与字符串进行比较

这个命令完成了工作，但是让我们看看需要不同类型命令的情况。如果我们有一个包含小时和分钟信息的 datetime 字段，上面的例子就不会起作用。

我们需要将**日期时间**对象的日期属性与一个新的**日期时间**对象进行比较。

与 Python 日期时间对象中的特定日期进行比较

我们还可以进行比较，以筛选出特定年、月、周或日的所有示例。

将 Python 日期时间与特定月份进行比较

## 更多熊猫日期时间操作

知道如何在熊猫数据框中使用日期可以证明是非常宝贵的。将来，我们将看一些例子，在这些例子中，我们可以使用日期时间作为时间序列的索引。