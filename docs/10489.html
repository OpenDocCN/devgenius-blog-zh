<html>
<head>
<title>GraphQL Authentication and Authorization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL 身份验证和授权</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/graphql-authentication-and-authorization-6894d6f40ac0?source=collection_archive---------7-----------------------#2022-11-05">https://blog.devgenius.io/graphql-authentication-and-authorization-6894d6f40ac0?source=collection_archive---------7-----------------------#2022-11-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="5011" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本内容面向那些对 REST 和 GraphQL 有基本了解的工程师。我们将陆续公布以下内容。</p><p id="6f33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"># 1<a class="ae ki" href="https://medium.com/@sofikul.m/design-my-todos-project-with-graphql-rest-microservices-482cffc7729b" rel="noopener">my-todos 项目设计</a></p><p id="03e3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ki" href="https://medium.com/@sofikul.m/coding-graphql-services-eafd9235fdf7" rel="noopener"> #2 编码 GraphQL 服务</a></p><p id="6656" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="kj"> #3 GraphQL 服务认证和授权(我们在这里发帖)</em> </strong></p><p id="1e7d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">#4 编码 GraphQL 网关服务</p><p id="2ae9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">#5 使用 Nuxt 编码 my-todos web</p><p id="6c7c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">#6 所有服务的部署</p></div><div class="ab cl kk kl hr km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ig ih ii ij ik"><h1 id="ff94" class="kr ks in bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">我们要在这里讨论什么？</h1><p id="25ae" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">从这篇文章的标题，你已经知道我们将在这里讨论什么主题😎。在我们之前的文章中(<a class="ae ki" href="https://medium.com/@sofikul.m/coding-graphql-services-eafd9235fdf7" rel="noopener"><em class="kj">【2 号编码 GraphQL 服务</em> </a> <em class="kj"> ) </em>我们创建了一个 node express GraphQL 服务，在那里<code class="fe lu lv lw lx b">users</code>查询受到保护，只有<code class="fe lu lv lw lx b">admin</code>用户可以访问它。我们如何保护 GraphQL 操作，我们将在这里讨论。👇</p><h1 id="cc16" class="kr ks in bd kt ku ly kw kx ky lz la lb lc ma le lf lg mb li lj lk mc lm ln lo bi translated">我们有哪些实施方案？</h1><p id="1536" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">我已经探索了实现它的几个选项，让我们先列出来</p><p id="557a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🌟身份验证作为上下文的一部分</p><p id="777e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🌟作为解析程序一部分的身份验证</p><p id="f8ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🌟身份验证作为模式的一部分</p><h1 id="74bd" class="kr ks in bd kt ku ly kw kx ky lz la lb lc ma le lf lg mb li lj lk mc lm ln lo bi translated">👨‍💻作为 ApolloServer 上下文一部分的身份验证</h1><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><h1 id="8310" class="kr ks in bd kt ku ly kw kx ky lz la lb lc ma le lf lg mb li lj lk mc lm ln lo bi translated">👨‍💻作为解析程序一部分的身份验证</h1><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><h1 id="a732" class="kr ks in bd kt ku ly kw kx ky lz la lb lc ma le lf lg mb li lj lk mc lm ln lo bi translated">👨‍💻身份验证作为模式的一部分</h1><p id="7ee1" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">我们将利用 GraphQL 模式指令。我们将创建自定义的<code class="fe lu lv lw lx b">@auth</code>指令。</p><p id="f5fa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> #1 在模式中定义授权指令</strong></p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="d11b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> #2 执行授权指令</strong></p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="ce20" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> #3 转换模式以在服务器中使用 auth 指令</strong></p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><blockquote class="mk"><p id="947c" class="ml mm in bd mn mo mp mq mr ms mt kh dk translated">💥完整的代码总是在我的<a class="ae ki" href="https://github.com/Sofiukl/my-todos-user-gql-api" rel="noopener ugc nofollow" target="_blank">回购</a>里。</p></blockquote><h1 id="c774" class="kr ks in bd kt ku ly kw kx ky lz la lb lc mu le lf lg mv li lj lk mw lm ln lo bi translated">测试认证</h1><p id="e8e8" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">正如我们在模式中定义的，我们的<code class="fe lu lv lw lx b">users</code>查询是受保护的，只有管理员用户可以访问。所以要访问它，你需要在<code class="fe lu lv lw lx b">Authorization</code>头中传递令牌。</p><p id="1fdd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">执行<code class="fe lu lv lw lx b">login</code>变异将获得令牌。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi mx"><img src="../Images/7e26d657f25b894c7f958a6e64fb66ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pFalts262LKOoB8s5kI7aw.png"/></div></div></figure><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi mx"><img src="../Images/33428e31dbdef3ac6e741aefc691bd89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tkxp3CH236WcuUtAQV4zzw.png"/></div></div></figure><h1 id="dacc" class="kr ks in bd kt ku ly kw kx ky lz la lb lc ma le lf lg mb li lj lk mc lm ln lo bi translated">下一步是什么</h1><p id="52db" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">庆祝你的学习和成就🎉 🔥，我们将在下一篇文章<a class="ae ki" href="https://medium.com/@sofikul.m/coding-graphql-gateway-service-b8516d4052d4" rel="noopener"> <em class="kj"> #4 编码 GraphQL 网关服务</em> </a>中看到。请订阅💕我们一发布就能得到最新消息。</p><blockquote class="mk"><p id="092c" class="ml mm in bd mn mo ne nf ng nh ni kh dk translated">继续学习！👍</p></blockquote></div></div>    
</body>
</html>