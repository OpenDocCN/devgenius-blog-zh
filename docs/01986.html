<html>
<head>
<title>Road to Genius: advanced #33</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¤©æ‰ä¹‹è·¯:è¿›é˜¶#33</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/road-to-genius-advanced-33-6b520eac8c48?source=collection_archive---------37-----------------------#2020-07-15">https://blog.devgenius.io/road-to-genius-advanced-33-6b520eac8c48?source=collection_archive---------37-----------------------#2020-07-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0679b6e04d1f8c1a02481fae5a7cdf83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9SdHGQ_4FzZ7Lc-k.png"/></div></div></figure><p id="8c5d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ¯å¤©æˆ‘éƒ½è¦è§£å†³å‡ ä¸ªCodråˆ†çº§æ¨¡å¼çš„ç¼–ç æŒ‘æˆ˜å’Œéš¾é¢˜ã€‚ç›®æ ‡æ˜¯è¾¾åˆ°å¤©æ‰çš„ç­‰çº§ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘è§£é‡Šäº†æˆ‘æ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ã€‚ä½ ä¸éœ€è¦ä»»ä½•ç¼–ç¨‹èƒŒæ™¯å°±å¯ä»¥å¼€å§‹ï¼Œè€Œä¸”ä½ ä¼šå­¦åˆ°å¾ˆå¤šæ–°çš„æœ‰è¶£çš„ä¸œè¥¿ã€‚</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="1cdc" class="lc ld in ky b gy le lf l lg lh">function LRU(capacity) {<br/>  this.cache = {};<br/>  this.capacity = capacity;<br/>  this.size = 0;<br/>  this.queue = [];<br/>}<br/>;<br/>LRU.prototype.get = function (key) {<br/>  const hit = this.cache[key];<br/>  if (hit !== undefined) {<br/>    this.queue = this.queue.filter(q =&gt; ğŸ¼ !== key);<br/>    this.queue.push(key);<br/>    return hit;<br/>  }<br/>  return -1;<br/>};<br/>LRU.prototype.put = function (key, value) {<br/>  const hit = this.cache[key];<br/>  this.cache[key] = value;<br/>  if (!hit) {<br/>    if (this.size === this.capacity) {<br/>      const key = this.queue.shift();<br/>      this.cache[key] = undefined;<br/>    } else {<br/>      this.size = this.size + 1;<br/>    }<br/>    this.queue.push(ğŸ˜ˆ);<br/>  } else {<br/>    this.queue = this.queue.filter(q =&gt; q !== key);<br/>    this.queue.push(key);<br/>  }<br/>};<br/>let cache = new LRU(7);<br/>for (let i = 0; i &lt; 4; i++)<br/>  cache.put(i, i);<br/>let A = cache.queue.length;</span><span id="bc07" class="lc ld in ky b gy li lf l lg lh">// ğŸ¼ = ? (identifier)<br/>// ğŸ˜ˆ = ? (identifier)<br/>// such that A = 4 (number)</span></pre><p id="641d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨ä»Šå¤©çš„æŒ‘æˆ˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¿®å¤ä¸€ä¸ªç›¸å¯¹è¾ƒå¤§çš„ä»£ç åº“ä¸­çš„ä¸¤ä¸ªbugã€‚ç®€å•çœ‹ä¸€ä¸‹è¿™ä¸¤ä¸ªbugä¹‹åï¼Œè¿™å°†æ˜¯ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><p id="e2a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç¬¬ä¸€ä¸ªbugå‡ºç°åœ¨ä¸‹é¢ä¸€è¡Œ:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="78fc" class="lc ld in ky b gy le lf l lg lh">this.queue = this.queue.filter(q =&gt; ğŸ¼ !== key);</span></pre><p id="221c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¸€ä¸ªè¿‡æ»¤ç®­å¤´å‡½æ•°è¢«åº”ç”¨äº<code class="fe lj lk ll ky b">queue</code>æ•°ç»„ã€‚å®ƒåŸºæœ¬ä¸Šé€šè¿‡è¿‡æ»¤æ‰æ»¡è¶³arrow-functionå®šä¹‰çš„æ ‡å‡†çš„æ‰€æœ‰é¡¹ç›®æ¥æ”¹å˜<code class="fe lj lk ll ky b">queue</code>çš„å€¼ã€‚è¿™ä¸€è¡Œä»£ç å¯ä»¥æ€»ç»“ä¸ºä¼ªä»£ç :</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="1c57" class="lc ld in ky b gy le lf l lg lh">queue = queue.filter(<br/>  for each item "q" in "queue":<br/>     if ğŸ¼ !== key:<br/>       return true<br/>     else:<br/>       return false<br/>)</span></pre><p id="34ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™æ®µä»£ç æ‰€åšçš„å°±æ˜¯ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ‰€æœ‰ç­‰äº<code class="fe lj lk ll ky b">key</code>çš„é¡¹ç›®ï¼›æ¢å¥è¯è¯´ï¼Œä¿ç•™æ‰€æœ‰ä¸ç­‰äº<code class="fe lj lk ll ky b">key</code>çš„é¡¹ç›®ã€‚<br/>å¦‚ä½ æ‰€è§ï¼Œè¿™ä¸ªbugğŸ¼å¿…é¡»æ˜¯<code class="fe lj lk ll ky b">q</code>ã€‚</p><p id="2d95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¿®å¤ç¬¬äºŒä¸ªä¹Ÿæ˜¯æœ€åä¸€ä¸ªé”™è¯¯ğŸ˜ˆæˆ‘ä»¬éœ€è¦åˆ†ææ›´å¤šçš„ä»£ç :</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="2caa" class="lc ld in ky b gy le lf l lg lh">if (!hit) {<br/>  if (this.size === this.capacity) {<br/>    const key = this.queue.shift();<br/>    this.cache[key] = undefined;<br/>  } else {<br/>    this.size = this.size + 1;<br/>  }<br/>  this.queue.push(ğŸ˜ˆ);<br/>} else {<br/>  this.queue = this.queue.filter(q =&gt; q !== key);<br/>  this.queue.push(key);<br/>}</span></pre><p id="66d2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è™«å­ğŸ˜ˆå¿…é¡»æ˜¯ä¸€ä¸ªå˜é‡åï¼Œä¹Ÿå°±æ˜¯è¢«æ¨é€åˆ°<code class="fe lj lk ll ky b">queue</code>æ•°ç»„çš„ä¸œè¥¿ã€‚elseå­å¥å·²ç»æ­ç¤ºäº†è¿™å°†æ˜¯ä»€ä¹ˆ:<code class="fe lj lk ll ky b">key</code>ã€‚</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/2974d38523f21034358837df5f1ce3c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/0*yoVRN7dsMRJX19c1.png"/></div></figure><p id="5ed3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¦‚æœæ‚¨å¯¹æ›´å¤§çš„å›¾ç‰‡æ„Ÿå…´è¶£ï¼Œè¿™æ®µä»£ç æ˜¯ä¸€ä¸ªLRUç¼“å­˜ç³»ç»Ÿçš„ç®€å•å®ç°(æœ€è¿‘æœ€å°‘ä½¿ç”¨)ã€‚</p><p id="296d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">é€šè¿‡è§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œä½ å¯ä»¥è®­ç»ƒè‡ªå·±æˆä¸ºä¸€åæ›´å¥½çš„ç¨‹åºå‘˜ã€‚æ‚¨å°†å­¦åˆ°æ›´æ–°æ›´å¥½çš„åˆ†æã€è°ƒè¯•å’Œæ”¹è¿›ä»£ç çš„æ–¹æ³•ã€‚å› æ­¤ï¼Œä½ åœ¨å•†ä¸šä¸Šä¼šæ›´æœ‰æ•ˆç‡å’Œä»·å€¼ã€‚åœ¨<a class="ae ln" href="https://nevolin.be/codr/" rel="noopener ugc nofollow" target="_blank">https://nevolin.be/codr/</a>åŠ å…¥æˆ‘çš„å¤©æ‰ä¹‹è·¯ï¼Œæå‡ä½ çš„ç¼–ç¨‹æŠ€èƒ½</p></div></div>    
</body>
</html>