<html>
<head>
<title>Optional Class in Java 8</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 8 ä¸­çš„å¯é€‰ç±»</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/optional-class-in-java-8-3eebe6a66f83?source=collection_archive---------10-----------------------#2022-05-29">https://blog.devgenius.io/optional-class-in-java-8-3eebe6a66f83?source=collection_archive---------10-----------------------#2022-05-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="5967" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è®©æˆ‘ä»¬å­¦ä¹ å¦‚ä½•å¤„ç†æœŸæƒ</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0a060a665d23cdf1467bdaeb5561abdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wfl6OSls6GV1lxTj4cATng.png"/></div></div></figure><p id="4385" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å˜¿æˆ´å¤«ä¼™è®¡ä»¬ï¼å¸Œæœ›ä½ ä¸€åˆ‡éƒ½å¥½..ç»§ç»­æˆ‘çš„ Java æ–‡ç« ç³»åˆ—ï¼Œæˆ‘æƒ³å†™ Java 8 çš„ç‰¹æ€§ã€‚é‚£ä¸æ˜¯åˆ«äººï¼Œæ­£æ˜¯ Java 8 ä¸­å¼•å…¥çš„<strong class="jm io">å¯é€‰</strong>ç±»ï¼ğŸ˜</p><h1 id="0781" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">ä»€ä¹ˆæ—¶å€™ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</h1><p id="5b83" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">é€šå¸¸å½“æˆ‘ä»¬ç”¨ Java ç¼–ç æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å¤„ç†å¼‚å¸¸ğŸ˜•ã€‚æœ€å¸¸è§çš„å¼‚å¸¸ä¹‹ä¸€æ˜¯<strong class="jm io">NullPointerException(NPE)</strong>ã€‚å› æ­¤ï¼Œä» java 8 å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€‰é¡¹ä»¥æ›´å¥½çš„æ–¹å¼å¤„ç† NPEï¼ğŸ˜å¦åˆ™æˆ‘ä»¬ä¸å¾—ä¸<em class="lx">åœ¨ä»£ç ä¸­æ‰§è¡Œå¦‚æ­¤å¤šçš„ç©ºæ£€æŸ¥</em>ã€‚å¯é€‰å¯¹è±¡å¯ç”¨äºè¡¨ç¤ºæ²¡æœ‰å€¼çš„ NULLã€‚è¿™æ˜¯é€‰ä¿®è¯¾çš„ä¸»è¦ç”¨é€”ã€‚æˆ‘å°†åœ¨æ–‡ç« ä¸­è¯¦ç»†è§£é‡Šã€‚</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="1924" class="ku kv in bd kw kx mf kz la lb mg ld le lf mh lh li lj mi ll lm ln mj lp lq lr bi translated">optional . of()vs optional . of nullable()</h1><p id="3c1a" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">ä¸¤ç§æ–¹æ³•<strong class="jm io">éƒ½æ¥å—ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›å¸¦æœ‰æŒ‡å®šå…ƒç´ çš„å¯é€‰çš„</strong>ã€‚</p><blockquote class="mk ml mm"><p id="6953" class="jk jl lx jm b jn jo jp jq jr js jt ju mn jw jx jy mo ka kb kc mp ke kf kg kh ig bi translated">å¦‚æœç»™å®šçš„<strong class="jm io"> <em class="in">å…ƒç´ ä¸ºç©º</em> </strong> <em class="in">ï¼Œé‚£ä¹ˆ optional . of nullable()</em><strong class="jm io"><em class="in">æ–¹æ³•è¿”å›ç©ºçš„å¯é€‰</em> </strong>ã€‚ğŸ‘‰å¯é€‰ã€‚ç©º</p><p id="3691" class="jk jl lx jm b jn jo jp jq jr js jt ju mn jw jx jy mo ka kb kc mp ke kf kg kh ig bi translated">ä½†åœ¨ Optional.of()æ–¹æ³•ä¸­ï¼Œå½“ç»™å®šå…ƒç´ ä¸ºç©ºæ—¶ï¼Œä»ä¼šæŠ›å‡º NPEã€‚ </p></blockquote><p id="308c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœå…ƒç´ ä¸ä¸ºç©ºï¼Œåˆ™ä¸¤ç§æ–¹æ³•æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><p id="0720" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª<strong class="jm io"> Person </strong>ç±»â€¦å¦‚æœäººåä¸ä¸ºç©ºï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è½¬æ¢æˆå¤§å†™ã€‚ç”¨æˆ‘ä»¬ä¼ ç»Ÿçš„æ–¹å¼ï¼Œæˆ‘ä»¬ä¼šæ€ä¹ˆåšï¼Ÿ</p><p id="4926" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬å¿…é¡»åšç©ºæ£€æŸ¥â€¦å¯¹å—ï¼Ÿè®©æˆ‘ä»¬å†™ä¸€ä¸ªç®€å•çš„ä»£ç â€¦</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="387c" class="mv kv in mr b gy mw mx l my mz">class Person {<br/>    private final String name;<br/>    private final Integer age;<br/>    private final String job;<br/>    public Person(String name, Integer age, String job) {<br/>        this.name = name;<br/>        this.age = age;<br/>        this.job = job;<br/>    }<br/>    public String getName() {<br/>        return name;<br/>    }<br/>    public Integer getAge() {<br/>        return age;<br/>    }<br/>    public String getJob() {<br/>        return job;<br/>    }<br/>}</span></pre><p id="cf7b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœæ²¡æœ‰æœŸæƒï¼Œæˆ‘ä»¬ä¼šåšè¿™æ ·çš„äº‹æƒ…æ¥é¿å… npeã€‚</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="d7f2" class="mv kv in mr b gy mw mx l my mz">Person person = new Person("sailtha", 28, "SE");<br/>String upperCaseName = "";<br/>if (person != null) {<br/>    String name = person.getName();<br/>    if (name != null) {<br/>        upperCaseName = name.toUpperCase();<br/>    }<br/>}<br/>System.out.println(upperCaseName);</span></pre><p id="16d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœä½ ä»”ç»†çœ‹è¿™é‡Œï¼Œæˆ‘ä»¬è¿˜å¿…é¡»ç»´æŠ¤ ELSE å­å¥ï¼Œè¿™å°†å†æ¬¡äº§ç”Ÿä¸€ä¸ªå†—é•¿çš„ä»£ç ï¼</p><h1 id="1fd5" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">å¯é€‰æ–¹æ³•</h1><p id="1370" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">æˆ‘ä»¬å°†æŠŠ Person å¯¹è±¡åŒ…è£…åœ¨ optional =&gt; ofNullable()ä¸­ï¼Œè¿™å¯¹ NPE æ˜¯å®‰å…¨çš„â€¦</p><p id="4a29" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¿™ä¸ªä¾‹å­æœ‰ä¸€ä¸ªç©ºåç§°çš„å¯¹è±¡â€¦</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="532e" class="mv kv in mr b gy mw mx l my mz">Person person = new Person(null, 28, "SE");<br/>Optional&lt;Person&gt; personOptional = Optional.<em class="lx">ofNullable</em>(person);<br/>personOptional.ifPresent(p -&gt; {<br/>    Optional&lt;String&gt; name = Optional.<em class="lx">ofNullable</em>(p.getName());<br/>    <strong class="mr io">String upperCaseName = name.map(String::toUpperCase).orElse("Empty Name");</strong><br/>    System.out.println(upperCaseName);<br/>});</span></pre><p id="662c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬æœ‰<strong class="jm io"> isPresent() </strong>æ–¹æ³•æ¥æ£€æŸ¥å…ƒç´ çš„å¯ç”¨æ€§â€¦ä¸éœ€è¦ç©ºæ£€æŸ¥ï¼ğŸ˜</p><p id="604a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> orElse() </strong>æ–¹æ³•<strong class="jm io">å°†è¿”å›æŒ‡å®šçš„é»˜è®¤åç§°</strong>ï¼Œå½“<em class="lx">ç‰¹å®šå€¼ä¸å­˜åœ¨</em>æ—¶ã€‚</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><p id="eecb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æœ‰äº†é€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥åƒåœ¨æµä¸­ä¸€æ ·è®¿é—® filter()å’Œ map()æ–¹æ³•..</p><pre class="kj kk kl km gt mq mr ms mt aw mu bi"><span id="f629" class="mv kv in mr b gy mw mx l my mz">List&lt;Person&gt; personList = Arrays.<em class="lx">asList</em>(<br/>        new Person("Andrew", 28, null),<br/>        new Person("John", 34, "QA"),<br/>        new Person("Peter", 43, "SE"),<br/>        new Person("Tim", 39, "TL")<br/>);<br/>List&lt;Person&gt; agedPersonsList = personList.stream()<br/>        .filter(p -&gt; p.getAge() &lt; 30)<br/>        .collect(Collectors.<em class="lx">toList</em>());<br/>Optional&lt;Person&gt; personData = Optional.<em class="lx">ofNullable</em>(agedPersonsList.get(0));<br/>personData.ifPresent(p -&gt; {<br/>    Optional&lt;String&gt; job = Optional.<em class="lx">ofNullable</em>(p.getJob());<br/>    Optional&lt;String&gt; name = Optional.<em class="lx">ofNullable</em>(p.getName());<br/>    String upperCaseJob = job.map(String::toUpperCase).orElse("Empty Job");<br/>    String nameFilter = name.filter(n -&gt; n.equals("Andrew")).map(String::toUpperCase).orElse("Empty name");<br/>    System.out.println(upperCaseJob);<br/>    System.out.println(nameFilter);<br/>});</span></pre><p id="5875" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç»“æœä¼šæ˜¯è¿™æ ·çš„..</p><p id="719b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">åŸå› :</strong></p><ol class=""><li id="d4a4" class="na nb in jm b jn jo jr js jv nc jz nd kd ne kh nf ng nh ni bi translated">ç­›é€‰æ¡ä»¶ä»…è¿”å› 1 ä¸ªå…·æœ‰ç©ºä½œä¸šçš„å¯¹è±¡ã€‚ç”±äºå€¼ä¸å­˜åœ¨ï¼Œå°†ä» orElse è¿”å›é»˜è®¤åç§°ã€‚</li><li id="3646" class="na nb in jm b jn nj jr nk jv nl jz nm kd nn kh nf ng nh ni bi translated">æ‰€é€‰å‘˜å·¥çš„åå­—æ˜¯ Timã€‚ç„¶åå®ƒå°†è¢«æ˜ å°„ä¸ºå¤§å†™å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/4967c0d7118b079c65e8f033afbc29fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AXGYShlXhiyW5mCuGJo8Aw.png"/></div></div><figcaption class="np nq gj gh gi nr ns bd b be z dk translated">ç»“æœ</figcaption></figure></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><p id="35bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¿™éƒ½æ˜¯å…³äº<strong class="jm io">é€‰é¡¹</strong>â€¦å°½å¯èƒ½å¤šåœ°ä½¿ç”¨é€‰é¡¹æ¥é¿å… npeï¼Œä½¿ä½ çš„ä»£ç æ›´åŠ æ•´æ´ã€‚ğŸ‘ ğŸ’ª ğŸ˜ ğŸ‘Š</p></div></div>    
</body>
</html>