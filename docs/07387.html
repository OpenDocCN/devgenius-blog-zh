<html>
<head>
<title>K-Means Formula 1 2021 Tracks from telemetry Data with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">k-表示使用 Python 从遥测数据中获得的 2021 条方程式赛道</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/k-means-formula-1-2021-tracks-from-telemetry-data-with-python-52a4263ddd6c?source=collection_archive---------5-----------------------#2022-03-21">https://blog.devgenius.io/k-means-formula-1-2021-tracks-from-telemetry-data-with-python-52a4263ddd6c?source=collection_archive---------5-----------------------#2022-03-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e0bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">根据资格赛的最佳成绩对 Formula 1 2021 赛道进行聚类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/640ad17c94465f0413b79171ee6cdeac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*zilpGqz68H-Z3Bpb4K4wJQ.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">F1 2021 首曲目</figcaption></figure></div><div class="ab cl ku kv hr kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ig ih ii ij ik"><h2 id="865c" class="lb lc in bd ld le lf dn lg lh li dp lj jv lk ll lm jz ln lo lp kd lq lr ls lt bi translated">无监督机器学习</h2><p id="b0e9" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">无监督机器学习是一种从无目标数据中学习的算法。例如，我可以将我的客户分为多少个类别，或者有多少种不同的司机行为。这一类别中的一些算法是 K-均值聚类、主成分分析、层次聚类。为了聚类 F1 赛道，我们将使用 K-Means。</p></div><div class="ab cl ku kv hr kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ig ih ii ij ik"><h2 id="542f" class="lb lc in bd ld le lf dn lg lh li dp lj jv lk ll lm jz ln lo lp kd lq lr ls lt bi translated">k 均值</h2><p id="d368" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">K-Means 算法通过尝试将样本分成 n 个方差相等的组来对数据进行聚类，从而最小化一个称为<em class="lz">惯性</em>或类内平方和的标准。K-means 算法旨在选择最小化<strong class="jm io">惯性</strong>或<strong class="jm io">类内平方和标准的质心。</strong></p><p id="c705" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">尽管要应用 K-Means，首先需要对聚类数进行分类。为了做到这一点，人们使用了肘法。elbow 方法对数据集中的 k 值范围(比如从 1 到 10)运行 k 均值聚类，然后对 k 的每个值计算所有聚类的平均分数。默认情况下，计算失真分数，即从每个点到其指定中心的平方距离的总和。</p></div><div class="ab cl ku kv hr kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ig ih ii ij ik"><h2 id="7c97" class="lb lc in bd ld le lf dn lg lh li dp lj jv lk ll lm jz ln lo lp kd lq lr ls lt bi translated">数据</h2><p id="88ec" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">已经使用 python 中的 fastf1 包检索了用于运行此操作的数据。</p><p id="7fb3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">每场比赛的流程:</p><ol class=""><li id="a4ff" class="ma mb in jm b jn jo jr js jv mc jz md kd me kh mf mg mh mi bi translated">正在检索合格的会话圈速</li><li id="6704" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">选择最佳驱动程序</li><li id="e7d6" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">用遥测数据检索最佳单圈</li><li id="8d5f" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">不包括潮湿条件下的单圈时间</li><li id="a024" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">计算每条赛道的具体 KPI</li></ol><ul class=""><li id="9627" class="ma mb in jm b jn jo jr js jv mc jz md kd me kh mo mg mh mi bi translated">全速</li><li id="8483" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">平均速度(距离/圈速)</li><li id="a5a6" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">轨道的距离</li><li id="3758" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">全油门百分比(油门≥95 时的遥测数据计数/遥测数据计数)</li><li id="4690" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">基于最小速度的弯道数量，按 50 公里/小时分组</li><li id="da97" class="ma mb in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">基于最大速度的直道数量，按 50 公里/小时分组</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/d3f7dc6ac268c5e449b1828f0ebacefa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*C22-y9wRshP2_HuhfIXTJg.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">代码示例</figcaption></figure><h2 id="739f" class="lb lc in bd ld le lf dn lg lh li dp lj jv lk ll lm jz ln lo lp kd lq lr ls lt bi translated">数据预处理</h2><p id="1de9" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">实现上述步骤后，代码生成下表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mq"><img src="../Images/8702e0c4ba63f80bb681f7a7bce6d076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TtLEPf1VYsIawmpLgFOclg.png"/></div></div></figure><p id="5faf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在应用肘方法和 K-Means 算法之前，我们用一个热编码器为列“cor_50”、“cor_100”、“cor_150”、“cor_200”、“cor_250”、“cor_300”、“str_150”、“str_200”、“str_250”、“str_300”、“str_350”和最小最大缩放器转换数据。</p><h2 id="17f4" class="lb lc in bd ld le lf dn lg lh li dp lj jv lk ll lm jz ln lo lp kd lq lr ls lt bi translated">肘法</h2><p id="337f" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">使用<a class="ae mv" href="https://www.scikit-yb.org/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">yellow brick</strong></a><strong class="jm io"/>API 的最佳簇数是 8。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/04c8d2f62a5bbe2a435a51536be63f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*ZipDjA4OSGQBmOjFHqqb7w.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">肘法</figcaption></figure><h2 id="092a" class="lb lc in bd ld le lf dn lg lh li dp lj jv lk ll lm jz ln lo lp kd lq lr ls lt bi translated">k-均值结果</h2><p id="6196" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">使用 Python 中的 scikit-learn，下图显示了聚类的最终结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mx"><img src="../Images/a9ffd1b4fb53fe323830e718a15a4b0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ORBfv6CORmLuadzF-ovszA.png"/></div></div></figure><p id="3444" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在第一组中，我们可以看到阿布扎比、墨西哥和法国，这三条赛道都有高速直道和低速弯角。</p><p id="468a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第二个，沙特阿拉伯，意大利，奥地利，那里有平均速度为 251 公里/小时的快速赛道。不要忘记蒙扎<strong class="jm io">“速度圣殿”</strong>。</p><p id="340a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第三组是卡塔尔、荷兰、艾米利亚-罗马涅，在 6 条直道上，所有弯道中的最小速度都高于 100km/h。超过 250 公里/小时</p><p id="a01a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">巴西、美国、葡萄牙和巴林位于第四组，弯道和直道各不相同。</p><p id="4e71" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第五类是土耳其、俄罗斯和阿塞拜疆。所有这三条赛道的弯道最多，最小速度在 50 公里/小时-150 公里/小时之间</p><p id="d318" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第六类的特征与第四类非常接近。但是 150km/h-200km/h 的速度下弯道比较多。</p><p id="eec2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第七个集群包含银石。我个人的期望是和蒙扎在一起，但不是。比蒙扎赛道要慢一点，所以算法会用这条赛道做出一个独特的集群。</p><p id="c73a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对摩纳哥来说，我认为这不需要任何解释。<strong class="jm io">同类之一</strong>。</p><p id="82d7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">感谢您阅读这篇文章。最终的代码可以在参考文献中找到。</p><p id="02f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">参考资料:</p><div class="my mz gp gr na nb"><a href="https://scikit-learn.org/stable/modules/clustering.html#k-means" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd io gy z fp ng fr fs nh fu fw im bi translated">2.3.使聚集</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">可以使用 modulesklearn.cluster 对未标记的数据进行聚类。每种聚类算法都有两种…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">scikit-learn.org</p></div></div><div class="nk l"><div class="nl l nm nn no nk np ko nb"/></div></div></a></div><div class="my mz gp gr na nb"><a href="https://theoehrly.github.io/Fast-F1/" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd io gy z fp ng fr fs nh fu fw im bi translated">快速 F1 文档-快速 F1 2.2.0 文档</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">请注意，需要 Python 3.8 或更高版本。(实时计时客户端不支持 Python 3.10，因此完全…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">theoehly . github . io</p></div></div></div></a></div><div class="my mz gp gr na nb"><a href="https://www.scikit-yb.org/en/latest/api/cluster/elbow.html" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd io gy z fp ng fr fs nh fu fw im bi translated">弯头方法- Yellowbrick v1.3.post1 文档</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">KElbowVisualizer 实现了“肘”的方法，以帮助数据科学家选择最佳数量的集群…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">www.scikit-yb.org</p></div></div><div class="nk l"><div class="nq l nm nn no nk np ko nb"/></div></div></a></div><div class="my mz gp gr na nb"><a href="https://github.com/dimitrisnismo/Formula1_TrackAnalytics" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd io gy z fp ng fr fs nh fu fw im bi translated">GitHub-dimitrisnismo/formula 1 _ track analytics</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">github.com</p></div></div><div class="nk l"><div class="nr l nm nn no nk np ko nb"/></div></div></a></div></div></div>    
</body>
</html>