<html>
<head>
<title>Data Cleaning in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的数据清理</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/data-cleaning-in-python-c9d7808dbeca?source=collection_archive---------1-----------------------#2020-08-07">https://blog.devgenius.io/data-cleaning-in-python-c9d7808dbeca?source=collection_archive---------1-----------------------#2020-08-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9626" class="pw-subtitle-paragraph jl im in bd b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc dk translated">了解Pandas中的数据清理过程</h2></div><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi kd"><img src="../Images/85c80468c5cfb08923ccbabad6e3c32f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MbkFJS9YUfVeGKd-"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk translated">照片由<a class="ae kt" href="https://unsplash.com/@thecreative_exchange?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">在<a class="ae kt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的创意交流</a></figcaption></figure><p id="468c" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">在本教程中，</strong>我们将学习宝贵的技能，这些技能将成为我们数据处理工作的基础。在我们可以应用机器学习算法或对我们的数据进行不同的分析之前，我们必须清理我们的数据并将其转换为合适的格式。这样的初始数据争论过程通常被称为<strong class="kw io">提取转换负载(ETL) </strong>。我们执行ETL和基本分析的首选工具是Pandas包。</p><h2 id="9014" class="lq lr in bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">熊猫是什么？</h2><p id="ef2f" class="pw-post-body-paragraph ku kv in kw b kx mj jp kz la mk js lc ld ml lf lg lh mm lj lk ll mn ln lo lp ig bi translated">Pandas代表“Python数据分析库”。在使用Python分析数据时，Pandas非常灵活。Pandas是由Wes McKinney开发的高级数据操作工具。</p><p id="61ca" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">Pandas最好的特性之一是它接受数据(CSV或TSV文件，或SQL数据库)并创建一个包含行和列的Python对象，称为数据框。</p><p id="e0c4" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">为了使用熊猫，你需要首先如下<em class="mo">导入</em>熊猫库:</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi mp"><img src="../Images/36c61196e4613004f038eebac1d0c386.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*3cqBRzaqLFzwoxLqN68CFw.png"/></div></div></figure><p id="d58f" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io"> <em class="mo"> Numpy </em> </strong> <em class="mo">是一个像熊猫一样的库，帮助用Python进行科学计算。现在熊猫可以使用了！</em></p><h2 id="93e1" class="lq lr in bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">为什么我们需要ETL？</h2><p id="5ce7" class="pw-post-body-paragraph ku kv in kw b kx mj jp kz la mk js lc ld ml lf lg lh mm lj lk ll mn ln lo lp ig bi translated">ETL是数据分析和数据科学的重要步骤。它构成了<strong class="kw io">探索性数据分析(EDA) </strong>的基础。我们经常使用不同的数据集，而我们对这些数据集几乎一无所知。在这种情况下，我们的第一步是探索数据并熟悉它，比如什么是行/列？我们有多少观测值？有缺少的值吗？如果有的话，有哪些异常值？所有这些问题都可以通过应用ETL将原始数据集转换成有用的视图来回答。</p><p id="7442" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">加载我们的数据:</strong> <em class="mo">从. csv文件导入我们的数据</em></p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi mq"><img src="../Images/d06debeefc5c704673be3e867194dfd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSNrFpHlAYM6c3UtfCUDeg.png"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk translated">创建我们的数据框架king_data</figcaption></figure><p id="67e7" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">该数据集由21597个观测值和21个特征组成。</p><p id="d24b" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">另一种显示数据的方式是使用<strong class="kw io">。头()和。</strong>尾巴()【命令。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi mr"><img src="../Images/feda8fbe32245eb6cba9d3a9212ca27e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ccjjGZivv8kpHFGAw4uyfg.png"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk translated"><strong class="bd ls">。head() </strong>显示前5行和<strong class="bd ls">。tail() </strong>显示最后5行</figcaption></figure><p id="4ddb" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">为了更仔细地查看我们的数据，我们可以使用<strong class="kw io">。info() </strong>获取数据帧的简明摘要。做EDA的时候真的很方便。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/d17993c6765fa86fe75a8b26a9531d0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*6643aOszXR1jDuQMHsZC4g.png"/></div></figure><p id="ceaf" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">使用Describe函数</strong>:计算与DataFrame列相关的统计信息的摘要。此函数返回计数、平均值、标准差、最小-最大值和IQR ( <strong class="kw io">四分位距)</strong>值。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi mt"><img src="../Images/0372d8a96ff6911468491dfd84c709e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mx_9KLz5vKA7B6jOoMbMEw.png"/></div></div></figure><h2 id="2b18" class="lq lr in bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">数据可视化:</h2><p id="861a" class="pw-post-body-paragraph ku kv in kw b kx mj jp kz la mk js lc ld ml lf lg lh mm lj lk ll mn ln lo lp ig bi translated">数据可视化是数据的图形表示，有助于我们理解数据的含义。这将帮助我们了解如何清理我们的数据。一些常见的可视化方法有:</p><p id="1dac" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">利用。corr() </strong> —在线性回归中建模时，有必要移除高度相关的变量。我们可以用熊猫“<strong class="kw io">”来寻找相关性。corr() </strong>”函数，并可以使用<em class="mo"> seaborn </em>中的热图来可视化相关矩阵。</p><p id="f450" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io"> Seaborn </strong>是用<strong class="kw io"> Python </strong>制作统计图形的库。它构建在matplotlib之上，并与pandas数据结构紧密集成。</p><pre class="ke kf kg kh gt mu mv mw mx aw my bi"><span id="1a92" class="lq lr in mv b gy mz na l nb nc"><strong class="mv io">import</strong> <strong class="mv io">seaborn</strong> <strong class="mv io">as</strong> <strong class="mv io">sns</strong></span></pre><p id="3264" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">检查数据集中变量之间的相关性:</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi nd"><img src="../Images/1ccc7a826a25f97cb2454556aba15976.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2UANUJp_lchJesdeOdUKYg.png"/></div></div></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/0b0398f7f3aa35ef30ca71aff64e0add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*GlKMoLbUBFHNjajyrr3NhQ.png"/></div></figure><ul class=""><li id="252c" class="nf ng in kw b kx ky la lb ld nh lh ni ll nj lp nk nl nm nn bi translated">深色代表正相关，而浅色代表负相关。</li><li id="023b" class="nf ng in kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">如果设置annot=True，您将获得格网单元中要素相互关联的值。</li><li id="7292" class="nf ng in kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">这里我们可以看到“sqft_living”与“浴室”有很强的正相关性。</li></ul><p id="5a32" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">使用配对图</strong> —在数据集中绘制成对关系。Pair plot创建一个轴网格，这样数据集中的每个数值变量将在y轴的一行中共享，在x轴的一列中共享。也可以显示变量的子集，或者在行和列上绘制不同的变量，如下所示:</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/5cc067587e810338f90de39cfa33b93f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*8nf8EE39QlOq8VdZF4nfQw.png"/></div></figure><p id="50e7" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">使用直方图</strong> —直方图是快速检查数据样本分布的一种简单且常用的图表。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/18d0fa90a29d5d4a65489b96721f788b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*BzNbMsODm7kX5oEjJU2uCg.png"/></div></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi nv"><img src="../Images/e9822b912e545f26f5030dcf8c2361b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0aemglaZDuGWLFmUWyfiA.png"/></div></div></figure><h2 id="9608" class="lq lr in bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">数据清理:</h2><p id="82c1" class="pw-post-body-paragraph ku kv in kw b kx mj jp kz la mk js lc ld ml lf lg lh mm lj lk ll mn ln lo lp ig bi translated">在可视化数据，并更好地了解它之后，我们现在可以开始清理它了。</p><p id="81f5" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">唯一值</strong> —下面是我们如何检查列的唯一值，以及查看每个唯一值的出现次数:</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/d5faf2052656eb5daaf9cd69ab158e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*rdDlRYNWLAidJKqfwq1GHQ.png"/></div></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/deb7163f6c8a30a1c40c3abd362ad0f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*BhNt9ydNJBQdV3FIA8AiqA.png"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk translated">邮政编码的唯一值</figcaption></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi ny"><img src="../Images/414c9c83e2345abe153522c2b4d26faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*TpYc-Zri3vNPJ1fp8zEuvA.png"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk translated">每个邮政编码的价值计数</figcaption></figure><p id="bf0b" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">填充/替换</strong>不需要的值:我们的数据集中有一些不需要的值，比如NA和？。我们可以根据自己的意愿填充或删除它们。如果我们只想删除它们，我们可以使用<strong class="kw io"> df.dropna() </strong>其中df是我们的数据帧的名称。否则，我们可以使用以下命令:</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/647764e64dba551e7d28da117ae7623e.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*O6No0mO_97AlMdj2DRGrWw.png"/></div></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d7e33226a952546d94c6861ff4412565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*UtX2dQqxvMlWBjZCisGSAg.png"/></div></figure><p id="d0f3" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">使用Groupby </strong> — groupby()函数用于根据某些标准将数据分组。它有助于我们根据特定标准可视化数据。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi ob"><img src="../Images/8269fa870d8d844e4a95963987e12272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*owMwgCFQ4RZNnSUIUrybeQ.png"/></div></div></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c126b2a470f86fc08c758d2fe9a968e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*kAVDHqJ2dwBQNhsANFXrAQ.png"/></div></figure><p id="023e" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">删除行或列</strong>:删除不需要的行/列也是清理过程的重要部分。我们可以通过指定标签名和相应的轴，或者直接指定索引或列名来实现。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi od"><img src="../Images/0d0e9289afbf5ad7eee40d0531272c55.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*JXjyuMMXtpB4pLzhusjkQw.png"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk translated">删除列date和id，指定axis = 1</figcaption></figure><p id="1362" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">检查空值:</strong>我们应该总是检查数据集中是否有丢失的值，这可以通过使用pd.isnull()来完成。这将检查空值，并返回一个布尔数组(数组<strong class="kw io"> <em class="mo"> true </em> </strong>表示缺失值，数组<strong class="kw io"> <em class="mo"> false </em> </strong>表示非缺失值)。</p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="2de4" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">您可以在以下网址查看关于清理和可视化的完整代码:</p><div class="ol om gp gr on oo"><a href="https://github.com/Menonvid/Mod2-Proj/blob/master/student.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd io gy z fp ot fr fs ou fu fw im bi translated">Menonvid/Mod2-Proj</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">permalink dissolve GitHub是超过5000万开发人员的家园，他们一起工作来托管和审查代码，管理…</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">github.com</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc kn oo"/></div></div></a></div></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h2 id="3786" class="lq lr in bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">结论:</h2><p id="e39d" class="pw-post-body-paragraph ku kv in kw b kx mj jp kz la mk js lc ld ml lf lg lh mm lj lk ll mn ln lo lp ig bi translated">在本教程中，我们学习了首字母缩写词ETL，并使用pandas预览了几个ETL过程的例子。EDA还有很多方式和方法，但我已经尝试涵盖了基本的和一些常用的方法。</p><p id="6134" class="pw-post-body-paragraph ku kv in kw b kx ky jp kz la lb js lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">请随时留下任何意见或建议。感谢您阅读这篇文章。</p></div></div>    
</body>
</html>