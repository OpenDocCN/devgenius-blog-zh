<html>
<head>
<title>How to create data visualization app with Blazor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Blazor 创建数据可视化应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-create-data-visualization-app-with-blazor-3bbe5484fec7?source=collection_archive---------0-----------------------#2021-08-19">https://blog.devgenius.io/how-to-create-data-visualization-app-with-blazor-3bbe5484fec7?source=collection_archive---------0-----------------------#2021-08-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c551bbdb9c0eaea420d848fa709b1e7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Tet6zjQiNsdJGbL_42EhQ.png"/></div></div></figure><p id="e70f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Blazor 近年来成为了一颗冉冉升起的新星，因为它显著降低了 C#程序员进入 web 开发的门槛。这个新框架使得在一个项目中结合使用 C#创建内部和外部逻辑的能力，同时使用各种 JavaScript 库的特性成为可能。</p><p id="ace1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用户预测这个框架的使用会增加，并且有充分的理由这样做。这个框架非常灵活和通用:</p><ul class=""><li id="43af" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">应用程序可以在所有浏览器上工作，不需要插件；</li><li id="6d5b" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">您可以在 C#中重用您的知识，同时保留使用与兼容的任何库的能力。净标准；</li><li id="2424" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">您可以使用服务器端或客户端方法。</li></ul><p id="e01a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，最后一点导致您必须选择在您的 Blazor 项目中使用什么——Blazor 服务器或 Web 程序集。</p><p id="7e48" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">主要的问题是，当使用服务器时，你会失去速度，你不能离线工作，你需要服务器本身，它运行在 speed 核心。如果您选择 Web Assembly，那么您当然会因为在客户端进行渲染而提高速度，但是您会面临另一个问题—浏览器。你受限于它的能力和速度，它可以下载的容量</p><p id="57cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">无论如何，这项技术已经上市，并且已经出现了大量不同的集成和带有各种组件和工具的联合项目。因此，它在功能上并不逊色于 Angular 或 React 等旧框架。</p><p id="73a1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我的任务是使用 Blazor 快速创建一个数据分析应用程序。为此，我选择了 Flexmonster 数据透视表&amp;图表 JavaScript 库。</p><p id="8c56" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以我将指导你使用 Blazor 和 Flexmonster 创建一个<strong class="jx io">数据可视化应用的整个过程。</strong></p><h1 id="01fd" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">第一步。最低准备</h1><p id="c5a8" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">如果您刚刚开始使用。网安装<a class="ae mk" href="https://dotnet.microsoft.com/download" rel="noopener ugc nofollow" target="_blank">。NET Softwer Developer Kit</a>(SDK)——你可以选择你的操作系统和版本。要检查所有东西是否安装正确，请在终端中运行<strong class="jx io"> <em class="ml"> dotnet </em> </strong>。</p><h1 id="fe21" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">第二步。创建基本的 Blazor 应用程序</h1><p id="e425" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">要创建您的第一个应用程序，您只需在终端中编写:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="7c16" class="mv li in mr b gy mw mx l my mz">dotnet new blazorserver -o BlazorApp — no-https</span></pre><p id="3b99" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在您在当前位置的一个名为<strong class="jx io"> <em class="ml"> BlazorApp </em> </strong>的新目录中有了一个新的 Blazor app 项目。(请注意，我们已经禁用了 HTTPS！)</p><p id="7aa2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们打开<a class="ae mk" href="http://localhost:5000/" rel="noopener ugc nofollow" target="_blank"><em class="ml">http://localhost:5000</em></a><em class="ml">看看有什么。</em>如果你做的一切都正确，那么你会看到基本的 Blazor 应用程序:</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/72394d273e9d40e8ed1b567769ab0495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XaES6EQET3FDi3eQ"/></div></div></figure><p id="327f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以使用左侧的菜单在不同页面之间导航。它们都在<em class="ml">的<em class="ml">页/ </em>目录中定义。剃刀</em>档。你现在看到的是 Index.razor 文件。</p><p id="6274" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将把 Flexmonster Pivot 嵌入到最后一个名为<strong class="jx io">的获取数据</strong>上。如果你现在打开它，你会在表格视图中看到天气预报。我们将删除它并添加我们自己的数据。</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/9598144bc73b0e0230aea8385a269531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_pJ8puNi3eRkGBai"/></div></div></figure><h1 id="01eb" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">第三步。在我们的应用程序中安装并添加一个数据透视表</h1><p id="4030" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">我们需要做的第一件事是安装 Flexmonster。通过在您的终端中运行一个命令来打包 Blazor:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="a03b" class="mv li in mr b gy mw mx l my mz">dotnet add package Flexmonster.Blazor</span></pre><p id="708a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后在项目的根目录中找到 _Imports.razor 文件，并将下面一行代码添加到该文件的末尾:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="50c7" class="mv li in mr b gy mw mx l my mz">@using Flexmonster.Blazor</span></pre><p id="cf4d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在是时候在页面上显示枢纽了。在<em class="ml"> Pages/ </em>目录下的<em class="ml"> _Host.cshtml </em>文件中添加 Flexmonster 脚本到其他元数据标签:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="fa2f" class="mv li in mr b gy mw mx l my mz">&lt;head&gt;</span><span id="c6fb" class="mv li in mr b gy nb mx l my mz">&lt;! — Other metadata tags →</span><span id="2331" class="mv li in mr b gy nb mx l my mz">&lt;link href=”css/app.css” rel=”stylesheet” /&gt;</span><span id="dfd6" class="mv li in mr b gy nb mx l my mz">&lt;link href=”PivotBlazor.styles.css” rel=”stylesheet” /&gt;</span><span id="b7f0" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">&lt;script src=”_content/Flexmonster.Blazor/blazor-flexmonster.js”&gt;&lt;/script&gt;</strong></span><span id="1713" class="mv li in mr b gy nb mx l my mz">&lt;! — Other metadata tags →</span><span id="e635" class="mv li in mr b gy nb mx l my mz">&lt;/head&gt;</span></pre><p id="9268" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个打开的 FetchData.razor 文件之后，删除除了这一行之外的所有内容:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="fe5d" class="mv li in mr b gy mw mx l my mz">@page “/fetchdata”</span></pre><p id="c875" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后将标题和 Flexmonster 本身添加到组件中:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="d0f6" class="mv li in mr b gy mw mx l my mz">&lt;h3&gt;Pivot&lt;/h3&gt;</span><span id="7251" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">&lt;FlexmonsterComponent Report=”@report”</strong></span><span id="571a" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">Toolbar=”true”</strong></span><span id="c5db" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">Width=”100%”</strong></span><span id="bd72" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">Height=”600"&gt;</strong></span><span id="503f" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">&lt;/FlexmonsterComponent&gt;</strong></span></pre><p id="edd1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">本块中提到的参数显示:</p><ul class=""><li id="d988" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated"><strong class="jx io">报表</strong> —显示哪个报表；</li><li id="2c2e" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io">工具栏— </strong>启用或禁用 Flexmonster 工具栏；</li><li id="2aed" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated"><strong class="jx io">宽度</strong>和<strong class="jx io">高度</strong> —枢轴的尺寸。</li></ul><p id="6fc0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在<a class="ae mk" href="https://www.flexmonster.com/api/new-flexmonster/?r=dg" rel="noopener ugc nofollow" target="_blank"> Flexmonster 的文档</a>中了解更多初始化参数。</p><p id="463d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是正如我们没有说什么是<em class="ml">报告一样</em>中枢不会显示任何东西。为了使它正确，我们需要定义包含报告的变量:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="a9b9" class="mv li in mr b gy mw mx l my mz">@code {</span><span id="6e33" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">string report =</strong></span><span id="c68e" class="mv li in mr b gy nb mx l my mz"><strong class="mr io">“https://cdn.flexmonster.com/reports/report.json";</strong></span><span id="804c" class="mv li in mr b gy nb mx l my mz">}</span></pre><p id="684e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最终，您的 FetchData.razor 文件应该如下所示:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="4ffe" class="mv li in mr b gy mw mx l my mz">@page “/fetchdata”</span><span id="67eb" class="mv li in mr b gy nb mx l my mz">&lt;h3&gt;Pivot&lt;/h3&gt;</span><span id="aa7f" class="mv li in mr b gy nb mx l my mz">&lt;FlexmonsterComponent Report=”@report”</span><span id="e3af" class="mv li in mr b gy nb mx l my mz">Toolbar=”true”</span><span id="e879" class="mv li in mr b gy nb mx l my mz">Width=”100%”</span><span id="3f29" class="mv li in mr b gy nb mx l my mz">Height=”600"&gt;</span><span id="05eb" class="mv li in mr b gy nb mx l my mz">&lt;/FlexmonsterComponent&gt;</span><span id="562a" class="mv li in mr b gy nb mx l my mz">@code {</span><span id="7fde" class="mv li in mr b gy nb mx l my mz">string report = “https://cdn.flexmonster.com/reports/report.json";</span><span id="1fb8" class="mv li in mr b gy nb mx l my mz">}</span></pre><h1 id="1b70" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">第四步。运行你的 Blazor 应用程序</h1><p id="1b02" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">最后一个操作是使用以下命令运行您的应用程序:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="3ad4" class="mv li in mr b gy mw mx l my mz">dotnet run</span></pre><p id="6cd0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">并打开<a class="ae mk" href="http://localhost:5000/" rel="noopener ugc nofollow" target="_blank"><em class="ml">http://localhost:5000</em></a>。您的最终结果应该是这样的:</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/d7b999c2134cfdac989845d7221bd7ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1pRaEVeCvO-Y0LK3nbtpEA.gif"/></div></div></figure><h1 id="705e" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">结论</h1><p id="fd7f" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">我想通过这个例子，你已经看到了使用 Blazor 和额外的 JavaScript 库创建一个应用程序是多么简单和快速。只需几个步骤，您就可以编写一个应用程序，节省大量时间，然后您可以将这些时间花在项目的逻辑和改进上。</p><p id="bac9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对我来说，这是我第一次与 Blazor 合作，结果真的很棒！我很乐意在我的其他项目中继续使用这个框架，我真的建议你也尝试一下。</p><h1 id="6c28" class="lh li in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">附加说明</h1><p id="96a9" class="pw-post-body-paragraph jv jw in jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">如果你也对使用这个框架感兴趣，那么我可以满足你——Blazor 有一系列优秀的关于创建各种应用程序的教程,所以你可以自己充分发现这项技术。</p><p id="cd77" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">顺便说一下，Flexmonster 也有一些东西可以提供给你——在他们的 GitHub 档案中，你可以找到 Blazor 上的一个示例项目。有几个例子，你也可以在工作中用作模板。</p><p id="d595" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望这篇教程对你有所帮助，并为你开辟了新的天地。我将很高兴听到你和 Blazor 的经历，并回答你可能有的任何问题！</p></div></div>    
</body>
</html>