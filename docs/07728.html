<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://blog.devgenius.io/understanding-memoization-c4a4ad187438?source=collection_archive---------17-----------------------#2022-04-18">https://blog.devgenius.io/understanding-memoization-c4a4ad187438?source=collection_archive---------17-----------------------#2022-04-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><p id="578c" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">理解记忆化。</p><figure class="jl jm jn jo gt jp gh gi paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="gh gi jk"><img src="../Images/60ef0e4c9f610ca393098cf51f783b3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPbK_LHeV1hRDwXgJwqdyQ.png"/></div></div></figure><p id="c752" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">编程中最重要的概念之一就是“<strong class="io jw">记忆化</strong>”。</p><p id="77dc" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">今天，我们将尝试理解这个概念，以及为什么它被高度评价为性能技术的最佳方式之一。</p><blockquote class="jx jy jz"><p id="d51f" class="il im ka io b ip iq ir is it iu iv iw kb iy iz ja kc jc jd je kd jg jh ji jj ig bi translated"><strong class="io jw">记忆化</strong>是一种<a class="ae ke" href="https://en.wikipedia.org/wiki/Optimization_(computer_science)" rel="noopener ugc nofollow" target="_blank">优化</a>技术，主要用于通过存储昂贵的<a class="ae ke" href="https://en.wikipedia.org/wiki/Subroutine" rel="noopener ugc nofollow" target="_blank">函数调用</a>的结果并在相同的输入再次出现时返回缓存的结果来加速<a class="ae ke" href="https://en.wikipedia.org/wiki/Computer_programs" rel="noopener ugc nofollow" target="_blank">计算机程序</a>。</p></blockquote><p id="81c1" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">记忆化简单来说就是记忆或储存在记忆中。记忆化的函数通常更快，因为如果随后用相同的值调用该函数，那么它将从缓存中取出结果，而不是执行该函数。</p><p id="04ce" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">让我们来看一个简单的记忆函数。</p><pre class="jl jm jn jo gt kf kg kh ki aw kj bi"><span id="df26" class="kk kl in kg b gy km kn l ko kp">// a simple function to add something<br/>const add = (n) =&gt; (n + 5);<br/>add(9);<br/>// a simple memoized function to add something<br/>const memoizedAdd = () =&gt; {<br/>  let cache = {};<br/>  return (n) =&gt; {<br/>    if (n in cache) {<br/>      console.log('Fetching from cache..');<br/>      return cache[n];<br/>    }<br/>    else {<br/>      console.log('Calculating result..');<br/>      let result = n + 5;<br/>      cache[n] = result;<br/>      return result;<br/>    }<br/>  }<br/>}</span><span id="2433" class="kk kl in kg b gy kq kn l ko kp">// returned function from memoizedAdd<br/>const newAdd = memoizedAdd();<br/>console.log(newAdd(9)); // calculated<br/>console.log(newAdd(9)); // cached</span></pre><p id="0fef" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">上述记忆功能的一些关键要点。</p><ul class=""><li id="497e" class="kr ks in io b ip iq it iu ix kt jb ku jf kv jj kw kx ky kz bi translated"><code class="fe la lb lc kg b">memoizedAdd</code>返回稍后调用的<code class="fe la lb lc kg b">function</code>。这是可能的，因为在 JavaScript 中，函数是一级对象，这使得我们可以将它们用作 HOF 并返回另一个函数。</li><li id="f79c" class="kr ks in io b ip ld it le ix lf jb lg jf lh jj kw kx ky kz bi translated"><code class="fe la lb lc kg b">cache</code>可以记住它的<em class="ka">值</em>，因为返回的函数有一个<a class="ae ke" href="https://developer.mozilla.org/en/docs/Web/JavaScript/Closures" rel="noopener ugc nofollow" target="_blank">闭包</a>。</li><li id="a32d" class="kr ks in io b ip ld it le ix lf jb lg jf lh jj kw kx ky kz bi translated">记忆函数必须是纯的。一个纯函数将会为一个特定的输入返回相同的输出，不管它被调用多少次，这使得<code class="fe la lb lc kg b">cache</code>像预期的那样工作。</li></ul><p id="8084" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">让我们试着实现你自己的记忆方法。</p><pre class="jl jm jn jo gt kf kg kh ki aw kj bi"><span id="589f" class="kk kl in kg b gy km kn l ko kp">// a simple memoize function. It takes a function as an argument.<br/>const memoize = (fn) =&gt; {<br/>  let cache = {};<br/>  return (...args) =&gt; {<br/>    let n = args[0];<br/>    if (n in cache) {<br/>      console.log('Fetching from the cache...');<br/>      return cache[n];<br/>    } else {<br/>      let result = fn(n);<br/>      cache[n] = result;<br/>      console.log('Calculating the result...');<br/>      return result;<br/>    }<br/>  }<br/>}</span><span id="d7fe" class="kk kl in kg b gy kq kn l ko kp">const add = (n) =&gt; (n + 10);<br/>console.log('Add call', add(3));</span><span id="a802" class="kk kl in kg b gy kq kn l ko kp">const memoizedAdd = memoize(add);<br/>console.log(memoizedAdd(3));  // calculated<br/>console.log(memoizedAdd(3)); // cache</span></pre><p id="ae99" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">这种方法适用于简单的函数，并且可以根据实现需要进行相应的调整。</p><p id="54f3" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">这篇文章背后的主要思想是深入了解记忆化技术，它可以用于更好的优化技术。</p><h1 id="09c1" class="li kl in bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">记忆化和缓存一样吗？</h1><p id="9d71" class="pw-post-body-paragraph il im in io b ip mf ir is it mg iv iw ix mh iz ja jb mi jd je jf mj jh ji jj ig bi translated">是的，算是吧。记忆化实际上是一种特定类型的缓存。虽然高速缓存通常可以指任何存储技术(如<a class="ae ke" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching" rel="noopener ugc nofollow" target="_blank"> HTTP 高速缓存</a>)以备将来使用，但是内存化特别涉及<em class="ka">高速缓存</em>一个<code class="fe la lb lc kg b">function</code>的返回值。</p><p id="b808" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">记忆化的最佳用例是针对繁重计算功能的<strong class="io jw"/>，这可以显著提高性能。</p><p id="ef8a" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">我希望这篇文章能对记忆有更好的理解。</p><p id="a3b0" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">快乐编码。不断学习和分享。继续探索。</p></div></div>    
</body>
</html>