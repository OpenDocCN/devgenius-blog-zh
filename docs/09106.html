<html>
<head>
<title>Fixing Checkmate Positions With Two Same Color Bishops</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用两个相同颜色的象固定将死位置</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/fixing-checkmate-positions-with-two-same-color-bishops-c5f84b68e010?source=collection_archive---------18-----------------------#2022-07-29">https://blog.devgenius.io/fixing-checkmate-positions-with-two-same-color-bishops-c5f84b68e010?source=collection_archive---------18-----------------------#2022-07-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ffce" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过扩展现有的类</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/01bdf1d2716af9c60832dddd75cabb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OMahKfESz53AOBDp7PCl0w.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@lazycreekimages?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Michael Dziedzic </a>在<a class="ae kv" href="https://unsplash.com/s/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="53e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">嗨，网络开发者们，你们还好吗？希望如此！这是“让我们开门见山”系列的第二篇文章，我试图用几句话解释如何解决 GitHub 上的 ChesslaBlab 问题。</p><div class="ls lt gp gr lu lv"><a href="https://programarivm.medium.com/solving-issues-on-github-in-few-words-e63a115a3260" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">用几句话解决 GitHub 上的问题</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">让我们开门见山吧</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">programarivm.medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="9e48" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，以下问题已得到解决，仅涉及后端编程。</p><div class="ls lt gp gr lu lv"><a href="https://github.com/chesslablab/php-chess/issues/219" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">修正了用两个相同颜色的主教创建将死位置的问题</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">如果试图单独和两个主教将死，不可能的将死位置会被创造出来。图一。培训…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">github.com</p></div></div><div class="me l"><div class="mk l mg mh mi me mj kp lv"/></div></div></a></div><p id="8e11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个小的重构已经完成。到目前为止,<code class="fe ml mm mn mo b">Chess\Randomizer</code>类在一些将军中工作良好——国王和王后对国王，国王和车对国王，国王和主教以及骑士对国王——同时保持相当基本，如下面的代码所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="6226" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如您在构造函数中看到的，创建随机位置时考虑了一个因素:两个国王都不能被选中。下面的测试有望帮助理解到目前为止<code class="fe ml mm mn mo b">Chess\Randomizer</code>类是如何工作的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/4edf9cdc366a93258085e51de67b1deb.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*O9QT2yOz8pAdL2lWLNwk8Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd ms">图 1 </strong>。国王创造的随机位置()</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/3ab1c4a65189fe1acc578a5705849fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*qQGczCTwjtQQa4T9ylbhmQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd ms">图二</strong>。由 w_N_B_R()创建的随机位置</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/5ded95168528322bf527b01b5e4749f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*4D7_kKfufoRRsr5jmqRwfg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd ms">图 3 </strong>。由 b_N_B_R()创建的随机位置</figcaption></figure><p id="1654" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很公平，但是，随机将死两个主教的位置(国王和两个主教对国王)不能这样创建，因为这些位置需要遵守一个新的附加条件:主教必须是不同的颜色；或者说，两个棋子所在的方格必须是不同的颜色。</p><p id="ff94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，<code class="fe ml mm mn mo b">Chess\Randomizer</code>类被移动到了<code class="fe ml mm mn mo b">Chess\Randomizer</code>命名空间中，产生了<code class="fe ml mm mn mo b">Chess\Randomizer\Randomizer</code>——一个名为<code class="fe ml mm mn mo b">src/Randomizer</code>的新文件夹也相应地为此目的而创建。这样，它可以扩展，以支持具有附加功能的位置。</p><p id="d380" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另外，<code class="fe ml mm mn mo b">src/Randomizer/Checkmate</code>文件夹已经创建好了。</p><p id="c355" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果，下面是<code class="fe ml mm mn mo b">Chess\Randomizer\Checkmate\TwoBishopsRandomizer</code>类的样子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7d28" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ml mm mn mo b">TwoBishopsRandomizer</code>通过调用其父构造函数，满足两个国王都不能被检查的基本条件。然后，它检查出两个主教是不同的颜色，为此必须在<code class="fe ml mm mn mo b">Chess\PGN\AN\Square</code>中编写一个名为<code class="fe ml mm mn mo b">color()</code>的新方法。</p><p id="5199" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ml mm mn mo b">color()</code>方法找出正方形是哪种颜色。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="02ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ml mm mn mo b">TwoBishopsRandomizer</code>已经按照下面的测试中的描述进行了添加。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="1631" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，下面是两个随机的将军位置，有两个象。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/bcaf74be0a0738eb5c79b24e4679c0ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*JzzVI2J1JSrTawUUvHKEhg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd ms">图 4 </strong>。由 w_get_board()创建的随机位置</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/5946c53b5ee95713976396511f596771.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*o23WOUoKLN_rJ2xa-BDd7w.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd ms">图 5 </strong>。b_get_board()创建的随机位置</figcaption></figure></div></div>    
</body>
</html>