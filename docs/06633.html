<html>
<head>
<title>Why Am I Seeing _ Everywhere in Python Code?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我在Python代码中处处看到_呢？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/why-am-i-seeing-everywhere-in-python-code-92bf0fa93b9c?source=collection_archive---------3-----------------------#2022-01-21">https://blog.devgenius.io/why-am-i-seeing-everywhere-in-python-code-92bf0fa93b9c?source=collection_archive---------3-----------------------#2022-01-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="bb61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">真的吗？！我不可能是唯一一个一开始就有这个问题的人！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8e3868a790f87b54f19c29fda2e61c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZTJcvMmOYwjb1HqTcsF4hg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> unsplash </a>的<a class="ae ky" href="https://unsplash.com/@_ferh97" rel="noopener ugc nofollow" target="_blank"> Fernando Hernandez </a>拍摄</figcaption></figure><p id="aea4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi kz translated"><span class="l la lb lc bm ld le lf lg lh di">答</span>在<em class="li"> Python </em>开发部门工作了一段时间后，我注意到<em class="li">下划线</em>被用在了很多我不知道的地方，在一家有很多人可以学习的公司工作。</p><p id="08e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">自然，这让我既好奇又有点恼火，为什么我不理解一个简单的字符在Python编程语言中的全部潜力。</p><p id="ea0d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">尽管这在这门语言中是一个相当简单的主题，但作为我这种类型的人，我不能完全满意，直到我经历了许多用法，对它们做了更多的研究，甚至亲自使用它们中的每一个。</p><p id="810b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就这样，当我追求我所需要的知识，并且在每天的代码中舒适地使用这些知识时，开始了另一条曲折的研究、调查和娱乐之路。</p><p id="02b4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这篇文章中，我将回顾一下在我的研究中发现的<em class="li"> Python代码</em>中下划线的不同用法，其中一些广为人知，而另一些则不那么广为人知。</p></div><div class="ab cl lj lk hr ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="ig ih ii ij ik"><p id="f902" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi kz translated"><span class="l la lb lc bm ld le lf lg lh di"> W </span>当我们仔细研究如何使用<em class="li">下划线</em>时，我们通常可以将其分成三个独立的部分:<em class="li">命名、解释器、</em>和<em class="li">有用的开发技巧。</em></p><p id="4f06" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在你的日常代码中，这些都非常有用，可以帮助你更有效地编写干净的代码。</p><h1 id="9506" class="lq lr in bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">命名</h1><p id="852b" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated"><em class="li">下划线</em>在<em class="li"> Python、</em>中有多种用法，但是当看它如何用于命名时，有五种主要用法值得一提。</p><ol class=""><li id="74ab" class="mt mu in jm b jn jo jr js jv mv jz mw kd mx kh my mz na nb bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Snake_case" rel="noopener ugc nofollow" target="_blank">蛇案命名约定</a>。</li><li id="d769" class="mt mu in jm b jn nc jr nd jv ne jz nf kd ng kh my mz na nb bi translated">单前导下划线。</li><li id="1527" class="mt mu in jm b jn nc jr nd jv ne jz nf kd ng kh my mz na nb bi translated">单后下划线。</li><li id="1e6f" class="mt mu in jm b jn nc jr nd jv ne jz nf kd ng kh my mz na nb bi translated">双前导下划线。</li><li id="9f90" class="mt mu in jm b jn nc jr nd jv ne jz nf kd ng kh my mz na nb bi translated">双前导和后置下划线。</li></ol><h2 id="94ff" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated"><em class="nt">蛇案命名惯例</em></h2><p id="9073" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">当我们提到<em class="li"> snake case命名约定</em>时，我们指的是在名称中使用下划线分隔单词的方式，这是根据<a class="ae ky" href="https://www.python.org/dev/peps/pep-0008/#:~:text=module%20non%2Dpublic%22).-,Function%20and%20Variable%20Names,prevailing%20style%20(e.g.%20threading.py)%2C%20to%20retain%20backwards%20compatibility.,-Function%20and%20Method" rel="noopener ugc nofollow" target="_blank"> PEP-8 </a>编写干净、漂亮的<em class="li"> Python </em>代码的函数和变量名的推荐命名约定。</p><h2 id="c549" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated"><em class="nt">单前导下划线</em></h2><p id="a23e" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">当我们在变量、函数或方法名称前使用一个<em class="li">前导下划线</em>时，是为了向开发人员表明它仅供类内部使用。</p><p id="3c30" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这样做的目的是将它视为非公共的，这意味着如果从一个使用<em class="li">星号*、</em>的模块导入，所有以<em class="li">前导下划线</em>开头的名字都不会被导入<em class="li">。</em></p><p id="ee12" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，如果我们将这些函数和变量保存在一个名为<em class="li"> example.py </em>的脚本中，并且我们试图导入它并访问变量和函数，那么我们将无法访问那些带有<em class="li">前导下划线的变量和函数。</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/7746cf781654c82b7ce27879825b5630.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*T_ERSi20tAFEmRbooRh3Ug.png"/></div></figure><p id="a7ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然而，考虑到<em class="li"> Python </em>并不真正支持<em class="li">私有</em>变量和方法，如果我们像下面这样直接从模块中调用它们，那么我们可以访问这些变量和函数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/0f860fb48a5420998f90937cf0b74cfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*g6DPIBUVClDlQsPO1RGX9g.png"/></div></figure><p id="5a24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们还可以从上面看出，即使是类的成员也不是真正私有的，因此这主要是用来向使用所述代码的开发人员表明意图。</p><h2 id="b2b6" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated"><em class="nt">单条下划线</em></h2><p id="a22b" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">下划线<em class="li">的这种特殊用法有助于避免命名冲突，如果您想使用任何<em class="li"> Python关键字</em>作为变量、类或函数的名称，这种用法尤其有用。</em></p><p id="5602" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">虽然这很有用，但我们不建议这样做，因为在应用程序中使用清晰简洁的名称是一个好习惯，如果你想指明所需的类型，还有更好的方法，比如<em class="li"> docstring </em>或<em class="li"> type hinting。</em></p><h2 id="a9f7" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated">双前导下划线</h2><p id="eb94" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated"><em class="li">双前导下划线</em>用于<em class="li"> Python </em>中的<a class="ae ky" href="https://en.wikipedia.org/wiki/Name_mangling" rel="noopener ugc nofollow" target="_blank">名称混淆</a>。</p><p id="5ce4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这在<em class="li"> Python </em>中的本质含义是，我们将它用于我们不希望子类使用的类属性，这是通过给它们一个带有两个<em class="li">前导下划线</em>的名称来实现的。</p><p id="0cc6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">解释器是如何做到这一点的，在运行时，任何带有双前导下划线的标识符都被替换为<strong class="jm io"> _classname__identifier </strong>，其中<em class="li"> classname </em>是带有前导下划线的当前类名。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/f77fe5466919b0e9bfb1292470bb4ff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6WPXTuH9asHujUeT6s5vFg.png"/></div></div></figure><p id="503f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这对于让子类覆盖方法而不中断其他方法调用非常有用。这既可以用于方法，也可以用于变量，但是，重要的是要注意，这只有在类定义中完成时才会发生。</p><h2 id="d82d" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated">双前导和后置下划线</h2><p id="adce" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">每当我们发现既有<em class="li">双前导下划线</em>又有<em class="li">双后置下划线</em>的方法时，这些方法就被称为<a class="ae ky" href="https://www.tutorialsteacher.com/python/magic-methods-in-python" rel="noopener ugc nofollow" target="_blank"> <em class="li">魔术或邓德方法</em> </a> <em class="li">。</em></p><p id="f57f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这些方法为名字提供了特殊的功能，但是，这种类型的命名应该完全避免，因为如果我们试图使用这种约定来命名变量或方法，将会导致冲突。</p><blockquote class="nz oa ob"><p id="6366" class="jk jl li jm b jn jo jp jq jr js jt ju oc jw jx jy od ka kb kc oe ke kf kg kh ig bi translated">“有时候最好不去管一些事情，暂停一下，编程也是如此。”乔伊斯·惠勒</p></blockquote><h1 id="1161" class="lq lr in bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">翻译</h1><p id="4b16" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated"><em class="li">下划线</em>在<em class="li"> Python </em>中的另一种用法是在<em class="li">解释器</em>中，我们不需要做任何事情来处理它。</p><p id="969b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本质上，<em class="li"> Python解释器</em>会自动将最后执行的表达式的值存储到一个名为<strong class="jm io"> _ </strong>的变量中。<strong class="jm io"> </strong>我们也可以把这个变量的值赋给另一个变量，如下图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/673d331b9fb11e11514a352ebeb00940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ifO1BORghQ9mR6r0kdgYQ.png"/></div></div></figure><p id="fd95" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当想在代码中处理表达式的结果时，记住这一点会非常方便，而不必自己赋值。</p><h1 id="ef30" class="lq lr in bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated"><em class="nt">有用的开发技巧</em></h1><p id="ff80" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">当我们谈论与下划线相关的有用特性时，Python中的<em class="li">下划线还有另外三个有用的特性，在发现这些特性后，我发现在我的代码中使用它们非常方便。</em></p><h2 id="ee3d" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated">在循环和理解中使用</h2><p id="b2f2" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">下划线<em class="li">和</em>的一个方便用法是作为循环或理解中的变量，虽然有时你希望变量有一个描述性的名字，但有时你不需要担心。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/2c89695c8f0a3d8c504f03afbeeb041d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hVO8emPVRPnNvBgbkEEYjw.png"/></div></div></figure><h2 id="69d7" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated">分隔数字的位数</h2><p id="b74b" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">这与其说是一个技巧，不如说是一种简单地提高开发人员可读性的方法。</p><p id="9dc4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本质上，当你最终得到长数字、二进制、八进制或十六进制数字时，我们可以使用下划线来分隔它们，使人们更容易理解代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/e497b8a72fd0ca7af659e3106b0b4a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kX0QBNE8yUoWAP5u6ASeFw.png"/></div></div></figure><h2 id="c819" class="nh lr in bd ls ni nj dn lw nk nl dp ma jv nm nn me jz no np mi kd nq nr mm ns bi translated">忽略值</h2><p id="a9ed" class="pw-post-body-paragraph jk jl in jm b jn mo jp jq jr mp jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">这是下划线<em class="li">和</em>的一种非常方便的用法，当我们在<em class="li"> Python中<em class="li">解包</em>变量时尤其有用。</em></p><blockquote class="nz oa ob"><p id="5cac" class="jk jl li jm b jn jo jp jq jr js jt ju oc jw jx jy od ka kb kc oe ke kf kg kh ig bi translated"><em class="in">什么是拆包？</em></p></blockquote><p id="c903" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们在<em class="li"> Python中提到<em class="li">解包</em>时，</em>我们指的是将变量的<em class="li">元组</em>或<em class="li">列表</em>放在操作符的左侧，甚至不需要使用括号，允许解释器根据<em class="li">元组中的位置自动分配变量。</em></p><p id="0fae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个动作可以在<em class="li"> Python </em>中用任何类型的iterable来完成，唯一的条件是iterable在接收<em class="li">元组</em>或<em class="li">列表</em>中为每个变量产生一个条目。</p><p id="76f8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，当这样做的时候，你可能希望忽略一个特定的变量，甚至是除了第一个和最后一个变量之外的所有变量，正如下面演示的，这就是下划线<em class="li">非常有用的时候。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/bc480437e43869ed28db3e37123e5042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2XsmDLdZVHcjyAWKPkbIJw.png"/></div></div></figure></div><div class="ab cl lj lk hr ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="ig ih ii ij ik"><blockquote class="nz oa ob"><p id="c32b" class="jk jl li jm b jn jo jp jq jr js jt ju oc jw jx jy od ka kb kc oe ke kf kg kh ig bi translated">唷！那是一次深潜！</p></blockquote><p id="8bb1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你坚持看完整篇文章，谢谢你，我希望通过这项研究，你能学到一些新的东西，一些你可能会在代码中用到的东西。</p><p id="0439" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可能想知道为什么我总是如此深入地研究那些看起来不重要的主题，但在我看来，当你想正确地学习一些东西时，你需要深入了解这一切背后发生的事情，不管这些知识有多么微不足道。</p><p id="8fcb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你是否也倾向于深入探究那些看似琐碎的知识？</p></div></div>    
</body>
</html>