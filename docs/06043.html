<html>
<head>
<title>How to implement React Table Project Setup and useTable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何实现 React 表项目设置和使用表</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-implement-react-table-project-setup-and-usetable-d8e840bc3932?source=collection_archive---------6-----------------------#2021-12-08">https://blog.devgenius.io/how-to-implement-react-table-project-setup-and-usetable-d8e840bc3932?source=collection_archive---------6-----------------------#2021-12-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d3cf734db6c1fe5edd2fcee5cee26d29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PS8hyQRPe2B0jlmRrdcOLg.png"/></div></div></figure><p id="17a6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将学习如何在我们的项目中实现 react table，并了解每一件事。</p><p id="2c60" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，让我们在系统中安装 react。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="8222" class="lc ld in ky b gy le lf l lg lh">npx create-react-app rtdemo<br/>cd rtdemo<br/>npm start</span></pre><p id="f46d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将使用<a class="ae li" href="https://react-table.tanstack.com/" rel="noopener ugc nofollow" target="_blank">这个</a>模块来显示表格。React Table 是一个钩子集合，用于构建强大的表和数据网格体验。这些挂钩是轻量级的、可组合的、超可扩展的，但是不为您呈现任何标记或样式。这实际上意味着 React Table 是一个“无头”UI 库。</p><p id="b1f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">React Table 是一个无头工具，这意味着开箱即用，它不呈现或提供任何实际的 UI 元素。您负责利用该库提供的钩子的状态和回调来呈现您自己的表 0markup。</p><p id="d651" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在安装 react 表模块。React Table 与 React v16.8+兼容，可与 ReactDOM 和 React Native 配合使用。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="db8b" class="lc ld in ky b gy le lf l lg lh">npm install react-table --save</span></pre><p id="04ec" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">编辑 APP.js 文件并添加以下代码。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="498f" class="lc ld in ky b gy le lf l lg lh">import React, { useState, useEffect, useMemo } from "react";</span><span id="0ebb" class="lc ld in ky b gy lj lf l lg lh">import { useTable } from "react-table";</span><span id="77ad" class="lc ld in ky b gy lj lf l lg lh">const App = (props) =&gt; {</span><span id="a46d" class="lc ld in ky b gy lj lf l lg lh">const [tutorials, setTutorials] = useState([]);</span><span id="6d59" class="lc ld in ky b gy lj lf l lg lh">const retrieveTutorials = () =&gt; {</span><span id="0a34" class="lc ld in ky b gy lj lf l lg lh">const { tutorials, totalPages } = {</span><span id="e130" class="lc ld in ky b gy lj lf l lg lh">tutorials: [</span><span id="ef73" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="65ea" class="lc ld in ky b gy lj lf l lg lh">invoice_date: "18 Oct 2021",</span><span id="fe6d" class="lc ld in ky b gy lj lf l lg lh">company: "ABC Enterprise",</span><span id="3a6a" class="lc ld in ky b gy lj lf l lg lh">invoice_no: "INV/ABC/21-22/109",</span><span id="ed04" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="a5ac" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="0c29" class="lc ld in ky b gy lj lf l lg lh">invoice_date: "19 Oct 2021",</span><span id="6a5f" class="lc ld in ky b gy lj lf l lg lh">company: "ABC Enterprise",</span><span id="472a" class="lc ld in ky b gy lj lf l lg lh">invoice_no: "INV/ABC/21-22/109",</span><span id="674f" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="1e3a" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="07e2" class="lc ld in ky b gy lj lf l lg lh">invoice_date: "20 Oct 2021",</span><span id="8ca4" class="lc ld in ky b gy lj lf l lg lh">company: "ABC Enterprise",</span><span id="6223" class="lc ld in ky b gy lj lf l lg lh">invoice_no: "INV/ABC/21-22/109",</span><span id="cac0" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="dca2" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="eb3f" class="lc ld in ky b gy lj lf l lg lh">invoice_date: "21 Oct 2021",</span><span id="1b92" class="lc ld in ky b gy lj lf l lg lh">company: "ABC Enterprise",</span><span id="8c34" class="lc ld in ky b gy lj lf l lg lh">invoice_no: "INV/ABC/21-22/109",</span><span id="d285" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="04c8" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="736a" class="lc ld in ky b gy lj lf l lg lh">invoice_date: "22 Oct 2021",</span><span id="0246" class="lc ld in ky b gy lj lf l lg lh">company: "ABC Enterprise",</span><span id="be48" class="lc ld in ky b gy lj lf l lg lh">invoice_no: "INV/ABC/21-22/109",</span><span id="9ebe" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="fef6" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="a90b" class="lc ld in ky b gy lj lf l lg lh">invoice_date: "23 Oct 2021",</span><span id="9354" class="lc ld in ky b gy lj lf l lg lh">company: "ABC Enterprise",</span><span id="80d5" class="lc ld in ky b gy lj lf l lg lh">invoice_no: "INV/ABC/21-22/109",</span><span id="4687" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="420a" class="lc ld in ky b gy lj lf l lg lh">],</span><span id="b375" class="lc ld in ky b gy lj lf l lg lh">totalPages: 1,</span><span id="9bf2" class="lc ld in ky b gy lj lf l lg lh">};</span><span id="6003" class="lc ld in ky b gy lj lf l lg lh">setTutorials(tutorials);</span><span id="f724" class="lc ld in ky b gy lj lf l lg lh">};</span><span id="f382" class="lc ld in ky b gy lj lf l lg lh">useEffect(retrieveTutorials, []);</span><span id="811d" class="lc ld in ky b gy lj lf l lg lh">const columns = useMemo(</span><span id="1b25" class="lc ld in ky b gy lj lf l lg lh">() =&gt; [</span><span id="0c7b" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="0abf" class="lc ld in ky b gy lj lf l lg lh">Header: "Date",</span><span id="7f61" class="lc ld in ky b gy lj lf l lg lh">accessor: "invoice_date",</span><span id="ec18" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="a608" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="e7d2" class="lc ld in ky b gy lj lf l lg lh">Header: "Vendor",</span><span id="5135" class="lc ld in ky b gy lj lf l lg lh">accessor: "company",</span><span id="ed3c" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="74bc" class="lc ld in ky b gy lj lf l lg lh">{</span><span id="9d58" class="lc ld in ky b gy lj lf l lg lh">Header: "Invoice No.",</span><span id="c625" class="lc ld in ky b gy lj lf l lg lh">accessor: "invoice_no",</span><span id="6ba1" class="lc ld in ky b gy lj lf l lg lh">},</span><span id="38a7" class="lc ld in ky b gy lj lf l lg lh">],</span><span id="462e" class="lc ld in ky b gy lj lf l lg lh">[]</span><span id="d978" class="lc ld in ky b gy lj lf l lg lh">);</span><span id="2ba6" class="lc ld in ky b gy lj lf l lg lh">const {</span><span id="f76a" class="lc ld in ky b gy lj lf l lg lh">getTableProps,</span><span id="dc08" class="lc ld in ky b gy lj lf l lg lh">getTableBodyProps,</span><span id="6f8b" class="lc ld in ky b gy lj lf l lg lh">headerGroups,</span><span id="ede7" class="lc ld in ky b gy lj lf l lg lh">rows,</span><span id="a7b5" class="lc ld in ky b gy lj lf l lg lh">prepareRow,</span><span id="b90e" class="lc ld in ky b gy lj lf l lg lh">} = useTable({</span><span id="a292" class="lc ld in ky b gy lj lf l lg lh">columns,</span><span id="4fa4" class="lc ld in ky b gy lj lf l lg lh">data: tutorials,</span><span id="3745" class="lc ld in ky b gy lj lf l lg lh">});</span><span id="8e1d" class="lc ld in ky b gy lj lf l lg lh">return (</span><span id="b5df" class="lc ld in ky b gy lj lf l lg lh">&lt;div&gt;</span><span id="7af2" class="lc ld in ky b gy lj lf l lg lh">&lt;table {...getTableProps()}&gt;</span><span id="20c3" class="lc ld in ky b gy lj lf l lg lh">&lt;thead&gt;</span><span id="c30c" class="lc ld in ky b gy lj lf l lg lh">{headerGroups.map((headerGroup) =&gt; (</span><span id="7b6b" class="lc ld in ky b gy lj lf l lg lh">&lt;tr {...headerGroup.getHeaderGroupProps()}&gt;</span><span id="7033" class="lc ld in ky b gy lj lf l lg lh">{headerGroup.headers.map((column) =&gt; (</span><span id="f188" class="lc ld in ky b gy lj lf l lg lh">&lt;th {...column.getHeaderProps()}&gt;{column.render("Header")}&lt;/th&gt;</span><span id="62fe" class="lc ld in ky b gy lj lf l lg lh">))}</span><span id="982b" class="lc ld in ky b gy lj lf l lg lh">&lt;/tr&gt;</span><span id="6551" class="lc ld in ky b gy lj lf l lg lh">))}</span><span id="5210" class="lc ld in ky b gy lj lf l lg lh">&lt;/thead&gt;</span><span id="c3cf" class="lc ld in ky b gy lj lf l lg lh">{tutorials.length &gt; 0 ? (</span><span id="3955" class="lc ld in ky b gy lj lf l lg lh">&lt;tbody {...getTableBodyProps()}&gt;</span><span id="937e" class="lc ld in ky b gy lj lf l lg lh">{rows.map((row, i) =&gt; {</span><span id="5bf8" class="lc ld in ky b gy lj lf l lg lh">prepareRow(row);</span><span id="6a98" class="lc ld in ky b gy lj lf l lg lh">return (</span><span id="09fa" class="lc ld in ky b gy lj lf l lg lh">&lt;tr {...row.getRowProps()}&gt;</span><span id="59ff" class="lc ld in ky b gy lj lf l lg lh">{row.cells.map((cell) =&gt; {</span><span id="a692" class="lc ld in ky b gy lj lf l lg lh">return (</span><span id="9ea2" class="lc ld in ky b gy lj lf l lg lh">&lt;td {...cell.getCellProps()}&gt;{cell.render("Cell")}&lt;/td&gt;</span><span id="0cf8" class="lc ld in ky b gy lj lf l lg lh">);</span><span id="25f4" class="lc ld in ky b gy lj lf l lg lh">})}</span><span id="137d" class="lc ld in ky b gy lj lf l lg lh">&lt;/tr&gt;</span><span id="0dd4" class="lc ld in ky b gy lj lf l lg lh">);</span><span id="8778" class="lc ld in ky b gy lj lf l lg lh">})}</span><span id="478e" class="lc ld in ky b gy lj lf l lg lh">&lt;/tbody&gt;</span><span id="8843" class="lc ld in ky b gy lj lf l lg lh">) : (</span><span id="1c36" class="lc ld in ky b gy lj lf l lg lh">&lt;tbody&gt;</span><span id="de76" class="lc ld in ky b gy lj lf l lg lh">&lt;tr&gt;</span><span id="d510" class="lc ld in ky b gy lj lf l lg lh">&lt;td colSpan="8"&gt;</span><span id="fb6c" class="lc ld in ky b gy lj lf l lg lh">&lt;figure className="noRecord-found"&gt;&lt;/figure&gt;</span><span id="fa51" class="lc ld in ky b gy lj lf l lg lh">&lt;span className="norecord-text"&gt;No records found&lt;/span&gt;</span><span id="7baa" class="lc ld in ky b gy lj lf l lg lh">&lt;/td&gt;</span><span id="75f4" class="lc ld in ky b gy lj lf l lg lh">&lt;/tr&gt;</span><span id="cde5" class="lc ld in ky b gy lj lf l lg lh">&lt;/tbody&gt;</span><span id="ae53" class="lc ld in ky b gy lj lf l lg lh">)}</span><span id="d0f2" class="lc ld in ky b gy lj lf l lg lh">&lt;/table&gt;</span><span id="b69f" class="lc ld in ky b gy lj lf l lg lh">&lt;/div&gt;</span><span id="4068" class="lc ld in ky b gy lj lf l lg lh">);</span><span id="14a0" class="lc ld in ky b gy lj lf l lg lh">};</span><span id="38d7" class="lc ld in ky b gy lj lf l lg lh">export default App;</span></pre><p id="16ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们使用了 useState，useEffect，useMemo 钩子。</p><p id="2a8f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">useState:useState 挂钩是一个特殊的函数<strong class="jx io">，它将初始状态作为一个参数，并返回一个包含两个条目的数组</strong>。语法:第一个元素是初始状态，第二个元素是用于更新状态的函数。…函数返回的值将被用作初始状态。</p><p id="bede" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">use effect:use effect 是做什么的？通过使用这个钩子，<strong class="jx io">你告诉 React 你的组件需要在 render </strong>之后做一些事情。React 将记住您传递的函数(我们称之为“效果”)，并在执行 DOM 更新后调用它。</p><p id="e4b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">useMemo : React 有一个名为 useMemo 的内置钩子，<strong class="jx io">允许你记忆昂贵的函数，这样你就可以避免在每次渲染时调用它们</strong>。您只需传入一个函数和一个输入数组，useMemo 只会在其中一个输入发生变化时重新计算记忆的值。</p><p id="b9a1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">useTable : useTable 是 React 表的根钩子<strong class="jx io">。要使用它，请传递一个 options 对象，该对象至少包含一个列和数据值，后跟您想要使用的任何 React 表兼容挂钩。</strong></p><p id="c1cc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">getTableProps:这个函数用于解析你的表包装器需要的任何属性。</p><p id="ce82" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">getTableBodyProps:这个函数用于解析表体包装器所需的任何属性。</p><p id="8426" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">headerGroups:规范化标题组的数组，每个标题组包含该行的最终列对象的扁平数组。</p><p id="859c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">rows:从原始的<code class="fe lk ll lm ky b">data</code>数组和<code class="fe lk ll lm ky b">columns</code>传递到表选项中的<strong class="jx io">物化行对象</strong>的数组</p><p id="849c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">prepareRow:这个函数负责延迟准备要呈现的行。您打算在表中呈现的任何行都需要在每次呈现之前传递给这个函数<strong class="jx io">。</strong></p><ul class=""><li id="b3de" class="ln lo in jx b jy jz kc kd kg lp kk lq ko lr ks ls lt lu lv bi translated"><strong class="jx io">为什么？</strong>由于表数据可能非常大，所以无论是否实际呈现，为要呈现的每一行计算所有必要的状态都会变得非常昂贵(例如，如果您正在对行进行分页或虚拟化，则在任何给定时刻您可能只有几行可见)。此函数只允许计算您想要显示的行，并准备好正确的状态。</li></ul><p id="c94b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以这是关于使用 useTable 实现 React Table 的基础。我希望你已经理解了这个例子。</p><p id="ab45" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你也可以看看 YouTube 频道:【https://www.youtube.com/channel/UCOWT2JvRnSMVSboxvccZBFQ T4】</p></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><p id="e248" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="md">更多内容尽在</em><a class="ae li" href="http://blog.devgenius.io" rel="noopener ugc nofollow" target="_blank"><em class="md">blog . devgenius . io</em></a><em class="md">。</em></p></div></div>    
</body>
</html>