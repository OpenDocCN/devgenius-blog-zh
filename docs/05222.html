<html>
<head>
<title>Quick Tip💡 Laravel Mix Hot-Reloading in Sail with Browsersync</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速提示💡Laravel 在 Sail 中混合热重装与浏览器同步</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/quick-tip-laravel-mix-hot-reloading-in-sail-with-browsersync-555b6c97bca3?source=collection_archive---------0-----------------------#2021-07-04">https://blog.devgenius.io/quick-tip-laravel-mix-hot-reloading-in-sail-with-browsersync-555b6c97bca3?source=collection_archive---------0-----------------------#2021-07-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e8c1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">令人惊讶的是，在 Laravel 官方文档中并没有很好的记录(无论是在<a class="ae ki" href="https://laravel.com/docs/8.x/sail" rel="noopener ugc nofollow" target="_blank"> Sail </a>页面还是<a class="ae ki" href="https://laravel.com/docs/8.x/mix" rel="noopener ugc nofollow" target="_blank"> Mix </a>页面)</p><p id="1f6c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这只是给我自己的一封信，希望能回答你的问题。如果你是一个初学者，你可以看看这篇<a class="ae ki" rel="noopener ugc nofollow" target="_blank" href="/kickstart-your-laravel-web-app-using-laravel-sail-30276265e588">文章</a>，用 Docker 桌面在 WSL2 上从头开始学习 Laravel Sail。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kj"><img src="../Images/3379aeae4e236ca75486994725065714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*tFaz_FqkfExklOpZ4kxhLg.png"/></div></figure><h1 id="75a7" class="kr ks in bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">发布 Docker 文件</h1><p id="2718" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">您必须为 Browsersync 公开端口<code class="fe lu lv lw lx b">3000</code>，发布 docker 配置文件以供编辑。</p><pre class="kk kl km kn gt ly lx lz ma aw mb bi"><span id="c4cb" class="mc ks in lx b gy md me l mf mg">sail artisan sail:publish</span></pre><h1 id="3a3c" class="kr ks in bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">修改 webpack.mix.js</h1><p id="6943" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">在<code class="fe lu lv lw lx b">webpack.mix.js</code>中添加以下行，用于启用 BrowserSync。</p><pre class="kk kl km kn gt ly lx lz ma aw mb bi"><span id="f3e9" class="mc ks in lx b gy md me l mf mg">mix.browserSync({<br/>    proxy: 'localhost',<br/>    open: false,<br/>});</span></pre><h1 id="5b48" class="kr ks in bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">修改 docker-compose.yml</h1><p id="b8a6" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">在项目根目录下编辑<code class="fe lu lv lw lx b">docker-compose.yml</code>文件。<br/>在<code class="fe lu lv lw lx b">ports</code>处追加<code class="fe lu lv lw lx b">- 3000:3000</code>，露出端口<code class="fe lu lv lw lx b">3000</code></p><pre class="kk kl km kn gt ly lx lz ma aw mb bi"><span id="ca97" class="mc ks in lx b gy md me l mf mg">ports:<br/>    - '${APP_PORT:-80}:80'<br/>    - 3000:3000</span></pre><p id="dd75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用以下命令停止容器并重新启动容器:</p><pre class="kk kl km kn gt ly lx lz ma aw mb bi"><span id="ba00" class="mc ks in lx b gy md me l mf mg">sail down</span><span id="72e2" class="mc ks in lx b gy mh me l mf mg">sail up -d</span></pre><h1 id="629b" class="kr ks in bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">运行 Laravel Mix</h1><p id="0b8b" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">您应该通过执行以下命令来安装所有节点组件:</p><pre class="kk kl km kn gt ly lx lz ma aw mb bi"><span id="c346" class="mc ks in lx b gy md me l mf mg">sail npm install</span></pre><p id="b551" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，您应该能够使用以下命令正确执行 Laravel Mix:</p><pre class="kk kl km kn gt ly lx lz ma aw mb bi"><span id="b2dc" class="mc ks in lx b gy md me l mf mg">sail npm run watch-poll</span></pre><p id="b508" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，您可以在启用 BrowserSync 的情况下使用<a class="ae ki" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>打开您的浏览器。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/2766583fba60b0fe4d7e45e0346c199b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-kQdkd3LjmqJJ4ONLNx-kQ.gif"/></div></div></figure><p id="3d0d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你喜欢我的文章，请关注并分享我的文章。你可以关注这个 Github <a class="ae ki" href="https://github.com/JeffreyWay/laravel-mix/issues/2719" rel="noopener ugc nofollow" target="_blank">主题</a>来获得更多更新。</p><h1 id="5fe9" class="kr ks in bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">视频演示:</h1><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mn mo l"/></div></figure></div></div>    
</body>
</html>