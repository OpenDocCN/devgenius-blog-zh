<html>
<head>
<title>FT8 Digital Radio Protocol—How Does it Work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FT8数字无线电协议——它是如何工作的？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/ft8-digital-radio-protocol-how-does-it-work-745bceae11f0?source=collection_archive---------4-----------------------#2020-07-12">https://blog.devgenius.io/ft8-digital-radio-protocol-how-does-it-work-745bceae11f0?source=collection_archive---------4-----------------------#2020-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="df07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi kl translated">几乎每个对业余无线电和电信有点兴趣的人都听说过<a class="ae ku" href="https://physics.princeton.edu/pulsar/K1JT/wsjtx.html" rel="noopener ugc nofollow" target="_blank"> FT8 </a>数字通信协议。这种业余无线电数字模式出现在2017年，从那以后它的受欢迎程度只增不减。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kv"><img src="../Images/9797b230e12f7a0d6a9008d0e62309dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uBIFsNNdXQTorlZt.png"/></div></div></figure><p id="4fa0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">【图片来源:<a class="ae ku" href="https://www.qsl.net/w1dyj/FT8%20for%20web.pdf" rel="noopener ugc nofollow" target="_blank"><em class="lh">www.qsl.net/w1dyj/FT8%20for%20web.pdf</em></a></p><p id="9ab4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">许多业余无线电爱好者正在使用数字模式，只把他们的收发器连接到电脑上，但他们中的大多数人完全不知道它是如何工作的。让我们试着弄清楚。</p><p id="0956" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">起初，只是一个有趣的事实。这篇文章最早是发给德国《sent业余爱好者》杂志的。很快我得到了一个回复，他们已经有足够多的关于FT8的文章，还有一个他们的文档截图，上面有“在婆罗洲的DXpedition中使用FT8”这样的文章。我反对我的文章不是关于FT8 的<em class="lh">使用，而是关于它的<em class="lh">内部结构</em>，答案是“这个理论不会帮助读者更有效地使用FT8”。很难否认这一点，但我希望不仅是无线电操作员，还有工程师对这些东西的工作原理感兴趣。</em></p><p id="804c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们开始吧。</p><h1 id="6bd0" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">历史</h1><p id="176e" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">当然，在个人电脑在家庭中大量出现之前，可能没有业余无线电爱好者会考虑传输和解码数字数据。自90年代以来，数字模式越来越受欢迎。在这种情况下，个人电脑产生一个信号(通常是RTTY或PSK)，运营商与通信使用一种文字聊天。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi ml"><img src="../Images/5e20892678851397347f85669a1faf51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xc9Ix180SHXFE7K382HkAg.png"/></div></div></figure><p id="dad5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="lh">图片来源:</em><a class="ae ku" href="https://www.amateurradio.com/over-2000-miles-on-80m-with-the-warbler/" rel="noopener ugc nofollow" target="_blank"><em class="lh">https://www . amateur radio . com/over-2000-miles-on-80m-with-the-莺/ </em> </a> <em class="lh"> (2010) </em></p><p id="d04b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们必须说，从技术上讲，这些数字模式是简单的，用户输入的字符几乎没有经过任何复杂的处理就被播放了。奇怪的是，这也有它的优势——操作员自己必须找到正确的频率，用耳朵评估信号质量，在屏幕上看到解码的字符，键入答案，等等。</p><p id="9d2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是计算机处理能力长大了，终于，我们这篇文章的主人公出现了——数字模式<strong class="jp ir"> FT8 </strong>。FT8这个名字代表<em class="lh">弗兰克和泰勒，8-FSK调制</em>。史蒂文·弗兰克教授和诺贝尔奖得主、天体物理学家约瑟夫·泰勒创造了一个迷人而高效的数据传输协议。</p><p id="02a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">FT8功能:</p><ul class=""><li id="45f7" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">消息长度为15s，通过固定时隙传输消息，使得解码更加容易。</li><li id="b39e" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">消息长度为77位+ 12位CRC。</li><li id="2da8" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">纠错FEC LDPC(174，87)。</li><li id="bc20" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">调频8-FSK，音调空间为6.25Hz</li><li id="80c3" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">带宽为50Hz。利用这一带宽，许多电台可以并行解码。</li><li id="5ba8" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">解码极限为-20dB。</li><li id="d30e" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">工作自动化的可选可能性。</li></ul><p id="b4a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总的来说，作者们在创建一个几乎完全自动化的通信工具方面做得非常完美，一方面，它可以更有效地传输信息，另一方面，将“火腿广播精神”扼杀在萌芽状态。没有比倾听收音机的噪音和时尚，接收来自大洋彼岸的微弱信号更用心的了。只有一个PC屏幕，剩下的就是算法和数学了。</p><p id="7f08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">FT8模式下的WSJT-X应用程序屏幕截图如下所示:</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi na"><img src="../Images/2c8c4a15df8f9ee6c4101e705bff033e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*thfASg0d2-etXf0C"/></div></div></figure><p id="800f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="lh">来源:</em><a class="ae ku" href="https://www.google.com/url?q=https://3fs.net.au/ft8-digital-amateur-radio/&amp;sa=D&amp;ust=1594549264699000&amp;usg=AOvVaw1zV2Rhqa1j-pjMgBWA8uPk" rel="noopener ugc nofollow" target="_blank"><em class="lh">【3fs.net.au/ft8-digital-amateur-radio】</em></a></p><p id="fc20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就我个人而言，我并不真正理解几乎完全自动的无线电通信的乐趣，但FT8很受欢迎，所以人们使用它。让我们更详细地看看这是如何工作的。</p><h1 id="4b48" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">比特编码</h1><p id="c7bf" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">考虑一个实际的例子——短语<strong class="jp ir"> CQ DL1ABC JO62 </strong>的传输。这里CQ是呼叫代码，DL1ABC是呼号，JO62是网格定位器。</p><p id="983c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一步，用更短的代码替换常见的缩写，例如，<strong class="jp ir"> CQ </strong>得到一个<strong class="jp ir"> 02h </strong>代码。业余无线电呼号有严格定义的字母和数字格式，这也允许我们以更紧凑的形式记录它们。</p><pre class="kw kx ky kz gt nb nc nd ne aw nf bi"><span id="d724" class="ng lj iq nc b gy nh ni l nj nk">const char A0[] = <strong class="nc ir">" 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+-./?"</strong>;<br/>const char A1[] = <strong class="nc ir">" 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"</strong>;<br/>const char A2[] = <strong class="nc ir">"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"</strong>;<br/>const char A3[] = <strong class="nc ir">"0123456789"</strong>;<br/><br/>// Check for standard callsign<br/>int i0, i1, i2, i3, i4, i5;<br/>if ((i0 = char_index(A1, c6[0])) &gt;= 0 &amp;&amp; (i1 = char_index(A2, c6[1])) &gt;= 0 &amp;&amp;<br/>    (i2 = char_index(A3, c6[2])) &gt;= 0 &amp;&amp; (i3 = char_index(A4, c6[3])) &gt;= 0 &amp;&amp;<br/>    (i4 = char_index(A4, c6[4])) &gt;= 0 &amp;&amp; (i5 = char_index(A4, c6[5])) &gt;= 0) {<br/>        // This is a standard callsign<br/>        int32_t n28 = i0;<br/>        n28 = n28 * 36 + i1;<br/>        n28 = n28 * 10 + i2;<br/>        n28 = n28 * 27 + i3;<br/>        n28 = n28 * 27 + i4;<br/>        n28 = n28 * 27 + i5;<br/>        return NTOKENS + MAX22 + n28;<br/>}</span></pre><p id="025a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">来源:<a class="ae ku" href="https://www.google.com/url?q=https://github.com/kgoba/ft8_lib&amp;sa=D&amp;ust=1594549264703000&amp;usg=AOvVaw1SMiMgeD9Q8BNb1e88n4dB" rel="noopener ugc nofollow" target="_blank">github.com/kgoba/ft8_lib</a></p><p id="f7fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用索引替换字符的想法在这里很重要，这在使用小字典时很有效。因此，呼号<strong class="jp ir"> DL1ABC </strong>将被写成<strong class="jp ir">06 29 17 3B</strong>——我们使用4个字节而不是6个字节。</p><p id="a438" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">类似地，<strong class="jp ir"> JO62 </strong> grid-locator被写成一个2字节的数字<strong class="jp ir"> 44 FE </strong> —与标准ASCII字符串相比，节省了50%的数据大小。所有这些都是必要的，因为最大消息长度是77位(不仅是预定义的符号，当然，任意文本甚至遥测也可以在类似的限制下传输)。选择77位的消息长度作为传输时间(大约13秒，不是很快)和信息容量之间的折衷——消息可以更长，但是传输时间也应该增加。</p><p id="3a11" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们的“CQ DL1ABC JO62”消息将被转换为数据块<strong class="jp ir"> 00 00 00 23 44 4A 11 91 3F 88 </strong>。还将添加一个14位CRC。</p><p id="190a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一步是将91位的消息转换成174位长的所谓LDPC(低密度奇偶校验)码——这种冗余用于纠正传输过程中的错误。在这一步，消息被转换成<strong class="jp ir">00 00 00 23 44 4A 11 91 3F 8B 57 7E CF 78 77 39 55 DE 36 EF 01 48</strong>数据块。</p><h1 id="2edb" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">频率编码</h1><p id="46b1" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">在这个步骤中，我们将信息转换成不同频率的音调序列。我们知道，我们最多有8个音调(调制类型是FSK-8)。还添加了用于同步的特殊数据(7x7 Costas阵列)，它需要正确的信号解码。最后，在转换之后，我们得到一个形式为<strong class="jp ir">31406520 00000001 04531130 52105775 34623140 65267442 47514714 36372416 64750133 3140652</strong>的序列，其中每个数字代表一个从0到7的音调数。</p><p id="326d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">音调之间的频移为6.25Hz，音调持续时间为0.16秒。有了上面所示的序列，我们可以轻松地生成WAV文件，或者在自主信标的情况下直接控制频率合成器。</p><p id="18d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的消息生成的信号的频谱看起来像这样:</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi nl"><img src="../Images/d9e0ca616eb66acb69f064ffbe2c07a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GA5OL4QYfD6ZxZBE.png"/></div></div></figure><p id="5b4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该信号几乎“按原样”被传输到空中，并且解码的反向过程在接收器侧被激活。</p><h1 id="a20a" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="d534" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">正如我们所见，FT8是一个非常有趣的协议。这是位优化、数学和可用性的巧妙结合。所有这些结合在一起，使FT8如此受欢迎。WSJT-X源代码是用Fortran编写的，理解它们并不那么简单。一个C++版本的编码器可以在<a class="ae ku" href="https://www.google.com/url?q=http://github.com/kgoba/ft8_lib&amp;sa=D&amp;ust=1594549264706000&amp;usg=AOvVaw2Afvu1-ZwRh0gQ8wjnantT" rel="noopener ugc nofollow" target="_blank">http://github.com/kgoba/ft8_lib</a>页面查看，以上代码片段摘自其中。</p><p id="0868" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从心理学的角度来说，FT8模式分析起来也很有意思。与PSK31或RTTY相比，此模式允许以更低的信噪比进行通信。良好的灵敏度允许将FT8与紧凑型天线甚至阳台天线配合使用。另一方面，过程的几乎完全自动化无疑降低了操作员技能的作用。尽管如此，根据统计，人们肯定喜欢使用FT8。因此，看到业余无线电数字模式的未来发展是很有趣的。</p><h1 id="d497" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">附录</h1><p id="ef96" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated"><a class="ae ku" href="https://physics.princeton.edu/pulsar/K1JT/wsjtx.html" rel="noopener ugc nofollow" target="_blank">https://physics.princeton.edu/pulsar/K1JT/wsjtx.html</a>—WSJT全平台下载<br/><a class="ae ku" href="https://www.google.com/url?q=https://physics.princeton.edu/pulsar/K1JT/devel.html&amp;sa=D&amp;ust=1594549264707000&amp;usg=AOvVaw07uHpB70wqNUJyUZCtS2Pc" rel="noopener ugc nofollow" target="_blank">https://physics.princeton.edu/pulsar/K1JT/devel.html</a>—WSJT-X源代码<br/><a class="ae ku" href="https://www.google.com/url?q=https://github.com/kgoba/ft8_lib&amp;sa=D&amp;ust=1594549264707000&amp;usg=AOvVaw01ezJkGn-2PS7NMsVnPnzQ" rel="noopener ugc nofollow" target="_blank">https://github.com/kgoba/ft8_lib</a>—FT8编码器<br/><a class="ae ku" href="https://www.google.com/url?q=http://laarc.weebly.com/uploads/7/3/2/9/73292865/ft8syncv8.pdf&amp;sa=D&amp;ust=1594549264707000&amp;usg=AOvVaw19nBbKQrJmTd4FF0jwJIGR" rel="noopener ugc nofollow" target="_blank">http://la arc . weebly . com/uploads/7/3/2/9/73292865/ft 8 syncv 8 . pdf</a>—在FT8中同步<br/><a class="ae ku" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Low-density_parity-check_code&amp;sa=D&amp;ust=1594549264708000&amp;usg=AOvVaw0IJLGln0LK6h6Tl8yjsele" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Low-density_parity-check_code</a>—LDPC代码</p></div></div>    
</body>
</html>