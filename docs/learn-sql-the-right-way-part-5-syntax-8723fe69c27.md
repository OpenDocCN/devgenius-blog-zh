# 正确学习 SQL 第 5 部分:语法

> 原文：<https://blog.devgenius.io/learn-sql-the-right-way-part-5-syntax-8723fe69c27?source=collection_archive---------13----------------------->

# 概观

*   DCL —特权
*   DDL —创建表格
*   DML —操纵表格
*   DQL —查询语句

# 介绍

我将对 MySQL 语法做一个概述；您可以找到其他 SQL 语法，但总体而言，它们没有太大区别。我不会涵盖每一个命令，但我会涵盖我认为是基本的。

SQL 命令可以分为四类，数据**控制**语言，数据**定义**语言，数据**操作语言，以及**数据**查询**语言。

# 数据定义语言

这些都是控制数据库模式的命令。

## 创造

create 命令用于创建表。

创建命令

> 注意:create table 是我们所说的保留关键字，这是 MySQL 语法的一部分，这意味着 SQL 将“create”视为一个命令，而不是一个普通的单词。

## 创建的简单示例

![](img/b0e50f050732d474599e8eb0741cc69c.png)

创建人员表

尽管我们可以知道 personID 是主键，但我们仍然需要使用类似于下面这样的 SQL 语法来说明这一点

![](img/d63b90f8714c6ab16a1bb96d2c649d03.png)

> 注意:在看了几个例子之后，你可以看到，我们总是包括一个分号，这是用来表示命令的结束。

创建表时要考虑的另一件事是，我们需要声明任何外键。例如，使用上面的 customer 表，让我们创建一个 order 表，允许每个人下多个订单。

![](img/e3a6f5619870343dde654bf860263f23.png)

订单表

在上表中，我们可以看到我们使用了“not null”这基本上意味着这些属性不能为空。这对于防止将来出现错误非常重要。我们可以使用关键字“unique”来确保每个订单号都是唯一的。

![](img/6db923fd51ccb7dfb9b3a42ab38d1666.png)

具有唯一关键字的订单表

视图是另一个没有多少人知道的强大工具。视图就是我们所说的虚拟表，它们被用来从一个旧表派生出一个新表。让我们看一个使用 persons 表的例子。

![](img/abd954a11091e06f6c083e7a909fe47e.png)

视图系统 x

这将创建一个只包含所有巴西客户的表。该视图称为“巴西客户”,我们可以看到的唯一属性是 PersonID 和 FirstName。使用视图有很多原因，但主要原因是通过提取大量不需要的数据来增加额外的安全层。

## 形容

现在，如果您忘记了表中的数据类型和属性，describe 命令就派上了用场。

![](img/456976067f07eaf6638627358fdfcbb8.png)

描述语法

## 改变

如果需要对表进行更改，Alter 非常有用。您可以:

*   添加属性
*   删除属性
*   修改属性数据类型

**添加属性**

![](img/82a34a0d323b1c39dc922b787c9d7c04.png)

添加属性语法

下面是一个将 email 属性添加到 customers 表的快速示例

![](img/97f6ac0118f64ad2b73d41cb967a22b7.png)

添加属性示例

**删除属性**

![](img/d1b2ad787a7e64e74d7e32995120ccb8.png)

删除属性语法

下面是一个从 customers 表中删除 email 属性的快速示例

![](img/c0aeff6e0dd0b8ed9a34f96c828b1f7c.png)

移除属性示例

**修改属性**

![](img/89ad0ea96eece7352a9c5e9453976769.png)

更改表语法

下面是一个将属性名 DateOfBirth 更改为 year 的快速示例

![](img/9e31fa0e9e986470d3a3eb292985ad20.png)

变更表格示例

这些都是用于操作表内数据的命令。

## **插入**

![](img/789e9fdd63810ac80a196ffc10d311a9.png)

插入语法

使用上面的顺序表，这是我们将数据插入表中的方式

![](img/96e388a3d401469f217ca55d793397f9.png)

另一个例子是当我们只想插入特定的列时

![](img/45083ab15e89cf0311b9673558951b32.png)

插入语法

我们可以使用上面的客户表只插入特定的数据

![](img/da2e1b5fea4205ea7f5b5aff1e4e2e7d.png)

插入语法示例

## **删除**

使用 delete 命令需要更多的思考过程，但并不太难。

![](img/e4d18d818135c847fb7176ac881c3d62.png)

删除语法

假设我们想从表中删除客户 Ali，从技术上讲，有两种方法可以做到这一点。第一个是

![](img/bf742d9ef75b7d6fd9a85eb276ae996d.png)

使用名称删除 Sytnax

第二个是

![](img/b20672e4885c6b7f34c513039d169ec8.png)

使用主键删除语法

两个都可以，但只有一个是正确的方式，这是我们需要有一个多一点的思考过程。最上面的一个将删除所有名为 Ali 的**客户，这意味着可能有一个不同的客户，但具有相同的名称，但他们仍将从数据库中删除。使用 person id 可以防止这种情况发生，因为每个用户都有一个唯一的 personID。**

## **更新**

update 命令遵循与 delete 相似的思维过程。

![](img/46e99dbf539d42e6667546f8f20076fa.png)

更新表格

让我们看一个例子，我们想更新客户的电子邮件，我们已经确定，最好使用 ID 而不是名称。

![](img/44a8a39c1e0edffef85d3bb428363cf8.png)

更新语法示例

# 数据查询语言

这些都是用于从数据库获取数据的命令，这些是最常用的命令。

select 语句的一个简单示例。下面的示例打印表中的所有行

![](img/fd065d6a532bff368191e62af54af887.png)

选择语法

这个例子显示了如何只打印一个表的特定属性

![](img/cac5b1274d4618126af504b995953ea6.png)

选择特定属性语法

也可以使用 join 语句；这些是用来连接表在一起。如果我们回头看看 order 表，我们可以看到它存储了 PersonID，但是如果我们想知道这个人的姓名，我们需要手动查找姓名，这可能会非常耗时。

相反，我们可以使用主键连接两个表，有三种类型的连接

![](img/c9627e3466bec6f5e597a275b1918a40.png)![](img/e1f0789949c520f7ea31e9d34ced24ae.png)

订单表

![](img/09248b7398907603e2b1c01ccc71dd72.png)

人员表

`INNER JOIN`:返回在两个表中具有匹配值的所有记录

![](img/0fe952170028c5437e9db2a87c6b2b8a.png)

内部联接示例

![](img/b298359ee312c1287c5b116e45afcaf4.png)

`LEFT JOIN`:返回左表所有记录，右表匹配记录。

![](img/91e4bd7e7a6afa406d459d340cd1bc87.png)

左连接语法

![](img/8570b7f1ac5d161c8f016cd662eaa48d.png)

`RIGHT JOIN`:返回右表中的所有记录，以及左表中匹配的记录。

![](img/2bda5b3be134a116b22fa9b614c1747e.png)

右连接语法

![](img/2ee151b6ad4f9ee5ac4acc864c174f55.png)

如您所见，left 和 right join 返回表中的所有记录，以及找到的任何匹配记录。当我们进行右连接时，我们可以看到没有任何订单的客户出现。如果我们执行左连接，将 customers 表作为左表，它也将返回没有订单的 customers

这给我们留下了不想要的数据，因为一些客户甚至没有订购任何东西，我们只想看到客户订购了什么。

因此，在我们的例子中，我们可以使用

*   左连接假设左表是订单表
*   右连接假设右表是订单表
*   内部连接

left joins 左表中的原因必须是 orders 表，因为它将只打印左表中的数据和找到的任何匹配。这意味着它不会像上面那样返回所有的客户，而是返回所有的订单。

让我们使用内部联接，因为它最有意义

![](img/d5ac081e8a050781acfef85813352711.png)

内部连接

# 数据控制语言

这些都是用于控制用户权限的命令。

该命令用于向用户授予权限

![](img/c0acee57b28e8ea84c019a0c003dc911.png)

授予特权语法

为雇员授予 customer 表的 select 语句的示例

![](img/59f22541b2906e899fff2615e8752bdd.png)

授予特权语法示例

我们还可以授予一个或多个特权

![](img/f743e065081864917a5464f9d36aa9b6.png)

具有多个权限的 Grant Privilege 语法示例

然后，我们可以使用下面的命令来检查授权

![](img/608b355ccb858274034f31e06e19ddee.png)

显示授权语法

如果我们需要删除特权，我们可以使用 revoke 命令

![](img/bfa46b57a0238367e3ee1d3ac37f4090.png)

撤销授权语法

移除权限的示例。

![](img/d88038f7abcb53b6e2806806db77e324.png)

撤销授权语法示例

关于用户管理的更多信息，请查看以下资源:[https://www.mysqltutorial.org/mysql-create-user.aspx](https://www.mysqltutorial.org/mysql-create-user.aspx)

# 摘要

*   数据控制语言——这是与用户权限相关的一切
*   数据定义语言——这是与创建表相关的一切
*   数据操作语言——这是与操纵表有关的一切
*   数据查询语言——这是与查询语句相关的一切

MySQL 系列到此结束，如果你还没有，请随时查看其他帖子，并关注更多有趣的后端主题。欢迎在下面评论你接下来想了解的内容。

*如果你喜欢这个，点击💚所以其他人会在媒体上看到这个。欢迎任何反馈或意见。祝你今天开心！玩的开心！*