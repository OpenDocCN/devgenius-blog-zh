<html>
<head>
<title>How To Create Your Private Blockchain for Cryptocurrency App Development?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何为加密货币App开发创建自己的私有区块链？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-create-your-private-blockchain-for-cryptocurrency-app-development-eeacd042b107?source=collection_archive---------0-----------------------#2021-09-28">https://blog.devgenius.io/how-to-create-your-private-blockchain-for-cryptocurrency-app-development-eeacd042b107?source=collection_archive---------0-----------------------#2021-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="aa3c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">加密货币的快速概述，包括钱包创建、区块挖掘和资金转移的演练</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2d689ee2321b039ac8f70f2a644d1003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z4eIZJHcpkPQLVeU"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kv" href="https://unsplash.com/@jievani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰瓦尼Weerasinghe </a>的照片</figcaption></figure><p id="6d2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">区块链是突破性的技术。基于这种技术，人们可以匿名转移加密货币，并且转移可以在分散的网络中完成，而无需通过银行或其他中央方。虽然对大多数人来说，比特币的投机是一个有趣的话题，但区块链的应用开发是许多软件开发人员追捧的技能。</p><p id="78a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">RPC命令是比特币应用程序开发和测试的基本工具。利用RPC命令，您可以模拟比特币区块挖掘和硬币转移，还可以检索您本地环境中交易的技术信息。在本文中，我将向您展示如何为加密货币应用程序开发设置本地区块链，并演示如何使用RPC命令来模拟资金转移和块挖掘。</p><h1 id="1732" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">比特币一瞥</h1><p id="46c8" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，让我们快速了解一下区块链。区块链基本上是一个记录所有交易的账本。对等网络中的比特币节点之间的数据是同步的。这是一个公共区块链，任何人都可以免费访问。</p><p id="5d33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看区块链的一个<a class="ae kv" href="https://blockchair.com/bitcoin/transaction/8d11266330d2aa025dd4dfdfddc70c68d9722f8294d3c17dd0d19779561c8deb" rel="noopener ugc nofollow" target="_blank">随机交易</a>，这个交易记录了从一个发送者到4个接收者的硬币转移。与通过银行提交的交易不同，比特币交易中的发送者和接收者通过哈希字符串中的地址来识别，因此所有交易都是匿名进行的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/74d61589ca7ad6be18021c52719d002f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_VcuHE6084hceJdalpLq0Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">从Blockchair.com捕获的随机交易</figcaption></figure><p id="45b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个块包含许多事务。例如，在高度为702，256的<a class="ae kv" href="https://blockchair.com/bitcoin/block/702256" rel="noopener ugc nofollow" target="_blank">块</a>中有244个事务。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/170e11e61d543924f66a02ce4b50f665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6BQUbyLFCJANonF9lTmwSg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">从Blockchair.com捕获的随机块</figcaption></figure><p id="120a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了给区块链增加一个新的区块，需要进行计算，以生成工作证明，确认新区块中所有交易的有效性。由于每个块都链接到前一个块，并且基于前一个块的有效性，如果要反转前一个块中的事务，就需要巨大的计算能力。随着更多数据块的加入，所需的计算能力将呈指数级增长。添加到事务中的块数称为确认。超过6份确认书(即超过6份确认书)的交易被视为不可逆。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/7c9578fca10d5de87c5396c2b89eda88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N_ISS8E3M-xn7JwIBCho6A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">块链概述</figcaption></figure><h2 id="5a4f" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">硬币转账是如何运作的？</h2><p id="2023" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们来看看区块链比特币交易的细节，下图展示了一个简单的比特币交易，它从底部开始，有初始的比特币余额——詹姆斯:BTC 50，加文:BTC 0。以下是比特币转移的活动顺序:</p><ol class=""><li id="ca3e" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr nj nk nl nm bi translated"><strong class="ky ir">詹姆斯将BTC 20发送到加文的地址</strong>——事务被放入比特币节点的内存池中。在那个时候，交易对每个人都是可见的，所以加文知道他已经收到了BTC 20，但还没有确认。区块链的交易需要根据当前交易基础上增加的区块数量进行确认。</li><li id="93ca" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated"><strong class="ky ir">新开采区块</strong>——交易包含在新开采的区块中。随着该块被添加到链中，确认的数量现在是1，但加文的比特币仍未确认，因为所需的确认数量是3。</li><li id="3c93" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated"><strong class="ky ir">第二新采区</strong>——确认个数为2</li><li id="767a" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated"><strong class="ky ir">第三个新块开采</strong>——确认次数为3次，收到的币被确认。加文可以安全地使用收到的硬币。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/4a204df980a2340bb57c39204769fcf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkocAxgushQ8Uodr6qHUPQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">比特币交易概述</figcaption></figure><h2 id="9d6f" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">矿业如何赚取比特币？</h2><p id="fc41" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">区块链依靠某人自愿进行“采矿”，即验证交易并为区块链增加新的区块。由于在分散的网络中没有集中的权力，这种设计通过奖励新产生的硬币和交易费用来激励任何成功开采区块的人。</p><p id="d7b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是2021年9月26日挖掘的样本区块，显示了交易自由和新生成硬币的数量。总的奖励是BTC 6英镑。18860 . 888888888816</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/17ebbda6a579d8049493b275443c3bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zeXMMuAKHbeZSZQ0R39oLQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">Blockchair.com截图</figcaption></figure></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="807c" class="ls lt iq bd lu lv ob lx ly lz oc mb mc jw od jx me jz oe ka mg kc of kd mi mj bi translated">本地环境设置</h1><p id="b2b1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">您需要在电脑上安装以下软件:</p><ul class=""><li id="7ce8" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr og nk nl nm bi translated">比特币核心(<a class="ae kv" href="https://bitcoin.org/en/download" rel="noopener ugc nofollow" target="_blank">https://bitcoin.org/en/download</a>)</li><li id="907c" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr og nk nl nm bi translated">邮递员(<a class="ae kv" href="https://www.postman.com/downloads" rel="noopener ugc nofollow" target="_blank">https://www.postman.com/downloads</a>)</li></ul><p id="039f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除以上软件外，<a class="ae kv" href="https://github.com/gavinklfong/bitcoin-dev-kits/tree/main/postman" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">邮差请求收集</strong> </a>为您提供方便。它是用于钱包创建、硬币转移、区块挖掘等的RPC命令的集合。下载<a class="ae kv" href="https://raw.githubusercontent.com/gavinklfong/bitcoin-dev-kits/main/postman/Local.postman_environment.json" rel="noopener ugc nofollow" target="_blank">环境文件</a>和<a class="ae kv" href="https://raw.githubusercontent.com/gavinklfong/bitcoin-dev-kits/main/postman/Bitcoin.postman_collection.json" rel="noopener ugc nofollow" target="_blank">请求收集文件</a>，然后导入到你的邮差中。</p><p id="d2ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你不熟悉Postman，这篇文章是一个很好的参考:</p><div class="oh oi gp gr oj ok"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-speed-up-your-api-tests-using-the-advanced-features-of-postman-350c453b376"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">如何使用Postman的高级特性加速API测试</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">令人惊叹的可重用API请求模板、动态请求数据和API请求工作流自动化</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">blog.devgenius.io</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kp ok"/></div></div></a></div><p id="afe6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你安装了比特币核心，运行应用程序将显示一个图形用户界面，并启动一个比特币节点。默认情况下，它连接到生产网络，并开始从网络中的其他对等节点同步，以下载整个区块链。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/845ef4d2716b9cf396ff8b7a425306f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XubTppcWGP1ePvUm743whQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">比特币应用首次启动时的屏幕显示</figcaption></figure><p id="93f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要将您的比特币节点切换到测试模式，您需要启用回归测试模式或regtest模式。在regtest模式下，你可以创建你的本地私人区块链，并自由模拟各种场景，如采矿和硬币转移。</p><p id="53dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">转到首选项并点击“打开配置文件”按钮</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/1d1284e01bbe2daec2f587e3834fabac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*yRt_jaIxVstYT3O57dl-iQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">比特币应用偏好设置—配置文件</figcaption></figure><p id="4f4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您将看到一个编辑器窗口中打开的<strong class="ky ir"> bitcoin.conf </strong>文件。默认情况下，配置文件为空。填写以下配置设置并保存。</p><pre class="kg kh ki kj gt pb pc pd pe aw pf bi"><span id="38fe" class="ms lt iq pc b gy pg ph l pi pj"># Tell Bitcoin node to accept JSON-RPC commands<br/>server=1</span><span id="bb61" class="ms lt iq pc b gy pk ph l pi pj"># Allow connections from any IP addresses<br/>rpcallowip=0.0.0.0/0</span><span id="78d8" class="ms lt iq pc b gy pk ph l pi pj"># Credential for JSON-RPC commands<br/>rpcuser=bitcoin<br/>rpcpassword=123456</span><span id="3959" class="ms lt iq pc b gy pk ph l pi pj"># Tell Bitcoin node to run in regtest mode<br/>regtest=1</span><span id="1569" class="ms lt iq pc b gy pk ph l pi pj"># IP address binding and port number of JSON-RPC service for Regtest<br/>regtest.rpcport=8089<br/>regtest.rpcbind=0.0.0.0</span></pre><p id="56b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">配置设置主要是在比特币节点上启用JSON-RPC命令，启用regtest模式。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pl"><img src="../Images/b475c99a7cdc28a7b34a610281a67b42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JfgdRwcs4ad3vxFqBFqpaw.png"/></div></div></figure><p id="5e80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用输入参数<code class="fe pm pn po pc b"><strong class="ky ir">-fallbackfee</strong></code>重启应用程序。该参数指示比特币节点使用默认交易费用，以防由于某种原因无法计算费用。</p><p id="07b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">适用于Mac操作系统</strong></p><pre class="kg kh ki kj gt pb pc pd pe aw pf bi"><span id="bf4a" class="ms lt iq pc b gy pg ph l pi pj">/Applications/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt -fallbackfee=0.00002</span></pre><p id="2e92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">对于Windows </strong></p><pre class="kg kh ki kj gt pb pc pd pe aw pf bi"><span id="4d9f" class="ms lt iq pc b gy pg ph l pi pj">&lt;Installation path&gt;/bin/Bitcoin-Qt.exe -fallbackfee=0.0002</span></pre><p id="d989" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦启动并运行，应用程序将在regtest模式下运行。由于区块链中什么也没有，区块链同步的进度是100%。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pp"><img src="../Images/f5c1410a8dafe51a3dbb5bd3a8258f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6wTeFgFdnAIEEmWC4FxV5g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在Regtest模式下运行的比特币应用</figcaption></figure></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="485e" class="ls lt iq bd lu lv ob lx ly lz oc mb mc jw od jx me jz oe ka mg kc of kd mi mj bi translated">通过区块挖掘生成硬币</h1><p id="738b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在硬币转移之前，我们需要创建硬币并存入钱包。唯一的办法就是通过挖掘一些区块来赚取硬币。我将向您展示如何使用RPC命令创建wallet和挖掘块。</p><h2 id="124c" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">创建钱包</h2><p id="56d5" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们首先为硬币矿工创建一个钱包。虽然比特币GUI允许我们轻松创建新的钱包，但我们将重点关注RPC命令，并使用比特币GUI来可视化结果。要创建新的钱包，在Postman中启动这个HTTP请求<strong class="ky ir"> Create Miner's Wallet </strong>。比特币RPC URL和RPC命令的凭据在Postman请求模板中被定义为环境变量，因此请确保选择“本地”环境。</p><p id="1472" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将wallet名称作为输入参数的RPC命令<code class="fe pm pn po pc b"><strong class="ky ir">createwallet</strong></code>。新钱包的钱包名为“minerwallet”。该变量在Postman集合中配置。如果钱包创建成功，那么您将收到一个JSON格式的带有钱包名称的响应</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pq"><img src="../Images/23cd114ac7618ec40554aafe55380e24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6b0jieA_leNtG8VoXqELA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员——创建矿工钱包</figcaption></figure><p id="8533" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建钱包时，钱包余额会显示在比特币GUI中。新创建的钱包的余额为零。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pr"><img src="../Images/5565f34203d522919e4107e67b172eb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sUwL_obhzeSqi2Ppmx0zNA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">矿工的钱包</figcaption></figure><h2 id="727c" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">生成新地址</h2><p id="daa6" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">接下来，为矿工新创建的钱包生成一个地址。这个地址是领取区块开采的奖励。</p><p id="1d29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">发起邮递员请求<strong class="ky ir">获取矿工的新地址</strong>。RPC命令<code class="fe pm pn po pc b"><strong class="ky ir">getnewaddress</strong></code>为钱包生成一个新地址。该地址将被用作下一个RPC挖掘命令的输入参数。无需复制&amp;粘贴生成的地址，Postman请求模板会自动将地址保存到变量中，供下一次请求使用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/d6fce28db901eb1a0bdfcd262e132085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kf9N4pWK2T-_3BeDYQYYCQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员—获取矿工的地址</figcaption></figure><h1 id="847a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">生成新的块</h1><p id="f6dc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">终于到了开采区块的时候了。启动Postman请求<strong class="ky ir">生成1个块到地址</strong>。RPC命令<code class="fe pm pn po pc b"><strong class="ky ir">generatetoaddress </strong></code>有两个输入参数——要生成的块数和接收采矿奖励的地址。输出是新生成的块的块散列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pt"><img src="../Images/503bbef195eeb0e6d5661e17ac4b8c4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3XmgkQANNM5t3tmzCPgXOg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员-生成块</figcaption></figure><p id="8ad7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据邮递员的要求检查矿工钱包中的物品<strong class="ky ir">获取矿工钱包信息。</strong>响应显示BTC 50处于未成熟余额，但余额仍为零。在regtest中，前150个方块产生BTC 50的奖励，但是该奖励直到达到100个确认才可以使用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pu"><img src="../Images/d71ee7f0e2baff1930672a621c5a46a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7cqkpT8AmlOsrDgGiNTHoA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮差——区块一代后矿工的钱包</figcaption></figure><p id="63ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GUI中的钱包信息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pv"><img src="../Images/ce94eeba85b57a4ace283bf588b4efed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B7dS35U2ZPPZP_tfjBJjiw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">区块生成后矿工的钱包</figcaption></figure><h2 id="73df" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">再开采100个街区</h2><p id="ddb1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了使余额可用，让我们利用邮递员请求<strong class="ky ir">再挖掘100个块，生成100个块</strong>。RPC命令与挖掘1个块的命令相同，但这次的第一个参数是100。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pw"><img src="../Images/6ee34b2f4be2eabe6d553bab70e9c983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cu73n_YVVw9zO6gg8zXUgw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员-生成100个街区</figcaption></figure><p id="ff70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">再次运行邮差请求以获取矿工的钱包信息，您将看到您的余额中的BTC 50已经可以消费了。另一方面，第100代积木在未成熟的平衡中贡献了BTC 5000。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi px"><img src="../Images/6e300fb06faa20238c5752da51270c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bp05VHY4VCziLmFhPFsltg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员-在第101代封锁后获取矿工的钱包信息</figcaption></figure><p id="3dbc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比特币UI中的钱包余额:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pr"><img src="../Images/0bddd83f589049658a5bbfd45fa21d5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xaAm7IY77NqTg-zuoFfXLw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">101块一代后的矿工钱包</figcaption></figure></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="a8d4" class="ls lt iq bd lu lv ob lx ly lz oc mb mc jw od jx me jz oe ka mg kc of kd mi mj bi translated">硬币转移</h1><p id="545a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了刺激硬币转移，我们需要创造另一个钱包。硬币转移大致包括以下步骤:</p><ol class=""><li id="6913" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr nj nk nl nm bi translated">从接收者的钱包中生成地址</li><li id="1790" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated">矿工将硬币发送到接收者的地址</li><li id="0acd" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated">挖掘区块以确认交易</li></ol><h2 id="fdfb" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">创建收款人的钱包和地址</h2><p id="2b08" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">运行邮递员请求<strong class="ky ir">创建接收者的钱包</strong>来创建一个新的钱包。钱包名称为“receiverwallet”。一旦新的钱包准备好了，通过运行邮递员请求<strong class="ky ir">创建接收者的地址来生成一个新的接收硬币的地址。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi py"><img src="../Images/94632b43220ba7587c72bcdd4f0bef1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iEuyNjJcmuh66vPlJdqjJA.png"/></div></div></figure><h2 id="da64" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">向接收者发送硬币</h2><p id="5746" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">发送BTC 0.0025到接收者的地址。邮递员请求<strong class="ky ir">发送到接收者地址</strong>中的RPC命令<code class="fe pm pn po pc b"><strong class="ky ir">sendtoaddress</strong></code>接受接收者地址和要转移的硬币值的输入参数。该命令返回事务哈希。</p><p id="289b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，交易已经成功提交到比特币节点，并存储在mempool中。它准备好被挑选用于下一代块。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi py"><img src="../Images/fce1db91643ff3f81c4e8135410f3c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FwQWHo7QvdnwuAvORzXNeA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员——将硬币送到地址</figcaption></figure><h2 id="4279" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">现在接收者的钱包余额是多少？</h2><p id="8409" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">邮递员请求<strong class="ky ir">获取接收者的钱包信息</strong>的输出表明BTC 0.0025被接收，但是它在未确认的余额中。原因是该事务尚未包含在任何块中。</p><p id="1bc9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在交易被确认并生成至少一个区块后，可以花费所接收的硬币。在现实世界中，建议进行6次确认(即在交易后生成6个区块)，以确保硬币的安全。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pz"><img src="../Images/aae4fb0bd6bb25e9f3e32b546e227c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Lvo8BE3T1c9w49C0QtnzQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员——发送硬币后获取接收者的钱包信息</figcaption></figure><p id="186c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GUI中显示的信息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qa"><img src="../Images/6ac7dd7d5a77c0ad2e9e9bae2eb84e3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bIAFNDj7olur7CWB3g-6xA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">有待定硬币的接收者钱包</figcaption></figure><h2 id="6221" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">获取交易信息</h2><p id="a9e3" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果你想检查事务的原始数据，那么运行Postman请求<strong class="ky ir">获取原始事务</strong> (RPC命令<code class="fe pm pn po pc b"><strong class="ky ir">getrawtransaction</strong></code>)。该命令接受事务哈希作为事务标识符。</p><p id="1e76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">邮差请求会自动保存您之前发送硬币请求的交易哈希，因此您无需手动输入交易哈希。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qb"><img src="../Images/b1552c5c633fac59c6b5490e867bbba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FXXFygWxnZUh96g79L0j4w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员-获取原始交易</figcaption></figure><h2 id="e617" class="ms lt iq bd lu mt mu dn ly mv mw dp mc lf mx my me lj mz na mg ln nb nc mi nd bi translated">通过生成新的块来确认事务处理</h2><p id="ab8f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">好吧，让矿工去做吧。在现实世界中，采矿者根据交易费选择区块开采的交易。交易费用越高，该交易被选择用于下一个区块开采的可能性越大。因此，交易越快得到确认。</p><p id="515c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">相反，如果交易费用较低，交易可能会停滞很长时间，因为它没有为采矿者提供足够的激励来选择区块开采的交易。</p><p id="aea5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">测试环境中的块生成很简单。运行Postman请求<strong class="ky ir">生成1个块，</strong>RPC命令<code class="fe pm pn po pc b"><strong class="ky ir">generatetoaddress</strong></code>然后在新生成的块中包含所有未决事务。</p><p id="27f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">再次检查收款人的钱包信息，收到的硬币已经确认，现在可消费的余额是BTC 0.0025。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qc"><img src="../Images/505ae944729ac775cdfdda05d751eb41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LOor4ycVJI5ibMiLNYcAhw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮差——获取装有确认硬币的收件人钱包</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qa"><img src="../Images/ccab63916decd28e885b60836970c148.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MA7B8mU3U4mzS8wHMCVbkA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">装有已确认硬币的收款人钱包</figcaption></figure><p id="3db1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，硬币从矿工的钱包中扣除。由于又开采了一个区块，矿工的平衡有一个额外的BTC 50奖励。扣除BTC 0.0025和交易费后，余额为BTC 99.99749718。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/92589958e9a8f1f84c9dabbf2a0cd508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RyfE0gzX1MKt8QnnjoVKZw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">邮递员——在硬币转移后获得矿工的钱包</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qd"><img src="../Images/b10b19b3be8530945db15eba3504300d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yVAh6_nkDYPBzNBzj8mx0Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">硬币转移后的矿工钱包</figcaption></figure></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="d31e" class="ls lt iq bd lu lv ob lx ly lz oc mb mc jw od jx me jz oe ka mg kc of kd mi mj bi translated">最后的想法</h1><p id="235c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">私有区块链是加密货币应用开发的必备开发工具。它提供了一个简单的方法来模拟各种场景，如区块开采，硬币转移，硬币双花，按费用替换等。对于开发人员来说，理解系统行为以便构建业务功能和故障排除是至关重要的。</p><p id="068f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">私有区块链上的操作依赖于RPC命令。比特币节点支持通过HTTP请求的命令，因此，提供了一套有用的邮差请求模板，帮助您加快命令执行和探索区块链功能。希望你觉得有用。</p></div></div>    
</body>
</html>