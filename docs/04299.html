<html>
<head>
<title>Getting Started with Form Validation in a Vue 3 App with Vee-Validate 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vee-Validate 4在Vue 3应用程序中开始表单验证</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/getting-started-with-form-validation-in-a-vue-3-app-with-vee-validate-4-30bfde1dbb9b?source=collection_archive---------3-----------------------#2021-02-23">https://blog.devgenius.io/getting-started-with-form-validation-in-a-vue-3-app-with-vee-validate-4-30bfde1dbb9b?source=collection_archive---------3-----------------------#2021-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7e4056b7e4c25bbb72660db043b9357a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BPPb8NkH2GRZuz0Y"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@morais?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">摄于<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的</a></figcaption></figure><p id="2518" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">表单验证是任何应用程序的重要组成部分。</p><p id="620f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何在我们的Vue 3应用程序中使用Vee-Validate 4进行表单验证。</p><h1 id="4c68" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">脚本标记入门</h1><p id="99e9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以从脚本标记开始。</p><p id="af38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">v-form</code>组件作为表单容器。</p><p id="c157" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">v-field</code>组件是我们的输入字段。</p><p id="7173" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">error-message</code>组件是我们的错误消息。</p><p id="1b8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="559d" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>    &lt;script src="https://unpkg.com/vee-validate@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;v-form @submit="onSubmit"&gt;<br/>        &lt;v-field<br/>          name="name"<br/>          as="input"<br/>          type="text"<br/>          placeholder="What's your name?"<br/>          :rules="isRequired"<br/>        &gt;&lt;/v-field&gt;<br/>        &lt;br /&gt;<br/>        &lt;error-message name="name"&gt;&lt;/error-message&gt;<br/>        &lt;br /&gt;<br/>        &lt;button&gt;Submit&lt;/button&gt;<br/>      &lt;/v-form&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({<br/>        components: {<br/>          VForm: VeeValidate.Form,<br/>          VField: VeeValidate.Field,<br/>          ErrorMessage: VeeValidate.ErrorMessage<br/>        },<br/>        methods: {<br/>          isRequired(value) {<br/>            if (!value) {<br/>              return "this field is required";<br/>            }<br/>            return true;<br/>          },<br/>          onSubmit(values) {<br/>            alert(JSON.stringify(values, null, 2));<br/>          }<br/>        }<br/>      });<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="254d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们添加脚本标记:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="29bc" class="mq lc iq mh b gy mr ms l mt mu">&lt;script src="https://unpkg.com/vee-validate@next"&gt;&lt;/script&gt;</span></pre><p id="3118" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们注册<code class="fe me mf mg mh b">VForm</code>、<code class="fe me mf mg mh b">VField</code>和<code class="fe me mf mg mh b">ErrorMessage</code>组件，这样我们就可以在模板中使用它们。</p><p id="0f82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">isRequired</code>方法，通过将它传递到<code class="fe me mf mg mh b">rules</code>属性中，我们将它用于表单的规则。</p><p id="6bf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果表单字段有效，它返回<code class="fe me mf mg mh b">true</code>。</p><p id="a069" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，它会返回我们想要显示的错误消息。</p><p id="0339" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">value</code>具有我们输入的值。</p><p id="e85d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">v-field</code>组件具有<code class="fe me mf mg mh b">as</code>属性，该属性被设置为<code class="fe me mf mg mh b">input</code>以将其呈现为输入框。</p><p id="5302" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">error-message</code>的<code class="fe me mf mg mh b">name</code>将匹配我们正在验证的字段的<code class="fe me mf mg mh b">name</code>属性值。</p><h1 id="cea6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">开始使用NPM软件包</h1><p id="9119" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过运行以下命令来安装Vee-Validate NPM软件包:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fef9" class="mq lc iq mh b gy mr ms l mt mu">yarn add vee-validate@next</span></pre><p id="43fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bc22" class="mq lc iq mh b gy mr ms l mt mu">npm i vee-validate@next --save</span></pre><p id="5be7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="33ab" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;Form v-slot="{ errors }"&gt;<br/>    &lt;Field name="field" as="input" :rules="isRequired" /&gt;<br/>    &lt;br /&gt;<br/>    &lt;span&gt;{{ errors.field }}&lt;/span&gt;<br/>  &lt;/Form&gt;<br/>&lt;/template&gt;</span><span id="fc35" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>import { Field, Form } from "vee-validate";</span><span id="056c" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  components: {<br/>    Field,<br/>    Form,<br/>  },<br/>  methods: {<br/>    isRequired(value) {<br/>      return value ? true : "This field is required";<br/>    },<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="2566" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们注册了<code class="fe me mf mg mh b">Field</code>和<code class="fe me mf mg mh b">Form</code>组件，这样我们就可以在模板中使用它们。</p><p id="7cec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Form</code>是表单包装器。它具有来自带有错误消息的槽道具的<code class="fe me mf mg mh b">errors</code>属性。</p><p id="9c2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个<code class="fe me mf mg mh b">Field</code>组件类似于我们在前面的例子中的<code class="fe me mf mg mh b">v-field</code>组件。</p><p id="d4e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">errors.field</code>有<code class="fe me mf mg mh b">'field'</code>字段的验证表单验证错误信息。</p><p id="cf68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">isRequired</code>函数的验证逻辑与上例相同。</p><p id="fc15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe me mf mg mh b">value</code>有效，则返回<code class="fe me mf mg mh b">true</code>，否则返回错误验证消息。</p><h1 id="8c87" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="fd4f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用Vee-Validate 4将简单的表单验证添加到Vue 3应用程序中。</p></div></div>    
</body>
</html>