<html>
<head>
<title>Connect Flutter to your Native iOS Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Flutter连接到您的本地iOS项目</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/connect-flutter-to-your-native-ios-project-5fffbc543b3e?source=collection_archive---------0-----------------------#2021-02-15">https://blog.devgenius.io/connect-flutter-to-your-native-ios-project-5fffbc543b3e?source=collection_archive---------0-----------------------#2021-02-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/17b7f8cbae938f233b96e07ff0a3b7b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sXqXlgnHEP_xgk639dUgkA.png"/></div></div></figure></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><p id="384d" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">在前一篇文章中，我们一步一步地解决了这个问题。如果你错过了，你可以在这个<a class="ae le" href="https://medium.com/dev-genius/connect-flutter-to-your-native-android-project-ae6abfd1a73c" rel="noopener">链接</a>上阅读。</p><p id="a3e3" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">一些开发人员认为将一个flutter项目连接到您的原生项目很难，但是在本文中，我们将为您简化它！所以，我们开始吧！</p><figure class="lf lg lh li gt jo"><div class="bz fp l di"><div class="lj lk l"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk translated">来自<a class="ae le" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank">https://giphy.com/</a></figcaption></figure><h1 id="58a9" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated"><strong class="ak">先决条件</strong></h1><ol class=""><li id="9c41" class="mn mo in ke b kf mp kj mq kn mr kr ms kv mt kz mu mv mw mx bi translated">Xcode</li><li id="bb70" class="mn mo in ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">椰子足类</li><li id="033f" class="mn mo in ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">颤振和飞镖SDK</li></ol><h1 id="7030" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated"><strong class="ak">整合</strong></h1><p id="d62c" class="pw-post-body-paragraph kc kd in ke b kf mp kh ki kj mq kl km kn nd kp kq kr ne kt ku kv nf kx ky kz ig bi translated">为了简化示例，我们将为两个项目创建一个新项目。以便更容易理解和列举我们的示例POC集成所需的设置。</p><p id="89c2" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">所以让我们假设原生项目有很多代码和UI。</p><p id="7a96" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">所以让我们开始吧！</p><p id="8a28" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">颤振<br/> </strong> 1。创建一个模块。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="eebb" class="nk lq in ld b gy nl nm l nn no">flutter create --template module name_of_project</span></pre><p id="44b4" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">2.更改方向路径并导入/收集依赖项。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="7dcb" class="nk lq in ld b gy nl nm l nn no">/// MARK : Change Directory.<br/>cd /Users/jansalvadorsebastian/Desktop/name_of_project</span><span id="ffd2" class="nk lq in ld b gy np nm l nn no">/// MARK: Fetch the Dependencies.<br/>flutter pub get</span></pre><blockquote class="nq nr ns"><p id="7b5a" class="kc kd nt ke b kf kg kh ki kj kk kl km nu ko kp kq nv ks kt ku nw kw kx ky kz ig bi translated"><em class="in">注意:这是可选的，但这是最佳实践之一，这也是我包含此实践的原因。</em></p></blockquote><p id="cc6b" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">3.在你的设备上测试一下。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="8e0f" class="nk lq in ld b gy nl nm l nn no">/// MARK:Option #1: Run Active.<br/>flutter run</span><span id="a5b1" class="nk lq in ld b gy np nm l nn no">/// MARK: Option #2: Run all active/availble devices<br/>flutter run -d all</span><span id="33d7" class="nk lq in ld b gy np nm l nn no">/// MARK: Option #3: Run on a specific device.<br/>flutter run -d "iPhone XS"</span></pre><blockquote class="nq nr ns"><p id="8795" class="kc kd nt ke b kf kg kh ki kj kk kl km nu ko kp kq nv ks kt ku nw kw kx ky kz ig bi translated"><em class="in">注意:这是可选的，但这是最佳实践之一，这也是我包含此实践的原因。</em></p></blockquote></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><p id="64e1" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io"> Xcode </strong></p><ol class=""><li id="7d6f" class="mn mo in ke b kf kg kj kk kn nx kr ny kv nz kz mu mv mw mx bi translated">创建一个iOS项目。</li></ol><blockquote class="nq nr ns"><p id="f56a" class="kc kd nt ke b kf kg kh ki kj kk kl km nu ko kp kq nv ks kt ku nw kw kx ky kz ig bi translated">注意:这是可选的，如果你已经有一个现有的项目，你可以尝试一下。</p></blockquote><p id="fccf" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">2.在您的项目上初始化Cocoapods。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="8aaf" class="nk lq in ld b gy nl nm l nn no">/// MARK: Change Destination.<br/>cd ~/path-to-project</span><span id="6982" class="nk lq in ld b gy np nm l nn no">/// MARK: Initialized Pods.<br/>pod init</span></pre><p id="a730" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">3.将Flutter整合到您的母语中。</p><p id="7b62" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">I)在您的IDE中打开<code class="fe la lb lc ld b">PodFile</code>。在你的<code class="fe la lb lc ld b">PodFile</code>上添加这几行代码。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="de39" class="nk lq in ld b gy nl nm l nn no">/// MARK: Flutter Path<br/>flutter_application_path = '../my_flutter'</span><span id="bdff" class="nk lq in ld b gy np nm l nn no">/// MARK: Embed it to your Environment/Project<br/> load File.join(flutter_application_path, '.ios', 'Flutter', 'podhelper.rb')</span></pre><p id="cfaf" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">样本:</p><figure class="lf lg lh li gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oa"><img src="../Images/14b5287f3fa211adfd8e1e377ffe5147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_FRSegrMHfmKl_YCWQkMA.png"/></div></div></figure><p id="ae3e" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">iii)安装吊舱。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="08b3" class="nk lq in ld b gy nl nm l nn no">/// MARK: Installation<br/>pod install</span></pre><p id="5ed7" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">iv)这些是您的Xcode项目的文件。</p><figure class="lf lg lh li gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oa"><img src="../Images/14b5287f3fa211adfd8e1e377ffe5147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_FRSegrMHfmKl_YCWQkMA.png"/></div></div></figure><p id="6454" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">v)打开<code class="fe la lb lc ld b">.xcworkspace</code>文件。</p></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><p id="f903" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">现在，让我们继续进行本地项目中的编码部分。</p><ol class=""><li id="8e2e" class="mn mo in ke b kf kg kj kk kn nx kr ny kv nz kz mu mv mw mx bi translated">在你的<code class="fe la lb lc ld b">Appdelegate</code>里，加上这个代码。</li></ol><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="073f" class="nk lq in ld b gy nl nm l nn no">import Flutter<br/>import FlutterPluginRegistrant</span><span id="cee4" class="nk lq in ld b gy np nm l nn no">class AppDelegate: FlutterAppDelegate {</span><span id="75b8" class="nk lq in ld b gy np nm l nn no">lazy var flutterEngine = FlutterEngine(name: "my flutter engine")</span><span id="a3db" class="nk lq in ld b gy np nm l nn no">override func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {<br/>        // Runs the default Dart entrypoint with a default Flutter route.<br/>        flutterEngine.run();<br/>        // Used to connect plugins (only if you have plugins with iOS platform code).<br/>        GeneratedPluginRegistrant.register(with: self.flutterEngine);<br/>        return super.application(application, didFinishLaunchingWithOptions: launchOptions);<br/>      }<br/>}</span></pre><p id="5d1c" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">样本:</p><figure class="lf lg lh li gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/1d613974959aaa56ad214ce5266378da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1e3IYunrRCSsnNKTkIzrUA.png"/></div></div></figure><p id="57e6" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">2.在ViewController中。</p><p id="835c" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">I)将Flutter导入您的模块。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="9174" class="nk lq in ld b gy nl nm l nn no">import Flutter</span></pre><p id="020f" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">ii)我们再加上<code class="fe la lb lc ld b">button</code>。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="ec71" class="nk lq in ld b gy nl nm l nn no">let button = UIButton(type:UIButton.ButtonType.custom)<br/>  button.addTarget(self, action: #selector(showFlutter), for: .touchUpInside)<br/>  button.setTitle("Show Flutter!", for: UIControl.State.normal)<br/>  button.frame = CGRect(x: 80.0, y: 210.0, width: 160.0, height: 40.0)<br/>  button.backgroundColor = UIColor.blue<br/>  self.view.addSubview(button)<br/>}</span></pre><p id="8ae7" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">iii)按钮的事件动作。</p><pre class="lf lg lh li gt ng ld nh ni aw nj bi"><span id="8be9" class="nk lq in ld b gy nl nm l nn no"><a class="ae le" href="http://twitter.com/objc" rel="noopener ugc nofollow" target="_blank">@objc</a> func showFlutter() {<br/>    let flutterEngine = (UIApplication.shared.delegate as! AppDelegate).flutterEngine<br/>    let flutterViewController =<br/>        FlutterViewController(engine: flutterEngine, nibName: nil, bundle: nil)<br/>    present(flutterViewController, animated: true, completion: nil)<br/>  }</span></pre><p id="6bc0" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">样本:</p><figure class="lf lg lh li gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/6f5da2009bd20f771fe437c5fc50479e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aicaTdicLWaE96RAYOfjGQ.png"/></div></div></figure><p id="9a15" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">iv)现在，尝试在您的设备/模拟器上构建它！</p></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><p id="3efc" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">就这些了，伙计们！希望你能学到新的东西！喔喔喔！🥳🥳🥳</p><p id="168e" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">对于下一个主题，我将添加简单的路线，所以敬请关注！</p></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><div class="lf lg lh li gt oc"><a href="https://giphy.com/clips/laclippers-basketball-nba-kawhi-leonard-j52sPn4EG2TIgIUoCf" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd io gy z fp oh fr fs oi fu fw im bi translated">它是一个包裹。- GIPHY剪辑</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">在GIPHY上搜索动画gif！</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">giphy.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq jt oc"/></div></div></a></div></div></div>    
</body>
</html>