<html>
<head>
<title>Power analysis for Categorical Data in SAS.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SAS中分类数据的功效分析。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/power-analysis-for-categorical-data-in-sas-multinomial-ordinal-binary-binomial-beta-poisson-9398888491da?source=collection_archive---------1-----------------------#2021-11-14">https://blog.devgenius.io/power-analysis-for-categorical-data-in-sas-multinomial-ordinal-binary-binomial-beta-poisson-9398888491da?source=collection_archive---------1-----------------------#2021-11-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7de4" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">多项式、序数、二进制、二项式、贝塔、泊松、负二项式、贝塔二项式和正态分布示例。</h2></div><p id="5eae" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated">一项研究的能力反映了一项测试发现一种效应的能力，如果这种效应确实存在的话。这意味着“功效”是一项研究<strong class="ke io">将</strong>检测到一个<strong class="ke io">效应的<strong class="ke io">概率</strong>，如果该效应确实存在的话。</strong>更大的能量意味着假阴性或<strong class="ke io">II型错误</strong>的概率下降。</p><p id="9242" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以，如果我们说我们有86%的能力，这意味着在86/100的试验中，我们会发现这个效应，如果它真的存在的话。然而，只有当我们进行完全相同的测试，并且我们预先指定了将要进行的测试的数量时，这个数字才成立。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi lh"><img src="../Images/653748b298e4fdfd75bfce1a4ec1109d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YTFV98WPGvnMCO6a4oxQlg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">没怀孕时怀孕(I型错误)，怀孕时没怀孕(也是I型错误)。(它们都有不同的零假设)</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/1d4b5834b57aa522866b068a5b1764b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*MO9q2njUZdMJ3jU8G36ULA.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">解释I型和II型误差的2*2矩阵。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm lz ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/a13ebb53eb0e3ffdc481eef8ba525c48.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*JoOVoXwSavOEzGasUtU1Zg.png"/></div></figure><figure class="ly lm me ma mb mc md paragraph-image"><img src="../Images/2c1476f221317ee2fba36c67daab71a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*2AWZbz1pPM9eO4HEcotUyw.png"/><figcaption class="lt lu gj gh gi lv lw bd b be z dk mf di mg mh translated">影响功率的参数，以及如何影响功率。</figcaption></figure></div><div class="ab cb"><figure class="ly lm mi ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/c0d4eadb71b931cd10ddb0821f7816b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*VQ7_OqP9L-KeX8hPKJ6-iQ.png"/></div></figure><figure class="ly lm mj ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/9e7c315e3915436ea4076a0bf7e41ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*ouocgCUZGgN3roE_rl-dJw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk mk di ml mh translated">幂的计算取决于分布，对于离散变量和连续变量，分布是不同的。</figcaption></figure></div></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="86ff" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated"><span class="l kz la lb bm lc ld le lf lg di"> W </span>我现在要做的是使用我在<a class="ae mt" href="https://medium.com/@marc.jacobs012/generalized-linear-mixed-models-in-sas-distributions-link-functions-scales-overdisperion-and-4b1c767bb89a" rel="noopener"> <strong class="ke io"> PROC GLIMMIX </strong>帖子中使用的关于分析顺序数据</a>的相同示例。这意味着我将展示对<a class="ae mt" href="https://medium.com/@marc.jacobs012/analyzing-ordinal-data-in-sas-fe9d9d35a449" rel="noopener">多项、序数</a>、<a class="ae mt" href="https://medium.com/@marc.jacobs012/analyzing-ordinal-data-in-sas-using-the-binary-binomial-and-beta-distribution-8efe5fe5af66" rel="noopener">二元、二项式、贝塔</a>、<a class="ae mt" href="https://medium.com/@marc.jacobs012/analyzing-ordinal-data-in-sas-poisson-and-negative-binomial-distribution-5f46b039aaeb" rel="noopener">泊松、负二项式</a>、正态和<a class="ae mt" href="https://medium.com/@marc.jacobs012/sample-size-calculation-using-the-beta-binomial-distribution-7adca91035a9" rel="noopener">贝塔二项式分布</a>的幂计算。我还将展示如何对死亡率数据、对数转换数据和具有非结构化方差-协方差矩阵的数据进行研究。</p><p id="a034" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们从多项式开始。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mu"><img src="../Images/36d1c654894adaaf03e056e749e1019d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VlBy8Asx-xiW2gCb6o9K1g.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">预测概率来自具有一般logit链接的多项分布。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/7b9815f5ac4f5312d625037e1fa54b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*xhuD9l_h8oYUyjQrNr2Zcw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">运行多项式模型的代码</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mw"><img src="../Images/bab1fe9cb6ab645a8270d029a643af7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*POVMTtCSqW5iC0r_gzsyWA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和add hoc代码来估计用于治疗的类型III测试的功率。<a class="ae mt" href="https://medium.com/@marc.jacobs012/inference-estimates-p-values-and-confidence-limits-a-frequentist-approach-acdd45d94bd5" rel="noopener">这是一个事后的功率计算，最好用来看一眼</a>。仅此而已。更好的是模拟数据。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mx"><img src="../Images/2af0b92126164df3c166262f4ac4743d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C7kCX82OsDwHVSCELGd5ng.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和使用t分布代替正态分布的功效。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi my"><img src="../Images/e9badd79c18c1c199e58b4814a5e6e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbUoX-WSPfI6EI04Vf-4Dw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">模拟多项式模型。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm mz ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/8c1a45ec4c4ed93a8c8aab67602b0d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*xjjxIJNA6xcicfZVn6QvTw.png"/></div></figure><figure class="ly lm na ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/ec8dbefa5a6f814e6c562d592f8fabe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1544/format:webp/1*duZmSKcHGIJyov0hDcihAg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk nb di nc mh translated">看到单个模拟的结果。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/c185bb18b86545be8ef0906ccea0f281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*rVfLpPBeOK2qIdDtiTaAGQ.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">运行模拟程序。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ne"><img src="../Images/5f7da90fa0d8ee084f85eabcbd1b555f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MBl4uVSAWh_QMuf9oAK_Mw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">看到结果。这里，功效等于显著测试的数量/测试总数。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nf"><img src="../Images/c0eed59f3be6758d822eaa6967344e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*25GdbRivAcWa4syMT-EvDA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以及模拟的结果——每个分数每个处理的显著差异的数量。因为这是一个具有一般logit链接的多项式，所以每个分数的差异是分开的。</figcaption></figure><p id="f91f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总之，当分析腹泻评分时，多项式模型是最直接的，因为它假设评分是互斥的，并分析每个评分类别的治疗效果。参考分数影响结果。</p><p id="e9f3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用多项式模型估计功率可以通过两种方式进行:</p><ol class=""><li id="361b" class="ng nh in ke b kf kg ki kj kl ni kp nj kt nk kx nl nm nn no bi translated">通过使用<strong class="ke io">PROC glim mix</strong>+non-profiling请求特别功率分析。</li><li id="e120" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">通过模拟多项式数据，然后使用<strong class="ke io">PROC glim mix</strong>——最灵活的方式。</li></ol><p id="5909" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，让我们看看如何使用多项式分布和累积logit函数重复上述示例。这将创建一个真正的序数模型。本质上，上面的模拟和我现在要展示的之间的区别仅仅在于我分析数据的方式</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nu"><img src="../Images/4f4c2a601da7d80cae60120c3c7c57a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2eK1VK3TslRKNcTXD7atmA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">分析数据的代码，以及寻找不同治疗之间差异的事后能力。如您所见，分数不再起作用，因为序数模型假设比例，这意味着分数1和2之间的差异与0和1相同。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nv"><img src="../Images/317b307f51794226e3ce6849c9e94c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7sIFszJyEEYo3xkhDmgHBQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">更好的方法是模拟数据，为此，您需要一个表格来填写比例。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nw"><img src="../Images/c73feedfdb4a6b63bad0df2a20e63353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*53B_XlzRt9OwNKUzyjhTzA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">代码与常规logit链接模型完全相同。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nx"><img src="../Images/d66584f1dad5f83ba402a39746d73ec1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1__C1FHAph8MD2bSYZtyA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">每次治疗的模拟评分频率。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ny"><img src="../Images/5d7c295d7b300873684e839d9af165d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tOEh_tWOtxqcgSXD2kvFmw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和基于单个模拟的事后功率。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nz"><img src="../Images/c44d9a2fd3bea3aaaf23d11af448e7df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dL767pfnWvSiWWfs7DdYBg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以及在全部数量的模拟后每次治疗的功率。</figcaption></figure><p id="1374" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，顺序模型是多项式模型，但假设数字有一个自然的顺序。序数模型的功效可以以与多项式模型完全相同的方式进行估计和/或模拟。这里，再次，模拟方法提供了最大的自由和最大的优势，然而也是最复杂和最费时的行为。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="219b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated">现在，我将继续二项式的例子。下面您可以看到用于分析二项式数据、运行事后功效测试以及模拟二项式数据以进行模拟功效分析的代码(这应该是您的首选工作方式)。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oa"><img src="../Images/8a5816f490913592856971bb05ff9f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*erKZfQL4nHPWOiyJAYpZVg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">用于分析和事后计算每个治疗比较的二项式功效的代码。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ob"><img src="../Images/c84cdbfc2b95c0155ad3e9533e62a9d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTUWePqXzIVKyaSKaEzV4w.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">结果。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oc"><img src="../Images/0da8041ceb95b3eb97f0dd9971fbd2dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x-cuknzpEwkoKa0dauJhdQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">如果我<strong class="bd od">临时</strong>改变方差会发生什么？</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oe"><img src="../Images/f1a6ce1ce935c890fa28b9abda15d1d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8bw_JA05ySgVDznnw-Adw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">使用二项式分布模拟功耗分析的代码。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi of"><img src="../Images/391511b3ac1654cd4ea6c5dc9f9e50da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*00oGRVG2S5A2vLLVGnWv2g.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和功率图来估计随机化完全区组设计中所需的区组数。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi og"><img src="../Images/27f24eaf73c706786e2a45be4b3ceb21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*Ib6bWMS0xR95OZRAH4NJUg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">检测显著差异的能力，作为治疗比较的块数的函数。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oh"><img src="../Images/bb63df9c059443e4bc7dc9c11bfcf209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3GbTrwECCUTYf-le5q7tLg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">另一种方法是模拟数据，一种随机完全区组设计的方法。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oi"><img src="../Images/d1bd594484ea48d244f7ca110f0ac3cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ew91RPrmgXF5c5xo6XIYNw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">我将获得的数据集</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oj"><img src="../Images/341359385396b6e24d79705859e96a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bCzCRc0qdg1NJURZjOqIyA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">该图显示了我如何建立模拟，以及跨处理和区块的方差。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ok"><img src="../Images/8738a303830132d60b4731b2a4e7d98b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tk7bJIUzNVNLDAjmMLrmYQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">测试模拟可行性的单一模拟分析。不要看残差，它们不是正态和同质的。最好看看预测的比例。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oc"><img src="../Images/74066003080a697d1cff6bb60c9c1056.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N0WsOwzEVhgL4vHX9LGdjA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以及全仿真的分析。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ol"><img src="../Images/c890ac1b1e8121688aa52e63ef9c207c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zN1vEnoJ-hrag53qf0ArGQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和功率曲线。</figcaption></figure><p id="2259" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总之，如果你想分析一个二元除法，你需要确定你是想把它作为一个<strong class="ke io">比例</strong>还是作为一个<strong class="ke io">比率</strong>来分析:</p><ol class=""><li id="a3d2" class="ng nh in ke b kf kg ki kj kl ni kp nj kt nk kx nl nm nn no bi translated">比例=相同两个指标的比率±腹泻/粪便总量</li><li id="25c2" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">比率=两个不同指标的比率±腹泻/测得的总天数</li></ol><p id="f8a6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">二项式数据的功效计算遵循与序数/多项式功效计算相同的方法:</p><ol class=""><li id="507f" class="ng nh in ke b kf kg ki kj kl ni kp nj kt nk kx nl nm nn no bi translated">使用<strong class="ke io"> PROC GLIMMIX </strong>可轻松进行后期处理。</li><li id="1c03" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">完全模拟更自由，但耗时更长，也更复杂。</li></ol><p id="594c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面你会看到使用Beta分布的例子。如你所见，程序总是一样的。我分析数据，进行事后功效计算，然后进行全面模拟，查看功效占被认为显著的治疗差异的百分比。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi om"><img src="../Images/9fa4c0dd1a12dd7d368c931b1bc49188.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4DoICqveuazcXU-kLP8O8g.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">使用Beta分布的数据分析和事后功率计算。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi on"><img src="../Images/2a8ad4c5f2dbe2e27d7c74b5b3648994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DK5luqKbxSp2EAArjYLpuw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">beta模型的完全模拟。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm oo ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/3be6d1ee5063cf3c5a2850d9a247e2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*eNKMygvvpSEz-BfR3iGTrw.png"/></div></figure><figure class="ly lm op ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/ab93651696c4fca3e7d9ed8f19e09a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*qYqQMTQiodWyuc9MdxH3tA.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk oq di or mh translated">模拟总体的平均值和标准差</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi os"><img src="../Images/421c5089d16e9448ec2e96729f84de74.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*e6ca4W9K6IjLbU6cmTaHGw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">随机效应的协方差估计。<a class="ae mt" href="https://medium.com/@marc.jacobs012/randomness-in-mixed-models-8b7affd8a7c4" rel="noopener">随着样本量的增加，这些将变得更小。</a></figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ot"><img src="../Images/3a457f82de7448a069312db31132e45f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yJj82Rhz-EXuXTzq8y0tsA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以及作为处理比较、块和所使用的估计和(共)方差的函数的β功效图。</figcaption></figure><p id="b17e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总之，贝塔分布是一种连续分布，它处理比例数据的方式与二项式分布不同。使用beta分布寻找腹泻分数的功效意味着:</p><ol class=""><li id="700e" class="ng nh in ke b kf kg ki kj kl ni kp nj kt nk kx nl nm nn no bi translated">你需要估计比例参数。</li><li id="849a" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">你需要找到阿尔法和贝塔。</li></ol><p id="09d1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">PROC GLIMMIX 可以提供一个好的开始，但是完整的模拟是最好的。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="c418" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated"><span class="l kz la lb bm lc ld le lf lg di"> N </span> ext-up是泊松回归。泊松有很多共同点，它也是两个值的函数，一个是速率。要创建该比率，您需要包括偏移变量。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mx"><img src="../Images/b5226c20fcdacd01514785e5c69dd1cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ciO4QT5--UYAUW7bPLpxWw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">偏移量决定了很多。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi oe"><img src="../Images/52f9b0c6db31456e7a34f223e0fec864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGVeZALJailOJMt9edIlwA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">使用带有偏移变量的泊松分布。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ou"><img src="../Images/01fb72be98677c406384647067a72ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DmSIzCizFxz9CBvvySpxHA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">事后功率计算。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ov"><img src="../Images/707e4914b26b98eb88129e5b7055d4da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lpnltfAUENY1dQkVtUnenQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">泊松的模拟。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm ow ma mb mc md paragraph-image"><img src="../Images/55fcb458d23713d2bfb06b80e306ccad.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*pskQi32YHXCklbfqknDEVw.png"/></figure><figure class="ly lm ox ma mb mc md paragraph-image"><img src="../Images/7a785539aafaf271aebdd82318fed7c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*G5fOkXJhlFMo7AVFhWr5CQ.png"/><figcaption class="lt lu gj gh gi lv lw bd b be z dk oq di or mh translated">模拟数据集。</figcaption></figure></div><div class="ab cb"><figure class="ly lm oy ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/5def3ab1c62541f4ed2eae19de2be510.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*1Qcn_mYUozRvWe8FKY0nhw.png"/></div></figure><figure class="ly lm oz ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/744b948f0e9aac3ebb563ee4d939b310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1452/format:webp/1*bwWtlmUzVGbPuKMVrTS-SA.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk pa di pb mh translated">单一模拟的分析。没有过度分散。</figcaption></figure></div><div class="ab cb"><figure class="ly lm pc ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/9497fa812b351e908c91d22c7e3ff3bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*R0S-Jg8G0AhA2_alDC0CUg.png"/></div></figure><figure class="ly lm pd ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/4d41bb21c29213f04f7b8bd979bd68a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*c8AoSrdmJuiltKsUC_eb3Q.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk pe di pf mh translated">左边是完整的模拟结果，右边是协方差估计。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi pg"><img src="../Images/0c9bad5dd9eb3d8840d90845317d79fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*no9oCkx3s82lB4iLn5U2Qw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">泊松分布的幂图。</figcaption></figure><p id="6b3e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">既然我们在处理泊松，我们也应该处理负二项式，因为它们经常被连用。请记住，负二项式是一个混合模型，即伽玛-泊松模型。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/3a259dc42a2cc5dd740b5c98767a1b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*adzx1-BRsuXJEIgv40Z-WA.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">负二项式也可以使用偏移量。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm pi ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/e705512b2b5ccf7c1a6fb50e91ad4a9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*_7Wd2KX5cg2ua1D6XGD6uA.png"/></div></figure><figure class="ly lm pj ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/d8fc4473106175fbd11cbb33fcd083a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1510/format:webp/1*sG1nDk-j3fnAjdlqxJmmkw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk pk di pl mh translated">模型的结果。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi pm"><img src="../Images/ccb9c81851676d4e7682aeba86e247d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c72xpMsPYy3os0vqDD08KQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">临时权力。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi pn"><img src="../Images/125807292747fc2140ab355127312c10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sLEbDN0znuvmOw19ZeK86g.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">完整的模拟代码。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm po ma mb mc md paragraph-image"><img src="../Images/c78a7e4b2da89ae3842ca318551399c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*L0Avqzt2CRWmFX6eLoJsaA.png"/></figure><figure class="ly lm pp ma mb mc md paragraph-image"><img src="../Images/335639e3d0ab17f0f6e20845a9ca8aa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*4_PR0Gbv-lMQulqMXLkmNA.png"/><figcaption class="lt lu gj gh gi lv lw bd b be z dk mk di ml mh translated">模拟数据集</figcaption></figure></div><div class="ab cb"><figure class="ly lm pq ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/aec1c49199dbb649c02d6188d4cba11a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*hjoKWJOhVCAkttQBNTNmRw.png"/></div></figure><figure class="ly lm pr ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/e22d8544650c467133dfae1a9089573f.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*cTsaIxYI_bpZfMHPzrGKDw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk ps di pt mh translated">块和缩放的协方差估计，左边是块方差，右边是缩放参数。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi pu"><img src="../Images/731358a2df0bc7405bd5c2910ad0acc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VAa0FLyqgRJbdhC-uj9SBQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">负二项式的幂图。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm pv ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/320f648c55f747a67c982341fd0e3c2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*yp3bbAkv-IJfPmtx2R8M5Q.png"/></div></figure><figure class="ly lm pv ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/4e9b0be94bb4dd4dbbf714fb52859c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*hZOESXDmdAzzhmZ7NuV0gg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk oq di or mh translated">泊松与负二项式幂计算。存在相当大的差异，这可能是由于泊松低估了方差，这是其均值-方差关系的结果(均值=泊松中的方差)。</figcaption></figure></div><p id="fe22" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，其他两种可用于模拟有序数据(如动物腹泻)的分布是泊松分布和负二项式分布。两者都处理计数数据，但负二项式更容易处理，因为它估计模型内的方差。这个方差估计是功率模拟中的比例参数和关键。此外，我们现在必须有效地模拟两件事:</p><ol class=""><li id="7af3" class="ng nh in ke b kf kg ki kj kl ni kp nj kt nk kx nl nm nn no bi translated">偏移变量</li><li id="b44b" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">腹泻的次数</li></ol></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="34c7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated"><span class="l kz la lb bm lc ld le lf lg di"> N </span> ext up，一个与power for<a class="ae mt" href="https://pubmed.ncbi.nlm.nih.gov/28066939/" rel="noopener ugc nofollow" target="_blank">完全不同的结果，它是用来衡量家禽动物产仔质量的产仔数</a>。此指标是一个顺序指标，但它有如此多的值(0–10，步长为0.5)，可以分析为来自正态分布。</p><div class="li lj lk ll gt ab cb"><figure class="ly lm pw ma mb mc md paragraph-image"><img src="../Images/8646b8e0ba7802cafd64ae3b76d7024f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*AkqdVj9r970awYhNQRnFmg.png"/></figure><figure class="ly lm px ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/053dca94b1fd0e325676e66f8f6ea471.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gaTd2_hGsaniWb2yZJxtuA.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk py di pz mh translated">PROC GLIMMIX代码示例，用于分析数据和事后功率计算。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi qa"><img src="../Images/3214bd921f8fa16bb6ad625a86de21fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tv-Xgp_rtsCzTUes1VA9ZQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">使用非结构化方差-协方差矩阵分析重复测量数据的代码，如上所示。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi qb"><img src="../Images/1a954ca3d9452ad6b070fb5e54399cde.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*HLBkS5l_PXNha9LAQaTVfw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">模拟的协方差矩阵。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm qc ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/095624bd1d91f0de271213df84df8de6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*CyBUzqaMx1Zssl0ubAEWDQ.png"/></div></figure><figure class="ly lm qd ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/c31b401a389a6772981da5897c442273.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*CDP_n3v4wVUxXhR-aeSEJg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk qe di qf mh translated">测试分析——看起来不错。</figcaption></figure></div><div class="ab cb"><figure class="ly lm qg ma mb mc md paragraph-image"><img src="../Images/3e81d3d7205a780b61f564517f29cd9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*kipVuEkTNRi1hRn3Xr49jw.png"/></figure><figure class="ly lm qh ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/f7fd2616ebf956da0669a354d3a29d69.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*1QnGfD2Eya0OB-yRHHVEyg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk qi di qj mh translated">看起来又好了。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi qk"><img src="../Images/70ec08c1ce7e74dba4609cddfded51f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wh_ZUizydRRdozUV-0lxBg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和每个时间点每次治疗比较的实际功率曲线。</figcaption></figure><p id="e77a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从技术上来说，窝卵分数是分类数据。但是，因为有如此多的类别，您可以安全地应用正态分布。这意味着，对于一个<a class="ae mt" href="https://medium.com/@marc.jacobs012/building-and-optimizing-randomized-complete-block-designs-using-sas-c973d127d862" rel="noopener">完全随机区组设计</a>，您可以使用正常数据的幂码来模拟产仔数的数据。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="0d7d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated">下一个例子处理分析木制乳房数据，这是多项式/序数数据，正如你从下面的图中看到的。</p><div class="li lj lk ll gt ab cb"><figure class="ly lm ql ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/184e072f926c43aa89f26521e3456e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*E5wjvGSyBYnUvSag7G157g.png"/></div></figure><figure class="ly lm qm ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/24db9f873def215d61b433206ef2049d.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*Bam0JSTNbNrI-Q_HZjUxcw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk qn di qo mh translated">每次治疗的评分频率分布。</figcaption></figure></div><div class="ab cb"><figure class="ly lm qp ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/9986cec0dad1729f96885a38afd3d07a.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*nzxj3kafLXjkVHc9sRyhtg.png"/></div></figure><figure class="ly lm qq ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/ea1b952991fae1eca0caf5c526c3a054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*TE75ntXHOG-UQLYnidntLA.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk qr di qs mh translated">数据分析和整体事后电源分析。如果你看左边的图，89%的后验权力并不意味着什么。特别是，因为“治疗”实际上是更大曲线的剂量反应部分。</figcaption></figure></div><p id="3fc6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是两个模拟场景，每个处理使用相同的比例。</p><div class="li lj lk ll gt ab cb"><figure class="ly lm qt ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/0250c4e9f90e838dc5b8d1fe03f68801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*Z7efNGPZsJNwVDNWAa0CUg.png"/></div></figure><figure class="ly lm qu ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/fb42e6dd6bdbd586b8a019faa4529584.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*wn5pPqcPoXwR7jkcr9Xqtw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk qn di qo mh translated">两种不同的模拟场景。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi qv"><img src="../Images/02f234f2269e58dff7fcc6b00d998c5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xYSjs7XP4ttJUdzUsS5Vxg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以及最大模拟数据集的功耗计算。</figcaption></figure><p id="de51" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总之，木制乳房数据可以使用顺序或多项式分布进行建模。这里，我们使用了顺序分布。从木制乳房试验中提取能量并模拟新数据的方式与腹泻相同。因此，您可以使用许多其他分布，这取决于您希望如何分析wooden breast。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="b91d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面的例子将处理我将使用负二项式(因为它有两个参数)和对数标度分析的比率。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi qw"><img src="../Images/a6902e9187eec237de3bc7f8eb251f68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*h4arbEQ0JwxXYsyLysSjiA.png"/></div></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm qx ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/850d90f6a42cbc36459aaf13b50c31c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*8o3DiW4JNAUvpLR_FFJ9MA.png"/></div></figure><figure class="ly lm qy ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/cf4ab3fbf93280f2a2d54809fa2b6c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*zPALQE9sk_iy02qCa7QAXA.png"/></div></figure><figure class="ly lm qz ma mb mc md paragraph-image"><img src="../Images/1a0f074b843eed59d0f0610ef2c27132.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*i-431LAYvtayCG2VQzerWQ.png"/><figcaption class="lt lu gj gh gi lv lw bd b be z dk ra di rb mh translated">代码和结果。</figcaption></figure></div><div class="ab cb"><figure class="ly lm rc ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/d26b94e584a66084e36c40253fdb18a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*rKnsQU39SWpINRRkIgY_yg.png"/></div></figure><figure class="ly lm rd ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/fb84f988f34443439bcbe62949e28bb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*qxUQZloZL8ilaQWmjZVrYg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk re di rf mh translated">事后功率计算。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div class="gh gi rg"><img src="../Images/c3fc54d2647ba1230704a99fcd58f2e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*Cfm_ubvg-o3XQqWqzleF-g.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以及一种使用事后功率计算来改变场景的方法。我在这里做的是改变方差分量和样本大小。这当然只是一种筛选方法，永远无法取代真正的模拟。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm rh ma mb mc md paragraph-image"><img src="../Images/6abec8fd09fcc812fcf9de0a81f3e2e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*zPALQE9sk_iy02qCa7QAXA.png"/></figure><figure class="ly lm ri ma mb mc md paragraph-image"><img src="../Images/71a43ffd91210b4502b28fd5b58ec30f.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*9EfLr6i1Yrc5TOoZSP5K3Q.png"/><figcaption class="lt lu gj gh gi lv lw bd b be z dk mk di ml mh translated">左边是来自原始数据的方差-协方差估计，左边是替换值。不要担心没有标准误差。PROC GLIMMIX 将使用接近公式状态下的估计值。</figcaption></figure></div><div class="ab cb"><figure class="ly lm rj ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/96950d1b89178f9f786f6b790d08dfb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*R93Qduuj3UzZ9bE0QSXvfQ.png"/></div></figure><figure class="ly lm rk ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/abe903a9aa0ab8c420728e1e061a10dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*X7Qw4u_q5eCVk0JR59ckDw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk rl di rm mh translated">权力的变化</figcaption></figure></div><p id="b582" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">负二项分布是一种有明显吸引力但也容易混淆的分布。让我们看看<a class="ae mt" href="https://en.wikipedia.org/wiki/Negative_binomial_distribution" rel="noopener ugc nofollow" target="_blank">维基百科</a>上的一些引文:</p><blockquote class="rn ro rp"><p id="5daf" class="kc kd rq ke b kf kg jo kh ki kj jr kk rr km kn ko rs kq kr ks rt ku kv kw kx ig bi translated"><strong class="ke io">负二项分布</strong>是一种<a class="ae mt" href="https://en.wikipedia.org/wiki/Discrete_probability_distribution" rel="noopener ugc nofollow" target="_blank">离散概率分布</a>，它模拟了在指定(非随机)数量的失败(表示为<em class="in"> r </em>)发生之前，一系列独立且同分布的<a class="ae mt" href="https://en.wikipedia.org/wiki/Bernoulli_trial" rel="noopener ugc nofollow" target="_blank">伯努利试验</a>中的成功数量</p></blockquote><p id="a167" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这意味着负二项式可以表示为NB ( <em class="rq"> r，p </em>)，其中<em class="rq"> r </em>是成功之前的失败次数，而<em class="rq"> p </em>是成功的几率——r<em class="rq">不能为负，并且<em class="rq"> p </em>必须介于0和1之间。</em></p><p id="9c24" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于负二项式是一个混合模型，它也可以表示为伽玛-泊松，然后我们必须谈论形状，规模和速率参数。</p><blockquote class="rn ro rp"><p id="9798" class="kc kd rq ke b kf kg jo kh ki kj jr kk rr km kn ko rs kq kr ks rt ku kv kw kx ig bi translated">负二项分布也作为<a class="ae mt" href="https://en.wikipedia.org/wiki/Poisson_distribution" rel="noopener ugc nofollow" target="_blank">泊松分布</a>(即<a class="ae mt" href="https://en.wikipedia.org/wiki/Compound_probability_distribution" rel="noopener ugc nofollow" target="_blank">复合概率分布</a>)的连续混合出现，其中泊松率的混合分布是<a class="ae mt" href="https://en.wikipedia.org/wiki/Gamma_distribution" rel="noopener ugc nofollow" target="_blank">伽马分布</a>。也就是说，我们可以将负二项式视为泊松(<em class="in"> λ </em>)分布，其中<em class="in"> λ </em>本身是一个随机变量，分布为伽玛分布，其形状= <em class="in"> r </em>，比例<em class="in">θ</em>=<em class="in">p</em>/(1-T16】p)或相应的比率<em class="in">β</em>=(1-T20】p/<em class="in">p</em></p></blockquote><p id="56b5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就是SAS处理负二项式的方法。由此，当然可以提取概率值。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ru"><img src="../Images/7d6037ea3d665568937d74adafb2fb90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VujvKK4kObHD0OYMkGy6aQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">负二项式中最棘手的参数是比例参数。负二项有很多种表达方式。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm rv ma mb mc md paragraph-image"><img src="../Images/266e24a2a269b2aad98a74a09833275a.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*9oJce0OSgBKNeqKET7QwcQ.png"/></figure><figure class="ly lm rw ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/fa004d92a430f63824e88abf91763900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*hqko0ri8oQByzcE9bijIIg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk rx di ry mh translated">在事后分析中使用封闭公式改变方差-协方差的模型，以及比较处理时的功效估计。</figcaption></figure></div><div class="ab cb"><figure class="ly lm rz ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/6fb2de5a211546679cd278d150418766.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*QAPxm_NEV_DEgLOSmm42eA.png"/></div></figure><figure class="ly lm sa ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/a790b77e025aea4a79f841bddb9d9d08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*ICIGPwlsW8sZ2XyzfZ8sbg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk rl di rm mh translated">以及通过增加自由度来改变样本大小。</figcaption></figure></div><p id="6a93" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面，您可以看到一个数据集的创建，从中可以模拟负二项分布。</p><div class="li lj lk ll gt ab cb"><figure class="ly lm sb ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/59c712ea18b5dd1ad58d781f933469fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*K0JD0pwZvHDsBDWwc78j_g.png"/></div></figure><figure class="ly lm sc ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/568dc3a67e38fd0e69431d0886c35559.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*V7pUKSZsPehSZe9HE7fHEw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk sd di se mh translated">模拟数据集</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sf"><img src="../Images/2027a349457d7039cecdbc79822fba1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D1tSc5l7JCqQPvZIwsOXUg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">模型的测试。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sg"><img src="../Images/4d2451d2cf316a2cb742309a0fea5705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4drZrrQGmkztuRA5HIdYQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">事后权力分析。</figcaption></figure><p id="c28f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就我个人而言，我发现这部分是最棘手的，因为power for的结果是一个构建的速率。因此，我无法完全模拟它，而是使用<strong class="ke io"> PROC GLIMMIX </strong>进行新的功耗分析。</p><p id="b112" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用<strong class="ke io"> PROC GLIMMIX </strong>您可以:</p><ol class=""><li id="819b" class="ng nh in ke b kf kg ki kj kl ni kp nj kt nk kx nl nm nn no bi translated">通过<em class="rq">参数</em>语句改变差异</li><li id="343b" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">通过<em class="rq"> DF </em>语句增加样本量</li></ol></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="2675" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated">下面，我将向你展示如何模拟一个贝塔二项分布来估计死产小猪的数量。<a class="ae mt" href="https://medium.com/@marc.jacobs012/sample-size-calculation-using-the-beta-binomial-distribution-7adca91035a9" rel="noopener">我在</a>之前已经发布过这个，但是在这里会稍微扩展一下。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sh"><img src="../Images/eb0bb6f5c838d27a5f131bd515c2313c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2ev14zYJsyD_BCyJejv7A.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">使用正态和负二项分布分析出生活产数据。尽管残差图不适用于负二项式，但最好选择该分布，因为数据本身是离散的。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi si"><img src="../Images/eb59950d5479cc2e159db23cf6316428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VZIyIASubCDtdoD_FrlYbA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">模拟代码通过对总出生数使用泊松以及对活产数使用二项式来估计/模拟活产动物。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sj"><img src="../Images/ec79d7561187b3fbb6984a191cb3c8b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yHum-IuQBN5NtDFEn7Hxyw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以及当我模拟1–5%的差异时的比例差异。这样的话，还是有很大的可变性。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ov"><img src="../Images/13ebd331f333d72518310a09dc0a231a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lFPg2t4lE0GhMUHdaKe0yw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">但是，每次治疗仅使用100头母猪，当使用早期试验的差异时，我应该能够轻松实现100%的功率。</figcaption></figure><p id="32f3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然而，研究的问题不是活产婴儿有3%的差异，而是死产婴儿有3%的差异。尽管这是一个零和游戏，但当谈到差异时，两者并不是零和的。因此，为了模拟一个场景，其中静产有3%的差异，我们需要使用静产进行模拟。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sk"><img src="../Images/721247ed720da64e395ca9159fb22a26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jmefFhOq2kvieEXlAXg-JQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">让我们使用数据，使用二项式分布。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sl"><img src="../Images/ea40e16a991c4d189bd55208c5adfcba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_-51VlF7VQ1aSm3OQItKcw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">我们可以通过两种方式包括sow变化:包括随机sow成分(准二项式)或使用β-二项式分布，其中概率部分来自β。</figcaption></figure><p id="7514" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了模拟贝塔-二项式，我们需要用贝塔分布来模拟二项式的概率部分。这样，将会有更多的方差，我们使用混合分布来模拟母猪方差。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sm"><img src="../Images/55009ecc0bdf7354e6c184d578ae142e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8rPFntttBBNe1tOlGyDNeA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">以上的关键是找到属于某个处理平均值和方差的α和β值</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nw"><img src="../Images/0194ea49cabd99440680bf4f953fbc22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sFABC7AWvwNgXUfnVmg5aA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">让我们寻找α和β值，并将其与两种治疗的平均值和方差估计值联系起来。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sn"><img src="../Images/a67312a706e290826befa777af96f33f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2kos8V4GcXDtD_pP-ypjA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">这是我发现的。</figcaption></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm so ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/a9002113df6c5bbfcdbd931aee88eaba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*KQYKkrCm_Mfj3W1xaAQIdQ.png"/></div></figure><figure class="ly lm sp ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/8e94d81f8c97531fef931a6b27669520.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*spWu4X7cpLV1gwFxhbCjsw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk oq di or mh translated">在这里，你可以看到均值和方差之间的关系，以及阿尔法和贝塔。</figcaption></figure></div><p id="fecf" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，在开始全面模拟之前，我将再次解释一下这个过程:</p><ol class=""><li id="9877" class="ng nh in ke b kf kg ki kj kl ni kp nj kt nk kx nl nm nn no bi translated">我想模特仍然出生。</li><li id="cd89" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">我寻找每次治疗比例的平均值/方差。</li><li id="f8b9" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">我寻找每种治疗各自的α和β值来填充β分布。</li><li id="82f6" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">我从贝塔分布中抽取样本来填充二项分布。</li><li id="c8c7" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">我从二项分布中抽取样本，使用贝塔分布中的概率和泊松分布中的动物数量。</li><li id="d9d9" class="ng nh in ke b kf np ki nq kl nr kp ns kt nt kx nl nm nn no bi translated">这样，对于两个处理，以及模拟的比例差异，我可以模拟每个处理的母猪数量需要达到3%的差异。</li></ol><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sq"><img src="../Images/f87bcb813350309456babe564e862079.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z77isyhN5DnodQmdHoaSZw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">我上面解释的代码。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sr"><img src="../Images/7a72706d200301194e4ead91d877f52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gROCurldd7aCirTYIGD2Qw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和力量。这一次，使用100只动物会让你一无所获。你需要很多动物。</figcaption></figure><p id="1cb6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总之，模拟数据来估计死产、活产和总产可能相当困难。生命出生和总出生接近正态分布，但都是计数值。因为我们想估计死胎，我们需要坚持死胎。可以通过以下方式进行模拟:</p><p id="fff8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1 .二项分布→变异被低估</p><p id="002a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2 .随机sow包含→通过随机组件的变化</p><p id="6096" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3 .β-二项式→通过混合分布的变化</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="8d24" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面你可以看到一个二项式分布可以用来计算鸟类死亡率的例子。这里，我使用的是随机完全区组设计。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ss"><img src="../Images/3f44be6476fe57f9a4c48006592a1458.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fxEWrXRGDtWjDeN_ERQy8Q.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">在比较五种治疗的死亡率概率时，改变块的数量(从而改变样本大小)的代码。</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi pg"><img src="../Images/5620447a92ceb1a2146f96220f558aa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xFnEgvTbiK8L3pfFfI3FUw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和功率图。</figcaption></figure><p id="42c0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在动物试验中，死亡率通常很低。因此，发现死亡率差异(如果存在的话)的能力非常低。这未必是一件坏事——你不想要死亡。如果你想模拟死亡率，那么使用二项分布。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="f336" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是脚垫损伤的模拟。</p><div class="li lj lk ll gt ab cb"><figure class="ly lm st ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/1f0db92029e440c27b5cd6365a7d119b.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*T1KU16IMVwcm99ZF4CaUjg.png"/></div></figure><figure class="ly lm su ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/2997b232b462d990b2d7f39a967d6312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*qmIBLfkMW89ntJGK-DiHcg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk sv di sw mh translated">分析试验并使用事后功率计算的代码。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sx"><img src="../Images/6baff495197fad2f8e07ca3f7690b0d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RiMdTrNj-3Cmnzy9ThuGLQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">和完全模拟后的功率图，完全模拟遵循与死亡率模拟相同的设置。</figcaption></figure><p id="13de" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就像模拟腹泻和死亡率一样，可以使用二项式分布来模拟足垫损伤。这使得进行分析非常简单。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="28bd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后但同样重要的是，偏好数据是一种有趣的数据类型，因为它们是互斥的。零和，如果你想在一次分析中得到结果，需要一个双矩阵。这其实是矫枉过正。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sy"><img src="../Images/40d61d2e420af4b8f93a659b5c6e8caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ACvElFdymnOsWGedFeH5uA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">对数据的分析</figcaption></figure><p id="a787" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">和模拟代码。我确信这可以做得更简单，但至少你知道它看起来像什么。为此，我还不得不使用<strong class="ke io"> SAS / IML </strong>。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi sz"><img src="../Images/6a2510289bbcbdf0d0b23a896e61a310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ECKqxPKpTwpZz35rBooDVQ.png"/></div></div></figure><div class="li lj lk ll gt ab cb"><figure class="ly lm ta ma mb mc md paragraph-image"><img src="../Images/8f47af08c0627dd64b78a46531a7e336.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*AISyMsyR0d5llajFfuRa9g.png"/></figure><figure class="ly lm tb ma mb mc md paragraph-image"><img src="../Images/7ad119758aea6643b678cc0f38199c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*MAeY3PEeLL1NSGFrlNoTjw.png"/></figure></div><div class="ab cb"><figure class="ly lm tc ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/b253a3b7aa8b9d326c3fcc7fe1379c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*z5jo8_Mcpo7T7icTXRcT8w.png"/></div></figure><figure class="ly lm td ma mb mc md paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/338f91a1c9d42748c73af3b43f2a1064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*aTO_j-8m756pUIiKerr5PQ.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk qr di qs mh translated">结果呢。</figcaption></figure></div><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi te"><img src="../Images/2e414ed162c93836489816419e625c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6XN-vSgE6l-vsoT6uW66A.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">结果呢</figcaption></figure><p id="e665" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">可以使用正态分布来分析偏好数据。使用非结构化方差矩阵，once可以很容易地模拟随时间变化的偏好数据。这里，模拟方法是最简单的。</p><p id="e254" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是相当多的。我希望你喜欢它！</p></div></div>    
</body>
</html>