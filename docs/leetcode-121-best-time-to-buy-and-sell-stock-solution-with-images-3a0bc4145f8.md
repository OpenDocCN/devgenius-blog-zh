# LeetCode 121ã€‚ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶é—´(å¸¦å›¾ç‰‡çš„è§£å†³æ–¹æ¡ˆ)

> åŸæ–‡ï¼š<https://blog.devgenius.io/leetcode-121-best-time-to-buy-and-sell-stock-solution-with-images-3a0bc4145f8?source=collection_archive---------3----------------------->

é“¾æ¥:â†’[https://leet code . com/problems/best-time-to-buy-and-sell-stock/](https://leetcode.com/problems/best-time-to-buy-and-sell-stock/)

![](img/320d9771094e50306281040ce5bef039.png)

ç…§ç‰‡ç”±[ä¸‡ç­–Â·å¸•è±é‡Œ](https://unsplash.com/es/@wance0003000?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

# é—®é¢˜:â†’

ç»™ä½ ä¸€ä¸ªæ•°ç»„`prices`ï¼Œå…¶ä¸­`prices[i]`æ˜¯åœ¨`ith`æ—¥ç»™å®šè‚¡ç¥¨çš„ä»·æ ¼ã€‚

ä½ æƒ³é€šè¿‡é€‰æ‹©ä¸€ä¸ª**å•æ—¥**ä¹°å…¥ä¸€åªè‚¡ç¥¨ï¼Œå¹¶é€‰æ‹©æœªæ¥**ä¸åŒçš„ä¸€å¤©**å–å‡ºè¿™åªè‚¡ç¥¨æ¥æœ€å¤§åŒ–ä½ çš„åˆ©æ¶¦ã€‚

è¿”å›*ä½ ä»è¿™ç¬”äº¤æ˜“ä¸­å¯ä»¥è·å¾—çš„æœ€å¤§åˆ©æ¶¦*ã€‚å¦‚æœä½ ä¸èƒ½è·å¾—ä»»ä½•åˆ©æ¶¦ï¼Œè¿”å›`0`ã€‚

**ä¾‹ 1:**

```
**Input:** prices = [7,1,5,3,6,4]
**Output:** 5
**Explanation:** Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.
Note that buying on day 2 and selling on day 1 is not allowed because you must buy before you sell.
```

**ä¾‹äºŒ:**

```
**Input:** prices = [7,6,4,3,1]
**Output:** 0
**Explanation:** In this case, no transactions are done and the max profit = 0.
```

**çº¦æŸ:**

*   `1 <= prices.length <= 10^5`
*   `0 <= prices[i] <= 10^4`

# è§£å†³æ–¹æ¡ˆ:â†’

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†å°è¯•æ‰¾å‡º**æœ€å°å€¼**å’Œ**æœ€å¤§å·®å€¼**ã€‚

è®©æˆ‘ä»¬ä¸€æ­¥æ­¥äº†è§£ï¼Œ

å‡è®¾ï¼Œæˆ‘ä»¬ç»™å‡ºäº†ä¸‹é¢ä¾‹å­:

![](img/025e7cc06d5a2ea0365629264c28b188.png)

è¿™é‡Œï¼Œæˆ‘ä»¬å°†æŠŠ**ä¸¤ä¸ªå˜é‡**ã€

![](img/b100f013623e819444f645cb29cac52a.png)

> ç¬¬ä¸€æ­¥ã€‚å¯¹äºç¬¬ä¸€ä¸ªå€¼ **prices[0]** å³ 7ï¼Œ

å¯¹äº**åˆ†é’Ÿ**ï¼Œæˆ‘ä»¬å°†æ¯”è¾ƒ**çš„è¾ƒå°å€¼**å¹¶å–è¯¥å€¼ï¼Œ

![](img/885615da35916a484886cb4620abc3b9.png)

è¿™é‡Œæˆ‘ä»¬å‘ç° **7 å°äº 10000** ã€‚æ‰€ä»¥æ›´å°çš„æ˜¯ **7** ã€‚

![](img/7fb25a5f0e1bfac6afbdbabaeedf80c3.png)

ç°åœ¨ä¸ºï¼Œ**maxDiff**=>pricesã€0ã€‘-min =>7â€“7 =>**0ï¼Œ**

0 ä¸å½“å‰ **maxDiff** çš„**ç›¸ä¼¼**ï¼Œæ‰€ä»¥æ˜¯ 0ã€‚

![](img/5387126f7487ff0810c22659e81eadac.png)

> ç¬¬äºŒæ­¥ã€‚ç°åœ¨ï¼Œå¯¹äºç¬¬äºŒä¸ªä»·æ ¼[1] => 1ã€‚

![](img/470551c77845562c7428f4cdadb14f81.png)

å¯¹äº min:- **1 å°äº 7ã€‚**æ‰€ä»¥ min ä¼šæ˜¯ 1 **ã€‚**

![](img/d0459d5a0001cdd7f71385a23235d07e.png)

ç°åœ¨ä¸ºï¼Œ **maxDiff**

ä»·æ ¼[1]-min = > 1â€“1 = >**0ï¼Œ**

0 ä¸å½“å‰ **maxDiff** çš„**ç›¸ä¼¼**ï¼Œæ‰€ä»¥æ˜¯ 0ã€‚

![](img/4a1b2c41f56987b4bf1f3b8b20b312ab.png)

> ç¬¬ä¸‰æ­¥ã€‚ç°åœ¨ï¼Œå¯¹äºç¬¬ä¸‰ç§ä»·æ ¼[2] => 5ã€‚

![](img/7e47830cd918631537d3e5aa95f5e587.png)

å¯¹äº Min: **- 1 ä¸å°äº 5ã€‚**æ‰€ä»¥ï¼Œæˆ‘ä»¬å°†åªå–**çš„æœ€å°å€¼**æ‰€ä»¥**ï¼Œ**å°†æ˜¯ **1ã€‚**

![](img/dce669feea86e031ea4ea18e6222aedf.png)

ç°åœ¨ä¸ºï¼Œ **maxDiffï¼Œ
prices[2]-min**=>5â€“1 =>4**ï¼Œ**

æˆ‘ä»¬å¾—åˆ° **4** ï¼Œå¹¶ä¸”**å°†**ä¸ **maxDiff** è¿›è¡Œæ¯”è¾ƒï¼Œå³ **0**

å¤§ä¸€ç‚¹çš„æ˜¯ **4ï¼Œ**æ‰€ä»¥ **maxDiff** ä¼šæ˜¯ **4** ã€‚

![](img/7b3beb2832f4fe2a9928540833a62126.png)

> ç¬¬å››æ­¥ã€‚ç°åœ¨ï¼Œå¯¹äºç¬¬ä¸‰ç§ä»·æ ¼[3] => 3ã€‚

![](img/24ebd42fc8618bb1e1fbeeca854b6d71.png)

å¯¹äºæœ€å°å€¼ **:- 3 ä¸å°äº**å°äº **1ã€‚**æ‰€ä»¥æˆ‘ä»¬ä¼šä¿ç•™å®ƒ **1ã€‚**

![](img/d9bcdd71b591973660575ff639125009.png)

ç°åœ¨ä¸ºï¼Œ **maxDiffï¼Œ**

**ä»·æ ¼ã€3ã€‘-æœ€å°å€¼**=>4â€“1 =>3**ï¼Œ**

æˆ‘ä»¬å¾—åˆ° **3** ï¼Œå¹¶ä¸”**å°†**ä¸ **maxDiff** è¿›è¡Œæ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯ **4ï¼Œ**

æˆ‘ä»¬å°†å–æœ€å¤§å€¼ 4ã€‚

![](img/34d3ab817caaf79ca95fe48031a74549.png)

> ç¬¬äº”æ­¥ã€‚ç°åœ¨ï¼Œå¯¹äºç¬¬ä¸‰ç§ä»·æ ¼[4] => 6ã€‚

![](img/bd8f9e7bf6cc1b3d530aef6028a9ea77.png)

å¯¹äºæœ€å°å€¼ **:- 6 ä¸å°äº**å°äº **1ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šä¿ç•™å®ƒã€‚**

![](img/06385d1e98925f061df7ffc8e5e24932.png)

ç°åœ¨ä¸ºï¼Œ **maxDiffï¼Œ**

**ä»·æ ¼ã€4ã€‘-æœ€å°å€¼**=>6â€“1 =>5**ï¼Œ**

æˆ‘ä»¬å¾—åˆ° **5** ï¼Œå¹¶ä¸”**å°†**ä¸ **maxDiff** è¿›è¡Œæ¯”è¾ƒï¼Œåè€…æ˜¯ **4ã€**

æˆ‘ä»¬å°†å–æœ€å¤§å€¼ **5** ã€‚

![](img/e25b7185718e100f99bc74c485bbad06.png)

æ‰€ä»¥ï¼Œåœ¨ä¸€ä¸ªæ•°ç»„ç»“æŸåï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ª 5 çš„ maxDiffã€‚

æˆ‘ä»¬å°†**è¿”å› maxDiffï¼Œ**è¿™å°†æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®Œæ•´çš„æºä»£ç ã€‚

# ä»£ç (Java): â†’

# ä»£ç (Python): â†’

# æ—¶é—´å¤æ‚åº¦

è¿™é‡Œï¼Œæˆ‘ä»¬éå†æ•´ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦å°†æ˜¯ **O(n)** ã€‚

# ç©ºé—´å¤æ‚æ€§

è¿™é‡Œï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†ä¸¤ä¸ªå˜é‡ï¼Œæ‰€ä»¥æ€»çš„ç©ºé—´å¤æ‚åº¦ä¹Ÿå°†æ˜¯ **O(1)** ã€‚

â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€” â€”

æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œâ¤

å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·é¼“æŒğŸ‘è¿™ç¯‡æ–‡ç« ã€‚

è¯·åœ¨[åª’ä½“](https://medium.com/@alexmurphyas8)ä¸Šå…³æ³¨æˆ‘ï¼Œæˆ‘ä¼šåƒä¸Šé¢ä¸€æ ·å‘å¸ƒæœ‰ç”¨çš„ä¿¡æ¯ã€‚

insta gramâ†’[https://www.instagram.com/alexmurphyas8/](https://www.instagram.com/alexmurphyas8/)

æ¨ç‰¹â†’[https://twitter.com/AlexMurphyas8](https://twitter.com/AlexMurphyas8)

å¦‚æœæˆ‘åšé”™äº†ä»€ä¹ˆï¼Ÿè®©æˆ‘åœ¨è¯„è®ºä¸­ã€‚æˆ‘å¾ˆæƒ³è¿›æ­¥ã€‚