<html>
<head>
<title>Host Docker App, Auto Build and Push Docker Image to AWS ECS with ECR and GitHub | Continuous Deployment (CI/CD) [Step-By-Step].</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 ECR 和 GitHub 托管 Docker 应用程序，自动构建 Docker 映像并将其推送到 AWS ECS 持续部署(CI/CD)[逐步执行]。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/host-any-app-to-aws-and-github-using-continuous-deployment-ci-cd-pipeline-step-by-step-d4150dbee2e8?source=collection_archive---------0-----------------------#2022-03-15">https://blog.devgenius.io/host-any-app-to-aws-and-github-using-continuous-deployment-ci-cd-pipeline-step-by-step-d4150dbee2e8?source=collection_archive---------0-----------------------#2022-03-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="f51c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们为 AWS 托管一个<strong class="jm io"> React </strong>或任何应用程序或网站。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/df977a1ed919c3a180b94c4e368578dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/0*w_KsDqWCwjUICvjc.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">官方标志</figcaption></figure><h1 id="0392" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">先决条件</h1><ol class=""><li id="3b25" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated"><a class="ae mh" href="https://aws.amazon.com/free/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> AWS </strong>账户(自由层)</a>。</li><li id="b4f4" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated"><strong class="jm io"> Docker </strong>、<strong class="jm io"> Git </strong> &amp; <strong class="jm io"> Github </strong>、<strong class="jm io"> AWS </strong>的基础知识。</li><li id="dbbb" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated"><a class="ae mh" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">节点 js </a></li></ol><h2 id="3069" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">参考 Github repo:</h2><div class="mz na gp gr nb nc"><a href="https://github.com/sagarkudu/host-any-app-to-AWS-using-CI-CD-pipeline" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">GitHub-sagarkudu/host-any-app-to-AWS-using-CI-CD-pipeline</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">这个项目是用 Create React App 引导的。在项目目录中，您可以运行:在…中运行应用程序</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">github.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq ks nc"/></div></div></a></div><h1 id="09d6" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">步骤 1:创建 React 项目</h1><p id="4af1" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv nr jx jy jz ns kb kc kd nt kf kg kh ig bi translated">确保您的本地计算机上安装了<a class="ae mh" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="nu">节点 js </em> </strong> </a>，并且您可以访问 npm。</p><p id="fedc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于本教程，我们将<strong class="jm io">创建一个新的应用程序</strong>只需遵循以下步骤:<strong class="jm io"><br/></strong><a class="ae mh" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/create-a-new-react-app.html</a></p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="eaad" class="mn kz in nw b gy oa ob l oc od">npx create-react-app app<br/>cd app<br/>npm start</span></pre></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="5e63" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">第二步:将项目推送到 Github</h1><ol class=""><li id="7c8c" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated">推动变革。</li><li id="65f8" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">首先在 Github 创建一个回购:<br/><a class="ae mh" href="https://github.com/new" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">https://github.com/new</strong></a></li><li id="7f41" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">给出项目名称说:<a class="ae mh" href="https://github.com/sagarkudu/host-any-app-to-AWS-using-CI-CD-pipeline" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">host-any-app-to-AWS-using-CI-CD-pipeline</strong></a></li></ol><p id="256b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">代码:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="cc4a" class="mn kz in nw b gy oa ob l oc od">git init<br/>git add .<br/>git commit -m "uploading project"<br/>git remote add origin <a class="ae mh" href="https://github.com/sagarkudu/host-any-app-to-AWS-using-CI-CD-pipeline.git" rel="noopener ugc nofollow" target="_blank">https://github.com/sagarkudu/host-any-app-to-AWS-using-CI-CD-pipeline.git</a><br/>git checkout master<br/>git push origin -u master</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/2fa13d0ee9979f0f0fff33b68f7398a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGRCQDk5D5su3GyrBHRq1w.png"/></div></div></figure></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="85eb" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">步骤 3:使用 Amazon ECR 创建一个存储库</h1><p id="5956" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv nr jx jy jz ns kb kc kd nt kf kg kh ig bi translated">—登录您的<a class="ae mh" href="https://aws.amazon.com/console/" rel="noopener ugc nofollow" target="_blank"> AWS </a>，在搜索栏中搜索<strong class="jm io">弹性容器注册表</strong> (ECR)。(注意:您可能需要先选择您所在的地区)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/9d771a11b96864c5bbcc74dd8c036401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qQudDQF5PzQp3bQM.png"/></div></div></figure><ol class=""><li id="1a40" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh md me mf mg bi translated"><strong class="jm io">让我们在 AWS 上创建一个</strong> <a class="ae mh" href="https://ap-south-1.console.aws.amazon.com/ecr/create-repository" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">资源库</strong> </a> <strong class="jm io">。</strong></li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/086ee495ff596b36123af810b5642b34.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*X6O3_OtzZy0WToIgVcNOgw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创建存储库</figcaption></figure><p id="1f97" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.成功创建了<strong class="jm io"> host-react-app </strong>的存储库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/edf5b826327364d9e00861f770db8d51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lpm-QxueYtIcYgmrQP_ArQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">存储库已成功创建</figcaption></figure><p id="6a34" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">注意</strong>:在我们创建<strong class="jm io"> ECS 任务定义时，我们将需要<strong class="jm io"> URI </strong>。</strong></p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="d746" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">步骤 4:创建 Amazon 弹性容器服务(ECS)</h1><ol class=""><li id="0283" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated">登录您的 AWS 帐户。</li><li id="68c0" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">单击服务菜单并搜索“ECS”。</li><li id="c43b" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">在下拉列表中选择弹性容器服务。</li></ol><h2 id="1e68" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated"><strong class="ak"> 1。点击任务定义</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/607b4b233ddede57ee8ab90bde33c78b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4CdFM0zpuKv5EmN3yQFI1w.png"/></div></div></figure><h2 id="a17a" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated"><strong class="ak"> 2 </strong>。<strong class="ak">创建新的任务定义</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/126e7b51b8d0a9cc18de19d0361afaa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I_oe0ByuY-dot_YqTBxUbw.png"/></div></div></figure><h2 id="2aa9" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated"><strong class="ak"> 3。选择启动 EC2 兼容性。</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/5c689f7085c33bf08a86277d8b294109.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VgPp0T1AnbaSzt5eTC45nA.png"/></div></div></figure><h2 id="f3cf" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated"><strong class="ak"> 4。配置任务和容器定义</strong></h2><p id="03ba" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv nr jx jy jz ns kb kc kd nt kf kg kh ig bi translated">设置以下值:</p><ol class=""><li id="3d62" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh md me mf mg bi translated">在任务定义名称中输入“<strong class="jm io"> DeployContainer </strong>”。</li><li id="4de6" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">任务存储器(MiB)=128</li><li id="6936" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">任务 CPU(单位)=1 个 vCPU</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/eab93694cf94058c0f9f5f8cb9bea683.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*ni1f4YxrLxzQJf7QglUlQw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">添加到容器</figcaption></figure><h2 id="8e9b" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">现在转到 ECR，复制存储库的 URI。</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/023a939b08a2e24a9553d0f26a5f7a3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fjZ1uHUkrIzCEzHFDFNiow.png"/></div></div></figure><h2 id="875a" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">点击添加容器后添加以下参数。</strong></h2><ol class=""><li id="8ac8" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated">点击<strong class="jm io">添加容器</strong>按钮。</li><li id="de0f" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">在容器名称中输入“<strong class="jm io">reatappcontainer</strong>”。没有空间。</li><li id="becb" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">在图像中，输入进入 ECR URI。</li><li id="4420" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">在<strong class="jm io">端口映射下</strong>设置</li><li id="aa23" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">主机<strong class="jm io">端口</strong> =80，这将让我们在端口 80 访问 react 应用程序</li><li id="fbaa" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">集装箱<strong class="jm io">港口</strong> =80，Nginx 港口</li><li id="2b90" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">添加</strong>。</li><li id="0746" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">创建</strong>。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/2f63aa9ae5e90c85fc67c744654e5781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5xvznjD6_vh7wa7nL7x_Ag.png"/></div></div></figure><h2 id="5e2f" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">点击创建</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/a654b4dfa0ed3205e934983a2bd34b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1P7_DGegeQ6NxF970TXlNQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">立即创建</figcaption></figure><h2 id="4c5d" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">现在点击集群</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/149ad8bc3e71ca57fc469c09ee04ca02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I3d_ctKODT1qXc1zfq11bA.png"/></div></div></figure><h2 id="81ec" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">创建集群</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/31225c9a5b7eb88e99c02550e4409cd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0EXKSAVnNGzInywUaXfVdg.png"/></div></div></figure><h2 id="7b6b" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">选择集群模板</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/1a39340bcc59f4bcb11bdb8aad88d9f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*FIJoEmN_LFtzn8GfbZz6Xg.png"/></div></figure><h2 id="b63a" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">配置集群</strong></h2><ol class=""><li id="b5a9" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated">在左侧，点击<strong class="jm io">亚马逊 ECS / Clusters。</strong></li><li id="5de2" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击创建<strong class="jm io">集群</strong>。</li><li id="5330" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">选择<strong class="jm io"> EC2 Linux +网络</strong>。</li><li id="7a95" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">下一步</strong>。</li></ol><p id="b1ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—设置以下字段</p><ol class=""><li id="4878" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh md me mf mg bi translated"><strong class="jm io">集群名称</strong> =" <strong class="jm io">反应集群</strong>"。</li><li id="8c38" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated"><strong class="jm io"> EC2 实例类型* </strong> = <strong class="jm io"> t2.micro </strong>(非常重要)</li><li id="b3dc" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">在<strong class="jm io">联网</strong>部分，选择一个<strong class="jm io"> VPC </strong>如果你已经有一个，否则，让它为你创建。</li><li id="6483" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">如果已经有子网，请选择它们。</li><li id="74db" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">选择一个允许公共访问的安全组，或者在我们的例子中，将端口 80 向外界公开。</li><li id="5851" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">创建</strong>。</li><li id="b2f8" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击查看<strong class="jm io">集群</strong>。</li></ol><h2 id="7669" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">— <strong class="ak">启动状态</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/eac78e7fda30b92a88f1960a337561ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R1mMS988K5Di17A3QZgQTw.png"/></div></div></figure><h2 id="f4bf" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">—群集:反应群集</h2><p id="f290" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv nr jx jy jz ns kb kc kd nt kf kg kh ig bi translated">点击<strong class="jm io">创建</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/ff83a0108d9d8867eae471d27c4b90e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9D9-Fz5r4iuzXzKkNOu-Zw.png"/></div></div></figure><ul class=""><li id="dc17" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh pj me mf mg bi translated">输入值，然后下一步</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/beabbe6b3c9017e5de78fe43df5041fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*-f2oiIMC18cQNeL2c7TMaQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">点击下一步</figcaption></figure><p id="5178" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">— <strong class="jm io">负载平衡器类型:</strong>无(单击后续步骤)</p><p id="72af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">— <strong class="jm io">服务自动缩放:</strong>不要调整服务的期望计数</p><p id="5684" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—最后，单击<strong class="jm io">创建服务</strong>，因为我们不会创建负载平衡器。</p><h2 id="2546" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">-查看服务</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/cde4a3f8760e1517a78e1784ae70f351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pLQ2fwmvrqgpuwQh7NlENA.png"/></div></div></figure><p id="8904" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">最后，服务创建成功。</strong></p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="f457" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">步骤 5:创建 AWS 访问密钥</h1><ol class=""><li id="89f0" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated">点击服务菜单，搜索“<strong class="jm io"> IAM </strong>”，然后点击菜单中的<strong class="jm io">用户</strong>。之后点击<strong class="jm io">添加用户。</strong></li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/3e939d5cae5ecc574dfc75e240708fb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FmL8Z1LQmfKcjuIq.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">身份和访问管理</figcaption></figure><p id="5865" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 2。设置用户详细信息<br/> </strong>给出用户名:<strong class="jm io"> react-app </strong>并检查<strong class="jm io">编程访问</strong>，这将允许我们创建一个<strong class="jm io">密钥</strong>对。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/c62a3ae72f460b9b72521a9d91badb32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tyFAs7ZXY-PA9gKjv1ehLA.png"/></div></div></figure><p id="a575" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.点击<strong class="jm io">下一步:权限</strong>后，选择“<strong class="jm io">直接附加已有策略</strong>”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/ee7a9eff8ec3b562c11baed8ee5acb2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4oQucdkVS_h3hwIvAQnHbg.png"/></div></div></figure><p id="f9be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 3。跳过步骤 3 </strong></p><p id="1c83" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4 <strong class="jm io">。</strong>点击<strong class="jm io">下一步:标签</strong>跳过步骤<strong class="jm io"> 3 </strong>现在点击<strong class="jm io">下一步:查看</strong>并确认<strong class="jm io">创建用户。</strong></p><p id="7e00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.创建完成后，您需要保存凭证文件并复制<strong class="jm io">“访问密钥 ID”</strong>和<strong class="jm io">“秘密访问密钥”。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/59b2b5794a26896808d25f31bb080d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sjmc_BpdM3l6M3dbmUwYOw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">秘密钥匙</figcaption></figure></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="0fc9" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">步骤 6:添加和配置 Github 动作</h1><h2 id="f34f" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">在添加动作之前，我们需要首先设置 AWS 密钥。</h2><ol class=""><li id="5587" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated">在 Github 中打开你的<strong class="jm io">项目</strong>。</li><li id="2cb0" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">设置</strong>选项卡。</li><li id="157a" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">秘密</strong>菜单，输入 2 个键。<br/><strong class="jm io">AWS _ ACCESS _ KEY _ ID</strong><br/>T45】AWS _ SECRET _ ACCESS _ KEY</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/59b2b5794a26896808d25f31bb080d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sjmc_BpdM3l6M3dbmUwYOw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">ID 和密钥机密</figcaption></figure><p id="8ebb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">注意— </strong>添加的 ID 和密码已成功创建。</p><p id="9541" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在点击<strong class="jm io">新的存储库密码</strong>来添加变量和它们的值。</p><ul class=""><li id="44d5" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh pj me mf mg bi translated">添加<strong class="jm io"> AWS_ACCESS_KEY_ID </strong>作为名称，并从控制台粘贴<strong class="jm io">访问密钥 ID </strong>。</li><li id="17a9" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh pj me mf mg bi translated">类似地，添加<strong class="jm io"> AWS_SECRET_ACCESS_KEY </strong>作为名称，并粘贴<strong class="jm io">访问密钥</strong>作为控制台的值。</li><li id="dbf1" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh pj me mf mg bi translated">从这里，我们将 ID 和密钥复制到 GitHub:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/3054e21941e50bdec45a67909ec9c45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z-eXaSzfvSYf6pNo.png"/></div></div></figure></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h2 id="2f6e" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">步骤 7:将 Github 操作工作流写入现有项目</h2><ol class=""><li id="4e90" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated">现在转到<strong class="jm io"> AWS 控制台</strong>&gt;<strong class="jm io">ECS</strong>&gt;<strong class="jm io">任务定义</strong> &gt;选择<strong class="jm io">部署容器</strong> &gt;复制所有<strong class="jm io"> JSON </strong>数据</li></ol><blockquote class="pq pr ps"><p id="47e3" class="jk jl nu jm b jn jo jp jq jr js jt ju pt jw jx jy pu ka kb kc pv ke kf kg kh ig bi translated">使用 vs 代码编辑器在根文件夹中创建一个新的:<strong class="jm io"> task-definition.json </strong>并粘贴所有内容</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/24fa8abc3715bc47f815db245e45b3fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyNZrubqv4NdTTQsSQbDog.png"/></div></div></figure><p id="bdc8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.在根目录下创建一个名为'<strong class="jm io"> Dockerfile </strong>的文件。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="c21d" class="mn kz in nw b gy oa ob l oc od">FROM node:alpine as builder<br/>WORKDIR '/app'<br/>COPY . .<br/>RUN npm install</span><span id="f678" class="mn kz in nw b gy px ob l oc od"># lets build the application<br/> RUN npm run build</span><span id="3cfb" class="mn kz in nw b gy px ob l oc od">FROM nginx<br/>EXPOSE 80<br/>COPY --from=builder /app/build /usr/share/nginx/html</span></pre><h2 id="eeb6" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">添加动作。</h2><p id="dddf" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv nr jx jy jz ns kb kc kd nt kf kg kh ig bi translated">有<strong class="jm io">多种方法</strong>您可以创建您设置的<strong class="jm io"> Github 动作</strong>即直接从 GitHub repo 或自定义创建文件和文件夹到您的项目中。根据你的喜好只选择一种方法。</p><ol class=""><li id="c11b" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh md me mf mg bi translated">在你的浏览器中浏览<strong class="jm io"> Github </strong>，然后<strong class="jm io">打开你的项目</strong>。</li><li id="5923" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">动作选项卡</strong>。</li><li id="18af" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">点击<strong class="jm io">新建工作流程</strong>。</li><li id="6cf0" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">搜索"<strong class="jm io">部署到亚马逊 ECS </strong>"操作。</li><li id="095a" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated">在其下，点击<strong class="jm io">设置该工作流</strong>。</li></ol><p id="63ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">— <em class="nu">按照脚本顶部的说明操作。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/db9e77120a717b89d355aae4df5084cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gh4SW8qBiMsMp8x0Or0PxA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">设置工作流</figcaption></figure><ul class=""><li id="213a" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh pj me mf mg bi translated"><strong class="jm io">点击配置</strong></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/5ba1fe50fc7d27b5d384cdf8b5e4beb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jkf9TFuYvE48IZOBoP79aQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">提交代码</figcaption></figure><ul class=""><li id="117a" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh pj me mf mg bi translated"><strong class="jm io">编码:</strong> aws.yml</li></ul><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="dd80" class="mn kz in nw b gy oa ob l oc od">name: Deploy to Amazon ECS</span><span id="d936" class="mn kz in nw b gy px ob l oc od">on:<br/>  push:<br/>    branches:<br/>      - master</span><span id="6adb" class="mn kz in nw b gy px ob l oc od">env:<br/>  AWS_REGION: ap-south-1                   # set this to your preferred AWS region, e.g. us-west-1<br/>  ECR_REPOSITORY: host-react-app          # set this to your Amazon ECR repository name<br/>  ECS_SERVICE: ReactService                 # set this to your Amazon ECS service name<br/>  ECS_CLUSTER: ReactCluster                 # set this to your Amazon ECS cluster name<br/>  ECS_TASK_DEFINITION: task-definition.json # set this to the path to your Amazon ECS task definition<br/>                                               # file, e.g. .aws/task-definition.json<br/>  CONTAINER_NAME: ReactAppContainer           # set this to the name of the container in the<br/>                                               # containerDefinitions section of your task definition</span><span id="aded" class="mn kz in nw b gy px ob l oc od">jobs:<br/>  deploy:<br/>    name: Deploy<br/>    runs-on: ubuntu-latest<br/>    environment: production</span><span id="e3f8" class="mn kz in nw b gy px ob l oc od">steps:<br/>    - name: Checkout<br/>      uses: actions/checkout@v2</span><span id="0325" class="mn kz in nw b gy px ob l oc od">- name: Configure AWS credentials<br/>      uses: aws-actions/configure-aws-credentials@v1<br/>      with:<br/>        aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}<br/>        aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}<br/>        aws-region: ${{ env.AWS_REGION }}</span><span id="362e" class="mn kz in nw b gy px ob l oc od">- name: Login to Amazon ECR<br/>      id: login-ecr<br/>      uses: aws-actions/amazon-ecr-login@v1</span><span id="826b" class="mn kz in nw b gy px ob l oc od">- name: Build, tag, and push image to Amazon ECR<br/>      id: build-image<br/>      env:<br/>        ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}<br/>        IMAGE_TAG: ${{ github.sha }}<br/>      run: |<br/>        # Build a docker container and<br/>        # push it to ECR so that it can<br/>        # be deployed to ECS.<br/>        docker build -t $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG .<br/>        docker push $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG<br/>        echo "::set-output name=image::$ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG"<br/>    - name: Fill in the new image ID in the Amazon ECS task definition<br/>      id: task-def<br/>      uses: aws-actions/amazon-ecs-render-task-definition@v1<br/>      with:<br/>        task-definition: ${{ env.ECS_TASK_DEFINITION }}<br/>        container-name: ${{ env.CONTAINER_NAME }}<br/>        image: ${{ steps.build-image.outputs.image }}</span><span id="5e3b" class="mn kz in nw b gy px ob l oc od">- name: Deploy Amazon ECS task definition<br/>      uses: aws-actions/amazon-ecs-deploy-task-definition@v1<br/>      with:<br/>        task-definition: ${{ steps.task-def.outputs.task-definition }}<br/>        service: ${{ env.ECS_SERVICE }}<br/>        cluster: ${{ env.ECS_CLUSTER }}<br/>        wait-for-service-stability: true</span></pre><blockquote class="pq pr ps"><p id="f073" class="jk jl nu jm b jn jo jp jq jr js jt ju pt jw jx jy pu ka kb kc pv ke kf kg kh ig bi translated"><strong class="jm io">在 VS 代码终端键入以下命令:</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="3599" class="mn kz in nw b gy oa ob l oc od">git pull</span></pre><blockquote class="pq pr ps"><p id="9b8c" class="jk jl nu jm b jn jo jp jq jr js jt ju pt jw jx jy pu ka kb kc pv ke kf kg kh ig bi translated">为任务定义创建文件</p></blockquote><p id="6f61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—进入亚马逊控制台&gt;搜索 ECR</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qa"><img src="../Images/1611a693359f312185362ea805f6ce17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TSsw_OLjP2RmT8yX652L0Q.png"/></div></div></figure><blockquote class="pq pr ps"><p id="087e" class="jk jl nu jm b jn jo jp jq jr js jt ju pt jw jx jy pu ka kb kc pv ke kf kg kh ig bi translated">单击 DeploymentContainer &gt; JSON &gt;复制所有 JSON 数据。</p></blockquote><p id="5102" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—在根目录下创建一个名为“<strong class="jm io"> task-definition.json </strong>的文件，粘贴所有内容</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qb"><img src="../Images/5494807610788f3edcaa8b342018a0e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eT2w-b9nD1cDpoyCyfuL0w.png"/></div></div></figure></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="dc4e" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">步骤 8:提交、构建和部署。</h1><blockquote class="pq pr ps"><p id="9ae2" class="jk jl nu jm b jn jo jp jq jr js jt ju pt jw jx jy pu ka kb kc pv ke kf kg kh ig bi translated">设置工作流。</p></blockquote><p id="6e94" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—在 VS 代码终端输入以下命令<strong class="jm io"> : </strong></p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="6907" class="mn kz in nw b gy oa ob l oc od">git add .<br/>git commit -m "added task definition file" <br/>git push</span></pre><ol class=""><li id="a4fe" class="lw lx in jm b jn jo jr js jv os jz ot kd ou kh md me mf mg bi translated">一旦变更被推送到存储库，签出<strong class="jm io"> Actions </strong>选项卡。—这里您将看到一个新的<strong class="jm io">动作已经开始，用黄色的<strong class="jm io">表示，表示构建正在工作流程中进行。</strong></strong></li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/f0988845351cdd1a569033d2977ced1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oTYzWUMG0fcj2LFOoNfxTg.png"/></div></div></figure><p id="c9d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.在这里，您可以看到构建日志，其中每个选项卡显示当前任务，展开每个选项卡，您可以看到其日志。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/2304a49912da783f1336c3e78d563645.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gmokGdyNOboUkGiPfDFpVw.png"/></div></div></figure><p id="7d02" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.等待部署完成，如果颜色为<strong class="jm io">绿色</strong>，则图像已成功部署到 AWS ECR，如果颜色为红色，则表示存在错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qe"><img src="../Images/753beb62b80ede6e2c9a23a8745bba60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNxlIcd4EqoFtqhxBRHcEA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">部署完成。</figcaption></figure><blockquote class="pq pr ps"><p id="8049" class="jk jl nu jm b jn jo jp jq jr js jt ju pt jw jx jy pu ka kb kc pv ke kf kg kh ig bi translated">现在，我们将为 VPC 指定端口</p></blockquote><p id="976d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—转到亚马逊控制台，然后搜索“EC2”，现在转到网络和安全&gt;安全组</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qf"><img src="../Images/288bee285f8c25bd3d57b646f0e42226.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TAPoU-aRDcq8nHyykXALmg.png"/></div></div></figure><p id="4719" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—点击<strong class="jm io">入站规则</strong> &gt;编辑入站规则并相应添加端口。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qg"><img src="../Images/e45d820eaaacafe6c16aee4e3e575f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p31-2fIyB9jgPB4ho0TvIA.png"/></div></div></figure><p id="4848" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—点击<strong class="jm io">出站规则</strong> &gt;编辑出站规则并相应添加端口。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qg"><img src="../Images/88d2c6c2c215613829cfb4ba339421df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mbkAHtzG0HPr-27ATQkOdg.png"/></div></div></figure><p id="828c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—现在我们已经成功配置了端口。</p><h2 id="da98" class="mn kz in bd la mo mp dn le mq mr dp li jv ms mt lm jz mu mv lq kd mw mx lu my bi translated">获取 URL</h2><p id="6b3d" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv nr jx jy jz ns kb kc kd nt kf kg kh ig bi translated">现在转到亚马逊控制台，搜索“ECS”，然后点击 Clusters &gt; ReactCluster。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qh"><img src="../Images/f8076d08f1c3463d647d357bdcf48233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ulI6Okhd4GcNyLSJ-TNorg.png"/></div></div></figure><p id="076b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—点击<strong class="jm io"> ECS 实例</strong>容器实例&gt;</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qi"><img src="../Images/71acff522a0c43232ff7f5f623b00b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n0JRsKLKmNE1KdUeVpNd-A.png"/></div></div></figure><p id="2b22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—复制公共 DNS 的<strong class="jm io"> URI </strong>并粘贴到浏览器的<strong class="jm io">新建</strong>标签中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qj"><img src="../Images/52ac252b4902b1acbbf709047b72197a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*2WMrTbXpoKL5tplHYsOWrg.png"/></div></figure><p id="b98a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">— React 网站成功托管。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qk"><img src="../Images/a51634cc52a66eb983bfd5fbd3248d69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ys24pvN6lgkuzz-5Kpm8NA.png"/></div></div></figure><p id="94a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">结论</strong>:我们已经使用持续部署(CI/CD 管道)成功地将 React 应用托管到 AWS。</p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="bce2" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">您可能会对以下内容感兴趣:</h1><div class="mz na gp gr nb nc"><a href="https://sagarkudu.medium.com/host-any-app-to-aws-and-github-using-continuous-deployment-ci-cd-pipeline-step-by-step-d4150dbee2e8" rel="noopener follow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">托管网站或应用程序，使用 ECR 和 GitHub 自动构建 Docker 映像并将其推送到 AWS ECS | Continuous…</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">让我们为 AWS 托管一个 React 或任何应用程序或网站。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">sagarkudu.medium.com</p></div></div><div class="nl l"><div class="ql l nn no np nl nq ks nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/build-a-docker-image-and-publish-it-to-aws-ecr-using-github-actions-step-by-step-2cd2f4e667a7"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">使用 Github 操作自动构建 Docker 映像并将其推送到 AWS ECR 逐步]</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">让我们看看如何在 Github 到 AWS 上构建 CI/CD 管道和云映像。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">blog.devgenius.io</p></div></div><div class="nl l"><div class="qm l nn no np nl nq ks nc"/></div></div></a></div></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h1 id="c7bc" class="ky kz in bd la lb ol ld le lf om lh li lj on ll lm ln oo lp lq lr op lt lu lv bi translated">我的完整 DevOps 博客列表:</h1><div class="mz na gp gr nb nc"><a href="https://sagarkudu.medium.com/lists" rel="noopener follow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">媒介上的萨加尔·库杜策划了一些名单</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">开始探索 Devops，React，SpringBoot 和更多</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">sagarkudu.medium.com</p></div></div><div class="nl l"><div class="qn l nn no np nl nq ks nc"/></div></div></a></div><h1 id="c9dd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">作者:萨加尔·库杜</h1><ol class=""><li id="e4f5" class="lw lx in jm b jn ly jr lz jv ma jz mb kd mc kh md me mf mg bi translated"><a class="ae mh" href="https://github.com/sagarkudu" rel="noopener ugc nofollow" target="_blank"> Github </a></li><li id="01c0" class="lw lx in jm b jn mi jr mj jv mk jz ml kd mm kh md me mf mg bi translated"><a class="ae mh" href="https://www.linkedin.com/in/sagarkudu/" rel="noopener ugc nofollow" target="_blank">领英</a></li></ol><p id="90b2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">感谢您的宝贵时间！</strong></p></div></div>    
</body>
</html>