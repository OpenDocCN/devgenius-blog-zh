# D3。Js:可视化一个数学函数

> 原文：<https://blog.devgenius.io/d3-js-visualize-a-mathematical-function-d0c164ddcf2c?source=collection_archive---------8----------------------->

![](img/a0a1d8cf133cae7e7f253401caf2e6ae.png)

照片由[萨阿德·艾哈迈德](https://unsplash.com/@saadahmad_umn?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

一个阳光明媚的日子，当我浏览一个寻找工作的自由职业者网站时，一些有趣的工作吸引了我的注意。这份工作是使用 d3.js 可视化一个数学函数。我立即写了一份申请这份工作的建议书，然后在一次简短的面试后，我得到了这份工作。

关于 d3.js 的一些简短解释，d3.js 是 Javascript 中最著名和最成熟的数据可视化库之一。这个库的主要用途是用于**图表制作**，那里有他们发布的数百个官方图表示例。本质上，d3.js 只是一个文档操作库。这就是为什么这个库在它的能力上有很大的灵活性。

![](img/51b1de49ffa7de4a9f8f9de40fae7a71.png)

[D3.js 图库快照](https://observablehq.com/@d3/gallery)

作为一个成熟的库，我期望会有很多创建数学函数可视化的例子。我不知道这是因为我的谷歌搜索引擎生锈了还是什么，但是我刚刚通过使用各种搜索词找到了 2-3 个与之相关的页面。其余的呢？“如何在 d3 中计算最大值”。所以在这里我将通过创建一个简单的教程来为互联网贡献我的知识。

在本教程中，我们将尝试可视化`f(x) = 2x + 1`。我们想要的结果可以在下面的图片中看到。完整的代码也可以在我的 [Github 库](https://github.com/adyaksaw/tutorial/tree/master/3-d3-function-graph)上看到。

![](img/0ced4d1a88babe9eea2cb04fe277694b.png)

最终结果

首先，让我们**创建一个基本的 HTML 文件**，我们将在其中显示我们的结果。这里我们需要做两件事:导入 d3 库，并指明 d3 SVG 将放在哪里。让我们把 SVG 放在`#root` div 中。

现在，让我们开始创建一个基本的 d3 模板:**创建一个画布**来绘制我们的图形。为了使后续步骤更容易，让我们遵循 [d3 边距惯例](https://bl.ocks.org/mbostock/3019563)。请记住，约定是神奇的一步，我们可以用内容的宽度和高度来处理所有事情。

现在，我们需要**绘制轴**。让我们把它分成两部分:定义轴和定义标签。定义轴意味着定义轴的范围。注意，对于`yScale`，高度范围与 y 范围相反。这是因为在 d3 中，0 从顶部开始。

接下来是轴标签。请注意，轴标签位于图表的填充区。为了处理这个问题，我们需要在 x 轴上放一个负数(因为 0 是最左边的图表)，在 y 轴上放`height + k`(因为`height`是最下面的图表)。我们还将 y 标签旋转了-90 度，使其垂直运行。

最后，主要部分的时间到了:绘制函数。这部分做起来挺简单的。基本原理是一条线是由点组成的，一个函数图也是由点组成的。正因为如此，我们将创建许多点，并将它们连接起来，以绘制一个函数图。

为了更清楚，在这段代码中我们创建了两个助手函数:`f(x)`和`graphFunction`。`f(x)`是我们想要制作动画的函数，而`graphFunction`是一个将返回代表`f(x)`的点的数组的函数。这个函数将在 d3 的`datum`函数上被调用，它将集合数组中的所有点来创建一条线。

原来如此。完整的代码可以在我的 [Github 库](https://github.com/adyaksaw/tutorial/tree/master/3-d3-function-graph)上看到。如果有任何问题，欢迎在评论中提问！

*大家好，我是 Adyaksa，我写的是软件开发和我的语言学习经历。我计划每周发布一篇博客，内容是我在做兼职项目时发现的一些有趣的事情。如果你感兴趣，你可以关注我来了解它的最新情况！*