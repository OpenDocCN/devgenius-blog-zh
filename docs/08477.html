<html>
<head>
<title>Day 73 of Game Dev: How to Switch Cameras Based on Animation States using Cinemachine!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发第 73 天:如何使用 Cinemachine 基于动画状态切换摄像机！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-73-of-game-dev-how-to-switch-cameras-based-on-animation-states-using-cinemachine-d47cb42ce793?source=collection_archive---------5-----------------------#2022-06-17">https://blog.devgenius.io/day-73-of-game-dev-how-to-switch-cameras-based-on-animation-states-using-cinemachine-d47cb42ce793?source=collection_archive---------5-----------------------#2022-06-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="3549" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目的:回顾如何使用 Cinemachine 设置状态驱动摄像机。</strong></p><p id="4584" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我开始讲述我们如何在场景中设置它之前，你可能会问自己这样一个摄像机的目的是什么？为什么基于动画状态切换相机会有用？</p><p id="5440" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">以下是一些实际例子:</p><ul class=""><li id="20bd" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">第三人称射击，放大应该把相机放在你的肩膀后面，离玩家更近。</li><li id="571d" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">当跑步以获得更快的移动感觉时</li><li id="e66d" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">或者相反，让相机在减速或被击中时放大</li></ul><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi kw"><img src="../Images/cc05a13edeebfd4782a7871cd23c5f8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VV5lFzsQZyxous4knjeUtg.gif"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">幽灵侦察荒野——游戏来自<a class="ae lm" href="https://www.youtube.com/watch?v=LC5piNmPuqc" rel="noopener ugc nofollow" target="_blank"> GamingBolt </a></figcaption></figure><p id="b3db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于这个例子，我需要一个至少有 2 个<strong class="jm io">动画状态</strong>的游戏对象。我不会在这里深入探讨如何做到这一点，因为这不是本文的主要目的。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi ln"><img src="../Images/a4c20e61ed4e3af7755b89f2c698e6d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HHo5z88ZCHw7D30B_XrvQw.png"/></div></div></figure><p id="f30a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我还需要状态 1 和状态 2 之间的转换。我将创建一个<strong class="jm io"> bool </strong>参数，如果为真，状态 1 将转换到状态 2，如果为假，状态 2 将转换回状态 1。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/9bb2c5a97c47f812b7bf0f6761fedcd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*N2a86MffIUgcj5D5hxfDXg.png"/></div></figure><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/f9d55630964eb7af085ee57c66ef9129.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*b-8GLmu4B3UJ6JtXIF68aw.png"/></div></figure><p id="8c93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这也可能有助于确保在每次过渡时将<strong class="jm io">的退出时间</strong>设置为假，以便动画是即时的。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/20abf474c8af541487d017b1dc471efd.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/1*JFZS5k3z5tiIwofl2J69gA.gif"/></div></figure><p id="7c74" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们添加一个<strong class="jm io">状态驱动的摄像机</strong>到场景中。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/3e2a151a3a97ff4fe6f3f67a9a17d731.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*KStCreUr6p68c6FsfvlvRw.png"/></div></figure><p id="eeb6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将使用<strong class="jm io">第三人称摄像机</strong>作为例子，创建一个放大功能。我将一台摄像机设置为普通的第三人称视角，另一台设置为放大的肩部视角。</p><p id="c3f8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要做到这一点，我将添加第二个相机到我的状态驱动相机，并进入每一个，并把它们放在我想要的位置。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/ed3af4acb6bf55d010317dfe8476c908.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/1*veoSJBBOJ3lgFyQ22m6O1w.gif"/></div></figure><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/413edb286e3dfe13f6e6794cf2c5c37e.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*jlw6AyHBQmMAraPSzEKgVg.png"/></div></figure><p id="4eb1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的第一个 cam 设置为缩小视图，第二个设置为放大视图。(如果你不明白为什么它们被命名为 cam 3 和 cam 4，那是因为我的场景中有其他 cam，它会自动命名它们)</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/3ecdb0e5253191ba0f8e07a9c0ea95ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*jgGDc77_ohFgkUh-o9wTmA.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">凸轮 1</figcaption></figure><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/8a329377f764cdcaebb5333ded428558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*B8lmrZNdfDAwPCYhFp1GIQ.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">凸轮 2</figcaption></figure><p id="186b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后我需要分配我的<strong class="jm io">动画目标</strong>变量，也就是我的球体。为此，球体动画实际上不需要做任何事情。在这个例子中，我们只需要它们根据我们所处的动画状态来决定切换到哪台摄像机。它不关心动画本身。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/63b1893d64c3b55d0c2f6c213e458b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/1*uReQ74c18Rw3UaM3ZL29vg.gif"/></div></figure><p id="e6f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我添加了我的<strong class="jm io">动画目标</strong>，摄像机现在看到目标<strong class="jm io">动画状态</strong>，我现在可以设置<strong class="jm io">过渡</strong>。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/e114101230e023541b1defd2c4c6a01e.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/1*h9TkyQE3YQGpl6QrJh14GQ.gif"/></div></figure><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/21572a34a55ea965bcd9f95aba4fc616.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/1*BdERno45qhntwiK2Zin90g.gif"/></div></figure><p id="5907" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将每个状态分配给特定摄像机后，我现在可以按下播放和测试。如果我选择了我的球体并且打开了<strong class="jm io">动画师</strong>窗口，我可以将<strong class="jm io"> bool </strong>参数更改为 true 或 false，然后在摄像机之间切换！</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/b21cb4d1726f1c1ade4ee0fd38011d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/1*0kFawTpI-mQXK34XRymBgA.gif"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">记住你可以通过脚本改变这个 bool，这样当你按住一个按钮的时候它就会放大。</figcaption></figure><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/976ab3117d9a31e66dd2a32e8c3d9df9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/1*UcWVJVihTRFH3BW-E_fjng.gif"/></div></figure><p id="d5a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以用它做很多不同的事情，所以发挥创造力吧！</p><p id="dc24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="mb">如有任何问题或想法，欢迎评论。让我们做一些很棒的游戏吧！</em>T3】</strong></p></div></div>    
</body>
</html>