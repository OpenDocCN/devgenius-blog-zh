<html>
<head>
<title>Prerender routes in Express server for Angular â€” Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨äº Angular çš„ Express server ä¸­çš„ Prerender è·¯ç”±â€”ç¬¬ä¸€éƒ¨åˆ†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/prerender-routes-in-express-server-for-angular-part-i-bc8a9988ae82?source=collection_archive---------8-----------------------#2022-09-20">https://blog.devgenius.io/prerender-routes-in-express-server-for-angular-part-i-bc8a9988ae82?source=collection_archive---------8-----------------------#2022-09-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="0291" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">è§’åº¦é¢„æ¸²æŸ“</h2></div><p id="3fe9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">æœ‰è®¸å¤šç†ç”±éœ€è¦ prerenderï¼Œä¹Ÿæœ‰è®¸å¤šç†ç”±ä¸éœ€è¦ã€‚æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æ‰¾åˆ°è‡ªå·±çš„ç”¨ä¾‹æ¥é¢„æ¸²æŸ“ï¼Œè€Œé™æ€ç«™ç‚¹ç”Ÿæˆåˆ™å®Œå…¨æ˜¯é¢„æ¸²æŸ“ï¼Œåƒ stackoverflow è¿™æ ·çš„å¤§å‹ç½‘ç«™é¿å…äº†è¿™ä¸€ç‚¹ã€‚Angular æœ€è¿‘æ·»åŠ äº†ç”¨äºé¢„æ¸²æŸ“çš„é€šç”¨ç”Ÿæˆå™¨ï¼Œä½†åœ¨è¿™ä¸ªç³»åˆ—ä¸­ï¼Œæˆ‘æƒ³ç ”ç©¶å…¶ä»–æ–¹æ³•ã€‚</p><p id="ee33" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">åœ¨è¿›è¡Œæˆ‘ä»¬è‡ªå·±çš„é¢„æ¸²æŸ“æ—¶ï¼Œæˆ‘æƒ³æ£€æŸ¥ä¸¤ç§æ–¹æ³•ã€‚</p><ol class=""><li id="e0ae" class="ky kz in ke b kf kg ki kj kl la kp lb kt lc kx ld le lf lg bi translated">å¥½çš„ ol' Express æœåŠ¡å™¨</li><li id="7d68" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx ld le lf lg bi translated">Angular prerender builder çš„åˆ†æ‹†</li></ol><p id="e32d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">åœ¨æœåŠ¡å™¨ä¸Šä¹Ÿæœ‰ä½¿ç”¨ Angular <code class="fe lm ln lo lp b">RenderModule</code>çš„ï¼Œä½†è¿™æ˜¯å¤šä½™çš„ã€‚</p><p id="f5a8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä»Šå¤©æˆ‘ä»¬å°†æ„å»ºæˆ‘ä»¬çš„<strong class="ke io"> Express server </strong>æ¥é¢„å‘ˆç°é¡µé¢ï¼Œä¸‹å‘¨æˆ‘ä»¬å°†è®¨è®ºåˆ›å»ºä¸€ä¸ª<a class="ae lq" href="https://garage.sekrab.com/posts/alternative-way-to-localize-in-angular" rel="noopener ugc nofollow" target="_blank">å•æ„å»ºå¤šè¯­è¨€ Angular app </a>çš„ä¸åŒæ–¹é¢ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ã€‚</p><h2 id="fdab" class="lr ls in bd lt lu lv dn lw lx ly dp lz kl ma mb mc kp md me mf kt mg mh mi mj bi translated">å…³äº StackBlitz é¡¹ç›®çš„å‡ ç‚¹æ³¨è®°</h2><blockquote class="mk ml mm"><p id="8b69" class="kc kd mn ke b kf kg jo kh ki kj jr kk mo km kn ko mp kq kr ks mq ku kv kw kx ig bi translated">æˆ‘åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„<a class="ae lq" href="https://stackblitz.com/edit/angular-express-prerender" rel="noopener ugc nofollow" target="_blank"> StackBlitz é¡¹ç›®</a>æ¥æ„å»ºä¸€ä¸ª SSR åº”ç”¨ç¨‹åºï¼Œä½†ä¸å¹¸çš„æ˜¯å®ƒåœ¨å®¢æˆ·ç«¯åˆ›å»º<code class="fe lm ln lo lp b">index.html</code>æ—¶å¤±è´¥äº†ã€‚å¦‚æœä½ è¿è¡Œ<code class="fe lm ln lo lp b">npm run build:ssr</code>ï¼Œå®ƒå¯èƒ½ä¼šå¡åœ¨<code class="fe lm ln lo lp b">index.html</code>ä¸Šã€‚å–æ¶ˆè¯¥æ­¥éª¤ï¼Œç»§ç»­ï¼Œå¹¶è‡ªå·±ä¿®è¡¥ç´¢å¼•ã€‚æˆ‘ç¡®å®åœ¨ StackBlitz ä¸­ä¿®è¡¥äº†è¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯è¿™æ„å‘³ç€ä¸ºæ ¹ç”Ÿæˆä¸€ä¸ªé¢„å…ˆå‘ˆç°çš„ç´¢å¼•æ–‡ä»¶ä¸ä¼šäº§ç”Ÿæ­£ç¡®çš„ç»“æœã€‚ç®¡ä»–å‘¢ï¼Œæ–¯å¡”å…‹å¸ƒé‡Œå…¹ï¼</p><p id="ba3b" class="kc kd mn ke b kf kg jo kh ki kj jr kk mo km kn ko mp kq kr ks mq ku kv kw kx ig bi translated">è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†ä¸€ä¸ªç®€å•çš„ Express æœåŠ¡å™¨ï¼Œæˆ‘ä»¬<a class="ae lq" href="https://garage.sekrab.com/posts/loading-external-configurations-in-angular-universal" rel="noopener ugc nofollow" target="_blank">åœ¨ä¹‹å‰</a>éš”ç¦»æœåŠ¡å™¨çš„æ—¶å€™è°ˆåˆ°è¿‡ã€‚</p><p id="068e" class="kc kd mn ke b kf kg jo kh ki kj jr kk mo km kn ko mp kq kr ks mq ku kv kw kx ig bi translated">æä¾›çš„èŠ‚ç‚¹ç‰ˆæœ¬ä¸æ”¯æŒ<code class="fe lm ln lo lp b">fetch</code>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä½¿ç”¨<code class="fe lm ln lo lp b">node-fetch</code>åº“ï¼Œè€Œä¸æ˜¯<code class="fe lm ln lo lp b">commonjs</code>ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆ(æ ¹æ®æ–‡æ¡£)æ˜¯è¿™æ ·å¯¼å…¥çš„:</p></blockquote><pre class="mr ms mt mu gt mv lp mw mx aw my bi"><span id="d7fd" class="lr ls in lp b gy mz na l nb nc">const fetch = (...args) =&gt; import('node-fetch')<br/>	.then(({ default: fetch }) =&gt; fetch(...args));</span></pre><h1 id="cfb7" class="nd ls in bd lt ne nf ng lw nh ni nj lz jt nk ju mc jw nl jx mf jz nm ka mi nn bi translated">è¿è¡Œæœ¬åœ° Express æœåŠ¡å™¨</h1><p id="ab68" class="pw-post-body-paragraph kc kd in ke b kf no jo kh ki np jr kk kl nq kn ko kp nr kr ks kt ns kv kw kx ig bi translated">æœ€ç®€å•ç›´æ¥çš„æ–¹æ³•æ˜¯å»ºç«‹ä¸€ä¸ªæœ¬åœ° Express æœåŠ¡å™¨ï¼Œå¹¶åœ¨ Node ä¸­ä½¿ç”¨ä¸€ä¸ªç®€å•çš„<code class="fe lm ln lo lp b">fetch</code>ã€‚<code class="fe lm ln lo lp b">fetch</code>ä»èŠ‚ç‚¹ç‰ˆæœ¬ 17 å¼€å§‹å¯ç”¨ï¼Œåœ¨é‚£ä¹‹å‰ï¼Œä½ å¯ä»¥ä½¿ç”¨<code class="fe lm ln lo lp b">node-fetch</code>åº“ã€‚</p><p id="6ef8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å½“å‰è®¾ç½®å¦‚ä¸‹:</p><ul class=""><li id="2ad9" class="ky kz in ke b kf kg ki kj kl la kp lb kt lc kx nt le lf lg bi translated"><code class="fe lm ln lo lp b">src</code>æ–‡ä»¶å¤¹ä¸­æœ‰è§’åº¦æ¨¡å—ï¼ŒåŒ…æ‹¬<code class="fe lm ln lo lp b">app.server.module</code></li><li id="96ff" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated">Building åœ¨<code class="fe lm ln lo lp b">host/client</code>ä¸‹åˆ›å»ºå®¢æˆ·ç«¯æ–‡ä»¶ï¼Œåœ¨<code class="fe lm ln lo lp b">host/server/main.js</code>ä¸‹åˆ›å»º SSR</li><li id="c8c8" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><code class="fe lm ln lo lp b">host/server.js</code>æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ Express æœåŠ¡å™¨ï¼Œåœ¨æœ¬åœ°ç«¯å£ä¸Šè¿è¡Œ Angularã€‚</li><li id="bf6f" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><code class="fe lm ln lo lp b">host/server/routes.js</code>æœ‰è¿›å£è§’<code class="fe lm ln lo lp b">ngExpressEngine</code>å‡ºå£è§’<code class="fe lm ln lo lp b">app.server.module</code>çš„èˆªçº¿</li><li id="d172" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated">æˆ‘ä»¬çš„æ–°è·å–æ–‡ä»¶åœ¨<code class="fe lm ln lo lp b">host/prerender/fetch.js</code>ä¸‹</li></ul><p id="ee28" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å› æ­¤ï¼Œé¦–å…ˆè®©æˆ‘ä»¬åˆ›å»ºé¢„æ¸²æŸ“è·å–æ¨¡å—:</p><pre class="mr ms mt mu gt mv lp mw mx aw my bi"><span id="ea2d" class="lr ls in lp b gy mz na l nb nc">// host/prerender/fetch.js file<br/>async function renderToHtml(route, port) {<br/>	// run url in localhost<br/>  // do something with returned text<br/>	// return<br/>}<br/>// export some function here:<br/>module.exports = async (port) =&gt; {<br/>  // generate /client/static/route/index.html<br/>  // my static routes, example routes<br/>  const routes = ['', 'projects', 'projects/1'];</span><span id="e951" class="lr ls in lp b gy nu na l nb nc">  for (const route of routes) {<br/>    await renderToHtml(route, port);<br/>  }<br/>};</span></pre><p id="6358" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">å¦‚æœè®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬è°ƒæ•´æˆ‘ä»¬çš„æœåŠ¡å™¨æ¥åšä¸€äº›äº‹æƒ…ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="mr ms mt mu gt mv lp mw mx aw my bi"><span id="a099" class="lr ls in lp b gy mz na l nb nc">// host/server.js<br/>// ...<br/>// just when you start listening:</span><span id="4d61" class="lr ls in lp b gy nu na l nb nc">const port = process.env.PORT || 1212;</span><span id="a82a" class="lr ls in lp b gy nu na l nb nc">// assign a server to be able to close later<br/>// turn function to async to allow an await statement<br/>const server = app.listen(port, async function (err) {<br/>  console.log('started to listen to port: ' + port);<br/>  if (err) {<br/>    console.log(err);<br/>    return;<br/>  }<br/>  // if process.env.PRERENDER, then run this and close<br/>    if (process.env.PRERENDER) {<br/>      const prerender = require('./prerender/fetch');<br/>			// await fetch before you close here<br/>			// pass the port to reuse it<br/>			await prerender(port);<br/>			server.close();<br/>    }<br/>});</span></pre><p id="3c48" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä¸ºäº†åœ¨ prerender æ¨¡å¼ä¸‹è¿è¡Œï¼Œæˆ‘ä»¬åœ¨<strong class="ke io">ä¸»æœº</strong>æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå¿«é€Ÿ<code class="fe lm ln lo lp b">npm</code>è„šæœ¬ã€‚</p><p id="5c26" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lm ln lo lp b">"prerender": "SET PRERENDER=true &amp;&amp; node server"</code></p><p id="3c81" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">æˆ–è€…åœ¨ Windows ä¹‹å¤–çš„å…¶ä»–åœ°æ–¹(æ¯”å¦‚ StackBlitzï¼Œåœ¨æ ¹åŒ…ä¸­æ‰¾åˆ°è„šæœ¬ï¼Œé¦–å…ˆæ˜¯<code class="fe lm ln lo lp b">cd host</code>)</p><p id="0163" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lm ln lo lp b">"prerender": "PRERENDER=true node serverâ€</code></p><p id="905e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">åŠŸèƒ½<code class="fe lm ln lo lp b">renderToHtml</code>ï¼Œåº”è¯¥æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><ul class=""><li id="795c" class="ky kz in ke b kf kg ki kj kl la kp lb kt lc kx nt le lf lg bi translated">åœ¨ SSR ç¯å¢ƒä¸­æå–è·¯çº¿</li><li id="1b08" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated">å°†è¾“å‡ºå­—ç¬¦ä¸²ä¿å­˜åˆ°ä¸€ä¸ª<code class="fe lm ln lo lp b">index.html</code>æ–‡ä»¶ä¸­</li><li id="3109" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated">å°†æ–‡ä»¶æ”¾åœ¨ä¸è·¯å¾„åŒ¹é…çš„è·¯å¾„ä¸­</li><li id="8c9a" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated">æŠŠå®ƒä¿å­˜åœ¨ä¸€ä¸ªå®¹æ˜“æ‰¾åˆ°çš„åœ°æ–¹ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†å¿«é€Ÿï¼Œä¹Ÿæ˜¯ä¸ºäº†ç«ç„°ï¼Œç½‘ç»œå’Œæµªæ¶Œã€‚æ‰€ä»¥ç›®çš„åœ°åº”è¯¥åœ¨<code class="fe lm ln lo lp b">client</code>æ–‡ä»¶å¤¹é‡Œé¢(äº‘ä¸»æœºçš„å…¬å…±æ–‡ä»¶å¤¹)ã€‚</li></ul><p id="379d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨èŠ‚ç‚¹çš„<code class="fe lm ln lo lp b">fs/promises</code>åŒ…ï¼Œè¿™å…è®¸æˆ‘ä»¬åœ¨å®Œæˆåå…³é—­ç«¯å£ã€‚æˆ‘ç°åœ¨é€‰æ‹©å°†å®ƒä»¬æ”¾åœ¨<code class="fe lm ln lo lp b">/client/static</code>æ–‡ä»¶å¤¹ä¸­ã€‚åœ¨ Express ä¸­ï¼Œè¿™å¾ˆå®¹æ˜“ç®¡ç†ã€‚åœ¨å…¶ä»–ä¸»æœºä¸­ï¼Œæ¯”å¦‚ Netlifyï¼Œå°†å®ƒä»¬æ”¾åœ¨ root <code class="fe lm ln lo lp b">/client</code>ä¸Šä¼šæ›´å®¹æ˜“ã€‚</p><pre class="mr ms mt mu gt mv lp mw mx aw my bi"><span id="09f8" class="lr ls in lp b gy mz na l nb nc">// host/prerender/fetch.js<br/>const fs = require('fs/promises');</span><span id="1aca" class="lr ls in lp b gy nu na l nb nc">// this should be part of a config passed down from server listener<br/>// client/static for Express, or simply client for cloud hosts<br/>const prerenderOut = './client/static/';</span><span id="168c" class="lr ls in lp b gy nu na l nb nc">async function renderToHtml(route, port, outFolder) {<br/>	// fetch it<br/>  const response = await fetch(`http://localhost:${port}/${route}`);<br/>  if (response.ok) {<br/>    const text = await response.text();<br/>		// the output folder is ./client/static/{route}, relative to root server file<br/>    const d = outFolder + route;<br/>		// mkdir recursive, creates the folder structure<br/>    await fs.mkdir(d, {recursive: true});<br/>		// create index.html, and write text to it.<br/>    await fs.writeFile(d + '/index.html', text);<br/>		// loggin success<br/>    console.log('ok', route, text.length);<br/>  } else {<br/>		// log errores<br/>    console.log('not ok', route, response.status);<br/>  }</span><span id="2173" class="lr ls in lp b gy nu na l nb nc">}</span><span id="96f4" class="lr ls in lp b gy nu na l nb nc">module.exports = async (port) =&gt; {<br/>	// generate /client/static/route/index.html<br/>  // my static routes, example routes (you could run an API call to get all paths)<br/>  const routes = ['', 'projects', 'projects/1'];</span><span id="1218" class="lr ls in lp b gy nu na l nb nc">  for (const route of routes) {<br/>    await renderToHtml(route, port, prerenderOut);<br/>  }<br/>}</span></pre><p id="e6b6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">éœ€è¦æ”¹è¿›çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨æˆ‘ä»¬å¼€å§‹åˆ›å»ºé™æ€æ–‡ä»¶å¤¹ä¹‹å‰åˆ é™¤å®ƒï¼Œä»¥ç¡®ä¿æˆ‘ä»¬æ¯æ¬¡æ„å»ºå®ƒæ—¶éƒ½æœ‰ä¸€ä¸ªæ–°çš„å‰¯æœ¬ã€‚åœ¨äº‘ä¸»æœºä¸­ï¼Œæƒ…å†µä¼šæœ‰æ‰€ä¸åŒã€‚</p><pre class="mr ms mt mu gt mv lp mw mx aw my bi"><span id="5997" class="lr ls in lp b gy mz na l nb nc">// prerender/fetch.js<br/>module.exports = async (port) =&gt; {<br/>	// ...<br/>  // remove static folder first<br/>  await fs.rm(prerenderOut, {recursive: true, force: true});<br/>	// ...<br/>}</span></pre><p id="d7cc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">è¿è¡Œè„šæœ¬ï¼Œè§‚å¯Ÿæ–‡ä»¶çš„åˆ›å»ºè¿‡ç¨‹ã€‚æ³¨æ„:Angular universal packages çš„é…·ä¹‹å¤„åœ¨äºï¼Œå®ƒè¿˜ä¼šä¸ºæ¯ä¸ªè·¯å¾„åˆ›å»ºå†…åµŒçš„å…³é”® CSSã€‚</p><h1 id="4143" class="nd ls in bd lt ne nf ng lw nh ni nj lz jt nk ju mc jw nl jx mf jz nm ka mi nn bi translated">å¿«é€Ÿè·¯çº¿</h1><p id="f4f5" class="pw-post-body-paragraph kc kd in ke b kf no jo kh ki np jr kk kl nq kn ko kp nr kr ks kt ns kv kw kx ig bi translated">ä¸ºäº†åœ¨ Express ä¸­æä¾›è¿™äº›é™æ€æ–‡ä»¶ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„é™æ€é€‚é…å™¨ï¼Œå°†<code class="fe lm ln lo lp b">/client/static</code>çš„å†…å®¹æš´éœ²ç»™æ ¹ï¼Œå› æ­¤åœ¨<code class="fe lm ln lo lp b">routes.js</code>æ–‡ä»¶ä¸­(åŒ…å«åˆ° Express ä¸­æœåŠ¡å™¨ Angular SSR çš„å¿…è¦è·¯å¾„):</p><pre class="mr ms mt mu gt mv lp mw mx aw my bi"><span id="fd83" class="lr ls in lp b gy mz na l nb nc">// host/server/routes.js<br/>// this should be part of a config file passed down from server listener<br/>const rootPath = path.normalize(__dirname + '/../');</span><span id="d1cd" class="lr ls in lp b gy nu na l nb nc">module.exports = function (app) {<br/>	// expose static folder<br/>  app.use('/', express.static(rootPath + 'client/static'));<br/>	// ... other routes<br/>}</span></pre><p id="28ab" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ä¸ºäº†æµ‹è¯•è¿™ä¸€ç‚¹ï¼Œé¦–å…ˆæˆ‘ä»¬è¿›å…¥ä¸»æœºæ–‡ä»¶å¤¹ï¼Œå¹¶è¿è¡Œ<code class="fe lm ln lo lp b">node server</code>ã€‚ç„¶åæµè§ˆåˆ°<code class="fe lm ln lo lp b">localhost:1212</code>ï¼Œä¸ºäº†åŒºåˆ†é™æ€æ–‡ä»¶å’Œè§’åº¦æœåŠ¡æ–‡ä»¶ï¼Œæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><ul class=""><li id="a240" class="ky kz in ke b kf kg ki kj kl la kp lb kt lc kx nt le lf lg bi translated">å°†é™æ€æ–‡ä»¶çš„æ ‡é¢˜æ”¹ä¸ºæˆ‘ä»¬èƒ½å¤Ÿè¯†åˆ«çš„åç§°ï¼Œæ¯”å¦‚â€œé™æ€â€¦â€</li><li id="e2c2" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated">åœ¨æµè§ˆä¸­ç¦ç”¨ JavaScript</li></ul><p id="3729" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬çœ‹åˆ°æ ‡é¢˜æ”¹å˜äº†ï¼Œé‚£ä¹ˆé™æ€é¡µé¢å°±è¢«æä¾›äº†ã€‚å½“ç„¶ï¼ŒJavaScript åœ¨å¯ç”¨æ—¶ä¼šæ°´åŒ–ï¼ŒAngular å®¢æˆ·ç«¯ä¼šå–è€Œä»£ä¹‹ã€‚</p><h1 id="0608" class="nd ls in bd lt ne nf ng lw nh ni nj lz jt nk ju mc jw nl jx mf jz nm ka mi nn bi translated">å•ä¸€å¤šè¯­è¨€ç‰ˆæœ¬</h1><p id="89ae" class="pw-post-body-paragraph kc kd in ke b kf no jo kh ki np jr kk kl nq kn ko kp nr kr ks kt ns kv kw kx ig bi translated">åœ¨<strong class="ke io">æ‰­æ›²è§’åº¦å®šä½</strong>çš„ç½ªæ¶ä¸­è¿›ä¸€æ­¥æ²‰æ²¦ï¼Œè®©æˆ‘ä»¬åœ¨ç›¸åŒçš„æ„å»ºä¸­ä¸ºä¸åŒçš„è¯­è¨€åˆ›å»ºé™æ€æ–‡ä»¶ï¼Œä¸ºæ­¤ï¼Œä¼‘æ¯ä¸€ä¸‹ï¼Œä¸‹å‘¨å†å›æ¥ã€‚ğŸ˜´</p><p id="25dd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡ç®€çŸ­çš„ä»‹ç»ï¼Œå¦‚æœä½ å¼€å§‹çœ‹åˆ°æ›¿èº«ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚</p><h1 id="508d" class="nd ls in bd lt ne nf ng lw nh ni nj lz jt nk ju mc jw nl jx mf jz nm ka mi nn bi translated">èµ„æº</h1><ul class=""><li id="b0bb" class="ky kz in ke b kf no ki np kl nv kp nw kt nx kx nt le lf lg bi translated"><a class="ae lq" href="https://angular.io/guide/prerendering" rel="noopener ugc nofollow" target="_blank">è§’åº¦â€”é¢„æ¸²æŸ“</a></li><li id="7764" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><a class="ae lq" href="https://stackblitz.com/edit/angular-express-prerender" rel="noopener ugc nofollow" target="_blank"> StackBlitz é¡¹ç›®</a></li><li id="be03" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><a class="ae lq" href="https://expressjs.com/en/4x/api.html" rel="noopener ugc nofollow" target="_blank"> Express API </a></li><li id="da81" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><a class="ae lq" href="https://nodejs.org/api/fs.html" rel="noopener ugc nofollow" target="_blank"> NodeJs æ–‡ä»¶ç³»ç»Ÿ</a></li><li id="7606" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><a class="ae lq" href="https://developer.mozilla.org/en-US/docs/Web/API/fetch" rel="noopener ugc nofollow" target="_blank"> MDN è·å–</a></li><li id="751a" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><a class="ae lq" href="https://www.npmjs.com/package/node-fetch" rel="noopener ugc nofollow" target="_blank">èŠ‚ç‚¹å–åº“</a></li></ul><h1 id="ecb4" class="nd ls in bd lt ne nf ng lw nh ni nj lz jt nk ju mc jw nl jx mf jz nm ka mi nn bi translated">ç›¸å…³èŒä½</h1><ul class=""><li id="8171" class="ky kz in ke b kf no ki np kl nv kp nw kt nx kx nt le lf lg bi translated"><a class="ae lq" href="https://garage.sekrab.com/posts/alternative-way-to-localize-in-angular" rel="noopener ugc nofollow" target="_blank">è§’åº¦å®šä½çš„æ›¿ä»£æ–¹å¼</a></li><li id="1148" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx nt le lf lg bi translated"><a class="ae lq" href="https://garage.sekrab.com/posts/loading-external-configurations-in-angular-universal" rel="noopener ugc nofollow" target="_blank">åœ¨è§’åº¦é€šç”¨ä¸­åŠ è½½å¤–éƒ¨é…ç½®</a></li></ul><div class="ny nz gp gr oa ob"><a href="https://garage.sekrab.com/posts/prerender-routes-in-express-server-for-angular-part-i" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd io gy z fp og fr fs oh fu fw im bi translated">Angular - Part Iï¼ŒAngular - Sekrab è½¦åº“çš„ Express æœåŠ¡å™¨ä¸­çš„é¢„å‘ˆç°ç¨‹åºè·¯çº¿</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">åœ¨è¿›è¡Œæˆ‘ä»¬è‡ªå·±çš„é¢„æ¸²æŸ“æ—¶ï¼Œæˆ‘æƒ³æ£€æŸ¥ä¸¤ç§æ–¹æ³•ã€‚å¥½çš„ ol' Express æœåŠ¡å™¨é™„å¸¦çš„ Angularâ€¦</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">garage.sekrab.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op oq ob"/></div></div></a></div></div></div>    
</body>
</html>