<html>
<head>
<title>Day 10 of Game Dev: How to create a cooldown feature in Unity!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发的第 10 天:如何在 Unity 中创建冷却功能！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-10-of-game-dev-how-to-create-a-cooldown-feature-in-unity-4420b0ae9038?source=collection_archive---------5-----------------------#2022-04-15">https://blog.devgenius.io/day-10-of-game-dev-how-to-create-a-cooldown-feature-in-unity-4420b0ae9038?source=collection_archive---------5-----------------------#2022-04-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="4dfc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目标:</strong>在我的《2D 银河射击游戏》中创建一个发射激光的<strong class="jm io">冷却</strong>功能，这样玩家就不能发射激光了。</p><p id="282d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">谈到这个特性所需的代码，它非常简单，只需要几行代码。就我个人而言，我很难理解代码到底在做什么来让我的<strong class="jm io">冷却</strong>功能工作。请耐心听我解释这段代码在做什么，因为它会促使你更像软件工程师一样思考。如果到最后你只是感到困惑，那就接受困惑，如果需要的话，以后再回来。我也花了一点时间，但现在我可以向别人解释了！</p><p id="7e2d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们从思考我们想要做什么开始。在我的例子中，我想创建一个类似于<strong class="jm io">的计时器</strong>，让玩家只能在距离上次发射激光一定时间后才能发射激光。这将使它到达玩家不能发射激光的地方。</p><p id="cd6c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在进入代码。我将解释发生了什么，并在我们进行的过程中带您浏览代码。</p><p id="c912" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要两个浮点变量。我把我的命名为<strong class="jm io"> _fireRate </strong>和<strong class="jm io"> _canFire </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/160bc3c21a89e0c947301029627cfa1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/1*jXJ6qsrFlX7MHykI4ebXPg.gif"/></div></figure><p id="33d7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> _fireRate </strong>变量表示玩家被允许开火前需要经过的时间。需要变量<strong class="jm io"> _canFire </strong>，这样我们就有东西可以与<strong class="jm io"> _fireRate </strong>进行比较。如果我们说<strong class="jm io"> _fireRate </strong>例如是 0.15，那么计算机喜欢 0.15 什么？一会儿你会明白我的意思，不要担心它是否令人困惑。有人教过我，一开始我也很困惑。不要放弃！</p><p id="3e3e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们还需要使用<a class="ae kq" href="https://docs.unity3d.com/ScriptReference/Time-time.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> Time.time </strong> </a>变量，这是一个浮点数。该变量内置于 Unity 中，基本上是应用程序运行以来的当前时间。</p><p id="6dca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在此代码的最终实现中，它将如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/2b5e76cd8684dbc5ff934a7e3dc503c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/1*FDYFr0ipBNVHMQhBAlch3Q.gif"/></div></figure><p id="d12a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先我们有之前的<strong class="jm io">变量</strong>。其次，我们有我们的<strong class="jm io"> if 语句</strong>，它不仅检查玩家是否按下了<strong class="jm io">空格键</strong>，还检查是否已经过了允许他们开火的正确时间量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ks"><img src="../Images/28f7ef2dc67ca929775e29d2198d11f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6bstxQte92ogwnUxXwPI_A.gif"/></div></div></figure><p id="1274" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<strong class="jm io"> ShootLaser()方法</strong>中，我们也在更新<strong class="jm io"> _canFire </strong>的当前值。<strong class="jm io"> _canFire </strong>正在被“=”设置为<strong class="jm io">time . time</strong>+<strong class="jm io">_ fire rate</strong>。这意味着<strong class="jm io"> _canfire </strong>变量是" = "从应用程序开始到现在的时间"+"火灾率(0.15)。</p><p id="de49" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这意味着，在<strong class="jm io"> if </strong>语句中，我们正在检查自应用程序启动以来的当前时间是否是“&gt;”而不是自应用程序启动以来的当前时间“+”触发率。然后当我们开火时，<strong class="jm io"> _canFire </strong>变量被更新为一个新值，即“=”当前时间+开火速率。意思是每次你开火的时候，<strong class="jm io"> _canFire </strong>变量是“=”到未来的另一个 0.15 秒。因此，当你检查<strong class="jm io">时间.时间</strong>是否为&gt;时，那么<strong class="jm io">就可以发射</strong>了。</p><p id="2390" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你愿意的话，你也可以把等式变成“&gt; =”，这样会更精确。因此，它不仅会检查是否超过 0.15 秒，还会让你在正好超过 0.15 秒时开火。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/eb8eaf173e16c183aa63efaf3c440195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/1*IOofoSYMA03CMZ3fsQ4ysQ.gif"/></div></figure><p id="8aae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">目前就是这样，我知道对一些人来说这可能有意义，但仍然会让你质疑软件工程师应该如何思考，因为这可能会把你推到正常人类思维过程的界限之外。这需要练习，写这篇文章的时候我的头有点痛，但是越来越好了:)</p><p id="51f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">坚持学习，不要放弃！有什么问题尽管问！</strong></p></div></div>    
</body>
</html>