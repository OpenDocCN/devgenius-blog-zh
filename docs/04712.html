<html>
<head>
<title>9 Bad Java Snippets To Make You Laugh</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你发笑的9个糟糕的Java片段</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/9-bad-java-snippets-to-make-you-laugh-82f5018e06e5?source=collection_archive---------0-----------------------#2021-04-25">https://blog.devgenius.io/9-bad-java-snippets-to-make-you-laugh-82f5018e06e5?source=collection_archive---------0-----------------------#2021-04-25</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="d56d" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">糟糕的Java代码让你感觉更好</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/425a3a3aeff69babf592d15b17f0d89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zY8Sd3VFzLB1p7de"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">来自<a class="ae kw" href="https://www.pexels.com/photo/landscape-fashion-man-love-5040576/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae kw" href="https://www.pexels.com/@olly?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Andrea Piacquadio </a>的照片</figcaption></figure><p id="bfaa" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">这些你听过多少次了？</em>干净的代码、有意义的命名和测试。一直对你大喊大叫。你知道，我知道，每个人都知道。</p><p id="bb5b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">脏代码怎么办？以下是9个糟糕的代码片段。详细解释它们的重要性。</em></p><p id="371a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">让我们开始吧。</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="0b50" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">1.传递超过255个参数</h1><p id="2ea9" class="pw-post-body-paragraph kx ky ir kz b la mt js lc ld mu jv lf lg mv li lj lk mw lm ln lo mx lq lr ls ik bi translated"><code class="fe my mz na nb b">.java:796: error: too many parameters</code></p><p id="b761" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">你看不到有超过4个参数的方法。在糟糕的一天，超过5个参数。你<em class="lt">认为这是惯例吗？错了，</em> <a class="ae kw" href="https://stackoverflow.com/questions/2244860/when-a-method-has-too-many-parameters" rel="noopener ugc nofollow" target="_blank"> <em class="lt">关于参数个数还有疑问</em> </a> <em class="lt">。</em></p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="8b23" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">2.调用对象的构造函数</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">调用对象构造函数，所以我们100%确定</figcaption></figure><p id="2575" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">没必要加<code class="fe my mz na nb b">super()</code>。编译器会为您完成这项工作。</p><p id="f61b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">另一件事是，<code class="fe my mz na nb b">getAdress</code>返回字符串而不是<code class="fe my mz na nb b">a dress</code>。我们在日常工作中看到的错误期望。</p><h1 id="5295" class="mb mc ir bd md me ne mg mh mi nf mk ml jx ng jy mn ka nh kb mp kd ni ke mr ms bi translated">3.一行程序</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://www.reddit.com/user/MurdoMaclachlan/comments/lts8pr/to_the_people_who_are_following_me/" rel="noopener ugc nofollow" target="_blank">感谢那个抄写烂代码的家伙。</a></figcaption></figure><p id="835d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">一句话的家伙。一行写代码，觉得很酷。一行程序简单、简洁、易读。<em class="lt">对吧？</em>只适用于一句俏皮话的家伙。</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="113b" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">4.Else-if</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">使用else-如果很多，如图所示16次</figcaption></figure><p id="0162" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">可以看出这是为了教育的目的。所以，<code class="fe my mz na nb b">switch</code>就足够了。它起作用了，而且对练习有好处。</p><p id="b0e5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">对于经验丰富的开发人员来说，很少有解决方案。一种可能是创建<code class="fe my mz na nb b">Room</code>类。<code class="fe my mz na nb b">Room</code>会按住<code class="fe my mz na nb b">roomNumber</code>，还有一个<code class="fe my mz na nb b">message</code>。</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="b6fe" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">5.箭头反图案</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">箭头反模式的可视示例</figcaption></figure><p id="4102" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">常见的反模式。反模式有一个名称、解决方案和迷因。<strong class="kz is"> Arrow反模式</strong>解决方案需要理清思路，以及良好的OOP实践。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nj"><img src="../Images/31dd136fa7e3116ee877534c512e9c5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q9rolqRj7v0FH8tc.jpg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">Arrow反模式模因</figcaption></figure></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="def3" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">6.为daysOfTheWeek使用地图</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">使用HashMap表示一周中的几天</figcaption></figure><p id="9f64" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">业余代号</em>。从教育角度来说，还可以。<em class="lt">代码有什么问题？</em>有<code class="fe my mz na nb b"><a class="ae kw" href="https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html" rel="noopener ugc nofollow" target="_blank">DayOfWeek</a></code> enum，已实现，准备应用。<em class="lt">专家采用默认实现，迭代速度更快，并且一致。</em></p><p id="076d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">还有什么不正确的？星期一，不是实际的日子，而是数字。</em>周一默认编码为<code class="fe my mz na nb b">1</code>。周一作为<code class="fe my mz na nb b">0</code>会造成混乱，代码难以调试，而且不直观。<em class="lt">在代码中应用默认实现。</em></p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><p id="ac35" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">我输入“Tue ”,并在10天后找到第二天。我期待答案为“Fri”——</em><a class="ae kw" href="https://stackoverflow.com/questions/63805385/find-day-from-string-array-based-on-iteration-using-java" rel="noopener ugc nofollow" target="_blank"><em class="lt">原帖</em> </a></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://stackoverflow.com/questions/63805385/find-day-from-string-array-based-on-iteration-using-java" rel="noopener ugc nofollow" target="_blank">另一个重新发明轮子的片段</a></figcaption></figure><p id="31cf" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">XY问题的一个明显例子</em>。在这里你提出了解决方案Y ，而没有问题X 。看问题，说明问题，不要展示你的解决方案。这里有一个解决这个问题的简单方法。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://stackoverflow.com/a/63805461/5999670" rel="noopener ugc nofollow" target="_blank">简单的解决方法</a></figcaption></figure><p id="c2c5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">查看Java文档。不要多此一举，似乎是老生常谈，但我们还是这样做了。努力使用Java实现，而不是你自己的。<em class="lt">使用默认实现更容易，经过测试，也更容易理解。</em></p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="1aeb" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">7.计算字符串中的非空白字符</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">计数字符</figcaption></figure><p id="2c2f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">根据原帖，这是一个高中老师的<em class="lt">【干净】</em>暗号。<em class="lt">一种可能的解决方案。</em></p><pre class="kh ki kj kk gu nk nb nl nm aw nn bi"><span id="ca83" class="no mc ir nb b gz np nq l nr ns">input.replaceAll("\\s+", "").length();</span></pre><p id="adec" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">有点干净，更容易阅读。但我不是教授，所以你决定吧。</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="f654" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">8.创建对象而不指定它们</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">创建了新的ArrayList()，但没有给变量赋值</figcaption></figure><p id="a718" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">那为什么代码片段不好呢？这令人困惑，耗时，而且init最终会出现在字节码中。根据实验，<a class="ae kw" href="https://www.reddit.com/r/badcode/comments/fknzrm/javaproject_manager_guys_we_really_need_another/fkwwhil?utm_source=share&amp;utm_medium=web2x&amp;context=3" rel="noopener ugc nofollow" target="_blank">一个评论者做了</a>。字节码包含一个未赋值的行。<em class="lt">不要写这样的代码，因为字节码包含无用的行。</em></em></p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><p id="9b83" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在还能看到这样的片段。甚至在官方<a class="ae kw" href="https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html" rel="noopener ugc nofollow" target="_blank">甲骨文文档</a>中。<em class="lt">有什么区别？在unassigned实例上调用了一个方法。</em></p><pre class="kh ki kj kk gu nk nb nl nm aw nn bi"><span id="b674" class="no mc ir nb b gz np nq l nr ns">// correct usage of unassigned instance<br/>public static void main(String args[]) {<br/>        (new HelloThread()).start();<br/>}</span></pre></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="33b2" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">9.诡异的<code class="fe my mz na nb b">isNegative</code>方法</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">isNegative抛出奇怪的异常</figcaption></figure><p id="3913" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">差评。</em>评论没有描述方法。虽然方法不好，但是评论不好。<code class="fe my mz na nb b">isNegative</code>是谓语。A <strong class="kz is">正确注释:</strong><em class="lt">“x为负则返回false，否则返回true”。</em></p><p id="902a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">对控制流使用异常。</em>最坏情况的Java代码。捕获异常后，代码返回true。你不应该再深入下去了。刮这种代码。</p><p id="57b9" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">使用<code class="fe my mz na nb b">System.out.println</code>不好。<em class="lt">为什么？日志检查很困难，你可能会花上几个小时而失去注意力。</em></p><p id="d333" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">当程序被部署时，这些日志会丢失。随着服务器日志记录丢失。使用Logger带来了故障级别，将它们保存在一个文件中，您可以关闭它们。<em class="lt">使用自定义</em> <a class="ae kw" href="https://www.baeldung.com/java-system-out-println-vs-loggers" rel="noopener ugc nofollow" target="_blank"> <em class="lt">记录器</em> </a> <em class="lt">，而不是</em> <code class="fe my mz na nb b"><em class="lt">System.out.println</em></code> <em class="lt">。在我个人看来，伐木更容易。更容易进行事后分析、修复问题和编码。</em></p><p id="4fb0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">你对</em> <code class="fe my mz na nb b"><em class="lt">methodname</em></code> <em class="lt">很好奇？有一种方法可以找到调用者方法。根据<a class="ae kw" href="https://stackoverflow.com/a/2924426/5999670" rel="noopener ugc nofollow" target="_blank">的回答</a>，最好使用<code class="fe my mz na nb b">Reflection</code>。尽可能避免<code class="fe my mz na nb b">Reflection</code>和<a class="ae kw" href="https://stackoverflow.com/a/435568/5999670" rel="noopener ugc nofollow" target="_blank">优化问题</a>。</em></p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="6666" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">外卖食品</h1><p id="46cd" class="pw-post-body-paragraph kx ky ir kz b la mt js lc ld mu jv lf lg mv li lj lk mw lm ln lo mx lq lr ls ik bi translated">我们从坏的例子中学到了很多。坏的例子比好的例子教得更多。他们告诉你应该避免什么。</p><p id="465c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">你对更多糟糕的片段感兴趣？阅读更多尽在<a class="ae kw" href="https://zivce.gumroad.com/l/25BadJavaSnippets" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="lt">我的免费电子书</em> </strong> </a>。</p><p id="0158" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">关键要点:</p><ul class=""><li id="c825" class="nt nu ir kz b la lb ld le lg nv lk nw lo nx ls ny nz oa ob bi translated"><em class="lt">争取一个简单的解决方案</em></li><li id="22b4" class="nt nu ir kz b la oc ld od lg oe lk of lo og ls ny nz oa ob bi translated"><em class="lt">检查你的代码是否有箭头反模式</em></li><li id="f15a" class="nt nu ir kz b la oc ld od lg oe lk of lo og ls ny nz oa ob bi translated"><em class="lt">应用OOP原则避免箭头反模式</em></li><li id="b76a" class="nt nu ir kz b la oc ld od lg oe lk of lo og ls ny nz oa ob bi translated"><em class="lt">接受默认的Java实现，不要多此一举</em></li><li id="f687" class="nt nu ir kz b la oc ld od lg oe lk of lo og ls ny nz oa ob bi translated"><em class="lt">不要使用异常来控制流量</em></li><li id="876a" class="nt nu ir kz b la oc ld od lg oe lk of lo og ls ny nz oa ob bi translated"><em class="lt">依赖自定义记录器而不是默认记录器</em></li></ul><p id="1e5b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="lt">你有不好的例子可以分享吗？</em>贴在评论里。感谢阅读！</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="2d57" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">偷我的电子书</h1><p id="ddb6" class="pw-post-body-paragraph kx ky ir kz b la mt js lc ld mu jv lf lg mv li lj lk mw lm ln lo mx lq lr ls ik bi translated">我已经写了很多糟糕的Java片段。你可以从<a class="ae kw" href="https://zivce.gumroad.com/l/25BadJavaSnippets" rel="noopener ugc nofollow" target="_blank">我的口香糖</a>里偷出来。</p><p id="1f7a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我发现了很多高质量评论的技巧。你可以在这里偷到它们<a class="ae kw" href="https://zivce.gumroad.com/l/become-high-quality-code-reviewer" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><p id="34b3" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这些大多来自<a class="ae kw" href="https://www.reddit.com/r/badcode/top/?t=month" rel="noopener ugc nofollow" target="_blank">子编辑</a>。</p></div></div>    
</body>
</html>