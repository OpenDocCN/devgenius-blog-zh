<html>
<head>
<title>How To Easily Print and Format Tables in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Python 中轻松打印和格式化表格</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-easily-print-and-format-tables-in-python-18bbe2e59f5f?source=collection_archive---------0-----------------------#2022-07-05">https://blog.devgenius.io/how-to-easily-print-and-format-tables-in-python-18bbe2e59f5f?source=collection_archive---------0-----------------------#2022-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="08c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来看看如何以一种快速简单的方式来实现这一点。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/1abaefe8c27bb87d8c86ef86959b9071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rAlNPbaoA15OMZCLcYKbA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">马库斯·斯皮斯克在 Unsplash 上拍摄的照片</figcaption></figure><p id="f179" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">自从我开始职业生涯以来，我一直使用 Microsoft Excel。做了多少张表，算了多少张表，发了多少张表，我都数不过来。</p><p id="1bfb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">自从使用 Python 以来，我意识到我已经不怎么使用表了。例如，在之前一篇关于股票波动的博文中，我是这样显示数据的:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/d87f1436e52f7e9c0add6c05b28e8871.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*QTXvDGE9IvFP_JvBNza5KA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">用 Python 打印数据</figcaption></figure><p id="6e52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">坦率地说，我不会在 Excel 中展示这些，而是在如下表格中展示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ld"><img src="../Images/345b37ba73eedd976798dd9efce3fc2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H9HaZxHOXTwL62hoNN5pww.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">基本 Excel 表格</figcaption></figure><p id="b984" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我想用 Python 将这些数据打印在一个表格中，并意识到我不知道如何以一种简单快捷的方式来完成。</p><p id="c829" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我发现了制表库，我希望它也能帮助你！</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h2 id="9340" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">内容:</h2><ol class=""><li id="3728" class="me mf iq jp b jq mg ju mh jy mi kc mj kg mk kk ml mm mn mo bi translated"><a class="ae lb" href="https://medium.com/p/18bbe2e59f5f#119e" rel="noopener">制表库</a></li><li id="b743" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><a class="ae lb" href="https://medium.com/p/18bbe2e59f5f#f768" rel="noopener">使用制表</a></li><li id="9bad" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><a class="ae lb" href="https://medium.com/p/18bbe2e59f5f#2d3a" rel="noopener">格式化你的表格</a></li><li id="d8d6" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><a class="ae lb" href="https://medium.com/p/18bbe2e59f5f#0ef2" rel="noopener">具体用例</a></li><li id="8e60" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><a class="ae lb" href="https://medium.com/p/18bbe2e59f5f#b6eb" rel="noopener">结论</a></li></ol></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h2 id="119e" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">1.列表库</h2><p id="109b" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">要安装它，您可以执行以下命令:</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="ddc6" class="ll lm iq my b gy nc nd l ne nf">pip install tabulate</span></pre><p id="93ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要开始使用它，您需要导入制表函数</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="3388" class="ll lm iq my b gy nc nd l ne nf">from tabulate import tabulate</span></pre><h2 id="f768" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">2.使用制表</h2><p id="2ec4" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">你可以在这里找到所有的文档。制表函数的第一个参数可以将以下所有数据类型转换成一个表格:</p><ul class=""><li id="c736" class="me mf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj mm mn mo bi translated"><em class="nk">列表的列表或另一个可迭代的列表</em></li><li id="91d5" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk nj mm mn mo bi translated"><em class="nk">列表或另一个字典条目(作为列的关键字)</em></li><li id="62f1" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk nj mm mn mo bi translated"><em class="nk">可重复项的字典(作为列的键)</em></li><li id="0093" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk nj mm mn mo bi translated"><em class="nk">二维数组</em></li><li id="e3ec" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk nj mm mn mo bi translated"><em class="nk"> NumPy 记录数组(名称为列)</em></li><li id="21f3" class="me mf iq jp b jq mp ju mq jy mr kc ms kg mt kk nj mm mn mo bi translated">熊猫。数据帧</li></ul><p id="cf0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，您可以为您的表使用可选参数“headers”。</p><p id="19d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nk">例子</em>:</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="d864" class="ll lm iq my b gy nc nd l ne nf">nba_players = [['LeBron James',' Los Angeles Lakers'], ['Kevin Durant', 'Brooklyn Nets'], ['Stephen Curry', 'Golden State Warriors']]<br/>print(tabulate(nba_players,headers =['Player','Team']))</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/1cb7949464e68133e866aa78e757a7a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*kpxx7b0kFQDefoa8Xd3RMw.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">一张非常简单的桌子</figcaption></figure><h2 id="2d3a" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">3.格式化您的表格</h2><p id="8bfb" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">这里有几种可能性。</p><h2 id="5bab" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">a.表 fmt</h2><p id="ef94" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">添加名为“tablefmt”的参数，并选择所需的样式。</p><p id="1635" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nk">例如:</em></p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="bef3" class="ll lm iq my b gy nc nd l ne nf">print(tabulate(nba_players,headers =['Player','Team'],<strong class="my ir">tablefmt = 'fancy_grid'</strong>))</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/5801ab189f54af5311c233846fcf16f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*DMdMqJ5ONlOxv6yf1IKKrg.png"/></div></figure><p id="65b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在文档中找到许多不同的样式。</p><h2 id="c6bc" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">b.列对齐</h2><p id="55f2" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">您可以使用<strong class="jp ir"> stralign </strong>或<strong class="jp ir"> numalign </strong>来选择以‘居中’，‘右’…的方式显示您的数据</p><p id="18e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nk">例如:</em></p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="0fbf" class="ll lm iq my b gy nc nd l ne nf">print(tabulate(nba_players,headers =['Player','Team'],tablefmt = 'fancy_grid',<strong class="my ir">stralign='center'</strong>))</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/4f513b8f434ee5b936eb36ec6f4c2841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*BBFFuY1ZfQtc1Z1j_vBTQw.png"/></div></figure><p id="7b1f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我让您探索所有其他可选参数。</p><h2 id="0ef2" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">4.具体用例</h2><p id="8884" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">如果我们回到我的第一个例子 Pfizer 和 Moderna 股票，让我们看看我打印它的代码:</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="d076" class="ll lm iq my b gy nc nd l ne nf">import math<br/>daily_volatility_pfe = pfizer['daily_returns'].std()<br/>print('Daily volatility:')<br/>print('Pfizer: ', '{:.2f}%'.format(daily_volatility_pfe))<br/>daily_volatility_mrna = moderna['daily_returns'].std()<br/>print('Moderna: ', '{:.2f}% \n'.format(daily_volatility_mrna))</span><span id="3d36" class="ll lm iq my b gy no nd l ne nf">monthly_volatility_pfe = math.sqrt(21) * daily_volatility_pfe<br/>print('Monthly volatility:')<br/>print ('Pfizer: ', '{:.2f}%'.format(monthly_volatility_pfe))<br/>monthly_volatility_mrna = math.sqrt(21) * daily_volatility_mrna<br/>print ('Moderna: ', '{:.2f}%\n '.format(monthly_volatility_mrna))</span><span id="8ef6" class="ll lm iq my b gy no nd l ne nf">annual_volatility_pfe = math.sqrt(252) * daily_volatility_pfe<br/>print('Annual volatility:')<br/>print ('Pfizer: ', '{:.2f}%'.format(annual_volatility_pfe ))<br/>annual_volatility_mrna = math.sqrt(252) * daily_volatility_mrna<br/>print ('Moderna: ', '{:.2f}%'.format(annual_volatility_mrna ))</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi np"><img src="../Images/a62bfd9811752b9f920fedc8726eb635.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*3WMnoQmMYgWICYqVE0Z7vA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">输出</figcaption></figure><p id="7c8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">借助制表功能和我们之前看到的内容，让我们将这些数据显示在一个表格中:</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="b380" class="ll lm iq my b gy nc nd l ne nf">print(tabulate([['Pfizer',daily_volatility_pfe,monthly_volatility_pfe,annual_volatility_pfe], ['Moderna',daily_volatility_mrna,monthly_volatility_mrna,annual_volatility_mrna]],headers = ['Daily Volatility %', 'Monthly Volatility %', 'Annual Volatility %']<strong class="my ir">,tablefmt = 'fancy_grid',stralign='center',numalign='center',floatfmt=".2f"</strong>))</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nq"><img src="../Images/7e417d2ae9d19f0b757e45dcb61ae546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4tNleDGIBQQnLASzDC6vyA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">这是用 Python 做的表格</figcaption></figure><p id="f003" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会注意到，在' tablefmt '和' stralign'/'numalign '参数之上，我还使用了' floatfmt '来只保留 3 位小数。</p><h2 id="b6eb" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">5.结论</h2><p id="abce" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">使用制表功能将数据放入表格非常简单。我觉得它更自然，更容易阅读。我鼓励您测试和尝试不同的选项。还有更多的可能性！</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="3b41" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你喜欢阅读这篇文章！未来的文章请关注我。它激励我继续下去。</p><p id="46f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你也可以在 LinkedIn 上找到我。</p></div></div>    
</body>
</html>