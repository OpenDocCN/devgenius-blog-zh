<html>
<head>
<title>I created a voice assistant in 180 lines of JS code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我用180行JS代码创建了一个语音助手</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/i-created-a-voice-assistant-in-180-lines-of-js-code-42ff947f85f4?source=collection_archive---------15-----------------------#2020-07-22">https://blog.devgenius.io/i-created-a-voice-assistant-in-180-lines-of-js-code-42ff947f85f4?source=collection_archive---------15-----------------------#2020-07-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a081bd1ba7f6386825cafe38a85dd9a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RT8lFMD0ERDRH565x5j9Xg.png"/></div></div></figure><p id="e9cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就在前几天，我看到有人(<a class="ae kt" href="https://github.com/nhudinhtuan" rel="noopener ugc nofollow" target="_blank">nhudihtuan</a>)用Chrome实验<a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API" rel="noopener ugc nofollow" target="_blank"> WebSpeechAPI </a>做了一个语音识别助手。助手应用程序将听取人类的声音，并将其转换为纯文本。毕竟，它将打开一个新的谷歌搜索标签页。</p><p id="2c57" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">点击这里的链接<a class="ae kt" href="https://nhudinhtuan.github.io/mysiri/" rel="noopener ugc nofollow" target="_blank">试试吧</a>。(仅支持Chrome /新Edge浏览器)</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/b6f6805eb40901bc4113de8412604c3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xNqUDPsa4JfHSfj2.png"/></div></div></figure><p id="2528" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我认为用很少使用的API来做一些有趣的项目是很有趣的。所以我决定做这个语音助手的升级版。我的版本没什么特别的，但它是用<a class="ae kt" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>及其新的<a class="ae kt" href="https://composition-api.vuejs.org/" rel="noopener ugc nofollow" target="_blank">组合api </a>实现的。</p><p id="5d0f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我将带您了解创建这个性感的语音助手的过程。</p><p id="8a07" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">TLDR；</strong></p><h1 id="c4c7" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">演示我的语音助手</h1><blockquote class="lx ly lz"><p id="6420" class="jv jw ma jx b jy jz ka kb kc kd ke kf mb kh ki kj mc kl km kn md kp kq kr ks ig bi translated"><em class="in">空谈不值钱，让我给你看看我的作品</em></p></blockquote><p id="65b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">按住“Hold to Listen”按钮，尝试以下句子(仅适用于Chrome/Edge79+)</p><ul class=""><li id="650a" class="me mf in jx b jy jz kc kd kg mg kk mh ko mi ks mj mk ml mm bi translated"><em class="ma">您好！</em></li><li id="e2f4" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated"><em class="ma">嗨！</em></li><li id="d904" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated">你叫什么名字？</li><li id="ef71" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated">我爱你</li><li id="01d2" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated"><em class="ma">谷歌搜索:</em></li><li id="c105" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated"><em class="ma">……裸体……</em></li></ul><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/4a10f2bbd143c8b2312a9c9063bc6920.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cGpJfL3UjQWDI6rd.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">我的语音助手演示</figcaption></figure><p id="ad4e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">(打开此链接体验演示<a class="ae kt" href="https://daiyanze.com/sexy-voice-assistant/" rel="noopener ugc nofollow" target="_blank">https://daiyanze.com/sexy-voice-assistant/</a>)</p><p id="41cf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您也可以从右侧的选择列表中更改扬声器的声音。目前，我的Mac上支持的声音又多了60种。就我个人而言，我认为凯伦是最流畅的机器人英语演讲者之一。</p><p id="b9b6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我猜你一定尝试过对语音助手说一些其他的东西。但我真的很抱歉地告诉你，只有当你的发言符合上述例子时，它才能正确地回答你。否则，它无法理解。(尽管这只是一个原型)</p><h1 id="bcb3" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">它是如何工作的</h1><p id="c578" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">让我们快速看一下语音助手中使用的语音处理API。这些都是让语音助手变得“性感”的关键人物。</p><h2 id="ba88" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">蜜蜂</h2><ul class=""><li id="71cb" class="me mf in jx b jy mw kc mx kg nn kk no ko np ks mj mk ml mm bi translated">演讲识别:识别你的声音，并将其转换成文本</li></ul><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="493e" class="nb la in nr b gy nv nw l nx ny">// Needs the `webkit` prefix due to lacking of browsers support var recognition = webkitSpeechRecognition()  </span><span id="e427" class="nb la in nr b gy nz nw l nx ny">// Set to `true` to listen to voices <br/>// continuously and return multiple results. <br/>recognition.continuous = true;  </span><span id="f94f" class="nb la in nr b gy nz nw l nx ny">// Start recognition <br/>recognition.start()  </span><span id="92d9" class="nb la in nr b gy nz nw l nx ny">// Stop recognition <br/>recognition.stop()  </span><span id="69fc" class="nb la in nr b gy nz nw l nx ny">// Handle the result <br/>recognition.onresult = function (event) {   console.log(event) }</span></pre><ul class=""><li id="6082" class="me mf in jx b jy jz kc kd kg mg kk mh ko mi ks mj mk ml mm bi translated"><a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis" rel="noopener ugc nofollow" target="_blank">语音合成</a>:获取所有支持的声音并大声说出来</li></ul><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="23f5" class="nb la in nr b gy nv nw l nx ny">var Synth = window.speechSynthesis  </span><span id="4be9" class="nb la in nr b gy nz nw l nx ny">// Speak out loud <br/>Synth.speak(utterThis)  </span><span id="691d" class="nb la in nr b gy nz nw l nx ny">// Cancel speaking <br/>Synth.cancel()  </span><span id="aa0a" class="nb la in nr b gy nz nw l nx ny">// Pause speaking <br/>Synth.pause()  </span><span id="cd65" class="nb la in nr b gy nz nw l nx ny">// Resume speaking <br/>Synth.resume()  </span><span id="be18" class="nb la in nr b gy nz nw l nx ny">// List out voices supported by the OS <br/>Synth.getVoices()</span></pre><ul class=""><li id="e066" class="me mf in jx b jy jz kc kd kg mg kk mh ko mi ks mj mk ml mm bi translated"><a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance" rel="noopener ugc nofollow" target="_blank">语音合成交互</a>:语音请求对象</li></ul><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="24c1" class="nb la in nr b gy nv nw l nx ny">var utterThis = new SpeechSynthesisUtterance()  </span><span id="a573" class="nb la in nr b gy nz nw l nx ny">// Utterance only has properties <br/>// The spoken language <br/>utterThis.lang </span><span id="353f" class="nb la in nr b gy nz nw l nx ny">// The tone or the pitch or voice, ranges from 0 to 2. <br/>// The higher the younger :D <br/>utterThis.pitch </span><span id="db16" class="nb la in nr b gy nz nw l nx ny">// Speaking speed, ranges from 0.1 to 10 <br/>utterThis.rate </span><span id="5f53" class="nb la in nr b gy nz nw l nx ny">// The content to be spoken <br/>utterThis.text </span><span id="1d43" class="nb la in nr b gy nz nw l nx ny">// Speaker's voice. It's an Object <br/>utterThis.voice </span><span id="7c3b" class="nb la in nr b gy nz nw l nx ny">// Speaker's volume <br/>utterThis.volume</span></pre><p id="2eea" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">实际上，这些API是为需要使用语音控制网页的人而创建的，而不是作为聊天机器人提供的。换句话说，当你的团队完成了大多数健壮的特性时。那么这将是一个很好的时机来提升你的网络应用程序的可访问性，以帮助那些需要语音控制的人。</p><h2 id="1679" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">用法示例</h2><p id="11fd" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">你可以在Chrome控制台上通过<strong class="jx io">复制</strong> &amp; <strong class="jx io">粘贴</strong>下面的代码来试试。</p><p id="d64d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">1.语音扬声器:下面的代码将大声说出“hello world”。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="2c54" class="nb la in nr b gy nv nw l nx ny">const utterThis = new SpeechSynthesisUtterance("Hello world")  speechSynthesis.speak(utterThis)</span></pre><p id="fe29" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2.语音到文本:下面的代码将把你的语音转换成文本。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="6e27" class="nb la in nr b gy nv nw l nx ny">const SpeechRecognition = new webkitSpeechRecognition()  </span><span id="a679" class="nb la in nr b gy nz nw l nx ny">// record the voice for 5 seconds SpeechRecognition.start() setTimeout(() =&gt; {   <br/>  SpeechRecognition.stop() <br/>}, 5000)  </span><span id="7f80" class="nb la in nr b gy nz nw l nx ny">SpeechRecognition.onresult = event =&gt; {   <br/>  const result = event.results[event.results.length - 1]   <br/>  if (result.isFinal) {     <br/>    console.log(result[0].transcript)   <br/>  } <br/>}</span></pre><p id="729b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">(以下是结果)</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/321ec13aeb0c34f2e58d2f49510a31bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rKAApQGNxGA7zjwJ.png"/></div></div></figure><h1 id="320d" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">设计</h1><p id="28f7" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">经过对这些<a class="ae kt" href="https://dev.to/daiyanze/i-created-a-sexy-voice-assistant-in-180-lines-of-code-2pp6#apis" rel="noopener ugc nofollow" target="_blank">API</a>的一些练习，我能够用上面的<a class="ae kt" href="https://dev.to/daiyanze/i-created-a-sexy-voice-assistant-in-180-lines-of-code-2pp6#usage-examples" rel="noopener ugc nofollow" target="_blank">示例代码</a>创建一个语音中继器。但是我们需要另一个文本处理器来接收我的消息并返回正确的响应。</p><h2 id="3675" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">工作流程</h2><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oa"><img src="../Images/3b61ca7ca9b452b41e699dc29dfdc7c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WZxs-rwwBSBzBun0.jpg"/></div></div></figure><p id="15c1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">很简单，不是吗？</p><p id="f939" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">工作流程简而言之就是，“<strong class="jx io">讲</strong>”“<strong class="jx io">流程</strong>”和“<strong class="jx io">回复</strong>”。</p><h2 id="008f" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">控制</h2><p id="3600" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">这个设计很简单，容易上手。现在我们需要一些触发器来启用/禁用听声音。所以这里附带了两个“按钮”:</p><ul class=""><li id="7506" class="me mf in jx b jy jz kc kd kg mg kk mh ko mi ks mj mk ml mm bi translated">按住此按钮来录制声音</li><li id="ad83" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated">重置点击此按钮可取消所有操作并重置所有状态</li></ul><p id="361a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望我也可以让声音“可见”，以便对我的聊天有一个直观的历史记录。这意味着我需要一个像这样的消息框:</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="7049" class="nb la in nr b gy nv nw l nx ny">Me: Hello!<br/>You: Hi!</span></pre><p id="c014" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">好吧…我已经为我的语音助手做了所有的想象。现在我们可以开始编码了。</p><h1 id="da03" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">深入编码…</h1><h2 id="7ee5" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">HTML模板</h2><p id="7c12" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">我使用<a class="ae kt" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>作为我的前端框架，这样语音助手的外观可以很容易地原型化。就我的设计而言，我想出了一个非常基本的模板，如下所示。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="cc93" class="nb la in nr b gy nv nw l nx ny">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;pre&gt;&lt;/pre&gt;<br/>    &lt;button&gt;Hold to Listen&lt;/button&gt;<br/>    &lt;button&gt;Reset&lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><h2 id="e733" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">控制器</h2><p id="7320" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">为了启用控件，我在模板中添加了一些函数和道具。现在模板看起来像这样:</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="8f29" class="nb la in nr b gy nv nw l nx ny">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;pre class="message-box" v-html="context"&gt;&lt;/pre&gt;<br/>    &lt;button<br/>      class="button-control"<br/>      @mousedown="listen(true)"<br/>      @mouseup="listen(false)"&gt;<br/>      Hold to Listen<br/>    &lt;/button&gt;<br/>    &lt;button class="button-control" @click="reset"&gt;Reset&lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="f083" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">至于逻辑部分，我使用了<a class="ae kt" href="https://composition-api.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> vue-composition-api </a>来返回模板的属性。下面这些代码足以在启用按钮的同时消除错误。现在，它只是一副骨架。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="9631" class="nb la in nr b gy nv nw l nx ny">&lt;script&gt;<br/>import { toRefs, reactive } from 'vue-composition-api'</span><span id="e9f8" class="nb la in nr b gy nz nw l nx ny">export default {<br/>  setup () {<br/>    const state = reactive({<br/>      context: 'Hello!'<br/>    })</span><span id="cc77" class="nb la in nr b gy nz nw l nx ny">    const listen = start =&gt; {}</span><span id="fa7d" class="nb la in nr b gy nz nw l nx ny">    const reset = () =&gt; {}</span><span id="c72b" class="nb la in nr b gy nz nw l nx ny">    return {<br/>      ...toRefs(state),<br/>      listen<br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span></pre><h2 id="6ecd" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">认出声音了吗</h2><p id="e657" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">目标非常明确:</p><blockquote class="lx ly lz"><p id="f4c1" class="jv jw ma jx b jy jz ka kb kc kd ke kf mb kh ki kj mc kl km kn md kp kq kr ks ig bi translated">让浏览器将我的声音转换成文本。</p></blockquote><p id="4c90" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我将使用<code class="fe ob oc od nr b">listen</code>功能来控制语音识别。并设置一个回调函数来处理识别结果。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="5e04" class="nb la in nr b gy nv nw l nx ny">const SpeechRecognition = window.webkitSpeechRecognition &amp;&amp; new window.webkitSpeechRecognition()<br/>SpeechRecognition &amp;&amp; (SpeechRecognition.interimResults = true)</span><span id="d787" class="nb la in nr b gy nz nw l nx ny">const listen = start =&gt; {<br/>  if (!SpeechRecognition) return</span><span id="c6cc" class="nb la in nr b gy nz nw l nx ny">  if (start) {<br/>    SpeechRecognition.start()<br/>  } else {<br/>    SpeechRecognition.stop()<br/>  }<br/>}</span><span id="fed4" class="nb la in nr b gy nz nw l nx ny">const reset = () =&gt; {<br/>  if (!SpeechRecognition) return</span><span id="3d65" class="nb la in nr b gy nz nw l nx ny">  state.context = '&lt;b&gt;' + state.name + '&lt;/b&gt;' + ': Hi, my hero!'<br/>  speechSynthesis.cancel()<br/>}</span><span id="0ddc" class="nb la in nr b gy nz nw l nx ny">SpeechRecognition.onresult = event =&gt; {<br/>  const result = event.results[event.results.length - 1]</span><span id="79f6" class="nb la in nr b gy nz nw l nx ny">  if (result.isFinal) {<br/>    state.context = result[0].transcript<br/>  }<br/>}</span></pre><h2 id="1ebe" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">创建回复文本</h2><p id="d9c9" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">我不是在创造一个全能的AI聊天机器人(这对我来说太难了)，而是一个足以处理文本的东西。简而言之，我的想法是创建一个处理器，它将根据我所说的话生成回复文本。</p><p id="58a9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我就把函数名设为<code class="fe ob oc od nr b">process</code>。有了一些<code class="fe ob oc od nr b">if else</code>的声明，我们就完事了。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="4030" class="nb la in nr b gy nv nw l nx ny">const process = (msg, voice) =&gt; {<br/>  const content = msg.toLowerCase()</span><span id="3648" class="nb la in nr b gy nz nw l nx ny">  if (/^google search/g.test(content)) {<br/>    const url = `https://google.com/search?q=${msg.replace('Google search ', '')}`<br/>    window.open(url, '_blank')<br/>    return `Base on your query, I found some search results on Google`<br/>  } else if (/your name/g.test(content)) {<br/>    return `My name is ${voice.name}.`<br/>  } else if (/(hello|hi)/g.test(content)) {<br/>    return 'Hi! Nice to meet you!'<br/>  } else if (/love you/g.test(content)) {<br/>    return 'I love you too. And I\'ll love you forever!'<br/>  } else if (/(naked|nude|tits|breast|butt|ass|shit|dick|pussy|asshole)/g.test(content)) {<br/>    return 'I know I love you but can you show some politeness in front of a lady?'<br/>  }</span><span id="b34a" class="nb la in nr b gy nz nw l nx ny">  return 'Sorry, my sweetheart. I don\'t understand. Could you try something else?'<br/>}</span></pre><p id="31dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">做个小测试:当我说“我爱你”的时候。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="42f9" class="nb la in nr b gy nv nw l nx ny">process('I love you')<br/>// I love you too. And I'll love you forever!</span></pre><h2 id="1f41" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">建立一个“性感”的声音</h2><p id="c81b" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">实际上，在我们的操作系统中隐藏着许多不同的说话声音。<a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis" rel="noopener ugc nofollow" target="_blank"> SpeechSynthesis </a> API允许我们使用这些声音来替换默认的声音。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="f454" class="nb la in nr b gy nv nw l nx ny">var voices = window.speechSynthesis.getVoices()</span></pre><p id="1aff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以我的Mac为例，有<strong class="jx io"> 66 </strong>种语音可供选择。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/1ba6f804f664e2bebb1ae8e401a28147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yly_BbNuMAMV0rJK.png"/></div></div></figure><p id="4051" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe ob oc od nr b">speechSynthesis.getVoices</code>是不可预测的，必须确保它返回一个非空列表。所以我创建了另一个异步函数，通过即时检查来解析列表。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="9adb" class="nb la in nr b gy nv nw l nx ny">const getVoices = async (window) =&gt; {<br/>  let id, res</span><span id="2a89" class="nb la in nr b gy nz nw l nx ny">  await new Promise((resolve, reject) =&gt; {<br/>    id = setInterval(() =&gt; {<br/>      res = window.speechSynthesis.getVoices()<br/>      if (res.length !== 0) {<br/>        resolve(res)<br/>        clearInterval(id)<br/>      }<br/>    }, 10)<br/>  })</span><span id="2e61" class="nb la in nr b gy nz nw l nx ny">  return res<br/>}</span></pre><p id="4400" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了确保声音足够“性感”，我测试了所有的声音。对于女声，我选择<strong class="jx io">《凯伦》</strong>。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/7fcbf285fb22f3d0804225913184ae31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4LBOZsAFy9frYclU.png"/></div></div></figure><p id="d55e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">两票赞成<strong class="jx io">“凯伦”</strong>:</p><ul class=""><li id="e9ec" class="me mf in jx b jy jz kc kd kg mg kk mh ko mi ks mj mk ml mm bi translated">她说话很流畅</li><li id="0ac7" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated">调高一点音调会让她的声音更可爱</li></ul><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="ce3f" class="nb la in nr b gy nv nw l nx ny">onMounted(async () =&gt; {<br/>  const voices = await getVoices()<br/>  const voiceKaren = voices[17]<br/>})</span></pre><h2 id="735f" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">大声说出来</h2><p id="69d9" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">我已经得到了我需要的所有资源。下一步是使用响应处理器创建文本，并允许演讲者显示音频。说话的时机就在语音识别之后。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="2ed9" class="nb la in nr b gy nv nw l nx ny">onMounted(async () =&gt; {<br/>  const voices = await getVoices()<br/>  const voiceKaren = voices[17]</span><span id="6e86" class="nb la in nr b gy nz nw l nx ny">  // The final function to speak out the response text<br/>  const speechSpeaker = (text, voice) =&gt; {<br/>    utterThis.text = text<br/>    utterThis.voice = voice<br/>    utterThis.pitch = 1.4 // This sounds better<br/>    utterThis.lang = voice.lang<br/>    window.speechSynthesis.speak(utterThis)<br/>  }</span><span id="d970" class="nb la in nr b gy nz nw l nx ny">  SpeechRecognition.onresult = event =&gt; {<br/>    const result = event.results[event.results.length - 1]</span><span id="521c" class="nb la in nr b gy nz nw l nx ny">    if (result.isFinal) {<br/>      state.context = '\n&lt;b&gt;Me:&lt;/b&gt; ' + result[0].transcript</span><span id="1fdc" class="nb la in nr b gy nz nw l nx ny">      const reply = process(result[0].transcript, voice)</span><span id="4c77" class="nb la in nr b gy nz nw l nx ny">      state.context += '\n&lt;b&gt;' + voice.name + '&lt;/b&gt;: ' + reply</span><span id="8d91" class="nb la in nr b gy nz nw l nx ny">      speechSpeaker(reply, voiceKaren)<br/>    }<br/>  }<br/>})</span></pre><p id="e64e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">经过几次测试，感觉我说话后马上听到回应声音很怪异。因此，将响应延迟600毫秒会更自然一些。</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="f63c" class="nb la in nr b gy nv nw l nx ny">SpeechRecognition.onresult = event =&gt; {<br/>    const result = event.results[event.results.length - 1]</span><span id="bfd5" class="nb la in nr b gy nz nw l nx ny">    if (result.isFinal) {<br/>      state.context = '\n&lt;b&gt;Me:&lt;/b&gt; ' + result[0].transcript</span><span id="89fd" class="nb la in nr b gy nz nw l nx ny">      const reply = process(result[0].transcript, voice)</span><span id="6b9e" class="nb la in nr b gy nz nw l nx ny">      setTimeout(() =&gt; {<br/>        state.context += '\n&lt;b&gt;' + voice.name + '&lt;/b&gt;: ' + reply</span><span id="7c26" class="nb la in nr b gy nz nw l nx ny">        speechSpeaker(reply, voiceKaren)<br/>      }, 600)<br/>    }<br/>  }</span></pre><h2 id="4d04" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">式样</h2><p id="2d86" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">我使用<a class="ae kt" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwindcss </a>来设计我的语音助手，因为它提供了更多的可定制性。</p><p id="5ce7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe ob oc od nr b">&lt;style&gt;&lt;/style&gt;</code>看起来是这样的:</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="5569" class="nb la in nr b gy nv nw l nx ny">.button-control {<br/>  @apply font-semibold;<br/>  @apply px-4 py-2;<br/>  @apply mr-2 mb-2;<br/>  @apply bg-gray-600;<br/>  @apply rounded-sm;<br/>  @apply shadow-2xl;<br/>  @apply text-white;</span><span id="05b3" class="nb la in nr b gy nz nw l nx ny">  &amp;:focus {<br/>    @apply outline-none;<br/>  }</span><span id="1b70" class="nb la in nr b gy nz nw l nx ny">  &amp;:active {<br/>    @apply bg-gray-700;<br/>    @apply shadow-none;<br/>  }<br/>}</span><span id="0459" class="nb la in nr b gy nz nw l nx ny">.message-box {<br/>  @apply relative;<br/>  @apply h-48;<br/>  @apply overflow-y-scroll;<br/>  @apply rounded-sm;<br/>  @apply border border-solid border-gray-300;<br/>  @apply p-2;<br/>  @apply mb-2;<br/>  @apply leading-6;<br/>}</span><span id="cd05" class="nb la in nr b gy nz nw l nx ny">.voice-options {<br/>  @apply font-semibold;<br/>  @apply bg-gray-100;<br/>  @apply px-2 py-1;<br/>  @apply mr-2 mb-2;<br/>  @apply rounded-sm;<br/>  @apply border-2 border-solid border-gray-100;<br/>  @apply shadow-md;</span><span id="0d4d" class="nb la in nr b gy nz nw l nx ny">  &amp;:focus {<br/>    @apply outline-none;<br/>  }<br/>}</span></pre><h2 id="4d16" class="nb la in bd lb nc nd dn lf ne nf dp lj kg ng nh ln kk ni nj lr ko nk nl lv nm bi translated">UX优化</h2><p id="0437" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">现在我有两个好主意让它变得更好:</p><ul class=""><li id="ffc0" class="me mf in jx b jy jz kc kd kg mg kk mh ko mi ks mj mk ml mm bi translated">允许从下拉列表中选择语音</li><li id="876e" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated">让消息框滚动条跟随最新消息</li></ul><p id="1252" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有了这2个想法，我的“性感”语音助手的最终原型就出来了。</p><p id="6d48" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我给你看完整的源代码:</p><pre class="kv kw kx ky gt nq nr ns nt aw nu bi"><span id="3ee4" class="nb la in nr b gy nv nw l nx ny">&lt;template&gt;<br/>  &lt;div class="mx-auto w-full"&gt;<br/>    &lt;pre class="message-box" v-html="context" ref="messageBox"&gt;&lt;/pre&gt;<br/>    &lt;button class="button-control" @mousedown="listen(true)" @mouseup="listen(false)"&gt;Hold to Listen&lt;/button&gt;<br/>    &lt;button class="button-control" @click="reset"&gt;Reset&lt;/button&gt;<br/>    &lt;select class="voice-options" v-model="activeVoiceIdx"&gt;<br/>      &lt;option :key="key" :value="key" :selected="key === activeVoiceIdx" v-for="(val, key) in voices"&gt;<br/>        {{ val.name }} ({{ val.lang }})<br/>      &lt;/option&gt;<br/>    &lt;/select&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="9468" class="nb la in nr b gy nz nw l nx ny">&lt;script&gt;<br/>import { onMounted, reactive, toRefs, ref } from '@vue/composition-api'</span><span id="bd49" class="nb la in nr b gy nz nw l nx ny">export default {<br/>  setup (_, { root }) {<br/>    const getVoices = async (window) =&gt; {<br/>      let id, res</span><span id="0a0a" class="nb la in nr b gy nz nw l nx ny">      await new Promise((resolve, reject) =&gt; {<br/>        id = setInterval(() =&gt; {<br/>          res = window.speechSynthesis.getVoices()<br/>          if (res.length !== 0) {<br/>            resolve(res)<br/>            clearInterval(id)<br/>          }<br/>        }, 10)<br/>      })</span><span id="f51f" class="nb la in nr b gy nz nw l nx ny">      return res<br/>    }</span><span id="106a" class="nb la in nr b gy nz nw l nx ny">    const process = (msg, voice) =&gt; {<br/>      const content = msg.toLowerCase()</span><span id="c455" class="nb la in nr b gy nz nw l nx ny">      if (/^google search/g.test(content)) {<br/>        const url = `https://google.com/search?q=${msg.replace('Google search ', '')}`<br/>        window.open(url, '_blank')<br/>        return `Base on your query, I found some search results on Google`<br/>      } else if (/your name/g.test(content)) {<br/>        return `My name is ${voice.name}.`<br/>      } else if (/(hello|hi)/g.test(content)) {<br/>        return 'Hi! Nice to meet you!'<br/>      } else if (/love you/g.test(content)) {<br/>        return 'I love you too. And I\'ll love you forever!'<br/>      } else if (/(naked|nude|tits|breast|butt|ass|shit|dick|pussy|asshole)/g.test(content)) {<br/>        return 'I know I love you but can you show some politeness in front of a lady?'<br/>      }</span><span id="0448" class="nb la in nr b gy nz nw l nx ny">      return 'Sorry, my sweetheart. I don\'t understand. Could you try something else?'<br/>    }</span><span id="fba0" class="nb la in nr b gy nz nw l nx ny">    const state = reactive({<br/>      name: '',<br/>      context: 'Sorry, your browser doesn\'t support SpeechRecognition. Please use Chrome / Edge79+ instead.',<br/>      voices: [],<br/>      activeVoiceIdx: 17<br/>    })</span><span id="a0a3" class="nb la in nr b gy nz nw l nx ny">    const messageBox = ref(null)</span><span id="34ce" class="nb la in nr b gy nz nw l nx ny">    const SpeechRecognition = window.webkitSpeechRecognition &amp;&amp; new window.webkitSpeechRecognition()<br/>    SpeechRecognition &amp;&amp; (SpeechRecognition.interimResults = true)</span><span id="9256" class="nb la in nr b gy nz nw l nx ny">    const listen = start =&gt; {<br/>      if (!SpeechRecognition) return</span><span id="f064" class="nb la in nr b gy nz nw l nx ny">      if (start) {<br/>        SpeechRecognition.start()<br/>      } else {<br/>        SpeechRecognition.stop()<br/>      }<br/>    }</span><span id="5390" class="nb la in nr b gy nz nw l nx ny">    const reset = () =&gt; {<br/>      if (!SpeechRecognition) return</span><span id="502c" class="nb la in nr b gy nz nw l nx ny">      state.context = '&lt;b&gt;' + state.name + '&lt;/b&gt;' + ': Hi, my hero!'<br/>      speechSynthesis.cancel()<br/>    }</span><span id="f0e3" class="nb la in nr b gy nz nw l nx ny">    onMounted(async () =&gt; {</span><span id="d2df" class="nb la in nr b gy nz nw l nx ny">      if (!window.webkitSpeechRecognition) return</span><span id="2edf" class="nb la in nr b gy nz nw l nx ny">      state.voices = await getVoices(window)<br/>      state.name = state.voices[state.activeVoiceIdx].name<br/>      state.context = '&lt;b&gt;' + state.name + '&lt;/b&gt;' + ': Hi, my hero!'</span><span id="ab11" class="nb la in nr b gy nz nw l nx ny">      const utterThis = new window.SpeechSynthesisUtterance()</span><span id="d9c7" class="nb la in nr b gy nz nw l nx ny">      const speechSpeaker = (text, voice) =&gt; {<br/>        utterThis.text = text<br/>        utterThis.voice = voice<br/>        utterThis.pitch = 1.4<br/>        utterThis.lang = voice.lang<br/>        window.speechSynthesis.speak(utterThis)<br/>      }</span><span id="bf74" class="nb la in nr b gy nz nw l nx ny">      SpeechRecognition.onresult = event =&gt; {<br/>        const result = event.results[event.results.length - 1]</span><span id="c9c6" class="nb la in nr b gy nz nw l nx ny">        if (result.isFinal) {<br/>          state.context += '\n&lt;b&gt;Me:&lt;/b&gt; ' + result[0].transcript</span><span id="e61d" class="nb la in nr b gy nz nw l nx ny">          const voice = state.voices[state.activeVoiceIdx]<br/>          const reply = process(result[0].transcript, voice)<br/>          root.$nextTick(() =&gt; {<br/>            messageBox.value.scrollTop = messageBox.value.scrollHeight<br/>          })</span><span id="8c2c" class="nb la in nr b gy nz nw l nx ny">          setTimeout(() =&gt; {<br/>            state.context += '\n&lt;b&gt;' + voice.name + '&lt;/b&gt;: ' + reply</span><span id="24ef" class="nb la in nr b gy nz nw l nx ny">            root.$nextTick(() =&gt; {<br/>              messageBox.value.scrollTop = messageBox.value.scrollHeight<br/>            })</span><span id="8790" class="nb la in nr b gy nz nw l nx ny">            speechSpeaker(reply, voice)<br/>          }, 600)<br/>        }<br/>      }</span><span id="8185" class="nb la in nr b gy nz nw l nx ny">    })</span><span id="6bed" class="nb la in nr b gy nz nw l nx ny">    return {<br/>      ...toRefs(state),<br/>      listen,<br/>      reset,<br/>      messageBox<br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span><span id="73f4" class="nb la in nr b gy nz nw l nx ny">&lt;style lang="postcss" scoped&gt;<br/>.button-control {<br/>  @apply font-semibold;<br/>  @apply px-4 py-2;<br/>  @apply mr-2 mb-2;<br/>  @apply bg-gray-600;<br/>  @apply rounded-sm;<br/>  @apply shadow-2xl;<br/>  @apply text-white;</span><span id="4756" class="nb la in nr b gy nz nw l nx ny">  &amp;:focus {<br/>    @apply outline-none;<br/>  }</span><span id="ebc3" class="nb la in nr b gy nz nw l nx ny">  &amp;:active {<br/>    @apply bg-gray-700;<br/>    @apply shadow-none;<br/>  }<br/>}</span><span id="a2f0" class="nb la in nr b gy nz nw l nx ny">.message-box {<br/>  @apply relative;<br/>  @apply h-48;<br/>  @apply overflow-y-scroll;<br/>  @apply rounded-sm;<br/>  @apply border border-solid border-gray-300;<br/>  @apply p-2;<br/>  @apply mb-2;<br/>  @apply leading-6;<br/>}</span><span id="736e" class="nb la in nr b gy nz nw l nx ny">.voice-options {<br/>  @apply font-semibold;<br/>  @apply bg-gray-100;<br/>  @apply px-2 py-1;<br/>  @apply mr-2 mb-2;<br/>  @apply rounded-sm;<br/>  @apply border-2 border-solid border-gray-100;<br/>  @apply shadow-md;</span><span id="0c29" class="nb la in nr b gy nz nw l nx ny">  &amp;:focus {<br/>    @apply outline-none;<br/>  }<br/>}<br/>&lt;/style&gt;</span></pre><p id="5f1b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你也可以在我的Github上找到源码:<br/><a class="ae kt" href="https://github.com/daiyanze/sexy-voice-assistant" rel="noopener ugc nofollow" target="_blank">https://github.com/daiyanze/sexy-voice-assistant</a></p><h1 id="f228" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">参考</h1><ul class=""><li id="32e5" class="me mf in jx b jy mw kc mx kg nn kk no ko np ks mj mk ml mm bi translated"><a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/speechsynthesisuterance</a></li><li id="3de2" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated"><a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/speech synthesis</a></li><li id="bd00" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated"><a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/speech recognition</a></li><li id="9985" class="me mf in jx b jy mn kc mo kg mp kk mq ko mr ks mj mk ml mm bi translated">【https://github.com/nhudinhtuan T4】</li></ul></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><p id="6ccb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">原本在<a class="ae kt" href="https://pitayan.com" rel="noopener ugc nofollow" target="_blank">上的pitayan.com</a>T8<a class="ae kt" href="https://pitayan.com/posts/voice-assistant/" rel="noopener ugc nofollow" target="_blank">https://pitayan.com/posts/voice-assistant/</a></p><div class="ol om gp gr on oo"><a href="https://pitayan.com/posts/voice-assistant/" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd io gy z fp ot fr fs ou fu fw im bi translated">我用180行代码创造了一个性感的语音助手——皮塔扬</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">就在前几天，看到有人(nhudinhtuan)用Chrome实验做了一个语音识别助手…</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">pitayan.com</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc jt oo"/></div></div></a></div></div></div>    
</body>
</html>