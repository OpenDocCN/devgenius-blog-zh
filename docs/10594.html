<html>
<head>
<title>How to Find Out Duplicates in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 R 中找出重复项</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-find-out-duplicates-in-r-715d007c721a?source=collection_archive---------7-----------------------#2022-11-14">https://blog.devgenius.io/how-to-find-out-duplicates-in-r-715d007c721a?source=collection_archive---------7-----------------------#2022-11-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="73d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">清理数据是一项艰巨的任务，通常需要花费大量时间来提取项目所需的信息。有时，您会意识到在您的数据集中有重复多次的相同记录。这可能会导致不准确的报告。在今天的话题中，我想讨论一下在进行数据分析时，我们如何<em class="ki">找出 R </em>中的重复项。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/ac3874853da1b68b7a8634dbfa16b546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tcHqor4pP1rsnqw-qID9tw.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">如何在 R 中找到重复项</figcaption></figure><p id="41b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看下面的样本数据集:</p><pre class="kk kl km kn gt kz la lb bn lc ld bi"><span id="a6a1" class="le lf in la b be lg lh l li lj">library(dplyr)<br/>df &lt;- data.frame(SEQ = 1:10, <br/>FIRST_LAST = c("Aleksander, Fraser","Eden, Connor","Joao, Snider",<br/>"Micah, Hess","Hashim, Burns","Joe, Deacon", "Aleksander, Fraser", <br/>"Micah, Hess","Aleksander, Fraser","Aleksander, Fraser"))</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/7d9bffba5fd0ce07d19e15f6d20740d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*A1qyVQ62p7oqMTEqmxTdYw.png"/></div></figure><p id="726a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到<strong class="jm io">亚历山大、弗雷泽</strong>和<strong class="jm io">迈卡、赫斯</strong>是复制品。我们需要找到一个解决方案来过滤这些重复或没有重复。我们可以使用<code class="fe ll lm ln la b"><strong class="jm io">duplicated()</strong></code>函数找出重复项。让它成为一个功能，以便我们将来可以重用它。</p><pre class="kk kl km kn gt kz la lb bn lc ld bi"><span id="89ac" class="le lf in la b be lg lh l li lj">find_up &lt;- function(data){<br/>  data[duplicated(data)]}</span></pre><p id="429b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你传递一个字符串向量，它将返回一个只有重复的字符串向量。例如，<code class="fe ll lm ln la b"><strong class="jm io">find_up(df$FIRST_LAST)</strong></code>将返回</p><pre class="kk kl km kn gt kz la lb bn lc ld bi"><span id="af42" class="le lf in la b be lg lh l li lj">find_up(df$FIRST_LAST)<br/>[1]"Aleksander, Fraser" "Micah, Hess" "Aleksander, Fraser" "Aleksander, Fraser"</span></pre><p id="5159" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">返回与<strong class="jm io">SEQ</strong>7，8，9 和<strong class="jm io"> 10 </strong>相关的记录。你还记得当我们想用<code class="fe ll lm ln la b"><strong class="jm io">%in%</strong></code>算子过滤时，我们需要一个矢量，对吗？<code class="fe ll lm ln la b"><strong class="jm io">find_up(df$FIRST_LAST)</strong></code>的结果是一个向量。通过理解，我们可以在<code class="fe ll lm ln la b"><strong class="jm io">filter</strong>()</code>函数中应用它。</p><pre class="kk kl km kn gt kz la lb bn lc ld bi"><span id="68ff" class="le lf in la b be lg lh l li lj">df2 &lt;- df %&gt;% <br/>  filter(FIRST_LAST %in% find_up(FIRST_LAST))</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/a956f3793094913d2546bd390be46a8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*MbWQDmMt7wPBYEOAlEhc0w.png"/></div></figure><p id="dee1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以在这里看到，它用一行代码返回所有的副本。现在，您可以仔细查看您的副本，然后决定是保留还是删除它们。同时，如果您想过滤掉完全不重复的名字，您可以使用<strong class="jm io">而不是</strong>T5】运算符，并在<strong class="jm io">后面加上</strong> <strong class="jm io">感叹号</strong> ( <strong class="jm io">！</strong>)如下:</p><pre class="kk kl km kn gt kz la lb bn lc ld bi"><span id="a709" class="le lf in la b be lg lh l li lj">df2 &lt;- df %&gt;% <br/>  filter(!FIRST_LAST %in% find_up(FIRST_LAST))</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/be9c9f5adeed772b16327f6e0fa649e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*OGkQNB-pUOuWwgAH8PjeJA.png"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">不重复的名称</figcaption></figure></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><p id="69aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这一步，您可以找出重复的和非重复的。您可能想知道如何才能只获得不同的/唯一的值。您可以使用<code class="fe ll lm ln la b"><strong class="jm io">distinct()</strong></code>来完成此操作。</p><pre class="kk kl km kn gt kz la lb bn lc ld bi"><span id="d208" class="le lf in la b be lg lh l li lj">df2 &lt;- df %&gt;% <br/>  distinct(FIRST_LAST, .keep_all = TRUE)</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/d57d03aaec9c3be0a037f476d8a30c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*jEHkgyBv6_KWzuIQlmDjmg.png"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">删除 R 中的重复项</figcaption></figure><p id="32ed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">记住带<code class="fe ll lm ln la b"><strong class="jm io">.keep_all = TRUE</strong></code>的选项，如果不指定<code class="fe ll lm ln la b"><strong class="jm io">.kepp_all = TRUE</strong></code>，它将只返回列<strong class="jm io"> FIRST_LAST </strong>。如果您指定<code class="fe ll lm ln la b"><strong class="jm io">.keep_all = TRUE</strong></code>，它也将保留其他列。</p><p id="3487" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在数据分析中，过滤掉重复数据是非常重要的一部分。它能让你更近距离地观察你的数据。在这一步，你可以根据你的上下文来检查并决定是保留还是删除它们。</p><p id="9978" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天有一个小提示，当你处理副本的时候，我希望你会发现它很有用，不要忘记给我你的任何反馈。</p></div></div>    
</body>
</html>