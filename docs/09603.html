<html>
<head>
<title>Automate your AWS deployments with CircleCI, and Terraform.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 CircleCI 和 Terraform 自动完成 AWS 部署。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/automate-your-aws-deployments-with-circleci-and-terraform-975c9131f2d5?source=collection_archive---------6-----------------------#2022-08-31">https://blog.devgenius.io/automate-your-aws-deployments-with-circleci-and-terraform-975c9131f2d5?source=collection_archive---------6-----------------------#2022-08-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3a75bc18e858cc5ad7f602d5f0fa5ef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KD6vYFOZsN83KkQz1wc7cA.png"/></div></div></figure><p id="65a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你好，欢迎来到另一篇博文。谢谢你的出现。今天，我们将了解一个非常棒的工具，它将在部署过程中节省我们大量的时间。</p><p id="3890" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">是的，我说的是哈希公司的 Terraform。</p><p id="b907" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么什么是 Terraform 呢？</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/447a05530b29a9492b9504e14058ffb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/1*Z8igJIucQ7kXswYOP2s-9A.gif"/></div></figure><p id="27f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Terraform 是一个基础设施代码工具，允许您在可读的配置文件中定义云和本地资源，您可以对这些文件进行版本控制、重用和共享。然后，您可以使用一致的工作流在整个生命周期中调配和管理您的所有基础架构。您可以轻松地将其与 CircleCI 或 Jenkins 等 CI 工具连接起来。或者甚至通过下载在你的机器上使用它。</p><p id="034f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从上面介绍中的图片，你应该已经猜到了工作流程。所以，我认为我们不应该再浪费时间去描述它了。让我们从安装 Terraform 开始，并将其与 CircleCI 连接起来，以实现整个流程的自动化。</p><p id="0b58" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">说够了！开始编码吧。</p><p id="bf83" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">和往常一样，我假设你已经准备好了你那令人敬畏的 react 项目。所以，是时候向世界展示了。</p><p id="7be9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里有一些先决条件。</p><ul class=""><li id="b4ce" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">关于<a class="ae lh" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">AWS</strong></a><a class="ae lh" href="https://circleci.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">circle ci</strong></a><a class="ae lh" href="https://slack.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">Slack</strong></a><strong class="jx io">。</strong></li></ul><p id="f63c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">(附注:</strong>如果您没有一个或多个帐户，请创建一个。)</p><ul class=""><li id="1677" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">关于<strong class="jx io">反应</strong>的一些基础知识。</li></ul><p id="2b2b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就这些了，没有其他要求了。</p><p id="dd62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们从建立 CircleCI 管道开始。</p><ul class=""><li id="11dc" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">前往<a class="ae lh" href="https://app.circleci.com" rel="noopener ugc nofollow" target="_blank">https://app.circleci.com</a>，点击侧边栏中的项目选项卡。</li></ul><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi li"><img src="../Images/44cb06383d92ae4361baddb0bc73b080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zUHyxZsFNmsKqlvHj8qUYA.png"/></div></div></figure><ul class=""><li id="04ac" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">确保您的项目在 Github 存储库中(私有或公共)。</li><li id="cad8" class="ky kz in jx b jy lj kc lk kg ll kk lm ko ln ks ld le lf lg bi translated">当您在项目部分找到您的存储库时，单击标有“设置项目”的蓝色按钮。</li><li id="75b1" class="ky kz in jx b jy lj kc lk kg ll kk lm ko ln ks ld le lf lg bi translated">从给定选项中选择<strong class="jx io">快速</strong>并点击“设置项目”。</li></ul><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/d69b7492505f7535312d41e1facf4a2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*Pa3oD26Ps4yoTVhXypXZEA.png"/></div></figure><ul class=""><li id="e5aa" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">选择“跳过这一步”,因为我们将从头开始设置我们的管道。</li></ul><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lp"><img src="../Images/9ddb2f0632ffd255f719593e11c42e29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KwLxfqu6oQM7-aKrWQy0aA.png"/></div></div></figure><ul class=""><li id="e5ae" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">现在只需点击“Commit and Run”按钮，我们就可以获得 circleci 配置文件并应用我们的管道。</li><li id="643f" class="ky kz in jx b jy lj kc lk kg ll kk lm ko ln ks ld le lf lg bi translated">如果你现在在 Github 上检查你的库，你会看到一个新的分支被创建，命名为“<a class="ae lh" href="https://github.com/DibyajyotiMishra/CloudProject/tree/circleci-project-setup" rel="noopener ugc nofollow" target="_blank"> circleci-project-setup </a>”。切换到该分支并导航到。circleci/config.yml。</li><li id="f8c8" class="ky kz in jx b jy lj kc lk kg ll kk lm ko ln ks ld le lf lg bi translated">现在添加以下代码:</li></ul><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="a137" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在 CircleCI 已经设置好了，让我们也为我们的基础设施设置 Terraform。</p><ul class=""><li id="9663" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">创建一个名为 infrastructure 或任何你喜欢的名字的文件夹。</li><li id="177a" class="ky kz in jx b jy lj kc lk kg ll kk lm ko ln ks ld le lf lg bi translated">创建一个文件 main.tf 并添加以下几行。</li></ul><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="lq lr l"/></div></figure><ul class=""><li id="082a" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">现在创建一个文件 variables.tf .并添加以下代码行。</li></ul><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="lq lr l"/></div></figure><ul class=""><li id="b059" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">创建一个文件 s3.tf 来存储 s3 bucket 的配置。</li></ul><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="lq lr l"/></div></figure><ul class=""><li id="c034" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">创建一个名为 cloudfront.tf 的文件，它将作为在 AWS 上安装 cloudfront 的配置文件。</li></ul><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="lq lr l"/></div></figure><ul class=""><li id="3841" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">最后，创建一个名为 outputs.tf 的文件，并添加以下几行:</li></ul><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="d0cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你都准备好了。现在提交您的代码来触发 CircleCI 构建过程，每次提交到您的分支时，您就可以部署您的网站了。</p><p id="6f55" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望你喜欢这个教程，它在某种程度上帮助了你。如果你有任何疑问，给我发短信。</p><p id="fdf5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">祝你愉快。💜</p></div></div>    
</body>
</html>