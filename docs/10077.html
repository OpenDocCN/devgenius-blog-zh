<html>
<head>
<title>Day 46: Reloading! The Ammo Collectible</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第 46 天:重装！弹药收藏品</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-46-reloading-the-ammo-collectible-3e501f4fa59c?source=collection_archive---------6-----------------------#2022-10-05">https://blog.devgenius.io/day-46-reloading-the-ammo-collectible-3e501f4fa59c?source=collection_archive---------6-----------------------#2022-10-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/af811d648b652351b67017605cc2dde7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QHelauHYbMa32q0nJABXXg.gif"/></div></div></figure><p id="d134" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">目的</strong>:制造一个可以重新填充弹药数量的能量，让玩家可以再次开火。</p><p id="c697" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我已经拥有了游戏的弹药功能，现在是时候实施一种方法，在游戏运行期间补充弹药了。是时候重装弹药了！</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><p id="9655" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">创世:</strong></p><p id="bc75" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了开始创建弹药加电，我想从创建一个可以用于弹药加电本身的新对象开始。可以通过各种商店和网站定制、购买或借用资产。我将使用的资产如下所示:</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div class="gh gi la"><img src="../Images/5d437f03ddf7389c757f0ea0dda039cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/format:webp/1*xEGJ6ClD6Js6NyUZ2Lx3MA.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">我的弹药加电</figcaption></figure><p id="29ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我想把这个资产拖到我的层次结构中，并开始添加 2D 刚体和碰撞器组件。我也想把我的启动脚本附加到这个对象上，因为它将继承与我的其他启动相同的行为。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lj"><img src="../Images/b6404b8f2ee34e3fed37273f63d68ed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ci2mx2xEjQ8cgYevrgLDuA.gif"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">添加刚体和碰撞器组件</figcaption></figure><p id="69eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在第 24 天，我介绍了使用一个从 0 号元素到 3 号元素的阵列进行加电。如果你还记得的话，使用数组对于这些情况是很好的，因为不用那么多 if 和 then 逻辑语句，这有助于在检查器中分配它，也有助于在我的代码行中使用 switch 语句使事情变得更简单。</p><p id="b75d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我的产卵管理器中，如果我查看我的检查员视图；我可以添加一个额外的加电，然后再添加一个额外的元素，我现在可以给元素 3 分配弹药加电了！</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lk"><img src="../Images/2243149d9dc976a2be45bd0602567b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VcPIbbpLwuGgr4FfG_UUYA.gif"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">扩展阵列并分配弹药加电</figcaption></figure><p id="5969" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在附加到弹药加电的脚本中，我想确保加电标识，一个我之前编写的 int 变量，将被分配给 3，从而成为弹药加电的标识。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/26555ef65e123a7e27bb2a9378f2de07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*o4SG3rxyPV7X_gXXlbwBlg.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">将标识分配给指定的电源</figcaption></figure><p id="e2e3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我想跳转到我的产卵管理器脚本，在那里我启动了 coroutine 来产卵加电，我现在可以扩展这个“random.range”的数字到(0，4)添加弹药加电到等式中。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lm"><img src="../Images/62afa48c44b6082b31d8186e805bff40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*D8N7Z3JPcndn9H-u2hedOA.gif"/></div></div></figure><p id="a450" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在在我的开机脚本里；我现在可以在我的 switch 语句中添加一个案例 3，其中弹药加电是为了测试而收集的。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ln"><img src="../Images/12106b16216ded9c374e32727b888976.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t63QsSzPTraqNwUiNWhxWQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">在 powerups 脚本中添加案例 3</figcaption></figure><p id="2c7d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">运行游戏时，一切都应该正常工作，我应该在收集弹药的控制台下得到一条信息:</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e4076e58d808dace1e0ca3b11b4a5637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*M0rJcYCoK70F0C1QlG7XMw.gif"/></div></div></figure></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><p id="7c17" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">行为:</strong></p><p id="a3bd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一旦我有了代表游戏中可收集弹药的实际对象，我现在就可以在玩家拾取时实现这个对象的行为。</p><p id="09fe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">基本上，每次玩家拿起可收集的弹药，我希望玩家补充 10 个弹药。为了实现这一点，我跳到我的播放器脚本中，创建了一个新的方法，我可以在我的 powerup 脚本中通过 switch 语句的情况 3 传递这个方法。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/0c8b463266a07c9f95055f5cbc18d276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*3afcAkpQy9vN2Uzt7IuFsA.png"/></div></figure><p id="0213" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个玩家脚本下的方法中，我想声明弹药数量等于当时的弹药数量，再加上 10。当然，我也不想忘记更新我的弹药界面。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/4d194d90abe5896c4f40268db40112b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*BBJNOdPHgjNyqzkx0sQ74w.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">增加 10 弹药时，弹药收集皮卡</figcaption></figure><p id="1b17" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在这里的问题是，玩家可以连续收集没有上限的子弹。在这种情况下，我保持弹药上限在 30。所以我编辑了我的弹药上限方法，并在这个方法下传递它。因此每当该整数超过 30 时，它将默认回到 30 的值。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/e1e5bbd73a71a047aa01af19ac329eb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*JD0HfEufO4CvGVjtMWLaOQ.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">设置弹药上限，这样玩家就不会持续拾取弹药</figcaption></figure><figure class="lb lc ld le gt jo gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/ff232b3a81b945b337924df676c92187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*MoloP3qtNcb_Up5HggOJCQ.png"/></div></figure><p id="139a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">实现这一点后，如果我运行游戏，一切都应该完美地工作，弹药收集应该补充我的弹药 10，每次游戏收集弹药上限为 30。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/af811d648b652351b67017605cc2dde7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QHelauHYbMa32q0nJABXXg.gif"/></div></div></figure></div></div>    
</body>
</html>