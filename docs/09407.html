<html>
<head>
<title>File Upload With Progress Bar in Angular 13</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular 13 中带进度条的文件上传</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/file-upload-with-progress-bar-in-angular-13-76adb3380f18?source=collection_archive---------2-----------------------#2022-08-19">https://blog.devgenius.io/file-upload-with-progress-bar-in-angular-13-76adb3380f18?source=collection_archive---------2-----------------------#2022-08-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="00e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我们将在 Angular 13 中看到带有进度条的文件上传。在这里，我们将学习如何在 Angular 13 中使用进度条上传图片。我们将创建一个简单的图片上传选项反应形式。此外，为图像上传创建一个 PHP API。在 API 服务中，我们将编写代码来显示进度条百分比代码。</p><p id="de0e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第一步:创建新应用</strong></p><p id="1f6e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这一步中，我们将使用下面的命令创建一个新的应用程序:</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="63d4" class="kr ks in kn b gy kt ku l kv kw">ng new my-new-app</span></pre></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="d809" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">读也:</strong> <a class="ae le" href="https://websolutionstuff.com/post/bootstrap-modal-in-angular-13" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">自举情态于有角 13 </strong> </a></p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="eb14" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 2:安装引导程序 5 </strong></p><p id="5925" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们将使用下面的命令安装引导核心包。</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="4f09" class="kr ks in kn b gy kt ku l kv kw">npm install bootstrap --save</span></pre><p id="b93b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们需要包含像<strong class="jm io">node _ modules/bootstrap/dist/CSS/bootstrap . min . CSS .</strong>这样的引导 CSS，所以，将其添加到<strong class="jm io"> angular.json </strong>文件中。</p><p id="fac5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> angular.json </strong></p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="2dc6" class="kr ks in kn b gy kt ku l kv kw">"styles": [</span><span id="18cb" class="kr ks in kn b gy lf ku l kv kw">"node_modules/bootstrap/dist/css/bootstrap.min.css",</span><span id="7c4f" class="kr ks in kn b gy lf ku l kv kw">"src/styles.css"</span><span id="df4c" class="kr ks in kn b gy lf ku l kv kw">],</span></pre><p id="bcf6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第三步:导入模块</strong></p><p id="a69d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们将把 HttpClientModule、ReactiveFormsModule 和 ImageUploadService 导入到 app.module.ts 文件中。</p><p id="bffe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> src/app/app.module.ts </strong></p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="2478" class="kr ks in kn b gy kt ku l kv kw">import { NgModule } from "@angular/core";<br/>import { BrowserModule } from "@angular/platform-browser";<br/>import { FormsModule } from "@angular/forms";<br/>import { HttpClientModule } from "@angular/common/http";</span><span id="2b11" class="kr ks in kn b gy lf ku l kv kw">import { AppComponent } from "./app.component";</span><span id="f710" class="kr ks in kn b gy lf ku l kv kw">@NgModule({<br/>  imports: [<br/>    BrowserModule,<br/>    FormsModule,<br/>    HttpClientModule<br/>  ],<br/>  declarations: [AppComponent],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule {}</span></pre></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="e745" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">阅读也:</strong> <a class="ae le" href="https://websolutionstuff.com/post/how-to-setup-404-page-in-angular-12" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">如何在棱角分明的 404 页设置 12 </strong> </a></p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="4b9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 4:更新视图文件</strong></p><p id="60aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这一步中，我们将更新 HTML 文件。</p><p id="5011" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">src/app/app . component . html</strong></p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="eeb0" class="kr ks in kn b gy kt ku l kv kw">&lt;h2&gt;File Upload With Progress Bar In Angular 13 - Websolutionstuff&lt;/h2&gt;<br/>&lt;input type="file" (change)="upload($event.target.files[0])"&gt;</span><span id="39af" class="kr ks in kn b gy lf ku l kv kw">&lt;div class="progress" *ngIf="progress"&gt;<br/>	&lt;div class="progress-bar" [style.width]="progress + '%'"&gt;{{progress}}%&lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="7130" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第五步:使用组件 ts 文件</strong></p><p id="1042" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们需要更新 component.ts 文件。</p><p id="9dbb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">src/app/app . component . ts</strong></p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="14f8" class="kr ks in kn b gy kt ku l kv kw">import { Component } from "@angular/core";</span><span id="6fa1" class="kr ks in kn b gy lf ku l kv kw">import {<br/>  HttpClient,<br/>  HttpEventType,<br/>  HttpErrorResponse<br/>} from "@angular/common/http";</span><span id="e734" class="kr ks in kn b gy lf ku l kv kw">import { map, catchError } from "rxjs/operators";</span><span id="9338" class="kr ks in kn b gy lf ku l kv kw">import { throwError } from "rxjs";</span><span id="f8f7" class="kr ks in kn b gy lf ku l kv kw">@Component({<br/>  selector: "my-app",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  progress: number;</span><span id="413f" class="kr ks in kn b gy lf ku l kv kw">  constructor(private http: HttpClient) {}</span><span id="70c7" class="kr ks in kn b gy lf ku l kv kw">  upload(file) {<br/>    this.progress = 1;<br/>    const formData = new FormData();<br/>    formData.append("file", file);</span><span id="fdd7" class="kr ks in kn b gy lf ku l kv kw">    this.http<br/>      .post("your-url-here", formData, {<br/>        reportProgress: true,<br/>        observe: "events"<br/>      })<br/>      .pipe(<br/>        map((event: any) =&gt; {<br/>          if (event.type == HttpEventType.UploadProgress) {<br/>            this.progress = Math.round((100 / event.total) * event.loaded);<br/>          } else if (event.type == HttpEventType.Response) {<br/>            this.progress = null;<br/>          }<br/>        }),<br/>        catchError((err: any) =&gt; {<br/>          this.progress = null;<br/>          alert(err.message);<br/>          return throwError(err.message);<br/>        })<br/>      )<br/>      .toPromise();<br/>  }<br/>}</span></pre></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="d968" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">阅读也:</strong> <a class="ae le" href="https://websolutionstuff.com/post/how-to-check-image-blur-or-not-using-python" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">如何使用 Python </strong> </a>检查图像模糊与否</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="2785" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第六步:运行服务器</strong></p><p id="dbd0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，我们需要使用下面的命令运行服务器。</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="00d8" class="kr ks in kn b gy kt ku l kv kw">ng serve</span></pre><p id="2356" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，转到您的 web 浏览器，键入给定的 URL 并查看应用程序输出。</p><p id="6032" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae le" href="http://localhost:4200" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a></p><p id="e067" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">输出:</strong></p><figure class="ki kj kk kl gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lg"><img src="../Images/0359caa662b2e28baf2ddaab66d74545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kTwiTX76RGUIHzWO.png"/></div></div></figure></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="2179" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">你可能也会喜欢:</strong></p><ul class=""><li id="11d9" class="lo lp in jm b jn jo jr js jv lq jz lr kd ls kh lt lu lv lw bi translated"><strong class="jm io">阅读也:</strong> <a class="ae le" href="https://websolutionstuff.com/post/how-to-file-upload-using-node-js" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">如何使用 Node.js </strong> </a>进行文件上传</li><li id="0d16" class="lo lp in jm b jn lx jr ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jm io">阅读还:</strong> <a class="ae le" href="https://websolutionstuff.com/post/laravel-9-create-zip-file-and-download" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> Laravel 9 创建 Zip 文件并下载</strong> </a></li><li id="489f" class="lo lp in jm b jn lx jr ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jm io">读还:</strong> <a class="ae le" href="https://websolutionstuff.com/post/multiple-row-grouping-datatables-jquery" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">多行分组数据表 jQuery </strong> </a></li><li id="fd9a" class="lo lp in jm b jn lx jr ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jm io">阅读另:</strong> <a class="ae le" href="https://websolutionstuff.com/post/drag-and-drop-file-upload-using-dropzone-js-in-laravel-9" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">拖拽文件上传使用 Laravel 9 </strong> </a>中的 Dropzone js</li></ul></div></div>    
</body>
</html>