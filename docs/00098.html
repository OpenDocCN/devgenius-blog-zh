<html>
<head>
<title>Scraping Amazon.com using JavaScript and Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript和Node.js抓取Amazon.com</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/scraping-amazon-com-using-javascript-18ef6caf53f6?source=collection_archive---------0-----------------------#2019-12-07">https://blog.devgenius.io/scraping-amazon-com-using-javascript-18ef6caf53f6?source=collection_archive---------0-----------------------#2019-12-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0f39c61a69bf3242a7ffbeae71aaff98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1B-00vOIJlZyw_xU1yM_Bw.jpeg"/></div></div></figure><p id="f496" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，我将演示如何使用Javascript在网上抓取Amazon.com。同样，您需要设置Node.js。使用命令行将目录切换到项目文件夹，并键入“npm init”来激活Node.js环境。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="2fe8" class="lc ld in ky b gy le lf l lg lh">npm init</span></pre></div><div class="ab cl li lj hr lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ig ih ii ij ik"><p id="f2f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在使用以下命令安装express、cheerio和axios依赖项</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="b926" class="lc ld in ky b gy le lf l lg lh">npm install express cheer.io axios</span></pre></div><div class="ab cl li lj hr lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ig ih ii ij ik"><p id="0db8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在你的浏览器中打开任何亚马逊网页。您将意识到，每件商品的价格及其标题都显示在一个带有id的惟一的html span中。</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lp"><img src="../Images/8751a159bfd112ba321e37129f9becbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8s6QK_W-YnBaOyBe8oR_VA.jpeg"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">价格在id为priceblock_ourprice的范围内</figcaption></figure></div><div class="ab cl li lj hr lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ig ih ii ij ik"><p id="0f30" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="lu">价格在id为‘price block _ our price’</em></strong>的范围内</p><p id="daff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建一个文件scrape.js用于抓取网页，导入axios和Cheer.io依赖项。现在使用以下代码:-</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="0a19" class="lc ld in ky b gy le lf l lg lh"><strong class="ky io">import axios from 'axios';<br/>import cherrio from 'cheerio';<br/><br/>async function getHTML(productURL) {<br/>    const { data: html } = await  axios.get(productURL, {<br/>        headers: {<br/>            'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36'<br/>        }<br/>    })<br/>        .catch(function (error) {<br/>            console.log(error);<br/>        });<br/>    return html;<br/>}<br/><br/>async function getAmazonPrice(html) {<br/>    const $ = cherrio.load(html);<br/><br/>    const span = $('#priceblock_dealprice');<br/><br/>        <br/>      return span.html();<br/>     <br/>}<br/><br/><br/>async function getAmazonModel(html) {<br/>    const $ = cherrio.load(html);<br/><br/>    const span = $('#productTitle');<br/>   <br/>   <br/>      // return span.html();<br/>}<br/><br/>export { getHTML, getAmazonPrice,getAmazonModel };</strong></span></pre><p id="0748" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在函数getAmazonPrice和getAmazonModel中，变量span存储价格和名称块。使用命令span.html()我们发送存储在其中的块的内容。</p><h1 id="7cbd" class="lv ld in bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated"><strong class="ak">希望你们喜欢这篇文章</strong></h1></div></div>    
</body>
</html>