<html>
<head>
<title>A Beginners Tutorial for OpenCV using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 的 OpenCV 初学者教程</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/opencv-python-tutorial-a-guide-to-learn-opencv-81b786f2365b?source=collection_archive---------3-----------------------#2020-12-13">https://blog.devgenius.io/opencv-python-tutorial-a-guide-to-learn-opencv-81b786f2365b?source=collection_archive---------3-----------------------#2020-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/183ced8c3f0ddd97fb2063bea0f2264b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JI-JNroBaq5paoYb"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kc" href="https://unsplash.com/@altumcode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> AltumCode </a>拍摄的照片</figcaption></figure><p id="283f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">计算机视觉是处理从图像和视频中获得高级理解的跨学科领域。如果我们从工程的角度来看，它是用来自动完成人类视觉可以完成的任务。就像识别图像中的特定部分，在图像中制造差异，以及理解人类大脑在可视化一个对象后可以思考的事情。在当今时代，计算机视觉在人工智能和机器人编程中非常有用，在这些领域中，我们需要一种人类视觉技术来识别周围环境并据此采取行动。在编程语言中，我们有许多模块来处理计算机视觉，但最著名的是<code class="fe lb lc ld le b">OpenCV</code>。</p><p id="3280" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它是一个主要针对实时计算机视觉的编程函数库。最初由英特尔开发，后来由 Willow Garage 和 Itseez 支持。这种语言是在使用<code class="fe lb lc ld le b">C++/C</code>语言，这使得它更容易，更快，更容易使用。我们将学习如何在 python 中使用 OpenCV 模块，并学习 OpenCV 可以做的一些疯狂的事情。</p><h1 id="2aec" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">安装:</strong></h1><p id="e215" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">你需要最新版本的 python，你可以从 python 官方网站下载，然后复制下面的代码并粘贴到命令提示符中，它会自动在你的系统中安装 python-OpenCV 模块。</p><p id="73c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">pip install opencv-python</code></p><h1 id="f6f4" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">OpenCV 的基础知识:</h1><h2 id="8219" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">正在加载图像:</h2><p id="e1f3" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">为了在 OpenCV 中从您的磁盘中读取图像，您需要使用 cv2.imread 函数，该函数将读取 RGB 格式的图像。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="6d89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经加载了 python-OpenCV 名称 cv2 的模块，然后使用<code class="fe lb lc ld le b">cv2.imread</code>函数并传递我们想要读取的图像名称。图像可以是 png、jpeg、jpg 等任何图像格式。</p><h2 id="5eb0" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">显示图像:</h2><p id="cefa" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">在 python-OpenCV 中显示图像就像读取图像一样简单，我们使用<code class="fe lb lc ld le b">cv2.imshow</code>方法传递我们读取的图像，然后使用<code class="fe lb lc ld le b">cv2.waitKey</code>方法让程序等待显示图像，我们在<code class="fe lb lc ld le b">cv2.waitKey</code>中传递代表秒的整数值，然后使用<code class="fe lb lc ld le b">cv2.destroyAllWindows</code>方法破坏显示图像的打开窗口。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><h2 id="0af1" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">书写图像:</h2><p id="3fd6" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">在 python-OpenCV 中编写图像使用了 cv2.imwrite()方法，它带有两个参数，一个是我们在 OpenCV 中读取的图像，另一个是我们想要输出的图像的名称及其扩展名。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="a9bb" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">图像处理:</h1><h2 id="0703" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">图像大小调整:</h2><p id="8698" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">图像大小调整指的是图像的缩放，当你想通过降低像素来减小图像的尺寸时，这很方便。我们知道像素像图像的 X 和 Y 坐标一样分散，所以我们可以使用 X 和 Y 点来告诉 OpenCV 减少像素并调整图像的大小。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="0f4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们导入了名为 python-OpenCV 模块的 cv2 模块，接下来我们读取了名为 python.png 的图像并将<code class="fe lb lc ld le b">scale_precent</code>设置为 60%,因为我们要将我们的图像缩小到 60 %,接下来通过乘以 scaling_percent 并除以 100 来减小图像的高度和宽度，接下来我们使用了<code class="fe lb lc ld le b">cv2.resize()</code>函数绕过我们读取的图像和新的维度。</p><h2 id="e0f6" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">模糊图像:</h2><p id="423f" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">现在我们将使用 OpenCV 模糊技术使我们的图像变得模糊。OpenCV 模块有 3 种模糊技术:高斯模糊、中值模糊、双边滤波。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="3b3a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你看过代码，我们使用了 4 个不同的函数 cv2.blur，这是一个简单的平均模糊模式，<code class="fe lb lc ld le b">cv2.GaussianBlur</code>，<code class="fe lb lc ld le b">cv2.MedianBlurr</code>，<code class="fe lb lc ld le b">cv2.bilateralFilter</code> blur，所有这些模糊技术有一个共同点，那就是我们作为参数传递的内核大小是我们应用了模糊滤镜的图像。内核告诉你如何通过与不同数量的相邻像素组合来改变任何给定像素的值。</p><h2 id="fb47" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">灰度化图像:</h2><p id="b6ea" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">灰度化图像是将其他颜色空间(如 RGB、CYMK)的图像转换为灰色阴影的过程，因为它在黑色和白色之间变化。当您想要针对图像训练人工智能或想要降低识别图像的难度时，灰度缩放很有用，因为当我们将图像降低到灰度缩放时，它变成了一个颜色通道，但在 RGB 模式下，它有 3 个颜色通道。例如，您想要在 RGB 模式下训练 10×10×3 大小的神经图像，它将有 300 个层节点，而具有灰度缩放的同一图像将有 100 个层节点。图像灰度化有许多好处，如降低阅读文本的噪声、边缘检测等。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="fc1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe lb lc ld le b">cvtColor()</code>，绕过图像变量名和其中的<code class="fe lb lc ld le b">cv2.COLOR_BGR2GRAY</code>方法，将图像转换为灰度。</p><h2 id="56e5" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">在图像周围创建边框:</h2><p id="00f7" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">在 OpenCV 模块中，我们使用了<code class="fe lb lc ld le b">cv2.copyMakeBorder()</code>函数来使图像周围的边框与图像的边框相同。检查下面的代码</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><h2 id="273e" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">边缘检测:</h2><p id="024d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">图像检测的处理包括检测图像的清晰边缘。这种边缘检测在图像识别或物体检测的情况下是必不可少的。由于其广泛的适用性，有几种用于检测边缘的算法。我们将使用一种叫做 Canny 边缘检测的算法。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="9b45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，如果你已经看过代码，我们已经再次使用<code class="fe lb lc ld le b">imread()</code>函数来读取图像，下一行我们已经使用了<code class="fe lb lc ld le b">cv2.Canny</code>,通过传递我们正在使用的图像和我们要检测的像素的大小。我们传递的维度是<code class="fe lb lc ld le b">width x height</code>格式的。</p><h2 id="e09b" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">简单阈值:</h2><p id="3e8a" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">阈值处理是 OpenCV 中用于将像素值分配给阈值的技术。在阈值处理中，将每个像素值与阈值进行比较。如果像素值小于阈值，则设置为 0，否则设置为最大值(一般为 255)。在计算机视觉中，这种阈值技术是在灰度图像上完成的。因此，最初，图像必须在灰度色彩空间中转换。基本的阈值技术是二进制阈值。对于每个像素，应用相同的阈值。如果像素值小于阈值，则将其设置为 0，否则将其设置为最大值。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="2963" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在 python OpenCV 中，我们使用了<code class="fe lb lc ld le b">cv2.threshold</code>函数，通过传递我们正在处理的图像像素值和设置点，第四个参数将是阈值的模式。如果你看到代码行 14–16，我们设置了三种阈值模式二进制、Trunc 和零，我们还选择了图像的像素值是否为 120，然后将其设置为 255。</p><h2 id="d127" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">使用 OpenCV 进行图像修复；</h2><p id="1afa" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">图像修补是一种修复受损照片或照片中噪声、笔画文字的技术。这是特别有用的恢复旧照片有划痕或一些墨水点。图像修复通常通过用相邻的相似像素替换坏像素来工作，从而使其与背景融合。在 python openCv 中，我们使用了<code class="fe lb lc ld le b">cv2.inpaint</code>方法，使用了 FMM(快速行进法)和 Navier-Strokes 两种修复模式。我们可以用<code class="fe lb lc ld le b"> cv2.INPAINT_TELEA</code>来做 FMM，用<code class="fe lb lc ld le b">cv2.INPAINT_NS</code>来做划水。</p><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="edae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你看过 eh 代码，我也看过 mask.png 的图像，它是一个黑色的封面图像，将作为一个遮罩，任何损坏的像素将以白色显示，然后 OpenCV 可以用匹配的周围像素替换它。</p><h2 id="be44" class="mi lg iq bd lh mj mk dn ll ml mm dp lp ko mn mo lt ks mp mq lx kw mr ms mb mt bi translated">图像翻译:</h2><p id="f8d6" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">平移是指物体，即图像从一个位置到另一个位置的直线移动。如果我们知道水平和垂直方向的偏移量，比如说(tx，ty ),那么我们就可以制作一个变换矩阵。<br/>其中 tx 表示沿 x 轴的移动，ty 表示沿 y 轴的移动，即我们需要在该方向移动的像素数。<br/>现在，我们可以使用<code class="fe lb lc ld le b">cv2.wrapAffine()</code>函数来实现这些翻译。</p><p id="b490" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">翻译的好处:</strong></p><ul class=""><li id="c9bc" class="na nb iq kf b kg kh kk kl ko nc ks nd kw ne la nf ng nh ni bi translated">隐藏图像的一部分</li><li id="d0a8" class="na nb iq kf b kg nj kk nk ko nl ks nm kw nn la nf ng nh ni bi translated">裁剪图像</li><li id="4883" class="na nb iq kf b kg nj kk nk ko nl ks nm kw nn la nf ng nh ni bi translated">将图像移动到任意点</li><li id="ebf8" class="na nb iq kf b kg nj kk nk ko nl ks nm kw nn la nf ng nh ni bi translated">在循环中使用图像平移制作图像动画。</li></ul><figure class="mu mv mw mx gt jr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="8002" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我创建了两个新的变量，名为 quarter height 和 quarter width，因为我们将把我们的图像转换成这个高度和宽度，然后在下一行中，我使用了一个 NumPy 函数把我们的图像转换成 2x3 的格式，然后使用 warpAffine 函数传递 2x3 的图像尺寸。对任何图像进行测试，看看有什么不同。</p><p id="fdb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经学习了 OpenCV 的基础知识，并看到了他们的图像处理方法，我们可以如何使用它们，但这并不是 OpenCV 功能的结束，你可以阅读 OpenCV 官方文档，其中有很多功能，你可以使用它们来制作图像编辑机器人，人工智能，解决日常问题等。我希望你能从这篇文章中学到一些东西，并且有一天这篇文章会对你有所帮助，请随时留下你的反馈。</p></div></div>    
</body>
</html>