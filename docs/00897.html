<html>
<head>
<title>Clean code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">干净的代码</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/clean-code-b1fed462faa8?source=collection_archive---------3-----------------------#2020-06-19">https://blog.devgenius.io/clean-code-b1fed462faa8?source=collection_archive---------3-----------------------#2020-06-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="9c7b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第 2 章:-命名</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/570ab0173fe76048c082d86db3daabe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*BLJDJiHPMcVHGhz7"/></div></figure><blockquote class="kq kr ks"><p id="584b" class="jk jl kt jm b jn jo jp jq jr js jt ju ku jw jx jy kv ka kb kc kw ke kf kg kh ig bi translated">你花多少时间写代码和读代码？！的确，花在阅读和写作上的时间比远远超过 10 比 1 <br/>“鲍勃叔叔”</p></blockquote><p id="cd00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">名字在软件中随处可见。<br/>我们给变量、函数、参数、类和包命名。我们命名我们的源文件和包含它们的目录。<br/>我们将 jar 文件、war 文件和 ear 文件命名为。<br/>我们名而名而名。因为我们做了这么多，我们最好把它做好。以下是一些创造好名字的简单规则。</p><h1 id="bd54" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">使用透露意图的名字</h1><p id="b6ac" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">基本上，不要在注释中命名需要解释的变量、类或方法。</p><p id="e21d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如:</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="4250" class="mf ky in mb b gy mg mh l mi mj">var d: Int? // elapsed time in days  <br/>var s: Int?  // elapsed time in seconds</span></pre><p id="77ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">可以命名为:</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="e1b9" class="mf ky in mb b gy mg mh l mi mj">var timeInDays: Int? // elapsed time in days  <br/>var timeInseconds: Int?  // elapsed time in seconds</span></pre><h1 id="faf7" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">避免虚假信息和编码</h1><p id="afb7" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">不要将一组帐户称为“帐户列表”，因为它实际上不是一个列表。相反，将其命名为“帐户组”、“帐户”或“帐户群”<br/>避免数据类型和变量名的不必要编码。</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="600e" class="mf ky in mb b gy mg mh l mi mj">var accountGroup: String?<br/>var bunchOfAccounts: String</span></pre><p id="89ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果全世界都知道在雇员上下文中，姓名将包含一系列字符，那么这可能是不必要的。工资也是一样，十进制/浮动制。</p><h1 id="5948" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">进行有意义的区分</h1><p id="9708" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">如果在同一个作用域中有两个不同的东西，您可能会试图以任意的方式更改其中一个名称。<br/>EMP 中存储了哪些与员工或雇主不同的内容？</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="df74" class="mf ky in mb b gy mg mh l mi mj">var emp: String?<br/>var employee: String?<br/>var employer: String?</span></pre><p id="7fd6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这些类有什么不同？</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="c0de" class="mf ky in mb b gy mg mh l mi mj">class ProductInfo  <br/>class ProductData</span></pre><p id="608f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如何区分同一个类中的这些方法？</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="f670" class="mf ky in mb b gy mg mh l mi mj">func getActiveAccount()<br/>func getActiveAccounts()<br/>func getActiveAccountsInfo()</span></pre><p id="ec0e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，这里的建议是做出有意义的区分。</p><h1 id="650c" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">使用易发音的名字</h1><p id="df08" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">确保名称是可发音的。没人想要绕口令。<br/>这个</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="6e23" class="mf ky in mb b gy mg mh l mi mj">var absdegpoi123: Date?<br/>var  modymdhms: AccountGroup?<br/>Int pszqint;</span></pre><p id="2aed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相对</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="9360" class="mf ky in mb b gy mg mh l mi mj">var generationTimeStamp: Date?<br/>var employeeAccount: AccountGroup?<br/>var employeeAccessCount: Int?</span></pre><h1 id="6237" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">使用可搜索的名称</h1><p id="5f6b" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">听起来很蠢？编号<br/>您需要搜索代码，查看使用的不同字段。<br/>是的，新的 IDE 确实可以为我们做这项工作，<br/>但是我们仍然必须使用易于搜索的名称。<br/>例如，找到“I”或“j”用在哪里有多容易。同样的事情也发生在内联使用的魔法单词上，没有将它们提取为常量。<br/>例如，如果在不同的用例中使用相同的值，那么在应用程序中搜索和替换一个数值可能是一场噩梦<br/>。</p><h1 id="e5b8" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">不要可爱/不要使用攻击性的词语</h1><p id="f3de" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">给物品命名时，不要使用有趣的名字或任何俚语。不要使用依赖文化的笑话。<br/>再次强调清晰度。说你的意思，说话算数。</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="c275" class="mf ky in mb b gy mg mh l mi mj">deleteAllItems()</span></pre><p id="9648" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相对</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="db74" class="mf ky in mb b gy mg mh l mi mj">whack()</span></pre><p id="eb5c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相对</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="1c48" class="mf ky in mb b gy mg mh l mi mj">kill()</span></pre><p id="652c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相对</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="e720" class="mf ky in mb b gy mg mh l mi mj">eatMyShorts()</span></pre><p id="9da4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相对</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="2cb1" class="mf ky in mb b gy mg mh l mi mj">abort()</span></pre><h1 id="8382" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">为每个概念选择一个词</h1><p id="a7f5" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">在代码库中使用相同的概念。</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="a0bd" class="mf ky in mb b gy mg mh l mi mj">FetchValue() vs GetValue() vs RetrieveValue()</span></pre><p id="5c09" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果使用 fetchValue()返回值，使用相同的概念；而不是在所有代码中使用 fetchValue()，使用 getValue()，retrieveValue()会让读者感到困惑。</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="ef05" class="mf ky in mb b gy mg mh l mi mj">dataFetcher() vs dataGetter() vs dataFetcher()</span></pre><p id="1d96" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果这三种方法都做同样的事情，不要在代码库中混合搭配。而是坚持一个。</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="d7a5" class="mf ky in mb b gy mg mh l mi mj">FeatureManager vs FeatureController</span></pre><p id="8a3f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">忠于经理或财务总监。同样，同一件事的代码库之间的一致性。</p><h1 id="404c" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">不要一语双关</h1><p id="1c5f" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">这与先前的规则正好相反。避免将同一个词用于两个不同的目的。将同一个术语用于两种不同的想法，本质上是一语双关。<br/>例如，假设您有两个具有相同 add()方法的类。在一个类中，它执行两个值的相加，在另一个类中，它将一个元素插入到一个列表中。<br/>所以，明智地选择；在第二个类中，使用 insert()或 append()而不是 add()。</p><h1 id="ba13" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">解决方案域名与问题域名</h1><p id="1e6c" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">干净代码哲学建议在任何需要的时候使用解决方案域名，比如算法的名字或者设计模式的名字<br/>，并且使用问题域名作为第二选择。例如，accountVisitor 对于熟悉访问者设计模式的程序员来说意义重大。“作业队列”对程序员来说更有意义。</p><h1 id="df01" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">添加有意义的上下文是最后的手段</h1><p id="9e5d" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">虽然有一些名字本身是有意义的，但大多数不是。相反，你必须把名字放在你的读者的上下文中，方法是把它们封装在命名良好的类、函数或名称空间中。<br/>如果不可能，作为最后的手段，可能有必要在名称前加上前缀。<br/>例如，address 类中名为“state”的成员变量显示了它包含的内容。<br/>但是，如果在没有上下文的情况下使用相同的“州”来存储“州名”,则可能会产生误导。<br/>因此，在这个场景中，将其命名为“addressState”或“StateName”当命名为“addrState”时，在编码地址的上下文中,“state”可能更有意义</p><h1 id="3098" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">避免编码</h1><p id="35a9" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">不要试图重新发明轮子，为已经定义和标准化的东西定义自己的编码。你最不想要的就是你自己的定制语言。因此，尽量对接口使用前缀“I ”,对抽象类使用后缀“Base”。不要对类实现使用“C”前缀或对变量使用“m_”。如果您最终使用了自定义编码，请后退一步，尝试看看为什么会出现这种情况。根据这个回答，你应该做出决定。</p><h1 id="c109" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">避免心理映射</h1><p id="4d03" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">让我们从一个例子开始:</p><pre class="kj kk kl km gt ma mb mc md aw me bi"><span id="b4eb" class="mf ky in mb b gy mg mh l mi mj">r<br/>t<br/>p</span></pre><p id="6cc8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">即使我们是开发人员，我们也不想学习和记住“r”表示罗马尼亚 Dacia 服务器的完整 url，<br/>“t”是没有协议信息的相同 url，而“p”表示我们需要发送到服务器以便能够登录的查询参数<br/>。<br/>就算心理映射不好，也有一些名字在我们这个时代是标准的。<br/>例如，当我们看到“I”或“j”时，我们从一开始就知道我们在谈论一个迭代。</p><h1 id="268e" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">类和方法命名</h1><p id="5814" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">当我们需要为我们的类或方法找到一个好名字时，有两个简单的规则可以帮助我们:</p><ul class=""><li id="bdc8" class="mk ml in jm b jn jo jr js jv mm jz mn kd mo kh mp mq mr ms bi translated">类名应该有一个名词或名词短语</li><li id="436c" class="mk ml in jm b jn mt jr mu jv mv jz mw kd mx kh mp mq mr ms bi translated">方法名应该有一个动词短语<br/>的动词，尽量避免用前缀/后缀命名类，比如“服务”、“工厂”、“处理器”、“数据”、“信息”。这些类名被滥用了(尤其是当我们找不到更好的名字时)。</li></ul><h1 id="58f6" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">使用解决方案和问题域名中的名称</h1><p id="3531" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">不要使用脱离上下文和不来自特定域的名称。对于在汽车行业工作的人来说，使用“发动机”而不是“动力源”更为自然。你应该使用具体的域名，而不是开发商命名，这可能是错误的。这可能会导致客户和开发人员之间的误解。</p><h1 id="0627" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">不要添加不必要的上下文</h1><p id="0511" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">给已经很清楚的事情加上背景是很容易的。<br/>例如，在一个名为“Car”的类中，你不需要将类的颜色字段命名为“carColor”或“colorCar”。<br/>您已经在汽车类中，该类中的所有信息都与“汽车”相关。</p></div></div>    
</body>
</html>