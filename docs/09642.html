<html>
<head>
<title>The new way of implementing Splash Screen!.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现闪屏的新方法！。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/a-new-way-of-implementing-splash-screen-950183ea9a2a?source=collection_archive---------12-----------------------#2022-09-02">https://blog.devgenius.io/a-new-way-of-implementing-splash-screen-950183ea9a2a?source=collection_archive---------12-----------------------#2022-09-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="88c1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安卓|科特林</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c5bd9086786b8d7978ae52d5b2d3dcfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Y8nbTwGfVbXr-T_am_CpJw.gif"/></div></div></figure><p id="c9db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嘿伙计们！</p><p id="c822" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是 android 想出的一个非常简单的功能，它将改变这些年来使用闪屏的方式，成为最优雅的方式。将传统的包含布局设计和处理程序的 Splash 活动缩小到一个处理所有事情的主题中，这是一件令人惊奇的事情。</p></div><div class="ab cl ku kv hr kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ig ih ii ij ik"><p id="c610" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我在 Youtube 上传了一段视频。请看一看！..</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lc ld l"/></div></figure><h2 id="6862" class="le lf in bd lg lh li dn lj lk ll dp lm jv ln lo lp jz lq lr ls kd lt lu lv lw bi translated"><strong class="ak">听起来很酷，对吧，让我们不要等待，投入到开发中。</strong></h2><h2 id="7f25" class="le lf in bd lg lh li dn lj lk ll dp lm jv ln lo lp jz lq lr ls kd lt lu lv lw bi translated">1.首先，设置主题</h2><p id="4a7a" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">让我们从创建闪屏的主题开始。我将这个主题命名为 SplashTheme，它包含了一组属性，让我们来浏览一下</p><p id="9cfe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">I)windowSplashScreenBackground:-</strong>这个属性设置启动画面的背景颜色。</p><p id="c1c1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">ii)windowSplashScreenAnimatedIcon:-</strong>这基本上是应用程序图标，是可以在活动中制作动画的品牌详细信息</p><p id="6e24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">iii)windowsplasscreenanimationduration:-</strong>这是屏幕在屏幕上可见的持续时间，移动到下一个主题并显示应用程序中的第一个活动。建议不要超过 1000 毫秒。</p><p id="cb57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">iv)post splash screen theme:-</strong>通过在该属性中添加主主题，它将 splash 主题替换为用于活动的主 appcompact 主题。</p><p id="454d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">v)windowSplashScreenBrandingImage:-</strong>这是一个属性，我们可以在闪屏上添加品牌，它将显示在闪屏的底部。该功能只能在 android 12 及更新版本上使用。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="477a" class="le lf in md b gy mh mi l mj mk">&lt;style name="SplashTheme" parent="Theme.SplashScreen"&gt;<br/>    &lt;item name="windowSplashScreenBackground"&gt;@color/purple_200&lt;/item&gt;<br/>    &lt;item name="windowSplashScreenAnimatedIcon"&gt;@drawable/splash_icon&lt;/item&gt;<br/>    &lt;item name="windowSplashScreenAnimationDuration"&gt;500&lt;/item&gt;<br/>    &lt;item name="android:windowSplashScreenBrandingImage" tools:targetApi="s"&gt;@drawable/splash_icon&lt;/item&gt;<br/>    &lt;item name="postSplashScreenTheme"&gt;@style/Theme.NewSplashScreen&lt;/item&gt;<br/>&lt;/style&gt;</span></pre><h2 id="15d9" class="le lf in bd lg lh li dn lj lk ll dp lm jv ln lo lp jz lq lr ls kd lt lu lv lw bi translated">2.在活动中添加闪屏</h2><p id="5e6c" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">为了将闪屏添加到活动中，android 有一个名为 installSplashScreen()的函数。这个函数使用主题的属性来显示活动的闪屏。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="e552" class="le lf in md b gy mh mi l mj mk">override fun onCreate(savedInstanceState: Bundle?) {<br/>    <em class="lb">installSplashScreen</em>()<br/>}</span></pre><h2 id="4e09" class="le lf in bd lg lh li dn lj lk ll dp lm jv ln lo lp jz lq lr ls kd lt lu lv lw bi translated">3.在清单上添加闪屏</h2><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="65cd" class="le lf in md b gy mh mi l mj mk">&lt;activity<br/>    android:name=".MainActivity"<br/>    android:exported="true"<br/>    android:theme="@style/SplashTheme"&gt;<br/>    &lt;intent-filter&gt;<br/>        &lt;action android:name="android.intent.action.MAIN" /&gt;<br/>        &lt;category android:name="android.intent.category.LAUNCHER" /&gt;<br/>    &lt;/intent-filter&gt;<br/>&lt;/activity&gt;</span></pre><p id="00f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要在启动器活动的清单文件中添加新的闪屏主题。稍后，当这个主题启动时，一旦 splash 持续时间结束，它就重定向到活动主题。</p><h2 id="4e83" class="le lf in bd lg lh li dn lj lk ll dp lm jv ln lo lp jz lq lr ls kd lt lu lv lw bi translated">4.为徽标添加动画</h2><p id="9cbe" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">现在，当启动画面结束时，我们将为徽标添加一些动画，这样它就以动画结束了。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="a0c5" class="le lf in md b gy mh mi l mj mk"><em class="lb">installSplashScreen</em>().<em class="lb">apply </em><strong class="md io">{<br/>    </strong>setOnExitAnimationListener <strong class="md io">{ </strong>sp <strong class="md io">-&gt;<br/>        </strong><em class="lb">// Create your custom animation.<br/>        </em>sp.iconView.animate().rotation(180F).<em class="lb">duration </em>= 3000L<br/>        val slideUp = ObjectAnimator.ofFloat(<br/>            sp.iconView,<br/>            View.<em class="lb">TRANSLATION_Y</em>,<br/>            0f,<br/>            sp.iconView.<em class="lb">height</em>.toFloat()<br/>        )<br/>        slideUp.<em class="lb">interpolator </em>= AnticipateInterpolator()<br/>        slideUp.<em class="lb">duration </em>= 3000L<br/><br/>        <em class="lb">// Call SplashScreenView.remove at the end of your custom animation.<br/>        </em>slideUp.<em class="lb">doOnEnd </em><strong class="md io">{ </strong>sp.remove() <strong class="md io">}<br/><br/>        </strong><em class="lb">// Run your animation.<br/>        </em>slideUp.start()<br/>    <strong class="md io">}</strong></span></pre><h2 id="3f0d" class="le lf in bd lg lh li dn lj lk ll dp lm jv ln lo lp jz lq lr ls kd lt lu lv lw bi translated">5.等待从 api 检索数据</h2><p id="2971" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">有时我们会在 MainActivity 中检索数据，我们需要显示闪屏，直到从服务器中获取数据。用于改善用户体验。在 setKeepOnScreenCondition { }中添加您的条件。当该条件为真且满足时，将显示主屏幕。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="365a" class="le lf in md b gy mh mi l mj mk">setKeepOnScreenCondition <strong class="md io">{<br/>    </strong>// Your condition<br/><strong class="md io">}</strong></span></pre><p id="a1cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是实现闪屏的新方法。</p><p id="e354" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">谢谢大家！..</p></div></div>    
</body>
</html>