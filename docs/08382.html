<html>
<head>
<title>[Golang] More on Strings</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[Golang]更多关于弦乐</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/golang-more-on-strings-17b943f9354f?source=collection_archive---------6-----------------------#2022-06-10">https://blog.devgenius.io/golang-more-on-strings-17b943f9354f?source=collection_archive---------6-----------------------#2022-06-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="ad1f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe ki kj kk kl b">Golang</code>中或者就此而言，几乎在所有编程语言中<code class="fe ki kj kk kl b">strings</code>都是<strong class="jm io">不可变的</strong>数据类型，并且被大量使用。这个博客让我们看看我们可以在<code class="fe ki kj kk kl b">string</code>上执行的所有操作，以及它们的效率。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/4e1971a0084d3324cf3c8757ee312253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3asBYZ_J4Ly3No40.png"/></div></div></figure><p id="cc1d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那么，让我们来谈谈<strong class="jm io"><em class="ky"/></strong><em class="ky">字符串串联，有几种方法来执行</em> <strong class="jm io"> <em class="ky">字符串串联</em> </strong></p><ul class=""><li id="051d" class="kz la in jm b jn jo jr js jv lb jz lc kd ld kh le lf lg lh bi translated">使用<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/fmt" rel="noopener ugc nofollow" target="_blank">fmt</a></code>包装中的<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/fmt#Sprintf" rel="noopener ugc nofollow" target="_blank">Sprintf</a></code></li><li id="b85f" class="kz la in jm b jn lj jr lk jv ll jz lm kd ln kh le lf lg lh bi translated">使用<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings" rel="noopener ugc nofollow" target="_blank">strings</a></code>包中的<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Join" rel="noopener ugc nofollow" target="_blank">Join</a></code>功能</li><li id="7bc7" class="kz la in jm b jn lj jr lk jv ll jz lm kd ln kh le lf lg lh bi translated">使用<code class="fe ki kj kk kl b">+</code>符号连接字符串</li><li id="d8fe" class="kz la in jm b jn lj jr lk jv ll jz lm kd ln kh le lf lg lh bi translated">从<code class="fe ki kj kk kl b">Golang 1.10</code>开始使用<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings" rel="noopener ugc nofollow" target="_blank">strings</a></code>包中的<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Builder" rel="noopener ugc nofollow" target="_blank">Builder</a></code></li></ul><p id="87b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当你做一些小的连接时，我想这与你使用的方法无关。然而，随着用例的增长和变得越来越大，人们也需要注意这些。</p><p id="02ab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们用一些<code class="fe ki kj kk kl b">code</code>例子来验证这一点</p><ol class=""><li id="8700" class="kz la in jm b jn jo jr js jv lb jz lc kd ld kh lo lf lg lh bi translated"><strong class="jm io">使用</strong> <code class="fe ki kj kk kl b"><strong class="jm io">+</strong></code> <strong class="jm io">运算符</strong></li></ol><pre class="kn ko kp kq gt lp kl lq lr aw ls bi"><span id="d428" class="lt lu in kl b gy lv lw l lx ly">package main</span><span id="d39b" class="lt lu in kl b gy lz lw l lx ly">import (<br/> "testing"<br/>)</span><span id="32bc" class="lt lu in kl b gy lz lw l lx ly">const (<br/> smallString = "StringsInGolang"<br/> longString  = "somegarbagestringwithallthecharacterslknvklancerlkwrvcekljrvklrn"<br/>)</span><span id="54ac" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">generateRandomLengthOfStrings</strong>(s string) (data []string, size int) {<br/> // Running the loop for 100 time and each time<br/> // inserting the same in the List Of String []data<br/> for i := 0; i &lt; 100; i++ {<br/>  data = append(data, s)<br/>  size += len(s)<br/> }<br/> return data, size<br/>}</span><span id="7aa5" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithOperatorSmallStringUnknownSize</strong>(b *testing.B) {<br/> data, _ := generateRandomLengthOfStrings(<strong class="kl io">smallString</strong>)<br/> var s string<br/> for n := 0; n &lt; b.N; n++ {<br/>  for _, d := range data {<br/>   s += d<br/>  }<br/>  _ = s<br/> }<br/>}</span><span id="d4ea" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithOperatorLongerStringUnknownSize</strong>(b *testing.B) {<br/> data, _ := generateRandomLengthOfStrings(<strong class="kl io">longString</strong>)<br/> var s string<br/> for n := 0; n &lt; b.N; n++ {<br/>  for _, d := range data {<br/>   s += d<br/>  }<br/>  _ = s<br/> }<br/>}</span></pre><p id="76c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">以下是我运行<code class="fe ki kj kk kl b">go test -bench=. -benchmem</code>时看到的内容</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ma"><img src="../Images/c066f1e7cb32d446253253dbd6e709e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iu97t9mE61RY6CQ4c8uhFw.png"/></div></div></figure><p id="8ed9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">清晰可见<strong class="jm io">较小管柱</strong>标杆取<code class="fe ki kj kk kl b">18744501 ns/op</code>较长管柱<strong class="jm io">取<code class="fe ki kj kk kl b">18892603 ns/op</code>。</strong></p><p id="1fdb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，我们运行了基准禁用<strong class="jm io"> Golang 优化</strong>T16】</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mb"><img src="../Images/344708c5ef84482e06fcfaac812a3eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Om3Jk5-zClizpCufzW9IfA.png"/></div></div></figure><p id="5e7b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">根据编译器执行的运行时优化，该数字会略有变化。</p><p id="c47e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 2。使用</strong> <code class="fe ki kj kk kl b"><strong class="jm io">fmt.Sprintf</strong></code></p><pre class="kn ko kp kq gt lp kl lq lr aw ls bi"><span id="9845" class="lt lu in kl b gy lv lw l lx ly">package main</span><span id="de06" class="lt lu in kl b gy lz lw l lx ly">import (<br/> "fmt"<br/> "strings"<br/> "testing"<br/>)</span><span id="d6bd" class="lt lu in kl b gy lz lw l lx ly">const (<br/> smallString = "StringsInGolang"<br/> longString  = "somegarbagestringwithallthecharacterslknvklancerlkwrvcekljrvklrn"<br/>)</span><span id="e9f5" class="lt lu in kl b gy lz lw l lx ly">func generateRandomLengthOfStrings(s string) (stringCollection []string, stringSize int) {<br/> // Running the loop for 100 time and each time<br/> // inserting the same in the List Of String []data<br/> for i := 0; i &lt; 100; i++ {<br/>  stringCollection = append(stringCollection, s)<br/>  stringSize += len(s)<br/> }<br/> return stringCollection, stringSize<br/>}</span><span id="ce3d" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithSprintfSmallStringUnknownSize</strong>(b *testing.B) {<br/>    data, _ := generateRandomLengthOfStrings(<strong class="kl io">smallString</strong>)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        s = fmt.Sprintf(s, data)<br/>        _ = s<br/>    }<br/>}</span><span id="049a" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithSprintfLongerStringUnknownSize</strong>(b *testing.B) {<br/>    stringCollection, _ := generateRandomLengthOfStrings(<strong class="kl io">longString</strong>)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        s = fmt.Sprintf(s, stringCollection)<br/>        _ = s<br/>    }<br/>}</span><span id="1b7b" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithSprintfSmallStringKnownSize</strong>(b *testing.B) {<br/>    stringCollection, _ := generateRandomLengthOfStrings(<strong class="kl io">smallString</strong>)<br/>    var t []interface{}<br/>    for _, d := range stringCollection {<br/>        t = append(t, d)<br/>    }<br/>    format := strings.Repeat("%s ", len(t))<br/>    format = strings.TrimSuffix(format, " ")<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        s = fmt.Sprintf(format, t...)<br/>        _ = s<br/>    }<br/>}</span><span id="500e" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithSprintfLongerStringKnownSize</strong>(b *testing.B) {<br/>    stringCollection, _ := generateRandomLengthOfStrings(<strong class="kl io">longString</strong>)<br/>    var t []interface{}<br/>    for _, d := range stringCollection {<br/>        t = append(t, d)<br/>    }<br/>    format := strings.Repeat("%s ", len(t))<br/>    format = strings.TrimSuffix(format, " ")<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        s = fmt.Sprintf(format, t...)<br/>        _ = s<br/>    }<br/>}</span></pre><p id="1a7c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是我们可以用<code class="fe ki kj kk kl b">-gcflags=-N</code>看到的</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mc"><img src="../Images/84f2c5d593f86281d273fcbd7fd13ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JJix50O0ndRqEKdJttXKnQ.png"/></div></div></figure><p id="35e3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">显然，<code class="fe ki kj kk kl b">Sprintf</code>花费了更多的时间，如果我们知道字符串的<strong class="jm io">长度呢</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi md"><img src="../Images/20804be80cb2c51270bcaf0e562ef3f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MWXuVtxTezWS_xYmgYDeoQ.png"/></div></div></figure><p id="1bec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当字符串的<strong class="jm io">长度为<strong class="jm io">已知时，结果发生剧烈变化。</strong>如果我们<strong class="jm io">启用优化会怎么样？</strong></strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ma"><img src="../Images/8b77588be3ad2fbeba28828a9645c2fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BbWDgDdohPnGTlGXOQBIjg.png"/></div></div></figure><p id="06ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以现在这些数字各自都有所提高。</p><blockquote class="me mf mg"><p id="56a3" class="jk jl ky jm b jn jo jp jq jr js jt ju mh jw jx jy mi ka kb kc mj ke kf kg kh ig bi translated">现在，对于<code class="fe ki kj kk kl b">string</code>串联<code class="fe ki kj kk kl b"><strong class="jm io">+</strong></code> <strong class="jm io">操作符</strong>似乎是<strong class="jm io">赢得</strong>比赛如果<strong class="jm io">长度</strong>未知，然而如果<strong class="jm io">长度已知</strong>，那么<code class="fe ki kj kk kl b"><strong class="jm io">Sprintf</strong></code> <strong class="jm io"> </strong>执行方式更好。</p></blockquote><p id="ce4e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 3。使用</strong> <code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Join" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">Join</strong></a></code></p><p id="4ff8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们用<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Join" rel="noopener ugc nofollow" target="_blank">Join</a></code>看看有什么区别。下面的代码更改</p><pre class="kn ko kp kq gt lp kl lq lr aw ls bi"><span id="4a5f" class="lt lu in kl b gy lv lw l lx ly">package main</span><span id="7eae" class="lt lu in kl b gy lz lw l lx ly">import (<br/> "fmt"<br/>  "strings"<br/> "testing"<br/>)</span><span id="dd69" class="lt lu in kl b gy lz lw l lx ly">const (<br/> smallString = "StringsInGolang"<br/> longString  = "somegarbagestringwithallthecharacterslknvklancerlkwrvcekljrvklrn"<br/>)</span><span id="6d37" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">generateRandomLengthOfStrings</strong>(s string) (stringCollection []string, stringSize int) {<br/> // Running the loop for 100 time and each time<br/> // inserting the same in the List Of String []data<br/> for i := 0; i &lt; 100; i++ {<br/>  stringCollection = append(stringCollection, s)<br/>  stringSize += len(s)<br/> }<br/> return stringCollection, stringSize<br/>}</span><span id="74d4" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithJoinSmallerStringKnownSize</strong>(b *testing.B) {<br/>    stringCollection, _ := generateRandomLengthOfStrings(<strong class="kl io">smallString</strong>)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        s = strings.Join(stringCollection, " ")<br/>        _ = s<br/>    }<br/>}</span><span id="66bf" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithJoinLongerStringKnownSize</strong>(b *testing.B) {<br/>    stringCollection, _ := generateRandomLengthOfStrings(<strong class="kl io">longString</strong>)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        s = strings.Join(stringCollection, " ")<br/>        _ = s<br/>    }<br/>}</span></pre><p id="4eb2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里的结果是用<code class="fe ki kj kk kl b">string</code>与<strong class="jm io">的长度已知</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mk"><img src="../Images/b793eee9a3843ee43bba392cc061730e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RlzbzYe-92hJRgUqJdZnUw.png"/></div></div></figure><p id="5163" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如你所见，当字符串长度已知时，与其他方法相比,<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Join" rel="noopener ugc nofollow" target="_blank">Join</a></code>工作得非常好。</p><p id="f39d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 4。使用</strong> <code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Builder" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">Builder</strong></a></code> <strong class="jm io">从</strong> <code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">strings</strong></a></code> <strong class="jm io">包</strong></p><p id="edfb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从 Golang 1.10 开始<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">strings</strong></a></code> <strong class="jm io"> </strong>包有一个<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Builder" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">Builder</strong></a></code> <strong class="jm io"> </strong>类型，可以用来构建字符串。下面是代码的变化</p><pre class="kn ko kp kq gt lp kl lq lr aw ls bi"><span id="e871" class="lt lu in kl b gy lv lw l lx ly">package main</span><span id="2265" class="lt lu in kl b gy lz lw l lx ly">import (<br/> "strings"<br/> "testing"<br/>)</span><span id="34ca" class="lt lu in kl b gy lz lw l lx ly">const (<br/> smallString = "StringsInGolang"<br/> longString  = "somegarbagestringwithallthecharacterslknvklancerlkwrvcekljrvklrn"<br/>)</span><span id="9083" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">generateRandomLengthOfStrings</strong>(s string) (stringCollection []string, stringSize int) {<br/> // Running the loop for 100 time and each time<br/> // inserting the same in the List Of String []data<br/> for i := 0; i &lt; 100; i++ {<br/>  stringCollection = append(stringCollection, s)<br/>  stringSize += len(s)<br/> }<br/> return stringCollection, stringSize<br/>}</span><span id="5fd8" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithStringBuilderSmallerStringUnknownSize</strong>(b *testing.B) {<br/>    stringCollection, _ := generateRandomLengthOfStrings(smallString)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        var builder strings.Builder<br/>        for _, s := range stringCollection {<br/>            builder.WriteString(s)<br/>        }<br/>        s = builder.String()<br/>        _ = s<br/>    }<br/>}</span><span id="2cb7" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithStringBuilderLongerStringUnknownSize</strong>(b *testing.B) {<br/>    stringCollection, _ := generateRandomLengthOfStrings(<strong class="kl io">longString</strong>)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        var builder strings.Builder<br/>        for _, s := range stringCollection {<br/>            builder.WriteString(s)<br/>        }<br/>        s = builder.String()<br/>        _ = s<br/>    }<br/>}</span><span id="2a79" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithStringBuilderSmallerStringKnownSize</strong>(b *testing.B) {<br/>    stringCollection, size := generateRandomLengthOfStrings(<strong class="kl io">smallString</strong>)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        var builder strings.Builder<br/>        builder.Grow(size)<br/>        for _, s := range stringCollection {<br/>            builder.WriteString(s)<br/>        }<br/>        s = builder.String()<br/>        _ = s<br/>    }<br/>}</span><span id="641b" class="lt lu in kl b gy lz lw l lx ly">func <strong class="kl io">BenchmarkWithStringBuilderLongerStringKnownSize</strong>(b *testing.B) {<br/>    stringCollection, size := generateRandomLengthOfStrings(<strong class="kl io">longString</strong>)<br/>    var s string<br/>    for n := 0; n &lt; b.N; n++ {<br/>        var builder strings.Builder<br/>        builder.Grow(size)<br/>        for _, s := range stringCollection {<br/>            builder.WriteString(s)<br/>        }<br/>        s = builder.String()<br/>        _ = s<br/>    }<br/>}</span></pre><p id="a49b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是结果</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ml"><img src="../Images/8b5079742cf70d3a61d39c86babeae17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t4PAkfWF1fQgzUMMzBoUXw.png"/></div></div></figure><p id="d275" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">同样，当长度已知时，它表现得相当好，当长度未知时，它的表现也明显好于<code class="fe ki kj kk kl b">+</code>操作符</p><p id="9a08" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，总体来看，当字符串长度已知或未知时，基准测试结果看起来像是<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Join" rel="noopener ugc nofollow" target="_blank">Join</a></code>、<code class="fe ki kj kk kl b"><a class="ae li" href="https://pkg.go.dev/strings#Builder" rel="noopener ugc nofollow" target="_blank">Builder</a></code>、<code class="fe ki kj kk kl b">Sprintf</code>做得很好。<code class="fe ki kj kk kl b">+</code>操作符在这两种情况下都表现不佳。</p><p id="2b6c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望这能提供更多关于<strong class="jm io"> <em class="ky">字符串</em> </strong>以及语言如何处理它的信息</p><h1 id="3f4e" class="mm lu in bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">编码快乐！！</h1></div></div>    
</body>
</html>