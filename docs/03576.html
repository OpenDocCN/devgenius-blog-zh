<html>
<head>
<title>Code Smell 29 — Settings/Configs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味29-设置/配置</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-smell-29-settings-configs-39188e5b8316?source=collection_archive---------1-----------------------#2020-11-20">https://blog.devgenius.io/code-smell-29-settings-configs-39188e5b8316?source=collection_archive---------1-----------------------#2020-11-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="d549" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">在控制板中改变系统行为是客户的梦想。软件工程师的噩梦。</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/46aae3ef4a2f9b4ba12e7279ea4d612c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EU0iLGsr_iyKB2_3KSbOFQ.jpeg"/></div></div></figure><h1 id="ee7c" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">问题</h1><ul class=""><li id="f49e" class="lt lu in jm b jn lv jr lw jv lx jz ly kd lz kh ma mb mc md bi translated">重复代码</li><li id="55ac" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated"><a class="ae mj" href="https://medium.com/dev-genius/how-to-get-rid-of-annoying-ifs-forever-317033474484" rel="noopener"> If污染</a></li><li id="1466" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated">全局使用</li><li id="d058" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated"><a class="ae mj" href="https://codeburst.io/coupling-the-one-and-only-software-design-problem-869e293a9f04" rel="noopener" target="_blank">联轴器</a></li><li id="f9e6" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated">测试性和测试场景的爆炸。</li><li id="a6ab" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated">复杂性</li></ul><h1 id="beed" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">解决方法</h1><ol class=""><li id="d951" class="lt lu in jm b jn lv jr lw jv lx jz ly kd lz kh mk mb mc md bi translated">避免设置</li><li id="8e31" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh mk mb mc md bi translated">创建多态对象。外部注射。</li></ol><h1 id="cab5" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">示例代码</h1><h2 id="0221" class="ml kw in bd kx mm mn dn lb mo mp dp lf jv mq mr lj jz ms mt ln kd mu mv lr mw bi translated">错误的</h2><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mx my l"/></div></figure><h2 id="d43e" class="ml kw in bd kx mm mn dn lb mo mp dp lf jv mq mr lj jz ms mt ln kd mu mv lr mw bi translated">对吧</h2><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mx my l"/></div></figure><h1 id="ba22" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">侦查</h1><p id="8b5f" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv mz jx jy jz na kb kc kd nb kf kg kh ig bi translated">这是一种架构模式，因此应该通过设计策略来控制/避免。</p><h1 id="2d13" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">例子</h1><ul class=""><li id="3d4a" class="lt lu in jm b jn lv jr lw jv lx jz ly kd lz kh ma mb mc md bi translated">外部连接设置</li><li id="5dc5" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated">用户设置</li><li id="334e" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated"><a class="ae mj" href="https://en.wikipedia.org/wiki/Feature_toggle" rel="noopener ugc nofollow" target="_blank">特征切换</a></li></ul><h1 id="dcda" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">例外</h1><ul class=""><li id="10b9" class="lt lu in jm b jn lv jr lw jv lx jz ly kd lz kh ma mb mc md bi translated">有时，我们将功能捆绑作为一种保障机制。这在遗留系统中是可以接受的。在<a class="ae mj" href="https://en.wikipedia.org/wiki/CI/CD" rel="noopener ugc nofollow" target="_blank"> CI/CD </a>系统中，这些开关的寿命应该很短。</li><li id="a07b" class="lt lu in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated">超级参数设置应由配置对象管理。</li></ul><h1 id="4c3d" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">标签</h1><ul class=""><li id="a666" class="lt lu in jm b jn lv jr lw jv lx jz ly kd lz kh ma mb mc md bi translated">全局</li></ul><h1 id="b27c" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">结论</h1><p id="ffe7" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv mz jx jy jz na kb kc kd nb kf kg kh ig bi translated">设置运行时行为对于软件系统来说是很好的。</p><p id="7d10" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们应该配置我们的对象，这样它们就可以以不同的方式运行，我们应该通过显式的行为对象以显式的方式来实现。</p><p id="e518" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这样，我们的代码将更具声明性、清晰性和可测试性。这并不像添加<em class="ki"> IF语句</em>那么简单。这种懒惰的开发人员给我们的系统带来了很多耦合和意想不到的问题。</p><blockquote class="nc nd ne"><p id="6558" class="jk jl ki jm b jn jo jp jq jr js jt ju nf jw jx jy ng ka kb kc nh ke kf kg kh ig bi translated"><em class="in">一个具有300个布尔配置的系统有更多的测试组合(2^300)，比宇宙中的原子数量(10^80).</em></p></blockquote><h1 id="8972" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">也被称为</h1><ul class=""><li id="21ed" class="lt lu in jm b jn lv jr lw jv lx jz ly kd lz kh ma mb mc md bi translated">功能切换</li></ul><div class="ni nj gp gr nk nl"><a href="https://jeromedane.medium.com/feature-flags-are-dangerous-88ef9d6c9f04" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd io gy z fp nq fr fs nr fu fw im bi translated">功能标志很危险</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">功能标志很危险，有更好的方法来完成你正在尝试做的事情。</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">jeromedane.medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz kt nl"/></div></div></a></div><h1 id="07a5" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">更多信息</h1><div class="ni nj gp gr nk nl"><a href="https://medium.com/dev-genius/how-to-get-rid-of-annoying-ifs-forever-317033474484" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd io gy z fp nq fr fs nr fu fw im bi translated">如何永远摆脱恼人的假设</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">为什么我们学习编程的第一条指令应该是最后一条？</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz kt nl"/></div></div></a></div></div><div class="ab cl ob oc hr od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ig ih ii ij ik"><blockquote class="nc nd ne"><p id="8816" class="jk jl ki jm b jn jo jp jq jr js jt ju nf jw jx jy ng ka kb kc nh ke kf kg kh ig bi translated"><em class="in">简单是效率的灵魂。</em></p></blockquote><p id="acfd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">奥斯汀·弗里曼</em></p><div class="ni nj gp gr nk nl"><a href="https://medium.com/dev-genius/software-engineering-great-quotes-3af63cea6782" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd io gy z fp nq fr fs nr fu fw im bi translated">软件工程大报价</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">有时一个简短的想法会带来惊人的想法。</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="oi l nw nx ny nu nz kt nl"/></div></div></a></div></div><div class="ab cl ob oc hr od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ig ih ii ij ik"><p id="e7e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文是<em class="ki">编码嗅觉</em>系列的一部分。</p><div class="ni nj gp gr nk nl"><a href="https://medium.com/dev-genius/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd io gy z fp nq fr fs nr fu fw im bi translated">如何找到代码中的“臭”部分</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">代码闻起来很难闻。让我们看看如何改变香味。</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="oj l nw nx ny nu nz kt nl"/></div></div></a></div></div></div>    
</body>
</html>