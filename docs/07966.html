<html>
<head>
<title>BarCodeReader App using React Native Vision Camera.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ React æœ¬æœºè§†è§‰æ‘„åƒå¤´çš„æ¡å½¢ç é˜…è¯»å™¨åº”ç”¨ç¨‹åºã€‚</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/barcodereader-app-using-react-native-vision-camera-2cb812763393?source=collection_archive---------0-----------------------#2022-05-07">https://blog.devgenius.io/barcodereader-app-using-react-native-vision-camera-2cb812763393?source=collection_archive---------0-----------------------#2022-05-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="8c66" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä½ å¯ä»¥æ‰¾åˆ°è®¸å¤šåšå®¢ååº”åŸç”Ÿæ¡ç é˜…è¯»å™¨åº”ç”¨ç¨‹åºï¼Œä½†æ‰€æœ‰è¿™äº›éƒ½å¾ˆæ—§ï¼Œå…¶ä¸­ä¸€äº›è¡¨ç°å¾ˆå·®ã€‚ä¸ä¹…å‰ï¼Œæˆ‘æœ‰æœºä¼šä¸ºä¸€å®¶å…¬å¸è®¾è®¡äº†ä¸€ä¸ªï¼Œåœ¨è¿™å®¶å…¬å¸é‡Œï¼Œæ€§èƒ½æ˜¯ä¸€ä¸ªå…³é”®å› ç´ ã€‚åœ¨åšäº†å¤§é‡çš„ç ”ç©¶ã€åŸºå‡†æµ‹è¯•å’Œå¤§é‡çš„å¤´è„‘é£æš´ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åšå‡ºä¸€ä¸ªæ€§èƒ½éå¸¸å¥½çš„åº”ç”¨ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b246347c95cc4504a00471d6c001ed91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08FFPPQFPK_ZAQKijFA8WQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">ä»‹ç»å›¾åƒ</figcaption></figure><p id="1d5c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">é¦–å…ˆï¼Œæˆ‘å‡è®¾æ‚¨å·²ç»å‡†å¤‡å¥½äº†æ ‡å‡†çš„ react æœ¬åœ°æ¨¡æ¿ã€‚æˆ‘å°†ä¸æ¶‰åŠè¿™ä¸€ç‚¹ï¼Œå› ä¸ºè¿™æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚</p><p id="01ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç»§ç»­è¿›è¡Œæ‰€éœ€çš„å®‰è£…ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåä¸º:react-native-vision-camera çš„åº“ã€‚å®ƒæ˜¯ react-native-camera çš„æ›¿ä»£å“ï¼Œç°åœ¨æ˜¯ç¤¾åŒºå»ºè®®çš„æ ‡å‡†ç›¸æœºã€‚åœ¨è¿™é‡Œé˜…è¯»<a class="ae ky" href="https://github.com/react-native-camera/react-native-camera" rel="noopener ugc nofollow" target="_blank"/>ã€‚</p><p id="6c2e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¦å®‰è£…:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="6b27" class="le lf in la b gy lg lh l li lj">yarn add react-native-vision-camera</span><span id="64e7" class="le lf in la b gy lk lh l li lj">or</span><span id="5573" class="le lf in la b gy lk lh l li lj">npm install react-native-vision-camera</span><span id="eee1" class="le lf in la b gy lk lh l li lj">or</span><span id="0fd9" class="le lf in la b gy lk lh l li lj">expo install react-native-vision-camera</span></pre><p id="3b8f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¯¹äº ios åº”ç”¨ç¨‹åº:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="a074" class="le lf in la b gy lg lh l li lj">cd ios &amp;&amp; pod install &amp;&amp; cd ../</span></pre><p id="5472" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ›´æ–°æ¸…å•:</p><p id="fafa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">å®‰å“:</strong></p><p id="8220" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ‰“å¼€é¡¹ç›®çš„<code class="fe ll lm ln la b">AndroidManifest.xml</code>ï¼Œåœ¨<code class="fe ll lm ln la b">&lt;manifest&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ ä»¥ä¸‹å‡ è¡Œ:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="6107" class="le lf in la b gy lg lh l li lj">&lt;uses-permission android:name="android.permission.CAMERA" /&gt;</span></pre><p id="4411" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> iOS: </strong></p><p id="c30e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ‰“å¼€é¡¹ç›®çš„<code class="fe ll lm ln la b">Info.plist</code>ï¼Œåœ¨æœ€å¤–é¢çš„<code class="fe ll lm ln la b">&lt;dict&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç è¡Œ:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="20b5" class="le lf in la b gy lg lh l li lj">&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;<br/>&lt;string&gt;$(PRODUCT_NAME) needs access to your Camera.&lt;/string&gt;</span><span id="64e6" class="le lf in la b gy lk lh l li lj">&lt;!-- optionally, if you want to record audio: --&gt;<br/>&lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;<br/>&lt;string&gt;$(PRODUCT_NAME) needs access to your Microphone.&lt;/string&gt;</span></pre><p id="c926" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">ç®¡ç†åšè§ˆä¼š:</strong></p><p id="bbbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å°† VisionCamera æ’ä»¶æ·»åŠ åˆ°æ‚¨çš„ Expo é…ç½®(<code class="fe ll lm ln la b">app.json</code>ã€<code class="fe ll lm ln la b">app.config.json</code>æˆ–<code class="fe ll lm ln la b">app.config.js</code>):</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="344a" class="le lf in la b gy lg lh l li lj">{<br/>  "name": "my app",<br/>  "plugins": [<br/>    [<br/>      "react-native-vision-camera",<br/>      {<br/>        "cameraPermissionText": "$(PRODUCT_NAME) needs access to your Camera."<br/>      }<br/>    ]<br/>  ]<br/>}</span></pre><p id="4267" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æœ€åï¼Œç¼–è¯‘ mods:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="ce49" class="le lf in la b gy lg lh l li lj">expo prebuild</span></pre><p id="8538" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¦åº”ç”¨è¿™äº›æ›´æ”¹ï¼Œç”¨ EAS æ„å»ºä¸€ä¸ªæ–°çš„äºŒè¿›åˆ¶æ–‡ä»¶:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="d3b8" class="le lf in la b gy lg lh l li lj">eas build</span></pre><p id="5434" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç”±äºæˆ‘ä»¬å°†ä½¿ç”¨å¸§å¤„ç†å™¨æ¥æ„å»ºæˆ‘ä»¬çš„æ¡å½¢ç é˜…è¯»å™¨ï¼Œæˆ‘ä»¬å°†éœ€è¦ react-native-reactiveã€‚è®©æˆ‘ä»¬ä¹Ÿå®‰è£…å®ƒã€‚</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="3615" class="le lf in la b gy lg lh l li lj">yarn add react-native-reanimated</span><span id="60a4" class="le lf in la b gy lk lh l li lj">or </span><span id="128e" class="le lf in la b gy lk lh l li lj">npm install react-native-reanimated</span></pre><p id="44f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨æŒ‰ç…§å…¥é—¨æŒ‡å—<a class="ae ky" href="https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/installation/" rel="noopener ugc nofollow" target="_blank">è¿›è¡Œæ‰€éœ€çš„é…ç½®ã€‚</a></p><p id="05aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¸ºäº†é¿å…ç›¸æœºç”±äºæƒé™è€Œé‡æ–°æ¸²æŸ“ï¼Œå°½å¿«è¯·æ±‚æƒé™æ€»æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸»å±å¹•ä¸Šè¯¢é—®æƒé™ï¼Œè€Œä¸æ˜¯åœ¨æ‰«æå±å¹•ä¸Šè¯¢é—®ã€‚æˆ‘å¸Œæœ›ä½ æ˜ç™½æˆ‘æƒ³è¡¨è¾¾çš„æ„æ€ã€‚</p><p id="c43a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å› æ­¤ï¼Œåœ¨åº”ç”¨ç¨‹åºçš„ä¸»å±å¹•ä¸Šï¼Œæ·»åŠ ä»¥ä¸‹å‡ è¡Œã€‚</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="c85c" class="le lf in la b gy lg lh l li lj">import {Camera} from 'react-native-vision-camera';</span><span id="e30a" class="le lf in la b gy lk lh l li lj">/* Inside your component */</span><span id="9345" class="le lf in la b gy lk lh l li lj">const checkCameraPermission = async () =&gt; {<br/>  let status = await Camera.getCameraPermissionStatus();<br/>  if (status !== 'authorized') {<br/>    await Camera.requestCameraPermission();<br/>    status = await Camera.getCameraPermissionStatus();<br/>    if (status === 'denied') {<br/>      showToast(<br/>        'You will not be able to scan if you do not allow camera access',<br/>      );<br/>    }<br/>  }<br/>};</span><span id="932e" class="le lf in la b gy lk lh l li lj">// class based components<br/>componentDidMount() {<br/>    .....<br/>    .....<br/>    checkCameraPermission();<br/>  }</span><span id="e67a" class="le lf in la b gy lk lh l li lj">// functional components</span><span id="9bde" class="le lf in la b gy lk lh l li lj">useEffect(() =&gt; {<br/>   checkCameraPermission();<br/>}, []);</span></pre><p id="39da" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬è½¬åˆ°å®é™…çš„ ScanScreenï¼Œå±•ç¤ºä¸€äº› UI å’Œé€»è¾‘éƒ¨åˆ†ã€‚</p><p id="440a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬å°†ä½¿ç”¨è§†è§‰æ‘„åƒå¤´ä»£ç æ‰«æä»ªã€‚è¿˜æœ‰å…¶ä»–å¯ç”¨çš„ï¼Œä½†ä»æˆ‘é‡åˆ°çš„ï¼Œè¿™å¯èƒ½æ˜¯æœ€å¥½çš„ä¸€ä¸ªã€‚ç„¶è€Œï¼Œä½ ä¹Ÿå¯ä»¥æ£€æŸ¥å…¶ä»–äººã€‚</p><p id="93c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¸ºäº†æ›´å¥½çš„ UI å¤–è§‚ï¼Œæˆ‘ä»¬ä¹Ÿå°†ä½¿ç”¨ react-native-hole-viewã€‚è®©æˆ‘ä»¬å®‰è£…å®ƒä»¬ã€‚</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="7b1c" class="le lf in la b gy lg lh l li lj">yarn add vision-camera-code-scanner react-native-hole-view</span><span id="09c9" class="le lf in la b gy lk lh l li lj">or</span><span id="747c" class="le lf in la b gy lk lh l li lj">npm install vision-camera-code-scanner react-native-hole-view</span><span id="9849" class="le lf in la b gy lk lh l li lj">// For iOS apps:</span><span id="6610" class="le lf in la b gy lk lh l li lj">cd ios &amp;&amp; pod install &amp;&amp; cd ../</span></pre><p id="0040" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨å°†ä¸‹é¢å‡ è¡Œä»£ç æ·»åŠ åˆ°æ‚¨çš„ä»£ç ä¸­ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lo lp l"/></div></figure><p id="b034" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä½ ç°åœ¨éƒ½åšå®Œäº†ã€‚è¿™æ—¢ç®€å•åˆé«˜æ•ˆã€‚<strong class="jm io">å…³æ³¨</strong>æˆ‘è·å–æ›´å¤šæ­¤ç±»å†…å®¹ã€‚è°¢äº†ã€‚ç¥ä½ æœ‰ç¾å¥½çš„ä¸€å¤©ï¼</p><p id="5b7e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¹²æ¯ã€‚âœŒğŸ»</p></div></div>    
</body>
</html>