# 生锈的傻瓜，白痴，初学者和其他人！—第 3 部分:功能和控制流程

> 原文：<https://blog.devgenius.io/rust-for-dummies-idiots-beginners-and-everyone-else-part-3-functions-control-flow-2966025a59bd?source=collection_archive---------7----------------------->

# 介绍

又见面了！上次我们讨论了变量声明，从一些数据结构开始，并研究了基本的数据类型。今天，我们继续并结束关于基本编程概念的两篇文章。

我们开始吧！

![](img/193c6e8d2a36cd76de4c154dffc31d49.png)

控制流量或代码流！

# 功能

函数是现代编程中最有用和最基本的工具之一。在本文之前，我们已经看到了 main 函数，其中 main 关键字表示 main 函数是程序的入口点。我们还看到了 fn 关键字，它表明我们正在创建一个函数。

到目前为止，我们声明的每个函数，我们都叫 main，这是因为我们写的程序足够简单，我们不需要超过一个函数。然而，随着我们程序的增长，我们会发现在一个大的、单一的代码块中写所有的东西是迂腐的、烦人的、难以跟踪的。解决这个问题的方法是创建其他函数，作为可重用的代码块，我们可以在任何时候从主函数或其他更高级别的函数调用它们。

每个函数都是用关键字 *fn* 定义的，后面是函数名和一组括号。Rust 中的花括号告知编译器函数体的开始和结束位置。

调用主函数外部的函数。

这是一个非常强大的工具，我们可以做的不仅仅是这些。我们可以传递参数，也可以从外部函数返回变量。当我们定义函数有参数时，我们是在通知函数期望我们给它变量供它使用。在函数中，我们将基于这些变量执行一些操作，然后根据被调用函数中的一些计算返回一个新值。

带参数的函数

值得注意的是，我们可以向一个函数传递多个参数。当传递参数时，重要的是我们要给参数分配一个名称，例如， *x* ，一个数据类型，例如， *i32* ，如果我们想要输入更多的参数，我们重复这个模板并用逗号分隔我们的参数。

在 Rust 中，我们有陈述和表达的概念，这些概念在大多数其他语言中都没有正式化。函数中的代码称为函数体，由一系列语句组成，这些语句可以选择以表达式结尾。Rust 是一种基于表达式的语言。

语句是执行动作但不返回值的指令。包括变量声明和函数定义的语句。

表达式是执行动作并返回值的指令。表达式的示例通常包括数学运算。

这和我们有什么关系？到目前为止，我们看到的函数都是语句性质的，它们不是返回值。然而，我们可以使用表达式的能力来指示函数返回值。

从函数中返回值

如果我们看一下上面，我们可以看到如何从对输入执行操作的函数返回值。我们通过声明的变量 x 将值 5 传递给函数。注意，在函数的声明中，我们有两个新的特征:

1.  当声明函数时，我们通知它期望返回 32 位的有符号值。
2.  与其他编程语言不同，我们不显式地输入 return，而是省略分号。

# 控制流

控制流就是根据条件是否为真来运行一些代码的能力。

*if* 表达式是一个强大的关键字，它允许您根据一个或多个条件的有效性来分支您的代码——简单地说，如果某个条件为真，则执行代码块 A，如果相同的条件不为真，则执行代码块 b。

铁锈中的 If 语句

除了分支之外，多次执行特定的代码块也是有用的，即重复代码块。我们要研究的第一种重复机制是*循环*。这将重复执行一个代码块，直到用户通过用户干预或循环本身的中断条件显式停止。

*break* 关键字是实现这一目的的重要工具，在循环中使用它将通知程序停止执行循环。与 *break* 关键字类似的是 *continue* 关键字，与前者相反，它不会完全退出循环，而是跳过当前循环迭代中任何未执行的代码，开始循环代码的下一次迭代。

另一种类型的循环是 *while* 循环。一个继续重复代码直到满足条件的语句，意味着我们不再需要 *break* 关键字，也就是说，我们需要担心的语法更少了。

While 循环

最后，我们来看一下 *for* 循环，当希望使用预定义的数据结构(如数组)时，或者当我们希望生成自己的数据时，这是非常好的:

For 循环

# 结论

很酷的东西！我们现在已经知道了足够的基础知识，可以在下一个教程中开始构建一些基本的算法。希望你期待！

# 关于作者

我是 [Luke](https://www.linkedin.com/in/lukeabela5698/) ，我在马耳他大学攻读电子电气工程学士学位，在那里我学习嵌入式系统。接下来，我在伦敦大学玛丽皇后学院攻读了人工智能科学硕士学位。从那以后，我一直从事人工智能和物联网工程师的工作。