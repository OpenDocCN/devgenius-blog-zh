<html>
<head>
<title>Cleaner components with custom react hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有定制反应挂钩的清洁组件</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/clean-your-components-with-hooks-39a694acc27d?source=collection_archive---------1-----------------------#2021-07-28">https://blog.devgenius.io/clean-your-components-with-hooks-39a694acc27d?source=collection_archive---------1-----------------------#2021-07-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b67f17af161576adb10ae21787d9a4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4j7X_pfdhMvowHJIJSCMfw.jpeg"/></div></div></figure><p id="f1b5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最近，我一直在努力寻找方法，以确保我的组件更小，不会经常重新渲染。随着从基于类的组件到功能组件的转变，有一件事吸引了我，我应该把我的逻辑放在哪里？</p><blockquote class="kt ku kv"><p id="5f2c" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">后退一步，我意识到最简单的方法是使用定制的钩子。</p></blockquote><p id="c929" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对我来说，将函数放入函数中似乎有点反模式，违背了函数式编程的思想。你的职能应该做一件事，并把它做好。相反，我的功能是呈现一个组件，并存储一些分散在各处的useCallback、useState和useMemo方法。</p><p id="c2ef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">后退一步，我意识到最简单的方法是使用定制的钩子。</p><h2 id="61ac" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated">反应钩</h2><p id="1dee" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">React钩子已经存在一段时间了，所以我不会深入讨论它们。它们为我们提供了管理状态、变量以及重新渲染时应该调用哪些函数的新方法。</p><h2 id="7cfe" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated">自定义反应挂钩</h2><p id="2717" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">更好的部分是当我们能够创建我们自己的钩子时，这就是钩子的真正力量所在。通过利用这一点，我们能够将我们所有的逻辑分成更小的单独的可测试部分。最后，是的，我们最终得到了更多更小的文件，但是我们也最终得到了关注点的逻辑分离。</p><p id="5308" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是一个todo组件的例子来展示这个例子。在这个要点中，我们可以看到如何在不重构的情况下构建组件外观。通过将组件中的逻辑放入一个可重用的定制钩子中，我们可以看到将逻辑从主应用程序中分离出来是多么容易。</p><figure class="ly lz ma mb gt jo"><div class="bz fp l di"><div class="mc md l"/></div></figure><h2 id="26f7" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated">结论</h2><p id="24ba" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">定制钩子是一个强大的特性，当您需要在应用程序中使用多个逻辑时，它非常方便。我不认为它们是Redux和状态管理的完全替代品，而是可以与它们结合使用，以创建一个整体更干净和更高性能的体验。</p><p id="1d14" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在此处的的<a class="ae me" href="https://codesandbox.io/s/logic-in-hooks-c727j?file=/src/App.js:103-169" rel="noopener ugc nofollow" target="_blank">操作中查看该项目的源代码。</a></p></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><p id="7180" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您想注册访问更多媒体内容，请点击以下<a class="ae me" href="https://thewebuiguy.com/membership" rel="noopener ugc nofollow" target="_blank">链接</a>。这将使我能够写更多的故事，通过一个小的委员会从媒体。</p></div></div>    
</body>
</html>