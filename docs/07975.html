<html>
<head>
<title>How to use react-file-viewer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用反应文件浏览器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-use-react-file-previewer-da7427ec1715?source=collection_archive---------1-----------------------#2022-05-08">https://blog.devgenius.io/how-to-use-react-file-previewer-da7427ec1715?source=collection_archive---------1-----------------------#2022-05-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/626deac8d4e44c4adf5b446c01dfb660.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*rF6hRe8hPB5soVyNuI1Sjw.png"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">图片来自<a class="ae jv" href="https://github.com/plangrid/react-file-viewer" rel="noopener ugc nofollow" target="_blank">https://github.com/plangrid/react-file-viewer</a></figcaption></figure><h1 id="99c0" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">目的</h1><p id="7dd9" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">虽然我探索了一些 react 文件查看器库来实现“文件查看功能”，可以在不安装的情况下查看任何文件。事实上，很难找到一个非常好的，即使我找到了几个图书馆，并探索了它。最后，我发现了一个很好的库，叫做“反应文件浏览器”，我将向你展示什么是反应文件浏览器，以及如何使用这个库来展示一个例子。</p><h1 id="be0e" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">什么是反应文件浏览器？</h1><p id="0b0c" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">正如我提到的，react 文件查看器是一个 npm 库，我们可以在没有任何安装的情况下查看文件。一方面，有很多库可以用来查看 pdf。另一方面，有一些库可以用来查看其他扩展名，如 png、docx、xlsx、csv。我知道现在最重要的文档类型是 PDF，因为这种文档类型基本上不允许我们编辑。这更安全，我们保护文档免受任何欺骗，但仍然需要查看任何其他扩展，因为有很多人使用 Microsoft office，以及一些图像。</p><h1 id="53f8" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">react-file-viewer 的优缺点是什么？</h1><h2 id="0bb0" class="ls jx in bd jy lt lu dn kc lv lw dp kg lf lx ly kk lj lz ma ko ln mb mc ks md bi translated">赞成的意见</h2><ul class=""><li id="249f" class="me mf in kw b kx ky lb lc lf mg lj mh ln mi lr mj mk ml mm bi translated">支持不同的扩展</li></ul><p id="9614" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">这个库支持不同的扩展名，如 png，docx，xlsx，csv。可能存在其他付费的浏览者，但是这个图书馆是免费的。这太神奇了！甚至支持视频(mp4，webm)和音频(mp3)。</p><ul class=""><li id="80c2" class="me mf in kw b kx mn lb mo lf ms lj mt ln mu lr mj mk ml mm bi translated">使用方便</li></ul><p id="acee" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">虽然我稍后会展示一个例子，但是这个库不需要很多代码。只需要文件和类型。这个例子有一些错误组件，这是推荐的，但它仍然是可选的(这并不花时间，所以我也建议您安装和使用错误组件)。</p><ul class=""><li id="94d4" class="me mf in kw b kx mn lb mo lf ms lj mt ln mu lr mj mk ml mm bi translated">没有乱码文本</li></ul><p id="84b4" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">我试图使用几个文件浏览器，但我发现一些混乱的文本，以及一个错误的文本结构。</p><p id="0786" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">这个库没有任何乱码，下载的时候会出现“正在加载 0-100%”的文字。这是向用户显示当前情况的一个非常好的功能。</p><ul class=""><li id="4eba" class="me mf in kw b kx mn lb mo lf ms lj mt ln mu lr mj mk ml mm bi translated">也支持功能组件</li></ul><p id="dc55" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">虽然官方的例子是由类组件编写的，但是这个库也可以在功能组件中工作。这是一个很好的特性，因为我们不需要准备一个类组件来使用这个库。</p><h2 id="70f4" class="ls jx in bd jy lt lu dn kc lv lw dp kg lf lx ly kk lj lz ma ko ln mb mc ks md bi translated">骗局</h2><ul class=""><li id="73cc" class="me mf in kw b kx ky lb lc lf mg lj mh ln mi lr mj mk ml mm bi translated">没有频繁更新</li></ul><p id="223c" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">上次更新时间是 2 年前，也就是说这个库最近没有更新。这并不坏，但是当这个库停止开发并且我们不能再使用的时候，你需要找到一个不同的依赖。</p><ul class=""><li id="a2a4" class="me mf in kw b kx mn lb mo lf ms lj mt ln mu lr mj mk ml mm bi translated">不支持 ppt 扩展</li></ul><p id="f872" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">那要看情况，不过这个库不支持 ppt，虽然支持 docx 和 xlsx。如果您对文件查看器的需求包括 ppt，那么这个库并不适合您。</p><ul class=""><li id="068d" class="me mf in kw b kx mn lb mo lf ms lj mt ln mu lr mj mk ml mm bi translated">不支持 react18(仅限 xlsx、csv)。</li></ul><p id="3521" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">您可能知道，react 现在更新了不同的语法。大概就是因为这样，这个库不能再支持 xlsx，csv 了。如果我们降级到 react 17，xlsx 和 csv 就可以工作了(任何其他扩展在 react 18 中仍然可以工作)。</p><p id="4ab6" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">现在这还不是很糟糕，但是正如我已经提到的，这个库最近没有更新，这可能是几年后的大问题。</p><h2 id="0de0" class="ls jx in bd jy lt lu dn kc lv lw dp kg lf lx ly kk lj lz ma ko ln mb mc ks md bi translated">示例(循序渐进)</h2><ol class=""><li id="38d5" class="me mf in kw b kx ky lb lc lf mg lj mh ln mi lr mv mk ml mm bi translated">安装依赖项并使用它。react-file-viewer 是必需的，但是 logging-library 和 custom-error 是可选的(推荐使用这些)。</li></ol><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="955e" class="ls jx in nb b gy nf ng l nh ni">npm install react-file-viewer logging-library custom-error<br/>// logging-library and custom-error is optional.</span></pre><p id="5ba7" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">2.导入一些方法并使用它。因为我想向您展示一个文件查看器，所以我使用 useState 设置了 view 按钮。您可以使用本地文件或 URL。我把我的文件放在公共文件夹中，只需要使用它，但是你不需要写公共文件夹的路径，你只需要写文件名。这很实用</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="674c" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">3.这是我的屏幕。如果你点击“查看”按钮，你准备的文件就会出现。在这项事业中，我以我的简历 PDF 为例。</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/2a8554f1002608b4603d6f182b225278.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*bU0KNPj7je6MpOsKBc_PHw.gif"/></div></figure><h1 id="f16e" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">结论</h1><p id="7cbd" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">react-file-viewer 并不是查看文件的完美库，但是使用起来很有用。</p><p id="d5e5" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">当您搜索文件查看器库时，值得一试。</p><h1 id="899b" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">参考</h1><p id="858e" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">反应文件浏览器<a class="ae jv" href="https://www.npmjs.com/package/react-file-viewer" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/react-file-viewer</a></p><p id="5f24" class="pw-post-body-paragraph ku kv in kw b kx mn kz la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ig bi translated">感谢您的阅读！！</p></div></div>    
</body>
</html>