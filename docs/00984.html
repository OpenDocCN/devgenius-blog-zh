<html>
<head>
<title>My third week of coding in GSoC’20</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在 GSoC'20 编码的第三周</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/my-third-week-of-coding-in-gsoc20-ee789109307f?source=collection_archive---------16-----------------------#2020-06-21">https://blog.devgenius.io/my-third-week-of-coding-in-gsoc20-ee789109307f?source=collection_archive---------16-----------------------#2020-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/155ec5c48157aa859061c554d244153d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5D1FtRQu6eHa-StA"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@ffstop?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Fotis Fotopoulos </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="da2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大家好，</p><p id="6a8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我 GSoC 编码期第三周的博文。在这篇文章中，我谈论了我们项目的发展，在 Combine 框架中内置取消的能力，并且分享了一个令人难以置信的消息！</p><p id="836c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我不得不说，真的很快。对我来说几乎难以置信的是，加入 GSoC 已经有七个星期了。WWDC 明天开球！<br/><em class="lb">*结果于 5 月 4 日公布，社群结缘期即刻开始。</em></p><h1 id="6539" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">项目的发展</h1><p id="a18e" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">本周，我们已经完成了导师 iOS 应用程序的一些主要任务，现在它已经开始成形。</p><h2 id="c76e" class="mf ld iq bd le mg mh dn li mi mj dp lm ko mk ml lq ks mm mn lu kw mo mp ly mq bi translated">主页</h2><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/8abea21d7a6501dfdb86c6d14a798b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LpV89A1iIsc-5xw7mn-3Yg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">主屏幕</figcaption></figure><p id="0aaf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">主屏幕为用户提供了所有导师关系请求的概述，以及对其任务的快速浏览。主屏幕也是用户访问其个人资料的源屏幕。</p><p id="cb4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如你可能从我第二周的帖子中知道的，主屏幕的当前设计是在整整一周的额外讨论后决定的。看起来不错:)(抱歉奇怪的任务 xD)</p><h2 id="c164" class="mf ld iq bd le mg mh dn li mi mj dp lm ko mk ml lq ks mm mn lu kw mo mp ly mq bi translated">轮廓</h2><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/a83647c04fac86834e4101267a9a34cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R-ueNtE3qnIvrI9VeW4Hhg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">配置文件编辑器</figcaption></figure><p id="1725" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用户的个人资料存储在设备上，并与服务器同步，使其可以离线访问，同时保持最新。</p><p id="bc33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更新配置文件是一个多步骤的过程，包括对服务器进行 HTTP 调用，在此过程中显示一个自定义微调器和文本，完成后显示一个带有适当消息的警告，以及将配置文件保存在脱机存储中。</p><p id="c6ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于绑定的使用，包含选项的用户配置文件的数据结构被改变，以便可以安全地在文本字段中展开进行编辑，然后在保存时再次改变。</p><p id="87aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们现在已经添加了协议，允许我们在很大程度上为成员个人资料和用户个人资料页面重用个人资料屏幕。这是一个非常优雅的解决方案，是泛型编程的实现。</p><h2 id="b8d7" class="mf ld iq bd le mg mh dn li mi mj dp lm ko mk ml lq ks mm mn lu kw mo mp ly mq bi translated">设置</h2><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/ebf5fb547321092525ebabfe729cbcb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0aRz7pUOFKX2YFiaa52mQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">设置屏幕</figcaption></figure><p id="e367" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我特别喜欢设置屏幕。真的很工整！没有任何颜色或背景的大而清晰的图标给人一种真正不受干扰的体验。</p><p id="b967" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用它真的是一种享受，尤其是在物理设备上。</p><h1 id="2fbc" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">联合框架中内置的取消功能！😄</h1><p id="146a" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">Combine 是苹果去年在 WWDC19 上与 SwiftUI 一起推出的新框架。它是一个声明性的 Swift API，随着时间的推移处理值，并可用于处理异步事件。</p><p id="5c8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Combine 实现了订阅者-发布者编程模式，对于与 SwiftUI 一起使用是非常必要的，并且在任何情况下都非常有用。</p><p id="97f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的应用程序中，我们在多个地方使用了联合收割机。使用 URLSession 进行 HTTP 调用，在 UserDefaults、NotificationCenter 和我们的数据模型中发布随时间变化的值。</p><blockquote class="mw"><p id="ce27" class="mx my iq bd mz na nb nc nd ne nf la dk translated">Combine 内置了对取消的支持，这一点非常强大！</p></blockquote><p id="0b4e" class="pw-post-body-paragraph kd ke iq kf b kg ng ki kj kk nh km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">这意味着，我们可以随时取消订阅。此外，Combine 还提供了 AnyCancellable 类型，可以在很多地方自动取消。</p><p id="e40d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经在 Mentorship iOS 应用程序中自由利用了这一功能，尤其是在使用 URLSession.dataTaskPublisher 进行网络呼叫时。</p><blockquote class="mw"><p id="4a6c" class="mx my iq bd mz na nb nc nd ne nf la dk translated">网络请求本质上是一个昂贵的过程，不必要的重复不仅是沉重的，而且可能是危险的。</p></blockquote><p id="f47b" class="pw-post-body-paragraph kd ke iq kf b kg ng ki kj kk nh km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated"><em class="lb">例如，如果用户多次按下发送 OTP 按钮，这不仅会堵塞服务器和增加成本，还会导致错误和糟糕的用户体验。</em></p><p id="39d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过内置的取消功能，Combine 自动为我们解决了这个问题。它确保网络请求只发出一次，并取消任何在短时间内被重复覆盖的呼叫。另外，我们还可以使用去抖操作符来指定特定的时间间隔。</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/f7d54577a02575288dc78383e3b78c35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ChCJIIKJc71zxkFNfL37vg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">调试控制台(重复调用被取消，配置文件仅更新一次)</figcaption></figure><p id="69f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上图中，我们可以看到在配置文件编辑器中多次点击“保存”按钮时的调试控制台。除了一个呼叫之外，框架自动取消所有的呼叫，而不是进行 10 个呼叫。强大！</p><h1 id="3296" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">令人难以置信的消息</h1><p id="afa7" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">6 月 16 日，我得到了一个令人难以置信的消息，我成为了 WWDC20 Swift 学生挑战赛的获胜者之一！</p><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/a4d7e6b58bbf01d0a33c707f0bfaaed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ohpU4-hDtOg6wPIBsEZbQ.png"/></div></div></figure><p id="8bb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的项目名为“模拟股票，为了地球”，利用金融模拟交易来提高环保意识🌍并展望世界的未来。</p><p id="dc00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在这里查看项目:【https://github.com/yugantarjain/wwdc20】T3</p><p id="3939" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自从我第一次看了 WWDC 的主题演讲，我已经等这一刻等了 6 年多了。有了这个，我也改正了 14 个月前犯的一个错误，这可能是我犯过的最不幸的错误；一个借参加 WWDC19 的机会远离我的。不过现在好了:)</p><h1 id="c22e" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">结论</h1><p id="df7a" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">这一周非常令人惊奇，尤其是我的关于环境意识的项目被苹果公司选为 WWDC20 SSC 奖。</p><p id="c39a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我要再次感谢我所有的导师(安娜、金妮、瓦萨和阿康沙)对我的帮助和指导。我要特别感谢 Vatsal 承担了重构我们代码库的工作，它看起来非常整洁！</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h2 id="5cc1" class="mf ld iq bd le mg mh dn li mi mj dp lm ko mk ml lq ks mm mn lu kw mo mp ly mq bi translated">非常感谢你的阅读！</h2><p id="ac98" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated"><em class="lb">请随时与我联系并联系，查看我们的项目，或者加入我们的开源社区:<br/></em><a class="ae kc" href="https://www.linkedin.com/in/yugantar-jain-1a7820158/" rel="noopener ugc nofollow" target="_blank"><em class="lb">LinkedIn</em></a><em class="lb">，</em><a class="ae kc" href="http://github.com/yugantarjain" rel="noopener ugc nofollow" target="_blank"><em class="lb">GitHub</em></a><em class="lb">，</em> <a class="ae kc" href="https://github.com/anitab-org/mentorship-ios" rel="noopener ugc nofollow" target="_blank"> <em class="lb">导师 iOS </em> </a> <em class="lb">，</em><a class="ae kc" href="https://anitab-org.zulipchat.com" rel="noopener ugc nofollow" target="_blank"><em class="lb">AnitaB.org 社区</em> </a></p></div></div>    
</body>
</html>