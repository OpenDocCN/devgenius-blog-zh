<html>
<head>
<title>String Operations on Pandas DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫数据帧上的字符串操作</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/string-operations-on-pandas-dataframe-88af220439d1?source=collection_archive---------1-----------------------#2021-06-30">https://blog.devgenius.io/string-operations-on-pandas-dataframe-88af220439d1?source=collection_archive---------1-----------------------#2021-06-30</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="0c45" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">字符串方法</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/f410764f5c6b316c95fb12390732fb67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*98nlKJMCAVGqLnw1WCDpxg.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">来自<a class="ae kw" href="https://www.pexels.com/photo/beaded-multicolored-accessory-1339862/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">佩克斯</a>的<a class="ae kw" href="https://www.pexels.com/@magda-ehlers-pexels?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">玛格达·埃勒斯</a>的照片</figcaption></figure><p id="8dfe" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在本文中，让我们介绍可以在pandas数据帧上执行的字符串操作。</p><ol class=""><li id="ba7f" class="lt lu ir kz b la lb ld le lg lv lk lw lo lx ls ly lz ma mb bi translated">转换为大写/小写/title case-str。上海峡。下海峡。标题</li><li id="b6ef" class="lt lu ir kz b la mc ld md lg me lk mf lo mg ls ly lz ma mb bi translated">strip，lstrip，rstrip</li><li id="eef0" class="lt lu ir kz b la mc ld md lg me lk mf lo mg ls ly lz ma mb bi translated">使分离</li><li id="5c76" class="lt lu ir kz b la mc ld md lg me lk mf lo mg ls ly lz ma mb bi translated">替换</li><li id="922c" class="lt lu ir kz b la mc ld md lg me lk mf lo mg ls ly lz ma mb bi translated">startswith，endswith，包含</li></ol></div><div class="ab cl mh mi hv mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ik il im in io"><h1 id="5687" class="mo mp ir bd mq mr ms mt mu mv mw mx my jx mz jy na ka nb kb nc kd nd ke ne nf bi translated">1.转换为大写/小写/标题大小写</h1><p id="8216" class="pw-post-body-paragraph kx ky ir kz b la ng js lc ld nh jv lf lg ni li lj lk nj lm ln lo nk lq lr ls ik bi translated"><em class="nl">示例1:将pandas dataframe中一列的字符串转换成大写</em></p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="0f21" class="nr mp ir nn b gz ns nt l nu nv">s1=pd.read_csv(<strong class="nn is">"s1.csv"</strong>)<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj nw"><img src="../Images/3de15f018a1d65742703298fda18bb69.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*-n2Z4Cz02UIo2EPX_7VeIA.png"/></div></figure><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="03a1" class="nr mp ir nn b gz ns nt l nu nv">s1[<strong class="nn is">'Place'</strong>]=s1.Place.str.upper()<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj nx"><img src="../Images/96f32b3ddd4a2233d88f5d5d682bdd0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*o7kqb4hoLmx1tTkg-Yurpg.png"/></div></figure><p id="029a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">“位置”列中的所有值都转换为大写。</p><p id="8b9b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">示例2:将pandas dataframe中一列的字符串转换为小写</em> </strong></p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="798c" class="nr mp ir nn b gz ns nt l nu nv">s1[<strong class="nn is">'Place'</strong>]=s1.Place.str.lower()<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj ny"><img src="../Images/421a5381663746c6c1359850794d41c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*V9ogHVZuF4SoFSPnClnivQ.png"/></div></figure><p id="f2f5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">例3:将pandas dataframe中的一列字符串转换为titlecase </em> </strong></p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="c318" class="nr mp ir nn b gz ns nt l nu nv">s1[<strong class="nn is">'Place'</strong>]=s1.Place.str.title()<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj ny"><img src="../Images/6c1f8303ba30f3a75b5796b9fd260ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*0MbzkcPzNtS0240vAaG7_A.png"/></div></figure><h1 id="ed60" class="mo mp ir bd mq mr nz mt mu mv oa mx my jx ob jy na ka oc kb nc kd od ke ne nf bi translated">2.strip，lstrip，rstrip</h1><p id="c24c" class="pw-post-body-paragraph kx ky ir kz b la ng js lc ld nh jv lf lg ni li lj lk nj lm ln lo nk lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">例1:让我们把“$”从“薪水”一栏中去掉。前导和尾随' $ '符号。</em> </strong></p><p id="7668" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">去除</strong> →用于去除提到的前导和尾随空格/字符。</p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="3f13" class="nr mp ir nn b gz ns nt l nu nv">s1[<strong class="nn is">'Salary'</strong>]=s1.Salary.str.strip(<strong class="nn is">'$'</strong>)<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj oe"><img src="../Images/96730a4c4659e4a819d05fe1ed37aef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2qzt1payTh-8g93_BGQzqw.png"/></div></div></figure><p id="0e94" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">例2:让我们从“薪金”列中去掉前导' $ '。</em> </strong></p><p id="89e0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> lstrip </strong> →用于删除前面提到的空格/字符。</p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="39cb" class="nr mp ir nn b gz ns nt l nu nv">s1[<strong class="nn is">'Salary'</strong>]=s1.Salary.str.lstrip(<strong class="nn is">'$'</strong>)<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj of"><img src="../Images/03d6fc336a637fae6d9cb23531788f08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mDAr5n4clCm1uhQBb4NYZA.png"/></div></div></figure><p id="e7bc" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">例3:让我们去掉“Salary”列后面的' $ '符号。</em>T29】</strong></p><p id="b2b7" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> rstrip </strong> →用于删除提到的尾随空格/字符。</p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="7732" class="nr mp ir nn b gz ns nt l nu nv">s1[<strong class="nn is">'Salary'</strong>]=s1.Salary.str.rstrip(<strong class="nn is">'$'</strong>)<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj og"><img src="../Images/ce5c88da9890ee8d4205711050bd79e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uCETCOOe0gdjbe2KSBuWMw.png"/></div></div></figure><h1 id="f527" class="mo mp ir bd mq mr nz mt mu mv oa mx my jx ob jy na ka oc kb nc kd od ke ne nf bi translated">3.使分离</h1><p id="f747" class="pw-post-body-paragraph kx ky ir kz b la ng js lc ld nh jv lf lg ni li lj lk nj lm ln lo nk lq lr ls ik bi translated">如果我们需要根据某个分隔符字符串将数据帧中的列分成两列，我们可以使用str.split()函数</p><p id="90a0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">示例1:根据分隔符字符串“，”</em> </strong>将“地点”列拆分为“城市”和“州”列</p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="2a5f" class="nr mp ir nn b gz ns nt l nu nv">s1[[<strong class="nn is">'City'</strong>,<strong class="nn is">'State'</strong>]]=s1.Place.str.split(<strong class="nn is">','</strong>,expand=<strong class="nn is">True</strong>)<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/7caee807f271d4e57328846f09441852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*D1d8sXoAjlcanY52VpUOHg.png"/></div></figure><h1 id="176d" class="mo mp ir bd mq mr nz mt mu mv oa mx my jx ob jy na ka oc kb nc kd od ke ne nf bi translated">4.替换</h1><p id="a202" class="pw-post-body-paragraph kx ky ir kz b la ng js lc ld nh jv lf lg ni li lj lk nj lm ln lo nk lq lr ls ik bi translated">如果我们需要替换pandas数据帧中一列的子串，我们可以使用str。replace()函数。</p><p id="f558" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">示例:将“州”列</em> </strong>中的“nc”替换为“北卡罗来纳”</p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="8463" class="nr mp ir nn b gz ns nt l nu nv">s1[<strong class="nn is">'State'</strong>]=s1.State.str.replace(<strong class="nn is">'nc'</strong>,<strong class="nn is">'North Carolina'</strong>)<br/>s1.head()</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj oi"><img src="../Images/32d81d3da5efff56cbea1c954ac78bb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*EOyLbsnrTpLNV5w9vUzi4g.png"/></div></figure><h1 id="d1b3" class="mo mp ir bd mq mr nz mt mu mv oa mx my jx ob jy na ka oc kb nc kd od ke ne nf bi translated">5.startswith，endswith，包含</h1><h2 id="c746" class="nr mp ir bd mq oj ok dn mu ol om dp my lg on oo na lk op oq nc lo or os ne ot bi translated">开始于</h2><p id="b5da" class="pw-post-body-paragraph kx ky ir kz b la ng js lc ld nh jv lf lg ni li lj lk nj lm ln lo nk lq lr ls ik bi translated"><em class="nl"> str。startswith("prefix") </em> →如果字符串以提到的" prefix "开头，则返回True。<br/>我们可以将这个函数应用于pandas dataframe中的一列，以过滤特定列中以提到的“子串”开头的行。</p><p id="1a86" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">示例1:过滤“位置”列中以“C”开头的行</em> </strong></p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="6ddf" class="nr mp ir nn b gz ns nt l nu nv">s2=s1.loc[s1.Place.str.startswith(<strong class="nn is">"C"</strong>)]<br/>s2</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj ou"><img src="../Images/5388295fc1c2a6a47449638efc12f367.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*jwOAfJlrjMqLsFQVYk76zA.png"/></div></figure><h2 id="88d5" class="nr mp ir bd mq oj ok dn mu ol om dp my lg on oo na lk op oq nc lo or os ne ot bi translated">末端</h2><p id="7d08" class="pw-post-body-paragraph kx ky ir kz b la ng js lc ld nh jv lf lg ni li lj lk nj lm ln lo nk lq lr ls ik bi translated"><em class="nl"> str。endswith("suffix") </em> →如果字符串以提到的" suffix "结尾，则返回True。<br/>我们可以将这个函数应用于pandas dataframe中的一列，以过滤特定列中以提到的“子串”结尾的行。</p><p id="156e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">例2:过滤“位置”列中以“as”结尾的行</em> </strong></p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="c404" class="nr mp ir nn b gz ns nt l nu nv">s2=s1.loc[s1.Place.str.endswith(<strong class="nn is">"as"</strong>)]<br/>s2</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj ov"><img src="../Images/fd37091c226816e1501dcaa7aca51de8.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*i94h93nANq3MvJwvD9g57g.png"/></div></figure><h2 id="875b" class="nr mp ir bd mq oj ok dn mu ol om dp my lg on oo na lk op oq nc lo or os ne ot bi translated">包含</h2><p id="632b" class="pw-post-body-paragraph kx ky ir kz b la ng js lc ld nh jv lf lg ni li lj lk nj lm ln lo nk lq lr ls ik bi translated"><strong class="kz is"> <em class="nl">示例2:过滤“Place”列中包含子字符串“lotte”的行</em> </strong></p><pre class="kh ki kj kk gu nm nn no np aw nq bi"><span id="9da4" class="nr mp ir nn b gz ns nt l nu nv">s2=s1.loc[s1.Place.str.contains(<strong class="nn is">"lotte"</strong>)]<br/>s2</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj ow"><img src="../Images/4d5c4cdd2f0e05062697861c1b51e6cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*JfF5qmQpwzXAx4e0ZZLw5Q.png"/></div></figure></div><div class="ab cl mh mi hv mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ik il im in io"><h1 id="8fbc" class="mo mp ir bd mq mr ms mt mu mv mw mx my jx mz jy na ka nb kb nc kd nd ke ne nf bi translated">参考资料:</h1><div class="ox oy gq gs oz pa"><a href="https://pandas.pydata.org/pandas-docs/version/0.22/api.html#string-handling" rel="noopener  ugc nofollow" target="_blank"><div class="pb ab fp"><div class="pc ab pd cl cj pe"><h2 class="bd is gz z fq pf fs ft pg fv fx iq bi translated">API参考- pandas 0.22.0文档</h2><div class="ph l"><h3 class="bd b gz z fq pf fs ft pg fv fx dk translated">这个页面给出了所有公共熊猫对象、函数和方法的概述。一般来说，所有的类和函数…</h3></div><div class="pi l"><p class="bd b dl z fq pf fs ft pg fv fx dk translated">pandas.pydata.org</p></div></div></div></a></div><p id="eeee" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">感谢阅读！</p></div><div class="ab cl mh mi hv mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ik il im in io"><p id="a302" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="nl">如果你喜欢阅读我更多关于Python和数据科学的教程，<br/>关注我的</em> <a class="ae kw" href="https://medium.com/@IndhumathyChelliah" rel="noopener"> <strong class="kz is"> <em class="nl">中型</em> </strong> </a> <strong class="kz is"> <em class="nl">，</em> </strong> <a class="ae kw" href="https://twitter.com/IndhuChelliah" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nl">推特</em> </strong> </a></p><p id="93bc" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="nl">点击这里成为中等会员:</em><a class="ae kw" href="https://indhumathychelliah.medium.com/membership" rel="noopener"><em class="nl">https://indhumathychelliah.medium.com/membership</em></a></p></div></div>    
</body>
</html>