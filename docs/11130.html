<html>
<head>
<title>Setting up SnowSQL on your Mac</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Mac 上设置 SnowSQL</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/setting-up-snowsql-on-your-mac-f4905e09aca3?source=collection_archive---------6-----------------------#2022-12-20">https://blog.devgenius.io/setting-up-snowsql-on-your-mac-f4905e09aca3?source=collection_archive---------6-----------------------#2022-12-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0cc8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在 MacOS 上安装和运行 SnowSQL 的快速指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c4679e6e1f3687d63c3f908cb18eaac0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S_pGlDrW1lsGexZE"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@aaronburden?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亚伦·伯顿</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="9303" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我最近开始学习雪花的“实践基础”课程，并在此过程中获得了一些徽章。我发现这些课程真的很有价值，而且我认为它们组合得非常好。论坛对于故障诊断也非常有用，通常几乎对遇到的每个问题都有解决方案。</p><p id="0950" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，在数据应用课程中，有一个部分确实让我慢了下来，我不得不在讨论帖子之外搜索完整的答案。幸运的是，答案并不难找到，尽管它们并不存在于一个单一的地方。所以，我想我应该整理一下我的发现，给那些可能和我有同样问题的人。</p><p id="41f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们继续之前，有一点需要注意，基础课程的实践要求学习者在 AWS 上创建一个试用的雪花账户，所以代码片段倾向于反映这一点。如果您有个人雪花帐户，您的 AWS 区域可能与我的不同，或者您的帐户可能完全链接到另一个云提供商。我不能肯定地说，这里概述的过程将链接其他提供商托管的雪花账户，尽管我怀疑你只需要在相关的账户设置中进行替换。</p><h2 id="71bc" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">安装 SnowSQL</h2><p id="c90a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">安装应用程序非常简单。你可以点击<a class="ae kv" href="https://developers.snowflake.com/snowsql/" rel="noopener ugc nofollow" target="_blank">这里</a>来下载你的操作系统的最新版本。然而，我在这里只讨论 MacOS 的安装，所以我希望你选择“SnowSQL for Mac”。下载完成后，运行安装文件。</p><h2 id="5d98" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">测试安装</h2><p id="1e97" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这里我假设您熟悉命令行界面(CLI ),比如终端，因为我现在需要您打开它。</p><p id="9d12" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装成功完成后，会邀请您测试一下是否一切正常。为此，您需要您的帐户详细信息、用户名和密码。如果您不记得自己的帐户名称，最简单的方法是在雪花中打开一个工作表并运行</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="c653" class="mv lt iq mr b be mw mx l my mz">SELECT current_account();</span></pre><p id="98b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">获得所有详细信息后，在终端中输入以下命令:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="17b4" class="mv lt iq mr b be mw mx l my mz">% snowsql -a youraccountname -u yourusername</span></pre><p id="3d34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果一切都是 ticketyboo，你将被要求输入密码，一旦你做到了这一点，你就会笑着离开。</p><p id="6aa3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对我来说，这并没有发生；相反，我收到了</p><p id="f59a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe na nb nc mr b">zsh: command not found: snowsql</code></p><p id="bee7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">解决这个问题相当简单。这里发生的情况是，应用程序的路径不在路径列表中，所以我们的系统不知道在哪里找到它。所以，让我们更新路径信息。</p><h2 id="b9c8" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">更新路径文件</h2><p id="c493" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">首先，导航到根目录，然后跳转到<code class="fe na nb nc mr b">etc</code>文件夹。为此，您可以运行下面的命令<code class="fe na nb nc mr b">% cd /etc</code>。检查你是否在你应该运行的地方<code class="fe na nb nc mr b">pwd</code>。现在，我们需要更改的文件叫做<code class="fe na nb nc mr b">paths</code>，但是在我们全部进入之前，检查文件中的内容可能是个好主意。使用这个命令将内容打印到控制台:<code class="fe na nb nc mr b">% cat paths.</code>希望您会看到如下内容:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="37ee" class="mv lt iq mr b be mw mx l my mz">/usr/local/bin<br/>/usr/bin<br/>/bin<br/>/usr/sbin<br/>/sbin</span></pre><p id="2c17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是的——没有通往 SnowSQL 的道路。没有戏剧，我们只需要添加它。</p><p id="f48a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将使用 Nano 打开<code class="fe na nb nc mr b">paths</code>文件，并将<code class="fe na nb nc mr b">/Applications/SnowSQL.app/Contents/MacOS</code>添加到路径列表中。对我来说，这是通往 SnowSQL 的道路，但对你来说可能略有不同。一旦有了它，运行以下命令:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="5796" class="mv lt iq mr b be mw mx l my mz">% sudo nano paths</span></pre><p id="96f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你会被要求输入密码，所以输入密码。完成后，您应该能够看到我们之前打印到控制台的路径列表。您现在需要做的就是使用箭头键导航到底部并添加您的路径字符串。</p><p id="d704" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要保存文件，按<code class="fe na nb nc mr b">^X</code>，然后按<code class="fe na nb nc mr b">Y</code>，再按<code class="fe na nb nc mr b">ENTER</code>。如果您随后再次使用<code class="fe na nb nc mr b">cat</code>功能将<code class="fe na nb nc mr b">paths</code>打印到控制台，您现在应该会看到如下内容:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="4a9a" class="mv lt iq mr b be mw mx l my mz">/usr/local/bin<br/>/usr/bin<br/>/bin<br/>/usr/sbin<br/>/sbin<br/>/Applications/SnowSQL.app/Contents/MacOS/</span></pre><p id="4418" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我只想提一下，这部分的大部分内容摘自我在这里找到的一篇文章。</p><h2 id="2495" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">更新配置文件</h2><p id="7fb8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">到目前为止，一切顺利——我是这么想的。完成这一步后，我再次尝试连接，但失败了。在这种情况下，我需要在我的帐户名称中包含地区和云提供商。根据您所在的地区或帐户类型，这对您来说可能不是问题，但对我来说，这是必要的一步。这意味着登录时，我的凭据看起来像这样(您所在的地区可能会有所不同):</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="d9e9" class="mv lt iq mr b be mw mx l my mz">% snowsql -a myaccountname.ca-central-1.aws -u myusername</span></pre><p id="1db1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦我这样做了，我被要求输入密码(耶！).</p><p id="663e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，在我收到两条拒绝许可的消息后，我的喜悦是短暂的。错误涉及两个日志文件:<code class="fe na nb nc mr b">Users/snowsql_rt.log</code>和<code class="fe na nb nc mr b">Users/snowsql_rt.log_bootstrap</code>。幸运的是，数据应用讨论帖子对此有一个解决方案。在这里，我将再次使用 Nano 向您展示如何实现这一修复。</p><p id="d879" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们再次需要对一个文件进行一些更改，尽管这次是安装附带的<code class="fe na nb nc mr b">config</code>文件。要找到它，请导航到您的主目录中的 SnowSQL 文件夹:<code class="fe na nb nc mr b">% cd ~/.snowsql</code>。在那里，列出目录内容，希望您会看到如下内容:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="b288" class="mv lt iq mr b be mw mx l my mz">1.2.24  autoupgrade config  downloadlck history</span></pre><p id="699f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你看不到<code class="fe na nb nc mr b">config</code>文件，你很可能在错误的地方——要么是这个，要么是某个地方出了可怕的问题。</p><p id="90c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就像我们对<code class="fe na nb nc mr b">paths</code>文件所做的那样，我们将再次使用 Nano 打开并编辑<code class="fe na nb nc mr b">config</code>文件，如下所示:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="06ba" class="mv lt iq mr b be mw mx l my mz">% sudo nano config</span></pre><p id="58a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您需要向下滚动一点，找到分配日志路径的位置。一旦你找到它们，你想要应用以下设置(至少，这是我用的):</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="c5e9" class="mv lt iq mr b be mw mx l my mz">log_file = ~/.snowsql/snowsql_rt.log<br/>log_bootstrap_file = ~/.snowsql/log_bootstrap</span></pre><p id="dbd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，按<code class="fe na nb nc mr b">^X</code>保存，然后按<code class="fe na nb nc mr b">Y</code>，再按<code class="fe na nb nc mr b">ENTER</code>。</p><h2 id="07b3" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">连接到雪花</h2><p id="3470" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">一旦我做了这些改变，一切都变得非常好！提醒一下，这是我以前登录时用的:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="ac4a" class="mv lt iq mr b be mw mx l my mz">% snowsql -a myaccountname.ca-central-1.aws -u myusername</span></pre><p id="c198" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很可能有另一个更简单的解决方案，我还没有遇到过，但这个对我很有效。希望这对你也有用🙂</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="f539" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这篇文章，并且想保持更新，那么请考虑在 Medium 上关注我。这将确保你不会错过新的内容。如果你更喜欢的话，你也可以在 LinkedIn 和 Twitter 上关注我😉</p></div></div>    
</body>
</html>