<html>
<head>
<title>How to Generate and Bump SemVer Tag With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Python 生成和碰撞 SemVer 标签</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-generate-and-bump-semver-tag-with-python-c3ab5209f780?source=collection_archive---------7-----------------------#2022-10-09">https://blog.devgenius.io/how-to-generate-and-bump-semver-tag-with-python-c3ab5209f780?source=collection_archive---------7-----------------------#2022-10-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><h2 id="3f0c" class="il im in bd b dl io ip iq ir is it dk iu translated" aria-label="kicker paragraph">语义版本控制</h2><div class=""/><div class=""><h2 id="677b" class="pw-subtitle-paragraph jt iw in bd b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk dk translated">如何与语义版本格式保持一致</h2></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/f399c913a0c6403d67064d9832fbcf9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X9VShoYk9M29hW42"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae lb" href="https://unsplash.com/@brett_jordan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布雷特·乔丹</a>在<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的标签照片</figcaption></figure><p id="e8ff" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">作为程序员工作的一部分，无论是软件开发、web 开发，还是其他编程工作，我们最有可能会处理版本控制。版本控制帮助用户识别我们在程序上取得的进展。</p><p id="bb8c" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">但是比简单的版本控制更重要的是，版本控制是其他程序员想要使用的。这种版本控制(我想称之为“库的版本控制”)对于确定我们使用的库或框架中是否有突破性的变化是很重要的。因此，对库的版本化有一个标准化的符号是很重要的，这样我们就知道是否以及何时应该升级版本。</p><h1 id="ceee" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated"><code class="fe mq mr ms mt b">SemVer</code>简介</h1><p id="9b5e" class="pw-post-body-paragraph lc ld in le b lf mu jx lh li mv ka lk ll mw ln lo lp mx lr ls lt my lv lw lx ig bi translated">一个非常流行的版本标准(我可以说是最流行的？)就是<a class="ae lb" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank">语义版本化</a>(常缩写为<code class="fe mq mr ms mt b">SemVer</code>)。<code class="fe mq mr ms mt b">SemVer</code>是一个管理软件版本的标准，不管是给最终用户还是给其他程序员使用的库。</p><p id="c0c6" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">基本上，<code class="fe mq mr ms mt b">SemVer</code>格式有几个部分:</p><ol class=""><li id="314e" class="mz na in le b lf lg li lj ll nb lp nc lt nd lx ne nf ng nh bi translated">Major:这部分是告诉用户是否引入了足够大的变化，从而改变了用法。这可能会破坏 API 合同或重大的 UI/UX 更改。</li><li id="f5e4" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ne nf ng nh bi translated">Minor:这一部分是在不改变原有流程的情况下，告知是否有新的功能被添加。例如，将 API 或功能添加到应用程序中。</li><li id="7e23" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ne nf ng nh bi translated">补丁:这部分是告诉用户是否有一个 bug 正在被修复。通常，程序员会在不改变程序的情况下升级补丁。</li><li id="b175" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ne nf ng nh bi translated">预发布:这部分是告诉程序员一个还没有“发布”的程序(也就是说，它仍然包含 bug 并且不够稳定)。您可以尝试新的预发布版本，但要自担风险。通常，这是术语“alpha”和“beta”插入的地方。</li><li id="971b" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ne nf ng nh bi translated">构建:这部分是例行/夜间构建。如果您正在使用这一部分，很可能它在预发布版本中不太稳定，因为有许多 bug 尚未解决。</li></ol><p id="ea27" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">你可以在<a class="ae lb" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank">semver.org</a>查看整个格式。该网站甚至包括正则表达式符号，所以那些想使用正则表达式验证标签的人可以直接使用他们的符号。</p><p id="96f1" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated"><code class="fe mq mr ms mt b">SemVer</code>的一个警告是，没有标准的指南来决定一个变化是否打破。或者一个变化应该被视为补丁还是小变化。这都是图书馆或应用程序开发人员的工作来决定的。</p><h1 id="89cf" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated">该计划</h1><p id="f4bc" class="pw-post-body-paragraph lc ld in le b lf mu jx lh li mv ka lk ll mw ln lo lp mx lr ls lt my lv lw lx ig bi translated">为了方便我们生成和碰撞 SemVer 标签，我用 Python 做了一个简单的命令行界面来生成和碰撞标签。该标签随后可以在 Github、Gitlab 或其他版本控制平台中使用。</p><h2 id="6760" class="nn lz in bd ma no np dn me nq nr dp mi ll ns nt mk lp nu nv mm lt nw nx mo it bi translated">先决条件</h2><ol class=""><li id="3ee9" class="mz na in le b lf mu li mv ll ny lp nz lt oa lx ne nf ng nh bi translated">Git(用于克隆代码，但也可以下载到 ZIP)。</li><li id="efe5" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ne nf ng nh bi translated">Python 3.x(在我的地方，我使用 Python 3.10)。</li><li id="491d" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ne nf ng nh bi translated">Python 3 的 PIP(<code class="fe mq mr ms mt b">pip3</code>)。</li></ol><h2 id="177e" class="nn lz in bd ma no np dn me nq nr dp mi ll ns nt mk lp nu nv mm lt nw nx mo it bi translated">使用程序</h2><ol class=""><li id="a618" class="mz na in le b lf mu li mv ll ny lp nz lt oa lx ne nf ng nh bi translated">克隆此存储库:<a class="ae lb" href="https://github.com/iamdejan/tag-generator" rel="noopener ugc nofollow" target="_blank">https://github.com/iamdejan/tag-generator</a>并转到克隆的 repo。</li><li id="9a6a" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ne nf ng nh bi translated">遵循说明。您可以运行<code class="fe mq mr ms mt b">python3 main.py -h</code>查看可用命令列表。</li></ol><p id="cecf" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">您可以在这里看到源代码:</p><div class="ob oc gp gr od oe"><a href="https://github.com/iamdejan/tag-generator/blob/main/main.py" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ix gy z fp oj fr fs ok fu fw iw bi translated">标记生成器/main.py 位于 main iamdjan/tag-generator</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">此文件包含双向 Unicode 文本，其解释或编译可能与下面显示的不同…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">github.com</p></div></div><div class="on l"><div class="oo l op oq or on os kv oe"/></div></div></a></div><p id="da8f" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">以下是我所做的一些演示(取自存储库):</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ot"><img src="../Images/769bd6e081e94a5d049e46fd60caf219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*InAgo2D2M-d7HVjd.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">帮助命令。</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ou"><img src="../Images/9fc996afd0a7fa46b9a03ec6a47a9b61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sbstpmggu23g04ya.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">生成标记。</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ov"><img src="../Images/afa5e879622ffcb8d14e42554ab3cf75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AeObW-aato7hKYJ9.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">凹凸标签。</figcaption></figure><h1 id="42d9" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated">参考</h1><ul class=""><li id="a344" class="mz na in le b lf mu li mv ll ny lp nz lt oa lx ow nf ng nh bi translated"><a class="ae lb" href="https://towardsdatascience.com/a-simple-guide-to-command-line-arguments-with-argparse-6824c30ab1c3" rel="noopener" target="_blank">带 ArgParse 的命令行参数简单指南</a></li><li id="9b65" class="mz na in le b lf ni li nj ll nk lp nl lt nm lx ow nf ng nh bi translated"><a class="ae lb" href="https://realpython.com/command-line-interfaces-python-argparse/" rel="noopener ugc nofollow" target="_blank">如何用 argparse 在 Python 中构建命令行界面</a></li></ul></div></div>    
</body>
</html>