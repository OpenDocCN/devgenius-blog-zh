<html>
<head>
<title>Useful Linux Commands — Environment Variables and Cron Jobs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的 Linux 命令—环境变量和 Cron 作业</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/useful-linux-commands-environment-variables-and-cron-jobs-b9a0f96d8a7f?source=collection_archive---------2-----------------------#2021-03-14">https://blog.devgenius.io/useful-linux-commands-environment-variables-and-cron-jobs-b9a0f96d8a7f?source=collection_archive---------2-----------------------#2021-03-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1fca0d1034f7433403e2ecfba52449a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DURXBj46NA4qDJ-H"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3075" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Linux 是许多开发人员都会使用的操作系统。</p><p id="18cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，学习一些 Linux 命令是个不错的主意。</p><p id="4017" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些我们应该知道的有用的 Linux 命令。</p><h1 id="c1b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">包封/包围（动词 envelop 的简写）</h1><p id="a4b5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">env</code>命令让我们为当前会话设置环境变量。</p><p id="dbf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="13ab" class="mq lc iq mh b gy mr ms l mt mu">env USER=username node app.js</span></pre><p id="dcac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在当前会话中设置<code class="fe me mf mg mh b">USER</code>环境变量。</p><p id="b108" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">-i</code>开关清除环境变量:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ef45" class="mq lc iq mh b gy mr ms l mt mu">env -i node app.js</span></pre><p id="d5bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">-u</code>开关使变量不可访问:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="36f0" class="mq lc iq mh b gy mr ms l mt mu">env -u USER node app.js</span></pre><p id="ac4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在<code class="fe me mf mg mh b">USER</code>环境变量对于会话中的程序来说是不可见的。</p><h1 id="7d90" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">printenv</h1><p id="1b8e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">printenv</code>命令让我们将环境变量打印到屏幕上。</p><p id="af00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过在命令后指定它来打印一个特定的。</p><p id="c658" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8e0e" class="mq lc iq mh b gy mr ms l mt mu">printenv USER</span></pre><p id="13ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打印<code class="fe me mf mg mh b">USER</code>环境变量的值。</p><h1 id="5022" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">基本名称</h1><p id="c207" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">basename</code>命令让我们返回路径的文件名部分。</p><p id="79d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2c8d" class="mq lc iq mh b gy mr ms l mt mu">basename /users/foo/test.txt</span></pre><p id="368e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<code class="fe me mf mg mh b">test.txt</code>打印到屏幕上。</p><p id="dcb6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果最后一段是一个目录，那么我们得到这个目录的名字。</p><h1 id="120c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">目录名</h1><p id="ba92" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">c</code>命令让我们获得路径的方向部分。</p><p id="0702" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9092" class="mq lc iq mh b gy mr ms l mt mu">dirname /users/foo/test.txt</span></pre><p id="518d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe me mf mg mh b">/users/foo</code>显示在屏幕上。</p><h1 id="4628" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">crontab</h1><p id="8ae0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">crontab</code>命令让我们调度 cron 作业。</p><p id="d022" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">-l</code>开关列出安排的玉米作业:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7cb7" class="mq lc iq mh b gy mr ms l mt mu">crontab -l</span></pre><p id="49a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以跑:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fa60" class="mq lc iq mh b gy mr ms l mt mu">crontab -e</span></pre><p id="955d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加新的 cron 作业。</p><p id="bd04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为 cron 作业设置计划的语法如下。</p><p id="d9bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要设置 cron 作业运行的分钟，我们可以添加以下一个或多个选项:</p><ul class=""><li id="094c" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe me mf mg mh b">* </code> —任何值</li><li id="b0a2" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">, </code> —值列表分隔符</li><li id="1975" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">-</code> —数值范围</li><li id="0ccd" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">/</code> —步长值</li></ul><p id="bfa7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要设置 cron 作业运行的时间，我们可以添加以下一个或多个选项:</p><ul class=""><li id="b34f" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe me mf mg mh b">* </code> —任何值</li><li id="a4f0" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">, </code> —值列表分隔符</li><li id="26ed" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">-</code> —数值范围</li><li id="a74b" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">/</code> —步长值</li><li id="9f9f" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi">0–23</li></ul><p id="3ef3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要设置 cron 作业在一个月中的哪一天运行，我们可以添加以下一个或多个选项:</p><ul class=""><li id="1b33" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe me mf mg mh b">* </code> —任何值</li><li id="6f62" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">, </code> —值列表分隔符</li><li id="850d" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">-</code> —数值范围</li><li id="fed3" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">/</code> —步长值</li><li id="b869" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi">1–31</li></ul><p id="38e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要设置 cron 作业运行的月份，我们可以添加以下选项之一:</p><ul class=""><li id="0866" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe me mf mg mh b">* </code> —任意值</li><li id="4488" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">, </code> —值列表分隔符</li><li id="858c" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">-</code> —数值范围</li><li id="460d" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">/</code> —步长值</li><li id="32ff" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi">1–12</li></ul><p id="1475" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要设置 cron 作业在一周中的哪一天运行，我们可以添加以下选项之一:</p><ul class=""><li id="123f" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe me mf mg mh b">* </code> —任何值</li><li id="4c0a" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">, </code> —值列表分隔符</li><li id="c09b" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">-</code> —数值范围</li><li id="1df9" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">/</code> —步长值</li><li id="91d7" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">0–6—(0 表示周日，6 表示周六)</li><li id="9239" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">太阳卫星</li></ul><p id="6b2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b8b3" class="mq lc iq mh b gy mr ms l mt mu">30 08 10 06 * /home/ramesh/full-backup</span></pre><p id="57de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置<code class="fe me mf mg mh b">full-backup</code>脚本在指定时间运行。</p><p id="c2f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个表达的意思是:</p><ul class=""><li id="0ede" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated">30–第 30 分钟</li><li id="6e2a" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">上午 8 点至 8 点</li><li id="b849" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">第 10 天</li><li id="25bd" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">06-第六个月(6 月)</li><li id="c9c2" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><strong class="kf ir"> * </strong> —一周的每一天</li></ul><h1 id="be16" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="f369" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用 Linux 命令来获取和设置环境变量，并查看 cron jons。</p></div></div>    
</body>
</html>