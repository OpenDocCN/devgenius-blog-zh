<html>
<head>
<title>How to scrap your medium articles with gatsby.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用gatsby.js废掉你的中型文章</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-scrap-your-medium-articles-with-gatsby-js-f35535ebc09d?source=collection_archive---------8-----------------------#2020-06-27">https://blog.devgenius.io/how-to-scrap-your-medium-articles-with-gatsby-js-f35535ebc09d?source=collection_archive---------8-----------------------#2020-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6810" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你想在另一个网站上展示你的媒体文章吗？让我们把它们废弃，在一个gatsby.js网站上展示。</p><p id="575c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我最近开始做我的专业网站。我职业活动的一部分是写文章。我的文章大部分都是媒体上的。我希望他们留在媒体上，但我也想在我的网站上展示他们中的一些。事实证明，这很容易做到。所以，让我们开始吧:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/6dbbb94c4efb65db97fac39e795759bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jsEOAK_XnPwgN2leO5XOmg.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">照片由<a class="ae lb" href="https://unsplash.com/@patrickian4?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">帕特里克·福尔</a>在<a class="ae lb" href="https://unsplash.com/s/photos/medium-writing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><h1 id="2eb5" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">第一步:创建一个Gatsby.js启动器，并将其推送到GitHub上</h1><p id="0074" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">如果您已经有了登录页面，您可以直接进入步骤2。</p><p id="c2c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">和以前一样，我们将从创建一个Gatsby.js启动器开始。如果你还没有建立你的开发环境，你可以按照<a class="ae lb" href="https://www.gatsbyjs.org/tutorial/part-zero/" rel="noopener ugc nofollow" target="_blank">这个步骤</a>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mf"><img src="../Images/9325b586d84ef7d5df9c7beb74657405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QBbxTU0fYEh-WlBn.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">盖茨比启动器</figcaption></figure><p id="8462" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦您完成了这些，我们将创建一个新的gatsby站点，并使用以下命令进行第一次运行。</p><pre class="km kn ko kp gt mg mh mi mj aw mk bi"><span id="17e3" class="ml ld iq mh b gy mm mn l mo mp">gatsby new gatsby-site<br/>gatsby develop</span></pre><p id="d3a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你到了这里，你就可以打开浏览器，进入<a class="ae lb" href="http://localhost:8000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000/ </a>查看你的网站运行情况。</p><h1 id="2d8f" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤2:安装插件</h1><p id="90b0" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我们将使用<a class="ae lb" href="https://github.com/jondubin/gatsby-source-rss" rel="noopener ugc nofollow" target="_blank"> gatsby-source-medium </a>插件。这不是一个官方插件，所以我们无法从Medium中获取所有数据:</p><blockquote class="mq mr ms"><p id="0874" class="jn jo mt jp b jq jr js jt ju jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj kk ij bi translated">用于将数据从非官方的JSON端点拉入Gatsby的源代码插件。不幸的是，JSON端点不提供完整的故事，而只是预览。由于Medium的限制，只返回最近的10篇文章。</p><p id="c4a6" class="jn jo mt jp b jq jr js jt ju jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj kk ij bi translated">来自<a class="ae lb" href="https://github.com/jondubin/gatsby-source-rss" rel="noopener ugc nofollow" target="_blank"> gatsby-source-medium插件文档</a></p></blockquote><p id="6c45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从安装插件开始:</p><pre class="km kn ko kp gt mg mh mi mj aw mk bi"><span id="a8b2" class="ml ld iq mh b gy mm mn l mo mp">npm install --save <!-- -->gatsby-source-medium</span></pre><p id="3df6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并对其进行配置:</p><pre class="km kn ko kp gt mg mh mi mj aw mk bi"><span id="48d9" class="ml ld iq mh b gy mm mn l mo mp">plugins: [<br/>  {<br/>    resolve: 'gatsby-source-medium',<br/>    options: {<br/>      username: '@mariequittelier', // Medium user name<br/>    },<br/>  },<br/>]</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/086e483f0d40772091ad9fdbe7dccf09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*XinUglBC_aykiZ8FnwM8gA.png"/></div></figure><p id="0bbb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，在您的GraphiQL(<a class="ae lb" href="http://localhost:8000/___graphql" rel="noopener ugc nofollow" target="_blank">http://localhost:</a>8000/_ _ grapql)中，您将能够查询来自medium的数据。API的所有文档都在<a class="ae lb" href="https://github.com/Medium/medium-api-docs" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="2b90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的查询将取决于您想要什么。但是，请记住，数据是与用户相关的。<strong class="jp ir">但是，你能得到什么样的数据呢？</strong></p><ul class=""><li id="16f7" class="my mz iq jp b jq jr ju jv jy na kc nb kg nc kk nd ne nf ng bi translated">allMediumCollection:您可以获取链接到用户出版物的数据。</li><li id="95ce" class="my mz iq jp b jq nh ju ni jy nj kc nk kg nl kk nd ne nf ng bi translated">allMediumPost:那将是与用户文章相关的数据。</li><li id="10f7" class="my mz iq jp b jq nh ju ni jy nj kc nk kg nl kk nd ne nf ng bi translated">allMediumUser:许多关于用户自己的东西。</li></ul><p id="880f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请随意使用GraphiQl来检查您可以提取哪些数据！</p><h1 id="61a7" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤3:查询并创建前端</h1><p id="6bb6" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">现在数据可用了，您可以调用它，然后显示它。但是让我们从调用我们的数据开始:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="b684" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们创建前端侧。为此，我们将使用样式组件。所以让我们安装它:</p><pre class="km kn ko kp gt mg mh mi mj aw mk bi"><span id="15b9" class="ml ld iq mh b gy mm mn l mo mp">npm install --save gatsby-plugin-styled-components styled-components babel-plugin-styled-components</span></pre><p id="263c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并配置插件:</p><pre class="km kn ko kp gt mg mh mi mj aw mk bi"><span id="69d1" class="ml ld iq mh b gy mm mn l mo mp">//gatsby-config.js</span><span id="edf6" class="ml ld iq mh b gy no mn l mo mp">module.exports = {<br/>  plugins: [`gatsby-plugin-styled-components`],<br/>}</span></pre><p id="57f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们要做的第一件事是映射我们查询的数据。目标是为每篇文章呈现一个组件:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="5fa0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您会注意到，每篇文章都有一个组件:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi np"><img src="../Images/90e120767a9fa77cc69662d8187812a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RcR7vC44nLTG2GbwlE5qXg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">每件物品一个组件</figcaption></figure><p id="a937" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们添加所有我们想要的信息，并做一些造型，在这里我们祝贺你🎊 🎈 🍾。造型总是可以改进的，但至少你有一些基本的东西让你开始:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nq"><img src="../Images/6d5d05226cf65f73f61f659dc3b17955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jSvflINKqHQo_yDKchJpMw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">你文章的最终呈现</figcaption></figure><p id="f4bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有两件事值得注意:链接和图片。</p><ul class=""><li id="fdc5" class="my mz iq jp b jq jr ju jv jy na kc nb kg nc kk nd ne nf ng bi translated">先说你文章的链接。所有中型物品均可在<a class="ae lb" href="https://medium.com/@YOUR_USERNAME/THE" rel="noopener">https://medium.com/@AUTHOR_USERNAME/THE</a>_ ARTICLE _ SLUG到达。你的文章是否在出版物上发表并不重要。通过此链接，您将被重定向到您的文章。</li><li id="c26a" class="my mz iq jp b jq nh ju ni jy nj kc nk kg nl kk nd ne nf ng bi translated">现在，图像。像所有大型网站一样，medium使用CDN来存储媒体内容。使用检查员允许我找到它的地址【https://cdn-images-1.medium.com T2】/YOUR _ IMAGE _ ID。</li></ul></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ny"><img src="../Images/0a00051a1ada1d0828d23c44b2bf0c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VvB9lstLcHr0SYUG3Et3mA.png"/></div></div></figure><div class="nz oa gp gr ob oc"><a href="https://medium.com/pixboost/cdn-explained-why-when-and-how-to-use-it-for-your-website-7d360a93cc04" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">CDN解释道。为什么，什么时候以及如何在你的网站上使用它</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">CDN代表内容交付网络。这是什么？我们真的需要它吗？先说说这种类型的重要性…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq kv oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://github.com/Medium/medium-api-docs" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">中等/中等-api-docs</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">这个存储库包含媒体API的文档。Medium的API是基于JSON的OAuth2 API。所有请求都是…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">github.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq kv oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-source-medium" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">盖茨比/盖茨比</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">用于将数据从非官方的JSON端点拉入Gatsby的源代码插件。不幸的是，JSON端点…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">github.com</p></div></div><div class="ol l"><div class="os l on oo op ol oq kv oc"/></div></div></a></div></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><p id="9004" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">👏如果你喜欢这篇文章，请随时给我一个掌声(或50个)或留下评论。</p><p id="557f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">👍如果你喜欢我的作品，你可以一直跟着我。</p><p id="f70c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">📚还有，如果你想了解更多，可以看看那些文章:</p><div class="nz oa gp gr ob oc"><a href="https://medium.com/@mariequittelier/jamstack-how-to-do-a-contact-form-step-by-step-with-gatsby-js-netlify-and-mailgun-52d26432a5c4" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">如何用Gatsby.js，Netlify，Mailgun一步步做一个联系表单</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">在这篇文章中，我将一步一步地向你展示如何用Gatsby.js，Netlify函数一步一步地做一个联系人表单…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="ot l on oo op ol oq kv oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/@mariequittelier/how-to-connect-your-gatsby-js-landing-page-to-google-analytics-and-deploy-to-netlify-step-by-step-8352467583df" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">如何将您的Gatsby.js登录页面连接到Google Analytics并逐步部署到Netlify</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">使用谷歌分析很重要，因为它可以让你跟踪你的网站的使用情况。让我们来学习如何使用…进行设置</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="ou l on oo op ol oq kv oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/@mariequittelier/how-to-create-a-newsletter-with-mailchimp-gatsby-js-netlify-d48778d5c774" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">如何用Mailchimp，Gatsby.js &amp; Netlify创建时事通讯</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">在填写了联系表格并连接了Google Analytics之后，我想继续我的系列文章，讲述如何…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="ov l on oo op ol oq kv oc"/></div></div></a></div></div></div>    
</body>
</html>