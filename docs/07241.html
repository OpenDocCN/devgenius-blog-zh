<html>
<head>
<title>GGplot2 Crash Course: Histogram</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GGplot2 速成班:直方图</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/ggplot2-crash-course-histogram-ccacf51870f9?source=collection_archive---------10-----------------------#2022-03-08">https://blog.devgenius.io/ggplot2-crash-course-histogram-ccacf51870f9?source=collection_archive---------10-----------------------#2022-03-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/0e4a2324dbf0773b872870ee33c56f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*tMHvRCV16BFoJbU2F-o3rw.png"/></div></figure><h1 id="c37a" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">嗯……直方图到底是什么？</h1><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/05e57fb22e6f2ec68ef19d18de605cd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*tVtBr2FTan26yuos2bAczA.png"/></div></figure><p id="c964" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">通常，许多经常与条形图和直方图混淆；—事实是，条形图和直方图并不是精确的可视化工具。条形图用于可视化名义或顺序变量的类别，而直方图用于描述连续变量的分布。如果类间隔大小相等，直方图的解释可以简化，这是因为直方图矩形的高度与绝对或相对频率成比例。话虽如此，我们还是来看看编码部分吧！</p><h1 id="d4ee" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">数据导入</h1><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/1620a83bb0c78d13d3550f59753c169e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*LIkqdblnb-8XeXsDni9xdg.png"/></div></figure><p id="0698" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">我们将通过<code class="fe lv lw lx ly b">gapminder</code>数据集练习使用直方图。我们将使用过滤后的数据集<code class="fe lv lw lx ly b">gap_america</code>探索美洲大陆的预期寿命<code class="fe lv lw lx ly b">lifeExp</code>。</p><h1 id="0fe6" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">简单来说，直方图</h1><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/2bcb156c594564464d868d0ec8016938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*rIh17TBV4uWavuFBkhzSzA.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">简单直方图</figcaption></figure><p id="a506" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">你首先传递数据参数<code class="fe lv lw lx ly b">gapamerica</code>，在<code class="fe lv lw lx ly b">aes()</code>函数中选择目标变量<code class="fe lv lw lx ly b">lifeExp</code>，用<code class="fe lv lw lx ly b">geom_histogram</code>做基本直方图。现在我们有了第一个直方图！</p><blockquote class="me mf mg"><p id="b375" class="ku kv mh kw b kx ky kz la lb lc ld le mi lg lh li mj lk ll lm mk lo lp lq lr ig bi translated">“我可以调整垃圾箱的大小吗？太窄了，如果能弄平一点就太好了”。</p></blockquote><p id="301b" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">解决方法很简单:如果你只想要 10 个箱子，你可以使用<code class="fe lv lw lx ly b">geom_histogram(bins = 10)</code>简单地调整箱子的大小。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/abb2b9a5b40d53035e2ed7ba8273d115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*ZpBPv8l236gNxwwzGTACFg.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">binsize = 10 的平滑直方图</figcaption></figure><blockquote class="me mf mg"><p id="bfa0" class="ku kv mh kw b kx ky kz la lb lc ld le mi lg lh li mj lk ll lm mk lo lp lq lr ig bi translated">"但是我真的不喜欢默认颜色，我能做什么？"</p></blockquote><p id="7a67" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">没问题！方法是相似的:您只需通过<code class="fe lv lw lx ly b">geom_histogram()</code>中的<code class="fe lv lw lx ly b">fill = "#desired color"</code></p><p id="e462" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated"><em class="mh">注意:一般情况下，</em> <code class="fe lv lw lx ly b"><em class="mh">fill</em></code> <em class="mh">定义</em> <code class="fe lv lw lx ly b"><em class="mh">geom</em></code> <em class="mh">填充的颜色，而</em> <code class="fe lv lw lx ly b"><em class="mh">color</em></code> <em class="mh">定义</em> <code class="fe lv lw lx ly b"><em class="mh">geom</em></code> <em class="mh">勾勒的颜色</em></p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/02b89a07e9a1c28a8d19548281f302d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*_5lB1viOxRH1opwF0cUSBQ.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">彩色直方图</figcaption></figure><h1 id="0130" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">让它变得非凡</h1><p id="0ac3" class="pw-post-body-paragraph ku kv in kw b kx ml kz la lb mm ld le lf mn lh li lj mo ll lm ln mp lp lq lr ig bi translated">到目前为止，我们可以从柱状图中看到美洲大陆的预期寿命是向左倾斜的。但是，如果我们可以在图上用平均值、中值、范围(最小和最大)和一个标准差来注释它，那会很好吗？让我们来了解一下！</p><p id="a9b5" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">首先，我们将制作一个包含所有统计数据的注记数据框。</p><p id="08d9" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">接下来，我们将使用不同颜色的垂直虚线标记平均值、中间值和一个标准差。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/b94985302459a55c2c4c65aaaa524e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*FKvs6DGUSTgZThBjrjTngg.png"/></div></figure><p id="6a84" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">看起来已经很棒了！为了让它在视觉上更吸引人，我们还可以改变主题！</p><p id="f4fc" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">有一个包叫<code class="fe lv lw lx ly b">ggthemes</code>。更多信息请点击<a class="ae mq" href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/" rel="noopener ugc nofollow" target="_blank">此处</a></p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/9480eda4f05020958bc925b62bc622a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*uoCnMq0QuyfU1v7nea0T7A.png"/></div></figure><blockquote class="me mf mg"><p id="700d" class="ku kv mh kw b kx ky kz la lb lc ld le mi lg lh li mj lk ll lm mk lo lp lq lr ig bi translated">O <!-- --> h，这真好！但是我想添加一个标题，作者，并重新命名标签！</p></blockquote><p id="e6ea" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">没问题！你可以简单地在<code class="fe lv lw lx ly b">labs()</code>层调整它们。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/6be2d5db244d3dd6d9e95c07135cf5cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0jozIDbZS55zBOaND6O3HQ.png"/></div></div></figure><p id="4b21" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">现在，将您学到的这些技能应用到您自己的数据集中！编码快乐！</p></div></div>    
</body>
</html>