<html>
<head>
<title>Host WordPress on your Win 11 / 10 with Free Docker Desktop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用免费的Docker桌面在你的Win 11 / 10上托管WordPress</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/host-wordpress-on-your-win-11-10-with-free-docker-desktop-5d69d3bcc8ed?source=collection_archive---------1-----------------------#2021-09-16">https://blog.devgenius.io/host-wordpress-on-your-win-11-10-with-free-docker-desktop-5d69d3bcc8ed?source=collection_archive---------1-----------------------#2021-09-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="5f14" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">WordPress是世界上最受欢迎的CMS，你想尝试一下，但不确定如何在自己的Windows 11 / Windows 10 PC上实现。</p><p id="f1b3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我一步一步地指导你如何用<strong class="jm io">零成本</strong>在你的Windows PC上托管WordPress。当然，在文章的最后，我会分享你如何把你的完整WordPress安全地放到互联网<strong class="jm io"/>！</p><p id="42aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">视频教程:</strong><a class="ae ki" href="https://youtu.be/zePv61DUqgk" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"/></a></p><h1 id="ea37" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">🐧安装WSL 2(Linux的Windows子系统)</h1><p id="f19e" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">🛠️ <strong class="jm io">简化安装(Windows 11 / Windows 10 version 2004或更高版本)<br/> </strong>用<strong class="jm io">管理员权限</strong>打开命令窗口，运行<br/> <code class="fe lm ln lo lp b">wsl --install</code>，重启后就可以使用WSL了。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lq"><img src="../Images/a08f1acb2d02ae75e5b81530dd94d752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6_G8gXLXFU0DhwSho3_gQ.png"/></div></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">在Windows 11上用一个命令安装WSL2</figcaption></figure><p id="9e32" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果该命令不适用于您的Windows 10版本，请尝试下面的手动安装。或者，您可以查找<a class="ae ki" href="https://support.microsoft.com/en-us/topic/july-29-2021-kb5004296-os-builds-19041-1151-19042-1151-and-19043-1151-preview-6aba536a-6ed2-41cb-bc3d-3980e8693cc4" rel="noopener ugc nofollow" target="_blank"> KB5004296 </a>了解更多详细信息。</p><p id="907a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🛠️ <strong class="jm io">手动安装<br/>(windows 10 build 18362</strong><strong class="jm io">或更高，</strong> <strong class="jm io">包括家庭版)</strong></p><p id="144b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 1。启用WSL </strong></p><p id="f721" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">以管理员权限打开命令窗口，然后运行</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="798a" class="mk kk in lp b gy ml mm l mn mo">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span></pre><p id="6492" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 2。启用虚拟机功能</strong></p><p id="1fe6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">WSL 2仍然需要虚拟化功能。以管理员权限打开命令窗口，然后运行</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="fac3" class="mk kk in lp b gy ml mm l mn mo">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span></pre><p id="0641" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 3。下载Linux内核更新包</strong></p><p id="507f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下载<a class="ae ki" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" rel="noopener ugc nofollow" target="_blank">x64机器的WSL2 Linux内核更新包</a>并安装。</p><p id="7181" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，重新启动计算机。</p><p id="3c47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 4。将WSL 2设置为默认版本</strong></p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="2321" class="mk kk in lp b gy ml mm l mn mo">wsl --set-default-version 2</span></pre><p id="e1d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 5。安装Ubuntu(或您选择的Linux发行版)</strong></p><p id="15a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">I)打开<a class="ae ki" href="https://aka.ms/wslstore" rel="noopener ugc nofollow" target="_blank">微软商店</a>然后搜索&amp;选择<strong class="jm io"> Ubuntu </strong>。<br/> II)在发行版页面中，选择“获取”，然后选择“安装”<br/> III)准备就绪后，单击“启动”<br/> IV)为您的Ubuntu创建用户名和密码</p><p id="674e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 6。使用</strong> <code class="fe lm ln lo lp b">wsl --list --verbose</code> <strong class="jm io">来验证您的安装</strong></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/8a2c1cf8599c4a14617c2169a76d4e8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/0*WldNJYzBIs_AZ-pw.png"/></div></figure><p id="9b54" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您遇到任何问题，您可以在这里参考一些故障排除技巧<a class="ae ki" href="https://docs.microsoft.com/en-my/windows/wsl/install-win10#troubleshooting-installation" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="b405" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">🐳安装Docker</h1><p id="cd2c" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated"><strong class="jm io"> 1。下载Docker桌面</strong> <br/>下载<a class="ae ki" href="https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe" rel="noopener ugc nofollow" target="_blank">最新Docker桌面</a>。</p><p id="510e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 2。安装</strong> <br/>按照安装向导安装Docker桌面。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mq"><img src="../Images/231d67cbccd841298ae9132a4c20e75a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZYbmJQoyPDiPnD--8eJzQ.png"/></div></div></figure><p id="d590" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您的WSL 2配置正确，它应该在安装过程中提示您启用WSL 2。如果您选中了上面的WSL2选项，提示将不会出现。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/4e160f0f8c3cd72ddc3fc12f90d26bc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z_BrtVO7K0JQrYQO.png"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">图片来源:<a class="ae ki" href="https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码—在WSL 2中使用Docker</a></figcaption></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/3d8125a061c518861d16b99aaf0c8854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nYDxcBLJhNVw58Un.png"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">在Docker菜单中，选择设置&gt;常规:确保WSL 2已启用。</figcaption></figure><p id="93c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 3。配置WSL集成<br/> </strong>确保为正确的Linux发行版打开它。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/9a69baafa964428ad78e00b64cbf73d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xKMxAqAhQKhDA5bg.png"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">在Docker菜单中，选择设置&gt;资源&gt; WSL集成</figcaption></figure><h1 id="04d0" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">🐳Docker撰写和docker文件</h1><p id="b481" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">Docker Compose 让你定义你的“图片”(也就是你想要的包),轻松一致地在本地/网络上托管你的WordPress。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/885b22d504fc61b8360b705639438e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*Fu9PmIR0OuhFrUmNiELknw.png"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">关于实施的说明</figcaption></figure><p id="3a72" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您想要更改配置或定制映像，您可以编写<strong class="jm io"> Dockerfile </strong>来指示Docker相应地构建映像。</p></div><div class="ab cl mt mu hr mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ig ih ii ij ik"><p id="8925" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你现在有先决条件了！让我们开始构建自己的Docker容器吧！</p><p id="9f75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<a class="ae ki" href="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701" rel="noopener ugc nofollow" target="_blank"> Windows终端</a>中使用以下命令启动WSL:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="9c19" class="mk kk in lp b gy ml mm l mn mo">wsl</span></pre><p id="61bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">进入您的Linux主目录以获得最佳性能。</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="eab8" class="mk kk in lp b gy ml mm l mn mo">cd ~</span></pre><p id="ba4b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在您的Linux主目录下创建一个项目文件夹:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="5aeb" class="mk kk in lp b gy ml mm l mn mo">mkdir ~/wordpress</span></pre><h1 id="b468" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">步骤1 —您的环境变量</h1><p id="fe64" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated"><strong class="jm io">环境文件</strong>(又名<code class="fe lm ln lo lp b">.env</code>文件)是一般你<strong class="jm io">不想</strong>跟陌生人分享的变量，只对某个环境有效。</p><p id="4f9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在项目文件夹根目录下创建一个<code class="fe lm ln lo lp b">.env</code>文件:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="a158" class="mk kk in lp b gy ml mm l mn mo">nano ~/wordpress/.env</span></pre><p id="7f76" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用下面的内容替换您喜欢的值:</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">~/wordpress/。包封/包围（动词envelop的简写）</figcaption></figure><p id="25f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">MySQL <code class="fe lm ln lo lp b">root</code>密码用于phpMyAdmin配置，MySQL用户和密码用于WordPress数据库。</p><h1 id="d2d0" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">步骤2 —您的网络服务器(NGINX)配置</h1><p id="63e3" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">创建一个文件夹来存储NGINX相关的配置文件:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="4109" class="mk kk in lp b gy ml mm l mn mo">mkdir ~/wordpress/nginx-conf</span></pre><p id="07ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建文件<code class="fe lm ln lo lp b">nginx.conf</code>，内容如下:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="d92a" class="mk kk in lp b gy ml mm l mn mo">nano ~/wordpress/nginx-conf/nginx.conf</span></pre><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">~/WordPress/nginx-conf/nginx . conf</figcaption></figure><p id="1905" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有三个<code class="fe lm ln lo lp b">server</code>块:<br/> - <strong class="jm io">行1 </strong>:默认HTTP端口带HTTPS重定向<br/> - <strong class="jm io">行12 </strong> : HTTPS端口用于你的<strong class="jm io"> WordPress </strong>应用<br/> - <strong class="jm io">行56 </strong> : HTTPS端口用于<strong class="jm io"> phpMyAdmin </strong>应用(用于管理DB)</p><p id="0919" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我在这里不解释NGINX指令，如果你对学习NGINX配置感兴趣，你可以阅读文章底部的参考资料。</p><p id="e6aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">此外，使用以下内容创建文件<code class="fe lm ln lo lp b">security.conf</code>:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="473a" class="mk kk in lp b gy ml mm l mn mo">nano ~/wordpress/nginx-conf/security.conf</span></pre><p id="8979" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个文件包含在<code class="fe lm ln lo lp b">nginx.conf</code>中，它是针对我们的自签名SSL证书的。</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">~/WordPress/nginx-conf/security . conf</figcaption></figure><h1 id="50d2" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">第3步NGINX的<code class="fe lm ln lo lp b">Dockerfile</code></h1><p id="53ad" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">我们需要用生成的自签名证书定制NGINX映像。</p><p id="8fb3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为NGINX创建一个文件夹来存储<code class="fe lm ln lo lp b">Dockerfile</code>:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="1263" class="mk kk in lp b gy ml mm l mn mo">mkdir -p ~/wordpress/.docker/nginx</span></pre><p id="085b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的文件夹中创建文件<code class="fe lm ln lo lp b">Dockerfile</code>，内容如下:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="4169" class="mk kk in lp b gy ml mm l mn mo">nano ~/wordpress/.docker/nginx/Dockerfile</span></pre><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">~/wordpress/。docker/nginx/Dockerfile</figcaption></figure><p id="54bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们从<code class="fe lm ln lo lp b"><a class="ae ki" href="https://hub.docker.com/_/nginx" rel="noopener ugc nofollow" target="_blank">nginx:stable-alpine</a></code>中获得自定义映像，然后安装<code class="fe lm ln lo lp b">openssl</code>来为本地主机生成自签名证书。</p><h1 id="b25a" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">步骤WordPress的定制</h1><p id="1ede" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">这一步可能是可选的，它用于解决WSL上的权限问题。</p><p id="5e92" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为WordPress创建一个文件夹来存储<code class="fe lm ln lo lp b">Dockerfile</code>:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="cd87" class="mk kk in lp b gy ml mm l mn mo">mkdir -p ~/wordpress/.docker/wordpress</span></pre><p id="56c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的文件夹中创建文件<code class="fe lm ln lo lp b">Dockerfile</code>，内容如下:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="a53c" class="mk kk in lp b gy ml mm l mn mo">nano ~/wordpress/.docker/wordpress/Dockerfile</span></pre><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">~/wordpress/。docker/wordpres/Dockerfile</figcaption></figure><p id="937e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">另外，创建一个PHP配置文件来更改上传设置:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="a184" class="mk kk in lp b gy ml mm l mn mo">nano ~/wordpress/.docker/wordpress/uploads.ini</span></pre><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">~/wordpress/。docker/wordpres/uploads.ini</figcaption></figure><h1 id="dfd4" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">步骤5 —您的服务定义(Docker-Compose)</h1><p id="b6aa" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">最后，在项目根文件夹中创建文件<code class="fe lm ln lo lp b">docker-compose.yml</code>，内容如下:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="4a52" class="mk kk in lp b gy ml mm l mn mo">nano ~/wordpress/docker-compose.yml</span></pre><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">~/wordpress/docker-compose.yml</figcaption></figure><p id="7100" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有四种服务:<code class="fe lm ln lo lp b">db</code>、<code class="fe lm ln lo lp b">wordpress</code>、<code class="fe lm ln lo lp b">webserver</code>和<code class="fe lm ln lo lp b">phpmyadmin</code>。<br/><code class="fe lm ln lo lp b">volumes</code>为我们的应用定义了持久存储。<br/><code class="fe lm ln lo lp b">networks</code>定义了所述服务的相互连接。</p><p id="3efc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">每项服务的简要说明:</p><p id="2c1c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">📦数据库— </strong> <code class="fe lm ln lo lp b"><a class="ae ki" href="https://hub.docker.com/_/mysql" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">db</strong></a></code></p><p id="aae0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是MySQL 8.0镜像，我们基本上需要配置root密码和数据库名。然后，直接使用Docker Hub中的图像。</p><p id="6674" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">📦WordPress—</strong>T0】</p><p id="0e34" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是带有PHP-FPM的WordPress docker图片。然而，由于WSL中的文件权限问题，我们用<code class="fe lm ln lo lp b">Dockerfile</code>定制了它，并且映射了我们自己版本的<code class="fe lm ln lo lp b">uploads.ini</code>来覆盖默认的PHP配置。需要一些必要的WordPress相关配置(<code class="fe lm ln lo lp b">WORDPRESS_</code>)来连接数据库和直接在WordPress中上传文件。</p><p id="c2cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">📦网络服务器— </strong> <code class="fe lm ln lo lp b"><a class="ae ki" href="https://hub.docker.com/_/nginx" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">webserver</strong></a></code></p><p id="3a1b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是NGINX服务器，是所有web应用程序的“窗口”。它读取我们在<a class="ae ki" href="#d2d0" rel="noopener ugc nofollow">步骤2 </a>中设置的配置(<code class="fe lm ln lo lp b">nginx.conf</code>，以服务于<code class="fe lm ln lo lp b">wordpress</code>和<code class="fe lm ln lo lp b">phpmyadmin</code>的PHP-FPM。我们并不直接使用Docker Hub中的图像，所以我们创建了<code class="fe lm ln lo lp b">Dockerfile</code>来定制我们自己在<a class="ae ki" href="#50d2" rel="noopener ugc nofollow">步骤3 </a>中的图像版本。NGINX也需要卷映射来服务web应用程序。</p><p id="3d96" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">📦phpMyAdmin — </strong> <code class="fe lm ln lo lp b"><a class="ae ki" href="https://hub.docker.com/_/phpmyadmin" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">phpmyadmin</strong></a></code></p><p id="1f3b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是为了让你在Web界面中管理和查看MySQL数据库。与<code class="fe lm ln lo lp b">wordpress</code>类似，我们使用<code class="fe lm ln lo lp b">fpm-alpine</code>变体通过PHP-FPM经由NGINX服务应用程序。</p><h1 id="5735" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">第6步——启动你的容器！</h1><p id="3409" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">确保您在<code class="fe lm ln lo lp b">docker-compose.yml</code>所在的目录中。</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="a5ac" class="mk kk in lp b gy ml mm l mn mo">cd ~/wordpress</span></pre><p id="e88f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，要调出您的容器:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="5e3f" class="mk kk in lp b gy ml mm l mn mo">docker-compose up -d</span></pre><p id="0ce5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要关闭容器，请执行以下操作:</p><pre class="lr ls lt lu gt mg lp mh mi aw mj bi"><span id="a3c4" class="mk kk in lp b gy ml mm l mn mo">docker-compose down</span></pre><h1 id="6c7a" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">步骤7-完成WordPress的安装</h1><p id="2b83" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">转到<a class="ae ki" href="https://localhost/" rel="noopener ugc nofollow" target="_blank"> https://localhost </a>。</p><p id="a01d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由于自签名证书，您应该会收到警告。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nc"><img src="../Images/f8ed65e540ce88349e83bb211bfa21c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0BV-hiT1DjFLRgUtf7YqaQ.png"/></div></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">点击<strong class="bd kl">高级</strong> &gt; <strong class="bd kl">前进</strong>到本地主机</figcaption></figure><p id="fe1b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">忽略警告并继续，你应该看到WordPress语言选择</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nd"><img src="../Images/5d3da42f0395bf3cf9fb2293f1cb9b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B7N3UElVVEYQxV4u1wlG8g.png"/></div></div></figure><p id="b431" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">填写所有必要的信息以继续…</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi ne"><img src="../Images/fca388839253d7d2e6b0f9ef467c6c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ORjhjMec3LWNxoQe05z3A.png"/></div></div></figure><p id="6c53" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">🎊</strong>搞定！现在你可以在你的Windows PC上运行你的WordPress并四处玩耍了！</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nf"><img src="../Images/0f3fe7d84975cb264e3a2da5c0bc6fb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Au81fTsjPVztbyUF-83J9Q.png"/></div></div></figure><h1 id="9c57" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">EXTRA— phpMyAdmin</h1><p id="3e1e" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">可以通过<a class="ae ki" href="https://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> https://localhost:8080 </a>登录<strong class="jm io"> phpMyAdmin </strong>。使用<code class="fe lm ln lo lp b">root</code>或者为WordPress创建的用户登录(你已经在<code class="fe lm ln lo lp b">.env</code>文件中定义)</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi ng"><img src="../Images/caf3a6f7c0586c5323c9faa057f4c06b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Y-8Z02jMSrrcABJxs9I2A.png"/></div></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated"><a class="ae ki" href="https://localhost:8080/" rel="noopener ugc nofollow" target="_blank">https://localhost:8080</a>—phpMyAdmin登录页面</figcaption></figure><h1 id="48d7" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">额外——让你的WordPress在互联网上直播！</h1><blockquote class="nh"><p id="0f02" class="ni nj in bd nk nl nm nn no np nq kh dk translated">事实:WordPress是最受恶意黑客欢迎的目标之一！</p></blockquote><p id="a94a" class="pw-post-body-paragraph jk jl in jm b jn nr jp jq jr ns jt ju jv nt jx jy jz nu kb kc kd nv kf kg kh ig bi translated">我个人推荐<strong class="jm io">托管</strong>的WordPress，这将帮助你自动修补操作系统、应用程序&amp; WordPress，阻止僵尸程序和恶意攻击你的WordPress站点。<strong class="jm io"> Cloudways </strong>提供了大量的功能，让你可以轻松托管你的WordPress站点，而不用担心网络安全的噩梦。<br/>最重要的是……很实惠！！！</p><p id="1d56" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，您可以在BFCM 2022活动期间享受额外折扣！</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/c4aa55855082de96c53455aff24930d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/0*p55Wmd7swOzYyGty.jpg"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">链接:www.cloudways.com/en/?id=66136</figcaption></figure><p id="376b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们开始尝试<strong class="jm io">云道</strong>！</p><p id="7f09" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以按照这个指南将您的本地主机迁移到live服务器<br/><a class="ae ki" href="https://www.cloudways.com/blog/migrate-wordpress-using-duplicator/" rel="noopener ugc nofollow" target="_blank">https://www . cloudways . com/blog/migrate-WordPress-using-duplicator/</a></p></div><div class="ab cl mt mu hr mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ig ih ii ij ik"><p id="c114" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">参考</strong> : <a class="ae ki" href="https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-docker-compose" rel="noopener ugc nofollow" target="_blank">如何用Docker Compose安装WordPress】</a></p><p id="718b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你喜欢我的文章，请鼓掌，关注并分享我的文章(或者你可以去☕<a class="ae ki" href="https://buy.stripe.com/7sI03C9S56Upcpi8ww" rel="noopener ugc nofollow" target="_blank">☕给我买杯咖啡)。保重，再见！</a></p></div></div>    
</body>
</html>