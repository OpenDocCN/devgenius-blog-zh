<html>
<head>
<title>Using Map in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 JavaScript 中使用 Map</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/using-map-in-javascript-94e6050299e6?source=collection_archive---------11-----------------------#2022-05-05">https://blog.devgenius.io/using-map-in-javascript-94e6050299e6?source=collection_archive---------11-----------------------#2022-05-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6ca3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何在 JavaScript 中使用 Map Array 辅助方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/abf881469e98e2381cf59771f07b0cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tXGnFEzQjsMJjACGUHO6LQ.png"/></div></div></figure><h2 id="843d" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">介绍</h2><p id="029c" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">JavaScript 的 ES6 版本中引入了 Map array helper 方法来帮助我们处理数组。我最近写了一篇文章，解释了如何使用<a class="ae mg" href="https://javascript.plainenglish.io/how-to-use-the-javascript-foreach-method-a9e6f9e9a071" rel="noopener ugc nofollow" target="_blank"> forEach </a>。在这篇文章中，我们将看看地图。</p><h2 id="0647" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">地图是做什么的？</h2><p id="a97f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">当我们使用 map 时，我们可以从现有的阵列创建一个新阵列。我们传入一个回调函数，这个函数在数组中的每个元素上都被调用。使用该方法，您可以构建一个新的数组，对原始元素进行处理。使用 map 可以做的一些示例包括挑选某些元素、简单地复制数组(对于这一点，展开可能更简单)或以某种方式操作数组数据。</p><h2 id="2ceb" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">要点</h2><p id="0c4b" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">当你使用地图的时候，有一些必备的东西。首先你必须返回一些东西，否则你会得到一个新的数组，每个元素都没有定义。您还应该将对 map 的调用存储到一个变量中，否则您将没有对新数组的任何引用。当我们使用 map 时，初始数组没有改变，但是创建了一个新数组。让我们看一些例子。</p><h2 id="ab00" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">例子</h2><p id="5c62" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">如果你有一个数组的值，但你想把每个值都加倍，那么 map 就可以做到这一点。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="a42f" class="kr ks iq mi b gy mm mn l mo mp">const values = [10, 20, 30, 40, 50];</span><span id="42df" class="kr ks iq mi b gy mq mn l mo mp">const doubled = values.map(function(value) {<br/>  return value * 2;<br/>});</span><span id="56d2" class="kr ks iq mi b gy mq mn l mo mp">console.log(values);<br/>//Returns ---&gt; [10, 20, 30, 40, 50]</span><span id="165a" class="kr ks iq mi b gy mq mn l mo mp">console.log(doubled);<br/>//Returns ---&gt; [20, 40, 60, 80, 100]</span></pre><p id="2f37" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">在上面的例子中，我们创建了一个名为<em class="mw">值</em>的变量，并给它分配了一个包含五个值的数组。接下来，我们创建另一个名为<em class="mw"> doubled </em>的变量，我们将它分配给方法映射的调用。我们使用希望调用 map 的数组的名称，在我们的例子中是值<em class="mw"/>，后面跟一个点(记住我们使用的是方法)，后面跟 map 方法名。我们传递一个匿名函数作为对 map 的回调。你可以在这里传入一个命名函数，但是因为我们只使用一次，所以匿名函数通常更合适。我们设置<em class="mw">值</em>参数，它将是每次 map 运行时来自数组的元素。我们返回值乘以 2 的总和。当我们控制台记录值数组时，我们可以看到什么都没有改变。当我们控制台记录 doubled 时，这是我们的新数组，我们可以看到它包含了 doubled 元素。</p><p id="a0c4" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">我们可以很容易地用 for 循环实现相同的结果，但是代码会复杂得多，因此容易出错。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="a313" class="kr ks iq mi b gy mm mn l mo mp">const values = [10, 20, 30, 40, 50];<br/>const doubled = [];</span><span id="1219" class="kr ks iq mi b gy mq mn l mo mp">for(let i = 0; i &lt; values.length; i++) {<br/>  doubled.push(values[i] * 2);<br/>}</span><span id="3158" class="kr ks iq mi b gy mq mn l mo mp">console.log(values);<br/>console.log(doubled);</span></pre><p id="32cb" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">我们可以使用 map 轻松地操作字符串数组。我们将获取一个大写问候数组，并以小写形式返回。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="4e8f" class="kr ks iq mi b gy mm mn l mo mp">const greetings = ["HI", "BYE", "YO", "WHATS UP"];<br/>const formattedGreetings = greetings.map(function(greeting) {<br/>  return greeting.toLowerCase();<br/>})</span><span id="d15d" class="kr ks iq mi b gy mq mn l mo mp">console.log(greetings);<br/>//Returns ---&gt; ['HI', 'BYE', 'YO', 'WHATS UP']</span><span id="4409" class="kr ks iq mi b gy mq mn l mo mp">console.log(formattedGreetings);<br/>//Returns ---&gt; ['hi', 'bye', 'yo', 'whats up']</span></pre><p id="3f5b" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">如果我们有一个嵌套的数据结构，并希望挑选出一个属性，并用这些值创建一个数组，map 也是理想的。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="035c" class="kr ks iq mi b gy mm mn l mo mp">const students = [<br/>{<br/>  name: "Anna",<br/>  age: 50<br/>},<br/>{<br/>  name: "Pete",<br/>  age: 20<br/>},<br/>{<br/>  name: "Abby",<br/>  age: 12<br/>  }<br/>];</span><span id="2f13" class="kr ks iq mi b gy mq mn l mo mp">const studentAges = students.map(function(student) {<br/>  return student.age<br/>});</span><span id="09f0" class="kr ks iq mi b gy mq mn l mo mp">console.log(studentAges);<br/>//Returns ---&gt; [50, 20, 12]</span></pre><p id="e99c" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">在上面的例子中，我们创建了一个数组，存储在一个名为<em class="mw"> students </em>的变量中。该数组包含三个带有学生姓名和年龄的对象。我们创建了另一个名为<em class="mw"> studentAges </em>的变量，它存储了使用 map 并从学生数组中的每个对象中挑选出<em class="mw">年龄</em>的结果。</p><p id="a87b" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">我们也可以使用 map 返回一个对象数组。让我们再次使用学生数组，但是格式化值。我们将把名字全部改为小写，并给每个学生的年龄加一。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="cd25" class="kr ks iq mi b gy mm mn l mo mp">const students = [<br/>{<br/>  name: "Anna",<br/>  age: 50<br/>},<br/>{<br/>  name: "Pete",<br/>  age: 20<br/>},<br/>{<br/>  name: "Abby",<br/>  age: 12<br/>  }<br/>];</span><span id="9472" class="kr ks iq mi b gy mq mn l mo mp">const updatedStudents = students.map(function(student) {<br/>  return {<br/>   lowercaseName: student.name.toLowerCase(),<br/>   agePlusOne: student.age + 1<br/>  }<br/>});</span><span id="c734" class="kr ks iq mi b gy mq mn l mo mp">console.log(updatedStudents);<br/>//Returns ---&gt;<br/>[<br/> {lowercaseName: 'anna', agePlusOne: 51}<br/> {lowercaseName: 'pete', agePlusOne: 21}<br/> {lowercaseName: 'abby', agePlusOne: 13}<br/>]</span></pre><p id="aff5" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">在上面的例子中，我们在回调函数中返回了一个对象。我们设置属性<em class="mw"> lowercaseName </em>和<em class="mw"> agePlusOne </em>。<em class="mw"> lowercaseName </em>属性使用 toLowerCase 字符串方法存储学生<em class="mw">的姓名</em>。属性存储学生的年龄，每个元素加 1。</p><h2 id="84cd" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">常见错误</h2><p id="ad8d" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">在本文的前面，我讨论了不返回 map 回调中的任何内容会导致返回一组未定义的值。下面是一个例子。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="2fd9" class="kr ks iq mi b gy mm mn l mo mp">const letters = ["a", "b", "c"];<br/>const upperCased = letters.map(function(letter) {<br/>  letter.toUpperCase();<br/>})</span><span id="f343" class="kr ks iq mi b gy mq mn l mo mp">console.log(letters);<br/>//Returns ---&gt; ['a', 'b', 'c']</span><span id="adf3" class="kr ks iq mi b gy mq mn l mo mp">console.log(upperCased);<br/>//Returns ---&gt; [undefined, undefined, undefined]</span></pre><p id="a1da" class="pw-post-body-paragraph ln lo iq lp b lq mr jr ls lt ms ju lv la mt lx ly le mu ma mb li mv md me mf ij bi translated">我希望你喜欢这篇文章，请随时发表任何意见，问题或反馈，并关注我的更多内容！</p></div></div>    
</body>
</html>