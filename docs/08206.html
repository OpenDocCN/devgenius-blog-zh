<html>
<head>
<title>How to enable Xdebug On Laravel Sail and debugging code with VS Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Laravel Sail 上启用 Xdebug 并用 VS 代码调试代码</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-enable-xdebug-on-laravel-sail-and-debugging-code-with-vs-code-872fd750b340?source=collection_archive---------0-----------------------#2022-05-26">https://blog.devgenius.io/how-to-enable-xdebug-on-laravel-sail-and-debugging-code-with-vs-code-872fd750b340?source=collection_archive---------0-----------------------#2022-05-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="66f6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用 XDebug 和 Visual Studio 代码调试 Laravel</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6855dc751018822d296eedd7bed616ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XpHD5v5VksqluOwO"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">凯文·Ku 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的 iPhoto</figcaption></figure><p id="59b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您尚未安装 Laravel sail，您可以阅读<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/laravel-create-an-admin-panel-from-scratch-part-1-installation-8c11dae7e684"> Laravel Sail 安装</a>并完成 Laravel Sail 设置。</p><p id="c9c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了调试 Laravel 代码，我们需要执行以下步骤。</p><ul class=""><li id="f256" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">1.在 Laravel Sail 中启用 Xdebug</li><li id="f2bb" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">2.VS 代码配置 PHP 调试</li><li id="e8d6" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">— 2.1 VS 代码安装 PHP 调试扩展</li><li id="488d" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">— 2.2 创建一个 launch.json 文件</li><li id="22fa" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">3.开始调试</li></ul><h1 id="f699" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">1.在 Laravel Sail 中启用 Xdebug</h1><p id="1e72" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">Laravel Sail  Docker 默认支持 Xdebug。Xdebug 是一个流行且强大的 PHP 调试器。</p><p id="d1f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开。env 配置文件，并添加以下配置</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="39fb" class="ni mh iq ne b gy nj nk l nl nm">SAIL_XDEBUG_MODE=develop,debug</span></pre><p id="c1c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">放下后开始航行。环境配置更新。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ed77" class="ni mh iq ne b gy nj nk l nl nm">sail down<br/>sail up</span></pre><p id="73bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe nn no np ne b">sail php -v</code>成功安装测试 Xdebug</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/c9ac10c97703d3cbf2fbf196bab0561b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*gwqILWDdzJ1NcWrniN0Mlw.png"/></div></figure></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h1 id="7f6e" class="mg mh iq bd mi mj ny ml mm mn nz mp mq jw oa jx ms jz ob ka mu kc oc kd mw mx bi translated">2.VS 代码配置 PHP 调试</h1><h2 id="04fb" class="ni mh iq bd mi od oe dn mm of og dp mq lf oh oi ms lj oj ok mu ln ol om mw on bi translated">2.1 VS 代码安装 PHP 调试扩展</h2><p id="6104" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">打开 VS 代码，在扩展搜索中搜索“<a class="ae kv" href="https://marketplace.visualstudio.com/items?itemName=xdebug.php-debug" rel="noopener ugc nofollow" target="_blank"> PHP debug </a>”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/f921be92cbfbf1356fa05c0ef89ec5cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sOMPhOqc2iw15TWj4f061A.png"/></div></div></figure><p id="ec4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装 PHP 调试扩展。</p><h2 id="4eb8" class="ni mh iq bd mi od oe dn mm of og dp mq lf oh oi ms lj oj ok mu ln ol om mw on bi translated">2.2 创建一个 launch.json 文件</h2><p id="fdf7" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">安装后点击<code class="fe nn no np ne b">Run</code>标签，点击<code class="fe nn no np ne b">Add configuration</code></p><p id="86bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">运行</strong> &gt; <strong class="ky ir">添加配置</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/d3f05ba58d53ac6d0406ba26bd696868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jbXpVinYIDIAV6mVptCmLw.png"/></div></div></figure><p id="8417" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后选择<code class="fe nn no np ne b">PHP</code>环境。VSCode 会将<code class="fe nn no np ne b">launch.json</code>文件添加到根目录下。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/cfe8bba7821bc5e03fa7e4fdb75defde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CAeYyytAKMGqQEQe0570GA.png"/></div></div></figure><p id="88dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">复制下面的代码，并将其添加到 launch.json 文件中</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="599b" class="ni mh iq ne b gy nj nk l nl nm">{<br/>    "version": "0.2.0",<br/>    "configurations": [<br/>        {<br/>            "name": "Listen for Xdebug",<br/>            "type": "php",<br/>            "request": "launch",<br/>            "port": 9003,<br/>            "pathMappings": {<br/>                "/var/www/html": "${workspaceFolder}"<br/>            }<br/>        }<br/>    ]<br/>}</span></pre></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h1 id="e7e2" class="mg mh iq bd mi mj ny ml mm mn nz mp mq jw oa jx ms jz ob ka mu kc oc kd mw mx bi translated">3.开始调试</h1><p id="f8aa" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">单击行号添加断点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/7058d09c69f9fc7ffb67e1cc1965a61e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtAhnuRzDZUMMjTqtdDdjg.png"/></div></div></figure><p id="fed2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击<code class="fe nn no np ne b">Run</code>选项卡，选择<code class="fe nn no np ne b">Start Debugging</code></p><p id="3fb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">运行</strong> &gt; <strong class="ky ir">开始调试(或)F5 </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/8633b2e61e1734ac18e1a4e92dc26df6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*QJww5_l76HHuVP51QEPuUQ.png"/></div></figure><p id="6dfd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在浏览器打开路径的断点处添加了控制器。在 VS 代码中，你的断点被突出显示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/b7e5915fa73b3c1d2bee486305118888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Fhh4xwmA02rfn_6j3-B_Q.png"/></div></div></figure><p id="f28c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe nn no np ne b">debug toolbar</code>开始调试您的代码。关于用 VS 代码调试的更多一般信息可以在<a class="ae kv" href="https://code.visualstudio.com/docs/editor/debugging" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/docs/editor/debugging</a>上找到。</p><ul class=""><li id="1a1c" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">继续/暂停 F5</li><li id="434d" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">跨过 F10</li><li id="7b11" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">步入 F11</li><li id="22e8" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">移出 Shift+F11</li><li id="ee6b" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">重新启动 Ctrl+Shift+F5</li><li id="a798" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">停止 Shift+F5</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/89b279b368c2b67789f4d63d31e2e8d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o5u-HZK0j1Tt6EdN.gif"/></div></div></figure><p id="91e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读。</p><p id="d20e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">敬请关注更多内容！</p><p id="95cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ov">跟我来</em><a class="ae kv" href="https://balajidharma.medium.com/" rel="noopener"><strong class="ky ir"><em class="ov"/></strong></a>。</p></div></div>    
</body>
</html>