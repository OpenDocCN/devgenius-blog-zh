<html>
<head>
<title>Container Remote with Restful API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有 Restful API 的容器远程</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/container-remote-with-restful-api-964fb626af64?source=collection_archive---------10-----------------------#2022-08-19">https://blog.devgenius.io/container-remote-with-restful-api-964fb626af64?source=collection_archive---------10-----------------------#2022-08-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="3bcd" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">通过 HTTP 调用 Podman 或 docker 引擎</h2></div><p id="2992" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你是否考虑过执行容器操作，比如启动容器，远程提取容器图像？你可能会说我们有 Kubernetes API。它有控制平面，支持 restful API。然而，许多公司可能只有码头工人或搬运工。此外，如果您希望在只有 docker 或 podman 的情况下从一个容器中启动容器，该怎么办？你可能会在 Docker 里说<a class="ae ky" href="https://docs.gitlab.com/ee/ci/docker/using_docker_build.html" rel="noopener ugc nofollow" target="_blank"> Docker，在 Podman </a>里说<a class="ae ky" href="https://www.redhat.com/sysadmin/podman-inside-container" rel="noopener ugc nofollow" target="_blank"> Podman。但是，自动化程度可能不是很高，因为您可能需要在 shell 会话中调用 docker、podman cli。</a></p><p id="e93e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本文介绍了 Podman restful API，它类似于 Kubernete API 和 podman remote 提供的控制平面，后者是通过 restful API 与 Podman 引擎交互的 podman 客户端。</p><h1 id="aa96" class="kz la in bd lb lc ld le lf lg lh li lj jt lk ju ll jw lm jx ln jz lo ka lp lq bi translated">波德曼 Restful API</h1><p id="d68d" class="pw-post-body-paragraph kc kd in ke b kf lr jo kh ki ls jr kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">由 podman 系统服务提供的 REST API 被分成两部分:一个为 Docker v1.40 API 提供支持的兼容层，以及一个 Podman-native Libpod 层。该架构是:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/e84282d8a25b2b6cce29fdd23c149985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rpspqY3y0Ig0ogsh"/></div></div></figure><p id="5954" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在下面的文章中</p><div class="mi mj gp gr mk ml"><a href="https://www.redhat.com/sysadmin/podman-clients-macos-windows" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">适用于 macOS 和 Windows 的 Podman 远程客户端</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">核心的 Podman 运行时环境只在 Linux 操作系统上运行。其他操作系统可以使用远程客户端…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">www.redhat.com</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz mg ml"/></div></div></a></div><div class="mi mj gp gr mk ml"><a href="https://docs.podman.io/en/latest/markdown/podman-system-service.1.html" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">波德曼</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">podman-system-service -运行 API 服务 podman 系统服务命令创建一个监听服务，它将…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">docs.podman.io</p></div></div></div></a></div><p id="1a40" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">与 Podman restful API 交互的最常见方式是通过 unix 套接字或 tcp。</p><h2 id="44a5" class="na la in bd lb nb nc dn lf nd ne dp lj kl nf ng ll kp nh ni ln kt nj nk lp nl bi translated">Unix 套接字</h2><p id="1247" class="pw-post-body-paragraph kc kd in ke b kf lr jo kh ki ls jr kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">使用默认套接字运行 API 监听 5 秒钟。</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="9b50" class="na la in nn b gy nr ns l nt nu"># A value of <!-- -->0 <!-- -->means no timeout, therefore the session will not expire<br/>podman system service --time 5</span></pre><p id="17aa" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">还可以使用 systemd 来激活 Podman API 套接字。</p><div class="mi mj gp gr mk ml"><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/building_running_and_managing_containers/assembly_using-the-container-tools-api_building-running-and-managing-containers" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">第十八章。使用容器工具 API Red Hat Enterprise Linux 8 | Red Hat 客户门户</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">Red Hat 培训课程适用于 RHEL 8。新的基于 REST 的 Podman 2.0 API 取代了旧的远程 API，适用于…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">access.redhat.com</p></div></div><div class="mu l"><div class="nv l mw mx my mu mz mg ml"/></div></div></a></div><p id="1b10" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面我从 user 下开始，socket 文件将创建在/run/user/$ UID/pod man/pod man . sock 下</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="59af" class="na la in nn b gy nr ns l nt nu">systemctl enable --now podman.socket<br/>systemctl start --user podman.socket</span></pre><p id="ad14" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">检查 API 版本</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="a9fe" class="na la in nn b gy nr ns l nt nu">podman info --debug</span></pre><p id="6636" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">结果</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="3130" class="na la in nn b gy nr ns l nt nu">version:<br/>  APIVersion: 3.4.2</span></pre><p id="b534" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">检查 Podman restful API 信息(用上面检索到的版本替换 API 版本)</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="4eab" class="na la in nn b gy nr ns l nt nu">export XDG_RUNTIME_DIR=/run/user/$UID/<br/>curl -s --unix-socket $XDG_RUNTIME_DIR/podman/podman.sock <a class="ae ky" href="http://d/v1.0.0/libpod/info" rel="noopener ugc nofollow" target="_blank">http://d/v3.4.2/libpod/info</a></span></pre><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/51a668b059383b1cbc6fc3c16e441305.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4BlR0ck5mlKE9wAqRVaYew.png"/></div></div></figure><p id="cfce" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">其他命令</p><p id="b258" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">检查图像</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="7131" class="na la in nn b gy nr ns l nt nu">export XDG_RUNTIME_DIR=/run/user/$UID/<br/>curl -s --unix-socket $XDG_RUNTIME_DIR/podman/podman.sock <a class="ae ky" href="http://d/v1.0.0/libpod/info" rel="noopener ugc nofollow" target="_blank">http://d/v3.4.2/libpod/images/json</a></span></pre><p id="7980" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">检查容器</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="bfdd" class="na la in nn b gy nr ns l nt nu">export XDG_RUNTIME_DIR=/run/user/$UID/<br/>curl -s --unix-socket $XDG_RUNTIME_DIR/podman/podman.sock <a class="ae ky" href="http://d/v1.0.0/libpod/info" rel="noopener ugc nofollow" target="_blank">http://d/v3.4.2/libpod/containers/json</a></span></pre><h2 id="5eab" class="na la in bd lb nb nc dn lf nd ne dp lj kl nf ng ll kp nh ni ln kt nj nk lp nl bi translated">传输控制协议（Transmission Control Protocol）</h2><p id="2b5d" class="pw-post-body-paragraph kc kd in ke b kf lr jo kh ki ls jr kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">启动 Podman 服务器</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="9178" class="na la in nn b gy nr ns l nt nu">podman system service tcp:[::]:8080 --time 60</span></pre><p id="df35" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">shell 会话将在那里停留 60 秒。</p><p id="6a2b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，在本地服务器上的另一个会话中，运行以下命令</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="8b12" class="na la in nn b gy nr ns l nt nu">curl -s http://127.0.0.1:8080/v3.4.2/libpod/info</span></pre><p id="d5d7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您也可以从远程机器访问</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="14f1" class="na la in nn b gy nr ns l nt nu">curl -s http://&lt;ip address&gt;:8080/v3.4.2/libpod/info</span></pre><p id="9dc0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您也可以使用<a class="ae ky" href="https://github.com/containers/podman/issues/10810" rel="noopener ugc nofollow" target="_blank"> podman 遥控器</a>来访问</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="db18" class="na la in nn b gy nr ns l nt nu">podman --remote --url tcp://[ip address]:8080 images</span></pre><p id="168e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有了 restful API，你可以用很多方式与 Podman 引擎交互，比如 curl，python，golang，javascript，比如有一个官方的 Podman 客户端 SDK。它比使用 Python subprocess.run 要好。</p><div class="mi mj gp gr mk ml"><a href="https://github.com/containers/podman-py" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">GitHub-containers/pod man-py:pod man 的 RESTful API 的 Python 绑定</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">Podman 的 RESTful API 的 Python 绑定。通过在…上创建帐户，为 containers/podman-py 的发展做出贡献</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">github.com</p></div></div></div></a></div><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="0960" class="na la in nn b gy nr ns l nt nu">"""Demonstrate PodmanClient."""<br/>import json<br/>from podman import PodmanClient</span><span id="c52a" class="na la in nn b gy nx ns l nt nu"># Provide a URI path for the libpod service.  In libpod, the URI can be a unix<br/># domain socket(UDS) or TCP.  The TCP connection has not been implemented in this<br/># package yet.</span><span id="f6a1" class="na la in nn b gy nx ns l nt nu">uri = "unix:///run/user/1000/podman/podman.sock"</span><span id="88a0" class="na la in nn b gy nx ns l nt nu">with PodmanClient(base_url=uri) as client:<br/>    version = client.version()<br/>    print("Release: ", version["Version"])<br/>    print("Compatible API: ", version["ApiVersion"])<br/>    print("Podman API: ", version["Components"][0]["Details"]["APIVersion"], "\n")</span><span id="2c80" class="na la in nn b gy nx ns l nt nu"># get all images<br/>    for image in client.images.list():<br/>        print(image, image.id, "\n")</span><span id="7952" class="na la in nn b gy nx ns l nt nu"># find all containers<br/>    for container in client.containers.list():<br/>        first_name = container['Names'][0]<br/>        container = client.containers.get(first_name)<br/>        print(container, container.id, "\n")</span><span id="226e" class="na la in nn b gy nx ns l nt nu"># available fields<br/>        print(sorted(container.attrs.keys()))</span><span id="b62c" class="na la in nn b gy nx ns l nt nu">print(json.dumps(client.df(), indent=4))</span></pre><h1 id="bd0f" class="kz la in bd lb lc ld le lf lg lh li lj jt lk ju ll jw lm jx ln jz lo ka lp lq bi translated">运输</h1><p id="f003" class="pw-post-body-paragraph kc kd in ke b kf lr jo kh ki ls jr kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">一般当你运行容器时，容器映像通常来自公共(<a class="ae ky" href="https://hub.docker.com" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com</a>)或私有容器注册中心(<a class="ae ky" href="https://azure.microsoft.com/en-us/services/container-registry/" rel="noopener ugc nofollow" target="_blank"> ACR </a>、<a class="ae ky" href="https://aws.amazon.com/ecr/" rel="noopener ugc nofollow" target="_blank"> ECR </a>、<a class="ae ky" href="https://cloud.google.com/container-registry" rel="noopener ugc nofollow" target="_blank"> GCR </a>)，映像标签通常是&lt;容器注册中心服务器&gt; / &lt;映像回购&gt; : &lt;映像标签&gt;的格式。然而，波德曼实际上支持更多的运输或存储。</p><div class="mi mj gp gr mk ml"><a href="https://docs.podman.io/en/latest/markdown/podman-run.1.html#image" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">波德曼</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">添加自定义的主机到 IP 的映射(host:ip)。格式为主机名:ip。- add-host 选项…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">docs.podman.io</p></div></div></div></a></div><div class="mi mj gp gr mk ml"><a href="https://docs.podman.io/en/latest/markdown/podman-save.1.html" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">波德曼</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">podman save 将图像保存到本地文件或目录。默认情况下，podman 将写入保存到 STDOUT，并且可以被重定向…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">docs.podman.io</p></div></div></div></a></div><p id="b5e1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从上面的文章，这里是支持的传输。它支持将映像存储在目录中的使用情形(本地或附加共享)</p><p id="3bf8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">docker</strong>://docker-reference(默认)存储在远程容器映像注册表中的映像引用。例如:“quay.io/podman/stable:latest”。该引用可以包括特定注册表的路径；如果不匹配，将查询 registries.conf 中列出的注册表来查找匹配的图像。默认情况下，来自 podman 登录的凭证(默认情况下存储在$ XDG _ 运行时 _ 目录/容器/auth.json)将被用来进行身份验证；否则，它会退回到使用$HOME/中的凭证。docker/config.json。</p><p id="f740" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> dir </strong> :path 一个现有的本地目录路径，将清单、层 tarballs 和签名存储为单独的文件。这是一种非标准化格式，主要用于调试或无创容器检查。</p><p id="ffe9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">docker-archive</strong>:path[:docker-reference]存储在 docker 保存格式文件中的图像。docker-reference 仅在创建这样的文件时使用，并且它不能包含摘要。</p><p id="635a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">docker-daemon</strong>:docker-reference 以 docker-reference 格式存储在 docker daemon 内部存储器中的图像。docker-reference 也可以是一个图像 ID (docker-daemon:algo:digest)。</p><p id="55c3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> oci-archive </strong> :path:给指定路径下符合“开放容器图像布局规范”的目录下的图像加标签，用标签指定。</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="0a5e" class="na la in nn b gy nr ns l nt nu">podman save --format oci-archive fedora -o /tmp/fedora<br/>podman run oci-archive:/tmp/fedora echo hello</span></pre><p id="86b5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然而，Podman restful API <a class="ae ky" href="https://github.com/containers/podman/blob/main/pkg/api/handlers/utils/images.go#L67" rel="noopener ugc nofollow" target="_blank">只支持使用来自容器映像注册表</a>的映像创建容器。以下文章描述了该错误</p><div class="mi mj gp gr mk ml"><a href="https://github.com/containers/podman/issues/8927" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">无法通过 http api 问题#8927 containers/podman 从 oci-archive 创建容器</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">这是错误报告还是功能请求？(只留下一个在它自己的行)/种类错误描述我不能使用…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">github.com</p></div></div><div class="mu l"><div class="ny l mw mx my mu mz mg ml"/></div></div></a></div><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="347d" class="na la in nn b gy nr ns l nt nu">curl -d '{"image":"oci-archive:/tmp/busybox.oci"}' -H "Content-Type: application/json" --unix-socket /run/podman/podman.sock <a class="ae ky" href="http://localhost/v1.24/libpod/containers/create" rel="noopener ugc nofollow" target="_blank">http://localhost/v1.24/libpod/containers/create</a></span><span id="3d6e" class="na la in nn b gy nx ns l nt nu">{"cause":"invalid reference format","message":"invalid reference format","response":500}</span></pre><p id="bc10" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了从文件夹中的 OCI 归档映像创建容器，您需要首先加载映像。</p><div class="mi mj gp gr mk ml"><a href="https://github.com/containers/podman/issues/7185" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">Podman API 不接受“docker-compose build”问题#7185 的“应用程序/tar”内容类型…</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">这是错误报告还是功能请求？(一行只留一个)/种类 bug 描述运行 docker-compose…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">github.com</p></div></div><div class="mu l"><div class="nz l mw mx my mu mz mg ml"/></div></div></a></div><p id="f923" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">正确的命令是</p><pre class="lx ly lz ma gt nm nn no np aw nq bi"><span id="6da3" class="na la in nn b gy nr ns l nt nu">curl -XPOST --unix-socket $XDG_RUNTIME_DIR/podman/podman.sock -H content-type:application/x-tar <a class="ae ky" href="http://d/v1.0.0/libpod/info" rel="noopener ugc nofollow" target="_blank">http://d/v3.4.2/libpod/images/load</a> -T /tmp/fedora</span></pre><p id="8e3f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">响应包含 docker 容器注册表<image tag="">。然后，您可以使用图像标签来创建容器。</image></p><h1 id="d258" class="kz la in bd lb lc ld le lf lg lh li lj jt lk ju ll jw lm jx ln jz lo ka lp lq bi translated">Podman restful API 参考</h1><div class="mi mj gp gr mk ml"><a href="https://docs.podman.io/en/latest/_static/api.html?version=v4.1" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">参考</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">编辑描述</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">docs.podman.io</p></div></div></div></a></div><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi oa"><img src="../Images/66a0286aee2cb6674c57ed929322f728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzYmJEwOrZ9hrj_iexiNpw.png"/></div></div></figure><p id="961c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从上面来看，API 是“/libpod/images/load”，头应该是“content-type:application/x-tar”。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi oa"><img src="../Images/c67a9d8b9b519ca7237e73011e7915a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7ekd7sEY4qHWRtdeHyafw.png"/></div></div></figure><p id="396c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面的 API 是“创建一个容器”，端点是“/libpod/containers/create”，头是“content-type:application/json”，还可以引用有效载荷，例如 command: command/entrypoint 以在容器启动时运行，image: image 标签，name:容器名等..</p><h1 id="760d" class="kz la in bd lb lc ld le lf lg lh li lj jt lk ju ll jw lm jx ln jz lo ka lp lq bi translated">附录</h1><p id="62f9" class="pw-post-body-paragraph kc kd in ke b kf lr jo kh ki ls jr kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">波德曼遥控器</p><div class="mi mj gp gr mk ml"><a href="https://docs.podman.io/en/latest/markdown/podman-remote.1.html" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">波德曼</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">podman 的远程 CLI:一个简单的 pod、容器和图像管理工具。Podman (Pod 经理)…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">docs.podman.io</p></div></div></div></a></div><p id="85c4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Podman restful API 示例</p><div class="mi mj gp gr mk ml"><a href="https://www.redhat.com/sysadmin/podmans-new-rest-api" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">先睹为快:波德曼的新 REST API</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">这是你我之间的秘密，不要告诉任何人！答应吗？好吧，我向你保证，所以是这样的:有一个…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">www.redhat.com</p></div></div><div class="mu l"><div class="ob l mw mx my mu mz mg ml"/></div></div></a></div><div class="mi mj gp gr mk ml"><a href="https://www.redhat.com/sysadmin/podman-rest-api" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">如何用 REST API 管理 Podman 中的 pod</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">两年前，在 Podman 中可以使用 REST API，现在仍然在积极地维护它，添加了新的特性…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">www.redhat.com</p></div></div><div class="mu l"><div class="oc l mw mx my mu mz mg ml"/></div></div></a></div><div class="mi mj gp gr mk ml"><a href="https://www.redhat.com/sysadmin/podman-python-bash" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">使用 Python 和 Bash 探索 Podman RESTful API</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">你可能听说过波德曼·V2 有一个新的 RESTful API。本文档使用代码示例演示了 API 在…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">www.redhat.com</p></div></div><div class="mu l"><div class="od l mw mx my mu mz mg ml"/></div></div></a></div><p id="c0c5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Docker restful API</p><div class="mi mj gp gr mk ml"><a href="https://docs.docker.com/engine/api/sdk/examples/" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">使用 Docker 引擎 SDK 和 Docker API 的示例</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">预计阅读时间:19 分钟安装 Docker 后，您可以安装 Go 或 Python SDK，还可以试用…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">docs.docker.com</p></div></div><div class="mu l"><div class="oe l mw mx my mu mz mg ml"/></div></div></a></div><div class="mi mj gp gr mk ml"><a href="https://docs.docker.com/registry/spec/api/" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">HTTP API V2</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">Docker Registry HTTP API 是一种协议，有助于将图像分发到 Docker 引擎。它相互作用…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">docs.docker.com</p></div></div><div class="mu l"><div class="of l mw mx my mu mz mg ml"/></div></div></a></div><p id="821c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Docker restful API 客户端</p><div class="mi mj gp gr mk ml"><a href="https://github.com/docker/docker-py" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">GitHub-Docker/Docker-py:Docker 引擎 API 的 Python 库</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">Docker 引擎 API 的 Python 库。它可以让你做 docker 命令做的任何事情，但是在 Python 内部…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">github.com</p></div></div><div class="mu l"><div class="og l mw mx my mu mz mg ml"/></div></div></a></div><p id="590b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">波德曼中的波德曼</p><div class="mi mj gp gr mk ml"><a href="https://www.redhat.com/sysadmin/podman-inside-container" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">如何在容器内部使用 Podman</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">从事上游容器技术的人们问得最多的话题之一是在一个…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">www.redhat.com</p></div></div><div class="mu l"><div class="oh l mw mx my mu mz mg ml"/></div></div></a></div><div class="mi mj gp gr mk ml"><a href="https://developers.redhat.com/blog/2019/04/04/build-and-run-buildah-inside-a-podman-container" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">在 Podman 容器中构建并运行| Red Hat Developer</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">去年圣诞节，我送给妻子一套类似俄罗斯套娃的套娃。如果你不熟悉…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">developers.redhat.com</p></div></div><div class="mu l"><div class="oi l mw mx my mu mz mg ml"/></div></div></a></div><p id="1dab" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">波德曼将军</p><div class="mi mj gp gr mk ml"><a href="https://phoenixnap.com/kb/podman-tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd io gy z fp mq fr fs mr fu fw im bi translated">Podman 教程:如何使用图像、容器和 pod</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">简介 Podman 是一个容器引擎，用于在 Linux 上运行和管理 OCI 容器。RedHat 将其发展为…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">phoenixnap.com</p></div></div><div class="mu l"><div class="oj l mw mx my mu mz mg ml"/></div></div></a></div></div></div>    
</body>
</html>