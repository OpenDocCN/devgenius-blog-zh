<html>
<head>
<title>How to debug code: Best Practices | Tips &amp; Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何调试代码:最佳实践|提示和技巧</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-debug-code-best-practices-tips-tricks-633c941159d7?source=collection_archive---------1-----------------------#2020-11-23">https://blog.devgenius.io/how-to-debug-code-best-practices-tips-tricks-633c941159d7?source=collection_archive---------1-----------------------#2020-11-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><blockquote class="jk jl jm"><p id="1d37" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated"><strong class="jq io">调试的黄金法则:不要思考；看啊！不要假设；验证！</strong></p></blockquote><p id="95f2" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">当涉及到代码调试时，就像生活中的大多数事情一样；“<strong class="jq io"> <em class="jp">假设是所有乱搞</em> </strong>之母。”我很早就从 Chris Shellenbarger 那里学到了这一点，它帮助我抓住了当我还是一名初级软件工程师时犯下的愚蠢错误。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/b629e6e90e204b800e89ec2d61c2784a.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/1*2X4kX8wkfbtBFu9Zack_IA.gif"/></div></figure><p id="40b7" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">在编写代码或编程时，可能会出现几种不同类型的错误；主要来说，所有这些错误都属于这三类:</p><ul class=""><li id="ecb9" class="kz la in jq b jr js jv jw km lb kn lc ko ld kl le lf lg lh bi translated"><strong class="jq io">语法错误</strong></li><li id="acaa" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated"><strong class="jq io">运行时错误</strong></li><li id="3ed8" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated"><strong class="jq io">逻辑错误</strong></li></ul><h2 id="342e" class="ln lo in bd lp lq lr dn ls lt lu dp lv km lw lx ly kn lz ma mb ko mc md me mf bi translated"><strong class="ak">语法错误</strong></h2><p id="f00a" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy km mi kb kc kn mj kf kg ko mk kj kk kl ig bi translated"><strong class="jq io">语法错误</strong>是源代码中的<strong class="jq io">错误</strong>，比如拼错一个指令、命令或者变量名，标点符号错误，标签不正确，某些编程语言的代码行末尾少了一个逗号等等；这导致编译器生成错误消息。这些错误出现在 IDE 上的一个单独的错误窗口中，并指示错误类型和行号，以便可以在编辑窗口中进行更正。</p><p id="c50e" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated"><strong class="jq io"> <em class="jp">语法错误最容易调试和修复</em> </strong>。现代 IDE 如<a class="ae ml" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio Code </a>、<a class="ae ml" href="https://atom.io/" rel="noopener ugc nofollow" target="_blank"> Atom </a>等。有更好的语法突出显示，有助于减少编码时的语法错误，甚至当这些错误发生时。ide 提供了非常清晰的错误消息或建议来帮助解决这个问题。</p><h2 id="7944" class="ln lo in bd lp lq lr dn ls lt lu dp lv km lw lx ly kn lz ma mb ko mc md me mf bi translated"><strong class="ak">运行时错误</strong></h2><p id="2f43" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy km mi kb kc kn mj kf kg ko mk kj kk kl ig bi translated">用简单的英语；当<strong class="jq io">编程语言不理解</strong>您所说的或要求它做的事情，并在遵循您的代码行指令时遇到麻烦时，就会发生<strong class="jq io">运行时错误</strong>。</p><p id="dbca" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">有运行时错误的程序是通过了解释器的语法检查并开始执行的程序。但是，在执行程序中的一条语句时，出现了一个错误，导致解释器停止执行程序并显示一条错误消息。运行时错误也被称为<strong class="jq io">异常</strong>，因为它们通常表明发生了一些异常的(和不好的)事情。<em class="jp">(来源:</em><a class="ae ml" href="https://runestone.academy/runestone/books/published/fopp/Debugging/RuntimeErrors.html" rel="noopener ugc nofollow" target="_blank"><em class="jp"/></a><em class="jp">)</em></p><p id="2923" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">运行时错误也可以称为执行时错误，因为它们发生在代码、函数或脚本的某个部分正在执行时。对于大多数语言，运行时错误的例子有:</p><ul class=""><li id="464a" class="kz la in jq b jr js jv jw km lb kn lc ko ld kl le lf lg lh bi translated">拼写错误或大写不正确的变量和函数名</li><li id="656f" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated">试图对错误类型的数据(例如试图减去保存字符串值的两个变量)</li><li id="a8d3" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated">除以零</li><li id="af7f" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated">试图对不能转换为 int 的值使用类型转换函数，如<code class="fe mm mn mo mp b">int</code></li></ul><h2 id="8019" class="ln lo in bd lp lq lr dn ls lt lu dp lv km lw lx ly kn lz ma mb ko mc md me mf bi translated"><strong class="ak">逻辑错误</strong></h2><p id="f53b" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy km mi kb kc kn mj kf kg ko mk kj kk kl ig bi translated">简而言之，<strong class="jq io"> <em class="jp">逻辑错误</em> </strong>就是当你的代码、脚本或程序编译并运行良好，但不能按预期运行或给出你期望或需要的结果。逻辑错误是程序员推理中的错误，但不是编程语言中的错误。</p><p id="7b2f" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated"><strong class="jq io"> <em class="jp">逻辑错误更难识别和修复</em> </strong>，因为它们不会在您的代码、IDE 控制台或代码编译期间导致任何错误消息。</p><blockquote class="jk jl jm"><p id="6a4b" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated"><strong class="jq io">现在，下面的代码是糟糕和低效代码的典型例子:</strong></p></blockquote><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="3d70" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">这段代码写得很差，有三个错误:语法、运行时和逻辑错误。在您的 IDE 上复制粘贴，看看您是否可以调试错误并重构代码。</p></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><h1 id="260c" class="mz lo in bd lp na nb nc ls nd ne nf lv ng nh ni ly nj nk nl mb nm nn no me np bi translated">提示和技巧</h1><p id="ef3b" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy km mi kb kc kn mj kf kg ko mk kj kk kl ig bi translated">我将分享一些个人的一般提示和技巧，在调试这些代码错误时会有所帮助:</p><blockquote class="jk jl jm"><p id="ad1b" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated"><strong class="jq io">断言检查</strong></p></blockquote><p id="8634" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">说到代码调试；你肯定不想假设一个变量有你认为它应该有的值。不要只是假设值是你认为它们应该是什么，不要只是假设文本是 ASCII 而不是 UTF-16。不要只是假设 JSON 是有效的。不要仅仅假设 UTC 时间字符串实际上是正确的。不要只是假设一个函数正在返回你认为它应该返回的东西。不要只假设时间是 UTC(或者本地)等。</p><p id="cb20" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated"><strong class="jq io"> <em class="jp">断言检查</em> </strong>是一种验证假设的简单方法。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/7aeea1fcefb5802944eed79264ba9462.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*3w74MqSs39Z54AO96UcSPg.gif"/></div></figure><blockquote class="jk jl jm"><p id="2200" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated">这可能会引起争论，但我认为 90%以上的错误可以通过打印所有内容并验证假设来发现。</p></blockquote><p id="8b0a" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">除了打印变量及其类型；有时候打印长度也可以很有见地。以及使用断点。</p><h1 id="789a" class="mz lo in bd lp na nr nc ls nd ns nf lv ng nt ni ly nj nu nl mb nm nv no me np bi translated"><strong class="ak">编码标准和最佳实践</strong></h1><p id="5895" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy km mi kb kc kn mj kf kg ko mk kj kk kl ig bi translated">编写代码时，遵循编码标准会有所帮助，例如:</p><ul class=""><li id="d010" class="kz la in jq b jr js jv jw km lb kn lc ko ld kl le lf lg lh bi translated">编写注释和文档——这实际上是我作为开发人员学到的第一件事；注释您的代码。</li><li id="9eb1" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated">不要硬编码！至少是可以避免的</li><li id="8637" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated">编写可读的代码:给变量名。</li><li id="c706" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated">让你的代码更有效率:正确地组织你的代码，但是要使用帮助方法、函数和类。</li><li id="df7d" class="kz la in jq b jr li jv lj km lk kn ll ko lm kl le lf lg lh bi translated">编写测试用例。</li></ul><p id="d246" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy km ka kb kc kn ke kf kg ko ki kj kk kl ig bi translated">所以在调试和重构了上面的代码之后。我以这个结尾:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="mq mr l"/></div></figure><blockquote class="nw"><p id="dee1" class="nx ny in bd nz oa ob oc od oe of kl dk translated">如果有的话:只要谷歌错误，并从那里去！</p></blockquote><blockquote class="jk jl jm"><p id="b405" class="jn jo jp jq b jr og jt ju jv oh jx jy jz oi kb kc kd oj kf kg kh ok kj kk kl ig bi translated"><em class="in">如果你喜欢这个故事，你可能也会喜欢“</em> <a class="ae ml" href="https://blog.usejournal.com/coding-interview-problem-solving-techniques-ae6a82d98dbb" rel="noopener ugc nofollow" target="_blank"> <strong class="jq io">如何编写算法</strong></a><em class="in">”</em></p></blockquote><blockquote class="nw"><p id="0f04" class="nx ny in bd nz oa ob oc od oe of kl dk translated">干杯！！！</p></blockquote></div></div>    
</body>
</html>