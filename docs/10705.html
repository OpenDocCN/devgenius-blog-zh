<html>
<head>
<title>Azure Static Web App: Configuring Identity Providers (2 of 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure 静态 Web 应用:配置身份提供者(第 2 页，共 2 页)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/azure-static-web-app-configuring-identity-providers-2-of-2-b2b8c7b6c060?source=collection_archive---------11-----------------------#2022-11-23">https://blog.devgenius.io/azure-static-web-app-configuring-identity-providers-2-of-2-b2b8c7b6c060?source=collection_archive---------11-----------------------#2022-11-23</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/8b457a4472b06eb48f34a4e2967673aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dVqa_DysASf7hQLgroGAIA.png"/></div></div></figure><p id="9718" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">过去几天，我一直在撰写大量关于 Azure 静态 web 应用的文章。我将在最后提供这些文章的列表。</p><p id="a71f" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">在我之前的<a class="ae kx" href="https://tarunbhatt9784.medium.com/azure-static-web-app-configuring-identity-providers-1-of-2-963acfdc8d10?sk=579315d6ea6aa9e6f24eb65963e0bd6f" rel="noopener">文章</a>中，我编写了一个基本的 react 应用程序来演示在本地机器上使用 Twitter、GitHub &amp; Azure Active directory 进行身份验证。我们使用静态 web 应用模拟器来模拟认证服务器。在本文中，我们将部署对 Azure 的更改，以查看实际的认证服务器。</p><p id="cf6c" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">首先，我想使用路由技术来清理登录和注销 URL。</p><h1 id="113e" class="ky kz ir bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">按指定路线发送</h1><p id="4def" class="pw-post-body-paragraph jz ka ir kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ik bi translated">在前一篇文章中，登录和注销 URL 有。app.js 文件内的 auth。我想使用 staticwebapp.config.json 中的 routes config 来清理它。</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mf mg l"/></div></figure><p id="b5ef" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">有了这些路由配置，我们可以删除。从 app.js 上的 URL 进行验证。我们修改后的 app.js 将如下所示:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mf mg l"/></div></figure><p id="5101" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">让我们使用这里的<a class="ae kx" href="https://tarunbhatt9784.medium.com/azure-devops-pipeline-for-azure-static-web-app-fetch-deployment-token-from-key-vault-21aa75e3cb30?sk=473a4fb08fd965ce814fb166d7e46165" rel="noopener">构建的管道</a>来部署我们的更改。</p></div><div class="ab cl mh mi hv mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ik il im in io"><h1 id="61be" class="ky kz ir bd la lb mo ld le lf mp lh li lj mq ll lm ln mr lp lq lr ms lt lu lv bi translated">验证认证</h1><h2 id="7209" class="mt kz ir bd la mu mv dn le mw mx dp li kk my mz lm ko na nb lq ks nc nd lu ne bi translated">开源代码库</h2><p id="eb56" class="pw-post-body-paragraph jz ka ir kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ik bi translated">点击 GitHub 登录。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj nf"><img src="../Images/72ca838397574f832f41a3e408e43d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rsbhB2U9U2SxELoRfcfpCQ.png"/></div></div></figure><p id="5d44" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">该行为与我们在本地开发人员机器上看到的不同。没有模拟认证屏幕。相反，页面保持原样，身份验证在后台进行。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div class="gi gj ng"><img src="../Images/f5cc3ffb4b73e759b40548c8d5554d8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*ZCS4MaRouKXEyDvlkEgB8A.png"/></div></figure><p id="f79b" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">与我们在开发机器上测试应用程序的方式相反，在能够使用不同的登录机制之前，我们需要注销。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj nf"><img src="../Images/d18777c318f310b30ec4e437536187ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWQx4vcCER25W8QaUzCjRw.png"/></div></div></figure><p id="aafe" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">再次核实索赔</p><figure class="mb mc md me gu js gi gj paragraph-image"><div class="gi gj nh"><img src="../Images/d08d6a10900a0d95af32f1cc058ceb8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*eFXLZE1tpBMpWz4Im37QMQ.png"/></div></figure><h2 id="3d47" class="mt kz ir bd la mu mv dn le mw mx dp li kk my mz lm ko na nb lq ks nc nd lu ne bi translated">推特</h2><p id="c6a8" class="pw-post-body-paragraph jz ka ir kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ik bi translated">点击 Twitter 登录</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj nf"><img src="../Images/d2dc8613ae7304ca7f90432501f0b958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sVr7y_OP5r-MwBPS2XTxtA.png"/></div></div></figure><p id="cd5d" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">该行为与我们在本地开发人员机器上看到的不同。没有模拟认证屏幕。相反，页面保持原样，身份验证在后台进行。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj ni"><img src="../Images/06b0a951c2f51632274c4710c35c2f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wH8eegjm4V4NRzjfcptQEA.png"/></div></div></figure><p id="a162" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">与我们在开发机器上测试应用程序的方式相反，在能够使用不同的登录机制之前，我们需要注销。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj nf"><img src="../Images/d18777c318f310b30ec4e437536187ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWQx4vcCER25W8QaUzCjRw.png"/></div></div></figure><p id="992d" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">再次核实索赔</p><figure class="mb mc md me gu js gi gj paragraph-image"><div class="gi gj nh"><img src="../Images/d08d6a10900a0d95af32f1cc058ceb8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*eFXLZE1tpBMpWz4Im37QMQ.png"/></div></figure><h1 id="0060" class="ky kz ir bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Azure 活动目录登录</h1><p id="add6" class="pw-post-body-paragraph jz ka ir kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ik bi translated">点击 AAD 登录</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj nf"><img src="../Images/67c0d1bfd72ba9d9afcb6b4ed4960531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2iRkKo8nL8Zxbv0naR3mjg.png"/></div></div></figure><p id="83ee" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">该行为与我们在本地开发人员机器上看到的不同。没有模拟认证屏幕。相反，页面保持原样，身份验证在后台进行。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj ng"><img src="../Images/2258f691681de8b7796d1e00fdf41cfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*9EBkE52eDU9MEAArj7tTsw.png"/></div></div></figure><p id="35e7" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">与我们在开发机器上测试应用程序的方式相反，在能够使用不同的登录机制之前，我们需要注销。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj nf"><img src="../Images/d18777c318f310b30ec4e437536187ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWQx4vcCER25W8QaUzCjRw.png"/></div></div></figure><p id="ce92" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">再次核实索赔</p><figure class="mb mc md me gu js gi gj paragraph-image"><div class="gi gj nh"><img src="../Images/d08d6a10900a0d95af32f1cc058ceb8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*eFXLZE1tpBMpWz4Im37QMQ.png"/></div></figure><h1 id="7d29" class="ky kz ir bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">参考</h1><p id="6b90" class="pw-post-body-paragraph jz ka ir kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ik bi translated">正如承诺的那样，请查看其他 Azure Static web app 文章的链接。</p><ul class=""><li id="baa7" class="nj nk ir kb b kc kd kg kh kk nl ko nm ks nn kw no np nq nr bi translated"><a class="ae kx" href="https://tarunbhatt9784.medium.com/azure-static-web-app-azurerm-static-site-ac2b13369fbe?sk=d528089f68459a3626885795611e29fe" rel="noopener">使用 Terraform-Azure RM _ Static _ site 创建 Azure 静态 Web App</a></li><li id="6aee" class="nj nk ir kb b kc ns kg nt kk nu ko nv ks nw kw no np nq nr bi translated"><a class="ae kx" href="https://tarunbhatt9784.medium.com/azure-static-app-deploy-changes-using-azure-devops-2f65840b956e?sk=3fc51453b74b6a5920dd0e5afff4bd07" rel="noopener"> Azure 静态应用——使用 Azure DevOps 部署变更</a></li><li id="f4e6" class="nj nk ir kb b kc ns kg nt kk nu ko nv ks nw kw no np nq nr bi translated"><a class="ae kx" href="https://tarunbhatt9784.medium.com/azure-static-web-app-save-management-token-to-keyvault-using-terraform-ccf1a344e38e?sk=5aa3f1b3d1dea5fb71ad2a7241291cec" rel="noopener">Azure Static Web App——使用 Terraform 将部署令牌保存到 key vault</a></li><li id="4edf" class="nj nk ir kb b kc ns kg nt kk nu ko nv ks nw kw no np nq nr bi translated"><a class="ae kx" href="https://tarunbhatt9784.medium.com/azure-devops-pipeline-for-azure-static-web-app-fetch-deployment-token-from-key-vault-21aa75e3cb30?sk=473a4fb08fd965ce814fb166d7e46165" rel="noopener"> Azure 静态 Web 应用的 Azure DevOps 管道—从密钥库中获取部署令牌。</a></li><li id="5fd0" class="nj nk ir kb b kc ns kg nt kk nu ko nv ks nw kw no np nq nr bi translated"><a class="ae kx" rel="noopener ugc nofollow" target="_blank" href="/azure-static-web-app-local-setup-818b1c45fed?sk=70d83c70582608b9726d9be61c11c527"> Azure 静态 Web 应用—开发者机器设置</a></li></ul></div><div class="ab cl mh mi hv mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ik il im in io"><p id="2578" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">页（page 的缩写）s-Medium 是一个阅读、写作和向其他作者学习的绝佳平台。如果你想加入我的旅程，今天就加入<a class="ae kx" href="https://tarunbhatt9784.medium.com/membership" rel="noopener"> medium </a>。</p></div></div>    
</body>
</html>