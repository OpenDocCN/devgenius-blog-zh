<html>
<head>
<title>Useful Linux Commands — Users, Groups, and Remote Connections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的 Linux 命令—用户、组和远程连接</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/useful-linux-commands-users-groups-and-remote-connections-b703e15aaf57?source=collection_archive---------5-----------------------#2021-04-06">https://blog.devgenius.io/useful-linux-commands-users-groups-and-remote-connections-b703e15aaf57?source=collection_archive---------5-----------------------#2021-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b4910cd4ca2a64563e5791f2dc98faf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oMcMnokUhJpz-flk"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com/@tadmint?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">梅丽莎·雷吉娜</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d78b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Linux 是许多开发人员都会使用的操作系统。</p><p id="18cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，学习一些 Linux 命令是个不错的主意。</p><p id="4017" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些我们应该知道的有用的 Linux 命令。</p><h1 id="d009" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">printf</code></h1><p id="a9e9" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">printf</code>是<code class="fe lz ma mb mc b">echo</code>命令的改进版本。</p><p id="1cca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它允许我们格式化并添加转义序列:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="f623" class="mq lc iq mc b gy mr ms l mt mu">printf "1\n3\n2"</span></pre><p id="a870" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用<code class="fe lz ma mb mc b">&lt;</code>来获取输入，并用<code class="fe lz ma mb mc b">sort</code>进行排序:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="9cf0" class="mq lc iq mc b gy mr ms l mt mu">sort &lt;(printf "1\n3\n2")</span></pre><h1 id="04b1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">0 / 1 / 2</code></h1><p id="f7cb" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">0、1 和 2 分别是标准的输入、输出和错误流。</p><p id="0ff6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以使用以下命令重定向到 stdout:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="f55e" class="mq lc iq mc b gy mr ms l mt mu">echo "stdout" &gt;&amp;1</span></pre><p id="1910" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用以下命令重定向到 stderr:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="16f0" class="mq lc iq mc b gy mr ms l mt mu">echo "stderr" &gt;&amp;2</span></pre><h1 id="8fba" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">users</code></h1><p id="0cf9" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">users</code>命令显示当前登录的所有用户。</p><p id="d760" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要查看系统上的所有用户，我们可以检查<code class="fe lz ma mb mc b">/etc/passwd</code>。</p><h1 id="7bab" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">useradd</h1><p id="9d4d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">为了向系统添加用户，我们运行<code class="fe lz ma mb mc b">useradd</code>。</p><p id="8701" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="3bb9" class="mq lc iq mc b gy mr ms l mt mu">sudo useradd foo</span></pre><p id="b419" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加<code class="fe lz ma mb mc b">foo</code>用户。</p><h1 id="6b77" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用户模式</h1><p id="e835" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">userdel</code>让我们删除用户。</p><p id="69f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="dc34" class="mq lc iq mc b gy mr ms l mt mu">sudo <!-- -->userdel <!-- -->foo</span></pre><p id="52e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从系统中删除<code class="fe lz ma mb mc b">foo</code>用户。</p><h1 id="0b35" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">组</h1><p id="15e7" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">groups</code>显示当前用户所属的所有组。</p><p id="940c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以在<code class="fe lz ma mb mc b">/etc/group</code>中看到所有组。</p><p id="5ddc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除非我们知道自己在做什么，否则我们不应该改变。</p><h1 id="dc3c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">groupadd</h1><p id="6637" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">groupadd</code>让我们将组添加到系统中。</p><p id="1b5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以跑:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="d88e" class="mq lc iq mc b gy mr ms l mt mu">sudo groupadd foo</span></pre><p id="7f1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加<code class="fe lz ma mb mc b">foo</code>组。</p><h1 id="ce57" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">groupdel</h1><p id="8584" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">groupdel</code>让我们删除一个组。</p><p id="c61b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以跑:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="3d21" class="mq lc iq mc b gy mr ms l mt mu">sudo groupdel foo</span></pre><p id="10a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">删除一个组。</p><h1 id="11ab" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">cmp</code></h1><p id="ad53" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">cmp</code>获取两个文件之间的字节差。</p><p id="a1cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="a9b4" class="mq lc iq mc b gy mr ms l mt mu">cmp a b</span></pre><p id="3880" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取文件<code class="fe lz ma mb mc b">a</code>和<code class="fe lz ma mb mc b">b</code>的字节差异。</p><h1 id="183c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">cut</code></h1><p id="7ef9" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">cut</code>让我们把一条线切成几段，在上面划上一些分隔符。</p><p id="bf74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">-d</code>标志让我们指定一个分隔符。</p><p id="5660" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">-f</code>指定要打印的字段索引。</p><p id="0922" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="13a3" class="mq lc iq mc b gy mr ms l mt mu">printf "117.99.234.23" &gt; c<br/>cut -d'.' c -f1</span></pre><p id="7a18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<code class="fe lz ma mb mc b">117</code>打印到屏幕上。</p><h1 id="0e61" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">sed</code></h1><p id="7f4c" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">让我们在文件中用另一个字符串替换一个字符串。</p><p id="1aa3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="1b86" class="mq lc iq mc b gy mr ms l mt mu">echo "old" | sed s/old/new/</span></pre><p id="61be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用<code class="fe lz ma mb mc b">new</code>移除<code class="fe lz ma mb mc b">old</code>。</p><h1 id="23e0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">ssh</code></h1><p id="f2ae" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">ssh</code>让我们从一台机器连接到另一台机器。</p><p id="b518" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="2f93" class="mq lc iq mc b gy mr ms l mt mu">ssh –p &lt;port&gt; bob@1.2.3.4</span></pre><p id="4bb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用用户<code class="fe lz ma mb mc b">bob</code>连接到 IP 地址为 1.2.3.4 的机器。</p><h1 id="fe7d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">单细胞蛋白质</h1><p id="dafd" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lz ma mb mc b">scp</code>将文件从一台机器安全地复制到另一台机器。</p><p id="7ef8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="a0a3" class="mq lc iq mc b gy mr ms l mt mu">scp –P &lt;port&gt; hello bob@1.2.3.4:~</span></pre><p id="e929" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从 IP 地址为 1.2.3.4 的机器上复制<code class="fe lz ma mb mc b">hello</code>文件。</p><h1 id="5c6c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">rsync</code></h1><p id="67d5" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">rsync</code>实用程序可以让我们用最少的数据传输 copt 文件。</p><p id="a58e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是通过查看文件之间的变化来完成的。</p><p id="745e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="a373" class="mq lc iq mc b gy mr ms l mt mu">rsync -av ../s/* .</span></pre><p id="5dc1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe lz ma mb mc b">rsync</code>将<code class="fe lz ma mb mc b">../s</code>目录中的文件与当前目录同步。</p><p id="1007" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">rsync</code>也适用于<code class="fe lz ma mb mc b">ssh</code>。</p><p id="ccea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们运行:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="056a" class="mq lc iq mc b gy mr ms l mt mu">rsync -avz -e "ssh -p &lt;port&gt;" bob@1.2.3.4:~/s/* .</span></pre><p id="393c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用 IP 1.2.3.4 把数据复制到机器上。</p><h1 id="a561" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="2d53" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以打印文件，操纵用户和组，用一些 Linux 命令连接到其他机器。</p></div></div>    
</body>
</html>