<html>
<head>
<title>What’s an API ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 API？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/whats-an-api-e385e8fa78d8?source=collection_archive---------26-----------------------#2020-06-15">https://blog.devgenius.io/whats-an-api-e385e8fa78d8?source=collection_archive---------26-----------------------#2020-06-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/67529acdbe4e7426e7fc956393e96ed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-iX2KxXvyJHopRMxkOshOw.png"/></div></div></figure><div class=""/><h1 id="08fd" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">介绍</h1><p id="fcba" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我发现软件行业的人经常使用“API”这个术语。而且坦白说，我编程 1 年半都没看懂。这真的很令人沮丧，尤其是因为它被广泛使用！</p><p id="3dec" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">但是最近，天空变亮了，我有了动力去更深入地理解它的真正含义，并试图向你解释它。</p><p id="f76d" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">API 代表“应用程序编程接口”。</p><p id="4162" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">嗯，这很明显。API 是一个接口，程序员可以通过它与应用程序交互，也就是一段代码(当然或大或小)。</p><p id="5a11" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这似乎是显而易见的，对不对？Huuuurrrgh…如果你正在读这篇文章，可能不会。所以我会用一些形象化的东西来解释我是怎么想的，然后给你一些例子。</p><h1 id="7621" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">形象化</h1><p id="6ba5" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">就我个人而言，我认为 API 是一个接受输入并返回输出的函数。</p><figure class="lx ly lz ma gt ip gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/484268f65d44b962b8f13ad25b1f5b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*nhFhr1Htnxctc_FSmzDMrw.png"/></div></figure><p id="2d18" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">我把它想象成一个不透明的盒子，顶部有一个洞，我们在那里提供输入，在输出返回的一侧有一个出口。</p><figure class="lx ly lz ma gt ip gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/580a395a3238e9edccd11e17848ce69c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*tIFMFSt-QJtuxgcRC6A73w.png"/></div></figure><p id="f4b6" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">事实上，一个简单的函数公开了一个 API。在这种情况下，它是输入和输出。</p><p id="7d07" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">就像功能机的人对你说:</p><blockquote class="mb mc md"><p id="4dff" class="kt ku me kv b kw lr ky kz la ls lc ld mf lt lg lh mg lu lk ll mh lv lo lp lq ig bi translated"><em class="iy">嘿！我可以创建四个立方体。如果你想要他们，你需要给我三个球体。</em></p></blockquote><p id="2043" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">你不知道这家伙是怎么把三个球体做成四个立方体的，但你不在乎！这里唯一重要的事情是知道这个函数做什么(输出)以及你应该提供什么来使它工作(输入)。</p><h1 id="ca42" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">函数的 API</h1><p id="325e" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">一个简单的代码示例可能更具体:</p><p id="1ec5" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/5c987bb116afdad8d19d342f21bb64d4" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/5c987bb116afdad8d19d342f21bb64d4</a></p><p id="e2a6" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这个代码块是用 TypeScript 编写的，TypeScript 是 JavaScript 的超集。我用它来明确函数需要的输入类型和它给出的输出。</p><p id="fdd3" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">我们可以看到，如果你给它两个数，<code class="fe mj mk ml mm b">sum</code>承诺返回一个和。非常简单，对吗？</p><p id="89e4" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">就像我之前说过的，函数如何求和的内部原理并不重要。也就是说，我们可以隐藏花括号之间的代码，但仍然使用<code class="fe mj mk ml mm b">sum</code>。</p><p id="df06" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">让我们看一个使用<code class="fe mj mk ml mm b">multiply</code>的例子，不知道它的实现，只知道它的 API。</p><p id="5347" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/f1a1a1fce516c8e33462627b1e80ff10" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/f1a1a1fce516c8e33462627b1e80ff10</a></p><p id="ac43" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">你看到了吗？我们在不知道其实现的情况下使用了<code class="fe mj mk ml mm b">multiply</code>！</p><p id="06f9" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">好吧，你并不笨…你肯定已经猜到函数内部的代码是这样的:</p><p id="a043" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/8445d45bc6eb6b693bf5c8d6a02989f9" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/8445d45bc6eb6b693bf5c8d6a02989f9</a></p><p id="a46b" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">…但是你明白了。</p><p id="5e87" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">对于大而复杂的函数，你不知道它们的内部，但是你可以使用它们。我们会看到更复杂的例子。</p><h1 id="89dd" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">库的 API</h1><p id="9105" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">使用术语 API 的一个例子是当你处理一个库的时候。为了说明这一点，我们来看一个流行的 JavaScript:React。该库公开了一个全局对象作为名为<code class="fe mj mk ml mm b">React</code>的入口点。</p><p id="0229" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这个对象有几个 API，也就是几个方法，如果我们提供了预期的输入，这些方法就会产生输出。</p><p id="3a4f" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">看起来是这样的:</p><p id="f048" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/054269970294923e905f7ee746650493" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/054269970294923e905f7ee746650493</a></p><p id="5ab2" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">让我们使用其中的一个:useState。</p><p id="4e29" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">根据 useState 的<a class="ae mi" href="https://reactjs.org/docs/hooks-reference.html#usestate" rel="noopener ugc nofollow" target="_blank"> API 文档</a>，它返回一个有状态值和一个更新它的函数，一起放在一个数组中。作为输入，它有一个参数，即初始状态。</p><p id="8dd0" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">例如:</p><p id="54cd" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/b42a8737b351164fc8039ec24221fe99" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/b42a8737b351164fc8039ec24221fe99</a></p><p id="8245" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">我们可以使用一个叫做“数组析构”的 JS 特性，直接将<code class="fe mj mk ml mm b">useState</code>返回的数组值赋给它们各自的变量:</p><p id="54b6" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/d611280c870ef6bef2c3a72a3c446225" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/d611280c870ef6bef2c3a72a3c446225</a></p><p id="6e25" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">现在我们可以使用<code class="fe mj mk ml mm b">setState</code>来更新我们想要的状态:</p><p id="75e3" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/696a8f9bd496da5eedaea2b5fa2638dd" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/696a8f9bd496da5eedaea2b5fa2638dd</a></p><p id="c882" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">所以我前面说了，我们对<code class="fe mj mk ml mm b">useState</code>的内码一无所知。但是因为我们知道它的 API 规范，我们可以使用它提供的功能。</p><p id="c67d" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">(注意:关于这个方法有更多的考虑和可能性，但是解释它们不是这篇文章的目的。)</p><h1 id="9124" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">第三方服务的 API</h1><p id="9ed4" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">最后，我想展示另一个使用 API 的例子，一个隐含着第三方服务的例子(比如 Twitter、Youtube、Google Maps……)。</p><p id="3de6" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在我们的例子中，我们将使用 OpenWeather。这是一个收集世界各地天气数据的平台，并公开了一个 API，我们可以通过它请求这些数据。</p><p id="4106" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这里，我们需要发出一个特定的 HTTP 请求来获取我们想要的数据。文档<a class="ae mi" href="https://openweathermap.org/current" rel="noopener ugc nofollow" target="_blank">说我们必须做一个<code class="fe mj mk ml mm b">api.openweathermap.org/data/2.5/weather?q={city name}&amp;appid={your api key}</code>形式的调用。</a></p><p id="3a19" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">让我们这样做:</p><p id="4f4b" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><a class="ae mi" href="https://gist.github.com/87007e3e035dc691503db0c0959ae922" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/87007e3e035dc691503db0c0959ae922</a></p><p id="64f4" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">很简单！</p><p id="8f9a" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">现在，我们可以在应用程序中使用数据，而不必担心如何获取数据、如何格式化数据等。</p><p id="1de3" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">事实上，这比我们自己测量所有的东西来创建数据要简单得多，花费也少得多。</p><p id="5866" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">(事实上，我假设 OpenWeather 本身依赖于其他服务和 API 来获取所有天气数据。)</p><h1 id="5117" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">API 的力量</h1><p id="e309" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">API 是抽象的构建块。</p><p id="1812" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">它们允许模块化编程，即在我们自己的代码库中利用外部代码块(所谓的“模块”)的功能的能力。</p><p id="40e7" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在最底层的抽象中，只有 0 和 1。因此，程序员在上面添加了多层抽象，以便专注于真正重要的东西，从而更有效地工作。</p><p id="dca2" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">今天，每个程序都依赖于某种抽象，这就是它们变得越来越强大原因。因为否则，一个人的大脑将无法跟上计算机在一天结束时消耗的所有 0 和 1。</p><h1 id="310b" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="c0b7" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">就是这样！</p><p id="284a" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">我希望这篇文章能帮助你理解这个术语。</p><p id="6c54" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">如果你对某事有任何意见或建议，请随意分享。我真的很感激。</p><p id="17e6" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">我渴望加深对那个主题的理解。</p></div></div>    
</body>
</html>