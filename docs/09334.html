<html>
<head>
<title>Deploying a Java Web App in Azure App Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Azure 应用服务中部署 Java Web 应用</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/deploying-a-java-web-app-in-azure-app-services-9bc346805d5c?source=collection_archive---------9-----------------------#2022-08-15">https://blog.devgenius.io/deploying-a-java-web-app-in-azure-app-services-9bc346805d5c?source=collection_archive---------9-----------------------#2022-08-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="62a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我们将使用 springboot 框架从头开始编写一个非常简单的 java web app，构建 war 包并将其部署到 Azure Web App 服务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cafa680662fe3513ee693bbc5f82975e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jg_rkiwQn9Ww0NqH.jpg"/></div></div></figure><h1 id="ea43" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">先决条件</h1><ul class=""><li id="302e" class="ls lt in jm b jn lu jr lv jv lw jz lx kd ly kh lz ma mb mc bi translated">Azure 订阅</li></ul><p id="d638" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">即使你不懂 java 或者 springboot，也没关系。我们将编写一个非常简单的应用程序，并将其部署到 Azure。</p><p id="7174" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你擅长 springboot，并且知道创建 war 包的步骤，那么你可以跳到本文中的部分— <strong class="jm io">将包部署到 Azure App Services </strong>。</p><h1 id="d3cb" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">弹簧初始化器</h1><p id="d33a" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv md jx jy jz me kb kc kd mf kf kg kh ig bi translated">Springboot 是最流行的框架，广泛用于 java 应用程序。要在 springboot 中启动一个项目，最简单的方法是使用 Spring Initializer。</p><div class="mg mh gp gr mi mj"><a href="https://start.spring.io/" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd io gy z fp mo fr fs mp fu fw im bi translated">弹簧初始化 r</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">Initializr 生成的 spring boot 项目正好是你快速启动所需要的！</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">start.spring.io</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx ks mj"/></div></div></a></div><p id="e45e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我在这里创建一个 java web 应用程序。这很简单。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/bab744c4bd10470086d59b9a4af3e09b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z3Ca3xsX2fJAWTzALJPdoQ.png"/></div></div></figure><p id="ed3d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">按照上面的图像，使用相同的配置。由于我们正在创建一个 web 应用程序，我们将添加<strong class="jm io"> Spring Web </strong>依赖项。还有，我们正在使用<strong class="jm io">战争</strong>包装。我使用一个 war 打包系统，因为它基本上用于部署在 Tomcat 服务器上。我的系统里有 java 11。你想要什么都可以。配置好一切后，点击<strong class="jm io">生成</strong>按钮。</p><h1 id="9efc" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">创建基本的 java web 应用程序</h1><p id="727e" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv md jx jy jz me kb kc kd mf kf kg kh ig bi translated">java 开发人员最流行的 IDE 是 IntelliJ，所以我将使用它。强烈建议大家也用一样的。我使用的是免费的社区版。</p><p id="b6a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，提取下载的文件并用 Intellij 打开它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/0595dab93abd90a9471509462ece7192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*hIi1XLffO9HfFe94NNaaxw.png"/></div></figure><p id="b833" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">转到<strong class="jm io"> pom.xml </strong>文件。与我们项目相关的所有配置都在这里。您可以在这里看到我们的项目使用的 spring boot 版本、java 版本、依赖项等。现在转到 build 标签并添加 below 标签。&lt;版本&gt;$ { project . parent . version }&lt;/版本&gt;</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/a986e675de60b62840d3ade115c3d2f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*QLUIDMZJ9ksaYopCYWKG0w.png"/></div></figure><p id="ddc6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们只是指定构建版本，有时如果不存在可能会导致错误。如果您对 pom.xml 文件做了任何更改，您需要重新加载它。只需点击右上角弹出的<strong class="jm io"> <em class="nb"> m 符号</em> </strong> <em class="nb"> </em>即可轻松完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/08997544132ecc03ba95e55f95b5b2e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*7QCB7k0H0ka8nwrKFXs8HQ.png"/></div></figure><p id="5666" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的主应用程序驻留在文件路径中:src &gt; main &gt; Java &gt; com . example . web app &gt; web app application</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/e7c28c00da057dbb837c2c264131c10c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aER1SJY54b22-k_b4Cgyqg.png"/></div></div></figure><p id="836c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们将在这里添加代码来显示一些文本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/828f88203dc711958cf0df95b306e761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2abj6xFMeMXAtXsrnKwd4w.png"/></div></div></figure><p id="021e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们将构建并运行应用程序。如果它是一个 jar 应用程序，你可以直接在 intellij 中运行它，但是在 war 中就不行了。因此，我们构建包，然后运行它。</p><p id="1b24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 ide 的右边，我们有 maven 插件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/776cfc0ae5b9e4b6a78df1f016001cc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*auecdDDOuolbkJfGj69USA.png"/></div></div></figure><p id="f7bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的项目是一个 maven 项目。一个 maven 项目有不同的生命周期。现在创建一个包，我们运行<strong class="jm io"> mvn install </strong>。这里我们可以使用插件，双击<strong class="jm io">生命周期</strong>中的<strong class="jm io">安装</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/6fe9d47ee590bc5a4e419991e06783b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*a41DSlQnuC_4c-rzp8pLIg.png"/></div></figure><p id="311c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">成功完成后，一个新的文件夹<strong class="jm io"> target </strong>被生成，其中包含我们的 war 包。这里是<strong class="jm io">web app-0 . 0 . 1-snapshot . war .</strong></p><p id="c7ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要运行我们的应用程序，请打开集成终端，进入目标文件夹并运行下面的命令</p><blockquote class="nh ni nj"><p id="6078" class="jk jl nb jm b jn jo jp jq jr js jt ju nk jw jx jy nl ka kb kc nm ke kf kg kh ig bi translated">java -jar <filename>。战争</filename></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/e3859504942bac2831d53b22f4632ca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZGlxCEAddpxOYwUCRXdDRw.png"/></div></div></figure><p id="229d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从日志中，您可以看到 tomcat 服务器已经在端口 8080 启动。去浏览器查一下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/7580fb0a5f12b613b3140da930940010.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*12YELZaSrZR2Zs5UWkn-Lw.png"/></div></figure><p id="7f3d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的应用程序运行正常。现在我们将在 Azure Web App 中上传这个 war 包。</p><h1 id="0eae" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">将包部署到 Azure 应用服务</h1><p id="c2fb" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv md jx jy jz me kb kc kd mf kf kg kh ig bi translated">转到 Azure 门户&gt;应用服务&gt;创建 Web 应用</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/9c833d5f3ecae70384b6c230cc57c9e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EquE13EhZT1gLVJ7FaTm8Q.png"/></div></div></figure><p id="5580" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我选择 Java 11 作为运行时，Apache tomcat 8.5 作为 webserver 栈。在<strong class="jm io">发布</strong>部分选择<strong class="jm io">代码</strong>。免费 F1 应用服务计划是最好的，因为我们的应用程序一点也不复杂。不需要配置其他任何东西。只需点击<strong class="jm io">审核+创建</strong>即可创建 webapp。</p><p id="2213" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建后，转到资源。您将获得应用程序的 URL。打开的话会得到一个 Azure 提供的样本模板 app。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/91e6bdd81abe634c0385998ebd5374a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ULaHW96EWMbXRLve5yUcg.png"/></div></div></figure><p id="b551" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以在这里看到技术信息。您还可以看到，要部署我们的代码，我们需要去部署中心。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/1280a0128980a1164f4e442cb98ecdb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/format:webp/1*mEwoFd1z9AKvtDbS9437pA.png"/></div></figure><p id="b984" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在此之前，您可以检查<strong class="jm io">设置</strong>栏中的<strong class="jm io">配置</strong>。转到配置中的常规设置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/1bc801274eb334792ba576504810d65b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHKMLcQkkUkeAWkSZ7sLFQ.png"/></div></div></figure><p id="6706" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以找到我们在创建过程中定义的所有配置。如果你愿意，你可以更新你的 java 版本，java 网络服务器等。这在实验时非常有用。</p><p id="5da3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，去部署中心。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/94fa20a1129df5ad2226f8485d79211d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aY_mW4V5h66lTuTmTDUonQ.png"/></div></div></figure><p id="f1c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，你可以附上你的源代码。也就是说，我们可以将代码上传到 Github，然后在这里连接回购。休息吧，蔚蓝会小心的。它构建和部署。但现在我们的首要任务是上传我们的艺术品。我们通过 FTP 来做。FTP 是一种协议，通过它我们可以传输文件。</p><p id="0f06" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要一个 FTP 客户端。FileZilla 是一个广泛使用的 FTP 软件。</p><p id="b17c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">点击这里下载并安装 FileZilla。</p><p id="652f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，打开 FileZilla 应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/2ead50b3ee43b32b67334aa527127065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yi9m1EFaB2qDVui335wODg.png"/></div></div></figure><p id="8f39" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你需要主机，用户名，密码来连接。我们可以从 Azure 获得。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/a94f6b2f78328a83754993b20788ffde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rF4knEo4V6XJW2npdE9gtg.png"/></div></div></figure><p id="5e6a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用 FileZilla 中的这些凭证连接到您的应用程序。连接后，你进入文件系统。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/e909bf2cc75ea28b98153a4248c3bf63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*OTyA-RGw8xutJR2Ao-GEVA.png"/></div></figure><p id="5b55" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以删除<strong class="jm io">hostingstart.html</strong>文件。在 tomcat 服务器中，我们需要在站点&gt; wwwroot &gt; webapps &gt;中上传 war 包。</p><p id="e04b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我们在 wwwroot 中创建 webapps 文件夹并上传 war 文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/23e4b833f96bbe23c290856d10537074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ABVAXKqDfRyg-tD1BUQOHA.png"/></div></div></figure><p id="c7e2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，将该文件重命名为 ROOT.war。如果将它重命名为 ROOT，tomcat 服务器会默认检测到它，并将其加载到/ path 中，否则您需要使用类似/webapp-0.0.1-SNAPSHOT 的包名来调用它</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/4b8618c10c2633722faa0c636add34b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*Q9h3_YkUc7q9pfw3RWgt0Q.png"/></div></figure><p id="0b1c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，您可以在 Azure 中重新启动 webapp 并检查 URL。更新需要时间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/0af7790a0a730f33d86dbb81004b79b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*RMwg90eBlr4DvnHX_lUTfQ.png"/></div></figure><p id="36d0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我们完成了… </strong></p><p id="0df8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就像我说的，很简单。感谢阅读这篇文章。</p><p id="89d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想了解<strong class="jm io"> maven </strong>的基础知识，可以看看我的文章</p><div class="mg mh gp gr mi mj"><a rel="noopener  ugc nofollow" target="_blank" href="/understanding-maven-by-creating-a-simple-java-project-2b432ca635c8"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd io gy z fp mo fr fs mp fu fw im bi translated">通过创建一个简单的 java 项目来理解 Maven</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">使用 Maven 项目管理工具创建简单的计算器应用程序</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">blog.devgenius.io</p></div></div><div class="ms l"><div class="oa l mu mv mw ms mx ks mj"/></div></div></a></div><p id="8c26" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">此外，我还撰写了各种技术主题的文章。您可以在我的个人资料中查看我的所有文章。如果你喜欢我的文章，请跟我来🤞。</p></div></div>    
</body>
</html>