<html>
<head>
<title>Breaking Changes on React native 0.69</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React native 0.69 上的重大变更</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/breaking-changes-on-react-native-0-69-fc3dfaddbe61?source=collection_archive---------3-----------------------#2022-07-06">https://blog.devgenius.io/breaking-changes-on-react-native-0-69-fc3dfaddbe61?source=collection_archive---------3-----------------------#2022-07-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="acfd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">大家好，我想出了一个关于 React Native 最新版本(即 0.69)突破性变化的新故事。尤其是自定义字体的链接和取消链接。</p><p id="38a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">也有一些突破性的变化:</p><p id="9332" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">React Native CLI 已升级到新的主要版本<a class="ae ki" href="https://github.com/react-native-community/cli/releases/tag/v8.0.0" rel="noopener ugc nofollow" target="_blank"> 8.0 </a>:</p><ul class=""><li id="7344" class="kj kk in jm b jn jo jr js jv kl jz km kd kn kh ko kp kq kr bi translated"><code class="fe ks kt ku kv b">link</code>和<code class="fe ks kt ku kv b">unlink</code>命令已被删除，有利于自动链接</li><li id="9891" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">弃用的<code class="fe ks kt ku kv b">initCompat</code>已被删除，使用<code class="fe ks kt ku kv b">init</code>命令代替</li><li id="2876" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">删除了不推荐使用的<code class="fe ks kt ku kv b">run-android</code>属性</li><li id="0c7c" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">删除了<code class="fe ks kt ku kv b">install</code>和<code class="fe ks kt ku kv b">uninstall</code>命令</li><li id="5e0b" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">从<code class="fe ks kt ku kv b">react-native.config.js</code>中移除资产和挂钩——你需要从你的配置中移除这些属性</li><li id="2317" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated"><code class="fe ks kt ku kv b">podspecPath</code>已从 iOS 依赖配置中删除</li><li id="69cb" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">从<code class="fe ks kt ku kv b">run-ios</code>中删除了<code class="fe ks kt ku kv b">--project-path</code>选项</li><li id="540c" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">将 iOS 源目录检测从查找 Xcode 项目更改为查找 Podfile</li><li id="bf8b" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">对<code class="fe ks kt ku kv b">console.disableYellowBox</code>和<a class="ae ki" href="https://github.com/facebook/react-native/commit/b633cc130533f0731b2577123282c4530e4f0abe" rel="noopener ugc nofollow" target="_blank">的支持已经取消</a></li><li id="55d3" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">已经废弃的道具类型被移除(<a class="ae ki" href="https://github.com/facebook/react-native/commit/cdfddb4dad7c69904850d7e5f089a32a1d3445d1" rel="noopener ugc nofollow" target="_blank"> cdfddb4dad </a>，<a class="ae ki" href="https://github.com/facebook/react-native/commit/3e229f27bc9c7556876ff776abf70147289d544b" rel="noopener ugc nofollow" target="_blank"> 3e229f27bc </a>，<a class="ae ki" href="https://github.com/facebook/react-native/commit/10199b158138b8645550b5579df87e654213fe42" rel="noopener ugc nofollow" target="_blank"> 10199b1581 </a>)</li><li id="a54a" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated"><code class="fe ks kt ku kv b">removeListener</code>，RN 0.65 后已弃用，<a class="ae ki" href="https://github.com/facebook/react-native/commit/8dfbed786b40082a7a222e00dc0a621c0695697d" rel="noopener ugc nofollow" target="_blank">已从外观中删除</a></li><li id="4ab9" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh ko kp kq kr bi translated">如果您使用的是<code class="fe ks kt ku kv b">SegmentedComponentIOS</code>，您现在需要用第三方库替换它，例如<a class="ae ki" href="https://github.com/react-native-segmented-control/segmented-control" rel="noopener ugc nofollow" target="_blank">分段控制</a> ( <a class="ae ki" href="https://github.com/facebook/react-native/commit/235f1685748442553e53f8ec6d904bc0314a8ae6" rel="noopener ugc nofollow" target="_blank"> 235f168574 </a>)</li></ul></div><div class="ab cl lb lc hr ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ig ih ii ij ik"><p id="eefd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们大多数人都试图使用自定义字体来使设计看起来更好更流畅。但是因为链接和解除链接命令已经被完全移除，而有利于自动链接。</p><p id="7ce2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以在这个故事中，我将分享我在添加自定义字体和图标时遇到的一些问题。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi li"><img src="../Images/16b2cac4d0585ddbfeab6373e0f981a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*Gjw3Q5H_XvXCfmdfPeTvBg.png"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">当我尝试 npx react-native link 或 react-native link 时</figcaption></figure><p id="7109" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">解决它的步骤:</p><ol class=""><li id="e66c" class="kj kk in jm b jn jo jr js jv kl jz km kd kn kh lu kp kq kr bi translated">在 Xcode 中打开 React 原生项目的<code class="fe ks kt ku kv b">ios</code>目录。您应该打开<code class="fe ks kt ku kv b">.xcworkspace</code>文件。</li><li id="5f0c" class="kj kk in jm b jn kw jr kx jv ky jz kz kd la kh lu kp kq kr bi translated">右键单击你的目标并添加一个新的组。我们将把它命名为<code class="fe ks kt ku kv b">Resources</code>。右键单击新创建的目录并选择<code class="fe ks kt ku kv b">Add files to "&lt;your target name&gt;"</code>选项。您将从<code class="fe ks kt ku kv b">assets/fonts</code>目录中选择 4 个文件。确保您的目标在<code class="fe ks kt ku kv b">Add to targets</code>部分打勾。这将允许您的项目识别这些文件。</li></ol><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lv"><img src="../Images/c92eff8b625622cea61e1048aa36b9f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ba44XU9oZsH4KpHrbG4nvw.png"/></div></div></figure><p id="2ea4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.打开<code class="fe ks kt ku kv b">info.plist</code>文件。这里我们将添加一个新的类型为<code class="fe ks kt ku kv b">Fonts provided by the application</code>的数组。对于数组的每个值，我们将添加每个字体的确切文件名。重要提示:您必须包括<code class="fe ks kt ku kv b">.ttf</code>扩展名。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/6fbeb2b1863191d865e4fefcd12f7927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*-mCx8bMkD9W38qZgRzn_ag.png"/></div></figure><p id="c7b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您切换<code class="fe ks kt ku kv b">info.plist</code>文件的视图，您的数组将如下所示:</p><pre class="lj lk ll lm gt mb kv mc md aw me bi"><span id="187e" class="mf mg in kv b gy mh mi l mj mk">&lt;key&gt;UIAppFonts&lt;/key&gt;</span><span id="d94a" class="mf mg in kv b gy ml mi l mj mk">&lt;array&gt;</span><span id="adb6" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;FontAwesome.ttf&lt;/string&gt;</span><span id="1d99" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Foundation.ttf&lt;/string&gt;</span><span id="736d" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;AntDesign.ttf&lt;/string&gt;</span><span id="9204" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Entypo.ttf&lt;/string&gt;</span><span id="4634" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;EvilIcons.ttf&lt;/string&gt;</span><span id="75d1" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Feather.ttf&lt;/string&gt;</span><span id="a6e8" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Fontisto.ttf&lt;/string&gt;</span><span id="ca0e" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Ionicons.ttf&lt;/string&gt;</span><span id="88bd" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;MaterialCommunityIcons.ttf&lt;/string&gt;</span><span id="886c" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;MaterialIcons.ttf&lt;/string&gt;</span><span id="67a5" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Zocial.ttf&lt;/string&gt;</span><span id="b01e" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;SimpleLineIcons.ttf&lt;/string&gt;</span><span id="0684" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Nunito-Black.ttf&lt;/string&gt;</span><span id="f323" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Nunito-Bold.ttf&lt;/string&gt;</span><span id="2692" class="mf mg in kv b gy ml mi l mj mk">&lt;string&gt;Nunito-Regular.ttf&lt;/string&gt;</span><span id="ff56" class="mf mg in kv b gy ml mi l mj mk">&lt;/array&gt;</span></pre><p id="fb67" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你要做的就是这些。重建项目，你可以使用自定义字体和矢量图标作为图标。</p></div><div class="ab cl lb lc hr ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ig ih ii ij ik"><h2 id="dc4b" class="mf mg in bd mm mn mo dn mp mq mr dp ms jv mt mu mv jz mw mx my kd mz na nb nc bi translated"><strong class="ak">结论</strong></h2><p id="d181" class="pw-post-body-paragraph jk jl in jm b jn nd jp jq jr ne jt ju jv nf jx jy jz ng kb kc kd nh kf kg kh ig bi translated">希望以上提到的步骤对你有所帮助。如果你有任何问题，请留下你的笔记，我会尽力让你明白。</p><p id="f0c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">非常感谢您的阅读！！</p></div></div>    
</body>
</html>