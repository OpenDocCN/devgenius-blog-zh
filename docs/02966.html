<html>
<head>
<title>Maintainable JavaScript — Comments and Statements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可维护的JavaScript——注释和语句</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/maintainable-javascript-comments-and-statements-4f4eca3818fb?source=collection_archive---------13-----------------------#2020-09-15">https://blog.devgenius.io/maintainable-javascript-comments-and-statements-4f4eca3818fb?source=collection_archive---------13-----------------------#2020-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eae7e3aee41b0d08635e72b9e2f023e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pWJsZiMFRMQMumKa"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@jentheodore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">珍·西奥多</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="ab12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果想继续使用代码，创建可维护的JavaScript代码很重要。</p><p id="9221" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将通过适当地编写注释和语句来了解创建可维护的JavaScript代码的基础。</p><h1 id="50ba" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">潜在的作者错误</h1><p id="1c04" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果代码中有作者错误，那么我们应该对它们进行注释，以便可以修复它们。</p><p id="a847" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">至少有人可以检查这是否是一个错误。</p><p id="2813" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fb8b" class="mn lc iq mj b gy mo mp l mq mr">while (element &amp;&amp; (element = element[axis])) {<br/>  // NOTE: assignment<br/>  if ((all || element[TAG_NAME]) &amp;&amp;<br/>    (!fn || fn(element))) {<br/>    return element;<br/>  }<br/>}</span></pre><p id="a45c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么可能有人会认为<code class="fe ms mt mu mj b">while</code>循环头中的赋值操作是错误的。</p><p id="835b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个有效的语法，所以我们可以使用它。</p><p id="6cec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这不是一个错误，所以我们告诉读者，这不是一个评论。</p><p id="3687" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可能被一些林挺工具标记，因为我们通常不在循环头中使用赋值。</p><h1 id="f974" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">针对浏览器的黑客攻击</h1><p id="5c90" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们需要让我们的代码在多种浏览器下工作，那么我们可能需要编写代码来让它们在特定的浏览器下工作。</p><p id="bcea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们需要让我们的前端代码与Internet Explorer一起工作时，这是很常见的。</p><p id="3c11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们的代码中有黑客，我们应该对我们正在做的事情做出评论，这样人们就知道发生了什么。</p><p id="34d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着浏览器越来越标准化，这种情况应该会越来越少。</p><h1 id="ebc0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">文档注释</h1><p id="8386" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">注释可以用于JSDoc等程序的文档。</p><p id="0f6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6450" class="mn lc iq mj b gy mo mp l mq mr">/**<br/>  add 2 numbers together<br/>  @method add<br/>  @param {number} x - a number <br/>  @param {number} y - another number <br/>  @return {number} the sum of 2 numbers<br/>**/<br/>function add(x, y) {<br/>  return x + y;<br/>}</span></pre><p id="0f57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个有两个参数的<code class="fe ms mt mu mj b">add</code>函数。</p><p id="74cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加一些关于参数的注释，这样我们就知道参数的类型了。</p><p id="7a10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们对返回类型也做了同样的处理。</p><p id="5c5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这可以用文档生成器读取，以创建我们的文档。</p><p id="60af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该记录所有的方法，包括预期的参数和可能的返回值。</p><p id="5958" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">构造函数应该有带有自定义类型和预期参数的注释。</p><p id="5ee7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">拥有一个或多个方法的其他对象可以对这些方法进行注释。</p><p id="fb97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">必须对它们进行记录，以便正确生成文档。</p><p id="9299" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">文档生成器将确定注释应该如何格式化。</p><h1 id="cf5d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">声明</h1><p id="afb7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">像<code class="fe ms mt mu mj b">if</code>或<code class="fe ms mt mu mj b">for</code>这样的语句在JavaScript中有两种用法。</p><p id="cb6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以有花括号，或者如果我们的代码块只有一行那么我们可以跳过它们。</p><p id="7c47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，跳过花括号是不好的，因为很难区分块的开始和结束。</p><p id="e794" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以与其写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="55c3" class="mn lc iq mj b gy mo mp l mq mr">if (condition)<br/>  doWork();</span></pre><p id="053c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cb8b" class="mn lc iq mj b gy mo mp l mq mr">if (condition) doWork();</span></pre><p id="4fbb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="05a2" class="mn lc iq mj b gy mo mp l mq mr">if (condition) { doWork(); }</span></pre><p id="8e49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2a19" class="mn lc iq mj b gy mo mp l mq mr">if (condition) {<br/>  doWork();<br/>}</span></pre><p id="766a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">把身体放在第一条线以下比放在同一条线上好。</p><p id="dcd7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">花括号包围着这个块，很容易区分这个块在哪里开始或结束。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/712621cd574df0cae62d101b7712b930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qcH54pD-H2sEihVk"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">詹尼斯·卢卡斯在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="d264" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="66a5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">应该为潜在的错误或难以理解的代码添加注释。</p><p id="53a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另外，语句应该用花括号括起来。</p></div></div>    
</body>
</html>