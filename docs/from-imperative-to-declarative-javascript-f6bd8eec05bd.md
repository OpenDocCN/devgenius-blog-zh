# ä»Žå‘½ä»¤å¼åˆ°å£°æ˜Žå¼ JavaScript

> åŽŸæ–‡ï¼š<https://blog.devgenius.io/from-imperative-to-declarative-javascript-f6bd8eec05bd?source=collection_archive---------3----------------------->

![](img/e59983fde2bea7a584a059e68d26f06d.png)

# ä»‹ç»

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è§£é‡Šä¸ºä»€ä¹ˆ*å£°æ˜Žå¼*ä»£ç æ¯”*å‘½ä»¤å¼*ä»£ç æ›´å¥½ã€‚

ç„¶åŽï¼Œæˆ‘å°†åˆ—å‡ºä¸€äº›åœ¨å¸¸è§æƒ…å†µä¸‹å°†å‘½ä»¤å¼ JavaScript è½¬æ¢ä¸ºå£°æ˜Žå¼ JavaScript çš„æŠ€æœ¯ï¼ŒåŒæ—¶å®šä¹‰ä¸€äº›å…³é”®æœ¯è¯­ã€‚

# ä¸ºä»€ä¹ˆæ˜¯å£°æ˜Žæ€§çš„ï¼Ÿ

é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸‹*é™ˆè¿°æ€§*å’Œ*å‘½ä»¤æ€§*æ˜¯ä»€ä¹ˆæ„æ€ã€‚

*å£°æ˜Žæ€§*ä»£ç æ˜¯ä¸€ç§å¼ºè°ƒå®ƒæ‰€åšäº‹æƒ…æ„å›¾çš„ä»£ç ã€‚

æ¯”èµ·â€œå¦‚ä½•â€,å®ƒæ›´å–œæ¬¢â€œæ˜¯ä»€ä¹ˆâ€ã€‚

æ¢å¥è¯è¯´ï¼Œå®žé™…æ‰§è¡Œå·¥ä½œçš„ç¡®åˆ‡å®žçŽ°(ä¹Ÿç§°ä¸ºâ€œå¦‚ä½•â€)æ˜¯éšè—çš„ï¼Œä»¥ä¾¿ä¼ è¾¾å·¥ä½œå®žé™…ä¸Šæ˜¯ä»€ä¹ˆ(ä¹Ÿç§°ä¸ºâ€œä»€ä¹ˆâ€)ã€‚

ç›¸åï¼Œ*å‘½ä»¤å¼*ä»£ç æ˜¯ä¸€ç§æ›´å–œæ¬¢â€œå¦‚ä½•â€è€Œä¸æ˜¯â€œä»€ä¹ˆâ€çš„ä»£ç ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­:

ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ‰§è¡Œä¸¤ä»¶äº‹:å®ƒè®¡ç®—`x`çš„å¹³æ–¹ï¼Œç„¶åŽæ£€æŸ¥ç»“æžœæ˜¯å¦å‡åŒ€ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æˆ‘ä»¬å¿…é¡»æŒ‰é¡ºåºéµå¾ªçš„å‡ ä¸ªæ­¥éª¤ä¹‹åŽï¼Œæˆ‘ä»¬ç»ˆäºŽå¾—åˆ°äº†`isEven`ã€‚

è¿™äº›æ­¥éª¤æè¿°äº†æˆ‘ä»¬â€œå¦‚ä½•â€çŸ¥é“`x`çš„æ­£æ–¹å½¢æ˜¯å¦å‡åŒ€ï¼Œä½†è¿™å¹¶ä¸æ˜Žæ˜¾ã€‚

å¦‚æžœä½ æ‰¾ä¸€ä¸ªéžç¨‹åºå‘˜ç»™ä»–çœ‹è¿™ä¸ªï¼Œä»–å¯èƒ½å¾ˆéš¾ç ´è¯‘ã€‚

çŽ°åœ¨è®©æˆ‘ä»¬æ¥çœ‹å¦ä¸€ä¸ªç‰‡æ®µï¼Œåœ¨è¿™é‡Œæˆ‘å¼•å…¥äº†ä¸€ä¸ªç¥žå¥‡çš„`isSquareEven`å‡½æ•°ï¼Œå®ƒæ‰§è¡Œäº†ä¸Žå‰ä¸€ä¸ªç›¸åŒçš„ä¸¤ä»¶äº‹æƒ…ã€‚

ç®€æ´å¤šäº†å§ï¼Ÿ

å› ä¸ºå‡½æ•°çš„åå­—ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç»“æžœæ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚

å³ä½¿ä¸æ˜¯ç¨‹åºå‘˜ä¹Ÿèƒ½å¾ˆå®¹æ˜“ç†è§£ã€‚

ä½†æˆ‘åœ¨ä½œå¼Šã€‚æˆ‘ç”¨äº†ä¸€ä¸ªç¥žå¥‡çš„åŠŸèƒ½ã€‚

æˆ‘ä»¬çœ‹ä¸åˆ°å®ƒå®žé™…ä¸Šâ€œå¦‚ä½•â€å·¥ä½œã€‚

è¿™æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œå› ä¸ºè¿™è®©æˆ‘ä»¬æœ‰æ—¶é—´ã€ç²¾åŠ›å’Œå†…å­˜æ¥å…³æ³¨è¿™æ®µä»£ç åœ¨ä¸€å¤©ç»“æŸæ—¶åšä»€ä¹ˆã€‚

å¦‚æžœæˆ‘ä»¬åªæ˜¯æƒ³ç”¨å®ƒï¼Œé‚£æ˜¯æœ€ç†æƒ³çš„ã€‚

ä½†æ˜¯å¦‚æžœæˆ‘ä»¬å¥½å¥‡çš„è¯ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰å¯èƒ½ï¼Œé€šè¿‡å‡½æ•°çš„å®šä¹‰ã€‚(å¤§å¤šæ•°ç¼–è¾‘å™¨å…è®¸æ‚¨è½»æ¾è·³è½¬åˆ°å®ƒ)

é‚£ä¹ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹`isSquareEven`çš„å®žçŽ°(â€œå¦‚ä½•â€):

*å£°æ˜Žæ€§*ä»£ç çš„åŸºæœ¬æž„ä»¶æ˜¯å‡½æ•°ã€‚

åœ¨ JavaScript ä¸­ï¼Œå®ƒä»¬å…·æœ‰â€œä¸€æµâ€çš„ç‰¹æ®Šæ€§ã€‚

è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ä½œä¸ºæ™®é€šçš„æ•°æ®ç»“æž„ï¼Œå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ç­‰ã€‚

æ¢å¥è¯è¯´ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªå˜é‡ä¸­å­˜å‚¨ä¸€ä¸ªå‡½æ•°ã€‚æ‚¨å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚ä¸€ä¸ªå‡½æ•°å¯ä»¥è¿”å›žå¦ä¸€ä¸ªå‡½æ•°ã€‚

æ‰€ä»¥çŽ°åœ¨æˆ‘ä»¬å·²ç»å®šä¹‰äº†è¿™ä¸¤ä¸ªæœ¯è¯­ï¼Œæ›´å®¹æ˜“çœ‹å‡ºå“ªäº›*å£°æ˜Žæ€§*ä»£ç æ¯”*å‘½ä»¤æ€§*ä»£ç å¥½ã€‚

> å£°æ˜Žæ€§çš„*ä»£ç å¯è¯»æ€§æ›´å¥½ã€‚*

å°±åƒæˆ‘ä»¬çœ‹åˆ°çš„ï¼Œå®ƒæ›´ç®€æ´ï¼Œæ›´å®¹æ˜“ç†è§£ã€‚

åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰å¤„ç†å¤ªå¤šçš„ä»£ç ï¼Œæ‰€ä»¥è¿™ä¸¤æ®µä»£ç éƒ½å¾ˆå®¹æ˜“ç†è§£ã€‚

ä½†æ˜¯ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸ªçœŸå®žçš„é¡¹ç›®åŒ…å«æ›´å¤šçš„ä»£ç ï¼Œå› æ­¤ä¹Ÿæ›´å¤æ‚ã€‚

å› æ­¤ï¼Œéšç€ä»£ç åº“çš„å¢žé•¿ï¼Œä¼˜åŒ–å¯è¯»æ€§ä¼šè¶Šæ¥è¶Šæœ‰å¸®åŠ©ï¼Œå¦‚æžœå¤šäººä¸€èµ·å·¥ä½œï¼Œè¿™å°±æ›´é‡è¦äº†ã€‚

> å£°æ˜Žæ€§çš„*ä»£ç æ˜¯å¯é‡ç”¨çš„ã€‚(å› ä¸ºå®ƒç»å¸¸æš—ç¤ºå‡½æ•°)*

æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°åœ¨ç¬¬ä¸€ä¸ªä»£ç ç‰‡æ®µ(*å‘½ä»¤å¼* one)ä¸­ï¼Œ`x`çš„å€¼åœ¨å¼€å§‹æ—¶æ˜¯ç¡¬ç¼–ç çš„ã€‚

å¦‚æžœæˆ‘ä»¬ä¸è¿™æ ·åšï¼Œä¸‹é¢çš„è¡Œå°±ä¸èƒ½å·¥ä½œã€‚

ç›¸åï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ç±»ä¼¼äºŽ*å£°æ˜Žæ€§*ç‰‡æ®µä¸­çš„å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥*é‡ç”¨*ä»»ä½•è¾“å…¥çš„é€»è¾‘ï¼Œåªè¦å®ƒæ˜¯ä¸€ä¸ªæ•°å­—ã€‚

# æŠ€æœ¯

è¿™äº›æŠ€æœ¯æ¶‰åŠæŽ§åˆ¶æµè¯­å¥:if/elseã€whileã€for å¾ªçŽ¯ã€‚

è¿™äº›éƒ½æ˜¯å¿…é¡»çš„ã€‚

ä»–ä»¬æè¿°çš„æ˜¯å·¥ä½œæ˜¯å¦‚ä½•å®Œæˆçš„ï¼Œè€Œä¸æ˜¯å·¥ä½œæ˜¯ä»€ä¹ˆã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°å°†ä¸€æ®µé€»è¾‘æŠ½è±¡æˆä¸€ä¸ªå¸¦æœ‰æè¿°æ€§åç§°çš„å‡½æ•°ï¼Œä»¥ä½¿æ‚¨çš„ä»£ç æ›´å…·å£°æ˜Žæ€§ã€‚

ä½†æ˜¯å½“æ¶‰åŠåˆ°æŽ§åˆ¶æµè¯­å¥æ—¶ï¼Œè¦åšä»€ä¹ˆå°±ä¸é‚£ä¹ˆæ˜Žæ˜¾äº†ã€‚

# If/else è¯­å¥

æœ‰æ—¶ï¼Œ`if/else`è¯­å¥éžå¸¸æ˜Žç¡®å’Œç®€çŸ­ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåšæŒä½¿ç”¨å®ƒä»¬æ˜¯åˆæ³•çš„ã€‚

ä½†å…¶ä»–æ—¶å€™ï¼Œä»–ä»¬çš„æ¡ä»¶ä¸å¤ªæ˜Žæ˜¾å’Œ/æˆ–æ›´é•¿ã€‚

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬æŠ½è±¡æˆå…·æœ‰å£°æ˜Žæ€§åç§°çš„å‡½æ•°ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©º:

[https://gist.github.com/e0be9a60a4b4dfb0bca1a46aaad85168](https://gist.github.com/e0be9a60a4b4dfb0bca1a46aaad85168)

åœ¨ JavaScript ä¸­ï¼Œæ²¡æœ‰ç®€å•çš„æ–¹æ³•æ¥ç¡®å®šä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©ºã€‚

ä½ å¯èƒ½å€¾å‘äºŽè¿™æ ·åš:

ä½†æ˜¯è¯¥æ¡ä»¶å°†è¯„ä¼°ä¸º falseï¼Œå› ä¸ºå½“å¯¹å¯¹è±¡(åŒ…æ‹¬æ•°ç»„ã€å‡½æ•°ã€ç±»)ä½¿ç”¨`==`æˆ–`===`ç¬¦å·æ—¶ï¼Œå®ƒä»¬æ˜¯é€šè¿‡å¼•ç”¨è¿›è¡Œæ¯”è¾ƒçš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ƒä»¬å±žæ€§çš„ç›¸ç­‰æ€§è¿›è¡Œæ¯”è¾ƒçš„ã€‚

å¦‚æžœæ‚¨ä¸ç†Ÿæ‚‰è¿™ç§æœºåˆ¶ï¼Œå¯ä»¥æŽ¢ç´¢ä¸€ä¸‹[è¿™ä¸ª](http://adripofjavascript.com/blog/drips/object-equality-in-javascript.html)ã€‚

å›žåˆ°æˆ‘ä»¬çš„ä¾‹å­ï¼Œéœ€è¦ä¸€ç‚¹æ—¶é—´æ¥è®¤è¯†åˆ°`Object.keys(o).length === 0`æ˜¯ä¸€ä¸ªæ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸ºç©ºçš„æŠ€å·§ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å®ƒå°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­æ¥å®žçŽ°è¿™ä¸€ç‚¹:

çŽ°åœ¨æˆ‘ä»¬è¦è®°å½•â€œå¯¹è±¡ä¸ºç©ºâ€æˆ–è€…â€œå¯¹è±¡ä¸ä¸ºç©ºâ€åŸºäºŽè¿™ä¸ªç»“æžœã€‚

ä¸ä½¿ç”¨`if/else`è¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨*ä¸‰å…ƒè¡¨è¾¾å¼*ã€‚

é™¤äº†è¯­æ³•ä¹‹å¤–ï¼Œä¸¤è€…çš„åŒºåˆ«å¯ä»¥å½’ç»“ä¸ºä¸€ä¸ª*è¯­å¥*å’Œä¸€ä¸ª*è¡¨è¾¾å¼*çš„åŒºåˆ«ã€‚

ä¸€ä¸ª*è¯­å¥*çš„è®¡ç®—ç»“æžœä¸ºç©ºï¼Œè€Œä¸€ä¸ª*è¡¨è¾¾å¼*çš„è®¡ç®—ç»“æžœæ€»æ˜¯ä¸ºä¸€ä¸ªå€¼ã€‚

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªè¡¨è¾¾å¼å½“ä½œä¸€ä¸ªå€¼ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œç­‰ç­‰ã€‚

ä½ ä¸èƒ½ç”¨`if/else`è¯­å¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä¾‹å¦‚:

æœ€åŽï¼Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªä¸‰å…ƒè¡¨è¾¾å¼å°†æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª*å‘½ä»¤å¼*ç‰‡æ®µè½¬æ¢æˆä¸€ä¸ª*å£°æ˜Žå¼*ç‰‡æ®µ:

ä½ å¯ä»¥å°†*ä¸‰å…ƒè¡¨è¾¾å¼*çš„ç»“æžœæ”¾å…¥ä¸€ä¸ªå˜é‡ä¸­ï¼Œä»¥èŽ·å¾—æ›´å¥½çš„å¯è¯»æ€§å’Œ/æˆ–åœ¨ä»¥åŽé‡ç”¨å®ƒã€‚

# å¯¹äºŽå¾ªçŽ¯

å½“ä½ æƒ³ä½¿ç”¨ä¸€ä¸ª`for`å¾ªçŽ¯æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨[æ˜ å°„](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)æˆ– [forEach](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach) æ¥ä»£æ›¿ã€‚

å¦‚æžœæ‚¨çš„æ•°æ®è¿˜æ²¡æœ‰è½¬æ¢æˆæ•°ç»„ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½éœ€è¦å°†å®ƒè½¬æ¢æˆæ•°ç»„ï¼Œå› ä¸ºè¿™äº›å‡½æ•°åªé€‚ç”¨äºŽå®ƒã€‚

ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ [Object.entries()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries) ä»Žä¸€ä¸ªå¯¹è±¡ä¸­èŽ·å–ä¸€ä¸ªé”®å€¼å¯¹å­æ•°ç»„ã€‚

ç„¶åŽï¼Œåœ¨æ˜ å°„ä¹‹åŽï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ [Object.fromEntries()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries) å°†ç»“æžœè½¬æ¢å›žä¸€ä¸ªå¯¹è±¡ã€‚

`forEach`é€šå¸¸ç”¨äºŽå‰¯ä½œç”¨ï¼Œè€Œ`map`å¿…é¡»æ˜¯çº¯çš„ã€‚

æ¢å¥è¯è¯´ï¼Œå½“ä½ éœ€è¦å–å›žä¸€ä¸ªæ•°ç»„æ—¶ï¼Œä½ ä½¿ç”¨`map`,è€Œå¦‚æžœä½ æƒ³æ‰§è¡Œä¸€äº›åŠ¨ä½œï¼Œä½†ä¸åœ¨ä¹Žå®ƒæ˜¯å¦è¿”å›žä»€ä¹ˆï¼Œä½ ä½¿ç”¨`forEach`ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ`forEach`è¿”å›ž`undefined`ã€‚

ä»¥ä¸‹æ˜¯æˆ‘æ‰€è¯´çš„ä¸€ä¸ªä¾‹å­:

çŽ°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹`map`å’Œ`forEach`ç»™äº†æˆ‘ä»¬ä»€ä¹ˆ:

æˆ‘ä»¬å¯ä»¥ç®€å•åœ°é€šè¿‡åœ¨`forEach`å›žè°ƒä¸­åˆ›å»ºâ€œpresentationâ€å­—ç¬¦ä¸²å¹¶åœ¨ä¹‹åŽè®°å½•å®ƒæ¥èŽ·å¾—ç›¸åŒçš„ç»“æžœï¼Œä½†æ˜¯æˆ‘æƒ³å±•ç¤º`map`å’Œ`forEach`çš„ç”¨ä¾‹ã€‚

çŽ°åœ¨ä½ å¯èƒ½ä¼šè¯´:

> *å¥½ã€‚ä½†æ˜¯å¦‚æžœæˆ‘æƒ³è¦ï¼Œæ¯”æ–¹è¯´ï¼Œæ‰€æœ‰å¹´é¾„çš„æ€»å’Œå‘¢ï¼Ÿ*

ä½¿ç”¨`for`å¾ªçŽ¯ï¼Œè¿™éžå¸¸ç®€å•:

ç”¨`map`æ€Žä¹ˆå®žçŽ°å‘¢ï¼Ÿ

æˆ‘ä»¬ä¸èƒ½ï¼Œå› ä¸ºå®ƒæ€»æ˜¯ç»™æˆ‘ä»¬ä¸€ä¸ªæ•°ç»„ï¼Œè€Œè¿™é‡Œï¼Œæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ•°å­—ã€‚

çŽ°åœ¨æˆ‘ä»¬éœ€è¦å¦ä¸€ä¸ªå‡½æ•°:`reduce`:

æˆ‘ä¸ä¼šåœ¨è¿™é‡Œè§£é‡Š`reduce`æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªéžå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œä½ å¿…é¡»å­¦ä¹ ï¼Œå› ä¸ºå®ƒåªæ˜¯...å¤ªç¥žå¥‡äº†ã€‚(å¦‚æžœä½ æ„¿æ„ï¼Œæˆ‘ä¼šåœ¨å¸–å­çš„æœ€åŽæ”¾ä¸€äº›èµ„æºã€‚)

ä»»ä½•æ—¶å€™ä½ æƒ³è®¡ç®—ä»»ä½•ä¸œè¥¿(å¦ä¸€ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªæ•°å­—ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²ç­‰ç­‰ã€‚)ä»Žä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒã€‚

äº‹å®žä¸Šï¼Œä½ å¯ä»¥ç”¨å®ƒå®žçŽ°`map`ã€`filter`ã€`slice`ä»¥åŠå…¶ä»–â€œå£°æ˜Žæ€§â€åŠŸèƒ½ã€‚

è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸€å¼€å§‹æ¯”è¾ƒéš¾æŠŠæ¡çš„åŽŸå› ã€‚

ä½†æ˜¯ï¼Œæœ‰æ²¡æœ‰ä¸€ç§ä¸å¹³å‡¡çš„ä¹å™¨ï¼Œåœ¨æ¼”å¥å‡ºç¾Žå¦™çš„éŸ³ä¹ä¹‹å‰ä¸éœ€è¦å­¦ä¹ ï¼Ÿ

æˆ‘ä¸è¿™ä¹ˆè®¤ä¸ºã€‚

æ­£å¦‚æˆ‘æåˆ°çš„ï¼Œè¿˜æœ‰å…¶ä»–æ–¹ä¾¿çš„åŠŸèƒ½ï¼Œå¦‚`filter`å’Œ`slice`ï¼Œå¯ä»¥ä»£æ›¿`for`å¾ªçŽ¯æ¥å®Œæˆç‰¹å®šçš„ä»»åŠ¡ã€‚(å†æ¬¡å£°æ˜Žï¼Œèµ„æºåœ¨å¸–å­çš„æœ«å°¾ã€‚)

å¥½å§ï¼è®©æˆ‘ä»¬æ¥è§£å†³æœ€åŽä¸€é¡¹æŠ€æœ¯ã€‚

# While å¾ªçŽ¯

è€Œå¾ªçŽ¯å¯ä»¥ç”¨é€’å½’æ¥ä»£æ›¿ï¼Œæ›´å‡†ç¡®åœ°è¯´ï¼Œæ˜¯é€’å½’å‡½æ•°ã€‚

é‚£æ˜¯ä»€ä¹ˆé¬¼ä¸œè¥¿ï¼Ÿ

å¥½å§ã€‚é€’å½’å‡½æ•°æœ‰ä¸¤ä¸ªç‰¹å¾:

1.  å®ƒè‡ªç§°(é€’å½’æƒ…å†µ)ã€‚
2.  å®ƒä½œä¸ºä¸€ä¸ªåœæ­¢æ¡ä»¶(åŸºæœ¬æƒ…å†µ),å½“æ»¡è¶³æ—¶ï¼Œå±•å¼€è°ƒç”¨å †æ ˆå¹¶æœ€ç»ˆè¿”å›žæ‰€éœ€çš„å€¼ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­:

è¿™é‡Œæœ‰ä¸€ä¸ªè§†è§‰åŒ–çš„ç»“æžœ:

![](img/dfc48b10df72e1c2bd9449f37333d75b.png)

æ¯ä¸ªé»‘è‰²ç®­å¤´éƒ½å¯ä»¥æ›¿æ¢ä¸ºâ€œreturnsâ€ã€‚

æ•´ä¸ªè¿‡ç¨‹ä»Žå­—é¢ä¸Šè§£é‡Š:

1.  foo(16): x === 16 æ‰€ä»¥ x > 5ï¼Œå› æ­¤æˆ‘ä»¬è¿”å›ž`foo(16 / 2)`ã€‚æ‰€ä»¥æˆ‘ä»¬è°ƒç”¨å®ƒå¹¶å°†è¿”å›žè¿™ä¸ªè°ƒç”¨è¿”å›žçš„ä»»ä½•å†…å®¹ã€‚
2.  foo(8): x === 8 æ‰€ä»¥ x > 5ï¼Œå› æ­¤æˆ‘ä»¬è¿”å›ž`foo(8 / 2)`ã€‚æ‰€ä»¥æˆ‘ä»¬è°ƒç”¨å®ƒå¹¶å°†è¿”å›žè¿™ä¸ªè°ƒç”¨è¿”å›žçš„ä»»ä½•å†…å®¹ã€‚
3.  foo(4): x === 4 æ‰€ä»¥ x < 5ï¼Œæ»¡è¶³åœæ­¢æ¡ä»¶ã€‚å› æ­¤æˆ‘ä»¬è¿”å›ž 4ã€‚
4.  å›žåˆ°æ­¥éª¤ 2ï¼Œæˆ‘ä»¬æƒ³è¦è¿”å›žä»»ä½•`foo(8 / 2)`(åœ¨æ­¥éª¤ 3 ä¸­ä¹Ÿç§°ä¸º foo(4 ))è¿”å›žçš„å†…å®¹ã€‚çŽ°åœ¨æˆ‘ä»¬çŸ¥é“æ˜¯ 4ï¼Œæˆ‘ä»¬è¿”å›ž 4ã€‚
5.  å›žåˆ°æ­¥éª¤ 1ï¼Œæˆ‘ä»¬æƒ³è¦è¿”å›žä»»ä½•`foo(16 / 2)`(åœ¨æ­¥éª¤ 2 ä¸­ä¹Ÿç§°ä¸º foo(8 ))è¿”å›žçš„å†…å®¹ã€‚çŽ°åœ¨æˆ‘ä»¬çŸ¥é“æ˜¯ 4ï¼Œæˆ‘ä»¬è¿”å›ž 4ã€‚
6.  å› ä¸ºæœ€åˆçš„è°ƒç”¨æ˜¯`foo(16)`ï¼Œæ‰€ä»¥ç»“æžœæ˜¯ 4ã€‚

è¿™ä¸ªä¾‹å­å¾ˆç®€å•ï¼Œä½†æ˜¯æœ€ç»ˆï¼Œæ¯ä¸ªé€’å½’å‡½æ•°éƒ½æœ‰æˆ‘ä¸Šé¢åˆ—å‡ºçš„ä¸¤ä¸ªç‰¹å¾ã€‚

è¿™æ˜¯ä¸€ä¸ªæˆ‘å¾ˆéš¾æŽŒæ¡çš„æŠ€å·§ï¼Œæ‰€ä»¥å¦‚æžœæ˜¯ä½ çš„æƒ…å†µï¼Œä¸è¦æ”¾å¼ƒï¼Œå®šæœŸæŽ¥è§¦ä¸åŒçš„å­¦ä¹ ææ–™ã€‚

æœ€ç»ˆï¼Œè¿™ä¸€å¤©ä¼šåˆ°æ¥ã€‚

çŽ°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå…¶ä¸­æˆ‘ä»¬å°† while å¾ªçŽ¯è½¬æ¢ä¸ºé€’å½’å‡½æ•°:

çŽ°åœ¨ï¼Œä½ èƒ½å‘Šè¯‰æˆ‘è¿™ä¸ªå¾ªçŽ¯æ˜¯å¹²ä»€ä¹ˆçš„å—ï¼Ÿ

å®ƒè®¡ç®— 5 çš„é˜¶ä¹˜ã€‚

æ‰€ä»¥æœ€åŽ x æ˜¯ 120ã€‚

å³ä½¿åœ¨è¿™ä¸ªç›¸å½“ç®€å•çš„ä¾‹å­ä¸­ï¼Œ`while`å¾ªçŽ¯çš„ä½œç”¨ä¹Ÿä¸æ˜Žæ˜¾ã€‚

ä½¿ç”¨é€’å½’å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™å®ƒä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°æ¥è½»æ¾è§£å†³è¿™ä¸ªé—®é¢˜:

æ¼‚äº®å§ï¼Ÿ

å°è¯•åƒæˆ‘åœ¨ä¹‹å‰çš„å¯è§†åŒ–ä¸­æ‰€åšçš„é‚£æ ·åˆ†è§£å‡½æ•°ã€‚

æŠŠå®ƒå†™åœ¨çº¸ä¸Šï¼ŒçœŸæ­£åœ°ä¸Žä¿¡æ¯è”ç³»èµ·æ¥ã€‚

# æ›´è¿›ä¸€æ­¥

å­¦ä¹ â€œç®€åŒ–â€:

*   MDN æ–‡æ¡£
*   [è¶£å‘³è¶£å‘³åŠŸèƒ½](https://www.youtube.com/watch?v=Wl98eZpkp-c)
*   [å†æ¬¡æ¥è‡ª Fun Fun åŠŸèƒ½](https://www.youtube.com/watch?v=gU3wOcpbfCM)

å­¦ä¹ é€’å½’:

*   [javascript.info](https://javascript.info/recursion)
*   [è¶£å‘³è¶£å‘³åŠŸèƒ½](https://www.youtube.com/watch?v=k7-N8R0-KY4)
*   [æ‰€æœ‰ JavaScript çš„ä¸œè¥¿](https://www.youtube.com/watch?v=py7ZWFjrwEs)
*   [æ›´å¤š](https://github.com/getify/Functional-Light-JS/blob/master/manuscript/ch8.md/#chapter-8-recursion)

[è¿‡æ»¤å™¨](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)

[åˆ‡ç‰‡](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice)

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å¼ºè°ƒäº†æœ¯è¯­*å‘½ä»¤æ€§çš„*å’Œ*å£°æ˜Žæ€§çš„*ï¼Œæœ¬è´¨ä¸Šå£°æ˜Žäº†åŽè€…ç»™äº†æˆ‘ä»¬æ›´å¤šå¯è¯»çš„ä»£ç ã€‚

ä½†æ˜¯è¿™äº›æœ¯è¯­ç»å¸¸è¢«ç”¨åœ¨ OOP(é€šå¸¸æ˜¯å‘½ä»¤å¼çš„)å’Œ FP(æ›´å¤šçš„æ˜¯å£°æ˜Žå¼çš„)çš„ä¸Šä¸‹æ–‡ä¸­ã€‚

è¿™æ˜¯ä¸¤ç§ç¼–ç¨‹èŒƒä¾‹(å¦‚æžœä½ æ„¿æ„ï¼Œè¿™æ˜¯è§£å†³è½¯ä»¶é—®é¢˜çš„æ–¹æ³•)ã€‚

FP ä»£è¡¨å‡½æ•°å¼ç¼–ç¨‹ï¼ŒOOP ä»£è¡¨é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚

è™½ç„¶`for`å¾ªçŽ¯å¹¶ä¸æ˜¯ä¸€ä¸ªâ€œé¢å‘å¯¹è±¡â€çš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘ä»‹ç»çš„[é«˜é˜¶å‡½æ•°](https://medium.com/javascript-scene/higher-order-functions-composing-software-5365cf2cbe99)æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„æ ¸å¿ƒå·¥å…·ï¼Œå®ƒä»¬ç»å¸¸è¢«è®¤ä¸ºæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒå·¥å…·ã€‚

å‡½æ•°å¼èŒƒä¾‹çœŸçš„è®©æˆ‘å¾ˆæ„Ÿå…´è¶£ï¼Œæˆ‘æƒ³ä½ ä¼šå–œæ¬¢å­¦ä¹ å®ƒçš„ã€‚

é™¤äº†æ›´å…·å£°æ˜Žæ€§ä¹‹å¤–ï¼Œå®ƒè¿˜æä¾›äº†å…¶ä»–å¼ºå¤§çš„æ€æƒ³/ç‰¹æ€§ï¼Œæ¯”å¦‚æ•°æ®ç»“æž„çš„ä¸å˜æ€§ï¼Œè¿™æœ‰åŠ©äºŽé¿å…ä¸Žå¯å˜æ€§ç›¸å…³çš„ä¸€ç³»åˆ—é”™è¯¯ã€‚

ä¸å¹¸çš„æ˜¯ï¼ŒJS æ²¡æœ‰æä¾›å¼€ç®±å³ç”¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥è¯•å›¾å¼ºåˆ¶æ‰§è¡Œå®ƒæœ‰ç‚¹åƒé€†æ°´è¡ŒèˆŸï¼Œæ‰€ä»¥æ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç±»ä¼¼äºŽ [Clojure](https://clojure.org/index) çš„åŠŸèƒ½ã€‚

ä½†æ˜¯å®ƒä»¬æ˜¯å­¦ä¹  JavaScript è¿™ç§èŒƒå¼çš„å¾ˆå¥½çš„èµ„æºï¼Œæˆ‘æŽ¨èå®ƒä»¬ï¼Œå› ä¸ºå‡½æ•°å¼è¯­è¨€é€šå¸¸ä¸å¤ªå—æ¬¢è¿Žï¼Œå­¦ä¹ ææ–™çš„ç”Ÿæ€ç³»ç»Ÿä¹Ÿä¸å¤ªæˆç†Ÿã€‚

ä»¥ä¸‹æ˜¯å…¶ä¸­çš„å‡ ä¸ª:

ä¹¦ç±:

*   [è½»é‡çº§åŠŸèƒ½ JavaScript](https://github.com/getify/Functional-Light-JS)

- [åŸºæœ¬ä¸Šè¶³å¤Ÿçš„ FP æŒ‡å—(åœ¨ JS ä¸­)](https://github.com/MostlyAdequate/mostly-adequate-guide)

è§†é¢‘:

*   [è¶£å‘³ Fun åŠŸèƒ½æ’­æ”¾åˆ—è¡¨](https://www.youtube.com/playlist?list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84)

å›¾ä¹¦é¦†:

*   [æ‹‰å§†è¾¾ JS](https://ramdajs.com/)

[æ›´å¤š](https://github.com/stoeffel/awesome-fp-js)

# ç»“è®º

å°±æ˜¯è¿™æ ·ï¼

æˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¼šå¾ˆæœ‰ç”¨ã€‚

ç»§ç»­ç¼–ç ï¼ðŸ˜„

*æœ€åˆå‘å¸ƒäºŽ*[*https://yannsalmon . netlify . app/blog/from-important-to-declarative-JavaScript/*](https://yannsalmon.netlify.app/blog/from-imperative-to-declarative-javascript/)**ã€‚**