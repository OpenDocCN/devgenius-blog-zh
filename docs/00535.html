<html>
<head>
<title>3 things I’ve learned about Swift in the last week.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">上周我了解到的关于 Swift 的 3 件事。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/3-things-i-learned-about-swift-in-the-last-week-7bceb49f8f68?source=collection_archive---------39-----------------------#2020-06-09">https://blog.devgenius.io/3-things-i-learned-about-swift-in-the-last-week-7bceb49f8f68?source=collection_archive---------39-----------------------#2020-06-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/15050a4aa0fb79ce417505172ee8c7b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FzOHXUNIXqbnl6ap.png"/></div></div></figure><p id="cc89" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是我 100 天 SwiftUI 旅程的另一集。</p><p id="81b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在过去的几天里，我浏览了 Swift 语言的一些基础知识，如函数、闭包和结构，作为一名以前编写 Javascript 的前端开发人员，我发现了许多共性，但是当切换到另一种语言时，有些东西的命名或用法会有所不同。</p><p id="0fab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，Javascript(除非使用 Typescript)不是一种强类型语言，这使得它不同于 Swift 或其他编程语言。</p><p id="dab3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我不会讨论 Swift 的基础知识，但我想强调 3 件我不知道的事情，作为一名程序员，这些事情与 Javascript 无关。</p><h1 id="e664" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">1.Inout 参数</h1><p id="0f6e" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">传递到 Swift function 中的所有参数都不能更改，因为它们是常量，所以我们基本上每次调用带有新参数的函数时都会返回一个新值。</p><p id="9ac2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">由于有了<strong class="jx io"> <em class="lw"> inout </em> </strong>参数，我们可以直接在函数内部更改值，而不是返回一个新值，这将反映该函数外部的原始值。</p><p id="f73e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，假设我们想对一个数字进行 10 次幂运算:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4cf5" class="mg ku in mc b gy mh mi l mj mk">func decuplicate(number: inout Int) {<br/>    number *= 10<br/>}</span></pre><p id="69f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这种情况下，我们不仅进行乘法运算，还进行乘法运算并将新值赋给<code class="fe ml mm mn mc b">number</code>。</p><p id="ed8a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要使用这个函数，我们需要创建一个变量来存储我们将要在其中使用的 Int，当我们调用这个函数时，我们要在变量名前使用一个&amp;符号。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4a1b" class="mg ku in mc b gy mh mi l mj mk">var newNum = 2 <br/>decuplicate(number: &amp;newNum)</span></pre><p id="53e1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">老实说，我有点困惑，但是这个关于<a class="ae mo" href="https://dev.to/jonathan_gardn/%5Bhttps://www.hackingwithswift.com/quick-start/understanding-swift/when-should-you-use-inout-parameters%5D(https://www.hackingwithswift.com/quick-start/understanding-swift/when-should-you-use-inout-parameters)" rel="noopener ugc nofollow" target="_blank"> HackingWithSwift </a>的简短解释帮助了我。</p><h1 id="412b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2.捕获闭包中的值</h1><p id="d450" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">当您在函数中返回一个闭包时，该闭包可以访问或“捕获”该函数中存在的值，并跟踪它们，即使它们不再存在。</p><p id="8e5f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个例子中，函数<code class="fe ml mm mn mc b">eat()</code>返回一个闭包，它相应地接受一个字符串作为参数并返回 void(所以基本上不返回任何东西，它只是打印到控制台):</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="044a" class="mg ku in mc b gy mh mi l mj mk">func eat() -&gt; (String) -&gt; Void {<br/>    return {<br/>        print("I'm going to eat some \($0)")<br/>    }<br/>}</span></pre><p id="2502" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后我们可以调用这个函数，并简单地使用其中的闭包。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="7fdf" class="mg ku in mc b gy mh mi l mj mk">let meal = eat()<br/>meal("Fruit")</span><span id="bad7" class="mg ku in mc b gy mp mi l mj mk">//prints "I'm going to eat some Fruit"</span></pre><p id="8b99" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们在函数<code class="fe ml mm mn mc b">eat()</code>中创建一个值，比如记录我们吃了多少次。我们的闭包将捕获每次调用函数时在闭包内保持活动的值。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="d978" class="mg ku in mc b gy mh mi l mj mk">func eat() -&gt; (String) -&gt; Void {<br/>    var mealCounter = 1</span><span id="b632" class="mg ku in mc b gy mp mi l mj mk">    return {<br/>        print("Meals for today: \(mealCounter). I'm going to eat some \($0)")<br/>        mealCounter += 1<br/>    }<br/>}</span></pre><p id="9984" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们调用函数时，每次调用<code class="fe ml mm mn mc b">eat()</code>时，我们的<code class="fe ml mm mn mc b">mealCounter</code>都会增加。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="8fee" class="mg ku in mc b gy mh mi l mj mk">meal("Beans and Eggs")<br/>meal("Tofu")<br/>meal("Salad")<br/>meal("Pizza")</span><span id="f78e" class="mg ku in mc b gy mp mi l mj mk">//mealCounter will increase to 5 in this case</span></pre><h1 id="4b67" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">3.结构和属性观察器</h1><p id="1473" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">当我们创建一个结构的实例时，有时我们希望每次属性改变时都发生一些事情。</p><p id="616b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">假设我们已经创建了一个结构体，它记录了我们跑步或骑车的距离:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9012" class="mg ku in mc b gy mh mi l mj mk">struct Distance {<br/>    var action: String<br/>    var miles: Int<br/>}</span></pre><p id="3746" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我们为会话创建一个实例:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="6363" class="mg ku in mc b gy mh mi l mj mk">var session = Distance(action: "Running", miles: 0)<br/>session.miles = 2<br/>session.miles = 7<br/>session.miles = 12</span></pre><p id="d68e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果每次我们调用<code class="fe ml mm mn mc b">miles</code>属性并更新它时，我们也通知用户距离，这不是很酷吗？</p><p id="9d24" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">嗯，我们可以用房产观察家的谎言<code class="fe ml mm mn mc b">didSet()</code>做到这一点</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="f6cd" class="mg ku in mc b gy mh mi l mj mk">struct Distance {<br/>    var action: String<br/>    var miles: Int {<br/>        didSet {<br/>            print("You have been \(action) for \(miles)miles")<br/>        }<br/>    }<br/>}</span></pre><p id="ca6f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">任何反馈，评论或建议都非常感谢，事实上，这是鼓励。</p><p id="ac52" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们连线吧！</p><p id="9282" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">网址:【jonathangiardino.com T2】T3</p><p id="48f0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">推特:<a class="ae mo" href="https://twitter.com/jonathan_gardn" rel="noopener ugc nofollow" target="_blank"> @jonathan_gardn </a></p><p id="b2cc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Dev 社区:<a class="ae mo" href="https://dev.to/jonathan_gardn" rel="noopener ugc nofollow" target="_blank"> @jonathan_gardn </a></p></div><div class="ab cl mq mr hr ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ig ih ii ij ik"><p id="1ba3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="lw">最初发布于 2020 年 6 月 9 日</em><a class="ae mo" href="https://dev.to/jonathan_gardn/3-things-i-learned-about-swift-in-the-last-week-417e" rel="noopener ugc nofollow" target="_blank"><em class="lw">https://dev . to</em></a><em class="lw">。</em></p></div></div>    
</body>
</html>