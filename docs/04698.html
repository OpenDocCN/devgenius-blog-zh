<html>
<head>
<title>Using styled-components and Props With Typescript React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Typescript React使用样式化组件和道具</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/using-styled-components-and-props-with-typescript-react-a3c32a496f47?source=collection_archive---------0-----------------------#2021-04-22">https://blog.devgenius.io/using-styled-components-and-props-with-typescript-react-a3c32a496f47?source=collection_archive---------0-----------------------#2021-04-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ba868e09c8d2acb5af658463d78ebb52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e50ASOBklHRmrnuybi9mtA.png"/></div></div></figure><p id="d66d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">设计和构建时尚的用户界面是前端开发中的一个基本过程。快速、高性能且易于使用的样式库之一是<a class="ae kt" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank">样式组件</a>。</p><p id="b910" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Typescript是一种构建在javascript基础上的令人敬畏的编程语言，尽管用javascript编写类似的任务可能需要很多代码，但它的优点是值得的。</p><h1 id="2790" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">类型检查</h1><p id="f5ce" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">Typescript是一种严格的类型化语言，就像Java、C++、C#等，她确保你为每个变量、函数和函数参数设置一个类型。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="1cb2" class="mg kv in mc b gy mh mi l mj mk">let num: number = 12;<br/>const myFunc = (name: string):string =&gt; name + 'john';</span></pre><p id="d953" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是打字稿的基本规则，你可以从她的<a class="ae kt" href="https://www.typescriptlang.org/docs/handbook/typescript-from-scratch.html" rel="noopener ugc nofollow" target="_blank">文档</a>中了解更多</p><h1 id="802c" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">创建React应用</h1><p id="e990" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们将首先创建一个支持typescript的react应用程序，如果您已经有了，可以跳过这一步。</p><p id="a127" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">打开您的终端并运行下面的命令</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="be56" class="mg kv in mc b gy mh mi l mj mk">npx create-react-app my-app --template typescript</span><span id="cdae" class="mg kv in mc b gy ml mi l mj mk"># or</span><span id="235c" class="mg kv in mc b gy ml mi l mj mk">yarn create react-app my-app --template typescript</span></pre><p id="21d5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这将创建一个像下面这样的基本模板</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/81030a4c3d4e163277c8fedea21af416.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/format:webp/1*M-EHwOGXCLCthHpntkk0Sw.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">typescript反应</figcaption></figure><p id="bdd3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，通过在根目录下运行以下命令来安装样式化组件和类型定义</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9fc1" class="mg kv in mc b gy mh mi l mj mk">npm i styled-components @types/styled-components</span><span id="07cc" class="mg kv in mc b gy ml mi l mj mk">#or</span><span id="83b1" class="mg kv in mc b gy ml mi l mj mk">yarn add styled-components @types/styled-components</span></pre><h1 id="e595" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">开发按钮元素</h1><p id="ebcc" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">打开App.tsx或App.ts文件并导入样式化组件包</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="8b92" class="mg kv in mc b gy mh mi l mj mk">import styled from 'styled-components'</span></pre><p id="0a55" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在App函数上方，创建一个样式化的按钮元素，并在HTML section标记中呈现它</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="6a34" class="mg kv in mc b gy mh mi l mj mk">const BUTTON = styled.button`<br/>  border: 1px dotted yellow;<br/>  background: white;<br/>  color: black;<br/>  font-weight: 500;</span><span id="2ad6" class="mg kv in mc b gy ml mi l mj mk">`</span><span id="76a9" class="mg kv in mc b gy ml mi l mj mk">const App(){<br/>return (<br/>   &lt;section&gt;<br/>  &lt;BUTTON&gt; First Btn &lt;/BUTTON&gt;<br/>  &lt;BUTTON&gt; Second Btn &lt;/BUTTON&gt;</span><span id="4927" class="mg kv in mc b gy ml mi l mj mk">   &lt;/section&gt;</span><span id="024d" class="mg kv in mc b gy ml mi l mj mk">)</span><span id="a4a5" class="mg kv in mc b gy ml mi l mj mk">}</span></pre><h1 id="17f6" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">将道具传递给组件</h1><p id="9df3" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">属性或简称为props，用于使UI组件更加动态，考虑到你需要两个不同边框颜色的按钮，但是其他CSS属性是相同的，你可以向每个按钮传递props，如果props值可用，它应该改变CSS属性。</p><p id="fe8b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mr">我们开始吧！</em></p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="8a28" class="mg kv in mc b gy mh mi l mj mk">...</span><span id="ca3e" class="mg kv in mc b gy ml mi l mj mk">  &lt;BUTTON submit={true}&gt; first Btn &lt;/BUTTON&gt;<br/>  &lt;BUTTON pay="shopping"&gt; Second Btn &lt;/BUTTON&gt;</span><span id="7ef1" class="mg kv in mc b gy ml mi l mj mk">...</span></pre><p id="833a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的代码片段中，我给了第一个按钮一个属性<em class="mr"> submit </em>，数据类型是一个<em class="mr"> boolean </em>，给了第二个按钮一个属性<em class="mr"> pay </em>，数据类型是一个<em class="mr"> string </em>。</p><p id="7364" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我用这两个属性在样式化按钮的顶部定义了一个接口</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="f7aa" class="mg kv in mc b gy mh mi l mj mk">...<br/> interface IBtn {</span><span id="da4f" class="mg kv in mc b gy ml mi l mj mk">  submit: boolean,<br/>  pay: string</span><span id="d9e6" class="mg kv in mc b gy ml mi l mj mk">}</span><span id="6e06" class="mg kv in mc b gy ml mi l mj mk">const BUTTON = styled.button`<br/>  border: 1px dotted yellow;<br/>  background: white;<br/>  color: black;<br/>  font-weight: 500;<br/> `<br/>...</span></pre><p id="e167" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，您只需将这个接口传递给styled button，这有助于typescript检查组件要接收的pros的类型</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="bff6" class="mg kv in mc b gy mh mi l mj mk">...<br/>const BUTTON = styled.button&lt;IBtn&gt;`<br/>...</span></pre><p id="4124" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mr">简单！对吗？</em></p><p id="f6ff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我们可以根据组件接收的属性定义CSS属性，而typescript不会抛出任何错误</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9b45" class="mg kv in mc b gy mh mi l mj mk">...<br/>const BUTTON = styled.button&lt;IBtn&gt;`<br/>  border: 1px ${props =&gt; props.submit ? 'solid' : 'dotted'} yellow;<br/>  background: white;<br/>  color: black;<br/>  font-weight: ${props =&gt; props.pay === "shopping" ? 'bold' : 500};<br/>`<br/>...</span></pre><p id="fb4d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mr">恭喜你！</em></p><p id="285d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您已经安全地将道具传递给样式化的组件，而没有让typescript对您大喊大叫。我知道你可能想知道为什么我使用一个<em class="mr">接口</em>而不是一个<em class="mr">类型</em>，你可以从这篇<a class="ae kt" href="https://blog.logrocket.com/types-vs-interfaces-in-typescript/" rel="noopener ugc nofollow" target="_blank">文章</a>中读到更多。</p><p id="24db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢您阅读这篇文章，您可以在<a class="ae kt" href="https://twitter.com/AI_Lift" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae kt" href="https://github.com/armstrong99" rel="noopener ugc nofollow" target="_blank"> Github </a>和<a class="ae kt" href="https://www.linkedin.com/in/ndukwearmstrong/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上关注我，祝您愉快。</p></div></div>    
</body>
</html>