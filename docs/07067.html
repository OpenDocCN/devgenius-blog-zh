<html>
<head>
<title>Rick roll your friends with Rust</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">里克用铁锈卷起你的朋友</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/rick-roll-your-friends-with-rust-e90c78cda420?source=collection_archive---------7-----------------------#2022-02-22">https://blog.devgenius.io/rick-roll-your-friends-with-rust-e90c78cda420?source=collection_archive---------7-----------------------#2022-02-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="7107" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个快速有趣的恶作剧来吸引你的朋友或让他们对编码感兴趣👀</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fd82e6245ecefc8103ab98ac85ee5507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3EFhHOJxiCF33IaT.png"/></div></div></figure><p id="3edf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我一直喜欢编程，因为我可以用它做很酷的事情，而不是用代码解决无聊的基本数学问题，所以是的，我做了一些有趣的事情，只是为了让自己保持兴趣</p><p id="8d64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">铁锈编程语言</strong></p><p id="c5cf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我相信你听说过编程语言 Rust，而不是游戏，Rust 是一种编译速度极快的语言，非常类似于 C 和 C++，但它被设计成<strong class="jm io"> <em class="ku">内存安全</em> </strong>并通常提供更现代的语法，同时是一种低级语言</p><p id="6acd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">生锈还是不生锈😕</strong></p><p id="bab4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在学习一门新语言之前，首先要问自己的是“我能用它做什么”和“它能解决什么问题”，在 Rust case 中，它通过结合像内存管理(通过所有权)这样的低级功能和像<code class="fe kv kw kx ky b">for in</code>循环这样的现代功能，并有一个包管理器来下载第三方库，来帮助你编写安全和更可读的代码，所以如果你想变得更低级，但又不失去理智，那么 Rust 就是你要走的路</p><p id="8dca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我最喜欢的几个功能</strong></p><p id="605c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我目前正在研究 Rust 编程语言，退一步说这很神奇，但是我还没有完成，所以我真正喜欢 Rust 的地方很少</p><ol class=""><li id="60a7" class="la lb in jm b jn jo jr js jv lc jz ld kd le kh lf lg lh li bi translated">当您遇到编译时错误时，编译器非常有用，提供的信息非常丰富，非常详细的错误消息以及如何修复这些错误的说明实际上非常有用😂</li><li id="de6e" class="la lb in jm b jn lj jr lk jv ll jz lm kd ln kh lf lg lh li bi translated">超级丰富的标准库，老实说，它有一切可以做的事情，并且有对任何背景的开发者都非常有用的文档</li><li id="d1fc" class="la lb in jm b jn lj jr lk jv ll jz lm kd ln kh lf lg lh li bi translated">✨指针✨:我从没想过有一天我会这么说，但我真的很喜欢 Rust 中的指针，也就是引用，它们对我来说意义非凡，结合错误信息，我真的知道发生了什么，我做错了什么</li><li id="3e9b" class="la lb in jm b jn lj jr lk jv ll jz lm kd ln kh lf lg lh li bi translated">现代语法:在同一种语言中，从引用和真正特定于平台的代码到高级功能，如<code class="fe kv kw kx ky b">for in</code>循环，真是疯狂</li><li id="022f" class="la lb in jm b jn lj jr lk jv ll jz lm kd ln kh lf lg lh li bi translated">所有权:好的，如果你来自 Python 这样的高级编程语言背景，这对你来说没什么意义，但 Python 这样的术语基本上有一个垃圾收集器，基本上是一个系统，一旦变量不再被使用，它就会释放变量的内存，其他术语，如 C 和 C++迫使你手动管理内存，这非常令人沮丧和讨厌，在 Rust each variables 的情况下， 默认情况下是不可变的，占用了一个对你来说并不陌生的内存位置，🍑有一个扭曲，那些变量有它们自己的作用域，它们可以<em class="ku">过期</em>，你实际上不能使用它们</li></ol><p id="31c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">所有权示例</strong></p><p id="e104" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看这段 Python3 代码片段，然后复制 Rust 中的逻辑，看看有什么不同</p><pre class="kj kk kl km gt lo ky lp lq aw lr bi"><span id="56d2" class="ls lt in ky b gy lu lv l lw lx">def say_hi(name):<br/>    return f"hi there {name}"<br/>person = "frank"<br/>print(say_hi(person))<br/>print(f"the argument passed to the function was {person}")</span></pre><p id="2caa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个非常基本的函数，简单地返回 hi 和传递的参数，我使用了<code class="fe kv kw kx ky b">f string</code>特性来格式化字符串，然后我们简单地打印出传递给函数的变量(注意在调用函数后我们仍然可以使用它)</p><p id="013a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们试着在 Rust 中这样做！</p><pre class="kj kk kl km gt lo ky lp lq aw lr bi"><span id="765e" class="ls lt in ky b gy lu lv l lw lx">fn say_hi(name: String) {</span><span id="871d" class="ls lt in ky b gy ly lv l lw lx">    println!("hi there {}",name);</span><span id="4c01" class="ls lt in ky b gy ly lv l lw lx">}</span><span id="ad4f" class="ls lt in ky b gy ly lv l lw lx">fn main() {</span><span id="e6f1" class="ls lt in ky b gy ly lv l lw lx">    let person = String::from("frank");</span><span id="9a40" class="ls lt in ky b gy ly lv l lw lx">    say_hi(person);</span><span id="a8cd" class="ls lt in ky b gy ly lv l lw lx">    println!("{}",person);</span><span id="e17b" class="ls lt in ky b gy ly lv l lw lx">}</span></pre><p id="acf7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">尽管有点令人困惑，但这就是如何在 Rust 中初始化一个真正的<code class="fe kv kw kx ky b">String</code>，但如果你现在将鼠标悬停在最后一个<code class="fe kv kw kx ky b">println!()</code>中的<code class="fe kv kw kx ky b">person</code>上，你会看到一个错误，上面写着“借用移动值‘人’”</p><p id="890f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简而言之，当我们创建变量时，它在内存中保留了一个位置，最后一次需要和使用它是在我们将它传递给函数时，函数完成了执行<strong class="jm io">，然后砰的一声，它就消失了，不存在了</strong></p><p id="e136" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当然，我们可以用参考资料来解释，但你是来找瑞克·罗尔的，不是吗😏</p><p id="fb9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">产生子进程的标准库</strong></p><p id="219f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Rust 提供了大量的内置库来帮助我们更深入地学习😫其中一个是<code class="fe kv kw kx ky b">std::process</code>，所以我们将使用它来构建并运行我们的命令</p><p id="6bcf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，打开你最喜欢的文本编辑器/ IDE，把这个坏男孩放进来</p><pre class="kj kk kl km gt lo ky lp lq aw lr bi"><span id="de26" class="ls lt in ky b gy lu lv l lw lx">use std::process::Command;</span><span id="34c9" class="ls lt in ky b gy ly lv l lw lx">fn main() {</span><span id="7ae2" class="ls lt in ky b gy ly lv l lw lx">  let mut rick_roll = Command::new("firefox");</span><span id="f51c" class="ls lt in ky b gy ly lv l lw lx">  rick_roll.arg("https://www.youtube.com/watch?v=dQw4w9WgXcQ");</span><span id="f336" class="ls lt in ky b gy ly lv l lw lx">  rick_roll.status().expect("couldn't execute command");</span><span id="0ce3" class="ls lt in ky b gy ly lv l lw lx">}</span></pre><p id="930c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好了，这是在我的 Linux 发行版上测试过的，我总是用 firefox 来配合 chrome，所以要让它在 chrome 上工作，只需用 chrome.exr 替换 firefox，看起来就像<code class="fe kv kw kx ky b">Command::new("chrome.exe")</code></p><p id="6b6a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好，让我们看看代码中发生了什么，变量在 Rust 中是不可变的，这意味着我们不能修改它们，所以我们不能说</p><pre class="kj kk kl km gt lo ky lp lq aw lr bi"><span id="7879" class="ls lt in ky b gy lu lv l lw lx">let apples = 12;<br/>apples = 14;</span></pre><p id="811b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我们添加了<code class="fe kv kw kx ky b">mut</code>关键字来允许我们修改变量</p><p id="1cae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是一个进程生成器，这意味着它返回给我们一个进程，我们可以向它添加参数，所以我们添加了著名的《永不放弃你》歌曲的 URL</p><p id="8bc3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 Rust 中，很多事情都可能出错，所以一个简单(但不是很有用)的处理错误的方法是使用<code class="fe kv kw kx ky b">expect()</code>函数，这个函数会让程序崩溃并显示一条消息</p><p id="c616" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们把程序编译好发给朋友:)吧</p><p id="e853" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">将代码编译成二进制</strong></p><p id="e4f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开您的终端/命令行并输入<code class="fe kv kw kx ky b">cargo run</code>来构建项目并运行它(如果它是使用 Cargo 创建的)</p><p id="02b4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果不是，只是一个简单的 Rust 脚本，那么输入<code class="fe kv kw kx ky b">rustc [FILE_NAME]</code>，一个二进制文件就会出现在同一个目录中，你可以把它发送给任何运行相同操作系统的人，这是很有可能的</p><p id="01f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">顺便说一句，你也可以把代码编译到其他目标上</p><p id="85ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">非常感谢你的来访，让我知道你是否对 Rust 感兴趣，这样我会写更多关于它的博客:)</p></div></div>    
</body>
</html>