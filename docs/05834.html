<html>
<head>
<title>The Decoration Software Design Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">装饰软件设计模式</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-decoration-software-design-pattern-5c26e923fa84?source=collection_archive---------2-----------------------#2021-11-06">https://blog.devgenius.io/the-decoration-software-design-pattern-5c26e923fa84?source=collection_archive---------2-----------------------#2021-11-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a38527dce1a7926f9897de2be01618b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oY-T92xfow2z9kA3"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">安妮·斯普拉特在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="166b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Decorator 是一种结构设计模式，它允许通过将对象放在包含这些行为的特定包装对象中，将新行为附加到对象上。</p><p id="23c3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了理解这种设计模式，我们将假设我们正在为一家意大利餐馆运行一个应用程序，并且我们需要对膳食类进行建模。假设他们提供三种比萨饼:玛格丽塔比萨饼、那不勒斯比萨饼和油炸比萨饼。除此之外，每顿饭都可以选择添加沙拉和饮料。最初，我们将使用继承并抽象出 dish 类中的公共功能。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="d94e" class="lh li in ld b gy lj lk l ll lm">public interface Pizza {<br/>    void prepare();<br/>}</span><span id="654a" class="lh li in ld b gy ln lk l ll lm">public class MargheritaPizza implements Pizza{<br/>    @Override<br/>    public void prepare() {<br/>        System.<em class="lo">out</em>.println("Margherita Pizza in the works!");<br/>    }<br/>}</span><span id="8f1d" class="lh li in ld b gy ln lk l ll lm">public class NapoletanaPizza implements Pizza {<br/><br/>    @Override<br/>    public void prepare() {<br/>        System.<em class="lo">out</em>.println("Napoletana Pizza in the works!");<br/>    }<br/>}</span><span id="e633" class="lh li in ld b gy ln lk l ll lm">public class FrittaPizza implements Pizza{<br/>    @Override<br/>    public void prepare() {<br/>        System.<em class="lo">out</em>.println("Fritta Pizza in the works!");<br/>    }<br/>}</span></pre><p id="4ce9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">PizzaMealDecorator.java</p><p id="6619" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是我们将用于装饰/包装的基类。这个类实现了 pizza 接口，从而包装了 Pizza 对象。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="0f63" class="lh li in ld b gy lj lk l ll lm">public class PizzaMealDecorator implements Pizza{<br/>    protected Pizza pizza;<br/><br/>    public PizzaMealDecorator(Pizza pizza){<br/>        this.pizza = pizza;<br/>    }<br/><br/>    @Override<br/>    public void prepare() {<br/>        this.pizza.prepare();<br/>    }<br/>}</span></pre><p id="7092" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Drink.java</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="f034" class="lh li in ld b gy lj lk l ll lm">public class Drink extends PizzaMealDecorator{<br/>    public Drink(Pizza pizza) {<br/>        super(pizza);<br/>    }<br/><br/>    @Override<br/>    public void prepare() {<br/>        super.prepare();<br/>        System.<em class="lo">out</em>.println("Adding a drink to the Pizza meal.");<br/>    }<br/>}</span></pre><p id="d59b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Salad.java</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="6a4b" class="lh li in ld b gy lj lk l ll lm">public class Salad extends PizzaMealDecorator {<br/>    public Salad(Pizza pizza) {<br/>        super(pizza);<br/>    }<br/><br/>    @Override<br/>    public void prepare() {<br/>        super.prepare();<br/>        System.<em class="lo">out</em>.println("Adding a salad to the Pizza meal.");<br/>    }<br/>}</span></pre><p id="e528" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">演示</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="91b4" class="lh li in ld b gy lj lk l ll lm">public class Demo {<br/><br/>public static void main(String[] args){<br/>        PizzaMealDecorator margheritaPizzaMeal = new Salad(new   Drink(new MargheritaPizza()));<br/>        margheritaPizzaMeal.prepare();<br/>        System.<em class="lo">out</em>.println("-----------------");<br/>        PizzaMealDecorator napolentanaPizzaMeal = new Drink(new NapoletanaPizza());<br/>        napolentanaPizzaMeal.prepare();<br/>        System.<em class="lo">out</em>.println("-----------------");<br/>        PizzaMealDecorator frittaPizzaMeal = new      PizzaMealDecorator(new NapoletanaPizza());<br/>       frittaPizzaMeal.prepare();<br/>        System.<em class="lo">out</em>.println("-----------------");<br/>    }<br/>}</span></pre><p id="a41a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">输出</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="9286" class="lh li in ld b gy lj lk l ll lm">Margherita Pizza in the works!<br/>Adding a drink to the Pizza meal.<br/>Adding a salad to the Pizza meal.<br/>-----------------<br/>Napoletana Pizza in the works!<br/>Adding a drink to the Pizza meal.<br/>-----------------<br/>Napoletana Pizza in the works!<br/>-----------------</span></pre><h1 id="0ede" class="lp li in bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">赞成的意见</h1><ul class=""><li id="e21f" class="mm mn in kc b kd mo kh mp kl mq kp mr kt ms kx mt mu mv mw bi translated">单一责任原则</li><li id="e666" class="mm mn in kc b kd mx kh my kl mz kp na kt nb kx mt mu mv mw bi translated">您可以扩展一个对象的行为，而无需创建新的子类。</li><li id="2c3a" class="mm mn in kc b kd mx kh my kl mz kp na kt nb kx mt mu mv mw bi translated">您可以在运行时添加或删除对象的责任。</li><li id="6e50" class="mm mn in kc b kd mx kh my kl mz kp na kt nb kx mt mu mv mw bi translated">通过将一个对象包装到多个装饰器中，可以组合几种行为。</li></ul><h1 id="6170" class="lp li in bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">骗局</h1><ul class=""><li id="442e" class="mm mn in kc b kd mo kh mp kl mq kp mr kt ms kx mt mu mv mw bi translated">很难从包装器堆栈中移除特定的包装器。因此，在我们的示例中，很难在添加时删除订单中的沙拉。</li><li id="71ae" class="mm mn in kc b kd mx kh my kl mz kp na kt nb kx mt mu mv mw bi translated">很难实现一个装饰器，使其行为不依赖于装饰器堆栈中的顺序。</li><li id="710f" class="mm mn in kc b kd mx kh my kl mz kp na kt nb kx mt mu mv mw bi translated">层的初始配置代码可能看起来很难看。</li></ul></div></div>    
</body>
</html>