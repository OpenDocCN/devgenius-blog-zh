<html>
<head>
<title>Humanizer — an Exciting Library in C#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人性化——c#中令人兴奋的库</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/humanizer-an-exciting-library-in-c-ba2527410e42?source=collection_archive---------1-----------------------#2020-06-20">https://blog.devgenius.io/humanizer-an-exciting-library-in-c-ba2527410e42?source=collection_archive---------1-----------------------#2020-06-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3491c3330fe90cdf30a5c1e73df008ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s18jHdbdTmHqNPT6"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">由<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae jz" href="https://unsplash.com/@zakharyak?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Maksym Zakharyak </a>拍摄的照片</figcaption></figure><p id="dc70" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这一次，我将向你介绍一个相当“酷”的图书馆。这个图书馆叫做“人性化”。它只有一个功能:将字符串、日期、……转换成人类可以阅读的文字(正如 Humanizer 这个名字的意思是“拟人”)。这听起来很简单，但你会惊讶于它的功能。</p><p id="9dec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">文章只是展示，介绍性的，所以不会有太多的代码。如果你好奇，你可以创建一个新项目，使用<strong class="kc io"> Nuget </strong>来安装人性化器并测试代码。人性化的一些显著特征。</p><h1 id="583e" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">将函数名和变量名转换成有意义的字符串</strong></h1><p id="266f" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">在编程中，我们经常根据一个命名约定来命名字段、函数名、变量名。人性化允许把这些名字变成一个有意义的字符串。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="3c66" class="mk kz in mg b gy ml mm l mn mo">"PascalCaseInputStringIsTurnedIntoSentence".Humanize();<br/>//"Pascal case input string is turned into sentence</span><span id="c751" class="mk kz in mg b gy mp mm l mn mo">"Underscored_input_string_is_turned_into_sentence".Humanize();<br/>//"Underscored input string is turned into sentence</span><span id="8b5c" class="mk kz in mg b gy mp mm l mn mo">"Underscored_input_String_is_turned_INTO_sentence".Humanize();<br/>//Underscored input String is turned INTO sentence</span></pre><p id="c153" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">可以将字符串转换成大写、小写、大写、首字母:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a997" class="mk kz in mg b gy ml mm l mn mo">"Sentence casing".Transform(To.LowerCase);//sentence casing</span><span id="cfc1" class="mk kz in mg b gy mp mm l mn mo">"Sentence casing".Transform(To.SentenceCase); //Sentence casing</span><span id="c76e" class="mk kz in mg b gy mp mm l mn mo">"Sentence casing".Transform(To.TitleCase); //Sentence Casing</span><span id="3458" class="mk kz in mg b gy mp mm l mn mo">"Sentence casing".Transform(To.UpperCase); //SENTENCE CASING</span></pre><h1 id="db3b" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">折叠字符串</strong></h1><p id="4864" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">为了显示长信息，我们通常会编写一个函数来切割字符串，然后以一个… Humanizer 有一个内置函数支持这一点。我们也可以减少字符或单词的数量</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="d44d" class="mk kz in mg b gy ml mm l mn mo">"Long text to truncate".Truncate(10, Truncator.FixedLength); <br/>//Cut 10 characters <br/>//Long text…</span><span id="b976" class="mk kz in mg b gy mp mm l mn mo">"Long text to truncate".Truncate(2, Truncator.FixedNumberOfWords); //Cut 2 characters<br/>//Long text…</span></pre><h1 id="24d4" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">将枚举转换为有意义的字符串</h1><p id="1b48" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">对于一些长的枚举，我们经常使用注释将其转换成有意义的字符串。人性化处理这个非常容易。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="fb59" class="mk kz in mg b gy ml mm l mn mo">public enum EnumUnderTest<br/>{<br/>     [Description (Custom description)]<br/>     MemberWithDescriptionAttribute,<br/>     MemberWithoutDescriptionAttribute,<br/>}<br/> <br/>// If DescriptionAttribute, read the word Attribute<br/>EnumUnderTest.MemberWithDescriptionAttribute.Humanize (); // Custom description</span><span id="b8b1" class="mk kz in mg b gy mp mm l mn mo">// If not, convert enum to string<br/>EnumUnderTest.MemberWithoutDescriptionAttribute.Humanize (); // Member without description attribute</span></pre><h1 id="5128" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">处理日期时间</h1><p id="124f" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">你想做的功能，计算时间发表评论像脸书(1 小时前，2 小时前，等等。).</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="12f6" class="mk kz in mg b gy ml mm l mn mo">Thread.CurrentThread.CurrentUICulture = new CultureInfo ("en-VN"); // Set Vietnamese language<br/> <br/>DateTime.UtcNow.AddHours (-30) .Humanize (); // "yesterday<br/>DateTime.UtcNow.AddHours (-60) .Humanize (); //"2 days ago<br/> <br/>DateTime.UtcNow.AddHours (2) .Humanize (); // 2 hours<br/>DateTime.UtcNow.AddDays (1) .Humanize (); //Tomorrow</span></pre><h1 id="7607" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">处理时间跨度</h1><p id="f5e1" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">TimeSpan 处理功能差不多，英语和越南语都运行的很好。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="2c44" class="mk kz in mg b gy ml mm l mn mo">TimeSpan.FromMilliseconds(2).Humanize(); //2 milliseconds<br/>TimeSpan.FromDays(1).Humanize(); //1 day<br/>TimeSpan.FromDays(16).Humanize(); //2 weeks<br/> <br/>// By default, the Humanize () function will give the largest unit (year-&amp;amp;gt; month -&amp;amp;gt; ...).</span><span id="07d5" class="mk kz in mg b gy mp mm l mn mo">// We pass more parameters to display the smaller units<br/>TimeSpan.FromMilliseconds(1299630020).Humanize(); //2 weeks<br/>TimeSpan.FromMilliseconds(1299630020).Humanize(3); //2 weeks, 1 day, 1 hour<br/>TimeSpan.FromMilliseconds(1299630020).Humanize(4); //2 weeks, 1 day, 1 hour, 30 seconds</span></pre><p id="244e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">将数字转换成单词(仅限英语)</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="79f1" class="mk kz in mg b gy ml mm l mn mo">1.ToWords(); //one</span><span id="3da0" class="mk kz in mg b gy mp mm l mn mo">10.ToWords(); //ten</span><span id="25c7" class="mk kz in mg b gy mp mm l mn mo">11.ToWords(); //eleven</span><span id="298c" class="mk kz in mg b gy mp mm l mn mo">122.ToWords(); //one hundred and twenty-two</span><span id="320d" class="mk kz in mg b gy mp mm l mn mo">3501.ToWords(); //three thousand five hundred and one</span></pre><h1 id="dd31" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">处理文件大小(相当不错)</h1><p id="6a44" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">Humanizer 允许轻松处理与文件大小(KB、MB、GB、…)相关的数据:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="14ba" class="mk kz in mg b gy ml mm l mn mo"><strong class="mg io">var</strong> <!-- -->fileSize = (10).Kilobytes();</span><span id="bad2" class="mk kz in mg b gy mp mm l mn mo">fileSize.Bits      =&amp;amp;gt; 81920</span><span id="bcbf" class="mk kz in mg b gy mp mm l mn mo">fileSize.Bytes     =&amp;amp;gt; 10240</span><span id="3829" class="mk kz in mg b gy mp mm l mn mo">fileSize.Kilobytes =&amp;amp;gt; 10</span><span id="d0d1" class="mk kz in mg b gy mp mm l mn mo">// We can add and subtract file size<br/><strong class="mg io">var</strong> <!-- -->total = (10).Gigabytes() + (512).Megabytes() - (2.5).Gigabytes();</span><span id="932c" class="mk kz in mg b gy mp mm l mn mo">// Display as text<br/>7.Bits().ToString();        // 7 b<br/>8.Bits().ToString();        // 1 B<br/>(.5).Kilobytes().Humanize();  // 512 B<br/>(1000).Kilobytes().ToString(); // 1000 KB<br/>(1024).Kilobytes().Humanize(); // 1 MB</span><span id="1008" class="mk kz in mg b gy mp mm l mn mo">// Parse backwards from the text (Not case sensitive)</span><span id="8886" class="mk kz in mg b gy mp mm l mn mo">ByteSize.Parse("1.55 mB");</span><span id="383a" class="mk kz in mg b gy mp mm l mn mo">ByteSize.Parse("1.55 mb");</span><span id="eaae" class="mk kz in mg b gy mp mm l mn mo">ByteSize.Parse("1.55 GB");</span><span id="c627" class="mk kz in mg b gy mp mm l mn mo">ByteSize.Parse("1.55 gB");</span><span id="5929" class="mk kz in mg b gy mp mm l mn mo">ByteSize.Parse("1.55 gb");</span><span id="fea7" class="mk kz in mg b gy mp mm l mn mo">ByteSize.Parse("1.55 TB");</span></pre><p id="8b8b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本文的范围内，我只是介绍了 Humanizer 的一些突出特性。你可以在这里找到更多:<a class="ae jz" href="https://github.com/MehdiK/Humanizer" rel="noopener ugc nofollow" target="_blank">https://github.com/MehdiK/Humanizer</a>。</p><p id="7d0a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">再次见到你。</p></div></div>    
</body>
</html>