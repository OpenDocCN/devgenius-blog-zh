<html>
<head>
<title>Dimensional modeling in data warehouse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据仓库中的维度建模</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/dimensional-modeling-in-data-warehouse-10f7c776d29a?source=collection_archive---------6-----------------------#2022-09-12">https://blog.devgenius.io/dimensional-modeling-in-data-warehouse-10f7c776d29a?source=collection_archive---------6-----------------------#2022-09-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/fa376504138787ae9c93e19cd7beee43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Mxfu2Mm_1CXfna16SKX6w.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片 1.1</figcaption></figure><h1 id="b539" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">数据仓库定义</h1><p id="0dfc" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="kz io">数据仓库</strong>有多种定义，目前最重要的两种定义是:</p><ul class=""><li id="0938" class="lv lw in kz b la lx le ly li lz lm ma lq mb lu mc md me mf bi translated">数据仓库的定义由<a class="ae mg" href="https://en.wikipedia.org/wiki/Ralph_Kimball" rel="noopener ugc nofollow" target="_blank"> Ralph Kimball </a></li></ul><blockquote class="mh mi mj"><p id="4a9f" class="kx ky mk kz b la lx lc ld le ly lg lh ml mm lk ll mn mo lo lp mp mq ls lt lu ig bi translated">数据仓库是专门为查询和分析而构建的事务数据的副本。</p></blockquote><ul class=""><li id="cba7" class="lv lw in kz b la lx le ly li lz lm ma lq mb lu mc md me mf bi translated"><a class="ae mg" href="https://en.wikipedia.org/wiki/Bill_Inmon" rel="noopener ugc nofollow" target="_blank">比尔·恩门</a>对数据仓库的定义</li></ul><blockquote class="mh mi mj"><p id="c6ae" class="kx ky mk kz b la lx lc ld le ly lg lh ml mm lk ll mn mo lo lp mp mq ls lt lu ig bi translated">数据仓库是一个存储库(数据和元数据),它包含来自决策支持应用程序的不同来源的集成、清理和协调的数据，重点是在线分析处理。通常，数据是多维的、历史的、非易失的。</p></blockquote><p id="7182" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">哪个更好？直到今天，我们也不知道哪种方法更好，似乎两者都是同样好的。如果你对比较这两种方法感兴趣，我鼓励你阅读这篇文章</p><h1 id="e74d" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">维度建模</h1><p id="99ee" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">维度建模是数据仓库中组织数据的方法。</p><p id="a2e4" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">尺寸建模中最重要的步骤是识别<strong class="kz io">事实</strong>和<strong class="kz io">尺寸。</strong></p><p id="b97b" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated"><strong class="kz io">事实</strong>是公司的关键衡量指标，通常可以汇总<em class="mk">(总收入、产品销售量、日期、产品 id、客户 id) </em></p><p id="3317" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated"><strong class="kz io">维度</strong>对事实进行分类，支持对数据进行分组或过滤<em class="mk">(产品名称、产品品牌、客户名称、客户国家)</em></p><p id="feed" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">让我们看看下面的<strong class="kz io">销售表</strong>示例:</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/ab360cf529e53de390b0b5d92df662c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6fAGSAsxgQh1vxFkVE-SHQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">表 1.1</figcaption></figure><h2 id="2f04" class="mw ka in bd kb mx my dn kf mz na dp kj li nb nc kn lm nd ne kr lq nf ng kv nh bi translated">问题</h2><p id="f27c" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">您如何将此表分为事实和维度？</p><h2 id="d922" class="mw ka in bd kb mx my dn kf mz na dp kj li nb nc kn lm nd ne kr lq nf ng kv nh bi translated">解决办法</h2><p id="6736" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">事实:</p><ul class=""><li id="8b92" class="lv lw in kz b la lx le ly li lz lm ma lq mb lu mc md me mf bi translated">交易标识</li><li id="423f" class="lv lw in kz b la ni le nj li nk lm nl lq nm lu mc md me mf bi translated">日期</li><li id="0f9a" class="lv lw in kz b la ni le nj li nk lm nl lq nm lu mc md me mf bi translated">客户标识</li><li id="a549" class="lv lw in kz b la ni le nj li nk lm nl lq nm lu mc md me mf bi translated">产品标识</li><li id="4e30" class="lv lw in kz b la ni le nj li nk lm nl lq nm lu mc md me mf bi translated">产品 _ 价格</li></ul><p id="d191" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">尺寸:</p><ul class=""><li id="3218" class="lv lw in kz b la lx le ly li lz lm ma lq mb lu mc md me mf bi translated">客户名称</li><li id="2e69" class="lv lw in kz b la ni le nj li nk lm nl lq nm lu mc md me mf bi translated">产品名称</li><li id="3db6" class="lv lw in kz b la ni le nj li nk lm nl lq nm lu mc md me mf bi translated">产品 _ 品牌</li></ul><p id="abc8" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">但是我们为什么要这么做呢？答案很简单——<strong class="kz io">避免数据冗余。</strong></p><p id="6766" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">让我举例说明一下，我们还有一小部分<strong class="kz io">销售表</strong>。</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/ab360cf529e53de390b0b5d92df662c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6fAGSAsxgQh1vxFkVE-SHQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">表 1.2</figcaption></figure><p id="2451" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">让我们关注列<strong class="kz io">customer _ name</strong>—客户杰克博·布莱尔有两笔交易—他购买了笔记本电脑和耳机。在<strong class="kz io">销售表</strong>中存储客户姓名，任何时候客户进行交易都是非常低效的，不是吗？最好创建名为<strong class="kz io"> customerDim </strong>的<strong class="kz io">维度</strong>，并将所有分类客户数据保存在这里。完成后，列<strong class="kz io"> customer_name </strong>可以很容易地从销售表中删除。</p><p id="b469" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">这就是它现在的样子:</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/c496497a6af5077b9d71f780936827d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-379f5bwug0xpcu7bLmfnA.png"/></div></div></figure><p id="ac29" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">太好了！但是我们可以做得更好。现在让我们关注列<strong class="kz io"> product_name- </strong>中的重复值。我们可以看到耳机倾向于出现 3 次，笔记本电脑出现 2 次。</p><p id="2ed5" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">同样，将它存储在销售表中是非常低效的，那么我们该怎么办呢？</p><p id="ca3c" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">在我们做任何事情之前，看看列<strong class="kz io">产品品牌，</strong>，它也包含重复。</p><p id="db83" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">由于<strong class="kz io">产品名称</strong>和<strong class="kz io">产品品牌</strong>属于描述<strong class="kz io">产品</strong>的相同分类特征，我们将它们分组到下一个维度的一个表中！姑且称之为 p<strong class="kz io">product dim 吧。</strong>现在<strong class="kz io">产品名称</strong>和<strong class="kz io">产品品牌</strong>列可以很容易地从销售表中删除。</p><p id="2e5b" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">快速浏览我们的桌子:</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/3a745e7701ced841fed1515e747a0c27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUXVb7bkVMwo2btYRqIyMw.png"/></div></div></figure><p id="0d5a" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">上面实现的模式称为<strong class="kz io">星型模式</strong> ( <em class="mk">一个或多个事实表引用任意数量的维度表</em>)，是<strong class="kz io">雪花模式</strong>的特例。</p><h1 id="1390" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">摘要</h1><p id="71ac" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">正如你所看到的，维度建模是本能的，当然我上面提出的问题很简单，但在我看来，它完美地反映了本质。</p><h1 id="1a33" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">哪里走得更远？</h1><p id="6999" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">以下是一些绝对值得一看的资料来源:</p><p id="aef1" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated">Ralph Kimball 的《数据仓库工具包:维度建模完全指南》</p><p id="7431" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li mm lk ll lm mo lo lp lq mq ls lt lu ig bi translated"><a class="ae mg" href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/" rel="noopener ugc nofollow" target="_blank">数据仓库——尼古拉·舒勒的终极指南</a>伟大历程</p></div></div>    
</body>
</html>