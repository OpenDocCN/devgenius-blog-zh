# 在提交之前，一定要做好这八件事

> 原文：<https://blog.devgenius.io/always-do-these-eight-things-before-pushing-a-commit-32e6e147441f?source=collection_archive---------12----------------------->

提交代码以供评审可能是一件令人头疼的事情，尤其是如果你处于编码生涯的早期，或者刚进入一家需要代码评审过程的大公司。

有一个开发职业和从事副业是完全不同的两件事。如果你正在做你自己的项目，有一个想法，拼凑一些代码，然后把它推上来是很容易的。没有人在乎，生活很简单。当你的工作是编码时，你的代码可能对公司的底线或客户的体验有切实的影响。这通常意味着您的代码在实际投入生产之前将被更彻底地审查。

这就是为什么在按下 GitHub 上的绿色大按钮之前，进行自己的代码审查是非常重要的。在提交下一篇代码之前，请尝试以下步骤。它们不仅会让你看起来像个英雄，还会为你和评论者节省宝贵的时间，这对你的职业生涯非常有益。

在你开始编码之前，阅读并理解你被要求完成的任务的需求。如果你不完全明白你应该做什么，花些时间问问题。花 10 分钟问问题将会节省你在后台尝试修改基于假设编写的代码的时间。

好的，所有的要求都想好了吗？接下来，确保您已经为运行代码和调试建立了开发空间。没有人能写出完美的代码而不不断尝试和迭代变化。找出设置本地环境的最有效方法，这样您就可以编写代码、尝试代码、快速失败并继续前进，而不会浪费大量时间。

编写代码时，如果代码很复杂或者需要解释，请使用描述性的变量名并在需要的地方添加注释。注释对于将来从事你的项目的开发人员是有用的，对于评审人员也是有用的，这样他们在评审代码的时候就能真正理解你的方法。

在编写代码的同时，您也应该为您的代码编写测试。这里有一条编写测试的经验法则。

当你写的时候，自然会有一些地方你需要运行代码来看看它是否如预期的那样工作。这些点也是最好的测试场景。不要转储调试语句来查看您的代码是否产生正确的结果，而是编写一个单元测试，如果它返回预期的结果，则通过测试。当你完成编码的时候，你已经有了大量的测试来证明代码的功能。

好了，现在您已经完成了编写，但是在您提交您的更改之前，在您实际提交您的拉取请求之前还有几个步骤。

首先，也是最重要的，您的代码实际上解决了请求中描述的问题吗？这似乎是一个愚蠢的问题，但是很容易忘记请求的细节，错过更好的细节。字面意思，回到票上再读一遍。你的代码真的解决了问题吗？

接下来，在别人之前做你自己的代码审查。检查基本的东西。你把调试日志语句留在代码里了吗？你的变量名是描述性的吗？你的函数名有意义吗？你把所有的标签和空格都整理好了吗？

接下来，尝试破解你的代码。不要等着 QA 去找那个边缘案例。为每个人节省一些时间，并批判性地思考什么可能会破坏您的实现。每个人的代码都是不同的，但是因为你刚刚写了它，你可能最了解什么可能会破坏它。请记住，最终用户不会总是完全按照您的意图使用您的工具，因此可以随意添加一些东西，确保它仍然可以工作。

当你在做的时候，那些类型的边缘案例也是很好的自动化测试案例。你可能也想把它们写成测试。

最后，你工作的代码库已经有自动化测试套件了吗？如果是这样，运行测试并确保一切都通过。

好了，现在终于到时间了。推进你的变更，提交你的 PR，并且确信你已经做了你力所能及的一切来提交你可能产生的最好的代码。如果一切顺利，你将收到的唯一反馈是“LGTM”！

![](img/6ec1e18e55cb7dbc5e2454dc770dab63.png)