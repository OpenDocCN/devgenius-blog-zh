<html>
<head>
<title>Automating Fraud Risk Rule Recommendations with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 自动推荐欺诈风险规则</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/fraud-risk-rule-recommendations-with-python-fff2919fd35e?source=collection_archive---------7-----------------------#2022-04-10">https://blog.devgenius.io/fraud-risk-rule-recommendations-with-python-fff2919fd35e?source=collection_archive---------7-----------------------#2022-04-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="13cf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于欺诈书呆子的利基市场</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6bb79627cc90cd7c2c230d355b9e15da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hjXmbtTk-T557o16sHG3wQ.png"/></div></div></figure><h1 id="896b" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">我们谈谈吧</h1><p id="310b" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我也说不清我看了多少这样的中等帖子。每次我偶然发现一些 python 主题，很明显我想要作弊代码，都是相同的无聊故事。这是我们将要建立的，这是维基百科或 pypy 页面，一步一步来。没有前戏。没有积累。连意见都不多。我的意思是，这不应该是一个专栏，但给我一些东西。我们为什么会这样？</p><p id="58bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好吧，输入 Max。我不是典型的数据科学家。当然，我更喜欢尽可能高效地做事，但我喜欢一点娱乐。这就是为什么，如果你曾经读过我以前的帖子，我打字就像说话一样。但是少一些“兄弟”和脏话。</p><p id="d1eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好了，现在回到主题，用我能理解并喜欢阅读的话来说。</p><h2 id="8af0" class="lx kv in bd kw ly lz dn la ma mb dp le jv mc md li jz me mf lm kd mg mh lq mi bi translated">我们是 guna build…！！…一个没有机器学习的诈骗模型:)<strong class="ak">！</strong></h2><p id="10e9" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated"><strong class="jm io">我们需要什么？</strong></p><ol class=""><li id="0a7b" class="mj mk in jm b jn jo jr js jv ml jz mm kd mn kh mo mp mq mr bi translated">我们需要一些数据。因为我为这个人工作，我不能使用我所有的 PII 的数据。因此，我们将使用大多数公司都有的一些基本属性。</li><li id="18c0" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">一些图书馆。zzzZZzzZ</li><li id="1710" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">一些 Jupyter。zZZzZZZzzz</li><li id="db94" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">一些酒精。等等……什么？？</li><li id="ac02" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">一些图表。实际上这些很有趣。</li><li id="4ce6" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">和..需要在某个地方使用它…否则你为什么会在这里？你在跟踪我吗，兄弟？</li><li id="8df5" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">好了，够了。</li></ol><h1 id="eded" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">数据大家好</h1><p id="444d" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">你得到的只是一张截图——但是这张表的大意是它是<code class="fe mx my mz na b">user</code>数据。你们都知道那意味着什么。你在十亿个你不需要的应用程序中的一个上创建了帐户..现在你被总结为一个数字来表示应用程序。感觉不错。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/cac979f877990235ff28707de65fdf13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jRAsXP23eTmzHgwJA34Zhg.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">为什么在这里放大图像不再直观..字面谷歌如何增加图像尺寸。不管怎样，放大就行了。</figcaption></figure><p id="97cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好的，我们有大约一百万行，大约一个月的数据，我们有一个名为 is_softblocked 的目标，更改它以满足您的需要，函数很容易修改为您的目标，它只需要是一个二进制分类。并确保您要传递给下面函数的列是体面的特性。这里是其他人张贴维基百科页面或一些废话的地方。不。我不这么做。自己去发现什么是特色。没人付钱让我这么快就写出来。</p><h2 id="e277" class="lx kv in bd kw ly lz dn la ma mb dp le jv mc md li jz me mf lm kd mg mh lq mi bi translated">我使用的功能——看起来还不错吧？</h2><pre class="kj kk kl km gt ng na nh ni aw nj bi"><span id="b5a6" class="lx kv in na b gy nk nl l nm nn">'avg_posts_per_day'<br/>,'max_posts_per_day_bucket'<br/>,'days_since_registered_bucket'<br/>,'shortest_time_bt_posts_seconds_bucket'<br/>,'count_users_per_ip_bucket'<br/>,'count_dmas_bucket'<br/>,'device_type'<br/>,'is_emulator'<br/>,'mobile'<br/>,'organization' (isp)<br/>,'new_visitor'<br/>,'signup_method'<br/>,'os_type'</span></pre><p id="f2be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">哇哦<a class="no np ep" href="https://medium.com/u/504c7870fdb6?source=post_page-----fff2919fd35e--------------------------------" rel="noopener" target="_blank"> Medium </a>你的破应用要走的路——我试图弄乱图像大小，而你只是抛出这个红色错误，却忘了如何保存我的草稿。失败者。隐藏我的帖子。我谅你也不敢。</p><p id="3ff4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi nq translated">无论如何。</p><p id="4bf3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您将需要的贪睡节函数(修改变量和列以匹配您的数据):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">我不得不在谷歌上搜索^</figcaption></figure><p id="2f93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，上述所有函数将帮助您识别高风险行或低风险行。一个缺失的值代表熊猫的好运。</p><h2 id="8b32" class="lx kv in bd kw ly lz dn la ma mb dp le jv mc md li jz me mf lm kd mg mh lq mi bi translated">接下来实际上是用我们的数据调用这些函数。激动人心。</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="67d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我不太想解释…这是我和所有老板的主要问题。比如你就不能..想明白了吗？你知道，走管理路线的人和保持个人贡献的人之间的区别是自我。不，好吧，这可能是一点钱和一点谈话的乐趣。我对后者一无所知。打字不算。你不能把我误解成一个女孩，就像美国电话电报公司每次我和客户服务部谈话时那样。你说得对，有点愤懑。</p><h2 id="e4ab" class="lx kv in bd kw ly lz dn la ma mb dp le jv mc md li jz me mf lm kd mg mh lq mi bi translated">好的，应用这个函数应该会得到这样的结果:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/c8a94e96db8d9910ec0ba92033723316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bh7xMb8Jz3NHnc_9tUbbmg.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">还是小。抱歉。</figcaption></figure><p id="7230" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">列非常直观:</p><pre class="kj kk kl km gt ng na nh ni aw nj bi"><span id="d73a" class="lx kv in na b gy nk nl l nm nn">gruoupcols - list of attributes/features you used<br/>attr_1 - the actual attribute's data<br/>attr_2 - the second attr you used (if you passed n=2+<br/>pct of total softblocked - the % of total 1’s in your population<br/>not softblocked - 0s<br/>softblocked - 1s<br/>softblocked rate - rate...<br/>total - total...<br/>fpr - false postivies</span></pre><h1 id="903d" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">现在是最精彩的部分——图表！</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="9c47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">上面的代码会给你这样的东西:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/553453068d221dd358aede9d6cde0178.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cS11M-lSLEApc4r8iW0P1A.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">每个规则建议都是一个分散点。向右上方是目标。</figcaption></figure><p id="e013" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面有一个小小的柱状图，上面写着<code class="fe mx my mz na b">plotly</code>爱图书馆。但以上只是单属性规则。通常不会超级有帮助。您需要迭代一个列列表，并传入 N 列进行迭代(2、3、4 等。)在 4 之后变得相当计算繁重。给聪明人的一句话。</p><h2 id="4b44" class="lx kv in bd kw ly lz dn la ma mb dp le jv mc md li jz me mf lm kd mg mh lq mi bi translated">现在针对 2 个属性组合:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/432e5f996fcf8be118b46fd8cf544e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v4pyaXmH-RHMMqHNV_ORKw.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">太漂亮了</figcaption></figure><p id="fd1a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我在图中添加了一个颜色变量，以查看实际的属性组合分组。如果你问我，我会觉得很有帮助。</p><p id="e698" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi nq translated">很快——自动化将是下一个部分。但是有很多方法可以实现这种自动化——cron、airflow、一些 bi 工具等等。总的想法是让类似这样的东西按照某个时间表运行..可能是每天或每周，生成表格—存储表格以便于查询，然后在其他脚本(可能是 ML)中使用表格的结果，或者将其传递给策略团队，他们可以在您的风险引擎中对其进行编码。</p><p id="d115" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但相信我，你的老板应该关心的是对提议规则的分析。测试和部署可能是你口中说出的最没意思的事情。尽量保持高水平。更少的话语能走得更远。不客气</p><p id="34a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"><em class="oe">*我相信我会收到你的电子邮件，告诉我代码中的某些东西是什么，或者我为什么这样做。我不在乎预测你的问题，所以让我们有它。</em> </strong></p><p id="bc13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好的，就这样。怎么样，妈妈？太磨人？还在努力。</p><p id="e7e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最好的，</p><p id="b7a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最大</p></div></div>    
</body>
</html>