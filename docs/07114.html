<html>
<head>
<title>7 JavaScript One-Liners That Are Insanely Useful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7 个非常有用的 JavaScript 一行程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/7-javascript-one-liners-that-are-insanely-useful-705b520b9160?source=collection_archive---------3-----------------------#2022-02-27">https://blog.devgenius.io/7-javascript-one-liners-that-are-insanely-useful-705b520b9160?source=collection_archive---------3-----------------------#2022-02-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="27eb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">每个 JavaScript 开发人员都应该知道的强大的一行程序列表。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/07d8c7ff7780946e47ba0772c8e33c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uiE7B_WzhaxlymGw"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a237" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如今，JavaScript 是网络上的头号编程语言。同时，它是一种很棒的脚本语言，可以让我们让网络变得更加互动和动态。</p><p id="0cb5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种语言可以用于不同的目的，比如 web 开发、移动开发和游戏开发。在某些情况下，它甚至可以用于人工智能和机器学习。所有这些都有我们可以使用的库和框架的力量。</p><p id="aaf9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编写 JavaScript 代码并不像看起来那么困难，代码语法非常简单，易于理解。你只需要写干净的代码，这种语言现在有很多新的特性，使得用更少的代码完成更多的事情变得更加容易。</p><p id="d1ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是的，更少的代码或短代码并不总是意味着它是干净的方式或最好的方法。但在很多情况下，那会让你写代码更快，看起来像个专业人士哈哈，而且你的代码将来很容易重构。</p><p id="c2fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是为什么在本文中，我想与您分享一些有用的 JavaScript 一行程序，您可以在您的下一个项目中使用它们。所以让我们开始吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1b69" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">1.获取网页上的用户选择</h1><p id="d210" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果您想获得用户在 web 页面上选择或高亮显示的文本，有一个有用的命令行程序。</p><p id="e373" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是通过使用 JavaScript 方法<code class="fe mw mx my mz b"><strong class="ky ir">getSelection()</strong></code> <strong class="ky ir"> </strong>。方法返回用户使用鼠标突出显示的文本。只需确保在方法<code class="fe mw mx my mz b">toString</code>之后使用<code class="fe mw mx my mz b">getSelection</code>，这样就可以以字符串的形式获取选定的文本。</p><p id="9303" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="4b99" class="ne ma iq mz b gy nf ng l nh ni">const getSelectedTxt = () =&gt; <strong class="mz ir">window.getSelection().toString()</strong>;</span><span id="2937" class="ne ma iq mz b gy nj ng l nh ni">console.log(<!-- -->getSelectedTxt()); <em class="nk">// "lorem ipsum dolor"</em></span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7fa0" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">2.滚动到顶部在线</h1><p id="015d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在 JavaScript 中，有一个叫做<code class="fe mw mx my mz b">scrollTo(x, y)</code>的方法，它允许你滚动到一组特定的坐标。</p><p id="6369" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该方法接受两个参数(横轴的像素:<code class="fe mw mx my mz b">x</code>，纵轴的像素:<code class="fe mw mx my mz b">y</code>)。</p><p id="cf61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了滚动到文档的顶部，只需要将两个坐标的值都设置为 0。</p><p id="d01f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="060f" class="ne ma iq mz b gy nf ng l nh ni">const scrollToTop = () =&gt; <strong class="mz ir">window.scrollTo(0, 0)</strong>;</span></pre><p id="8b62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想有一个流畅的滚动动画，只需这样做:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="0a4e" class="ne ma iq mz b gy nf ng l nh ni">const Top =() =&gt; <strong class="mz ir">window.scrollTo({top: 0, behavior: 'smooth'})</strong>;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b0bc" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">3.字符串中特定字符的数量</h1><p id="3cf3" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">为了使用一行程序轻松获得字符串中特定字符的计数，我们可以使用带有<code class="fe mw mx my mz b">length</code>属性的 JavaScript 方法<code class="fe mw mx my mz b">split()</code>。</p><p id="df07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看下面的代码示例:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="e06a" class="ne ma iq mz b gy nf ng l nh ni">let str = "javascript";</span><span id="17c2" class="ne ma iq mz b gy nj ng l nh ni">const charCount = (str, char) =&gt; <strong class="mz ir">str.split(char).length - 1</strong>;</span><span id="e9d1" class="ne ma iq mz b gy nj ng l nh ni">charCount(str, "a"); //returns 2 (there two "a" in the string "javaScript").</span></pre><p id="caae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，为了获得字符串中特定字符的数量，我们使用参数<code class="fe mw mx my mz b">char</code>分割字符串，然后我们使用数组的属性<code class="fe mw mx my mz b">length</code>减去数字 1，因为索引计数总是从 0 开始。</p><p id="5ed4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以上面的例子让我们知道在字符串<code class="fe mw mx my mz b">str</code>中有多少个<code class="fe mw mx my mz b">a </code>字符。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="eac8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">4.轻松检测黑暗模式</h1><p id="9cd5" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果您正在寻找一个 JavaScript 一行程序来检测页面上是否启用了黑暗模式，您可以使用方法<code class="fe mw mx my mz b">matchMedia</code>。</p><p id="a154" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看下面的代码示例:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="d87a" class="ne ma iq mz b gy nf ng l nh ni">const darkMode = <strong class="mz ir">window.matchMedia</strong> &amp;&amp; <strong class="mz ir">window.matchMedia('(prefers-color-scheme: dark)').matches;</strong></span></pre><p id="1029" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果浏览器启用了黑暗模式，这个一行程序将返回 true。否则，它返回 false。JavaScript 中的逻辑 AND(&amp;&amp;)运算符允许这样做。所以这是一种检测黑暗模式的简单方法，不是吗？</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ade7" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">5.检测互联网带宽</h1><p id="15ac" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">互联网带宽基本上是在特定时间段内通过互联网连接传输的数据量。</p><p id="f1e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了方便地检测网络带宽，我们需要使用 navigator 对象。</p><p id="4be3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="a2b3" class="ne ma iq mz b gy nf ng l nh ni"><strong class="mz ir">navigator.connection.downlink;</strong></span></pre><p id="2a86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nk">输出:</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/b45110fbcfa604f57e0ba0de63fffd6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*PdLaM0ibuQRQh7K9IzPg6Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">由作者从浏览器控制台捕获。</figcaption></figure><p id="0cf9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，我们使用了名为<code class="fe mw mx my mz b">downlink</code>的 navigator 对象的属性。这个属性返回每秒兆比特的带宽。以上，我拿到了 5.65，你也可以在你的浏览器控制台上试试。根据您的浏览器和互联网速度，您可能会得到不同的值。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="aaf1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">6.展平数组</h1><p id="bc94" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">JavaScript 中的方法<code class="fe mw mx my mz b">flat()</code>允许您使用一行代码轻松展平数组。</p><p id="02ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该方法采用一个可选的数字参数:展平级别(1 倍、2 倍、3 倍等)。</p><p id="2f77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看下面的代码示例:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="3f02" class="ne ma iq mz b gy nf ng l nh ni">let numberArray = [7, <strong class="mz ir">[55</strong>, 9<strong class="mz ir">]</strong>, <strong class="mz ir">[</strong>7, 3<strong class="mz ir">]</strong>, 2];<br/>numberArray.<strong class="mz ir">flat()</strong>; <em class="nk">//returns [7, 55, 9, 7, 3, 2]</em></span><span id="5ffc" class="ne ma iq mz b gy nj ng l nh ni">let twoLevel = ["Hi", [6, [5, 9], "Java"], 99];<br/>twoLevel.<strong class="mz ir">flat(2)</strong>; <em class="nk">//returns ['Hi', 6, 5, 9, 'Java', 99]</em></span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="fc37" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">7.URL 重定向</h1><p id="2ebb" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在某些情况下，当用户试图访问您的站点或 web 应用程序上的特定页面时，您可能希望将他们重定向到另一个 URL。下面的 JavaScript 一行程序可以帮助您实现这一点。</p><p id="1190" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="dfa4" class="ne ma iq mz b gy nf ng l nh ni">const urlRedirect = url =&gt; <strong class="mz ir">location.href = url;</strong></span><span id="1cdc" class="ne ma iq mz b gy nj ng l nh ni">urlRedirect("https://medium.com");</span></pre><p id="beba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您只需要使用 location 对象中的属性<code class="fe mw mx my mz b">href</code>并将 URL 参数分配给它。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b252" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="e093" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">正如您所看到的，这是一个 JavaScript 一行程序的小列表，它允许您只用一行代码就完成有用的事情。并非所有浏览器都支持这些一行程序的某些特性，尤其是旧版本。然而，如果您想更快地编写代码并保持代码简短，那么一行程序非常有用。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="8733" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nk">感谢您阅读本文。此外，如果您发现我的内容有用，并且您不是媒体会员，您可以在此处获取您的媒体会员资格</em><a class="ae kv" href="https://mehdiouss.medium.com/membership" rel="noopener"><em class="nk"/></a><em class="nk">(媒体推荐链接)以无限制访问媒体上的所有文章，并支持我们作为作者。</em></p><div class="nm nn gp gr no np"><a href="https://mehdiouss.medium.com/membership" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">通过我的推荐链接加入 Medium-Mehdi Aoussiad</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">mehdiouss.medium.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od kp np"/></div></div></a></div><p id="5a4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">延伸阅读:</strong></p><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/10-useful-html-features-that-you-probably-dont-know-c5878cf34506"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">你可能不知道的 10 个有用的 HTML 特性</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">每个开发人员都应该知道的很棒的 HTML 特性。</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">blog.devgenius.io</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od kp np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/11-amazing-frontend-development-tools-that-you-should-use-in-2022-b12c64caa346"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">你应该在 2022 年使用的 11 个惊人的前端开发工具</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">2022 年每个前端开发者应该使用的有用工具列表。</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">blog.devgenius.io</p></div></div><div class="ny l"><div class="of l oa ob oc ny od kp np"/></div></div></a></div></div></div>    
</body>
</html>