<html>
<head>
<title>Google Natural Language API — Google NLP Project with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google 自然语言 API——使用 Python 的 Google NLP 项目</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/google-natural-language-api-google-nlp-project-with-python-becb21150805?source=collection_archive---------5-----------------------#2022-04-17">https://blog.devgenius.io/google-natural-language-api-google-nlp-project-with-python-becb21150805?source=collection_archive---------5-----------------------#2022-04-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3572abd5fcd76c5823f7a3b6698550e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0lksMBfFyIgDL15o.png"/></div></div></figure><h1 id="2899" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="c672" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">谷歌提供了一个强大的基于云的 API 来从非结构化数据中提取见解。分析文章的句法和语义成分。提取关于人、地点、事件等的信息。典型的数据源可以是任何东西——博客、新闻、社交网络——你能想到的。该 API 包含了六种旨在解决常见 NLP 任务的方法。让我们看看这些是什么。</p><h1 id="6b55" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">API 概述</h1><ol class=""><li id="41fd" class="lu lv iq ky b kz la ld le lh lw ll lx lp ly lt lz ma mb mc bi translated">analyzeEntities —查找实体、它们的<strong class="ky ir">类型</strong>、显著性(重要性)和其他元数据。</li><li id="bef8" class="lu lv iq ky b kz md ld me lh mf ll mg lp mh lt lz ma mb mc bi translated">analyzeEntitySentiment 返回实体及其<strong class="ky ir">情感</strong>。</li><li id="7cf2" class="lu lv iq ky b kz md ld me lh mf ll mg lp mh lt lz ma mb mc bi translated">分析情感—定义整个文本的情感。</li><li id="d32f" class="lu lv iq ky b kz md ld me lh mf ll mg lp mh lt lz ma mb mc bi translated">analyzeSyntax 返回标记化的文本。</li><li id="c82d" class="lu lv iq ky b kz md ld me lh mf ll mg lp mh lt lz ma mb mc bi translated">annotateText —在单个调用中调用方法 1、3、4。</li><li id="1c91" class="lu lv iq ky b kz md ld me lh mf ll mg lp mh lt lz ma mb mc bi translated">classifyText —指定一个具有<a class="ae mi" href="https://cloud.google.com/natural-language/docs/categories" rel="noopener ugc nofollow" target="_blank">类别</a>的文本。</li></ol><p id="af13" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">API 支持相当多的<a class="ae mi" href="https://cloud.google.com/natural-language/docs/languages" rel="noopener ugc nofollow" target="_blank">语言</a>，但是这取决于方法。</p><h1 id="84dc" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">先决条件</h1><p id="6d02" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">让我们来测试一下 API。从激活你的<a class="ae mi" href="https://console.developers.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌云</a>账户开始，零成本，不费吹灰之力。</p><p id="b1ee" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">不用担心，超过免费试用额度不会收费。</p><p id="f379" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">接下来，在搜索栏中，键入“服务帐户”。指定名称并点击“完成”。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/29ac3d3a174762c8198d8c00fea6a6f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*uM-zzbsE__CsUzmI81_vvA.png"/></div></figure><p id="be8b" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">是时候创建一个稍后将用于访问我们的 API 的密钥了。</p><p id="bf53" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">打开服务帐户菜单，单击“密钥”选项卡。在“添加密钥”下拉菜单中，点击“创建新密钥”以生成您的访问令牌。嘘，这是个秘密。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/1d449255ca637b775a156deed9ac4127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*jUI76dd6vfTPyFLmXtq7Sg.png"/></div></figure><p id="2e88" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">好消息是，我们几乎完成了设置。</p><p id="fcde" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">将密钥作为 JSON 文件下载到您的本地机器上。然后在搜索栏输入“语言”，选择服务“云自然语言 API”。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/83aaa9dc01959163f7743d3139972ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LNgcquz0RIGupjxHdTi5WA.png"/></div></div></figure><p id="006f" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在，该编码了。</p><h1 id="1a0a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用 API</h1><p id="981f" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">打开你最喜欢的 Python IDE，安装谷歌云 NLP 库，导入必要的包。</p><p id="5797" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">接下来，用之前保存的密钥初始化一个名为“GOOGLE_APPLICATION_CREDENTIALS”的环境变量。</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="0e64" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">我们将定义一些方法来包装 API 的功能和格式化控制台输出。让我们从分析文章的整体情绪开始。</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="b978" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">输出将是</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="81b2" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">这意味着高情感分数(接近 1)和强幅度。事实上，数字结果准确地描述了文章的情感肖像。</p><p id="73f7" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">有关 API 返回的内容的更多详细信息，请参考<a class="ae mi" href="https://cloud.google.com/natural-language/docs/basics#interpreting_sentiment_analysis_values" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="7c14" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">每个实体都持有自己的观点。你可以这样找到它:</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="c630" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在，让我们看看如何对实体进行分类和分析:</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="0cce" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">你可以这样对整篇文章进行分类:</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="f6ee" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">分析看起来很公平。它输出所有类别，文章以指定的置信度与这些类别相切。</p><h1 id="f163" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论</h1><p id="7629" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">本文给出了 Google 自然语言 API 的概述，并提供了几个如何将其付诸实践的例子。</p><p id="1571" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated"><em class="mx">本文代码笔记本</em> <a class="ae mi" href="https://github.com/Vice10/ds_notebooks/blob/main/google_language_api.ipynb" rel="noopener ugc nofollow" target="_blank"> <em class="mx">此处</em> </a> <em class="mx">。</em></p></div></div>    
</body>
</html>