<html>
<head>
<title>JavaScript Tips — Randomness and Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript技巧——随机性和数组</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/javascript-tips-randomness-and-arrays-226526764f5e?source=collection_archive---------8-----------------------#2020-08-04">https://blog.devgenius.io/javascript-tips-randomness-and-arrays-226526764f5e?source=collection_archive---------8-----------------------#2020-08-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b21f5231714709f92df163c596a86bd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WgcLxVfiQbfpEiHn"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@brett_jordan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布雷特·乔丹</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="16c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些在编写JavaScript代码时应该遵循的技巧。</p><h1 id="6a59" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">获取特定范围内的随机数</strong></h1><p id="327b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Math.random()</code>方法从指定的范围内得到一个随机数。</p><p id="3d47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0b58" class="mq lc iq mh b gy mr ms l mt mu">const min = 2;<br/>condt max = 10;<br/>const x = Math.floor(Math.random() * (max - min + 1)) + min;</span></pre><p id="1cd8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为<code class="fe me mf mg mh b">Math.random()</code>只返回一个0到1之间的数字，我们必须用<code class="fe me mf mg mh b">max — min + 1</code>乘以它返回的数字。</p><p id="77b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们把它加到<code class="fe me mf mg mh b">min</code>上，使它在范围内。</p><h1 id="0efa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">生成一个从0到最大的数字数组</strong></h1><p id="740d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用for循环来创建一个数字数组。</p><p id="e7b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0ba7" class="mq lc iq mh b gy mr ms l mt mu">let numbersArray = [] , max = 100;</span><span id="d444" class="mq lc iq mh b gy mv ms l mt mu">for (let i = 1; numbersArray.push(i++) &lt; max);</span></pre><p id="1d9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">for</code>循环在每次迭代中使<code class="fe me mf mg mh b">i</code>增加1。</p><p id="4e6f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们以到达<code class="fe me mf mg mh b">max — 1</code>结束。</p><p id="795f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">i++</code>递增并返回我们返回的数字。</p><h1 id="1812" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">生成一组随机的字母数字字符</strong></h1><p id="ab12" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">toString</code>和<code class="fe me mf mg mh b">substr</code>方法创建一组随机的字母数字字符。</p><p id="a23d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="357f" class="mq lc iq mh b gy mr ms l mt mu">function generateRandomAlphaNum(len) {<br/>  let randomString = "";<br/>  while (randomString.length &lt; len) {<br/>    randomString += Math.random()<br/>      .toString(36)<br/>      .substr(2);<br/>  }<br/>  return randomString.substr(0, len);<br/>}</span></pre><p id="2e81" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">generateRandomAlphaNum</code>功能。</p><p id="33aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">while</code>循环来生成字符串，直到给定的<code class="fe me mf mg mh b">len</code>值。</p><p id="368e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了生成角色，我们使用带有<code class="fe me mf mg mh b">toString</code>和<code class="fe me mf mg mh b">substr</code>调用的<code class="fe me mf mg mh b">Math.random()</code>来创建角色。</p><h1 id="4d16" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">混洗一组数字</strong></h1><p id="221f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">sort</code>方法洗牌。</p><p id="3ca5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d554" class="mq lc iq mh b gy mr ms l mt mu">const numbers = [5, 2, 4, 3, 6, 2];<br/>numbers = numbers.sort(() =&gt; { return Math.random() - 0.5});</span></pre><p id="8852" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们返回一个正的或负的随机数，这样只有当它是正数时，顺序才会改变。</p><p id="9c43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是随机的，所以我们洗牌。</p><h1 id="a05e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">一个字符串修剪功能</strong></h1><p id="7693" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">replace</code>方法和一些正则表达式来修剪所有的空白。</p><p id="3726" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="02d0" class="mq lc iq mh b gy mr ms l mt mu">str.replace(/^s+|s+$/g, "")</span></pre><p id="6191" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用正则表达式修剪所有的空白。</p><p id="49ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript字符串也有<code class="fe me mf mg mh b">trim</code>方法来进行修整。</p><h1 id="bacc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">将一个数组追加到另一个数组</strong></h1><p id="514e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要将一个数组附加到另一个数组，我们可以使用spread操作符和<code class="fe me mf mg mh b">push</code>。</p><p id="a1f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8690" class="mq lc iq mh b gy mr ms l mt mu">array1.push(...array2);</span></pre><p id="d9aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以在没有<code class="fe me mf mg mh b">push</code>的情况下使用spread运算符:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="90ed" class="mq lc iq mh b gy mr ms l mt mu">const arr = [...arr1, ...arr2];</span></pre><h1 id="d949" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">将一个</strong> <code class="fe me mf mg mh b"><strong class="ak">rguments</strong></code> <strong class="ak">转换成一个数组</strong></h1><p id="1c19" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用rest操作符获得数组形式的参数。</p><p id="cd97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f199" class="mq lc iq mh b gy mr ms l mt mu">const foo = (...args) =&gt; {}</span></pre><p id="dc24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么无论我们在<code class="fe me mf mg mh b">args</code>中有什么，都将是一个数组。</p><p id="6e6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将任何东西传入<code class="fe me mf mg mh b">foo</code>，它将在<code class="fe me mf mg mh b">args</code>结束。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/72fe487b17783118831fd7409b1a16ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y3kqMPavZ-a6Ay-g"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@rihok?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Riho Kroll </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="3b5b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="dc03" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Math.random</code>方法生成随机实体。</p><p id="330e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以向数组追加项并获取参数。</p></div></div>    
</body>
</html>