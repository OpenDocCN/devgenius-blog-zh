<html>
<head>
<title>PHP — P78: Checking File Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P78:检查文件类型</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-p78-checking-file-types-ffb2762d2d19?source=collection_archive---------5-----------------------#2022-10-20">https://blog.devgenius.io/php-p78-checking-file-types-ffb2762d2d19?source=collection_archive---------5-----------------------#2022-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/722d5a134273ee6f8bb22550762ebd24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSGnO03LEYNhEfRN3oiaxw.jpeg"/></div></div></figure><p id="d044" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在上一篇文章中看到了文件上传，并使用了最少的步骤来完成它。这一次，让我们看看流程上传脚本中可能存在的一些其他功能。如果您还没有这样做，请阅读我关于文件上传基础的文章。</p><div class="kw kx gp gr ky kz"><a rel="noopener  ugc nofollow" target="_blank" href="/php-p77-basics-of-file-uploading-ba377da3d072"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">PHP — P77:文件上传基础</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">PHP 初学者最容易误解的话题之一。有人如何上传文件？当您点按时会发生什么…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">blog.devgenius.io</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><h1 id="6a1f" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">概述</h1><p id="105b" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我们有一个基本的 HTML 表单和一个简单的流程脚本。</p><figure class="mr ms mt mu gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="mr ms mt mu gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h1 id="c1aa" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">检查文件类型</h1><p id="daa4" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">永远不要相信用户。即使你指定用户应该上传图片，他们会按照你的指示做吗？大多数用户会，但有一些因为各种原因不会。有时候只是基于自己的经验不足。word 文档中的图像是图像，对吗？有时候更穷凶极恶。黑客可能想要上传一个他们可以触发的脚本。如果你不限制用户可以上传什么，他们可以上传任何东西。</p><p id="e73d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，让我们在上传脚本中检查图像。</p><figure class="mr ms mt mu gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="bb1b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">代码是做什么的？</p><ul class=""><li id="a319" class="mx my iq ka b kb kc kf kg kj mz kn na kr nb kv nc nd ne nf bi translated">获取文件名。</li><li id="1ec0" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">创建文件以<code class="fe nl nm nn no b">target_file</code>结束的位置。</li><li id="d2ae" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">抓取临时存储位置并将其存储在<code class="fe nl nm nn no b">temp_file</code>变量中。我们稍后需要将文件从临时位置移动到新位置。</li><li id="9996" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">设置允许的扩展名数组。有很多方法可以做到这一点，但我们将采取<code class="fe nl nm nn no b">in_array</code>的方法。</li><li id="ea11" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">抓取文件扩展名。如果用户上传一个<code class="fe nl nm nn no b">.jpg</code>，文件扩展名是一个<code class="fe nl nm nn no b">jpg</code>。</li><li id="0195" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">如果文件扩展名不在数组中，应用程序就会终止。</li><li id="3445" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">如果文件扩展名在数组中，文件将从临时位置移动到永久位置。</li><li id="587f" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">将显示一条成功消息。</li></ul><p id="d3b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在下一篇文章中，我们将介绍如何检查文件是否已经存在，以及文件大小是否合适。</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/1c548d51dbd03e2ccdc97af8cb99c8a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XPIv3Hj4aZokiC7L.jpeg"/></div></figure><p id="ab68" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡伊奇目前是<a class="ae nx" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(生命周期生物科学公司)</a>、<a class="ae nx" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae nx" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae nx" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物</a>、<a class="ae nx" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae nx" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="8fec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae nx" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae nx" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae nx" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="800c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae nx" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="ny">阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。</em> </a></p></div></div>    
</body>
</html>