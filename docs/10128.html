<html>
<head>
<title>15 Frequently Used PostgreSQL String Functions For Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于数据分析的 15 个常用 PostgreSQL 字符串函数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/15-frequently-used-postgresql-string-functions-for-data-analysis-b4978a2079e1?source=collection_archive---------18-----------------------#2022-10-08">https://blog.devgenius.io/15-frequently-used-postgresql-string-functions-for-data-analysis-b4978a2079e1?source=collection_archive---------18-----------------------#2022-10-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="3f76" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如何在您的数据分析项目中使用 PostgreSQL 字符串函数</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b76cec5209b9daf122269119d7862210.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fuQzeIXIfUA5yYgM1f-b_g.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由老虎百合(Pexel)拍摄</figcaption></figure><p id="54b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由于数据存储方式的不一致，在数据库中处理文本数据可能会很有挑战性。</p><p id="c8b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇博文解释了如何使用 PostgreSQL 中常用的二十个字符串函数来解决处理文本数据时遇到的一些挑战</p><ol class=""><li id="0cd5" class="ky kz in jm b jn jo jr js jv la jz lb kd lc kh ld le lf lg bi translated"><strong class="jm io">串联</strong></li></ol><p id="26d0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">函数的作用是:将两个或更多的字符串连接成一个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lh"><img src="../Images/e66688726a9dda6c04f14904fde70e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PchYzZdfBmcVyxjNq-maEQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">hr _ 数据表</figcaption></figure><p id="5db6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上表显示了 hr_data 中的前五行。我们将用 CONCAT 函数将名和姓连接起来作为全名。</p><p id="c495" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">连接名字和姓氏的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi li"><img src="../Images/bf5e51c49295f95250a5e0559c69bd6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WaShsm8TnE83NTex700PhQ.png"/></div></div></figure><p id="996a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 2。INITCAP </strong></p><p id="057c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">INITCAP()函数将每个单词的第一个字母转换成大写，其余的转换成小写。</p><p id="435e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">CONCAT 函数的结果显示，某些名称的大小写不一致。当生成一个报告时，INITCAP 可以用格式名作为专有名词。</p><p id="a353" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将一个单词的第一个字母转换成大写字母，其余字母转换成小写字母的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lj"><img src="../Images/0d583bbb9b54d460811d46f57ca5e6d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3YERV4sOPBOsyXO2-Ur5Gw.png"/></div></div></figure><p id="923b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 3。上部</strong></p><p id="c614" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">UPPER()函数将字符串转换成大写字母。<br/>将字符串转换成大写的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lh"><img src="../Images/fe87c75f537ad3813d80da7496e2db51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkPr05jk5a0jLr0LkefNvA.png"/></div></div></figure><p id="0996" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 4。降低</strong></p><p id="f08a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">LOWER()函数将字符串从大写转换成小写。</p><p id="cabb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将字符串转换为小写的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lk"><img src="../Images/0f778795b2c2fb7f13f4148ec4078258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6vSYnHctk-5n6qiNgra0dg.png"/></div></div></figure><p id="d1ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 5。CHAR_LENGTH </strong></p><p id="3c01" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">CHAR_LENGTH 函数计算指定字符串中的字符数。它通常与其他函数一起用作 POSITION，从给定的字符串中提取指定数量的字符。</p><p id="4ca8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">计算字符串字符数的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lk"><img src="../Images/b37fd6e8b96f4ca82bb09afe86b51cd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l4pmH29kGMDfANT8_9o_vQ.png"/></div></div></figure><p id="49f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 6。位置</strong></p><p id="dacc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">POSITION 函数在指定的字符串中查找子字符串的位置。</p><p id="c53a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">select 语句查找名和姓之间的空格:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ll"><img src="../Images/20e065b6866024bbb8cf722d313793da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*320xvJJSy9_o3zmtVXpgMw.png"/></div></div></figure><p id="59f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 7。左侧</strong></p><p id="3956" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">LEFT()函数从给定字符串的左边提取 select 语句中指定的“n”个字符。使用 LEFT 和 POSITION 函数只能从包含全名的列中提取名字。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lm"><img src="../Images/9379062094405fc6856d7d2d8075682b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hnA2GP9jbOmLvyna7pEEKg.png"/></div></div></figure><p id="d024" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上表显示了“客户”表中的前五行。我们可以通过组合 LEFT 和 POSITION 函数来去掉 first_name 和 last_name。</p><p id="1ffd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从全名中删除名字的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ln"><img src="../Images/4676670e666d7a75b273a0758c13908a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ZksjQwC5PHAIJSEawDPfg.png"/></div></div></figure><p id="e2ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 8。右</strong></p><p id="8152" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">RIGHT()函数从给定字符串的右边提取 select 语句中指定的“n”个字符。</p><p id="4dd0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">可以使用 RIGHT、CHAR_LENGTH 和 POSITION 函数从全名中提取姓氏，如下面的 select 语句所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lk"><img src="../Images/028189c83a22eee2f13f34d067be8c63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MySEx-wif4O6MfO2DNfWOA.png"/></div></div></figure><p id="3828" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 9。子串</strong></p><p id="88b0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">SUBSTRING 函数从给定字符串中的特定位置提取特定数量的字符。SUBSTRING 函数比 LEFT 和 RIGHT 函数灵活得多，因为它允许您从字符串的任何部分提取字符。</p><p id="9fc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以使用下面的 select 语句以及 SUBSTRING 和 POSITION 函数从全名中提取姓氏。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lo"><img src="../Images/436b29d63ad466ccfa2fd3caeb560ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TGg5FtAimFb_aoHlrRtXFQ.png"/></div></div></figure><p id="1a2e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">10。更换</p><p id="d5d7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">REPLACE 函数搜索并使用新字符串替换指定字符串的所有匹配项。</p><p id="a773" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">select 语句将部门列中的销售替换为营销:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lj"><img src="../Images/3ca52fd06144c5b2b09f32522e5a5acd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vGUbTPjPdTZtshLic2s10Q.png"/></div></div></figure><p id="af29" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 11。反向</strong></p><p id="b437" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">REVERSE 函数反转字符串中的字符。</p><p id="e418" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">反转字符串字符的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lo"><img src="../Images/6c42950a4fe1070a7f78f081430c6263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_B1niyx1Vg3IOzcLITaug.png"/></div></div></figure><p id="12ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 12。分割 _ 零件</strong></p><p id="10c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">SPLIT_PART 函数根据分隔符分割给定的字符串，并从左边开始从指定的字符串中挑选出所需的部分。</p><pre class="kj kk kl km gt lp lq lr ls aw lt bi"><span id="f7aa" class="lu lv in lq b gy lw lx l ly lz"><strong class="lq io">Syntax: </strong>SPLIT_PART(string, delimiter, position) </span></pre><p id="a3b2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将一列拆分为三列的 select 语句:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lo"><img src="../Images/41937fd07f15c237c035f62c34991933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w-umq04JNg4gf220N6p0bg.png"/></div></div></figure><p id="bb09" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">13。修剪</p><p id="eea5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">TRIM 函数从字符串的开头、结尾或两边删除空格或字符集。</p><p id="d72d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">语法:</strong></p><pre class="kj kk kl km gt lp lq lr ls aw lt bi"><span id="1ebe" class="lu lv in lq b gy lw lx l ly lz">TRIM([leading|trailing|both] &lt;removing_string&gt; from &lt;main_string&gt;)</span></pre><p id="a99a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">语法中的前导、尾随或两者都指示将移除 removing _ string 的 main_string 的位置。默认值为 both。</p><p id="8396" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">TRIM()函数对于处理列中字符串空格的不一致非常有用。</p><p id="6ea9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">删除字符“0123456789 #”的 select 语句从字符串:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lh"><img src="../Images/7acdee61d805eb3cf770546f3477d697.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zan1voRUI27EgnmxKYTFvQ.png"/></div></div></figure><p id="024d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">LTRIM()函数只删除字符串中的前导字符，而 RTRIM()函数也删除字符串中的尾随字符。</p><p id="e5f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 14。LPAD </strong></p><p id="1a00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">函数的作用是:从左边开始用一个子串填充一个特定长度的字符串。</p><p id="b7a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在下面的 Select 语句中，通过从左侧填充字符“01-”将 7 个字符的 id 列扩展为 10 个字符的 id 列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ma"><img src="../Images/51ab2927c52ff7949f8e606e5229ee57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U2j7Up743D1uEtI2rn5sJQ.png"/></div></div></figure><p id="fab1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 15。RPAD </strong></p><p id="f65a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">函数的作用是:从右边开始用一个子串填充一个特定长度的字符串。</p><p id="4f97" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在下面的 Select 语句中，通过从右侧填充字符“-01”，7 个字符的 id 列被扩展为 10 个字符的 id 列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mb"><img src="../Images/321b3d947ef3ee13c3a67bf9cf6ab769.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kPWUBQAImU0ENqc5m3yQQg.png"/></div></div></figure><p id="8737" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">结论</strong></p><p id="dc8d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇博文简化了 Postgresql 字符串函数在数据分析中的使用。</p><p id="cd8c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以从我的<a class="ae mc" href="https://github.com/amos-adewuni/freq_used_sql_string_func" rel="noopener ugc nofollow" target="_blank"> GitHub </a>资源库下载数据集和 SQL 脚本供您练习。</p><p id="f4a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">关注我的 Twitter 以获取更多数据相关信息。</p></div></div>    
</body>
</html>