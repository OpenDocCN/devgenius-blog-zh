<html>
<head>
<title>Python — 10 Tips for Using Pip</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">python——使用 Pip 的 10 个技巧</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/python-10-tips-for-using-pip-3126537e8a6b?source=collection_archive---------9-----------------------#2022-05-09">https://blog.devgenius.io/python-10-tips-for-using-pip-3126537e8a6b?source=collection_archive---------9-----------------------#2022-05-09</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="c0fc" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">在 Python 中使用 pip 的有用技巧</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/90b771b0f88b81ce38bf29b4d58b1349.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4A6NzgMq3y0b4fJQ1h9-rw.png"/></div></div></figure><p id="2d96" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">众所周知，<code class="fe lo lp lq lr b">pip</code>可以安装、更新、卸载 python 的第三方库，非常方便。你们中的许多人可能已经使用<code class="fe lo lp lq lr b">pip</code>很长时间了，但是不清楚它有什么好的特性。希望我今天分享的技巧能让你从使用 Python <code class="fe lo lp lq lr b">pip</code>中受益。</p><blockquote class="ls lt lu"><p id="c604" class="ks kt lv ku b kv kw js kx ky kz jv la lw lc ld le lx lg lh li ly lk ll lm ln ik bi translated">如果<!-- -->你对更好版本的<code class="fe lo lp lq lr b">pip</code> —诗歌感兴趣，可以在这里查看我的文章:“<a class="ae lz" href="https://python.plainenglish.io/poetry-a-better-version-of-python-pipenv-561611a029d1" rel="noopener ugc nofollow" target="_blank">诗歌，更好版本的 Python Pipenv </a>”。</p></blockquote><h1 id="66a6" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">Python Pip</h1><p id="7ac4" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">先说 Python 的语言。Python 之所以受欢迎，不仅因为它简单易学，还因为它拥有成千上万的宝库。</p><p id="3e67" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">这些库相当于已经集成的工具，只要安装好就可以在 Python 中使用。他们可以处理各种各样的问题，而不用你另起炉灶，而且随着社区的不断更新和维护，一些库越来越强大，几乎可以媲美企业级应用。</p><p id="0377" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">那么如何下载安装这些工具库呢？它们被放在一个名为<code class="fe lo lp lq lr b">PyPi</code> ( <a class="ae lz" href="https://pypi.org/" rel="noopener ugc nofollow" target="_blank"> Python 包索引</a>)的统一“仓库”中，所有的库安装都从这里分发出去。</p><p id="3015" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">有了存储库之后，还需要一个管理员，<code class="fe lo lp lq lr b">pip</code>就是这样一个角色。<code class="fe lo lp lq lr b">pip</code>将库从 PyPi 中取出，安装到 Python 中。它还可以管理已安装的库，如更新，查看，搜索，卸载等。</p><p id="2696" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">下面总结了 10 个 pip 使用的常识和技巧，供大家参考。</p><h1 id="df4d" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">1.安装 Pip</h1><p id="6b44" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">从 Python 3.4 开始，<code class="fe lo lp lq lr b">pip</code>已经内置在 Python 中，所以不需要重新安装。</p><p id="08a8" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果您的 Python 版本没有 pip，您可以使用以下两种方法安装它。</p><ul class=""><li id="a94d" class="mx my ir ku b kv kw ky kz lb mz lf na lj nb ln nc nd ne nf bi translated">在命令行上输入<code class="fe lo lp lq lr b">easy_install pip</code>，非常快。</li><li id="f155" class="mx my ir ku b kv ng ky nh lb ni lf nj lj nk ln nc nd ne nf bi translated">从以下 URL 下载 pip 安装文件，然后将其解压缩到 python 脚本目录，并执行<code class="fe lo lp lq lr b">python setup.py install</code>命令。</li></ul><p id="f8e4" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated"><code class="fe lo lp lq lr b">pip</code>下载网址:<a class="ae lz" href="https://pypi.org/project/pip/#files" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/pip/#files</a></p><p id="63d4" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">但是，如果你还在使用 Python3.4 及更早的版本，请升级到 Python 的最新稳定版本(<a class="ae lz" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">https://www.python.org/downloads/</a>)。否则，你每天都在增加更多的科技债务。</p><h1 id="d73c" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">2.升级 pip</h1><p id="264d" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">如果 pip 版本太低，可以升级当前版本<br/> <code class="fe lo lp lq lr b">pip install --upgrade pip</code>或<code class="fe lo lp lq lr b">pip install -U pip</code>。</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="7df4" class="np mb ir lr b gz nq nr l ns nt">$ pip install -U pip<br/>Looking in indexes: <a class="ae lz" href="https://pypi.python.org/simple" rel="noopener ugc nofollow" target="_blank">https://pypi.python.org/simple</a><br/>Requirement already satisfied: pip in ./test/lib/python3.8/site-packages (21.1.1)<br/>Collecting pip<br/>  Using cached pip-22.0.4-py3-none-any.whl (2.1 MB)<br/>Installing collected packages: pip<br/>  Attempting uninstall: pip<br/>    Found existing installation: pip 21.1.1<br/>    Uninstalling pip-21.1.1:<br/>      Successfully uninstalled pip-21.1.1<br/>Successfully installed pip-22.0.4</span></pre><h1 id="32b1" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">3.安装库</h1><p id="3bcc" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">使用 pip 安装第三方库并执行下面的语句<br/> <code class="fe lo lp lq lr b">pip install package_name</code></p><p id="c2f5" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">指定软件包版本:<br/> <code class="fe lo lp lq lr b">pip install package_name==1.1.2</code></p><p id="b1e4" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">比如我想安装 3.4.1 版的 matplotlib <br/> <code class="fe lo lp lq lr b">pip install matplotlib==3.4.1</code></p><h1 id="65c1" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">4.库的批量安装</h1><p id="f0d6" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">如果一个项目需要安装多个库，可以批量安装:<br/> <code class="fe lo lp lq lr b">pip install -r requirements.txt</code></p><p id="ed81" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">文件内容格式如下:</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="574f" class="np mb ir lr b gz nq nr l ns nt"># This is a comment</span><span id="4f7a" class="np mb ir lr b gz nu nr l ns nt"># Specify a diffrent index<br/>-i http://dist.repoze.org/zope2/2.10/simple</span><span id="b874" class="np mb ir lr b gz nu nr l ns nt"># Package with versions<br/>tensorflow==2.3.1<br/>uvicorn==0.12.2<br/>fastapi==0.63.0<br/>pkg1<br/>pkg2<br/>pkg3<strong class="lr is">&gt;=1.0,&lt;=2.0</strong></span><span id="9494" class="np mb ir lr b gz nu nr l ns nt"># <em class="lv">It is possible to refer to specific local distribution paths.</em><br/><strong class="lr is">./</strong>downloads<strong class="lr is">/</strong>numpy<strong class="lr is">-1.9.2-</strong>cp34<strong class="lr is">-</strong>none<strong class="lr is">-</strong>win32<strong class="lr is">.</strong>whl</span><span id="e4ed" class="np mb ir lr b gz nu nr l ns nt"><em class="lv"># It is possible to refer to other requirement files or constraints files.</em><br/><strong class="lr is">-</strong>r other<strong class="lr is">-</strong>requirements<strong class="lr is">.</strong>txt<br/><strong class="lr is">-</strong>c constraints<strong class="lr is">.</strong>txt</span><span id="ce95" class="np mb ir lr b gz nu nr l ns nt"><em class="lv"># It is possible to specify requirements as plain names.</em><br/>pytest<br/>pytest<strong class="lr is">-</strong>cov<br/>beautifulsoup4</span></pre><h1 id="803d" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">5.卸载和升级软件包</h1><p id="c79f" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">已安装的库可以再次卸载:<br/> <code class="fe lo lp lq lr b">$ pip uninstall package_name</code></p><p id="2715" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">和当前库的版本升级</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="d33f" class="np mb ir lr b gz nq nr l ns nt">$ pip install --upgrade package_name<br/>or<br/>$ pip install -U package_name</span></pre><h1 id="2583" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">6.<strong class="ak">冻结巨蟒皮普依赖</strong></h1><p id="9723" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">有时，您希望输出当前环境中所有已安装的软件包，或者生成一个需求文件，然后在另一个环境中安装。你可以使用<code class="fe lo lp lq lr b">pip freeze</code>命令:</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="c5d4" class="np mb ir lr b gz nq nr l ns nt"># List packages<br/>$ pip freeze<br/><em class="lv">docutils==0.11</em><br/><em class="lv">Jinja2==2.7.2</em><br/><em class="lv">MarkupSafe==0.19</em><br/><em class="lv">Pygments==1.6</em><br/><em class="lv">Sphinx==1.2.2</em></span><span id="a613" class="np mb ir lr b gz nu nr l ns nt"># Generate requirements.txt file<br/>$ pip freeze &gt; requirements.txt</span></pre><p id="8380" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">请注意，包是以不区分大小写的排序顺序列出的。如果您只想列出非全局安装的软件包，请使用<code class="fe lo lp lq lr b">-l/--local</code>。</p><h1 id="3b57" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">7.查看库信息</h1><p id="626c" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">您可以使用<code class="fe lo lp lq lr b">pip show -f package_name</code>列出包装信息:</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="db8b" class="np mb ir lr b gz nq nr l ns nt">$ pip show -f pyyaml<br/>Name: PyYAML<br/>Version: 5.4.1<br/>Summary: YAML parser and emitter for Python<br/>Home-page: <a class="ae lz" href="https://pyyaml.org/" rel="noopener ugc nofollow" target="_blank">https://pyyaml.org/</a><br/>Author: Kirill Simonov<br/>Author-email: <a class="ae lz" href="mailto:xi@resolvent.net" rel="noopener ugc nofollow" target="_blank">xi@resolvent.net</a><br/>License: MIT<br/>Location: /private/tmp/test/lib/python3.8/site-packages<br/>Requires:<br/>Required-by: awscli<br/>Files:<br/>  PyYAML-5.4.1.dist-info/INSTALLER<br/>  PyYAML-5.4.1.dist-info/LICENSE<br/>  PyYAML-5.4.1.dist-info/METADATA<br/>  PyYAML-5.4.1.dist-info/RECORD<br/>  PyYAML-5.4.1.dist-info/WHEEL<br/>  PyYAML-5.4.1.dist-info/top_level.txt<br/>...</span></pre><h1 id="5178" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">8.查看需要升级的库</h1><p id="eb7b" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">在当前安装的库中，查看哪些库需要版本升级:</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="63dc" class="np mb ir lr b gz nq nr l ns nt">$ pip list -o<br/>Package    Version Latest Type<br/>---------- ------- ------ -----<br/>docutils   0.15.2  0.18.1 wheel<br/>PyYAML     5.4.1   6.0    wheel<br/>rsa        4.7.2   4.8    wheel<br/>setuptools 56.0.0  62.1.0 wheel</span></pre><h1 id="6fa0" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">9.检查兼容性问题</h1><p id="f11e" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">验证安装的库的兼容性依赖关系，您可以使用<code class="fe lo lp lq lr b">pip check package-name</code>:</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="049d" class="np mb ir lr b gz nq nr l ns nt">$ pip check awscli<br/>No broken requirements found.</span></pre><p id="8556" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果你不指定软件包名称，它将检查所有软件包的兼容性。</p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="8a3e" class="np mb ir lr b gz nq nr l ns nt">$ pip check<br/><em class="lv">pyramid 1.5.2 requires WebOb, which is not installed.</em></span></pre><h1 id="3ccc" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">10.将库下载到本地</h1><p id="9c7d" class="pw-post-body-paragraph ks kt ir ku b kv ms js kx ky mt jv la lb mu ld le lf mv lh li lj mw ll lm ln ik bi translated">将库下载到本地指定文件，并以<code class="fe lo lp lq lr b">whl</code>格式保存:<br/> <code class="fe lo lp lq lr b">pip download package_name -d "path"</code></p><pre class="kh ki kj kk gu nl lr nm nn aw no bi"><span id="7350" class="np mb ir lr b gz nq nr l ns nt">$ pip download PyYAML  -d "/tmp/"<br/>Looking in indexes: <a class="ae lz" href="https://pypi.python.org/simple" rel="noopener ugc nofollow" target="_blank">https://pypi.python.org/simple</a><br/>Collecting PyYAML<br/>  Downloading PyYAML-6.0-cp38-cp38-macosx_10_9_x86_64.whl (192 kB)<br/>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 192.2/192.2 KB 4.7 MB/s eta 0:00:00<br/>Saved ./PyYAML-6.0-cp38-cp38-macosx_10_9_x86_64.whl<br/>Successfully downloaded PyYAML</span><span id="3981" class="np mb ir lr b gz nu nr l ns nt">$ ls /tmp/PyYAML-6.0-cp38-cp38-macosx_10_9_x86_64.whl<br/>/tmp/PyYAML-6.0-cp38-cp38-macosx_10_9_x86_64.whl</span></pre></div></div>    
</body>
</html>