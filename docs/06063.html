<html>
<head>
<title>Pickling Data In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的酸洗数据</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/pickling-data-in-python-8b8a2370db31?source=collection_archive---------13-----------------------#2021-12-09">https://blog.devgenius.io/pickling-data-in-python-8b8a2370db31?source=collection_archive---------13-----------------------#2021-12-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="77b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用<code class="fe ki kj kk kl b">pickle</code>模块存储变量的值以便在下一个会话中重复使用，这很简单。</p><p id="4ef5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设您已经处理了一个包含上百行的数据帧，并且您必须终止会话。你真的想事先损失几分钟的运行时间吗？当然不是，怎么保存数据？</p><h1 id="2d87" class="km kn in bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">以Pickle格式存储数据</h1><p id="8bfc" class="pw-post-body-paragraph jk jl in jm b jn lk jp jq jr ll jt ju jv lm jx jy jz ln kb kc kd lo kf kg kh ig bi translated">以pickle格式或<em class="lp">pickle</em>存储数据是将Python对象序列化为二进制格式并保存到文件中。在这里，您可以遵循以下步骤。</p><pre class="lq lr ls lt gt lu kl lv lw aw lx bi"><span id="8746" class="ly kn in kl b gy lz ma l mb mc">&gt;&gt;&gt; import pickle<br/>&gt;&gt;&gt; import pandas as pd</span><span id="4514" class="ly kn in kl b gy md ma l mb mc"># assume you have a large pandas dataframe as my_df <br/># you are going to save to my_data.pickle<br/># extension name is optional <br/># I prefer .pickle to remind me that file is pickle</span><span id="2015" class="ly kn in kl b gy md ma l mb mc">&gt;&gt;&gt; pickle.dump( my_df, open('my_data.pickle', 'wb'))</span><span id="6bd1" class="ly kn in kl b gy md ma l mb mc"># now you have my_data.pickle in your disk</span></pre><h1 id="344a" class="km kn in bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">从Pickle格式读取数据</h1><p id="d849" class="pw-post-body-paragraph jk jl in jm b jn lk jp jq jr ll jt ju jv lm jx jy jz ln kb kc kd lo kf kg kh ig bi translated">这个过程与上一节相反，通过<em class="lp">将pickle的二进制格式的</em>解序列化回Python对象。</p><pre class="lq lr ls lt gt lu kl lv lw aw lx bi"><span id="6e67" class="ly kn in kl b gy lz ma l mb mc">&gt;&gt;&gt; import pickle<br/>&gt;&gt;&gt; import pandas as pd</span><span id="9551" class="ly kn in kl b gy md ma l mb mc"># assume you already have file in pickle format<br/># and file name is my_data.pickle</span><span id="66db" class="ly kn in kl b gy md ma l mb mc">&gt;&gt;&gt; data = pickle.load(open('my_data.pickle', 'rb'))</span><span id="789d" class="ly kn in kl b gy md ma l mb mc"># now data is come back<br/># variable name may be different to previous step</span></pre><h1 id="0939" class="km kn in bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">摘要</h1><p id="25ce" class="pw-post-body-paragraph jk jl in jm b jn lk jp jq jr ll jt ju jv lm jx jy jz ln kb kc kd lo kf kg kh ig bi translated">pickle.dump( object，file-stream) #将对象保存到文件中</p><p id="a98d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">object = pickle . load(file-stream)#从文件中读取并返回对象</p></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><p id="f136" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lp">更多内容尽在</em><a class="ae ml" href="http://blog.devgenius.io" rel="noopener ugc nofollow" target="_blank"><em class="lp">blog . devgenius . io</em></a><em class="lp">。</em></p></div></div>    
</body>
</html>