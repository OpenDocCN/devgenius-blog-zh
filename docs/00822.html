<html>
<head>
<title>Visualizing Computational Metrics When Executing Python Code with Dask</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Dask执行Python代码时可视化计算指标</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/visualizing-computational-metrics-when-executing-python-code-with-dask-711b7e279ff7?source=collection_archive---------16-----------------------#2020-06-17">https://blog.devgenius.io/visualizing-computational-metrics-when-executing-python-code-with-dask-711b7e279ff7?source=collection_archive---------16-----------------------#2020-06-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="e773" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">当您在PYTHON中分析数据时，实际上发生了什么？</h1><p id="5220" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Dask是一个非常棒的工具，可以帮助您在运行代码时可视化计算发生的事情，以及在执行Pandas或Numpy操作时利用并行处理。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/c31f76a69d5b7d0c478d4bd95b69c3bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TFugnfap1In4iLoP4uAbwQ.png"/></div></div></figure><h1 id="b0d0" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">已经有大量关于DASK的信息了</h1><p id="f0ef" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">一些文章说得比我更好，我宁愿不要为了在文章中有更多的内容而进行一些多余的行为。这里有一些地方可以让你开始:</p><ul class=""><li id="b002" class="ls lt in kk b kl lu kp lv kt lw kx lx lb ly lf lz ma mb mc bi translated"><a class="ae md" href="https://l.workplace.com/l.php?u=https%3A%2F%2Ftowardsdatascience.com%2Ftrying-out-dask-dataframes-in-python-for-fast-data-analysis-in-parallel-aa960c18a915&amp;h=AT1PIOucrVsAb97HHQci_toPnixHcDVpm4F5-uP2ewgC9RY_bMK7Rq8d5pjduf3HsJfZJaOKgvA3HRGpjli8FxSIzBI90zzqoWtuWJfittrOEn66LDI8VoGpzogjmB20y3Z4T-pC1tlHDmmD0OR0mTVkZVNrYIgtbS8Z8Co" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io">第一条</strong> </a></li><li id="6509" class="ls lt in kk b kl me kp mf kt mg kx mh lb mi lf lz ma mb mc bi translated"><a class="ae md" href="https://l.workplace.com/l.php?u=https%3A%2F%2Ftowardsdatascience.com%2Fwhy-every-data-scientist-should-use-dask-81b2b850e15b&amp;h=AT0vWlH0p366Eo87PjOfoqRUf3BwsnTQMs2Jixve3o6y7ogVX9BBBeDoRzuFl9rmWctsnZlapYUhk0DS2v6gnS8pFuvZV7ZhmLXKINaA5rHVx8Pl13jPKyvzgfSw3qh_8_obx_k8iYIXSXLNk9W2B9HP-AoY1o7Fv8Ioe-A" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io">第二条</strong> </a></li><li id="bc40" class="ls lt in kk b kl me kp mf kt mg kx mh lb mi lf lz ma mb mc bi translated"><a class="ae md" href="https://l.workplace.com/l.php?u=https%3A%2F%2Fdocs.dask.org%2Fen%2Flatest%2F&amp;h=AT1D0aALSUKaJkSC2YW_Qv-fF4q2OLA4BvDljk01836wv16nJPz_k5mNFB4tB4SLzzrKJUtog4xEvILMfBuDLdvjKjtUcHn_lHEmacJAjs_ZtrSdswBTOa9uPEh1k2DSO1rru3HO2ba-BVwXqRK1inPcHMk_aKE2Zc9XVhA" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> Dask Dcos </strong> </a></li><li id="dcb7" class="ls lt in kk b kl me kp mf kt mg kx mh lb mi lf lz ma mb mc bi translated"><a class="ae md" href="https://l.workplace.com/l.php?u=https%3A%2F%2Fgithub.com%2Fdask%2Fdask-labextension&amp;h=AT3BGVIyvI-Q7gyfP7ZODVdifhD4HycTXttnSc4RerlGMf_V463hqFm6PFR01GZGngvjLQsQUtm40vQuYrhQGxK3EiPBSQNB-AhPLvFOtekOTtB8-BjhmrutOfFlYatLHvgxAsDW-1cT_nbv3uC4UEVR8LTskQp2i1Q5B68" rel="noopener ugc nofollow" target="_blank">T15】Dask JupyterLab扩展T17】</a></li></ul><h1 id="8614" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">浅显易懂的基础知识</h1><ul class=""><li id="14b7" class="ls lt in kk b kl km kp kq kt mj kx mk lb ml lf lz ma mb mc bi translated">减少在大型数据集(如pandas数据帧或numpy数组)上运行操作时的处理时间</li><li id="53f6" class="ls lt in kk b kl me kp mf kt mg kx mh lb mi lf lz ma mb mc bi translated">存储和处理无法放入内存的对象</li><li id="49cc" class="ls lt in kk b kl me kp mf kt mg kx mh lb mi lf lz ma mb mc bi translated">允许本地或通过集群进行并行处理</li><li id="9626" class="ls lt in kk b kl me kp mf kt mg kx mh lb mi lf lz ma mb mc bi translated">提供有关操作处理的图表</li></ul><h1 id="735a" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">JupyterLab</h1><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/896a9caa856188dfcda3847e1e7244da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tmUFiaVURwdH40NM5Nnr2Q.png"/></div></div></figure><p id="f5f2" class="pw-post-body-paragraph ki kj in kk b kl lu kn ko kp lv kr ks kt mm kv kw kx mn kz la lb mo ld le lf ig bi translated">Dask为jupyterlab提供了一个扩展，您可以通过pip/conda安装它。我想你知道怎么打开JupyterLab。如果没有，安装它并在anaconda提示符下运行jupyter lab。使用下拉工具将它们变亮或变暗。安装以下要求:</p><h1 id="5401" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">装置</h1><p id="0bcf" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要安装Dask JupyterLab扩展，您需要JupyterLab和Node.js。这些可以通过各种来源获得。Python用户常见的一个来源是conda包管理器。</p><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="451f" class="mu jl in mq b gy mv mw l mx my">conda install jupyterlab nodejs</span></pre><p id="3d88" class="pw-post-body-paragraph ki kj in kk b kl lu kn ko kp lv kr ks kt mm kv kw kx mn kz la lb mo ld le lf ig bi translated">这个扩展包括客户端JupyterLab扩展和服务器端Jupyter notebook扩展。</p><h1 id="b98c" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">通过PIP或CONDA-FORGE安装:</h1><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="fdce" class="mu jl in mq b gy mv mw l mx my">pip install dask_labextension<br/>conda install -c conda-forge dask-labextension</span></pre><h1 id="fff7" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">按如下方式构建扩展:</h1><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="53d9" class="mu jl in mq b gy mv mw l mx my">jupyter labextension install dask-labextension<br/>jupyter serverextension enable dask_labextension</span></pre><h1 id="4397" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">如果您运行的是NOTEBOOK 5.2或更早版本，请通过运行以下命令来启用服务器扩展</h1><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="256a" class="mu jl in mq b gy mv mw l mx my">jupyter serverextension enable –py –sys-prefix dask_labextension</span></pre><h1 id="afa9" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">如何展示所有的图表</h1><p id="827a" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">安装完毕后，打开jupterlab。您应该会在页面左侧看到dask选项卡/图标。运行以下客户端代码后，将仪表板客户端url复制并粘贴到dask选项卡的搜索栏中:</p><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="7fbe" class="mu jl in mq b gy mv mw l mx my">import dask.dataframe as dd<br/>import dask.array as da<br/>from dask.distributed import Client<br/>from dask import delayed, compute<br/>import dask</span><span id="1504" class="mu jl in mq b gy mz mw l mx my">client = Client()<br/>client</span></pre><h1 id="feff" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">客户端结果将如下所示:</h1><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="341a" class="mu jl in mq b gy mv mw l mx my">Client<br/>Scheduler: tcp://127.0.0.1:x<br/>Dashboard: <a class="ae md" href="http://127.0.0.1:x/status" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:x/status</a><br/>Cluster<br/>Workers: 4<br/>Cores: 8<br/>Memory: 8.36 GB</span></pre><h1 id="b9e0" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">一旦连接</h1><p id="b697" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">单击各个图表，当连接正确时，这些图表将变成橙色，而不是灰色。双击这些图表将在新的选项卡中打开。将选项卡拖到jupyterlab内部或周围的区域。我在这篇文章所附的视频中添加了一些图表，但是你可以随意添加那些你认为有帮助的图表。我使用了:</p><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="d0f4" class="mu jl in mq b gy mv mw l mx my">- Dask Task Stream<br/>- Dask Bandwidth (workers)<br/>- Dask Progress<br/>- Dask Graph<br/>- Dask Workers<br/>- Dask Memory (worker)<br/>- Dask Memory (operation)</span></pre><h1 id="241c" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">问题</h1><p id="2da5" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我在安装过程中只遇到了一个问题。在mac上，安装dask和扩展可以工作，但是仪表板无法加载。解决方法是将散景包降级到2.0。不知道为什么，但新版本的散景打破了仪表板。使用以下命令降级:</p><pre class="lh li lj lk gt mp mq mr ms aw mt bi"><span id="d577" class="mu jl in mq b gy mv mw l mx my">pip install bokeh==2.0</span></pre><h1 id="9c04" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">媒体</h1><p id="5960" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">由于Workplace喜欢将视频质量降级为像ratio和blog.accenture这样的简笔画，所以我似乎不提供超过2mb的视频上传，我已经将它上传到了<a class="ae md" href="https://youtu.be/62hqiGtwUzg" rel="noopener ugc nofollow" target="_blank"> youtube </a>。</p><h1 id="0614" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">有问题吗？</h1><p id="619a" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我记得昨天这个包有多酷，决定今天早上重新学习一下。因为它有多棒，这是一个非常快速的安装/设置过程。了解图书馆的来龙去脉是另一回事。但至少你知道什么是可能的。</p><h1 id="e709" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">来源:</h1><p id="5222" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><a class="ae md" href="https://github.com/supercoolgetsallthegirlsmax/dask_jupyter" rel="noopener ugc nofollow" target="_blank"> Github </a></p><p id="3267" class="pw-post-body-paragraph ki kj in kk b kl lu kn ko kp lv kr ks kt mm kv kw kx mn kz la lb mo ld le lf ig bi translated">感谢阅读！</p><p id="2d5b" class="pw-post-body-paragraph ki kj in kk b kl lu kn ko kp lv kr ks kt mm kv kw kx mn kz la lb mo ld le lf ig bi translated">马克斯·巴德</p></div></div>    
</body>
</html>