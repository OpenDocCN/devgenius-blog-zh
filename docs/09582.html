<html>
<head>
<title>6 Tips of API Documentation Without Hassle Using Swagger (OpenAPI) + Spring Doc</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Swagger (OpenAPI) + Spring Doc 轻松编写 API 文档的 6 个技巧</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/6-tips-of-api-documentation-without-hassle-using-swagger-openapi-spring-doc-3762cf36cae7?source=collection_archive---------0-----------------------#2022-08-30">https://blog.devgenius.io/6-tips-of-api-documentation-without-hassle-using-swagger-openapi-spring-doc-3762cf36cae7?source=collection_archive---------0-----------------------#2022-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8f08" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用自动生成的 API 文档构建 Spring Boot 应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b4afe5576075aba1dff0c30883089d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ikoHx6otq7H0693hERYgLQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">凯利·西克玛在<a class="ae kv" href="https://unsplash.com/s/photos/hand-book?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="5aeb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如今，系统为了执行业务功能而相互通信。由于 REST API 的流行，GET、POST 和 DELETE 等 HTTP 动词的使用清楚地表明了 API 的本质，使系统集成变得更加容易。例如，您能够基于 REST API 的模式理解 API 的用途:</p><ul class=""><li id="e9a8" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">GET /customers/{customerId}(检索客户记录)</li><li id="9a3a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">过帐/客户(创建/更新客户记录)</li><li id="d790" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">删除/客户/{客户 Id}(删除客户记录</li></ul><p id="06a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，如果系统逻辑不仅仅是对系统记录的 CRUD 操作，HTTP 动词就不能解释复杂的 API 操作。因此，API 文档对于顺利的系统集成至关重要。虽然大多数系统规范的文档都是基于传统的文本格式，但是 API 文档的相同格式可读性不强，很难理解。</p><h2 id="8a78" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">API 文档</h2><p id="7fe4" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">Swagger(又名 Open API)是一个流行的 API 文档标准。API 端点是在 YAML 中定义的，基于它可以生成直观的 UI。</p><p id="7fac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是客户 API 的 API 定义示例的一部分:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="77f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">生成的文档是 HTML 格式的，读者可以展开每个 API 的部分来查看细节</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/249c7d16c4b6a7b5db73bc839f87cc9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Aus_cJfWTANXPtzD"/></div></div></figure><p id="b842" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Swagger 是 API 开发的好材料，如果您是新手，可以在网上搜索并了解更多。</p><h1 id="055d" class="nh mh iq bd mi ni nj nk ml nl nm nn mo jw no jx mr jz np ka mu kc nq kd mx nr bi translated">有什么问题？</h1><p id="8c66" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">尽管开放 API 规范对于 API 设计和文档来说非常有用，但是在 YAML 文件中准备 API 规范仍然需要时间。如果您将 API 公开为服务提供者，那么每当 API 接口发生变化时，维护单独的 API YAML 文件就成了一件苦差事。</p><p id="ff8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们怎样才能更有效地完成这项工作？将文档作为编码的一部分听起来是个不错的选择，这样开发人员可以在一个地方修改 API 端点和文档。事实上，通过使用 Swagger 的注释和 Spring 文档库生成 API 文档，将 API 文档化为源代码的一部分是可能的。</p><p id="8a87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您展示如何使用 Swagger 注释和 Spring 文档库在 Spring Boot 应用程序上实现这一点。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="d854" class="nh mh iq bd mi ni nz nk ml nl oa nn mo jw ob jx mr jz oc ka mu kc od kd mx nr bi translated">外汇交易 API</h1><p id="5466" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">让我们为以下外汇交易 API 端点创建 API 文档。它提供了一个外汇交易之旅，从获取最新汇率和预订汇率开始，然后提交交易:</p><ul class=""><li id="439b" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">[GET] /rates/latest:获取最新的外币汇率</li><li id="8799" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">[POST] /rates/book:保留汇率</li><li id="5bf5" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">[后]/交易:提交新的外汇交易</li><li id="bc48" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">[获取]/交易:获取提交的外汇交易</li></ul><h1 id="bf82" class="nh mh iq bd mi ni nj nk ml nl nm nn mo jw no jx mr jz np ka mu kc nq kd mx nr bi translated">技巧 1——使用 Spring Doc 生成 API 文档</h1><p id="46f0" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">Spring 文档库是一个强大的工具，可以自动生成 API 文档。无需编写任何注释或文档，<a class="ae kv" href="https://springdoc.org/" rel="noopener ugc nofollow" target="_blank"> Spring 文档库</a>能够通过在运行时检查应用程序来生成 API 文档。</p><p id="6c92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要为您的 Spring Boot 应用程序快速生成 API 文档，请将这个依赖项添加到您的 maven pom.xml 中</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="f23a" class="mg mh iq of b gy oj ok l ol om">&lt;dependency&gt;<br/>  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;<br/>  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;<br/>  &lt;version&gt;1.6.11&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><p id="b8c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，启动 Spring Boot 应用程序并转到<a class="ae kv" href="http://localhost:8080/swagger-ui.hml" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/swagger-ui . hml</a></p><p id="26d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将看到生成的 API 文档。很简单，不是吗？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/9d65104fa1a40684154b2614dac24a9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w7IL1RrwBJV21RsC"/></div></div></figure><p id="05e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在后台，Spring Doc 库扫描所有暴露的端点<code class="fe oo op oq of b"><strong class="ky ir">@Controller </strong></code>和<code class="fe oo op oq of b"><strong class="ky ir">@RestController</strong></code>，并使用<a class="ae kv" href="https://swagger.io/tools/swagger-ui/" rel="noopener ugc nofollow" target="_blank"> Swagger UI </a>呈现 API 文档</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="75f9" class="nh mh iq bd mi ni nz nk ml nl oa nn mo jw ob jx mr jz oc ka mu kc od kd mx nr bi translated">技巧#2 —定制 API 信息</h1><p id="5d7a" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">如您所见，默认标题“OpenAPI 定义”并不相关。要使用描述定制标题，请将<strong class="ky ir"> OpenAPI </strong>定义为 bean。当 Spring 文档库检测到 bean 时，生成的 API 文档会相应地更新。</p><p id="b706" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是外汇 API 的 OpenAPI 示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="0b47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">标题现在已经更新为 GitHub 项目的描述和链接:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/4d0665b48e1ae6a0a5ee0d8d440aee40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wPtMxyF38qqrM1j3"/></div></div></figure></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="1497" class="nh mh iq bd mi ni nz nk ml nl oa nn mo jw ob jx mr jz oc ka mu kc od kd mx nr bi translated">技巧#3 —将 API 组合在一起</h1><p id="8461" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">默认情况下，端点由生成的 API 文档中的控制器分组。按照 API 的性质将端点分为以下类别更有意义，比如费率 API 和交易 API:</p><ul class=""><li id="71bf" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">[价格 API] —获取最新价格并预订价格</li><li id="0dd7" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">[交易 API] —提交和检索交易</li></ul><p id="7929" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，将<code class="fe oo op oq of b"><strong class="ky ir">@Tag</strong></code>添加到控制器类中。同一个标签<code class="fe oo op oq of b">@Tag(name = “Rate API”, description = “Forex rate retrieval and booking”)</code>应用于<strong class="ky ir">外汇预订控制器</strong>和<strong class="ky ir">外汇控制器</strong>，而<code class="fe oo op oq of b">@Tag(name = “Deal API”, description = “Forex trade deal retrieval and submission”)</code>应用于<strong class="ky ir">外汇交易控制器</strong></p><p id="5022" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是标签注释如何应用于控制器类的示例代码。它也可以应用于方法级别。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="7da9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">API 根据端点上的<code class="fe oo op oq of b"><strong class="ky ir">@Tag</strong></code> <strong class="ky ir"> </strong>进行分类:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/799cd367ea254e51cb39079bdf648e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w4s_3GaGQ0ZULmbr"/></div></div></figure></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="a423" class="nh mh iq bd mi ni nz nk ml nl oa nn mo jw ob jx mr jz oc ka mu kc od kd mx nr bi translated">技巧 4 —添加有意义的端点描述</h1><p id="163c" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">API 操作可能不仅仅是一个数据库 CRUD 操作，值得一提的是系统逻辑、验证规则和用法，它们让开发人员能够顺利进行系统集成。</p><p id="db51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oo op oq of b"><strong class="ky ir">@Operation</strong></code>在方法层面上提供一种定义 API 摘要和描述的方式。下面的例子展示了<code class="fe oo op oq of b"><strong class="ky ir">@Operation</strong></code>的用法和生成的 API doc</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="100d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oo op oq of b">POST /deals</code>端点的 API 文档现在有了摘要和描述:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/b72bb3f7d3135ac21749ac255ce0cd6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J0rwCAVr3H3El40o"/></div></div></figure></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="553b" class="nh mh iq bd mi ni nz nk ml nl oa nn mo jw ob jx mr jz oc ka mu kc od kd mx nr bi translated">技巧 5——用示例值丰富您的 API 文档</h1><p id="ef65" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">尽管 API 很简单，但开发人员可能不太容易理解用法以及应该在请求中放入什么值。因此，示例值非常有用，因为它们让读者了解如何使用 API。</p><p id="de6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果没有指定示例值，Spring 文档库不会为路径变量和查询参数生成任何示例值。下面的 API 文档显示了指定基础货币和计数器货币的汇率检索，没有任何示例值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/e0ddaac4b0b86d9d7a60af9d134b24fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ULHE_AHVv79-q4ue"/></div></div></figure><p id="5130" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oo op oq of b"><strong class="ky ir">@Parameter </strong></code>允许您解释输入参数的用法。让我们给外汇汇率 API 输入货币样本</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="aabe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">API 文档中基础货币和计数器货币的示例值:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/4972c379c3208dbd06eab806b5227413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k1v7Ac-8M28CIjbL"/></div></div></figure><p id="2b88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请求体的示例值怎么样？Spring 文档库试图根据数据模型定义模拟样本值，但是，这些值是原始的并且没有意义，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl os"><img src="../Images/5febe518685bd355ce6c6739f30dd45b.png" data-original-src="https://miro.medium.com/v2/0*4Se92P-oh6aAE1qv"/></div></figure><p id="5aa6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过将<code class="fe oo op oq of b"><strong class="ky ir">@Schema</strong></code>添加到 POJO 的属性中，可以设置有意义的示例值:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="b3bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，请求体的示例值显示在 API 文档中</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/546f891e8826505fdea583a36aa00c02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qLLKyjvGUR-gAv39"/></div></div></figure><p id="4e82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由 POJO 上的<code class="fe oo op oq of b"><strong class="ky ir">@Schema</strong></code>设置的示例值由涉及相同 POJO 的所有 API 共享。替代方案是在控制器级别指定示例值，而不是在全局级别记录示例值。</p><p id="7afb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oo op oq of b"><strong class="ky ir">@ApiResponse</strong></code>定义 API 响应的文件。对于每个响应，都有包含示例(<code class="fe oo op oq of b"><strong class="ky ir">@ExampleObject</strong></code>)的内容(<code class="fe oo op oq of b"><strong class="ky ir">@Content</strong></code>)。</p><p id="b767" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本例分别记录了英镑/美元和欧元/美元汇率的响应代码 200 的两个示例值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="31a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用上面的@ApiResponse，生成的 API 文档将显示一个下拉列表，用于选择 2 个示例值:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/63222df64a72dc5e35dc00eb3d83f13b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pe4YAda1VUM7jd6G"/></div></div></figure></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="5bd1" class="nh mh iq bd mi ni nz nk ml nl oa nn mo jw ob jx mr jz oc ka mu kc od kd mx nr bi translated">技巧 6——记录 API 响应</h1><p id="a138" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">只要 Spring Boot 配置中存在相关的 beans，生成的 API 文档就会涵盖所有响应代码。默认情况下，下面的外汇 API 文档显示了外汇交易提交的端点，响应代码为 200 和 400。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/f4fff8281064f713ec34ff140ae79d2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BS0XWoy936J5LwYe"/></div></div></figure><p id="5ebc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了记录带有描述、数据模型和示例值的 API 响应，本示例向您展示了如何使用<code class="fe oo op oq of b"><strong class="ky ir">@ApiResponse</strong></code>来完成带有响应代码 200、422 和 400 的外汇交易提交端点。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="3d2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是更新后的 API 文档以及 API 响应列表:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/5d95d1574018b5d37a2b6a7a67961d54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXdZJOQSSRqjQkTPr7m-Eg.png"/></div></div></figure></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="46da" class="nh mh iq bd mi ni nz nk ml nl oa nn mo jw ob jx mr jz oc ka mu kc od kd mx nr bi translated">最后的想法</h1><p id="802d" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">对于 API 开发来说，文档是一个必不可少的元素。如果您忽视 API 文档的重要性，您的客户要么会误用您的 API，要么会陷入困境。不是创建一个单调的 Word 或 text 格式的文档，而是以 Swagger(又名 OpenAPI) YAML 格式定义 API，它可以呈现为一个交互式的 HTML API 文档。</p><p id="d67f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文中的 6 个技巧让您快速了解如何利用注释来编写 API 文档。无需任何额外工作，API 文档在运行时执行期间由 Spring 文档库自动生成并呈现在 Swagger UI 中。</p></div></div>    
</body>
</html>