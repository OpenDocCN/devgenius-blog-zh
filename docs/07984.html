<html>
<head>
<title>Golf Scorecard React App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高尔夫记分卡反应应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/golf-scorecard-react-app-5d4f4a7e20b8?source=collection_archive---------10-----------------------#2022-05-08">https://blog.devgenius.io/golf-scorecard-react-app-5d4f4a7e20b8?source=collection_archive---------10-----------------------#2022-05-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="94e2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本教程演示了如何创建一个 react 应用程序，它在许多高尔夫应用程序中使用。一种显示和编辑高尔夫球场记分卡数据的方法。您可以在此 处查看应用<a class="ae ki" href="https://jimfrenette.com/demo/golf-scorecard/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">的演示</strong></a></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/82a8ef735cc52ffe1b651b2718ad37f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KMyvYMctYT_V8-J_XKRpzw.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">带源地图的演示</figcaption></figure><p id="df15" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">React 的<a class="ae ki" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank"> Create a New React App </a>页面上记录了为本地开发设置 React 应用程序的各种方法。我们将使用 React 所说的“在 React 中开始构建新的单页面应用程序的最佳方式”</p><h2 id="ebc3" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">创建 React 应用</h2><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="16fb" class="kz la in lt b gy lx ly l lz ma">npx create-react-app golf-scorecard<br/>cd golf-scorecard<br/>npm start</span></pre><p id="3038" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在撰写本文时，<code class="fe mb mc md lt b">create-react-app</code>脚本生成一个样板应用程序，<code class="fe mb mc md lt b">npm start</code>为您启动一个本地开发服务器。例如，你应该在<code class="fe mb mc md lt b">localhost:3000</code>看到一个带有动画 React 标志的页面。</p><p id="0727" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们从安装高尔夫记分卡应用程序所需的<a class="ae ki" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> axios </a>节点模块开始。该模块用于从高尔夫球场数据源获取数据，并将数据发送到高尔夫球场数据源。</p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="ac05" class="kz la in lt b gy lx ly l lz ma">npm i axios</span></pre><h2 id="6ad5" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">高尔夫球场数据</h2><p id="d45a" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">在现实世界中，我们的应用程序将从 REST API 获取高尔夫球场数据。我们将用一个包含课程数据的<code class="fe mb mc md lt b">tees.json</code>文件来模拟这种情况，该文件的格式与典型的 REST 服务的响应格式相同。</p><p id="d895" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将这个<a class="ae ki" href="https://jimfrenette.com/demo/golf-scorecard/tees.json" rel="noopener ugc nofollow" target="_blank"> tees.json </a>文件保存并复制到<code class="fe mb mc md lt b">golf-scorecard/public</code>文件夹中。</p><blockquote class="mj mk ml"><p id="f55c" class="jk jl mm jm b jn jo jp jq jr js jt ju mn jw jx jy mo ka kb kc mp ke kf kg kh ig bi translated"><em class="in">使用</em> <code class="fe mb mc md lt b"><em class="in">wget</em></code> <em class="in">下载 tees.json 文件。例如:</em></p></blockquote><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="dbe0" class="kz la in lt b gy lx ly l lz ma">wget -L https://jimfrenette.com/demo/golf-scorecard/tees.json<br/> <br/>mv tees.json public/tees.json</span></pre><h1 id="9208" class="mq la in bd lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd ne nf lq ng bi translated">应用</h1><p id="047c" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">我们的 React 应用程序需要一个组件来呈现记分卡上的每个高尔夫球洞。在<code class="fe mb mc md lt b">src</code>文件夹中，创建这个<code class="fe mb mc md lt b">hole.js</code> React 组件文件，我们将把它导入到我们的<code class="fe mb mc md lt b">App.js</code>中。</p><p id="12a9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> hole.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="c411" class="kz la in lt b gy lx ly l lz ma">.tee-container {<br/>	padding-top: 1<strong class="lt io">rem</strong>;<br/>	margin-bottom: 1.5<strong class="lt io">rem</strong>;<br/>	max-width: 30<strong class="lt io">rem</strong>;<br/><br/>	<strong class="lt io">input</strong> {<br/>		box-sizing: <strong class="lt io">border-box</strong>;<br/>		font-family: <strong class="lt io">inherit</strong>;<br/>		box-shadow: 0 0 0 <strong class="lt io">transparent</strong>;<br/>		border-radius: 4<strong class="lt io">px</strong>;<br/>		border: 1<strong class="lt io">px</strong> <strong class="lt io">solid</strong> #8c8f94;<br/>		background-color: #fff;<br/>		color: #2c3338;<br/>	}<br/><br/>	<strong class="lt io">input</strong>[<strong class="lt io">readonly</strong>] {<br/>		background-color: #f0f0f1;<br/>	}<br/>}<br/><br/>.scorecard {<br/>	.header {<br/>		display: <strong class="lt io">flex</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/>		padding: 0.5<strong class="lt io">rem</strong> 0;<br/>		align-items: <strong class="lt io">center</strong>;<br/><br/>		.btn {<br/>			margin-left: <strong class="lt io">auto</strong>;<br/>		}<br/>		.btn ~ .btn {<br/>			margin-left: 10<strong class="lt io">px</strong>;<br/>		}<br/><br/>		.golfer {<br/>			min-width: 100<strong class="lt io">%</strong>;<br/>		}<br/>	}<br/><br/>	.hole {<br/>		&gt;<strong class="lt io">div</strong> {<br/>			display: <strong class="lt io">flex</strong>;<br/>			width: 100<strong class="lt io">%</strong>;<br/>		}<br/><br/>		.label-wrap {<br/>			text-align: <strong class="lt io">left</strong>;<br/><br/>			.label {<br/>				padding-right: 8<strong class="lt io">px</strong>;<br/>			}<br/>		}<br/><br/>		&gt;<strong class="lt io">div</strong>&gt;<strong class="lt io">div</strong> {<br/>			min-width: 25<strong class="lt io">%</strong>;<br/>			min-height: 26<strong class="lt io">px</strong>;<br/>			line-height: 26<strong class="lt io">px</strong>;<br/>			white-space: <strong class="lt io">nowrap</strong>;<br/>			border-bottom: 1<strong class="lt io">px</strong> <strong class="lt io">solid</strong> rgba(0, 0, 0, 0.1);<br/>		}<br/><br/>		<strong class="lt io">input</strong> {<br/>			display: <strong class="lt io">inline-block</strong>;<br/>			padding: 0 2<strong class="lt io">px</strong>;<br/>			text-align: <strong class="lt io">center</strong>;<br/>			width: 24<strong class="lt io">px</strong>;<br/>			font-size: <strong class="lt io">inherit</strong>;<br/>			line-height: 1.5;<br/>			min-height: 24<strong class="lt io">px</strong>;<br/>			text-transform: <strong class="lt io">uppercase</strong>;<br/>		}<br/>	}<br/><br/>	.footer {<br/>		display: <strong class="lt io">flex</strong>;<br/>		justify-content: <strong class="lt io">flex-end</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/>		font-size: 90<strong class="lt io">%</strong>;<br/>		padding: 0.5<strong class="lt io">rem</strong>;<br/><br/>		&gt;<strong class="lt io">div</strong> {<br/>			padding: 0.5<strong class="lt io">rem</strong>;<br/>		}<br/>	}<br/>}<br/><br/>.edit {<br/><br/>	.tee-container {<br/>		max-width: 700<strong class="lt io">px</strong>;<br/>	}<br/><br/>	.scorecard {<br/>		display: <strong class="lt io">flex</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		max-width: <strong class="lt io">none</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/><br/>		.adv-toggle {<br/>			cursor: <strong class="lt io">pointer</strong>;<br/>		}<br/><br/>		.hole {<br/>			min-width: 8<strong class="lt io">%</strong>;<br/>			text-align: <strong class="lt io">center</strong>;<br/><br/>			<strong class="lt io">&amp;</strong>.labels {<br/>				min-width: 14<strong class="lt io">%</strong>;<br/>				flex-grow: 2;<br/>				display: <strong class="lt io">flex</strong>;<br/><br/>				&gt;<strong class="lt io">div</strong> {<br/>					width: 60<strong class="lt io">%</strong>;<br/>				}<br/>			}<br/><br/>			<strong class="lt io">&amp;</strong>.sum {<br/>				min-width: 26<strong class="lt io">%</strong>;<br/>				flex-grow: 3;<br/>				display: <strong class="lt io">flex</strong>;<br/><br/>				&gt;<strong class="lt io">div</strong> {<br/>					width: 33<strong class="lt io">%</strong>;<br/>				}<br/>			}<br/><br/>			&gt;<strong class="lt io">div</strong> {<br/>				flex-direction: <strong class="lt io">column</strong>;<br/>			}<br/><br/>			.adv.hide {<br/>				display: <strong class="lt io">none</strong>;<br/>			}<br/><br/>			<strong class="lt io">&amp;</strong>.sum~.hole {<br/>				margin-top: 1.5<strong class="lt io">rem</strong>;<br/>			}<br/>		}<br/><br/>		.footer {<br/>			justify-content: <strong class="lt io">flex-start</strong>;<br/>			align-items: <strong class="lt io">flex-end</strong>;<br/>			padding-left: 0;<br/>		}<br/><br/>		.info {<br/>			margin-left: <strong class="lt io">auto</strong>;<br/><br/>			&gt;<strong class="lt io">div</strong> {<br/>				display: <strong class="lt io">inline-block</strong>;<br/>				padding: 0.5<strong class="lt io">rem</strong>;<br/>			}<br/>		}<br/><br/>		.date-field {<br/>			padding-left: 0;<br/>		}<br/><br/>		.footer <strong class="lt io">label</strong> {<br/>			display: <strong class="lt io">block</strong>;<br/>		}<br/><br/>		.notes {<br/>			width: 100<strong class="lt io">%</strong>;<br/><br/>			&gt;<strong class="lt io">textarea</strong> {<br/>				width: 100<strong class="lt io">%</strong>;<br/>			}<br/>		}<br/><br/>		.submit {<br/>			padding-right: 1<strong class="lt io">rem</strong>;<br/>			padding-left: 2<strong class="lt io">rem</strong>;<br/>		}<br/><br/>		.footer&gt;<strong class="lt io">div</strong>:last-child {<br/>			flex: 0 0 100<strong class="lt io">%</strong>;<br/>			display: <strong class="lt io">flex</strong>;<br/>			justify-content: <strong class="lt io">space-between</strong>;<br/>			padding-left: 0;<br/>		}<br/>	}<br/>}<br/><br/><em class="mm">/* 480 @16 */</em><br/><strong class="lt io">@media</strong> <strong class="lt io">screen</strong> <strong class="lt io">and</strong> (min-width: 30<strong class="lt io">em</strong>) {<br/>	.course-modal {<br/>		font-size: 16<strong class="lt io">px</strong>;<br/>	}<br/>}<br/><br/><em class="mm">/* 768 @16 */</em><br/><strong class="lt io">@media</strong> <strong class="lt io">screen</strong> <strong class="lt io">and</strong> (min-width: 48<strong class="lt io">em</strong>) {<br/>	.tee-container {<br/>		max-width: 40<strong class="lt io">rem</strong>;<br/>	}<br/><br/>	.scorecard {<br/>		display: <strong class="lt io">flex</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		max-width: <strong class="lt io">none</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/><br/>		.hole {<br/>			min-width: 9<strong class="lt io">%</strong>;<br/>			text-align: <strong class="lt io">center</strong>;<br/><br/>			<strong class="lt io">&amp;</strong>.sum {<br/>				min-width: 26<strong class="lt io">%</strong>;<br/>				flex-grow: 3;<br/>				display: <strong class="lt io">flex</strong>;<br/><br/>				&gt;<strong class="lt io">div</strong> {<br/>					width: 33<strong class="lt io">%</strong>;<br/>				}<br/><br/>				~.hole {<br/>					margin-top: 1.5<strong class="lt io">rem</strong>;<br/>				}<br/>			}<br/><br/>			&gt;<strong class="lt io">div</strong> {<br/>				flex-direction: <strong class="lt io">column</strong>;<br/>			}<br/>		}<br/>	}<br/>}<br/><br/><em class="mm">/* 1024 @16 */</em><br/><strong class="lt io">@media</strong> <strong class="lt io">screen</strong> <strong class="lt io">and</strong> (min-width: 64<strong class="lt io">em</strong>) {<br/>	.tee-container {<br/>		max-width: 64<strong class="lt io">em</strong>;<br/>	}<br/><br/>	.scorecard .hole {<br/>		display: <strong class="lt io">flex</strong>;<br/>		align-items: <strong class="lt io">flex-start</strong>;<br/>		min-width: 4.5<strong class="lt io">%</strong>;<br/><br/>		<strong class="lt io">&amp;</strong>.sum {<br/>			min-width: 10<strong class="lt io">%</strong>;<br/><br/>			~.hole {<br/>				margin-top: <strong class="lt io">auto</strong>;<br/>			}<br/>		}<br/>	}<br/>}</span></pre><p id="1f74" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们到了有趣的部分，我们将编辑运行<code class="fe mb mc md lt b">create-react-app</code>时创建的样板文件<code class="fe mb mc md lt b">src/App.js</code>。</p><p id="d598" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="835a" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">import</strong> axios from 'axios';<br/><strong class="lt io">import</strong> { useState, useEffect } from 'react';<br/><strong class="lt io">import</strong> Hole from './hole'<br/><br/><strong class="lt io">function</strong> App() {<br/>	<strong class="lt io">const</strong> [loading, setLoading] = useState(<strong class="lt io">false</strong>);<br/>	<strong class="lt io">const</strong> [course, setCourse] = useState(<strong class="lt io">null</strong>);<br/><br/>	<strong class="lt io">let</strong> content = {};<br/><br/>    useEffect(() =&gt; {<br/>		fetchData();<br/>	}, [])<br/><br/>	<strong class="lt io">const</strong> fetchData = <strong class="lt io">async</strong> () =&gt; {<br/><br/>		<strong class="lt io">const</strong> TEE_SVC_URL = 'tees.json';<br/><br/>		<strong class="lt io">try</strong> {<br/>			setLoading(<strong class="lt io">true</strong>);<br/>			<strong class="lt io">const</strong> response = <strong class="lt io">await</strong> axios.get(TEE_SVC_URL);<br/>			<strong class="lt io">const</strong> data = response.data<br/>			setCourse(data);<br/>			setLoading(<strong class="lt io">false</strong>);<br/>		} <strong class="lt io">catch</strong> (e) {<br/>			console.log(e);<br/>			setLoading(<strong class="lt io">false</strong>);<br/>		}<br/>	}<br/><br/>	<strong class="lt io">if</strong> (loading || course == <strong class="lt io">null</strong>) {<br/>		content.list = &lt;div&gt;Loading...&lt;/div&gt;;<br/>	} <strong class="lt io">else</strong> {<br/>		<strong class="lt io">let</strong> yardsOut,<br/>			yardsIn,<br/>			yards,<br/>			parOut,<br/>			parIn,<br/>			par;<br/><br/>		content.list = course.tees.map((item) =&gt; {<br/>			yardsOut = 0;<br/>			yardsIn = 0;<br/>			yards = 0;<br/>			parOut = 0;<br/>			parIn = 0;<br/>			par = 0;<br/>			<strong class="lt io">return</strong> (<br/>				&lt;div className="tee-container"&gt;<br/>					&lt;div className="scorecard"&gt;<br/>						&lt;div className="header"&gt;<br/>							&lt;div className="tee"&gt;{item.tee} {item.gender}&lt;/div&gt;<br/>						&lt;/div&gt;<br/>						{item.holes.map((hole, i) =&gt; {<br/>							yards = yards + Number(hole.yards);<br/>							par = par + Number(hole.par);<br/>							<strong class="lt io">if</strong> (i &lt; 9) {<br/>								yardsOut = yardsOut + Number(hole.yards);<br/>								parOut = parOut + Number(hole.par);<br/>							}<br/>							<strong class="lt io">if</strong> (i &gt; 8) {<br/>								yardsIn = yardsIn + Number(hole.yards);<br/>								parIn = parIn + Number(hole.par);<br/>							}<br/>							<strong class="lt io">return</strong> (<br/>								&lt;Hole index={i} item={hole} yardsOut={yardsOut} yardsIn={yardsIn} yards={yards} parOut={parOut} parIn={parIn} par={par} /&gt;<br/>							);<br/>						})}<br/>						&lt;div className="footer"&gt;<br/>							&lt;div&gt;Slope {item.slope}&lt;/div&gt;<br/>							&lt;div&gt;Rating {item.rating}&lt;/div&gt;<br/>						&lt;/div&gt;<br/>					&lt;/div&gt;<br/>				&lt;/div&gt;<br/>			);<br/>		});<br/>  }<br/><br/>  <strong class="lt io">return</strong> (<br/>	&lt;div className="course"&gt;<br/>		{content.list}<br/>	&lt;/div&gt;<br/>	)<br/>}<br/><br/><strong class="lt io">export</strong> <strong class="lt io">default</strong> App;</span></pre><p id="0f2c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该应用程序现在应该呈现所有的记分卡数据，但没有任何样式，很难理解这里显示的内容。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nh"><img src="../Images/70644ffaf30655a47b4f2f82dd63ffa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqF176ymuIou-sHeXU_6sA.png"/></div></div></figure><p id="f916" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们创建一些 Sass 文件来生成我们的应用程序 css，但是首先我们需要安装一个 Sass 处理器。您需要首先使用 Ctrl+c 停止当前正在运行的 React 脚本。一旦您完成了 Sass 的安装，您可以使用<code class="fe mb mc md lt b">npm start</code>再次启动本地开发环境。</p><p id="3b54" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装 Sass</p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="9867" class="kz la in lt b gy lx ly l lz ma">npm i sass</span></pre><p id="95c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe mb mc md lt b">src</code>文件夹中，创建这个<code class="fe mb mc md lt b">tees</code> Sass 模块。</p><p id="18d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">蒂斯. scss </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="6fde" class="kz la in lt b gy lx ly l lz ma">.tee-container {<br/>	padding-top: 1<strong class="lt io">rem</strong>;<br/>	margin-bottom: 1.5<strong class="lt io">rem</strong>;<br/>	max-width: 30<strong class="lt io">rem</strong>;<br/><br/>	<strong class="lt io">input</strong> {<br/>		box-sizing: <strong class="lt io">border-box</strong>;<br/>		font-family: <strong class="lt io">inherit</strong>;<br/>		box-shadow: 0 0 0 <strong class="lt io">transparent</strong>;<br/>		border-radius: 4<strong class="lt io">px</strong>;<br/>		border: 1<strong class="lt io">px</strong> <strong class="lt io">solid</strong> #8c8f94;<br/>		background-color: #fff;<br/>		color: #2c3338;<br/>	}<br/><br/>	<strong class="lt io">input</strong>[<strong class="lt io">readonly</strong>] {<br/>		background-color: #f0f0f1;<br/>	}<br/>}<br/><br/>.scorecard {<br/>	.header {<br/>		display: <strong class="lt io">flex</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/>		padding: 0.5<strong class="lt io">rem</strong> 0;<br/>		align-items: <strong class="lt io">center</strong>;<br/><br/>		.btn {<br/>			margin-left: <strong class="lt io">auto</strong>;<br/>		}<br/>		.btn ~ .btn {<br/>			margin-left: 10<strong class="lt io">px</strong>;<br/>		}<br/><br/>		.golfer {<br/>			min-width: 100<strong class="lt io">%</strong>;<br/>		}<br/>	}<br/><br/>	.hole {<br/>		&gt;<strong class="lt io">div</strong> {<br/>			display: <strong class="lt io">flex</strong>;<br/>			width: 100<strong class="lt io">%</strong>;<br/>		}<br/><br/>		.label-wrap {<br/>			text-align: <strong class="lt io">left</strong>;<br/><br/>			.label {<br/>				padding-right: 8<strong class="lt io">px</strong>;<br/>			}<br/>		}<br/><br/>		&gt;<strong class="lt io">div</strong>&gt;<strong class="lt io">div</strong> {<br/>			min-width: 25<strong class="lt io">%</strong>;<br/>			min-height: 26<strong class="lt io">px</strong>;<br/>			line-height: 26<strong class="lt io">px</strong>;<br/>			white-space: <strong class="lt io">nowrap</strong>;<br/>			border-bottom: 1<strong class="lt io">px</strong> <strong class="lt io">solid</strong> rgba(0, 0, 0, 0.1);<br/>		}<br/><br/>		<strong class="lt io">input</strong> {<br/>			display: <strong class="lt io">inline-block</strong>;<br/>			padding: 0 2<strong class="lt io">px</strong>;<br/>			text-align: <strong class="lt io">center</strong>;<br/>			width: 24<strong class="lt io">px</strong>;<br/>			font-size: <strong class="lt io">inherit</strong>;<br/>			line-height: 1.5;<br/>			min-height: 24<strong class="lt io">px</strong>;<br/>			text-transform: <strong class="lt io">uppercase</strong>;<br/>		}<br/>	}<br/><br/>	.footer {<br/>		display: <strong class="lt io">flex</strong>;<br/>		justify-content: <strong class="lt io">flex-end</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/>		font-size: 90<strong class="lt io">%</strong>;<br/>		padding: 0.5<strong class="lt io">rem</strong>;<br/><br/>		&gt;<strong class="lt io">div</strong> {<br/>			padding: 0.5<strong class="lt io">rem</strong>;<br/>		}<br/>	}<br/>}<br/><br/>.edit {<br/><br/>	.tee-container {<br/>		max-width: 700<strong class="lt io">px</strong>;<br/>	}<br/><br/>	.scorecard {<br/>		display: <strong class="lt io">flex</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		max-width: <strong class="lt io">none</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/><br/>		.adv-toggle {<br/>			cursor: <strong class="lt io">pointer</strong>;<br/>		}<br/><br/>		.hole {<br/>			min-width: 8<strong class="lt io">%</strong>;<br/>			text-align: <strong class="lt io">center</strong>;<br/><br/>			<strong class="lt io">&amp;</strong>.labels {<br/>				min-width: 14<strong class="lt io">%</strong>;<br/>				flex-grow: 2;<br/>				display: <strong class="lt io">flex</strong>;<br/><br/>				&gt;<strong class="lt io">div</strong> {<br/>					width: 60<strong class="lt io">%</strong>;<br/>				}<br/>			}<br/><br/>			<strong class="lt io">&amp;</strong>.sum {<br/>				min-width: 26<strong class="lt io">%</strong>;<br/>				flex-grow: 3;<br/>				display: <strong class="lt io">flex</strong>;<br/><br/>				&gt;<strong class="lt io">div</strong> {<br/>					width: 33<strong class="lt io">%</strong>;<br/>				}<br/>			}<br/><br/>			&gt;<strong class="lt io">div</strong> {<br/>				flex-direction: <strong class="lt io">column</strong>;<br/>			}<br/><br/>			.adv.hide {<br/>				display: <strong class="lt io">none</strong>;<br/>			}<br/><br/>			<strong class="lt io">&amp;</strong>.sum~.hole {<br/>				margin-top: 1.5<strong class="lt io">rem</strong>;<br/>			}<br/>		}<br/><br/>		.footer {<br/>			justify-content: <strong class="lt io">flex-start</strong>;<br/>			align-items: <strong class="lt io">flex-end</strong>;<br/>			padding-left: 0;<br/>		}<br/><br/>		.info {<br/>			margin-left: <strong class="lt io">auto</strong>;<br/><br/>			&gt;<strong class="lt io">div</strong> {<br/>				display: <strong class="lt io">inline-block</strong>;<br/>				padding: 0.5<strong class="lt io">rem</strong>;<br/>			}<br/>		}<br/><br/>		.date-field {<br/>			padding-left: 0;<br/>		}<br/><br/>		.footer <strong class="lt io">label</strong> {<br/>			display: <strong class="lt io">block</strong>;<br/>		}<br/><br/>		.notes {<br/>			width: 100<strong class="lt io">%</strong>;<br/><br/>			&gt;<strong class="lt io">textarea</strong> {<br/>				width: 100<strong class="lt io">%</strong>;<br/>			}<br/>		}<br/><br/>		.submit {<br/>			padding-right: 1<strong class="lt io">rem</strong>;<br/>			padding-left: 2<strong class="lt io">rem</strong>;<br/>		}<br/><br/>		.footer&gt;<strong class="lt io">div</strong>:last-child {<br/>			flex: 0 0 100<strong class="lt io">%</strong>;<br/>			display: <strong class="lt io">flex</strong>;<br/>			justify-content: <strong class="lt io">space-between</strong>;<br/>			padding-left: 0;<br/>		}<br/>	}<br/>}<br/><br/><em class="mm">/* 480 @16 */</em><br/><strong class="lt io">@media</strong> <strong class="lt io">screen</strong> <strong class="lt io">and</strong> (min-width: 30<strong class="lt io">em</strong>) {<br/>	.course-modal {<br/>		font-size: 16<strong class="lt io">px</strong>;<br/>	}<br/>}<br/><br/><em class="mm">/* 768 @16 */</em><br/><strong class="lt io">@media</strong> <strong class="lt io">screen</strong> <strong class="lt io">and</strong> (min-width: 48<strong class="lt io">em</strong>) {<br/>	.tee-container {<br/>		max-width: 40<strong class="lt io">rem</strong>;<br/>	}<br/><br/>	.scorecard {<br/>		display: <strong class="lt io">flex</strong>;<br/>		flex-wrap: <strong class="lt io">wrap</strong>;<br/>		max-width: <strong class="lt io">none</strong>;<br/>		width: 100<strong class="lt io">%</strong>;<br/><br/>		.hole {<br/>			min-width: 9<strong class="lt io">%</strong>;<br/>			text-align: <strong class="lt io">center</strong>;<br/><br/>			<strong class="lt io">&amp;</strong>.sum {<br/>				min-width: 26<strong class="lt io">%</strong>;<br/>				flex-grow: 3;<br/>				display: <strong class="lt io">flex</strong>;<br/><br/>				&gt;<strong class="lt io">div</strong> {<br/>					width: 33<strong class="lt io">%</strong>;<br/>				}<br/><br/>				~.hole {<br/>					margin-top: 1.5<strong class="lt io">rem</strong>;<br/>				}<br/>			}<br/><br/>			&gt;<strong class="lt io">div</strong> {<br/>				flex-direction: <strong class="lt io">column</strong>;<br/>			}<br/>		}<br/>	}<br/>}<br/><br/><em class="mm">/* 1024 @16 */</em><br/><strong class="lt io">@media</strong> <strong class="lt io">screen</strong> <strong class="lt io">and</strong> (min-width: 64<strong class="lt io">em</strong>) {<br/>	.tee-container {<br/>		max-width: 64<strong class="lt io">em</strong>;<br/>	}<br/><br/>	.scorecard .hole {<br/>		display: <strong class="lt io">flex</strong>;<br/>		align-items: <strong class="lt io">flex-start</strong>;<br/>		min-width: 4.5<strong class="lt io">%</strong>;<br/><br/>		<strong class="lt io">&amp;</strong>.sum {<br/>			min-width: 10<strong class="lt io">%</strong>;<br/><br/>			~.hole {<br/>				margin-top: <strong class="lt io">auto</strong>;<br/>			}<br/>		}<br/>	}<br/>}</span></pre><p id="c703" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe mb mc md lt b">golf-scorecard/src</code>文件夹中，将<code class="fe mb mc md lt b">App.css</code>重命名为<code class="fe mb mc md lt b">app.scss</code>。</p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="92d3" class="kz la in lt b gy lx ly l lz ma"><em class="mm"># navigate to the src directory</em><br/>cd src<br/><br/>mv App.css app.scss</span></pre><p id="2dee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将这一行添加到<code class="fe mb mc md lt b">app.scss</code>以导入新的<code class="fe mb mc md lt b">tees</code> Sass 模块。</p><p id="1040" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> app.scss </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="e158" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">@import</strong> "./tees";</span></pre><p id="c0fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们需要将<code class="fe mb mc md lt b">app.scss</code>导入到 React 应用程序中。您可以在导入孔组件后，在应用程序顶部附近添加此导入。例如</p><p id="74b3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="f2d5" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">import</strong> axios from 'axios';<br/><strong class="lt io">import</strong> { useState, useEffect } from 'react';<br/><strong class="lt io">import</strong> Hole from './hole'<br/><strong class="lt io">import</strong> './app.scss';<br/><br/>...</span></pre><p id="8462" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，通过一些造型，它开始看起来像高尔夫记分卡。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nh"><img src="../Images/fb74d9d17d8bd6ae2fdada33ccdd27a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CbmRhZSSHkbPWQCWTo6f3A.png"/></div></div></figure><h1 id="510f" class="mq la in bd lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd ne nf lq ng bi translated">分数模型</h1><p id="419b" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">现在，我们将为一个可以输入课程分数的模型添加组件。每门课程都有一个分数按钮，用于打开表单输入分数。</p><p id="fa27" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe mb mc md lt b">src</code>文件夹中，在名为 button 的新文件夹中创建按钮组件文件，如下所示。</p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="2008" class="kz la in lt b gy lx ly l lz ma"><em class="mm"># you should be in the src directory</em><br/><br/>mkdir button<br/>cd button<br/>touch index.js</span></pre><p id="9cb8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们在这里做的是创建一个包含新的<code class="fe mb mc md lt b">index.js</code>文件的<code class="fe mb mc md lt b">button</code>子目录。</p><p id="ee1b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将下面的 JavaScript 添加到我们的<code class="fe mb mc md lt b">button/index.js</code>中。</p><p id="9d7e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> index.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="dbca" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">function</strong> Button(props) {<br/>	<strong class="lt io">return</strong> (<br/>		&lt;div className='btn'&gt;<br/>			&lt;button onClick={(evt) =&gt; props.click(evt, props.item)} disabled={props.disabled}&gt;<br/>				{props.icon &amp;&amp; &lt;span className={props.icon}&gt;&lt;/span&gt;}<br/>				&lt;span className="btn-text"&gt;{props.label}&lt;/span&gt;<br/>			&lt;/button&gt;<br/>		&lt;/div&gt;<br/>	)<br/>}<br/><br/><strong class="lt io">export</strong> <strong class="lt io">default</strong> Button;</span></pre><p id="499c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的模态需要一个<code class="fe mb mc md lt b">index.js</code>和一个<code class="fe mb mc md lt b">use.js</code>文件，所以让我们创建<code class="fe mb mc md lt b">modal</code>子目录及其两个空的 javascript 文件，稍后我们将向其中添加代码。</p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="d380" class="kz la in lt b gy lx ly l lz ma"><em class="mm"># you should be in the src directory</em><br/><br/>mkdir modal<br/>cd modal<br/>touch index.js use.js</span></pre><p id="298d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于我们的模型，我们将创建一个自定义的 React 挂钩。打开<code class="fe mb mc md lt b">use.js</code>文件进行编辑，并添加以下自定义 react 钩子代码。</p><p id="a090" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> use.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="36dd" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">import</strong> { useState, useEffect } from 'react';<br/><em class="mm">/**<br/> * useModal<br/> * @returns Custom React Hook<br/> * usage:`const {modalView, modalToggle} = useModal();`<br/> *       `modalToggle();` e.g., for onClick<br/> */</em><br/><strong class="lt io">const</strong> useModal = () =&gt; {<br/>	<strong class="lt io">const</strong> [modalView, setModalView] = useState(<strong class="lt io">false</strong>);<br/><br/>	<em class="mm">/**<br/>	 * TODO<br/>	 * Fix this so when multiple modals are open this only applies to the first modal<br/>	 */</em><br/>	useEffect(() =&gt; {<br/>		<strong class="lt io">if</strong> (modalView) {<br/>			document.addEventListener('keydown', handleKeyDown);<br/>			document.body.classList.add('light-modal-open');<br/>		} <strong class="lt io">else</strong> {<br/>			document.body.classList.remove('light-modal-open');<br/>		}<br/>		<strong class="lt io">return</strong> () =&gt; document.removeEventListener('keydown', handleKeyDown);<br/>	}, [modalView]);<br/><br/>	<strong class="lt io">function</strong> modalToggle() {<br/>		setModalView(!modalView);<br/>	}<br/><br/>	<strong class="lt io">function</strong> handleKeyDown(event) {<br/>		<strong class="lt io">if</strong> (event.keyCode !== 27) <strong class="lt io">return</strong>;<br/>		modalToggle();<br/>	}<br/><br/>	<strong class="lt io">return</strong> {<br/>		modalView,<br/>		modalToggle,<br/>	}<br/>};<br/><br/><strong class="lt io">export</strong> <strong class="lt io">default</strong> useModal;</span></pre><p id="31cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> index.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="a5b8" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">import</strong> React from 'react';<br/><strong class="lt io">import</strong> ReactDOM from 'react-dom'<br/><br/><strong class="lt io">function</strong> Modal(props) {<br/>	<strong class="lt io">const</strong> fragClass = `light-modal <strong class="lt io">${</strong>props.classes || ''<strong class="lt io">}</strong>`.trim();<br/><br/>	<strong class="lt io">return</strong> props.modalView ? ReactDOM.createPortal(<br/>		&lt;React.Fragment&gt;<br/>			&lt;div className={fragClass} aria-modal aria-hidden tabIndex={-1} role="dialog" <em class="mm">/*onClick={props.hide}*/</em>&gt;<br/>				&lt;div className="light-modal-content animated zoomInUp"&gt;<br/>					&lt;div className="light-modal-header"&gt;<br/>						&lt;h3 className="light-modal-heading"&gt;{props.content.heading}&lt;/h3&gt;<br/>						&lt;a href="#" className="light-modal-close-icon" onClick={props.hide} aria-label="close"&gt;×&lt;/a&gt;<br/>					&lt;/div&gt;<br/>					&lt;div className="light-modal-body"&gt;<br/>						{props.content.body}<br/>					&lt;/div&gt;<br/>					&lt;div className="light-modal-footer"&gt;<br/>						&lt;a href="#" className="light-modal-close-btn" onClick={props.hide} aria-label="close"&gt;Close&lt;/a&gt;<br/>						{props.content.footer}<br/>					&lt;/div&gt;<br/>				&lt;/div&gt;<br/>			&lt;/div&gt;<br/>		&lt;/React.Fragment&gt;, document.body<br/>	) : <strong class="lt io">null</strong>;<br/>}<br/><br/><strong class="lt io">export</strong> <strong class="lt io">default</strong> Modal;</span></pre><p id="481f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">更新<code class="fe mb mc md lt b">App.js</code>现在我们已经创建了模式依赖关系:</p><p id="e490" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="8e26" class="kz la in lt b gy lx ly l lz ma">...<br/><br/><strong class="lt io">function</strong> App() {<br/>  <strong class="lt io">const</strong> [loading, setLoading] = useState(<strong class="lt io">false</strong>);<br/>  <strong class="lt io">const</strong> [course, setCourse] = useState(<strong class="lt io">null</strong>);<br/>  <strong class="lt io">const</strong> [modalClass, setModalClass] = useState(<strong class="lt io">null</strong>);<br/>  <strong class="lt io">const</strong> [modalContent, setModalContent] = useState(<strong class="lt io">null</strong>);<br/>  <strong class="lt io">const</strong> { modalView, modalToggle } = useModal();<br/><br/>...</span></pre><h1 id="0ce2" class="mq la in bd lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd ne nf lq ng bi translated">分数条目</h1><p id="b204" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">创建这个<code class="fe mb mc md lt b">score.js</code> React 组件文件来呈现我们的分数输入表单。</p><p id="bf08" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> score.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="de20" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">import</strong> { useState, useEffect } from 'react';<br/><em class="mm">// import axios from 'axios'; // for REST API<br/></em><strong class="lt io">import</strong> Button from "./button";<br/><strong class="lt io">import</strong> HoleScore from './hole-score'<br/><br/><strong class="lt io">function</strong> Score(props) {<br/>	<strong class="lt io">const</strong> [loading, setLoading] = useState(<strong class="lt io">false</strong>);<br/>	<strong class="lt io">const</strong> [locked, setLocked] = useState(<strong class="lt io">null</strong>);<br/>	<strong class="lt io">const</strong> [posted, setPosted] = useState(<strong class="lt io">null</strong>);<br/>	<strong class="lt io">const</strong> [strokesOut, setStrokesOut] = useState(0);<br/>	<strong class="lt io">const</strong> [strokesIn, setStrokesIn] = useState(0);<br/>	<strong class="lt io">const</strong> [strokesTotal, setStrokesTotal] = useState(0);<br/>	<strong class="lt io">const</strong> [puttsOut, setPuttsOut] = useState(0);<br/>	<strong class="lt io">const</strong> [puttsIn, setPuttsIn] = useState(0);<br/>	<strong class="lt io">const</strong> [puttsTotal, setPuttsTotal] = useState(0);<br/>	<strong class="lt io">const</strong> [fairwayOut, setFairwayOut] = useState(0);<br/>	<strong class="lt io">const</strong> [fairwayIn, setFairwayIn] = useState(0);<br/>	<strong class="lt io">const</strong> [fairwayTotal, setFairwayTotal] = useState(0);<br/>	<strong class="lt io">const</strong> [bunkerOut, setBunkerOut] = useState(0);<br/>	<strong class="lt io">const</strong> [bunkerIn, setBunkerIn] = useState(0);<br/>	<strong class="lt io">const</strong> [bunkerTotal, setBunkerTotal] = useState(0);<br/>	<strong class="lt io">const</strong> [penaltyOut, setPenaltyOut] = useState(0);<br/>	<strong class="lt io">const</strong> [penaltyIn, setPenaltyIn] = useState(0);<br/>	<strong class="lt io">const</strong> [penaltyTotal, setPenaltyTotal] = useState(0);<br/><br/>	<strong class="lt io">let</strong> content = {};<br/><br/>	useEffect(() =&gt; {<br/>		init();<br/>	}, []);<br/><br/>	<strong class="lt io">const</strong> postData = <strong class="lt io">async</strong> (data) =&gt; {<br/>		<em class="mm">/** In the real world, this would post to a REST API.<br/>			For this demo, we will use session storage and sessionScore state. */</em><br/><br/>		<em class="mm">// const SCORE_SVC_URL = `${rest_api_base_url}/score`;<br/></em>		<strong class="lt io">const</strong> body = JSON.stringify(data);<br/><br/>		<strong class="lt io">try</strong> {<br/>			<em class="mm">// setLoading(true);<br/></em>			<em class="mm">// const response = await axios.post(SCORE_SVC_URL, body, {<br/></em>			<em class="mm">// 	headers: {<br/></em>			<em class="mm">// 		'Content-Type': 'application/json'<br/></em>			<em class="mm">// 	}<br/></em>			<em class="mm">// });<br/></em><br/>			setLoading(<strong class="lt io">false</strong>);<br/><br/>			<em class="mm">/** for REST API */</em><br/>			<em class="mm">// handleResponse(response);<br/></em><br/>			<em class="mm">/** for demo */</em><br/>			window.sessionStorage.setItem('golf_scorecard', body)<br/>			setPosted(<br/>				&lt;div&gt;<br/>					&lt;div&gt;Score: &lt;b&gt;{data.strokesTotal}&lt;/b&gt;&lt;/div&gt;<br/>					&lt;div&gt;{data.course}, {data.location}&lt;/div&gt;<br/>					&lt;div&gt;{data.tee}, {data.gender}, rating {data.rating} / slope {data.slope}&lt;/div&gt;<br/>					&lt;div&gt;{data.date}, {data.time}&lt;/div&gt;<br/>					&lt;div&gt;Notes: {data.notes}&lt;/div&gt;<br/>				&lt;/div&gt;);<br/>		} <strong class="lt io">catch</strong> (e) {<br/>			console.log(e);<br/>			setLoading(<strong class="lt io">false</strong>);<br/>		}<br/>	}<br/><br/>	<strong class="lt io">let</strong> score,<br/>		yardsOut = 0,<br/>		yardsIn = 0,<br/>		yards = 0,<br/>		parOut = 0,<br/>		parIn = 0,<br/>		par = 0;<br/><br/>	<strong class="lt io">function</strong> init() {<br/>		<strong class="lt io">const</strong> allowed = ['L', 'F', 'R'];<br/><br/>		[].slice.call(document.querySelectorAll(`input[name^='fairway_']`)).forEach((el) =&gt; {<br/>			el.addEventListener('keydown', <strong class="lt io">function</strong> (evt) {<br/>				<strong class="lt io">switch</strong> (evt.key) {<br/>					<strong class="lt io">case</strong> 'Up': <em class="mm">// IE/Edge<br/></em>					<strong class="lt io">case</strong> 'ArrowUp':<br/>						evt.target.value = 'F';<br/>						<strong class="lt io">break</strong>;<br/>					<strong class="lt io">case</strong> 'Left': <em class="mm">// IE/Edge<br/></em>					<strong class="lt io">case</strong> 'ArrowLeft':<br/>						evt.target.value = 'L';<br/>						<strong class="lt io">break</strong>;<br/>					<strong class="lt io">case</strong> 'Right': <em class="mm">// IE/Edge<br/></em>					<strong class="lt io">case</strong> 'ArrowRight':<br/>						evt.target.value = 'R';<br/>						<strong class="lt io">break</strong>;<br/>					<strong class="lt io">default</strong>:<br/>						evt.target.value = evt.target.value.toUpperCase();<br/>						<strong class="lt io">if</strong> (allowed.includes(evt.target.value)) {<br/>							<strong class="lt io">return</strong>;<br/>						}<br/>						<strong class="lt io">if</strong> (evt.key &amp;&amp; !allowed.includes(evt.key.toUpperCase())) {<br/>							evt.target.value = '';<br/>						}<br/>				}<br/><br/>				handleScoreChange(evt);<br/>			}, <strong class="lt io">true</strong>);<br/>		});<br/><br/>		<strong class="lt io">if</strong> (props.action == 'update') {<br/>			setLocked('readonly');<br/>			setStrokesOut(props.content.strokesOut);<br/>			setStrokesIn(props.content.strokesIn);<br/>			setStrokesTotal(props.content.strokesTotal);<br/>			setPuttsOut(props.content.puttsOut);<br/>			setPuttsIn(props.content.puttsIn);<br/>			setPuttsTotal(props.content.puttsTotal);<br/>			setFairwayOut(props.content.fairwayOut);<br/>			setFairwayIn(props.content.fairwayIn);<br/>			setFairwayTotal(props.content.fairwayTotal);<br/>			setBunkerOut(props.content.bunkerOut);<br/>			setBunkerIn(props.content.bunkerIn);<br/>			setBunkerTotal(props.content.bunkerTotal);<br/>			setPenaltyOut(props.content.penaltyOut);<br/>			setPenaltyIn(props.content.penaltyIn);<br/>			setPenaltyTotal(props.content.penaltyTotal);<br/>		}<br/>	}<br/><br/>	<strong class="lt io">function</strong> advToggle(evt) {<br/>		evt.preventDefault();<br/><br/>		[].slice.call(document.querySelectorAll('.edit .hole .adv')).forEach((el) =&gt; {<br/>			<strong class="lt io">if</strong> (el.classList.contains('hide')) {<br/>				el.classList.remove('hide');<br/>			} <strong class="lt io">else</strong> {<br/>				el.classList.add('hide');<br/>			}<br/>		}, <strong class="lt io">true</strong>);<br/>	}<br/><br/>	<strong class="lt io">function</strong> lockToggle(evt) {<br/>		evt.preventDefault();<br/><br/>		<strong class="lt io">if</strong> (locked == 'readonly') {<br/>			setLocked(<strong class="lt io">null</strong>);<br/>		} <strong class="lt io">else</strong> {<br/>			setLocked('readonly');<br/>		}<br/>	}<br/><br/>	<strong class="lt io">function</strong> sumScores(nodeList) {<br/>		<strong class="lt io">let</strong> sum = {};<br/>		sum.out = 0;<br/>		sum.<strong class="lt io">in</strong> = 0;<br/><br/>		[].slice.call(nodeList).forEach((el, index) =&gt; {<br/>			<strong class="lt io">if</strong> (index &lt; 9) {<br/>				sum.out = sum.out + Number(el.value);<br/>			} <strong class="lt io">else</strong> {<br/>				sum.<strong class="lt io">in</strong> = sum.<strong class="lt io">in</strong> + Number(el.value);<br/>			}<br/>		});<br/><br/>		<strong class="lt io">return</strong> sum;<br/>	}<br/><br/>	<em class="mm">/**<br/>	 * Replaces non-digit element value with an empty string<br/>	 * @param {*} el<br/>	 * @returns<br/>	 */</em><br/>	<strong class="lt io">function</strong> digitVal(el) {<br/>		<strong class="lt io">if</strong> (el.value &amp;&amp; isNaN(el.value)) {<br/>			<strong class="lt io">return</strong> el.value.replace(/[^\d]+/g,'');<br/>		} <strong class="lt io">else</strong> {<br/>			<strong class="lt io">return</strong> el.value;<br/>		}<br/>	}<br/><br/>	<strong class="lt io">function</strong> handleSubmit(evt) {<br/>		evt.preventDefault();<br/><br/>		score = props.content;<br/><br/>		score['yardsOut'] = yardsOut;<br/>		score['yardsIn'] = yardsIn;<br/>		score['yards'] = yards;<br/>		score['parOut'] = parOut;<br/>		score['parIn'] = parIn;<br/>		score['par'] = par;<br/>		score['strokesOut'] = strokesOut;<br/>		score['strokesIn'] = strokesIn;<br/>		score['strokesTotal'] = strokesTotal;<br/>		score['puttsOut'] = puttsOut;<br/>		score['puttsIn'] = puttsIn;<br/>		score['puttsTotal'] = puttsTotal;<br/>		score['fairwayOut'] = fairwayOut;<br/>		score['fairwayIn'] = fairwayIn;<br/>		score['fairwayTotal'] = fairwayTotal;<br/>		score['bunkerOut'] = bunkerOut;<br/>		score['bunkerIn'] = bunkerIn;<br/>		score['bunkerTotal'] = bunkerTotal;<br/>		score['penaltyOut'] = penaltyOut;<br/>		score['penaltyIn'] = penaltyIn;<br/>		score['penaltyTotal'] = penaltyTotal;<br/><br/>		score['date'] = evt.target.elements.date.value;<br/>		score['time'] = evt.target.elements.time.value;<br/>		score['notes'] = evt.target.elements.notes.value;<br/><br/>		Array.prototype.map.call(evt.target.elements, (el) =&gt; {<br/>			<strong class="lt io">let</strong> name = el.name.split('_');<br/>			<strong class="lt io">if</strong> (name[1] &amp;&amp; el.value.length == 0) {<br/>				<strong class="lt io">delete</strong> score.holes[name[1]-1][name[0]];<br/>			} <strong class="lt io">else</strong> <strong class="lt io">if</strong> (name[1]) {<br/>				score.holes[name[1]-1][name[0]] = el.value;<br/>			}<br/>		});<br/><br/>		postData(score);<br/>	}<br/><br/>	<strong class="lt io">function</strong> handleScoreChange(evt) {<br/>		<strong class="lt io">if</strong> (evt.target.name.startsWith('strokes_')) {<br/>			evt.target.value = digitVal(evt.target);<br/>			<strong class="lt io">const</strong> strokes = document.querySelectorAll(`input[name^='strokes_']`);<br/>			<strong class="lt io">const</strong> sumStrokes = sumScores(strokes);<br/><br/>			setStrokesOut(sumStrokes.out);<br/>			setStrokesIn(sumStrokes.<strong class="lt io">in</strong>);<br/>			setStrokesTotal(sumStrokes.<strong class="lt io">in</strong> + sumStrokes.out);<br/>		}<br/>		<strong class="lt io">if</strong> (evt.target.name.startsWith('putts_')) {<br/>			evt.target.value = digitVal(evt.target);<br/>			<strong class="lt io">const</strong> putts = document.querySelectorAll(`input[name^='putts_']`);<br/>			<strong class="lt io">const</strong> sumPutts = sumScores(putts);<br/><br/>			setPuttsOut(sumPutts.out);<br/>			setPuttsIn(sumPutts.<strong class="lt io">in</strong>);<br/>			setPuttsTotal(sumPutts.<strong class="lt io">in</strong> + sumPutts.out);<br/>		}<br/>		<strong class="lt io">if</strong> (evt.target.name.startsWith('bunker_')) {<br/>			evt.target.value = digitVal(evt.target);<br/>			<strong class="lt io">const</strong> bunker = document.querySelectorAll(`input[name^='bunker_']`);<br/>			<strong class="lt io">const</strong> sumBunker = sumScores(bunker);<br/><br/>			setBunkerOut(sumBunker.out);<br/>			setBunkerIn(sumBunker.<strong class="lt io">in</strong>);<br/>			setBunkerTotal(sumBunker.<strong class="lt io">in</strong> + sumBunker.out);<br/>		}<br/>		<strong class="lt io">if</strong> (evt.target.name.startsWith('penalty_')) {<br/>			evt.target.value = digitVal(evt.target);<br/>			<strong class="lt io">const</strong> penalty = document.querySelectorAll(`input[name^='penalty_']`);<br/>			<strong class="lt io">const</strong> sumPenalty = sumScores(penalty);<br/><br/>			setPenaltyOut(sumPenalty.out);<br/>			setPenaltyIn(sumPenalty.<strong class="lt io">in</strong>);<br/>			setPenaltyTotal(sumPenalty.<strong class="lt io">in</strong> + sumPenalty.out);<br/>		}<br/>		<strong class="lt io">if</strong> (evt.target.name.startsWith('fairway_')) {<br/>			<strong class="lt io">const</strong> fairway = document.querySelectorAll(`input[name^='fairway_']`);<br/>			<strong class="lt io">let</strong> sum = {};<br/>			sum.out = 0;<br/>			sum.<strong class="lt io">in</strong> = 0;<br/><br/>			[].slice.call(fairway).forEach((el, index) =&gt; {<br/>				<strong class="lt io">if</strong> (el.value == 'F') {<br/>					<strong class="lt io">if</strong> (index &lt; 9) {<br/>						sum.out = sum.out + 1;<br/>					} <strong class="lt io">else</strong> {<br/>						sum.<strong class="lt io">in</strong> = sum.<strong class="lt io">in</strong> + 1;<br/>					}<br/>				}<br/>			});<br/><br/>			setFairwayOut(sum.out);<br/>			setFairwayIn(sum.<strong class="lt io">in</strong>);<br/>			setFairwayTotal(sum.<strong class="lt io">in</strong> + sum.out);<br/>		}<br/>	}<br/><br/>    <em class="mm">/** Uncomment this function when using a REST API **/</em><br/>	<em class="mm">// function handleResponse(response) {<br/></em>	<em class="mm">// 	const data = JSON.parse(response.config.data);<br/></em>	<em class="mm">// 	if (response.status == 200) {<br/></em>	<em class="mm">// 		setPosted(<br/></em>	<em class="mm">// 			&lt;div&gt;<br/></em>	<em class="mm">// 				&lt;div&gt;Score: &lt;b&gt;{data.strokesTotal}&lt;/b&gt;&lt;/div&gt;<br/></em>	<em class="mm">// 				&lt;div&gt;{data.course}, {data.location}&lt;/div&gt;<br/></em>	<em class="mm">// 				&lt;div&gt;{data.tee}, {data.gender}, rating {data.rating} / slope {data.slope}&lt;/div&gt;<br/></em>	<em class="mm">// 				&lt;div&gt;{data.date}, {data.time}&lt;/div&gt;<br/></em>	<em class="mm">// 				&lt;div&gt;Notes: {data.notes}&lt;/div&gt;<br/></em>	<em class="mm">// 			&lt;/div&gt;);<br/></em>	<em class="mm">// 	} else {<br/></em>	<em class="mm">// 		setPosted(<br/></em>	<em class="mm">// 			&lt;div&gt;<br/></em>	<em class="mm">// 				&lt;div&gt;Error: &lt;b&gt;{response.status}&lt;/b&gt; {response.statusText}&lt;/div&gt;<br/></em>	<em class="mm">// 			&lt;/div&gt;);<br/></em>	<em class="mm">// 	}<br/></em>	<em class="mm">// }<br/></em><br/>	<strong class="lt io">if</strong> (posted) {<br/>		content =<br/>		&lt;div&gt;Score Posted&lt;/div&gt;<br/>	} <strong class="lt io">else</strong> {<br/>		content =<br/>		&lt;form onSubmit={(evt) =&gt; handleSubmit(evt)}&gt;<br/>			&lt;div className="tee-container"&gt;<br/>			&lt;div className="scorecard"&gt;<br/>				&lt;div className="header"&gt;<br/>					&lt;div className="tee"&gt;{props.content.tee} {props.content.gender}&lt;/div&gt;<br/>					{props.action == 'update' &amp;&amp;<br/>						&lt;Button click={lockToggle} label={`<strong class="lt io">${</strong>locked == 'readonly' ? 'edit' : 'view'<strong class="lt io">}</strong>`} /&gt;<br/>					}<br/>				&lt;/div&gt;<br/>				{props.content.holes.map((hole, i) =&gt; {<br/>					yards = yards + Number(hole.yards);<br/>					par = par + Number(hole.par);<br/>					<strong class="lt io">if</strong> (i &lt; 9) {<br/>						yardsOut = yardsOut + Number(hole.yards);<br/>						parOut = parOut + Number(hole.par);<br/>					}<br/>					<strong class="lt io">if</strong> (i &gt; 8) {<br/>						yardsIn = yardsIn + Number(hole.yards);<br/>						parIn = parIn + Number(hole.par);<br/>					}<br/>					<strong class="lt io">return</strong> (<br/>						&lt;HoleScore<br/>							locked={locked}<br/>							index={i}<br/>							item={hole}<br/>							yardsOut={yardsOut}<br/>							yardsIn={yardsIn}<br/>							yards={yards}<br/>							parOut={parOut}<br/>							parIn={parIn}<br/>							par={par}<br/>							strokesOut={strokesOut}<br/>							strokesIn={strokesIn}<br/>							strokesTotal={strokesTotal}<br/>							puttsOut={puttsOut}<br/>							puttsIn={puttsIn}<br/>							puttsTotal={puttsTotal}<br/>							fairwayOut={fairwayOut}<br/>							fairwayIn={fairwayIn}<br/>							fairwayTotal={fairwayTotal}<br/>							bunkerOut={bunkerOut}<br/>							bunkerIn={bunkerIn}<br/>							bunkerTotal={bunkerTotal}<br/>							penaltyOut={penaltyOut}<br/>							penaltyIn={penaltyIn}<br/>							penaltyTotal={penaltyTotal}<br/>							advToggle={advToggle}<br/>							scoreChange={handleScoreChange} /&gt;<br/>					);<br/>				})}<br/>				&lt;div className="footer"&gt;<br/>					&lt;div className="date-field"&gt;<br/>						&lt;input type="date" name="date" id="date" defaultValue={props.content.date} readOnly={locked} /&gt;<br/>					&lt;/div&gt;<br/>					&lt;div className="time-field"&gt;<br/>						&lt;input type="time" name="time" id="time" defaultValue={props.content.time} readOnly={locked} /&gt;<br/>					&lt;/div&gt;<br/>					&lt;div className="info"&gt;<br/>						&lt;div&gt;Slope {props.content.slope}&lt;/div&gt;<br/>						&lt;div&gt;Rating {props.content.rating}&lt;/div&gt;<br/>					&lt;/div&gt;<br/>					&lt;div&gt;<br/>						&lt;div className="notes"&gt;<br/>							&lt;label htmlFor="notes"&gt;Notes&lt;/label&gt;<br/>							&lt;textarea name="notes" id="notes" defaultValue={props.content.notes} readOnly={locked} /&gt;<br/>						&lt;/div&gt;<br/>						&lt;div className="submit"&gt;<br/>							&lt;input type="submit" value="Submit" disabled={`<strong class="lt io">${</strong>locked == 'readonly' ? 'disabled' : ''<strong class="lt io">}</strong>`} /&gt;<br/>						&lt;/div&gt;<br/>					&lt;/div&gt;<br/>				&lt;/div&gt;<br/>			&lt;/div&gt;<br/>			&lt;/div&gt;<br/>		&lt;/form&gt;<br/>	}<br/><br/>	<strong class="lt io">return</strong> (<br/>		&lt;div className="score"&gt;<br/>			{content}<br/>			&lt;div&gt;{posted}&lt;/div&gt;<br/>		&lt;/div&gt;<br/>	);<br/>}<br/><br/><strong class="lt io">export</strong> <strong class="lt io">default</strong> Score;</span></pre><p id="e63d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建这个<code class="fe mb mc md lt b">hole-score.js</code> React 组件文件，在我们的得分输入表单中呈现每个球洞的所有输入。</p><p id="0b9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> hole-score.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="2487" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">import</strong> Button from "./button";<br/><br/><strong class="lt io">function</strong> HoleScore(props) {<br/>	<strong class="lt io">let</strong> contentLabels,<br/>		contentOut,<br/>		contentIn,<br/>		contentTotal,<br/>		bunkerInput = `bunker_<strong class="lt io">${</strong>props.item.number<strong class="lt io">}</strong>`,<br/>		fairwayInput = `fairway_<strong class="lt io">${</strong>props.item.number<strong class="lt io">}</strong>`,<br/>		penaltyInput = `penalty_<strong class="lt io">${</strong>props.item.number<strong class="lt io">}</strong>`,<br/>		puttsInput = `putts_<strong class="lt io">${</strong>props.item.number<strong class="lt io">}</strong>`,<br/>		strokesInput = `strokes_<strong class="lt io">${</strong>props.item.number<strong class="lt io">}</strong>`,<br/>		labels = <strong class="lt io">false</strong>,<br/>		sum = <strong class="lt io">false</strong>;<br/><br/>	<strong class="lt io">if</strong> (props.index == 0 || props.index == 9) {<br/>		contentLabels =<br/>			&lt;div className="label-wrap"&gt;<br/>				&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br/>				&lt;div&gt;Yards&lt;/div&gt;<br/>				&lt;div&gt;Par&lt;/div&gt;<br/>				&lt;div className="label"&gt;Strokes&lt;/div&gt;<br/>				&lt;div className="adv-toggle"&gt;<br/>					&lt;Button click={props.advToggle} label="adv" /&gt;<br/>				&lt;/div&gt;<br/>				&lt;div className="label adv"&gt;Putts&lt;/div&gt;<br/>				&lt;div className="label adv"&gt;Fairway&lt;/div&gt;<br/>				&lt;div className="label adv"&gt;Bunker&lt;/div&gt;<br/>				&lt;div className="label adv"&gt;Penalty&lt;/div&gt;<br/>			&lt;/div&gt;;<br/>		labels = <strong class="lt io">true</strong>;<br/>	} <strong class="lt io">else</strong> <strong class="lt io">if</strong> (props.index == 8) {<br/>		contentOut =<br/>			&lt;div className="out"&gt;<br/>				&lt;div&gt;OUT&lt;/div&gt;<br/>				&lt;div className="yards"&gt;{props.yardsOut}&lt;/div&gt;<br/>				&lt;div&gt;{props.parOut}&lt;/div&gt;<br/>				&lt;div className="label strokes"&gt;{props.strokesOut}&lt;/div&gt;<br/>				&lt;div&gt;Hcp.&lt;/div&gt;<br/>				&lt;div className="label adv putts"&gt;{props.puttsOut}&lt;/div&gt;<br/>				&lt;div className="label adv fairway"&gt;{props.fairwayOut}&lt;/div&gt;<br/>				&lt;div className="label adv bunker"&gt;{props.bunkerOut}&lt;/div&gt;<br/>				&lt;div className="label adv penalty"&gt;{props.penaltyOut}&lt;/div&gt;<br/>			&lt;/div&gt;;<br/>		sum = <strong class="lt io">true</strong>;<br/>	} <strong class="lt io">else</strong> <strong class="lt io">if</strong> (props.index == 17) {<br/>		contentIn =<br/>			&lt;div className="in"&gt;<br/>				&lt;div&gt;IN&lt;/div&gt;<br/>				&lt;div className="yards"&gt;{props.yardsIn}&lt;/div&gt;<br/>				&lt;div&gt;{props.parIn}&lt;/div&gt;<br/>				&lt;div className="label strokes"&gt;{props.strokesIn}&lt;/div&gt;<br/>				&lt;div&gt;Hcp.&lt;/div&gt;<br/>				&lt;div className="label adv putts"&gt;{props.puttsIn}&lt;/div&gt;<br/>				&lt;div className="label adv fairway"&gt;{props.fairwayIn}&lt;/div&gt;<br/>				&lt;div className="label adv bunker"&gt;{props.bunkerIn}&lt;/div&gt;<br/>				&lt;div className="label adv penalty"&gt;{props.penaltyIn}&lt;/div&gt;<br/>			&lt;/div&gt;;<br/>		contentTotal =<br/>			&lt;div&gt;<br/>				&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br/>				&lt;div className="yards"&gt;{props.yards}&lt;/div&gt;<br/>				&lt;div&gt;{props.par}&lt;/div&gt;<br/>				&lt;div className="label strokes"&gt;{props.strokesTotal}&lt;/div&gt;<br/>				&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br/>				&lt;div className="label adv putts"&gt;{props.puttsTotal}&lt;/div&gt;<br/>				&lt;div className="label adv fairway"&gt;{props.fairwayTotal}&lt;/div&gt;<br/>				&lt;div className="label adv bunker"&gt;{props.bunkerTotal}&lt;/div&gt;<br/>				&lt;div className="label adv penalty"&gt;{props.penaltyTotal}&lt;/div&gt;<br/>			&lt;/div&gt;;<br/>		sum = <strong class="lt io">true</strong>;<br/>	}<br/><br/>	<strong class="lt io">return</strong> (<br/>		&lt;div className={`hole<strong class="lt io">${</strong>sum = sum ? ' sum' : ''<strong class="lt io">}${</strong>labels = labels ? ' labels' : ''<strong class="lt io">}</strong>`}&gt;<br/>			{contentLabels}<br/>			&lt;div&gt;<br/>				&lt;div&gt;{props.item.number}&lt;/div&gt;<br/>				&lt;div className="yards"&gt;{props.item.yards}&lt;/div&gt;<br/>				&lt;div&gt;{props.item.par}&lt;/div&gt;<br/>				&lt;div&gt;&lt;input name={strokesInput} type="tel" required="" aria-required="true" onChange={props.scoreChange} maxLength="2" defaultValue={props.item.strokes} readOnly={props.locked} /&gt;&lt;/div&gt;<br/>				&lt;div&gt;{props.item.handicap}&lt;/div&gt;<br/>				&lt;div className="adv"&gt;&lt;input name={puttsInput} type="tel" required="" aria-required="false" onChange={props.scoreChange} maxLength="1" defaultValue={props.item.putts} readOnly={props.locked} /&gt;&lt;/div&gt;<br/>				&lt;div className="adv"&gt;&lt;input name={fairwayInput} type="text" required="" aria-required="false" maxLength="1" defaultValue={props.item.fairway} readOnly={props.locked} /&gt;&lt;/div&gt;<br/>				&lt;div className="adv"&gt;&lt;input name={bunkerInput} type="tel" required="" aria-required="false" onChange={props.scoreChange} maxLength="1" defaultValue={props.item.bunker} readOnly={props.locked} /&gt;&lt;/div&gt;<br/>				&lt;div className="adv"&gt;&lt;input name={penaltyInput} type="tel" required="" aria-required="false" onChange={props.scoreChange} maxLength="1" defaultValue={props.item.penalty} readOnly={props.locked} /&gt;&lt;/div&gt;<br/>			&lt;/div&gt;<br/>			{contentOut}<br/>			{contentIn}<br/>			{contentTotal}<br/>		&lt;/div&gt;<br/>	);<br/><br/>}<br/><br/><strong class="lt io">export</strong> <strong class="lt io">default</strong> HoleScore;</span></pre><p id="9c4d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">导入按钮、modal、score 组件并在我们的<code class="fe mb mc md lt b">App.js</code>顶部使用 modal hook。举个例子，</p><p id="70b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="90a2" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">import</strong> axios from 'axios';<br/><strong class="lt io">import</strong> Button from "./button";<br/><strong class="lt io">import</strong> { useState, useEffect } from 'react';<br/><strong class="lt io">import</strong> useModal from './modal/use';<br/><strong class="lt io">import</strong> Modal from "./modal";<br/><strong class="lt io">import</strong> Hole from './hole'<br/><strong class="lt io">import</strong> Score from './score';<br/><strong class="lt io">import</strong> './app.scss';<br/><br/>...</span></pre><p id="924a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">每个球座都有一个按钮，用户可以点击它来输入分数。这个 click 事件调用一个打开模态的函数。该函数接受 evt(event 的缩写)和 item 参数。item 参数包含所有的球座属性，我们的分数条目表单将需要这些属性来呈现相应球座的记分卡。</p><p id="2a13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">添加按钮点击事件将绑定到的<code class="fe mb mc md lt b">handleScoreClick</code>函数。您可以随时参考<strong class="jm io"> </strong> <a class="ae ki" href="https://github.com/jimfrenette/react-recipes/tree/main/golf-scorecard" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">源代码</strong> </a>了解更多详细信息。</p><p id="6f66" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="dd25" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">function</strong> handleScoreClick(evt, item) {<br/>	<strong class="lt io">let</strong> action = 'create';<br/>	<strong class="lt io">let</strong> sessionItem = JSON.parse(sessionStorage.getItem('golf_scorecard'));<br/>	<strong class="lt io">if</strong> (sessionItem &amp;&amp; sessionItem.tee_id == item.tee_id) {<br/>		item = sessionItem;<br/>		action = 'update';<br/>	}<br/><br/>	<strong class="lt io">try</strong> {<br/>		item['course'] = course.name;<br/>		item['location'] = course.location;<br/><br/>		setModalClass("fullscreen edit");<br/>		setModalContent({<br/>			"heading": `<strong class="lt io">${</strong>course.name<strong class="lt io">}</strong>, <strong class="lt io">${</strong>course.location<strong class="lt io">}</strong>`,<br/>			"body": &lt;Score content={item} action={action} /&gt;<br/>		});<br/><br/>		modalToggle();<br/>	} <strong class="lt io">catch</strong> (e) {<br/>		console.log(e);<br/>	}<br/>}<br/>...</span></pre><p id="cb13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">更新应用程序以呈现每个球座的得分按钮。找到为每个 t 形球返回标记的这段代码，并添加我们的按钮组件<code class="fe mb mc md lt b">&lt;Button item={item} click={handleScoreClick} label='score' /&gt;</code>。举个例子，</p><p id="9bbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="b784" class="kz la in lt b gy lx ly l lz ma">...<br/><strong class="lt io">return</strong> (<br/>    &lt;div className="tee-container"&gt;<br/>        &lt;div className="scorecard"&gt;<br/>            &lt;div className="header"&gt;<br/>                &lt;div className="tee"&gt;{item.tee} {item.gender}&lt;/div&gt;<br/>                &lt;Button item={item} click={handleScoreClick} label='score' /&gt;<br/>            &lt;/div&gt;<br/>...</span></pre><p id="f24b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后找到靠近应用程序底部的最终返回，并添加我们的模态组件<code class="fe mb mc md lt b">&lt;Modal modalView={modalView} hide={modalToggle} content={modalContent} classes={modalClass} /&gt;</code>。举个例子，</p><p id="b1d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="616b" class="kz la in lt b gy lx ly l lz ma">...<br/><strong class="lt io">return</strong> (<br/>	&lt;div className="course"&gt;<br/>		{content.list}<br/>		&lt;Modal modalView={modalView} hide={modalToggle} content={modalContent} classes={modalClass} /&gt;<br/>	&lt;/div&gt;<br/>	)<br/>...</span></pre><p id="fcd7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，单击“分数”按钮将在应用程序底部输出带有表单的模态组件标记。让我们添加一些 css，使模型具有覆盖我们的课程和发球台内容所需的样式。将模态导入添加到我们的<code class="fe mb mc md lt b">app.scss</code>文件的顶部。</p><p id="aa12" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> app.scss </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="623b" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">@import</strong> "./modal/modal";<br/><strong class="lt io">@import</strong> "./tees";</span></pre><p id="01fa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在模式文件夹中创建这个 Sass。举个例子，</p><p id="28e5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> modal.scss </strong></p><pre class="kk kl km kn gt ls lt lu lv aw lw bi"><span id="f9ef" class="kz la in lt b gy lx ly l lz ma"><strong class="lt io">body</strong>.light-modal-open {<br/>	overflow: <strong class="lt io">hidden</strong>;<br/>}<br/><br/>.light-modal {<br/>	--lm-body-bg: #FFF;<br/>	--lm-close-bg: #FFF;<br/>	--lm-small-modal: 30<strong class="lt io">vw</strong>;<br/>	--lm-large-modal: 50<strong class="lt io">vw</strong>;<br/>	--lm-font-size: 16<strong class="lt io">px</strong>;<br/>	position: <strong class="lt io">fixed</strong>;<br/>	background: rgba(0, 0, 0, 0.5);<br/>	top: 0;<br/>	bottom: 0;<br/>	left: 0;<br/>	align-items: <strong class="lt io">center</strong>;<br/>	display: <strong class="lt io">flex</strong>;<br/>	justify-content: <strong class="lt io">center</strong>;<br/>	right: 0;<br/>	z-index: 9000;<br/>	transition: background 1<strong class="lt io">s</strong>;<br/>	font-size: var(--lm-font-size);<br/>}<br/><br/>.light-modal-content {<br/>	background: var(--lm-body-bg);<br/>	color: #000;<br/>	width: var(--lm-small-modal);<br/>	border-radius: 0.2<strong class="lt io">rem</strong>;<br/>	position: <strong class="lt io">relative</strong>;<br/>	max-height: calc(100<strong class="lt io">vh</strong> - 150<strong class="lt io">px</strong>);<br/>	line-height: 1.4;<br/>	display: <strong class="lt io">flex</strong>;<br/>	flex-direction: <strong class="lt io">column</strong>;<br/>}<br/><br/>.light-modal-header {<br/>	padding: 20<strong class="lt io">px</strong> 20<strong class="lt io">px</strong> 20<strong class="lt io">px</strong> 20<strong class="lt io">px</strong>;<br/>	background: var(--lm-body-bg);<br/>	display: <strong class="lt io">flex</strong>;<br/>	justify-content: <strong class="lt io">space-between</strong>;<br/>	box-shadow: 0<strong class="lt io">px</strong> 0<strong class="lt io">px</strong> 60<strong class="lt io">px</strong> -3<strong class="lt io">px</strong> rgb(0 0 0 / 33<strong class="lt io">%</strong>);<br/>}<br/><br/>.light-modal-heading {<br/>	color: #000;<br/>	margin: 0;<br/>	font-size: 1.5<strong class="lt io">rem</strong>;<br/>}<br/><br/>.light-modal-body {<br/>	padding: 20<strong class="lt io">px</strong>;<br/>	overflow: <strong class="lt io">auto</strong>;<br/>	max-height: 450<strong class="lt io">px</strong>;<br/>}<br/><br/>.light-modal-footer {<br/>	font-size: 0.875<strong class="lt io">rem</strong>;<br/>	padding: 20<strong class="lt io">px</strong> 20<strong class="lt io">px</strong> 20<strong class="lt io">px</strong> 20<strong class="lt io">px</strong>;<br/>	background: var(--lm-body-bg);<br/>	text-align: <strong class="lt io">right</strong>;<br/>	display: <strong class="lt io">flex</strong>;<br/>	justify-content: <strong class="lt io">space-between</strong>;<br/>	align-items: <strong class="lt io">center</strong>;<br/>}<br/><br/>.light-modal-close-icon,<br/>.light-modal-close-btn {<br/>	text-decoration: <strong class="lt io">none</strong>;<br/>	color: #000;<br/>	background: var(--lm-close-bg);<br/>	box-shadow: <strong class="lt io">none</strong> <strong class="lt io">!important</strong>;<br/>}<br/><br/>.light-modal-close-icon {<br/>	position: <strong class="lt io">relative</strong>;<br/>	width: 2.5<strong class="lt io">rem</strong>;<br/>	height: 2.5<strong class="lt io">rem</strong>;<br/>	font-size: 2<strong class="lt io">rem</strong>;<br/>	line-height: 2.5<strong class="lt io">rem</strong>;<br/>	transition: <strong class="lt io">all</strong> .4<strong class="lt io">s</strong>;<br/>	text-align: <strong class="lt io">center</strong>;<br/>	border-radius: 100<strong class="lt io">%</strong>;<br/><br/>	<strong class="lt io">&amp;</strong>:hover {<br/>		transform: scale(1.1);<br/>	}<br/>}<br/><br/>.light-modal-close-btn {<br/>	line-height: 1;<br/>	padding: 4<strong class="lt io">px</strong> 8<strong class="lt io">px</strong>;<br/>	border-radius: 0.2<strong class="lt io">rem</strong>;<br/><br/>	<strong class="lt io">&amp;</strong>:hover {<br/>		transform: scale(1.1);<br/>	}<br/>}<br/><br/>.light-modal.fullscreen {<br/>	.light-modal-body {<br/>		max-height: <strong class="lt io">none</strong>;<br/>	}<br/><br/>	.light-modal-content {<br/>		width: 100<strong class="lt io">%</strong>;<br/>		max-height: 100<strong class="lt io">%</strong>;<br/>	}<br/>}<br/><br/><strong class="lt io">@media</strong> (max-width: 1000<strong class="lt io">px</strong>) {<br/>	.light-modal {<br/>		--lm-small-modal: 70<strong class="lt io">vw</strong>;<br/>		--lm-large-modal: 70<strong class="lt io">vw</strong>;<br/>	}<br/>}</span></pre><p id="036c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们可以输入圣安德鲁斯旧球场一轮比赛的分数了</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ni"><img src="../Images/49decdfe88dcf7f5ff612559bedc3e03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*beGSgrxarK1ntzIWE187EQ.png"/></div></div></figure><p id="2c33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">单击高级按钮可切换显示“高级评分”字段。球道字段在其 keydown 事件上有一个监听器，用于将光标按键输入转换为字符值。举个例子，</p><p id="0d7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">←翻译为球道左侧开球的<code class="fe mb mc md lt b"><strong class="jm io">L</strong></code>。<br/> →对于球道右侧的开球，翻译为<code class="fe mb mc md lt b"><strong class="jm io">R</strong></code>。<br/> ↑翻译过来就是球道上开球的<code class="fe mb mc md lt b"><strong class="jm io">F</strong></code>。</p><p id="4140" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所有其他孔字段只接受数字，因为它们的类型被设置为<code class="fe mb mc md lt b">tel</code>。</p><p id="3675" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">总数会随着每个孔场的变化而更新。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ni"><img src="../Images/5f4fdfa40817cc7e4ce94569943663f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZEpsfkTUsr5eX2mbAbiXbA.png"/></div></div></figure><p id="ab5c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">可以通过选择“编辑”按钮来编辑和重新发布已发布的分数。</p><p id="f977" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">原帖可在<a class="ae ki" href="https://jimfrenette.com/javascript/react/golf-scorecard/" rel="noopener ugc nofollow" target="_blank">https://jimfrenette.com/javascript/react/golf-scorecard/</a>找到</p></div></div>    
</body>
</html>