<html>
<head>
<title>Laravel creates an Admin API from scratch - Part 1 - Installation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel 从头开始创建一个管理 API 第 1 部分-安装</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/laravel-creates-an-admin-api-from-scratch-part-1-installation-91e8651514ae?source=collection_archive---------4-----------------------#2022-12-25">https://blog.devgenius.io/laravel-creates-an-admin-api-from-scratch-part-1-installation-91e8651514ae?source=collection_archive---------4-----------------------#2022-12-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d71c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Laravel Sail &amp; Breeze API 安装</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f20185668ea330e69f8029a31a0ccc1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9eP6VB5MKC6KMuEd"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kv" href="https://unsplash.com/@pathdigital?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">路径数码</a>拍摄</figcaption></figure><p id="bf3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于初学者来说，<a class="ae kv" href="https://laravel.com/docs/starter-kits#laravel-breeze" rel="noopener ugc nofollow" target="_blank">拉勒维尔微风</a>是开发和理解流程的最佳入门套件。为了在 Laravel 中实现角色和权限，Spatie<a class="ae kv" href="https://github.com/spatie/laravel-permission" rel="noopener ugc nofollow" target="_blank">Laravel-permission</a>是最好的包之一。</p><p id="dc77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我使用<a class="ae kv" href="https://laravel.com/docs/starter-kits#laravel-breeze" rel="noopener ugc nofollow" target="_blank">Breeze</a>+Spatie<a class="ae kv" href="https://github.com/spatie/laravel-permission" rel="noopener ugc nofollow" target="_blank">Laravel-permission</a>开发了一个<a class="ae kv" href="https://github.com/balajidharma/basic-laravel-admin-panel" rel="noopener ugc nofollow" target="_blank">基本 Laravel 管理面板</a>和<a class="ae kv" href="https://github.com/balajidharma/laravel-vue-admin-panel" rel="noopener ugc nofollow" target="_blank"> Laravel Vue 管理面板</a>初学者工具包。</p><p id="b4a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个博客系列中，我决定尝试基于 API 的解耦架构。我们将探索<a class="ae kv" href="https://laravel.com/docs/starter-kits#breeze-and-next" rel="noopener ugc nofollow" target="_blank"> Breeze API </a>初学者工具包，并为 Spatie Laravel-permission 创建一个 API。</p><h2 id="3e40" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">拉勒韦尔装置</h2><p id="09f8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们将在 docker 中安装 Laravel。安装<a class="ae kv" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> Docker 桌面</a>，如果你使用 Mac 或 Windows 电脑。对于 Windows，您应该确保安装并启用了 Linux 2 的 Windows 子系统(WSL2)。</p><p id="8c84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Sail 是一个内置的解决方案，使用<a class="ae kv" href="https://www.docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker </a>运行你的 Laravel 项目。</p><p id="d4fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">启动<a class="ae kv" href="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701?rtc=1&amp;activetab=pivot:overviewtab" rel="noopener ugc nofollow" target="_blank"> Windows 终端</a>并为您的 WSL2 Linux 操作系统开始一个新的终端会话。否则，如果你使用 VS 代码，打开新的 WSL 终端。参考下面的截图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/1636fd73bb053d7943b6cef339b94393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yCKBik0sPP2I5TDL23YxPQ.png"/></div></div></figure><p id="818d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在新的 WSL 终端中运行下面的命令，在“admin-api”文件夹中创建一个新的 Laravel 项目。</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="ba5f" class="mw lt iq ms b be mx my l mz na">curl -s https://laravel.build/admin-api | bash</span></pre><p id="9ab5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本地机器上构建 Sail 应用程序容器时，Sail 安装可能需要几分钟时间。创建项目后，您可以导航到应用程序目录并启动 Laravel Sail。</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="9275" class="mw lt iq ms b be mx my l mz na">cd admin-api<br/><br/>./vendor/bin/sail up -d</span></pre><p id="85b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">容器启动后，您可以在您的 web 浏览器中通过<a class="ae kv" href="http://localhost/" rel="noopener ugc nofollow" target="_blank"> http://localhost </a>访问应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/3ded67e6fa6f5237e83d6645c54d6f22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8o1N2Z1jxiL0K8vkSJRiSA.png"/></div></div></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h2 id="744d" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">安装 Laravel Breeze API</h2><p id="fc3b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Laravel Breeze API 初学者工具包用于<a class="ae kv" href="https://laravel.com/docs/sanctum" rel="noopener ugc nofollow" target="_blank"> Laravel Sanctum </a>认证系统。Laravel Sanctum 为 spa(单页应用程序)、移动应用程序和简单的基于令牌的 API 提供了一个轻量级认证系统。Sanctum 允许应用程序的每个用户为他们的帐户生成多个 API 令牌。</p><p id="dfb9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要使用 Composer 安装 Laravel Breeze。</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="20e1" class="mw lt iq ms b be mx my l mz na">./vendor/bin/sail composer require laravel/breeze --dev</span></pre><p id="266a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Laravel Breeze 包安装完成后，我们需要运行<code class="fe nj nk nl ms b">breeze:install api</code> Artisan 命令。这个命令将向我们的应用程序发布身份验证路由、控制器和其他资源。</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="8b97" class="mw lt iq ms b be mx my l mz na">./vendor/bin/sail artisan breeze:install api</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/ec93914266aeed4a78638e84e2c47095.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JO2N9GTeZsVtd8wLia2vzA.png"/></div></div></figure><p id="8359" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe nj nk nl ms b">artisan migrate</code>运行您的数据库迁移</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="2880" class="mw lt iq ms b be mx my l mz na">./vendor/bin/sail artisan migrate</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/296448077f4b863aa95f30fc0de7b639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-NkqL6-rIuZJSemsweFGwA.png"/></div></div></figure><p id="a30b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装 Breeze API 后，您会看到下面的首页画面</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/add833ffe081458fa0714d4e6cd4f123.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*_C9rFBfQXosGXRmdKCt0jg.png"/></div></figure><p id="50b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您在浏览器<a class="ae kv" href="http://localhost/login" rel="noopener ugc nofollow" target="_blank"> http://localhost/login </a>中加载登录 URL 时，您会看到下面的错误屏幕。因为 API 只接受 POST 方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/75d1656121d325ec9d2155b0e6e786e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z0YUKR-kYxj22dbZ4VO2hQ.png"/></div></div></figure><p id="85ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用 below artisan 命令可以查看可用的路线和支持的方法</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="27e6" class="mw lt iq ms b be mx my l mz na">./vendor/bin/sail artisan route:list</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/b017b7a4194dbb21ab9054878b7354c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JlehDLA_4zKFQCWNP5GxHQ.png"/></div></div></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h2 id="911a" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">接下来是拉勒维尔微风</h2><p id="6b54" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们将通过安装 Laravel Breeze 下一个应用程序来检查我们的 API。</p><p id="7230" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Laravel <a class="ae kv" href="https://github.com/laravel/breeze-next" rel="noopener ugc nofollow" target="_blank"> Breeze Next </a>是基于<a class="ae kv" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>构建的官方认证入门套件前端。这个前端使用 Breeze API。</p><p id="98ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/laravel/breeze-next/archive/refs/heads/master.zip" rel="noopener ugc nofollow" target="_blank">单击此处</a>下载您本地的 Breeze Next。然后提取到文件夹。然后运行<code class="fe nj nk nl ms b">npm install</code>，使用<code class="fe nj nk nl ms b">npm run dev</code>启动应用程序</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="9ce8" class="mw lt iq ms b be mx my l mz na">npm install<br/><br/>npm run dev</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/c182f72441d8536d1c4d47eec958680c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nd_468cYH2cNp_xCFu-WBQ.png"/></div></div></figure><p id="581e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在访问<a class="ae kv" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>上的前端应用程序</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/d86c3eb97dce4e5018ad57565e28ce89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DHBwCX0ftJvcwaV0dTwzA.png"/></div></div></figure><p id="d6dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过注册新用户然后登录来尝试这个单页应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/872142c72cf80a0b432cc2cdc4020178.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YBacLCTY_n_vwH0ablDBNg.png"/></div></div></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="1596" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们已经成功安装了 Laravel 和 Breeze API。此外，我们尝试了 Breeze Next 前端应用程序。</p><p id="b445" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/how-to-test-laravel-with-sanctum-api-using-the-postman-4e0515b30b82">下一篇博客</a>，我们使用<a class="ae kv" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank">邮递员</a>应用程序测试 API。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="4514" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读。</p><p id="b1b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">敬请关注更多内容！</p><p id="159e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">【balajidharma.medium.com】跟我来<a class="ae kv" href="https://balajidharma.medium.com/" rel="noopener"><strong class="ky ir"><em class="nu"/></strong></a>。</p></div></div>    
</body>
</html>