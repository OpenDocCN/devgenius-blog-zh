<html>
<head>
<title>Progressive Web App Development: How to Cook PWA in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">渐进式网络应用开发:2022年如何烹饪PWA</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/progressive-web-app-development-how-to-cook-pwa-in-2022-b83f8d5c2814?source=collection_archive---------3-----------------------#2021-11-01">https://blog.devgenius.io/progressive-web-app-development-how-to-cook-pwa-in-2022-b83f8d5c2814?source=collection_archive---------3-----------------------#2021-11-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1eae5f138158ae7410ec642151e1abc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sVof-j0sbyziKPZQxYKN3Q@2x.jpeg"/></div></div></figure><p id="76e6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当谈到web开发时，渐进式Web应用程序已经流行了一段时间。但是你的公司会从PWA的道路上受益吗？阅读现在和2022年你应该如何以及何时使用和不应该使用这项技术。</p><h1 id="f877" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PWA简介</h1><p id="1cb6" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">渐进式web应用程序(PWAs)是Web和移动应用程序开发中一个相当新的趋势。该术语由谷歌工程师亚历克斯·罗素在2015年创造，指的是使用“渐进式”设计方法的网络应用程序，其行为和功能类似于原生应用程序。这具体意味着什么可能并不十分清楚，因为对于什么是或不是渐进式web应用程序没有精确的定义。</p><p id="4284" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是，PWA设计模式有一些明确的特征。其中包括使用ServiceWorkers(在浏览器中运行的后台脚本，以提供推送通知等功能)和应用清单(指导平台如何安装和管理应用的标准化JSON文件)。还有几个常见的设计主题通常被认为是PWA所独有的。</p><h1 id="32d0" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PWA的优点和缺点</h1><p id="b90f" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">在应用程序开发中使用渐进式web app技术有很多好处，尽管也有一些缺点需要考虑。PWA设计的主要好处是它基本上是独立于平台的。这意味着一个应用程序可以使用单一代码库开发，并部署在几个不同的平台上。</p><p id="71e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以这种方式简化开发减少了将应用推向市场所需的时间和资源。平台独立性与pwa固有的可安装性相结合，使得应用程序在多个平台上的部署变得非常容易。用户可以下载和安装PWAs，就像他们可以使用任何本机应用程序一样，而不是依赖浏览器来访问它们，从而使用户体验无缝而直观。</p><p id="43ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">PWAs也享受着现代网站设计的好处，因为它们反应灵敏，重量轻。现代web浏览器允许开发人员利用设计选项来应对不断变化的平台和屏幕尺寸，从而为用户提供一致的体验。这些现代化应用的代码库更小，并且它们在浏览器中运行(而不是作为原生应用)的能力使它们变得轻量级。PWAs作为独特的web应用程序的一个额外好处是，它们可以被搜索引擎索引发现。</p><p id="bd43" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，PWA设计的主要缺点是对平台和硬件支持有一些限制。由于pwa在浏览器中运行，它们无法直接访问使用平台SDK构建的本地应用程序可以访问的平台的所有功能。一些平台对这些应用的支持也有限制，尽管支持和功能在不断发展。</p><h1 id="3c60" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">为什么要用PWA？</h1><p id="7857" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">最终，在应用程序中使用PWA设计是为了那些希望快速、经济地将应用程序交到用户手中的人。这种设计非常适合资金有限的早期创业公司，他们希望尽快将MVP应用程序推向市场。但是，任何希望利用现代应用开发发展趋势的公司也将从PWA中看到类似的好处。</p><h1 id="c0bc" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">使用PWA的大品牌</h1><p id="5011" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">pwa不仅仅是为小公司和资金紧张的创业公司准备的。相反，许多全球性公司看到了为了用户利益而转向PWA策略的巨大成果。通过这样做引起了很多关注的一个主要品牌是Twitter，它在设计Twitter Lite应用时考虑到了PWA。随着Twitter Lite的推出，Twitter上的推文<a class="ae lw" href="https://developers.google.com/web/showcase/2017/twitter" rel="noopener ugc nofollow" target="_blank">增加了75%</a>，每次会话的页面增加了65%,跳出率下降了20%。</p><p id="61c0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">福布斯和Pinterest也为他们的业务设计了PWAs，福布斯看到了43%的会议增长和100%的参与增长<a class="ae lw" href="https://developers.google.com/web/showcase/2017/forbes" rel="noopener ugc nofollow" target="_blank">。Pinterest的PWA带来了用户驱动广告收入44%的增长。这些只是在应用中采用PWA设计的公司的几个例子，其他知名品牌如</a><a class="ae lw" href="https://eng.uber.com/m-uber/" rel="noopener ugc nofollow" target="_blank">优步</a>和<a class="ae lw" href="https://developers.google.com/web/showcase/2016/aliexpress" rel="noopener ugc nofollow" target="_blank">全球速卖通</a>也采取了同样的做法。</p><h1 id="c329" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PWA与其他技术相比</h1><p id="974c" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">pwa最容易与本地应用或网络应用相比较，介于两者之间。但是在web和native之间有一个很长的特定技术列表，也可以与PWA进行比较。</p><h1 id="d7b2" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PWA与本机应用程序</h1><p id="3c88" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">将PWA与原生应用的一般定义进行直接比较，会发现一些差异。也就是说，pwa是用更轻、更简单的代码库构建的(只需要web语言，而不需要特定于平台的SDK框架)。</p><h1 id="a9b3" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PWA与跨平台应用</h1><p id="3ded" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">与React Native、PhoneGap或Flutter等更为混合的技术相比，跨平台应用有一些细节需要强调。例如，React Native是为构建跨平台的原生应用程序而设计的，只需一个代码库就能实现，但通常需要开发团队具备更广泛的技能，因为他们必须处理各种原生控件和插件，这些控件和插件是用不同的语言编写的，如Java或Objective-C(取决于平台)。</p><p id="aa02" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">PhoneGap应用程序也有些类似。这些只是包装在本地容器中的web应用程序，该容器可以通过一组本地插件访问各种平台API。尽管有大量的可用插件，你可能需要一些定制的东西，你必须自己实现它，再次得到Android和iOS开发者的帮助。</p><p id="3459" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从这个意义上来说，pwa要简单得多，通常只用JavaScript构建，利用React、Angular和Vue等现代框架。</p><p id="7e56" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">总而言之，pwa与使用其他跨平台技术构建的混合应用最为相似。PWAs很可能在开发和未来支持方面更便宜，因为您可能需要一个没有任何特定或独特技能的小型团队。pwa的缺点是它们受到浏览器功能的限制，可能对应用程序所需的一些核心功能支持不佳。</p><h1 id="6b57" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PWA与WEB应用程序</h1><p id="5925" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">与纯web应用程序相比，PWAs有几个优点。这是因为web应用程序受到浏览器功能的严格限制。这也意味着网络应用程序不能提供让PWA对用户如此方便的可安装性。虽然它们可以提供类似的好处，如在许多单页应用程序(SPA)中看到的响应性和轻量级设计，但关键的区别在于PWA模拟本机体验的标准化方法。</p><p id="55e6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">PWA也可以比作应用程序框架，如Electron和Flutter。严格来说，electronic是一个web app框架，它在应用程序大小和安全性方面存在缺点，这使得它通常不适合PWA开发。但是颤振更类似于PWA。PWA和Flutter都强调在具有跨平台原生功能的单一代码库中进行开发。然而，Flutter只使用新的Dart web语言，而PWA可以用任何语言编写，许多旧语言提供了更多的支持。</p><h1 id="dd83" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">来自主要平台的PWA支持</h1><p id="7083" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">评价PWA最重要的一点就是主要平台提供什么样的支持。虽然PWA通常允许开发完全能够在任何平台上运行的应用程序，但是对于不同平台所支持的内容有一些限制。</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/a92ac9447c5c54a9a7625d3744944c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LCZtJfjH8-Elbwkq.jpg"/></div></div></figure><p id="3e45" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mc">数据来自</em><a class="ae lw" href="http://caniuse.com/" rel="noopener ugc nofollow" target="_blank"><em class="mc"/></a><em class="mc">，CC-BY 4.0许可</em></p><h1 id="7267" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">IOS上的PWA支持</h1><p id="0b34" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">对于iOS设备来说，PWA支持有些有限。尽管术语“渐进式网络应用程序”是最近才由谷歌创造的，但PWA的起源实际上可以追溯到第一代iPhone。在苹果为iOS设备提供SDK之前，iPhone上唯一可用的应用程序是web应用程序。这是史蒂夫·乔布斯本人非常坚持的决定。</p><p id="21c9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当然，由于开发人员要求更一致的工作流程，苹果最终发布了他们的SDK和App Store。这种演变伴随着苹果对开发者在用户体验和应用商店中可用应用的安全性方面的严格规定。不幸的是，这些规定严重限制了开发者为iOS提供PWAs的能力。</p><p id="94d5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，从iOS 11.3开始，苹果平台支持pwa。然而，它们仍然必须包装在本机代码中，并通过应用商店分发。这限制了PWAs的一些优势，如简化的代码库和易于安装。</p><h1 id="4d22" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">ANDROID上的PWA支持</h1><p id="e3d9" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">Android有更全面的PWA支持。这主要归功于Android的开源方法，这种方法给了开发者自由和灵活性，让他们可以随心所欲地编写和分发应用。Android还为PWAs提供了一些原生平台功能，如推送通知，使开发人员能够在其应用程序中提供更加无缝的原生体验。</p><h1 id="bb4e" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">浏览器PWA支持</h1><p id="1e26" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">虽然现在大部分流行的浏览器都支持PWAs，但是没有100%的兼容性。</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/2b381202921d6a9fe8ac756b34dfb3da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MZXdvXZ51yBRQtKs.jpg"/></div></div></figure><p id="d519" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mc">数据来自</em><a class="ae lw" href="http://caniuse.com/" rel="noopener ugc nofollow" target="_blank"><em class="mc"/></a><em class="mc">，CC-BY 4.0许可</em></p><p id="d27d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">选择不支持PWAs的浏览器有:</p><ul class=""><li id="50fe" class="md me in jx b jy jz kc kd kg mf kk mg ko mh ks mi mj mk ml bi translated"><a class="ae lw" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1682593" rel="noopener ugc nofollow" target="_blank">桌面火狐</a></li><li id="8a5d" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">微软公司出品的web浏览器</li><li id="9791" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">脸书手机浏览器</li></ul><p id="6fb4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，Safari还有一个注意事项。虽然它提供了对PWAs的基本支持，但并没有包括所有的功能。Safari不支持推送通知，因此用户应该手动安装该应用程序，以便将其添加到主屏幕。</p><p id="8fad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">除此之外，在2020年，WebKit，Safari的引擎<a class="ae lw" href="https://webkit.org/tracking-prevention/" rel="noopener ugc nofollow" target="_blank">宣布</a>他们将不支持许多提供本地功能访问的API。这种不支持的特征的例子是网络蓝牙、网络MIDI API、磁力计API、网络NFC API等等。他们说是出于隐私考虑，但这阻碍了iOS上PWAs的进化。</p><p id="d22e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，新的Windows 10X计划很快全面支持PWAs。</p><h1 id="1d9a" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2021年公共工程项目的现状</h1><p id="3499" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">渐进式网络应用本质上是一种发展趋势。因此，主要平台的新发展和额外支持不断促进pwa的增长。虽然PWA的不精确定义使得跟踪准确的市场份额变得困难，但根据Chrome web统计数据的估计，当前类似PWA的页面加载量约为19%。</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/f73f91a7cfe115508b975ff173cbd76a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LE5lwKn25_CA6c13.jpg"/></div></div></figure><p id="3468" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一项针对电子商务决策者的调查<a class="ae lw" href="https://www.statista.com/statistics/1174534/investing-pwa-ecommerce-companies-worldwide/" rel="noopener ugc nofollow" target="_blank">显示</a>9%的电子商务公司计划在2021年投资渐进式网络应用(PWA)。此外，8%的电子商务公司报告说他们已经在这样做，28%的公司没有在2021年投资PWA的计划。</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/0a2aa0ded62826176cb0410f0fd88853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8nujpXOMv8OhNYkp.jpg"/></div></div></figure><p id="b47d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">研究<a class="ae lw" href="https://www.globenewswire.com/news-release/2021/02/08/2171664/0/en/Progressive-Web-Application-Market-Size-to-Reach-USD-10-44-Billion-by-2027-Global-Analysis-Statistics-Revenue-Industry-Demand-and-Trend-Analysis-Research-Report-by-Emergen-Research.html" rel="noopener ugc nofollow" target="_blank">指出</a>到2027年，渐进式网络应用市场的财务价值将达到107.7亿美元，代表着从现在到那时的年增长率超过30%。</p><p id="169d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当前对PWAs的支持相当好，尽管有一些限制。现在，包括iOS、Mac、Android和PC在内的所有主流平台都提供了某种程度的PWA支持。Android提供的支持最好，iOS和Mac最受限制。苹果对其平台上可用应用的严格控制是PWA在iOS上采用的最大障碍。</p><p id="afc0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在自己的应用程序中考虑PWA的开发人员和项目所有者应该考虑这些限制。随着平台支持的发展，PWA市场正在稳步增长，因此早期采用者可能会发现自己领先于竞争对手。但是很难说这种增长会持续多久。</p><p id="df16" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有趣的是，今年早些时候，Instagram Lite从PWA重建为原生Android应用。这种转变的原因尚不清楚，但有一些猜测认为脸书这样做是为了测试他们的内部框架。</p><h1 id="426c" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">对2022年的PWAs有什么期待？</h1><p id="a37a" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">好的一面是，PWA市场有了一些重大改善。PWAs最近的一个积极进展是微软和谷歌的合作。微软<a class="ae lw" href="https://medium.com/pwabuilder/microsoft-and-google-team-up-to-make-pwas-better-in-the-play-store-b59710e487" rel="noopener">最近宣布【PWABuilder将使用谷歌的Bubblewrap技术。PWABuilder是微软的开发工具，它使编写pwa变得更容易，Bubblewrap帮助开发人员打包他们的应用程序，以便在Google Play应用程序商店上分发。</a></p><p id="28c6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这一声明伴随着对新功能的支持，包括原生应用程序快捷方式和高级Android功能，现在可以通过PWABuilder获得。像谷歌和微软这样的科技巨头的合作努力对于PWA的未来是非常有希望的。</p><h1 id="8100" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2022年及以后该不该用PWA？</h1><p id="bc93" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">答案是肯定的，如果你的产品策略需要快速进入市场，并且用一个代码库覆盖多个平台。渐进式网络应用程序允许初创公司快速轻松地开发和分发渐进式网络应用程序，并在资源有限的情况下，从推出应用程序所需的最少时间和资金中受益。鼓励首次用户重新访问应用程序，并借助推送通知和应用内横幅让他们参与进来，使PWAs成为营销战略实施的强大工具。</p><p id="4f6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">较大的公司也可以从为其用户提供价值中受益，这些用户对高性能平台的访问受到限制，或者更喜欢更简化、轻量级的体验。PWA可以是一个企业软件开发的选择，该企业软件依赖于一个选定的单一平台，以受益于该平台所支持的重要的本地特性。</p><p id="1a26" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">PWA的其他常见用例是当您的应用程序需要支持离线模式时，或者您需要将您的传统web应用程序(例如，用React制作的应用程序)重新制作成PWA，与从头构建新应用程序(例如，在Flutter for Web中)相比，所用的时间最少。</p><h1 id="dc78" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">何时不应使用PWA</h1><p id="e53b" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">虽然PWAs有一些缺点，但这些缺点是很小的，并且大部分被它们的好处所抵消。pwa的最大限制是对iOS的支持有限，而iOS显然占据了移动应用市场份额的很大一部分。然而，还是有一些支持的，苹果公司在过去对PWA立场的改变表明他们愿意与它一起发展。</p><p id="b956" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">另一个可能阻止你使用PWA的限制是，你的应用程序不能在AppStore中发布，但是很容易<a class="ae lw" href="https://chromeos.dev/en/publish/pwa-in-play" rel="noopener ugc nofollow" target="_blank">将其列在Google Play </a>上，并且已经可以<a class="ae lw" href="https://developer.microsoft.com/en-us/microsoft-store/pwa/" rel="noopener ugc nofollow" target="_blank">使其在微软商店</a>中运行。</p><h1 id="37cf" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PWA开发的8项建议</h1><ol class=""><li id="bae5" class="md me in jx b jy lr kc ls kg mr kk ms ko mt ks mu mj mk ml bi translated">PWA应该感觉像一个本机应用程序-在应用程序启动时显示闪屏是一个好习惯，应用程序应该有一组不同大小的图标，这些图标将在主屏幕上用作应用程序徽标和正确配置的主题。</li><li id="1632" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mu mj mk ml bi translated">一些浏览器仍然不完全支持manifest.json，因此您必须回退到meta标签，例如在Safari或Microsoft Edge中指定主题或磁贴颜色。</li><li id="5ed7" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mu mj mk ml bi translated">确保始终<a class="ae lw" href="https://web.dev/customize-install/" rel="noopener ugc nofollow" target="_blank">推动应用安装</a>。应用程序安装或“添加到主屏幕”功能以及推送通知是显著提高转化率和用户再参与度的杀手级功能。</li><li id="8e67" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mu mj mk ml bi translated">如果您的应用程序需要离线模式支持，或者您只是想使用增强的缓存策略来减少网络流量和页面加载时间，我们建议您查看谷歌官方的<a class="ae lw" href="https://developers.google.com/web/tools/workbox" rel="noopener ugc nofollow" target="_blank">库集</a>，它专门用于解决这些问题并简化PWA开发。</li><li id="0db9" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mu mj mk ml bi translated">每当PWA应用程序的新版本上线，我们必须让用户知道可用的更新。我们可以通过显示定制的应用内横幅或通知，提示用户更新应用来实现这一点。请注意，在使用先前版本的所有应用程序窗口或选项卡关闭之前，ServiceWorker不会自动更新。如果我们不显示横幅，用户可能在很长一段时间内都不知道更新。</li><li id="42de" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mu mj mk ml bi translated">正如我们所说，一些用户可能不会立即更新应用程序，而会使用旧版本。在这种情况下，在服务器上拥有向后兼容的API是绝对重要的。</li><li id="a2ba" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mu mj mk ml bi translated">一定要彻底测试代码，尤其是app初始化逻辑。如果应用程序在初始化期间崩溃，并且它尚未为传入的ServiceWorker更新建立订阅，用户的设备可能会一直使用有问题的应用程序版本，直到手动重新安装。建议总是创建一些回退，以便在出现未处理的应用程序错误时自动注销活动的ServiceWorker，在这种情况下，您将能够快速向最终用户提供修复。</li><li id="1a5b" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mu mj mk ml bi translated">PWAs应该很快。您可以使用<a class="ae lw" href="https://developers.google.com/web/tools/lighthouse/" rel="noopener ugc nofollow" target="_blank"> Lighthouse </a>和其他<a class="ae lw" href="https://developer.chrome.com/docs/devtools/" rel="noopener ugc nofollow" target="_blank"> Chrome DevTools </a>来测试和调试性能。</li></ol><p id="3b3a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当然，我们遵循适用于常规web应用程序开发的所有其他最佳实践:</p><ul class=""><li id="afe4" class="md me in jx b jy jz kc kd kg mf kk mg ko mh ks mi mj mk ml bi translated">创建响应迅速、适应性强的web应用程序，无论是移动设备、平板电脑还是台式机，都能在所有平台上正常运行。</li><li id="95ef" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">遵循团队中已建立的代码风格，或者通过配置预提交git挂钩来建立自己的风格，该挂钩将调用代码linters和formatters。</li><li id="8caf" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">如果可能，编写严格类型化的代码(例如，使用TypeScript)。</li><li id="b1d1" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">设计基于组件的应用程序。分离UI和业务逻辑。创建简单且可重用的组件，这些组件很容易组合成复杂的UI。</li><li id="64cb" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">当然还有执行代码审查和互相帮助！</li></ul></div><div class="ab cl mv mw hr mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ig ih ii ij ik"><p id="5f0a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">由<a class="ae lw" href="https://mobidev.biz/services/web-application-development" rel="noopener ugc nofollow" target="_blank"> MobiDev </a>的JavaScript团队负责人谢尔盖·里科夫撰写。</p><p id="e8ce" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mc">全文原载于</em><a class="ae lw" href="https://mobidev.biz/blog/why-when-use-progressive-web-app-pwa-development" rel="noopener ugc nofollow" target="_blank"><em class="mc">https://mobidev . biz</em></a><em class="mc">，基于mobi dev技术研究。</em></p></div></div>    
</body>
</html>