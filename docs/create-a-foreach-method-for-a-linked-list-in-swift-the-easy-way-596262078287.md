# 在 Swift 中为链表创建 forEach 方法——这是一种“简单”的方法

> 原文：<https://blog.devgenius.io/create-a-foreach-method-for-a-linked-list-in-swift-the-easy-way-596262078287?source=collection_archive---------6----------------------->

## 理解扩展和闭包

## 让我们用 forEach 方法扩展一个链表

![](img/ec8eb72b26a395f5ab81e155cb2119d1.png)

名单，名单，到处都是名单

# 目标

在链表中创建一个方法，我们可以用它来迭代链表，并传入代码来对每个位置做一些事情。

# 链接列表—简介

根据[geeksforgeeks.com](https://www.geeksforgeeks.org/data-structures/linked-list/):

> 链表是一种线性数据结构，其中的元素不是存储在连续的内存位置。链表中的元素使用指针链接…

换句话说，一个链表就像一个数组，但是它是使用随机存取(指针)存储的，而不是使用固定的内存块(连续的内存位置)。在集合的大小变化很大的情况下，链表非常有用，因为它不像数组那样需要连续的内存块来存储所有数据。

当数组的大小发生变化时，内存空间往往也会发生变化，这有时可能需要您的应用程序花一些时间来重新配置，以便数组适合某个位置。当一个链表改变时，指向下一个节点的指针也随之改变，这个节点可以存储在内存中的任何地方。

在 LinkedList 中的每个节点，我们获得一个保存该节点值的`value`属性和一个查看列表中下一个节点的`next`属性。有时我们还会得到一个`prev`属性来查看当前节点之前的节点。下一个属性是可选的，因为您可能位于列表的末尾。这是链表中的一个节点。稍后我们将扩展它来迭代整个`LinkedList`:

![](img/fe91710e0da067d4aee7125a6273ac4c.png)

假设我们不能、不应该或不想修改原始类，我们可以扩展它以包含功能。所以让我们用一个叫做`forEach`的方法来创建一个 LinkedList 的扩展。我们的方法还不需要接受任何参数——记住，我们关心的是从我们正在处理的任何节点到链表的末尾。

从任何节点确定我们何时在列表的末尾比您想象的要简单。一开始理解起来可能有点困难，但是我们需要做的是查看当前节点的 next 属性，看看是否知道我们是否在列表的末尾。

为了实现这一点，我们将创建一个初始化为`current`节点的变量。然后我们将创建一个 while 循环，这个循环一直持续到变量为`nil`。在循环内部，我们将简单地打印出`current`节点的值，并将`current`节点设置为`next`节点。当我们在最后一个节点时，这将使`current`为零，这将停止我们的循环。

![](img/fe91710e0da067d4aee7125a6273ac4c.png)

## 就是这样！… 🤫

…

好吧，我答应过我们可以运行一些代码，不是吗？

# 使用闭包来运行我们的代码

我们可以给我们的方法传递一个闭包。这个闭包将在每个节点上运行我们的代码。当我们调用这个方法时，我们使用尾随闭包语法和`someVariable in`,其中`someVariable`是您想要命名每个位置的节点的名称。

现在，您可以简单地在任何节点上调用 forEach，并对该节点和列表中的每个剩余节点执行一些操作。如果您从头开始，那么您已经遍历了整个`LinkedList`。

我希望这篇文章教会你一些关于链表、闭包或扩展的知识。我很想在评论中听到你的意见！⏬