<html>
<head>
<title>How To Do Web Scraping With A Simple Python Function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用一个简单的 Python 函数进行 Web 抓取</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-do-web-scraping-with-a-simple-python-function-f20ac6473543?source=collection_archive---------0-----------------------#2022-10-20">https://blog.devgenius.io/how-to-do-web-scraping-with-a-simple-python-function-f20ac6473543?source=collection_archive---------0-----------------------#2022-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5dc2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">5 行代码，互联网就是你的了。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d425592043c4b2ab5d82c52953e71670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6fwblej3Y-74TM1vofx7vg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://fr.freepik.com/vecteurs-libre/www-concept-illustration_8426454.htm" rel="noopener ugc nofollow" target="_blank">图片来自 Freepik 上的故事集</a></figcaption></figure><p id="4b8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只需点击几下鼠标，就能访问所有网络数据。</p><p id="96a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">有趣的是，一旦你了解 Python，做网络搜集也很容易。</strong></p><p id="988c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是有几个库和解决方案允许你使用 Python。我已经测试了一些，以下是我的建议。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="bc9e" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">不一定要复杂。</h2><p id="156a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我记得我第一次做网页抓取的时候。我正在按照一个教程从亚马逊检索消费者评论，那时，我正在使用<strong class="ky ir"> scrapy </strong>。</p><p id="f799" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个 Python 抓取工具有一个复杂的结构，用称为“蜘蛛”的对象来浏览网页并提取信息。</p><p id="cd6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用它是乏味的。至少对于我所需要的。</p><p id="21d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我只想从网页中检索特定的字段，以获得消费者的反馈。事实上，我觉得我在用一把大锤敲碎一个坚果。</p><h2 id="d7a6" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">你只需要知道适合你需求的库。</h2><p id="69cd" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">谢天谢地，一年后，在做一个将维基百科页面转换成播客 的小项目时，我发现了另一个 Python 库。</p><p id="c66d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那个真的很好用，我也没要求更多。</p><p id="ff57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是<a class="ae kv" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> bs4 </strong> </a>，代表<strong class="ky ir">美汤 4 </strong>。</p><p id="7491" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了这个库的<code class="fe mx my mz na b">BeautifulSoup</code>对象，再加上<code class="fe mx my mz na b">requests</code>库，您就拥有了开始 web 抓取所需的一切。</p><h2 id="20f6" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">5 行代码，仅此而已！</h2><p id="a4a5" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">正如所承诺的，下面是 5 行代码，定义了一个 Python 函数来抓取网页。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><blockquote class="nd ne nf"><p id="be9c" class="kw kx ng ky b kz la jr lb lc ld ju le nh lg lh li ni lk ll lm nj lo lp lq lr ij bi translated">它是如何工作的？</p></blockquote><p id="3b2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设您有一个 web 页面的 url，例如<code class="fe mx my mz na b">link = "http://medium.com"</code>，并且您想从该页面获取数据。</p><p id="ee91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在定义了<code class="fe mx my mz na b">link</code>变量之后运行<code class="fe mx my mz na b">soup = parse(link)</code>，你的<code class="fe mx my mz na b">soup</code>将会是一个<strong class="ky ir">对象，包含你的目标网页</strong>的所有数据。</p><h2 id="697c" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak">下一步:处理数据</strong></h2><p id="e73f" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">接下来要做的是解析检索到的 HTML 内容。</p><p id="aeab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据你想要什么，说明会有所不同。但是这里有一些你应该知道的常识。</p><ul class=""><li id="8cc7" class="nk nl iq ky b kz la lc ld lf nm lj nn ln no lr np nq nr ns bi translated"><code class="fe mx my mz na b">soup.findall("p")</code>让您查找 HTML 文档中段落的所有元素。</li><li id="0b5c" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><code class="fe mx my mz na b">soup.find(id="identifier")</code>让您找到文档中 id 为“identifier”的元素(如果有)。</li><li id="8f73" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">一般来说，您将使用<code class="fe mx my mz na b">soup.find(SOMETHING)</code>来查找<strong class="ky ir">一个特定的元素</strong>和<code class="fe mx my mz na b">soup.findall(SOMETHING)</code>来查找<strong class="ky ir">所有与您正在寻找的特征相匹配的元素</strong>。</li></ul><h1 id="ce1b" class="ny ma iq bd mb nz oa ob me oc od oe mh jw of jx mk jz og ka mn kc oh kd mq oi bi translated">结论</h1><p id="2ccc" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">现在你可以毫不费力地从任何网页上获取数据。</p><p id="faf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，提取你想要得到的确切信息仍然需要一些精力。你必须深入到 HTML 内容中，找到 Python 指令来筛选你想要的数据。</p><p id="d17d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">—</p><h2 id="458a" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">看看你能用网络抓取技巧做些什么…</h2><ul class=""><li id="eefb" class="nk nl iq ky b kz ms lc mt lf oj lj ok ln ol lr np nq nr ns bi translated">搜集在线词典📕</li></ul><div class="om on gp gr oo op"><a href="https://medium.com/mlearning-ai/i-scraped-an-online-dictionary-37577876eab5" rel="noopener follow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">我在网上搜集了一本字典</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">做了自己的数据集用于数据分析。</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">medium.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd kp op"/></div></div></a></div><ul class=""><li id="a66c" class="nk nl iq ky b kz la lc ld lf nm lj nn ln no lr np nq nr ns bi translated">或者进入知识的海洋🌎</li></ul><div class="om on gp gr oo op"><a rel="noopener  ugc nofollow" target="_blank" href="/listening-to-wikipedia-python-tutorial-8c65bb3b449a"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">收听维基百科(Python 教程)</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">如果你宁愿听维基百科而不是读它们，并且你已经安装了 Python，那么你就来了…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">blog.devgenius.io</p></div></div><div class="oy l"><div class="pe l pa pb pc oy pd kp op"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="5eee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">感谢</strong>的阅读！<br/>如果你喜欢这个故事，请随时<strong class="ky ir">评论，</strong>👏<strong class="ky ir">或者关注我</strong>！</p><div class="om on gp gr oo op"><a href="https://medium.com/@jmpion/membership" rel="noopener follow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">通过我的推荐链接加入 Medium-Jean Meunier-Pion</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">阅读 Jean Meunier-Pion 的每一个故事(以及媒体上成千上万的其他作家)。您的会员费直接…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">medium.com</p></div></div><div class="oy l"><div class="pf l pa pb pc oy pd kp op"/></div></div></a></div></div></div>    
</body>
</html>