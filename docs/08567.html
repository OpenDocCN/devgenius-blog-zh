<html>
<head>
<title>TypeScript with React Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类型脚本与反应教程</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/typescript-with-react-tutorial-8a147b36903d?source=collection_archive---------0-----------------------#2022-06-25">https://blog.devgenius.io/typescript-with-react-tutorial-8a147b36903d?source=collection_archive---------0-----------------------#2022-06-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/fa333153ee2073d9bb3d0a897dea5f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E5Wib8V5vtXki-xxdn4h4A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><strong class="bd jz">反应类型脚本教程</strong></figcaption></figure><h1 id="3567" class="ka kb in bd jz kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">介绍</h1><p id="12d7" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">TypeScript 已经发展成为 web 开发中最流行和最广泛使用的编程语言之一。TypeScript 是 JavaScript 的超集。这仅仅意味着 TypeScript 本质上是带有一些附加功能的 JavaScript。TypeScript 的目标是编写强类型的 JavaScript。强大的打字功能有助于以最小的错误扩展 web 应用程序。类型脚本代码通过使用像类型脚本编译器或巴贝尔这样的编译器被转换成 JavaScript。</p><p id="78af" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">为了更好地理解，我们将使用 React 和 TypeScript 开发一个学生应用程序。本教程将为您提供在下一个项目中开始使用 TypeScript 所需的一切。</p><p id="04ac" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">如果您想在 YouTube 上学习本教程，请访问以下链接。</p><figure class="ma mb mc md gt jo"><div class="bz fp l di"><div class="me mf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><strong class="ak">反应型初学者脚本教程</strong></figcaption></figure><p id="bc5b" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">最终的解决方案可以在 GitHub 上找到。</p><div class="mg mh gp gr mi mj"><a href="https://github.com/tndungu/React-TypeScript-StudentApp" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd io gy z fp mo fr fs mp fu fw im bi translated">git hub-TN dungu/React-type script-StudentApp:React type script 学生应用程序</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">使用反应类型脚本的学生应用程序。包括类型推理、类型注释、联合类型、接口等功能…</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">github.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx jt mj"/></div></div></a></div><h1 id="5ee2" class="ka kb in bd jz kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">先决条件</h1><p id="e7e4" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">本教程假设您对<a class="ae my" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">反应</a>有一些基本知识</p><p id="47d4" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><strong class="kz io">为什么使用打字稿？</strong></p><p id="a3d8" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">使用 typescript 有许多好处。主要如下所示:</p><ul class=""><li id="4d99" class="mz na in kz b la lv le lw li nb lm nc lq nd lu ne nf ng nh bi translated">强类型确保错误在开发过程中被捕获，而不是在应用程序处于生产过程中被捕获。也使得调试代码变得容易。</li><li id="d903" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">文档——它作为 JavaScript 代码的文档，易于阅读和维护。</li><li id="ffbd" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">节省开发时间。</li><li id="14ec" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">TypeScript 中的泛型提供了一个强大的类型系统，为开发人员提供了很大的灵活性。</li></ul><h1 id="d37c" class="ka kb in bd jz kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">打字稿中的学生应用程序</h1><p id="7839" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">我们将使用 React 构建一个应用程序，它将涵盖 TypeScript 的以下方面。</p><ul class=""><li id="fb7e" class="mz na in kz b la lv le lw li nb lm nc lq nd lu ne nf ng nh bi translated">小道具</li><li id="6df4" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">类型推理与类型注释</li><li id="a98d" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">联合类型</li><li id="d652" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">组织界面</li><li id="0754" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">Enums</li><li id="3f00" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">无商标消费品</li></ul><h1 id="4ccb" class="ka kb in bd jz kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">应用程序开发:分步指南</h1><p id="1641" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">要启动新的 typescript 应用程序，请使用以下命令</p><ul class=""><li id="bcc0" class="mz na in kz b la lv le lw li nb lm nc lq nd lu ne nf ng nh bi translated"><strong class="kz io">纱线</strong>:</li></ul><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="e736" class="ns kb in no b gy nt nu l nv nw">yarn create-react-app student-app --template typescript</span></pre><ul class=""><li id="85fb" class="mz na in kz b la lv le lw li nb lm nc lq nd lu ne nf ng nh bi translated"><strong class="kz io"> npm </strong>:</li></ul><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="776d" class="ns kb in no b gy nt nu l nv nw">npx create-react-app student-app --template typescript</span></pre><p id="65fb" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">如果使用 npm，将 cd 导入学生应用程序和<code class="fe nx ny nz no b">yarn start</code>或<code class="fe nx ny nz no b">npm start</code>。</p><h2 id="8eda" class="ns kb in bd jz oa ob dn kf oc od dp kj li oe of kn lm og oh kr lq oi oj kv ok bi translated">小道具</h2><p id="9abf" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">我们将从传递一个道具到<code class="fe nx ny nz no b">&lt;App/&gt;</code>组件开始。它将是一个字符串，包含应用程序的名称。在这里，我们将看到我们的第一个 TypeScript 用例。<br/>修改<code class="fe nx ny nz no b">App.tsx</code>、<code class="fe nx ny nz no b">index.tsx</code>文件如下:删除<code class="fe nx ny nz no b">App.test.tsx</code>文件。</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="4a90" class="ns kb in no b gy nt nu l nv nw">//Index.tsx<br/>import React from 'react';<br/>import ReactDOM from 'react-dom/client';<br/>import './index.css';<br/>import App from './App';</span><span id="f322" class="ns kb in no b gy ol nu l nv nw">const root = ReactDOM.createRoot(<br/>  document.getElementById('root') as HTMLElement<br/>);<br/>root.render(<br/>  &lt;React.StrictMode&gt;<br/>    &lt;App name="Student App" /&gt;<br/>  &lt;/React.StrictMode&gt;<br/>);</span><span id="338f" class="ns kb in no b gy ol nu l nv nw">//App.tsx<br/>export interface AppName {<br/>  name: string;<br/>}</span><span id="d6fa" class="ns kb in no b gy ol nu l nv nw">function App({ name }: AppName) {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;h1&gt;{name}&lt;/h1&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="6389" class="ns kb in no b gy ol nu l nv nw">export default App;</span></pre><p id="6c9f" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">在您的浏览器上，您应该能够看到显示的学生应用程序。正如我们所见，<strong class="kz io"> AppName </strong>是一个<strong class="kz io">接口</strong>，它有一个名为 Name 的属性。<br/>一个<strong class="kz io">接口</strong>是一个抽象类型，编译器用它来知道一个给定对象可以有哪些属性名。它用于类型检查。<br/>在<code class="fe nx ny nz no b">AppName</code>接口中，属性名是一个字符串，这就是为什么我们要将一个字符串传递给<code class="fe nx ny nz no b">App</code>组件。如果你试图传递任何其他类型，如整数或布尔应用程序将给出一个错误。它甚至不能编译。如果您没有使用 TypeScript，应用程序将编译，但在部署后会产生意外的结果。</p><h2 id="616a" class="ns kb in bd jz oa ob dn kf oc od dp kj li oe of kn lm og oh kr lq oi oj kv ok bi translated">类型推理与类型注释</h2><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="2b1a" class="ns kb in no b gy nt nu l nv nw">const [studentId,setStudentId] = useState(0)</span><span id="2e28" class="ns kb in no b gy ol nu l nv nw">setStudentId('test')</span></pre><p id="28d8" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">如果您尝试上面的代码，它将不会编译，typescript 将给出一个错误。这是因为 typescript 已经推断出<code class="fe nx ny nz no b">studentId</code>的类型是整数(数字)。如果你试图将一个字符串赋值给<code class="fe nx ny nz no b">studentId</code>将会在编译时产生一个错误。这在 TypeScript 中被称为<strong class="kz io">类型推断</strong>。</p><p id="0312" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">同样，下面的代码也不会在 TypeScript 中运行。</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="46d9" class="ns kb in no b gy nt nu l nv nw">const [student, setStudent] = useState(null)</span><span id="19af" class="ns kb in no b gy ol nu l nv nw">setStudent({<br/>  name: 'Antony',<br/>  surname: 'Ndungu',<br/>  age: 15<br/>})</span></pre><p id="a238" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">这是因为 TypeScript 推断 student 对象是 null 类型，因此我们必须显式定义 student 对象，并且在<code class="fe nx ny nz no b">useState()</code>钩子中，我们必须告诉 TypeScript 用户可以是 null 或 student 对象。这被称为<strong class="kz io">类型注释</strong>。我们将使用<code class="fe nx ny nz no b">Student</code>接口来完成。我们的<code class="fe nx ny nz no b">App.tsx</code>的最终代码将如下所示:</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="0081" class="ns kb in no b gy nt nu l nv nw">import { useState } from "react";<br/>import './App.css'</span><span id="7da8" class="ns kb in no b gy ol nu l nv nw">export interface AppName {<br/>  name: string;<br/>}</span><span id="2122" class="ns kb in no b gy ol nu l nv nw">export interface Student {<br/>  name: string;<br/>  surname: string;<br/>  age?: number;<br/>  address?: {<br/>    houseNo: number;<br/>    street: string;<br/>    Town: string;<br/>  }<br/>}</span><span id="71c9" class="ns kb in no b gy ol nu l nv nw">function App({ name }: AppName) {<br/>  const [student, setStudent] = useState&lt;Student | null&gt;(null)</span><span id="2232" class="ns kb in no b gy ol nu l nv nw">  const addStudent = () =&gt; {<br/>    setStudent({<br/>      name: 'Antony',<br/>      surname: 'Ndungu',<br/>      age: 20<br/>    })<br/>  }</span><span id="d8b5" class="ns kb in no b gy ol nu l nv nw">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;h1&gt;{name}&lt;/h1&gt;<br/>      &lt;p&gt;&lt;b&gt;{student?.name} {student?.surname}&lt;/b&gt;&lt;/p&gt;<br/>      &lt;button onClick={addStudent}&gt; Add Student&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}<br/>export default App;</span></pre><p id="fb2e" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">从上面的代码来看，学生既可以是<code class="fe nx ny nz no b">null</code>也可以是<code class="fe nx ny nz no b">Student</code>对象。这由代码<code class="fe nx ny nz no b">useState&lt;Student | null&gt;(null)</code>表示。这引入了另一个叫做<strong class="kz io">联合类型</strong>的概念。</p><h2 id="186e" class="ns kb in bd jz oa ob dn kf oc od dp kj li oe of kn lm og oh kr lq oi oj kv ok bi translated">工会类型</h2><p id="b244" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">这是当你有一个对象，可以有不同的类型。例如，你可能有<code class="fe nx ny nz no b">const [student, setStudent] = useState&lt;Student | null | boolean&gt;(null)</code>。在这种情况下，<code class="fe nx ny nz no b">Student | null | boolean</code>是联合类型。</p><h2 id="b6bf" class="ns kb in bd jz oa ob dn kf oc od dp kj li oe of kn lm og oh kr lq oi oj kv ok bi translated">组织界面</h2><p id="0e27" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">就我们的界面而言，有两个问题:</p><ul class=""><li id="dced" class="mz na in kz b la lv le lw li nb lm nc lq nd lu ne nf ng nh bi translated">我们不应该像在<code class="fe nx ny nz no b">Student</code>接口中那样嵌套对象。相反，我们应该有另一个地址接口。</li><li id="7a3d" class="mz na in kz b la ni le nj li nk lm nl lq nm lu ne nf ng nh bi translated">接口应该在它们独立的模块上，以便于维护和重用。</li></ul><p id="a59b" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">我们将为<code class="fe nx ny nz no b">Address</code>创建一个新的界面。然后，我们将通过在<code class="fe nx ny nz no b">src</code>文件夹中创建一个<code class="fe nx ny nz no b">interfaces.ts</code>文件并将接口移动到那里来为接口创建一个新的模块。然后我们将在<code class="fe nx ny nz no b">App.tsx</code>文件中导入我们的接口。最终的<code class="fe nx ny nz no b">App.tsx</code>和<code class="fe nx ny nz no b">Interfaces.ts</code>文件如下所示:</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="129f" class="ns kb in no b gy nt nu l nv nw">//App.tsx<br/>import { useState } from "react";<br/>import './App.css'<br/>import { Student, AppName } from './interfaces'</span><span id="8b41" class="ns kb in no b gy ol nu l nv nw">function App({ name }: AppName) {<br/>  const [student, setStudent] = useState&lt;Student | null&gt;(null)</span><span id="47ed" class="ns kb in no b gy ol nu l nv nw">  const addStudent = () =&gt; {<br/>    setStudent({<br/>      name: 'Antony',<br/>      surname: 'Ndungu',<br/>      age: 20<br/>    })<br/>  }</span><span id="c891" class="ns kb in no b gy ol nu l nv nw">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;h1&gt;{name}&lt;/h1&gt;<br/>      &lt;p&gt;&lt;b&gt;{student?.name} {student?.surname}&lt;/b&gt;&lt;/p&gt;<br/>      &lt;button onClick={addStudent}&gt; Add Student&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="1ad8" class="ns kb in no b gy ol nu l nv nw">export default App;</span><span id="7c6b" class="ns kb in no b gy ol nu l nv nw">//interfaces.tsx<br/>export interface AppName {<br/>  name: string;<br/>}</span><span id="3777" class="ns kb in no b gy ol nu l nv nw">export interface Address {<br/>  houseNo: number;<br/>  street: string;<br/>  Town: string;<br/>}</span><span id="fae2" class="ns kb in no b gy ol nu l nv nw">export interface Student {<br/>  name: string;<br/>  surname: string;<br/>  age?: number;<br/>  address?: Address<br/>}</span></pre><h2 id="a4d8" class="ns kb in bd jz oa ob dn kf oc od dp kj li oe of kn lm og oh kr lq oi oj kv ok bi translated">枚举</h2><p id="f472" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="kz io">枚举</strong>是用于保存常量值的类型。在我们的例子中，学生级别可以是“本科”或“研究生”。</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="898c" class="ns kb in no b gy nt nu l nv nw">export enum Level {<br/>  Undergraduate = "Undergraduate",<br/>  Postgraduate = "Postgraduate"<br/>}</span></pre><p id="864e" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">上述枚举可用于根据学生的级别有条件地显示学生的年龄，如下所示:</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="f522" class="ns kb in no b gy nt nu l nv nw">{<br/>  student?.level === Level.Undergraduate &amp;&amp;<br/>  &lt;p&gt;&lt;b&gt;Age: {student.age}&lt;/b&gt;&lt;/p&gt;<br/>}</span></pre><h2 id="43da" class="ns kb in bd jz oa ob dn kf oc od dp kj li oe of kn lm og oh kr lq oi oj kv ok bi translated">无商标消费品</h2><p id="5d75" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">泛型是 TypeScript 的一个重要特性，用于创建可重用的组件。相同的组件可用于处理不同的数据类型，如下所示。</p><p id="7cd5" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><strong class="kz io">使用相同的组件显示学生和课程列表。</strong></p><figure class="ma mb mc md gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi om"><img src="../Images/a8e01de3f9ed9a799420d4d73912f542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2S6wznPZkJglK1mq.png"/></div></div></figure><p id="82d7" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">对于我们的学生应用程序，我想显示 2 个列表:一个是学生列表，另一个是课程列表。如果没有泛型，我将创建两个组件来显示这两个列表。然而，对于泛型，我将只使用一个组件来显示两个列表。即使我们的应用程序越来越大，也可以重用<code class="fe nx ny nz no b">DisplayData</code>组件来显示任何项目列表。</p><p id="f9cd" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">在<code class="fe nx ny nz no b">src</code>文件夹中，我已经创建了<code class="fe nx ny nz no b">DisplayData.tsx</code>组件。该文件如下所示:</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="630a" class="ns kb in no b gy nt nu l nv nw">interface Item {<br/>  id: number;<br/>}</span><span id="3ee4" class="ns kb in no b gy ol nu l nv nw">interface DisplayDataItem&lt;T&gt; {<br/>  items: Array&lt;T&gt;<br/>}</span><span id="32ee" class="ns kb in no b gy ol nu l nv nw">export const DisplayData = &lt;T extends Item&gt;({ items }: DisplayDataItem&lt;T&gt;) =&gt; {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;ul&gt;<br/>        {items.map((item) =&gt; (<br/>          &lt;li key={item.id}&gt;{JSON.stringify(item)}&lt;/li&gt;<br/>        ))}<br/>      &lt;/ul&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><p id="6b28" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">接口<code class="fe nx ny nz no b">Item</code>有一个属性<code class="fe nx ny nz no b">id</code>，这意味着任何使用这个组件的对象都必须有一个<code class="fe nx ny nz no b">id</code>属性。接口<code class="fe nx ny nz no b">DisplayDataItem&lt;T&gt;</code>是一个代表类型<code class="fe nx ny nz no b">T</code>的<code class="fe nx ny nz no b">Array&lt;T&gt;</code>的对象，这意味着它可以被任何包含一个项目数组的对象使用。<code class="fe nx ny nz no b">DisplayData</code>是一个接受项目数组并显示列表的函数。<br/>以下是<code class="fe nx ny nz no b">App.tsx</code>、<code class="fe nx ny nz no b">App.css</code>和<code class="fe nx ny nz no b">data.ts</code>文件的最终代码。</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="e524" class="ns kb in no b gy nt nu l nv nw">//App.tsx<br/>import { useState } from "react";<br/>import './App.css'<br/>import { Student, AppName, Level } from './interfaces'<br/>import { studentList, coursesList } from "./data";<br/>import { DisplayData } from "./DisplayData";</span><span id="2f76" class="ns kb in no b gy ol nu l nv nw">function App({ name }: AppName) {<br/>  const [student, setStudent] = useState&lt;Student | null&gt;(null)</span><span id="b1e5" class="ns kb in no b gy ol nu l nv nw">  const addStudent = () =&gt; {<br/>    setStudent({<br/>      name: 'Antony',<br/>      surname: 'Ndungu',<br/>      age: 20,<br/>      level: "Undergraduate"<br/>    })<br/>  }</span><span id="97b6" class="ns kb in no b gy ol nu l nv nw">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;h1&gt;{name}&lt;/h1&gt;<br/>      &lt;p&gt;&lt;b&gt;{student?.name} {student?.surname}&lt;/b&gt;&lt;/p&gt;<br/>      {student?.level === Level.Undergraduate &amp;&amp;<br/>        &lt;p&gt;&lt;b&gt;Age: {student.age}&lt;/b&gt;&lt;/p&gt;<br/>      }<br/>      &lt;button onClick={addStudent}&gt; Add Student&lt;/button&gt;<br/>      &lt;h3&gt;List of Students&lt;/h3&gt;<br/>      &lt;div&gt;<br/>        &lt;DisplayData items={studentList} /&gt;<br/>      &lt;/div&gt;<br/>      &lt;h3&gt;List of Courses&lt;/h3&gt;<br/>      &lt;div&gt;<br/>        &lt;DisplayData items={coursesList} /&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="2f03" class="ns kb in no b gy ol nu l nv nw">export default App;</span><span id="3357" class="ns kb in no b gy ol nu l nv nw">//data.ts<br/>export const studentList = [<br/>  { id: 1, name: 'Antony', surname: 'Ndungu', level: 'Undergraduate', age: 20 },<br/>  { id: 2, name: 'Chanelle', surname: 'John', level: 'Postgraduate', age: 50 },<br/>  { id: 3, name: 'Ian', surname: 'Smith', level: 'Undergraduate', age: 46 },<br/>  { id: 4, name: 'Michael', surname: 'Starke', level: 'Postgraduate', age: 64 },<br/>  { id: 5, name: 'Chris', surname: 'De Kock', level: 'Undergraduate', age: 19 },<br/>]</span><span id="65a5" class="ns kb in no b gy ol nu l nv nw">export const coursesList = [<br/>  { id: 1, code: 'A141', name: 'Algorithms Analysis', description: 'Analysis &amp; Design' },<br/>  { id: 1, code: 'BN445', name: 'Computer Architecture I', description: 'Computer Architecture' },<br/>  { id: 1, code: 'P888', name: 'Operations Research', description: 'Maths - Operations Research' },<br/>  { id: 1, code: 'Z9989', name: 'Discrete Maths', description: 'Discrete Mathematics' }<br/>]</span><span id="409a" class="ns kb in no b gy ol nu l nv nw">.App {<br/>  display: flex;<br/>  width: 100%;<br/>  align-items: center;<br/>  justify-content: center;<br/>  flex-direction: column;<br/>}</span><span id="2f68" class="ns kb in no b gy ol nu l nv nw">li{<br/>  list-style-type: none;<br/>}</span><span id="dd0c" class="ns kb in no b gy ol nu l nv nw">button {<br/>  height: 30px;<br/>  width: 150px;<br/>  background-color: turquoise;<br/>  border-radius: 5px;<br/>}</span></pre><p id="f8ef" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated"><strong class="kz io">通用搜索功能</strong></p><p id="05b7" class="pw-post-body-paragraph kx ky in kz b la lv lc ld le lw lg lh li lx lk ll lm ly lo lp lq lz ls lt lu ig bi translated">最后，我们将添加一个通用搜索，通过单击按钮，可以根据学生姓名或年龄对学生列表进行排序。<br/>创建一个<code class="fe nx ny nz no b">GenericSort.ts</code>文件，并确保你有下面的代码。这段代码接受一个数组项列表和一个用于排序的键，然后返回排序后的列表。例如，如果我想根据学生姓名对学生列表进行排序，我将调用函数<code class="fe nx ny nz no b">GenericSort(studentList,"name")</code> <br/>这是一个强大的泛型用例，如果我想根据不同的排序列对学生记录列表进行排序，我可以使用它。在没有 TypeScript 的情况下实现这一点最终会产生许多难以扩展的函数。</p><pre class="ma mb mc md gt nn no np nq aw nr bi"><span id="a579" class="ns kb in no b gy nt nu l nv nw">//GenericSort<br/>export const GenericSort = &lt;T,&gt;(items: Array&lt;T&gt;, key: keyof T) =&gt; {</span><span id="07e4" class="ns kb in no b gy ol nu l nv nw">  items.sort((a, b) =&gt; {<br/>    if (a[key] &gt; b[key]) {<br/>      return 1;<br/>    }<br/>    if (a[key] &lt; b[key]) {<br/>      return -1;<br/>    }<br/>    return 0;<br/>  })<br/>  return items<br/>}</span><span id="073e" class="ns kb in no b gy ol nu l nv nw">//App.tsx<br/>import { useState } from "react";<br/>import './App.css'<br/>import { Student, AppName, Level } from './interfaces'<br/>import { studentList, coursesList } from "./data";<br/>import { DisplayData } from "./DisplayData";<br/>import { GenericSort } from "./GenericSort";</span><span id="24e8" class="ns kb in no b gy ol nu l nv nw">function App({ name }: AppName) {<br/>  const [student, setStudent] = useState&lt;Student | null&gt;(null)<br/>  const [list, setList] = useState(studentList)</span><span id="023e" class="ns kb in no b gy ol nu l nv nw">  const addStudent = () =&gt; {</span><span id="83a3" class="ns kb in no b gy ol nu l nv nw">    setStudent({<br/>      name: 'Antony',<br/>      surname: 'Ndungu',<br/>      age: 20,<br/>      level: "Undergraduate"<br/>    })<br/>  }</span><span id="6b10" class="ns kb in no b gy ol nu l nv nw">  const sortData = () =&gt; {</span><span id="c0c1" class="ns kb in no b gy ol nu l nv nw">    GenericSort(studentList, "age")<br/>    setList([...studentList])<br/>  }<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;h1&gt;{name}&lt;/h1&gt;<br/>      &lt;p&gt;&lt;b&gt;{student?.name} {student?.surname}&lt;/b&gt;&lt;/p&gt;<br/>      {student?.level === Level.Undergraduate &amp;&amp;<br/>        &lt;p&gt;&lt;b&gt;Age: {student.age}&lt;/b&gt;&lt;/p&gt;<br/>      }<br/>      &lt;button onClick={addStudent}&gt; Add Student&lt;/button&gt;<br/>      &lt;br /&gt;<br/>      &lt;button onClick={sortData}&gt;Sort Data&lt;/button&gt;<br/>      &lt;h3&gt;List of Students&lt;/h3&gt;<br/>      &lt;div&gt;<br/>        &lt;DisplayData items={list} /&gt;<br/>      &lt;/div&gt;<br/>      &lt;h3&gt;List of Courses&lt;/h3&gt;<br/>      &lt;div&gt;<br/>        &lt;DisplayData items={coursesList} /&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="f6c6" class="ns kb in no b gy ol nu l nv nw">export default App;</span></pre><h1 id="ca7b" class="ka kb in bd jz kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">结论</h1><p id="1357" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">厉害！至此，您已经完成了使用 TypeScript 构建 React 应用程序的核心构建块。在项目的最后一部分，我们介绍了 TypeScript 和泛型的一些高级特性。<br/>用打字稿快乐编码。<br/>如果您需要进一步的帮助，请随时在下面发表评论。</p></div></div>    
</body>
</html>