<html>
<head>
<title>Django + Tailwind Simplified</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Django +简化顺风</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/django-tailwind-simplified-8befa0a281d4?source=collection_archive---------1-----------------------#2022-08-06">https://blog.devgenius.io/django-tailwind-simplified-8befa0a281d4?source=collection_archive---------1-----------------------#2022-08-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="dce9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">众所周知，<strong class="jm io"> Django </strong>是一个强大的 web 框架，允许你处理后端和前端解决方案，今天我们将使用强大的<strong class="jm io"> Tailwind css </strong>框架来扩展 Django 的前端。我假设你对姜戈和顺风有些了解。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2cb1fdcac0196c5e2330faf2885a47d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x3G8saaBiHg1SRG_c-CKxw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">我们最后的结果</figcaption></figure></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="a5f6" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">我们开始吧</h1><p id="885c" class="pw-post-body-paragraph jk jl in jm b jn md jp jq jr me jt ju jv mf jx jy jz mg kb kc kd mh kf kg kh ig bi translated">首先在你想要的文件夹中创建一个新的 django 项目，为了这篇文章，我的项目名将是<code class="fe mi mj mk ml b">django_tailwind</code>。</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="519e" class="mq lg in ml b gy mr ms l mt mu">django-admin startproject django_tailwind</span></pre><p id="e45c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在导航到您的项目目录并创建一个名为<code class="fe mi mj mk ml b">theme</code>的文件夹(您可以随意命名)。</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="be76" class="mq lg in ml b gy mr ms l mt mu">mkdir theme</span></pre><p id="b355" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了正确查看我们的结果，我们将创建一个虚拟应用程序</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="4418" class="mq lg in ml b gy mr ms l mt mu">python manage.py startapp dummy</span></pre><p id="8fdf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，您的项目结构应该如下所示:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="a6c4" class="mq lg in ml b gy mr ms l mt mu">django_tailwind<br/> |_django_tailwind<br/> |_dummy<br/> |_theme<br/> |_manage.py</span></pre><p id="df7e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们试图实现的是设计和逻辑的完全分离。我们将把所有 django 静态文件和模板添加到主题文件夹中。要做到这一点，让我们去的主题文件夹，并启动顺风</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="c5a7" class="mq lg in ml b gy mr ms l mt mu">cd theme<br/># generate an npm project<br/>npm init -y<br/># install tailwind<br/>npm install -D tailwindcss<br/># initiate tailwind<br/>npx tailwindcss init</span></pre><p id="4bc4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来我们将在主题文件夹中创建<strong class="jm io">模板</strong>、<strong class="jm io">静态</strong>和<strong class="jm io"> src </strong>文件夹。</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="1559" class="mq lg in ml b gy mr ms l mt mu">mkdir templates static src</span></pre><p id="ec45" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在你的<code class="fe mi mj mk ml b">src</code>文件夹中，创建一个名为<code class="fe mi mj mk ml b">input.css</code>的 css 文件并添加到其中</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="75b4" class="mq lg in ml b gy mr ms l mt mu"><a class="ae mv" href="http://twitter.com/tailwind" rel="noopener ugc nofollow" target="_blank">@tailwind</a> base;<br/><a class="ae mv" href="http://twitter.com/tailwind" rel="noopener ugc nofollow" target="_blank">@tailwind</a> components;<br/><a class="ae mv" href="http://twitter.com/tailwind" rel="noopener ugc nofollow" target="_blank">@tailwind</a> utilities;</span></pre><p id="de04" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你的主题文件夹应该看起来像这样</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/46d7a969930d9b071f300a2c3bf4af76.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*J8mEWyEsLs5qo-Ss8jy3Jg.png"/></div></figure><p id="07c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在你的<code class="fe mi mj mk ml b">tailwind.config.js</code>中添加这一行到<code class="fe mi mj mk ml b">content: []</code></p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="fc7e" class="mq lg in ml b gy mr ms l mt mu">"./templates/**/*.{html,js}"</span></pre><p id="7f32" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你应该有这样的东西</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/055336ba3cf2559960f713a7ecab09a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*KEWbExDtAvh_XA03KPks3w.png"/></div></figure><p id="7e73" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们的<code class="fe mi mj mk ml b">package.json</code>中，我们将添加以下 npm 脚本</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="7b8a" class="mq lg in ml b gy mr ms l mt mu">...<br/>"tailwind-watch": "tailwindcss -i ./src/input.css -o ./static/css/output.css --watch",<br/>"tailwind-build": "tailwindcss -i ./src/input.css -o ./static/css/output.css --minify"<br/>...</span></pre><p id="8510" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">结果应该是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/1eddc538ac030369e33e0246567d2ac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*WKsTC6H6sU4RjGQRBEsQtg.png"/></div></figure><p id="5188" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，在您的模板文件夹中，我们将创建一个<code class="fe mi mj mk ml b">base.html</code>文件，我将在<code class="fe mi mj mk ml b">layouts</code>文件夹中创建我的文件。完成后，将下面的代码添加到基本模板中(您可以在以后根据需要修改它)。</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="a375" class="mq lg in ml b gy mr ms l mt mu">{% load static %}<br/>&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;</span><span id="52b9" class="mq lg in ml b gy mz ms l mt mu">&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>  &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;<br/>  &lt;title&gt;Tailwind + Django&lt;/title&gt;</span><span id="9b7f" class="mq lg in ml b gy mz ms l mt mu">&lt;link rel="stylesheet" href="{% static 'css/output.css' %}"&gt;<br/> &lt;/head&gt;</span><span id="e662" class="mq lg in ml b gy mz ms l mt mu">&lt;body class="bg-grey-lightest font-serif leading-normal tracking-normal"&gt;</span><span id="d5f1" class="mq lg in ml b gy mz ms l mt mu">&lt;div class="container mx-auto "&gt;<br/>   &lt;section class="flex items-center justify-center h-screen"&gt;<br/>    &lt;h1 class="text-5xl font-sans"&gt;Django + Tailwind = ❤️&lt;/h1&gt;<br/>   &lt;/section&gt;</span><span id="7d67" class="mq lg in ml b gy mz ms l mt mu">&lt;/div&gt;</span><span id="022a" class="mq lg in ml b gy mz ms l mt mu">&lt;/body&gt;</span><span id="7d45" class="mq lg in ml b gy mz ms l mt mu">&lt;/html&gt;</span></pre><p id="657a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(注意调用样式表时我们用的<code class="fe mi mj mk ml b">{% static 'css/output.css' %}</code>？这将是 tailwind 加载 css 文件，它将像普通的<code class="fe mi mj mk ml b">stytles.css</code>一样用于项目中的所有 css 目的。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="01d4" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">修改设置. py</h1><p id="c009" class="pw-post-body-paragraph jk jl in jm b jn md jp jq jr me jt ju jv mf jx jy jz mg kb kc kd mh kf kg kh ig bi translated">在我们的<code class="fe mi mj mk ml b"><strong class="jm io">settings.py</strong></code> <strong class="jm io"> </strong>中，我们将做一些修改来确保 django 服务于静态文件。</p><p id="ed9e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我们将把我们创建的<code class="fe mi mj mk ml b"><strong class="jm io">dummy</strong></code>应用程序添加到已安装的应用程序中</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/7e5a51580c734bf60b45819643377ac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*oYijs7BaqNeraBSA6FvHEQ.png"/></div></figure><p id="4e30" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，我们应该确保 django 将从我们的主题文件夹中读取模板。我们将把<code class="fe mi mj mk ml b">(BASE_dir/'theme/templates')</code>添加到<code class="fe mi mj mk ml b">'DIRS': []</code>中，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/b54ad4daacdc2904e342badb6f43a8f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*IIJnwXFt7pD3wbtW8NhcKg.png"/></div></figure><p id="2091" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，使用 django mechanicsm 加载静态文件，我们将对它进行修改，以便从主题文件夹中加载静态文件。首先在顶部，像这样添加<code class="fe mi mj mk ml b">import os</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/c3bb80c0a9a38ddf9e11b19e0c7a2f80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*nkOLD9TLgjE65RuluuAiig.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创建 static_dir 时导入操作系统以避免 PosixPath 错误</figcaption></figure><p id="cc1d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来我们创建一个<code class="fe mi mj mk ml b">STATIC_DIRS</code>来从<code class="fe mi mj mk ml b">theme</code>文件夹中读取静态文件</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="fe3e" class="mq lg in ml b gy mr ms l mt mu"># add this<br/>STATICFILES_DIRS = [os.path.join(BASE_DIR, "theme/static/")]</span></pre><p id="e2aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">结果应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/361e93cf38f3b7314246bfef600ddc90.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*sdIoPYZqpMHH4DgHKFLrZQ.png"/></div></div></figure><h1 id="16c3" class="lf lg in bd lh li ne lk ll lm nf lo lp lq ng ls lt lu nh lw lx ly ni ma mb mc bi translated">从“虚拟”应用程序设置视图</h1><p id="51a2" class="pw-post-body-paragraph jk jl in jm b jn md jp jq jr me jt ju jv mf jx jy jz mg kb kc kd mh kf kg kh ig bi translated">在您的虚拟应用程序中，转到<code class="fe mi mj mk ml b">views.py</code>并添加以下内容(记住您的基本模板位于哪个目录):</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="ccb0" class="mq lg in ml b gy mr ms l mt mu">#<em class="nj"> Create your views here.</em></span><span id="eba1" class="mq lg in ml b gy mz ms l mt mu">def index(request):<br/>   return render(request, 'layouts/base.html')</span></pre><p id="e95f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，在虚拟应用程序中创建一个<code class="fe mi mj mk ml b">urls.py</code>，并添加:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="d7b5" class="mq lg in ml b gy mr ms l mt mu">from django.urls import path<br/>from .views import index</span><span id="de67" class="mq lg in ml b gy mz ms l mt mu">urlpatterns = [<br/>    path('', index, name='index'),<br/>]</span></pre><p id="f6bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在项目主 url 文件(与 settings.py 位于同一目录)中，添加以下内容:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="ee63" class="mq lg in ml b gy mr ms l mt mu">urlpatterns = [</span><span id="4fb4" class="mq lg in ml b gy mz ms l mt mu">path('admin/', admin.site.urls),</span><span id="c089" class="mq lg in ml b gy mz ms l mt mu">path('', include('dummy.urls')), # new</span><span id="753b" class="mq lg in ml b gy mz ms l mt mu">]</span></pre><p id="4d9d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这应该完成了配置。现在运行主题文件夹中的命令，将顺风 css ( <code class="fe mi mj mk ml b">src/input.css</code>)加载到静态文件夹(<code class="fe mi mj mk ml b">static/css/output.css</code>)中的 css 文件:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="bacd" class="mq lg in ml b gy mr ms l mt mu">npm run tailwind-watch</span></pre><p id="009f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要在浏览器中查看结果，请运行:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="005b" class="mq lg in ml b gy mr ms l mt mu">python manage.py runserver</span></pre><p id="ef0d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">附注:如果需要，进行迁移。</p><p id="b798" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/ff7058e725232ecac86bd30efa386194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mARkcp5iPtB-AOhePSX4jw.png"/></div></div></figure><p id="89a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">项目 git:<a class="ae mv" href="https://github.com/gr1nch3/django_tailwind.git" rel="noopener ugc nofollow" target="_blank">https://github.com/gr1nch3/django_tailwind.git</a></p></div></div>    
</body>
</html>