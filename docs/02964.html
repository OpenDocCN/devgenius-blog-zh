<html>
<head>
<title>Slack Clone with React | Semantic UI | GraphQL | PostgresSQL (PART 3)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¸¦æœ‰React |è¯­ä¹‰UI | GraphQL | PostgresSQLçš„Slackå…‹éš†(ç¬¬3éƒ¨åˆ†)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/slack-clone-with-react-semantic-ui-graphql-postgressql-part-3-f42515446c80?source=collection_archive---------11-----------------------#2020-09-15">https://blog.devgenius.io/slack-clone-with-react-semantic-ui-graphql-postgressql-part-3-f42515446c80?source=collection_archive---------11-----------------------#2020-09-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="4b6c" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">ä¹‹å‰ï¼Œæˆ‘ä»¬è®¾ç½®äº†æˆ‘ä»¬çš„GraphqlæœåŠ¡å™¨ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°é‚£ç¯‡æ–‡ç« ã€‚</h2></div><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi kd"><img src="../Images/d314b898fe904b16398f9f545130dee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t4iLLLpblLCZ-ES3"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk translated">Volodymyr Hryshchenko åœ¨<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="714a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç€æ‰‹å¯åŠ¨æˆ‘ä»¬çš„æ•°æ®åº“ã€‚</p><p id="06d8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">æˆ‘å»ºè®®çœ‹æˆ‘ä¸Šä¸€ç¯‡æ–‡ç« çš„å®‰è£…è§†é¢‘ï¼Œçœ‹çœ‹å¦‚ä½•å¯åŠ¨PostgresæœåŠ¡å™¨ã€‚ç„¶åï¼Œæˆ‘å°†é€šè¿‡ä¸€ä¸ªåä¸ºPosticoçš„GUIåº”ç”¨ç¨‹åºåˆ›å»ºæ•°æ®åº“ï¼Œè€Œä¸æ˜¯é€šè¿‡å‘½ä»¤è¡Œã€‚ç„¶è€Œï¼Œè¿™åªæ˜¯æˆ‘çš„ä¸€ä¸ªåå¥½ã€‚æ‚¨å¯ä»¥ç»§ç»­è§‚çœ‹è§†é¢‘æ¥å­¦ä¹ å‘½ä»¤è¡Œæ–¹å¼ã€‚</p><h1 id="8f87" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">å¯åŠ¨æœåŠ¡å™¨å¹¶åˆ›å»ºæ•°æ®åº“</h1><p id="3ac9" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">ä»…ä¾›å‚è€ƒ:åœ¨ä¸æ•°æ®åº“äº¤äº’æ—¶ï¼Œä¸€å®šè¦è¿è¡ŒPostgresæœåŠ¡å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›æ˜¯ä»–ä»¬ç»™ä½ çš„æ•°æ®åº“ã€‚</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/19742a5bc6264176a79f59236f91b9ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/0*xksEN38g4mrRB9oJ"/></div></figure><h1 id="8b46" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">ä½¿ç”¨Posticoä¸æ•°æ®åº“äº¤äº’</h1><p id="5451" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">å½“æ‚¨ç¬¬ä¸€æ¬¡å¼€å§‹æ—¶ï¼Œå®ƒä¼šè¦æ±‚æ‚¨è¿æ¥åˆ°æ‚¨è¯•å›¾ä½¿ç”¨çš„æ•°æ®åº“/æœåŠ¡å™¨ã€‚åªéœ€æŒ‰ç…§è¿™äº›æŒ‡ç¤ºï¼Œè¿æ¥åˆ°ä½ åœ¨Postgresä¸Šè¿è¡Œçš„åŒä¸€ä¸ªæœåŠ¡å™¨ã€‚å®Œæˆåï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºChatçš„æ•°æ®åº“ã€‚æˆ‘ç‚¹å‡»äº†ä¸‹é¢çš„â€œ+æ•°æ®åº“â€æŒ‰é’®æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi mn"><img src="../Images/d2304a00f056ccefce8b2ffd81bde666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RlO57BBWI8hqLm0S"/></div></div></figure><p id="9ed8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">å½“å®ƒåœ¨é¡¶éƒ¨æ˜¾ç¤ºâ€œå·²è¿æ¥â€æ—¶ï¼Œé‚£æ˜¯æ‚¨è¿æ¥åˆ°çš„æ•°æ®åº“ã€‚</p><h1 id="f3dd" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">åœ¨é¡¹ç›®ä¸­é…ç½®æˆ‘ä»¬çš„æ•°æ®åº“ã€‚</h1><p id="d7da" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">æ—¢ç„¶æˆ‘ä»¬å·²ç»è®¾ç½®äº†æ•°æ®åº“ï¼Œç°åœ¨æ˜¯æ—¶å€™åœ¨é¡¹ç›®ä¸­é…ç½®æ‰€æœ‰è¿™äº›äº†ã€‚åœ¨æ ¹é¡¹ç›®æ–‡ä»¶å¤¹çš„ç»ˆç«¯ä¸­ï¼Œè¿è¡Œå‘½ä»¤</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="7e2b" class="mt lq in mp b gy mu mv l mw mx">npx sequelize init</span></pre><p id="f317" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">è¯¥å‘½ä»¤å°†åˆ›å»ºä¸€ä¸ªconfigæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª<code class="fe my mz na mp b">config.json</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«ä¸€äº›é»˜è®¤çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œæ‚¨éœ€è¦æ›´æ”¹è¿™äº›ä¿¡æ¯ï¼Œä»¥ä¾¿ä¸æ‚¨ä¹‹å‰åˆ›å»ºçš„æ•°æ®åº“ç›¸åŒ¹é…ã€‚å®ƒåº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="3382" class="mt lq in mp b gy mu mv l mw mx">/** config/config.js */<br/>{<br/>  "development": {<br/>    "username": "ajeas",<br/>    "password": "",<br/>    "database": "chat",<br/>    "host": "127.0.0.1",<br/>    "dialect": "postgres"<br/>  },<br/>  "test": {<br/>    "username": "root",<br/>    "password": null,<br/>    "database": "database_test",<br/>    "host": "127.0.0.1",<br/>    "dialect": "postgres"<br/>  },<br/>  "production": {<br/>    "username": "root",<br/>    "password": null,<br/>    "database": "database_production",<br/>    "host": "127.0.0.1",<br/>    "dialect": "postgres"<br/>  }<br/>}</span></pre><p id="264a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">â€œç”¨æˆ·åâ€å°†æ˜¯ä½ çš„åå­—ï¼Œé»˜è®¤å¯†ç æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œâ€œæ•°æ®åº“â€å°†æ˜¯èŠå¤©ï¼Œå¹¶ç¡®ä¿ä½¿â€œæ–¹è¨€â€Postgres(å‘Šè¯‰æˆ‘ä»¬ä½¿ç”¨å“ªä¸ªæ•°æ®åº“ï¼Œå¦‚æœä½ æƒ³ï¼Œä½ å¯ä»¥æ”¾ä¸€ä¸ªä¸åŒçš„ï¼Œå¦‚MySQLã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨Postgres)å¿½ç•¥æµ‹è¯•å’Œç”Ÿäº§ã€‚</p><h1 id="0c98" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">ä½¿ç”¨åºåˆ—åˆ›å»ºæ¨¡å‹(è¡¨)</h1><p id="d591" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">é…ç½®å®Œæ•°æ®åº“ä¿¡æ¯åï¼Œå°±è¯¥é€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ¨¡å‹äº†ã€‚è¿è¡Œè¿™æ®µä»£ç æ¥ç”Ÿæˆä¸€ä¸ªç”¨æˆ·æ¨¡å‹(ä»£è¡¨ä¸€ä¸ªæ³¨å†Œç”¨æˆ·)ã€‚</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="527e" class="mt lq in mp b gy mu mv l mw mx">npx sequelize model:generate --name User --attributes username:string,email:string,password:string</span></pre><p id="7176" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">è¿™å°†ç”¨æˆ‘ä»¬éœ€è¦æŒ‡å®šæ•°æ®ç±»å‹çš„<code class="fe my mz na mp b">username</code>ã€<code class="fe my mz na mp b">email</code>å’Œ<code class="fe my mz na mp b">password</code>å­—æ®µ(åˆ—)åˆ›å»ºæˆ‘ä»¬çš„ç”¨æˆ·æ¨¡å‹(è¡¨)ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æœ€åæ·»åŠ äº†<code class="fe my mz na mp b">:string</code>ã€‚ä½ çš„æ¨¡å‹åº”è¯¥æ˜¯è¿™æ ·çš„</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="e48b" class="mt lq in mp b gy mu mv l mw mx">const { Model } = require("sequelize");<br/>module.exports = (sequelize, DataTypes) =&gt; {<br/>  class User extends Model {<br/>    /**<br/>     * Helper method for defining associations.<br/>     * This method is not a part of Sequelize lifecycle.<br/>     * The `models/index` file will call this method automatically.<br/>     */<br/>    static associate() {<br/>      // define association here</span><span id="54c1" class="mt lq in mp b gy nb mv l mw mx">    }<br/>  }<br/>  User.init(<br/>    {<br/>      username: DataTypes.STRING,<br/>      email: DataTypes.STRING,<br/>      password: DataTypes.STRING<br/>    },<br/>    {<br/>      sequelize,<br/>      modelName: "User"<br/>    }<br/>  );<br/>  return User;<br/>};</span></pre><p id="b528" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">å®ƒè¿˜å°†åˆ›å»ºä¸€ä¸ªè¿ç§»æ–‡ä»¶å¤¹å’Œä¸€ä¸ªä»£è¡¨æˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­çš„è¡¨ç»“æ„çš„<code class="fe my mz na mp b">xxxxxxxx-create-user.js</code>æ–‡ä»¶ã€‚æ¯æ¬¡åˆ›å»ºæ¨¡å‹æ—¶ï¼Œéƒ½ä¼šåœ¨migrationsæ–‡ä»¶å¤¹ä¸­é™„åŠ ä¸€ä¸ªè¿ç§»æ–‡ä»¶ã€‚(è¿˜åˆ›å»ºäº†ä¸€ä¸ªæˆ‘ä»¬åœ¨æœ¬ç³»åˆ—ä¸­ä¸ä¼šç”¨åˆ°çš„seederæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥ç°åœ¨å¯ä»¥å¿½ç•¥å®ƒã€‚)</p><p id="3479" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">åœ¨æˆ‘ä»¬è¿›å…¥å…¶ä»–éƒ¨åˆ†ä¹‹å‰ï¼Œè®©æˆ‘ä»¬åœ¨å¯åŠ¨æœåŠ¡å™¨æ—¶è¿æ¥åˆ°æ•°æ®åº“ã€‚æ·»åŠ è¿™æ˜¯<code class="fe my mz na mp b">server.js</code>æ–‡ä»¶</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="8337" class="mt lq in mp b gy mu mv l mw mx">/** add this */<br/>const { sequelize } = require("./models");</span><span id="21d5" class="mt lq in mp b gy nb mv l mw mx">server.listen(4000, () =&gt; {<br/>  console.log(`ğŸš€ Server ready at port 4000`);<br/>  // Connecting to Database</span><span id="bf26" class="mt lq in mp b gy nb mv l mw mx">/** add this */<br/>  sequelize<br/>    .authenticate()<br/>    .then(() =&gt; {<br/>      console.log("database connected");<br/>    })<br/>    .catch(err =&gt; console.log(err));<br/>});</span></pre><p id="a34e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">å®ƒä½¿ç”¨åºåˆ—å’Œæˆ‘ä»¬çš„<code class="fe my mz na mp b">config.js</code>æ–‡ä»¶è¿æ¥åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ã€‚é‡å¯æœåŠ¡å™¨(<code class="fe my mz na mp b">npm run dev</code>)ï¼Œç°åœ¨ä½ åº”è¯¥åœ¨ç»ˆç«¯ä¸­çœ‹åˆ°è¿™ä¸ª</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/b9af60da07e737497ea860eb4f739fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/0*PgMVlYhCRlxJ017I"/></div></figure><p id="3c89" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºæˆ‘ä»¬éœ€è¦çš„å…¶ä»–æ¨¡å‹ã€‚è¿è¡Œä¸ä¹‹å‰ç›¸åŒçš„å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ª<code class="fe my mz na mp b">Team</code>ã€<code class="fe my mz na mp b">Channel</code>ã€<code class="fe my mz na mp b">Message</code>æ¨¡å‹</p><p id="60a7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">ä»…ä¾›å‚è€ƒ:è¿™äº›å‘½ä»¤å°†åœ¨æ¨¡å‹æ–‡ä»¶å¤¹ä¸­ä¸ºæ‚¨åˆ›å»ºæ–‡ä»¶</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="3f98" class="mt lq in mp b gy mu mv l mw mx">npx sequelize model:generate --name Team --attributes name:string</span><span id="6f0d" class="mt lq in mp b gy nb mv l mw mx">npx sequelize model:generate --name Channel --attributes name:string,public:boolean</span><span id="a26e" class="mt lq in mp b gy nb mv l mw mx">npx sequelize model:generate --name Message --attributes text:string</span></pre><p id="866d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">æ‚¨çš„æ‰€æœ‰æ¨¡å‹åº”è¯¥çœ‹èµ·æ¥ä¸ç”¨æˆ·æ¨¡å‹å›¾åƒç›¸ä¼¼ã€‚åœ¨å°†æ¨¡å‹è¿ç§»åˆ°æ•°æ®åº“ä¹‹å‰ã€‚æˆ‘ä»¬éœ€è¦åœ¨ä»–ä»¬ä¹‹é—´å»ºç«‹å…³ç³»ã€‚</p><h1 id="8ee1" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">æ¨¡å‹å…³ç³»(å…³è”)</h1><p id="6f6e" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">æˆ‘ä»¬å°†ä½¿ç”¨<code class="fe my mz na mp b">belongsToMany</code>å’Œ<code class="fe my mz na mp b">belongsTo</code>å…³ç³»ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ¯ä¸ªæ¨¡å‹æ–‡ä»¶ä¸­æ‰‹åŠ¨å®Œæˆã€‚</p><p id="cb5c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">â€œä¸€ä¸ª<strong class="kv io">ç”¨æˆ·</strong>å¯ä»¥å±äºslackä¸­çš„è®¸å¤šå›¢é˜Ÿâ€ï¼Œè¿™å°†ä½¿ä»–ä»¬é€šè¿‡ä¸€ä¸ªåä¸º<code class="fe my mz na mp b">member</code>(æˆ‘ä»¬å°†åœ¨åé¢åˆ›å»º)çš„ä¸åŒè¡¨é“¾æ¥åœ¨ä¸€èµ·ï¼Œè¯¥è¡¨å‘<code class="fe my mz na mp b">member</code>è¡¨æ·»åŠ äº†ä¸€ä¸ªå¤–é”®ã€‚(ä»…ä¾›å‚è€ƒï¼Œæˆ‘å¯¹å…³ç³»æ•°æ®åº“å’Œå…³ç³»è¿˜æ˜¯æ–°æ‰‹ã€‚æ‰€ä»¥æˆ‘ç”¨æˆ‘èƒ½ç†è§£çš„æœ€å¥½çš„æ–¹å¼æ¥è§£é‡Š:)ã€‚</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="1bac" class="mt lq in mp b gy mu mv l mw mx">/** User model */<br/>static associate({ Team }) {<br/>  // define association here<br/>  this.belongsToMany(Team, {<br/>     through: "member",<br/>     foreignKey: "userId"<br/>  });<br/>}</span></pre><p id="8195" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">â€œä¸€ä¸ª<strong class="kv io">å›¢é˜Ÿ</strong>å¯ä»¥å±äºè®¸å¤šç”¨æˆ·ï¼Œå®ƒå±äºä¸€ä¸ªç‰¹å®šçš„ç”¨æˆ·â€ï¼Œç”¨ä¸åŒçš„å¤–é”®é“¾æ¥åˆ°åŒä¸€ä¸ª<code class="fe my mz na mp b">member</code>è¡¨ã€‚<code class="fe my mz na mp b">belongsTo</code>æ²¡æœ‰åˆ›å»ºå¦ä¸€ä¸ªè¡¨ï¼Œå®ƒåªæ˜¯å‘<code class="fe my mz na mp b">team</code>æ·»åŠ äº†ä¸€ä¸ªå¤–é”®ã€‚å¤–é”®<code class="fe my mz na mp b">owner</code>å°†æ˜¯æ‹¥æœ‰å›¢é˜Ÿçš„ç”¨æˆ·(æ¨¡å‹)çš„â€œidâ€ã€‚</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="ed80" class="mt lq in mp b gy mu mv l mw mx">/** Team model */<br/>static associate({ User }) {<br/>   // define association here<br/>   this.belongsToMany(User, { through: "member", foreignKey:       "teamId"});<br/>   this.belongsTo(User, { foreignKey: "owner" });<br/>}</span></pre><p id="0f55" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">â€œä¸€ä¸ª<strong class="kv io">æ¶ˆæ¯</strong>å±äºä¸€ä¸ªé¢‘é“ï¼Œå®ƒå±äºä¸€ä¸ªç”¨æˆ·â€ï¼Œç»™æ¶ˆæ¯æ·»åŠ ä¸¤ä¸ªå¤–é”®ã€‚å¤–é”®<code class="fe my mz na mp b">channelId</code>å°†æ˜¯æ¶ˆæ¯æ‰€å±é€šé“çš„â€œid â€,å¤–é”®<code class="fe my mz na mp b">userId</code>å°†æ˜¯åˆ›å»ºè¯¥æ¶ˆæ¯çš„ç”¨æˆ·(æ¨¡å‹)çš„â€œidâ€ã€‚</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="28ba" class="mt lq in mp b gy mu mv l mw mx">/** Message model */<br/>static associate({ Channel, User }) {<br/>   // define association here<br/>   this.belongsTo(Channel, { foreignKey: "channelId" });<br/>   this.belongsTo(User, { foreignKey: "userId" });<br/>}</span></pre><p id="20d9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">æœ€åï¼Œæˆ‘ä»¬çš„æ¸ é“æ¨¡å‹ã€‚â€œä¸€ä¸ªæ¸ é“å±äºä¸€ä¸ªå›¢é˜Ÿâ€ï¼Œå› ä¸ºæ²¡æœ‰å›¢é˜Ÿæˆ‘ä»¬æ— æ³•åˆ›å»ºæ¸ é“<code class="fe my mz na mp b">teamId</code>å¤–é”®æ˜¯è¯¥æ¸ é“æ‰€å±å›¢é˜Ÿ(æ¨¡å‹)çš„â€œidâ€ã€‚</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="7d57" class="mt lq in mp b gy mu mv l mw mx">/** Channel model */<br/>static associate({ Team }) {<br/>   // define association here<br/>   this.belongsTo(Team, { foreignKey: "teamId" });<br/>}</span></pre><p id="d73c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†å®ƒè¿ç§»åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ ·å®ƒå°†å…·æœ‰ç›¸åŒçš„ç»“æ„ã€‚è¿è¡Œæ­¤å‘½ä»¤è¿›è¡Œè¿ç§»ã€‚</p><pre class="ke kf kg kh gt mo mp mq mr aw ms bi"><span id="7d4d" class="mt lq in mp b gy mu mv l mw mx">npx sequelize db:migrate</span></pre><p id="885f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨åº”è¯¥ä¼šåœ¨ç»ˆç«¯ä¸Šçœ‹åˆ°ä¸€æ¡ç±»ä¼¼äº<code class="fe my mz na mp b">xxxxxxxxxxx-create-user.js migrated</code>çš„æ¶ˆæ¯ä»¥åŠå…¶ä»–è¿ç§»æ–‡ä»¶ã€‚</p><p id="2c44" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">ç¡®ä¿è¿æ¥åˆ°æ‚¨çš„èŠå¤©æ•°æ®åº“ï¼Œcheck-in Posticoï¼Œæ‚¨ç°åœ¨åº”è¯¥å¯ä»¥çœ‹åˆ°æ·»åŠ äº†æ‰€æœ‰å¤–é”®çš„æ‰€æœ‰è¡¨ã€‚</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi nd"><img src="../Images/2e8dea1a55a51ca7f2e795c848a345b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jlErn5ug8BPr-We7"/></div></div></figure><p id="df14" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨çš„æ–‡ä»¶å¤¹ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/3dfe1002b97149f60299cb7e9d46f03a.png" data-original-src="https://miro.medium.com/v2/resize:fit:404/0*5S5SXwkXENDeA26z"/></div></figure><p id="da32" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">è¿™æ˜¯æ‰€æœ‰è¿™ä¸€ä¸ªä¹¡äº²ï¼Œè¯·éšæ—¶è®©æˆ‘çŸ¥é“ï¼Œå¦‚æœä½ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å·¥ä½œé‡ï¼Œæ‰€ä»¥æˆ‘å¾ˆä¹æ„å¸®åŠ©å¦‚æœä½ å¡ä½äº†ã€‚å¹²æ¯ï¼</p></div></div>    
</body>
</html>