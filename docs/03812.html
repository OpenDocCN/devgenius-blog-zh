<html>
<head>
<title>Vue Router 4–Router Aliases and Route Props</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue路由器4–路由器别名和路由属性</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/vue-router-4-router-aliases-and-route-props-ec008b6a057?source=collection_archive---------5-----------------------#2020-12-19">https://blog.devgenius.io/vue-router-4-router-aliases-and-route-props-ec008b6a057?source=collection_archive---------5-----------------------#2020-12-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a1c5266cca0910b2b8ada914a5c8f6bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5Bu8PzhyDUNRLB_U"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">马特·邓肯在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="338b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue Router 4处于测试阶段，可能会有变化。</p><p id="637d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了轻松地构建一个单页面应用程序，我们需要添加路由，以便将URL映射到呈现的组件。</p><p id="0ba0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何使用Vue路由器4与Vue 3。</p><h1 id="ff00" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">别名</h1><p id="5a1a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">重定向意味着当用户访问<code class="fe me mf mg mh b">/a</code>时，URL被替换为<code class="fe me mf mg mh b">/b</code>并匹配为<code class="fe me mf mg mh b">/b</code>。</p><p id="a893" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">/a</code>的别名为<code class="fe me mf mg mh b">/b</code>意味着当用户访问<code class="fe me mf mg mh b">/b</code>时，URL保持为<code class="fe me mf mg mh b">/b</code>，但会像用户访问<code class="fe me mf mg mh b">/a</code>一样进行匹配。</p><p id="8dbe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e098" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>    &lt;script src="https://unpkg.com/vue-router@4.0.0-beta.7/dist/vue-router.global.js"&gt;&lt;/script&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;p&gt;<br/>        &lt;router-link to="/foo"&gt;foo&lt;/router-link&gt;<br/>        &lt;router-link to="/bar"&gt;bar&lt;/router-link&gt;<br/>        &lt;router-link to="/baz"&gt;baz&lt;/router-link&gt;<br/>      &lt;/p&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const Foo = {<br/>        template: "&lt;div&gt;foo&lt;/div&gt;"<br/>      };<br/>      const Bar = {<br/>        template: "&lt;div&gt;bar&lt;/div&gt;"<br/>      };<br/>      const routes = [<br/>        {<br/>          path: "/foo",<br/>          component: Foo<br/>        },<br/>        {<br/>          path: "/bar",<br/>          component: Bar,<br/>          alias: "/baz"<br/>        }<br/>      ];<br/>      const router = VueRouter.createRouter({<br/>        history: VueRouter.createWebHistory(),<br/>        routes<br/>      });<br/>      const app = Vue.createApp({});<br/>      app.use(router);<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="7037" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有了<code class="fe me mf mg mh b">alias</code>属性以及我们想要映射到<code class="fe me mf mg mh b">Bar</code>组件的路径。</p><p id="9d00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，当我们单击<code class="fe me mf mg mh b">baz</code>链接时，我们会看到显示的<code class="fe me mf mg mh b">bar</code>。</p><h1 id="1a1f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">传递属性以路由组件</h1><p id="a7a2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过道具来路由组件。</p><p id="eefd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们就不必将路由参数与组件耦合起来。</p><p id="22a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不使用<code class="fe me mf mg mh b">this.$router.currentRoute.value.params</code>属性，而是使用props来获取路线参数。</p><p id="f914" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3f5f" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>    &lt;script src="https://unpkg.com/vue-router@4.0.0-beta.7/dist/vue-router.global.js"&gt;&lt;/script&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;p&gt;<br/>        &lt;router-link to="/foo"&gt;foo&lt;/router-link&gt;<br/>        &lt;router-link to="/bar/1"&gt;bar&lt;/router-link&gt;<br/>      &lt;/p&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const Foo = {<br/>        template: "&lt;div&gt;foo&lt;/div&gt;"<br/>      };<br/>      const Bar = {<br/>        template: "&lt;div&gt;bar {{id}}&lt;/div&gt;",<br/>        props: ["id"]<br/>      };<br/>      const routes = [<br/>        {<br/>          path: "/foo",<br/>          component: Foo<br/>        },<br/>        {<br/>          path: "/bar/:id",<br/>          component: Bar,<br/>          props: true<br/>        }<br/>      ];<br/>      const router = VueRouter.createRouter({<br/>        history: VueRouter.createWebHistory(),<br/>        routes<br/>      });<br/>      const app = Vue.createApp({});<br/>      app.use(router);<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="7671" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">props</code>属性添加到<code class="fe me mf mg mh b">routes</code>条目中，并将其设置为<code class="fe me mf mg mh b">true</code>。</p><p id="fb46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在路由中有了<code class="fe me mf mg mh b">:id</code> URL参数占位符。</p><p id="7d0d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们添加<code class="fe me mf mg mh b">Bar</code>的<code class="fe me mf mg mh b">props</code>属性来取<code class="fe me mf mg mh b">id</code>道具。</p><p id="dd0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">id</code>道具显示在<code class="fe me mf mg mh b">Bar</code>的模板中。</p><p id="89b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样我们就可以从route参数中得到<code class="fe me mf mg mh b">id</code>道具。</p><p id="1caf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们将<code class="fe me mf mg mh b">router-link</code>的<code class="fe me mf mg mh b">to</code>道具设置为<code class="fe me mf mg mh b">'/bar/1'</code>。</p><p id="cceb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们将1看作是<code class="fe me mf mg mh b">Bar</code>组件中<code class="fe me mf mg mh b">id</code>的值。</p><h1 id="61c9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="f1fa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以添加别名并传递路由URL参数作为道具，而不是从Vue Router 4中的<code class="fe me mf mg mh b">$router</code>对象访问值。</p></div></div>    
</body>
</html>