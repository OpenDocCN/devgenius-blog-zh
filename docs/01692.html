<html>
<head>
<title>Create an Augmented Reality App with Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Ruby 创建一个增强现实应用</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/create-an-augmented-reality-app-with-ruby-37272f1355f3?source=collection_archive---------18-----------------------#2020-07-09">https://blog.devgenius.io/create-an-augmented-reality-app-with-ruby-37272f1355f3?source=collection_archive---------18-----------------------#2020-07-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="19b3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Ruby Motion + ARKit &lt;&lt; SceneKit</p><p id="278c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Thank you Lori Olson for the amazing <a class="ae ki" href="https://www.youtube.com/watch?v=9eqjppyV6iY&amp;t=1341s" rel="noopener ugc nofollow" target="_blank">主题演讲</a>这个话题</p><p id="58b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第一步</strong>注册一个苹果开发者账户</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/33f2d59530dadcb9787726c273e83036.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SdczNFe09zHBZcUc"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">Apple 开发者帐户登录屏幕</figcaption></figure><p id="9eeb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建一个苹果开发帐户是超级容易和快速设置它，它与你的苹果 ID…超级方便。您还需要下载 Xcode，它可以为您的终端启用一些 iOS 开发工具。</p><p id="1de2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第 2 步</strong>添加新的证书和唯一标识符</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/9b49a4e53ccabfea116bd33d9d855632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ksiDTlzzUx8oG9Mr"/></div></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kz"><img src="../Images/7e1f8a4e9e241d0cce477a65427c3109.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NF8l35DXItT4-uar"/></div></div></figure><p id="306a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以通过 Apple Connect 登录并转到“证书、标识符与描述文件”部分，轻松创建新的唯一标识符。请务必记下您的唯一标识符，因为我们将很快在您的 rakefile 中使用它。</p><p id="8375" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第三步</strong>下载 Ruby Motion</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/2312ce9475bd6187c44b71c837923c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dd5UQ7mZViluLTXs"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">ruby motion 订阅页面</figcaption></figure><p id="92a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装 Ruby Motion 很简单，只需点击一下。出于 SDK 的原因，这个项目需要 AR 的付费版本——解释为什么——AR 不能使用模拟器，因为模拟器没有摄像头</p><p id="8dfa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">轻松安装(一次点击)</p><p id="cf15" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 4 </strong>创建一个新的 ruby motion 项目</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi la"><img src="../Images/126fdf451506ea33ae8fe577f8ee409c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bxtE597E-WO4_ntc"/></div></div></figure><p id="5fa5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要在适当的目录中创建新的 motion 项目 CD，并运行 motion create 和您想要的应用程序名称</p><p id="0795" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第五步</strong>添加宝石</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/fd379ddff42e890c5fd17866ab1e2210.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/0*AzqHrejaicU4o_OV"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">Gemfile</figcaption></figure><p id="28d8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Simplesplash gem 消除了 iOS 闪屏的错误</p><p id="37c3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Motion provisioning 有助于将您的应用和证书验证到您提供的 iOS 帐户</p><p id="5107" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 5 </strong>编辑 rake 文件</p><p id="4d66" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">rakefile 由注释掉的步骤组成，以下是可用的步骤以及如何填写信息</p><ol class=""><li id="3b85" class="lc ld in jm b jn jo jr js jv le jz lf kd lg kh lh li lj lk bi translated">阅读自述文件</li><li id="d91e" class="lc ld in jm b jn ll jr lm jv ln jz lo kd lp kh lh li lj lk bi translated">添加你的应用。name = 'ARDemo '和应用版本= '1.0 '</li><li id="33cf" class="lc ld in jm b jn ll jr lm jv ln jz lo kd lp kh lh li lj lk bi translated">注释掉部署目标(这在免费版本中不起作用，所以为了在最新的 iPhone 上使用 ruby motion 和 AR，你需要付费版本的 Ruby motion)</li><li id="1d67" class="lc ld in jm b jn ll jr lm jv ln jz lo kd lp kh lh li lj lk bi translated">连接你的应用标识符“com.andyflatiron.ARDemo”</li></ol><p id="232a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.继承苹果框架</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lq"><img src="../Images/3793430cd6c9b344feade723ded1d8ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WaoRpxjiSpajcLBt"/></div></div></figure><p id="031a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第 6 步</strong>将以下代码添加到您的 rake 文件中，以提供动作</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lr"><img src="../Images/2673561bf20285b1c01c2ff0708cd84c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8WgKkmAB-BUJnDYF"/></div></div></figure><p id="8453" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该代码与 motion provisioning gem 一起工作，验证您的帐户，并确保您拥有开发 iOS 应用程序的有效证书。</p><p id="6dfd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">合理默认值下的第 7 步</strong>包括</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/20759ec40c405487940f01de644eb0ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yXa0_XM2owGxjzcz"/></div></div></figure><p id="a613" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">添加 UI 警告/弹出窗口，要求用户允许访问他们的位置和相机，这两者都是 AR 体验所需要的。</p><p id="79ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 8 </strong>将根视图控制器更换为新的控制器</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ls"><img src="../Images/a416c3911d6a58cabbcc06dc955fbe46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n4RbRAf_Yg-s_cJjQcWCIA.png"/></div></div></figure><p id="3bec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">app_delegate.rb 是用一个新的 ruby motion 文件自动创建的，保持它的原样只是编辑根视图控制器到 ARViewController</p><p id="8417" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第九步创建一个视图控制器</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lt"><img src="../Images/8a3e91da69762d5f0084c55c377ccf52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DEbwPPG8tP1foMv3"/></div></div></figure><p id="9cae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在新创建的 ARViewController 和固有的 UI 视图控制器中。超级控制器是 objective C，所以下面的一些语言可能看起来有点奇怪。现在，我们添加了 attr_accessors 来访问 UIViewControllers 实例变量。创建 AR 场景的场景视图和配置场景的场景配置</p><p id="bb5b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第 10 步</strong> AddDidLoad 方法</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/ba81aa34a49a27576e4b51a477b50a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LlxvA_OZ2saExTuu"/></div></div></figure><p id="7095" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们使用 AddDidLoad 方法，该方法可从 UIViewController 获得。我们确保调用 super 来继承它的所有属性。然后我们创建一个新的场景并初始化它的一个新实例。我们给场景默认的闪电，这样它在环境中看起来很自然，我们指定你的设备的屏幕大小</p><p id="d7a2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 11 </strong>添加配置方法</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lu"><img src="../Images/1aca19c64db4e7d46fe2c9d3c8816c59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wbJHZpwvWYXSBFWU"/></div></div></figure><p id="0f47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，我们需要一个配置方法——我们通过创建一个 ViewWillAppear 方法并启动一个新的 ar 世界跟踪配置实例来做到这一点。然后我们用场景配置的配置创建一个新的场景视图</p><p id="d8e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第 12 步</strong>给场景添加物体</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/73d74930d079aa83dcefb711aa5b9d6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*auF2Zah-A5w4gzZP"/></div></div></figure><p id="a924" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要将盒子添加到场景中。为了做到这一点，我们需要创建盒子的尺寸，创建一个节点并将其放置在场景中，最后将节点添加到场景视图中</p><p id="b379" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 13 </strong>在您的终端运行<em class="lv">耙子装置</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/addf79d39a34f9651d854aaf0534366f.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/0*OLwcoSqYdm135TX9"/></div></figure><p id="90be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">插入您的 iOS 设备并运行 rake 设备，因为这是一个 AR 应用程序，您需要运行 rake 设备，在其他情况下，您可以只运行 rake 并打开模拟器</p><p id="7a26" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 14 </strong>运行&amp;测试</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/197976d6ba3253f3705f6bc75bfb7639.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/1*yLPal7_-TqhWPBkapD7uWA.gif"/></div></figure><p id="3b92" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望你喜欢阅读！</p></div></div>    
</body>
</html>