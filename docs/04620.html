<html>
<head>
<title>Add Charts into Our React App with Victory</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将图表添加到我们的 React 应用程序中</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-c863e9162382?source=collection_archive---------8-----------------------#2021-04-11">https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-c863e9162382?source=collection_archive---------8-----------------------#2021-04-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2a47456d3f150062a1ce51c8dfaf5368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QZH90Fl8p3nyhT4R"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@japhethmast?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">雅弗桅杆</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="441c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">胜利让我们能够将图表和数据可视化添加到 React 应用程序中。</p><p id="35db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用 Victory 将图表添加到 React 应用程序中。</p><h1 id="eaf9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">装置</h1><p id="4851" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过运行来安装胜利:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9ab5" class="mn lc iq mj b gy mo mp l mq mr">npm install victory</span></pre><h1 id="67f7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">入门指南</h1><p id="21c9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe ms mt mu mj b">VictoryBar</code>组件创建一个条形图。</p><p id="81a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="18af" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { VictoryBar, VictoryChart } from "victory";</span><span id="b118" class="mn lc iq mj b gy mv mp l mq mr">const data = [<br/>  { quarter: 1, earnings: 13000 },<br/>  { quarter: 2, earnings: 16500 },<br/>  { quarter: 3, earnings: 14250 },<br/>  { quarter: 4, earnings: 19000 }<br/>];</span><span id="f1d8" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;VictoryChart domainPadding={20}&gt;<br/>      &lt;VictoryBar data={data} x="quarter" y="earnings" /&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><p id="5ea6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加条形图。</p><p id="1e84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个对象数组作为图表数据。</p><p id="9237" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们把它作为<code class="fe ms mt mu mj b">data</code>属性的值传递。</p><p id="db2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们分别用<code class="fe ms mt mu mj b">x</code>和<code class="fe ms mt mu mj b">y</code>属性为 x 和 y 轴值设置属性名。</p><p id="a4a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们设置<code class="fe ms mt mu mj b">domainPadding</code>来移动条，这样它们就不会与轴重叠。</p><p id="c8c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe ms mt mu mj b">VictoryAxis</code>组件定制轴:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9ef6" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { VictoryBar, VictoryChart, VictoryAxis } from "victory";</span><span id="bc84" class="mn lc iq mj b gy mv mp l mq mr">const data = [<br/>  { quarter: 1, earnings: 13000 },<br/>  { quarter: 2, earnings: 16500 },<br/>  { quarter: 3, earnings: 14250 },<br/>  { quarter: 4, earnings: 19000 }<br/>];</span><span id="ea0c" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;VictoryChart domainPadding={20}&gt;<br/>      &lt;VictoryAxis<br/>        tickValues={[1, 2, 3, 4]}<br/>        tickFormat={["Quarter 1", "Quarter 2", "Quarter 3", "Quarter 4"]}<br/>      /&gt;<br/>      &lt;VictoryAxis dependentAxis tickFormat={(x) =&gt; `$${x / 1000}k`} /&gt;<br/>      &lt;VictoryBar data={data} x="quarter" y="earnings" /&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><p id="9d8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">dependentAxis</code>道具让我们修改 y 轴。</p><p id="6eb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">tickFormat</code>有一个函数返回我们想要在轴刻度上显示的内容。</p><p id="2a8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以传入一组值来显示在轴上。</p><h1 id="f826" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">堆积条形图</h1><p id="4ae9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe ms mt mu mj b">VictoryStack</code>组件添加一个堆叠条形图。</p><p id="46ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6bb9" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import {<br/>  VictoryBar,<br/>  VictoryChart,<br/>  VictoryAxis,<br/>  VictoryStack,<br/>  VictoryTheme<br/>} from "victory";</span><span id="ef67" class="mn lc iq mj b gy mv mp l mq mr">const data2018 = [<br/>  { quarter: 1, earnings: 13000 },<br/>  { quarter: 2, earnings: 16500 },<br/>  { quarter: 3, earnings: 14250 },<br/>  { quarter: 4, earnings: 19000 }<br/>];</span><span id="559f" class="mn lc iq mj b gy mv mp l mq mr">const data2019 = [<br/>  { quarter: 1, earnings: 15000 },<br/>  { quarter: 2, earnings: 12500 },<br/>  { quarter: 3, earnings: 19500 },<br/>  { quarter: 4, earnings: 13000 }<br/>];</span><span id="a011" class="mn lc iq mj b gy mv mp l mq mr">const data2020 = [<br/>  { quarter: 1, earnings: 11500 },<br/>  { quarter: 2, earnings: 13250 },<br/>  { quarter: 3, earnings: 20000 },<br/>  { quarter: 4, earnings: 15500 }<br/>];</span><span id="2191" class="mn lc iq mj b gy mv mp l mq mr">const data2021 = [<br/>  { quarter: 1, earnings: 18000 },<br/>  { quarter: 2, earnings: 13250 },<br/>  { quarter: 3, earnings: 15000 },<br/>  { quarter: 4, earnings: 12000 }<br/>];</span><span id="1642" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;VictoryChart domainPadding={20} theme={VictoryTheme.material}&gt;<br/>      &lt;VictoryAxis<br/>        tickValues={[1, 2, 3, 4]}<br/>        tickFormat={["Quarter 1", "Quarter 2", "Quarter 3", "Quarter 4"]}<br/>      /&gt;<br/>      &lt;VictoryAxis dependentAxis tickFormat={(x) =&gt; `$${x / 1000}k`} /&gt;<br/>      &lt;VictoryStack&gt;<br/>        &lt;VictoryBar data={data2018} x="quarter" y="earnings" /&gt;<br/>        &lt;VictoryBar data={data2019} x="quarter" y="earnings" /&gt;<br/>        &lt;VictoryBar data={data2020} x="quarter" y="earnings" /&gt;<br/>        &lt;VictoryBar data={data2021} x="quarter" y="earnings" /&gt;<br/>      &lt;/VictoryStack&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><p id="2eca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是将<code class="fe ms mt mu mj b">VictoryBar</code>嵌套在<code class="fe ms mt mu mj b">VictoryStack</code>组件中。</p><h1 id="410b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="f052" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过 Victory library 轻松地将条形图添加到 React 应用程序中。</p></div></div>    
</body>
</html>