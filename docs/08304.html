<html>
<head>
<title>How To Search Through A Table With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 JavaScript 在表格中搜索</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-search-through-a-table-with-javascript-b8cbe5ec9757?source=collection_archive---------2-----------------------#2022-06-04">https://blog.devgenius.io/how-to-search-through-a-table-with-javascript-b8cbe5ec9757?source=collection_archive---------2-----------------------#2022-06-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ef8bb943ab251afc6ea36095a41871e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bo3Bz5zQFNIkaP_JLxnWoA.png"/></div></div></figure><p id="b178" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我今天的文章中，我将向您展示如何使用 JavaScript 中的搜索表单来搜索一个表。</p><p id="3308" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">假设您有一个列出所有员工联系信息的水平表，并且您需要构建一个搜索表单来搜索该表以找到某个特定的员工，您将如何进行呢？</p><p id="5b44" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">出于演示的目的，这是我的桌子。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/eb41a04151162a8e710ea1db60bb3c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/0*kASnOaZ8X6gwhrST.png"/></div></figure><p id="a569" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在你可能有一个比上图更大的表，我们的解决方案仍然可以很好地工作。</p><h1 id="b616" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">我们开始吧</h1><p id="6fbf" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">为了构建我们的搜索算法，我们需要首先定义要搜索的列。</p><p id="062e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于本教程，我决定让算法搜索姓名、电子邮件、电话和国家/地区列中的搜索文本。</p><p id="329e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了简洁起见，这里是 HTML 和 CSS，因为我们想把重点放在 JavaScript 方面。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="be27" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是代码的样子</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi md"><img src="../Images/546870af8dec2ddcd001069d439aafee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/0*qHErQGdDy8hgXNxM.png"/></div></figure><p id="b60e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们要声明一个对象来存储表的数据，并声明一个函数来使用已经声明的数据为我们构建表。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><h1 id="fe37" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">该功能</h1><p id="fba0" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">下面的函数会有<strong class="jx io"> 1 参数</strong>(我会在本教程后面讲到参数)，函数的目的是生成记录(行和单元格)。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="e0ec" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我调用这个函数，您会注意到我们的表现在包含了所有的雇员数据。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="2329" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是它的样子</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi me"><img src="../Images/1ff765f614f9c91704c6ebae27e17963.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/0*e59YKuZfhLJeDOGC.png"/></div></figure><h1 id="f15a" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">构建搜索算法</h1><p id="6ddd" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">现在，我们想要构建一个非常简单的算法，该算法将搜索用于构建特定查询的表的数据，然后它将返回包含搜索到的查询的记录。</p><p id="bfc3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了构建这个逻辑，我们将为搜索输入附加一个事件监听器，然后我们将检查是否提供了一个值作为搜索查询。</p><p id="2b49" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我想在开始打字时就在表上搜索并显示记录。所以我将使用<strong class="jx io">输入事件监听器</strong>，然后检查搜索查询是否为空。</p><p id="2e01" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果搜索查询不为空，则意味着用户提供了一个值，我们将在整个表中进行搜索，但如果搜索查询为空，则意味着用户没有提供值，然后我们将使用已经声明的数据重新构建表。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><h1 id="d1b3" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">是解释的时候了</h1><p id="48d9" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">还记得我们声明的<strong class="jx io"> buildTable </strong>函数只有一个参数吗？</p><p id="c9ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">嗯，这是用法。</p><p id="b304" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">表中的所有记录都附有一个 ID。因此，当我们在表中搜索时，我们将存储包含搜索查询的匹配文本的记录的 ID，然后将这些 ID 传递给<strong class="jx io"> buildTable </strong>函数，这样它将显示带有此 ID 的记录。</p><p id="ad0f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们修改<strong class="jx io"> buildTable </strong>函数来处理参数(如果提供的话)。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="7e83" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，该函数已经过修改，可以重新生成要显示的表:</p><ul class=""><li id="50a6" class="mf mg in jx b jy jz kc kd kg mh kk mi ko mj ks mk ml mm mn bi translated">未提供<strong class="jx io"> matchingIDs </strong>参数时的所有记录。</li><li id="39b0" class="mf mg in jx b jy mo kc mp kg mq kk mr ko ms ks mk ml mm mn bi translated">如果提供了<strong class="jx io"> matchingIDs </strong>参数，则包含搜索查询的所有记录。</li><li id="2eeb" class="mf mg in jx b jy mo kc mp kg mq kk mr ko ms ks mk ml mm mn bi translated"><strong class="jx io">未找到数据</strong>如果搜索查询未返回结果</li></ul><p id="b8e1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们完成代码来处理用户的搜索查询。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="a5e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您会注意到，我使用了<strong class="jx io"> includes() </strong>方法来检查查询是否存在于特定的属性中。现在我们可以大胆地测试我们的算法了。</p><p id="a3a7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将下面的完整代码复制并粘贴到您的页面上，然后搜索一名员工来看看其中的神奇之处</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="54ff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我输入查询“<strong class="jx io"> ugorji </strong>”时，这个表看起来是这样的</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi me"><img src="../Images/c89df2828bb98ae0e4df1edfb7ec3fee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/0*nIoJoKqUgDSHgF1c.PNG"/></div></figure><p id="f584" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我输入查询“<strong class="jx io"> sams </strong>”时，这个表看起来是这样的</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/f709629d666490a0031ecfc484ba7f1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/0*bHd441DZKc7OL6sG.PNG"/></div></figure><p id="b21f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我输入并不存在的查询“<strong class="jx io"> samuel </strong>”时，这个表看起来是这样的</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/9f482db6055d176df4ad802c84d095fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/0*2rofupl6PtkyDcl0.PNG"/></div></figure><p id="838a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">还记得我们构建的搜索算法也是为了在 country 列中查找搜索查询吗？</p><p id="8c32" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我输入查询"<strong class="jx io">德国</strong>"时，这个表看起来是这样的</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/e1c9e5f4468edf0cd31cac6f71975ee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/0*RPmUp5krhBXRZlXU.png"/></div></figure><p id="52db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们不提供任何搜索查询，这个表看起来就像这样</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/85bdd93c0eb650dfce6f81d0f997c093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/0*ukrVVlYy_i--L7jE.PNG"/></div></figure><p id="9325" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望您已经理解了用 JavaScript 构建搜索表单以搜索整个表格的一种方法。</p><h1 id="9f44" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">更新</h1><p id="1d15" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">注意，在字符串上使用方法<strong class="jx io"> includes() </strong>执行区分大小写的搜索，这不是我们需要的。要对字符串执行不区分大小写的搜索，我们需要使用正则表达式。</p><p id="04ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae mx" href="https://simon-ugorji.medium.com/building-a-simple-html-highlighter-with-javascript-8703b7836147" rel="noopener">在本文</a>中，我解释了如何构造一个正则表达式来对字符串执行不区分大小写的搜索。</p><p id="fe29" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">读过这篇文章后，这里有一个对代码的修改。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="0999" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在如果你搜索<strong class="jx io">“frank”</strong>，它会调出客户的名字，而不需要使用大写字母。</p><p id="8a33" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有什么建议吗？请在评论区告诉我！</p><p id="3d8e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你已经到了我文章的结尾。</p><h1 id="477b" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">额外的</h1><p id="a19e" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">我最近发布了一个 JavaScript 包，它使用验证规则、正则表达式和表单输入属性来验证 HTML 表单。</p><p id="d5f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你能抽出几秒钟来检查一下，我将不胜感激。</p><p id="5e7a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae mx" href="https://www.producthunt.com/posts/octavalidate" rel="noopener ugc nofollow" target="_blank">产品搜寻的 octa validate</a></p><p id="4a32" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">谢谢你。</p></div></div>    
</body>
</html>