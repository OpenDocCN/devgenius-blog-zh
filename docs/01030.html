<html>
<head>
<title>Anonymous functions in python (Lambda)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">python中的匿名函数(Lambda)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/anonymous-functions-in-python-lambda-5b860e9b4c0f?source=collection_archive---------18-----------------------#2020-06-22">https://blog.devgenius.io/anonymous-functions-in-python-lambda-5b860e9b4c0f?source=collection_archive---------18-----------------------#2020-06-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><blockquote class="jk jl jm"><p id="2624" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated"><em class="in">用python中的lambda关键字可以创建小型匿名函数</em></p></blockquote><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/f38edb1eeefde644cf4faab960b558ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kSw-njRsFwVlqbTElIX8oQ.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">凯文·Ku在<a class="ae lc" href="/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="365a" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">Python和其他编程语言中的Lambda表达式源于lambda演算，这是阿隆佐·邱奇发明的一种计算模型</p><p id="895f" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">语义上，它们只是普通函数定义的语法糖。像嵌套函数定义一样，lambda函数可以引用包含范围内的变量。</p><p id="1208" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">在Python中，我们一般把它作为一个高阶函数的参数(一个接受其他函数作为参数的函数)。Lambda函数与filter()、map()等内置函数一起使用。</p><p id="bee3" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">(这里的匿名只是指无名函数)</p><h1 id="6f69" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">语法:</h1><ul class=""><li id="ffd5" class="me mf in jq b jr mg jv mh ld mi le mj lf mk kl ml mm mn mo bi translated"><strong class="jq io">关键词:</strong> <code class="fe mp mq mr ms b">lambda</code></li><li id="768c" class="me mf in jq b jr mt jv mu ld mv le mw lf mx kl ml mm mn mo bi translated"><strong class="jq io">参数:</strong></li><li id="408b" class="me mf in jq b jr mt jv mu ld mv le mw lf mx kl ml mm mn mo bi translated"><strong class="jq io">一个表达式</strong></li></ul><blockquote class="jk jl jm"><p id="e9b1" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated"><em class="in"> lambda参数:表达式</em></p></blockquote><p id="483f" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><em class="jp">它们在语法上被限制为一个表达式</em>。也就是说，可以传递任意数量的参数，但是只能对它们执行一个操作</p><p id="2025" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">函数是python中的对象，Lambda函数可以用在任何需要函数对象的地方。即。我们可以把它赋给变量，和对象一样使用，</p><p id="8cd9" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><em class="jp">变量</em>=<strong class="jq io">λ</strong><em class="jp">自变量:表达式</em></p><p id="3b00" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><em class="jp">变量(自变量)</em></p><h1 id="d12f" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">普通def定义函数和lambda函数之间的差异</h1><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="9426" class="nc lh in ms b gy nd ne l nf ng"># Python code to illustrate cube of a number  <br/># showing difference between def() and lambda(). <br/>def square(y): <br/>    return y*y; <br/>  <br/>g = lambda x: x*x<br/>print(g(7)) <br/>  <br/>print(cube(5))</span></pre><ul class=""><li id="aca2" class="me mf in jq b jr js jv jw ld nh le ni lf nj kl ml mm mn mo bi translated"><strong class="jq io">不使用Lambda : </strong>这里两者都返回给定数的立方。但是，在使用def时，我们需要定义一个名为cube的函数，并需要向它传递一个值。执行之后，我们还需要使用<em class="jp"> return </em>关键字从调用函数的地方返回结果。</li><li id="e124" class="me mf in jq b jr mt jv mu ld mv le mw lf mx kl ml mm mn mo bi translated"><strong class="jq io">使用Lambda : </strong> Lambda定义不包含“return”语句，它总是包含一个返回的表达式。我们也可以把lambda定义放在任何需要函数的地方，我们根本不需要把它赋给变量。这就是lambda函数的简单性。</li></ul><h1 id="8e3d" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">python中Lambda函数的示例</h1><p id="4c69" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy ld nk kb kc le nl kf kg lf nm kj kk kl ig bi translated"><strong class="jq io"> 1。</strong></p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="a118" class="nc lh in ms b gy nd ne l nf ng"># Program to show the use of lambda functions<br/>double = lambda x: x * 2</span><span id="61c6" class="nc lh in ms b gy nn ne l nf ng">print(double(5))</span></pre><p id="9b72" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">在上面的程序中，<code class="fe mp mq mr ms b">lambda x: x * 2</code>是lambda函数。这里x是参数，<code class="fe mp mq mr ms b">x * 2</code>是被求值并返回的表达式。</p><p id="3ab0" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">这个函数没有名字。它返回一个分配给标识符<code class="fe mp mq mr ms b">double</code>的函数对象。我们现在可以称之为正常函数。该声明</p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="804a" class="nc lh in ms b gy nd ne l nf ng">double = lambda x: x * 2</span></pre><p id="4070" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">几乎与以下内容相同:</p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="b242" class="nc lh in ms b gy nd ne l nf ng">def double(x):<br/>   return x * 2</span></pre><p id="6123" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><strong class="jq io"> 2。</strong></p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="4838" class="nc lh in ms b gy nd ne l nf ng">&gt;&gt;&gt; pairs = [(1, 'one'), (2, 'two'), (3, 'three'), (4, 'four')]<br/>&gt;&gt;&gt; pairs.sort(key=lambda pair: pair[1])<br/>&gt;&gt;&gt; pairs<br/>[(4, 'four'), (1, 'one'), (3, 'three'), (2, 'two')]</span></pre><h1 id="8a7c" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">与过滤器()一起使用的示例</h1><p id="ec6b" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy ld nk kb kc le nl kf kg lf nm kj kk kl ig bi translated">Python中的<code class="fe mp mq mr ms b">filter()</code>函数接受一个函数和一个列表作为参数。</p><p id="bf84" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">使用列表中的所有项目调用该函数，并返回一个新列表，其中包含该函数评估为<code class="fe mp mq mr ms b">True</code>的项目。</p><p id="3017" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">下面是一个使用<code class="fe mp mq mr ms b">filter()</code>函数从列表中过滤出偶数的例子。</p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="ecad" class="nc lh in ms b gy nd ne l nf ng"># Program to filter out only the even items from a list<br/>my_list = [1, 5, 4, 6, 8, 11, 3, 12]<br/>new_list = list(filter(lambda x: (x%2 == 0) , my_list))<br/>print(new_list)</span></pre><h1 id="fbf3" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">使用map()的示例</h1><p id="35d8" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy ld nk kb kc le nl kf kg lf nm kj kk kl ig bi translated">Python中的<code class="fe mp mq mr ms b">map()</code>函数接受一个函数和一个列表。</p><p id="3432" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">使用列表中的所有项目调用该函数，并返回一个新列表，该列表包含该函数为每个项目返回的项目。</p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="3329" class="nc lh in ms b gy nd ne l nf ng"># Program to double each item in a list using map()<br/>my_list = [1, 5, 4, 6, 8, 11, 3, 12]<br/>new_list = list(map(lambda x: x * 2 , my_list))<br/>print(new_list)</span></pre><h1 id="55ee" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">使用reduce的示例</h1><p id="c819" class="pw-post-body-paragraph jn jo in jq b jr mg jt ju jv mh jx jy ld nk kb kc le nl kf kg lf nm kj kk kl ig bi translated">Python中的<code class="fe mp mq mr ms b">reduce()</code>函数接受一个函数和一个列表作为参数。使用lambda函数和列表调用该函数，并返回新的简化结果。这在列表的对上执行重复的操作。这是functools模块的一部分。示例:</p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="0c68" class="nc lh in ms b gy nd ne l nf ng">from functools import reduce<br/>li = [5, 8, 10, 20, 50, 100] <br/>sum = reduce((lambda x, y: x + y), li) <br/>print (sum)</span></pre><h1 id="7c71" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">使用lambda的多键排序</h1><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="cf17" class="nc lh in ms b gy nd ne l nf ng">data = [[1,3,4],[1,5,6],[1,4,1],[2,4,5],[2,1,7],[2,1,2]]<br/>data = sorted(data,key=lambda l:(l[1], l[2], l[3]), reverse=False)<br/>print data</span></pre><p id="300f" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">或者你可以使用<code class="fe mp mq mr ms b">itemgetter</code>达到同样的效果(这样更快并且避免了Python函数调用)(不是lambda只是一个额外的代码):</p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="3071" class="nc lh in ms b gy nd ne l nf ng">import operator<br/>data = sorted(data, key = operator.itemgetter(1, 2, 3))</span></pre><p id="91b2" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">注意这里你可以使用<code class="fe mp mq mr ms b">sort</code>而不是<code class="fe mp mq mr ms b">sorted</code>然后重新分配:</p><pre class="kn ko kp kq gt my ms mz na aw nb bi"><span id="40c8" class="nc lh in ms b gy nd ne l nf ng">data.sort(key = operator.itemgetter(1, 2, 3))</span></pre><p id="fe2f" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><strong class="jq io"> <em class="jp">建议链接:</em> </strong></p><p id="fd62" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><a class="ae lc" href="https://docs.python.org/3/tutorial/controlflow.html#lambda-expressions" rel="noopener ugc nofollow" target="_blank">https://docs . python . org/3/tutorial/control flow . html # lambda-expressions</a></p><p id="7e39" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><a class="ae lc" href="https://realpython.com/python-lambda/" rel="noopener ugc nofollow" target="_blank">https://realpython.com/python-lambda/</a></p><p id="4629" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><a class="ae lc" href="https://www.geeksforgeeks.org/python-lambda-anonymous-functions-filter-map-reduce/" rel="noopener ugc nofollow" target="_blank">https://www . geeks forgeeks . org/python-lambda-anonymous-functions-filter-map-reduce/</a></p><p id="11c5" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated"><a class="ae lc" href="https://www.programiz.com/python-programming/anonymous-function" rel="noopener ugc nofollow" target="_blank">https://www . programiz . com/python-programming/anonymous-function</a></p></div></div>    
</body>
</html>