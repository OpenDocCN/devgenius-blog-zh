<html>
<head>
<title>Deploy your Node.js App on Heroku using GitHub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GitHub在Heroku上部署Node.js应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/deploy-your-node-js-app-on-heroku-using-github-f7487d002e15?source=collection_archive---------2-----------------------#2021-11-24">https://blog.devgenius.io/deploy-your-node-js-app-on-heroku-using-github-f7487d002e15?source=collection_archive---------2-----------------------#2021-11-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/40446bbe1871d06fc4009023dc707a74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yltLTddoCa40gywi_KoJFw.jpeg"/></div></div></figure><p id="d9b0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们将免费介绍在Heroku上部署Node.js应用程序的过程。部署应用程序可能是一项单调乏味的任务，但如果我们正确地遵循这些步骤，那么这是一件轻而易举的事情。</p><p id="f858" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我部署我的第一个应用程序时，我不得不浏览许多文章以了解完整的步骤，为了节省您的时间，我在这里列出了部署您的应用程序的逐步步骤。</p><blockquote class="kt ku kv"><p id="f01a" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">要开始，你需要一个很容易创建的heroku帐户</p></blockquote><p id="6d04" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我采用了一个简单的演示项目来演示部署。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi la"><img src="../Images/74b5b4e7fbf69314363dcd87b21db168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aNngbpH7F-vb0GWysaiswA.png"/></div></div></figure><p id="1752" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是我们的Node.js项目的样子，它只包含一个index.html文件，这个文件将在网站的主页上呈现。</p><h1 id="ff28" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">1.初始化项目中的git存储库</h1><p id="3c25" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">要初始化git存储库，请在项目目录中打开一个终端并运行以下命令。</p><p id="3d70" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">或者，如果您的项目已经有git repo，那么您可以跳过这一部分:)</p><pre class="lb lc ld le gt mi mj mk ml aw mm bi"><span id="76f0" class="mn lg in mj b gy mo mp l mq mr">git init</span></pre><h1 id="b933" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">2.使用环境变量配置您的应用程序</h1><p id="f731" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">环境变量允许我们配置应用程序，而无需重新构建。它将应用程序的特定于环境的方面具体化了。</p><p id="1a20" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">环境变量有助于配置参数，例如</p><ol class=""><li id="1e54" class="ms mt in jx b jy jz kc kd kg mu kk mv ko mw ks mx my mz na bi translated">运行应用程序的端口。</li><li id="c4e3" class="ms mt in jx b jy nb kc nc kg nd kk ne ko nf ks mx my mz na bi translated">如果你的项目使用一个API或者任何其他包含敏感信息的东西。</li></ol><p id="40c9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，您需要安装“dotenv”包，这可以在您的终端上完成</p><pre class="lb lc ld le gt mi mj mk ml aw mm bi"><span id="6697" class="mn lg in mj b gy mo mp l mq mr">npm install dotenv</span></pre><p id="72b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您需要将添加到index.js文件中</p><pre class="lb lc ld le gt mi mj mk ml aw mm bi"><span id="f546" class="mn lg in mj b gy mo mp l mq mr">require('dotenv).config();</span></pre><p id="2e21" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，在您的项目目录中创建一个. env文件，并添加您想要在外部配置的参数。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/a9eaffed03ee19a9a2697e8635baafc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rf8134osbCKWNpfZi7GoXA.png"/></div></div></figure><p id="beee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">同样，您可以添加其他参数。</p><p id="0bfb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要在您的应用程序中使用这些变量，您可以使用</p><blockquote class="kt ku kv"><p id="3d28" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">索引文件中的“process.env. <name_of _your_variable="">”。</name_of></p></blockquote><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/cd413748751863be5da11172a76cb729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RhuX740Z_vfW0t-6UB2ddw.png"/></div></div></figure><p id="474f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的例子中，我已经使用上面提到的语法添加了端口。</p><blockquote class="kt ku kv"><p id="28e0" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">重要！</p><p id="ca2f" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">别忘了加上你的。环境文件到。gitignore，因为如果你不这样做，当你把你的项目推给GitHub时，你的API密匙和敏感数据就会暴露。还要将node_modules文件夹添加到. gitignore。</p></blockquote><p id="2399" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成上述步骤后，您的。gitignore文件至少应该有。env和node_modules。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/c083779944b377ab703852632cc1f321.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XYk0A2Rf7FdVN-VPU-Mjqg.png"/></div></div></figure><h1 id="2b39" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">3.创建Procfile</h1><p id="2b7d" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">Procfile是一个指定<strong class="jx io">应用程序启动时执行的命令的文件。</strong></p><p id="c7b2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在项目目录中创建一个名为Procfile的文件，并向其中添加以下命令。</p><pre class="lb lc ld le gt mi mj mk ml aw mm bi"><span id="a949" class="mn lg in mj b gy mo mp l mq mr">web: node index.js</span></pre><p id="68cf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在对项目进行更改后，现在是提交您的更改的好时机，要将您的回购推送到GitHub，您可以遵循<a class="ae nj" href="https://docs.github.com/en/github/importing-your-projects-to-github/importing-source-code-to-github/adding-an-existing-project-to-github-using-the-command-line" rel="noopener ugc nofollow" target="_blank">这篇</a>文章。</p><h1 id="e445" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">4.下载Heroku CLI并登录</h1><div class="nk nl gp gr nm nn"><a href="https://devcenter.heroku.com/articles/heroku-cli" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd io gy z fp ns fr fs nt fu fw im bi translated">Heroku CLI</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">Heroku命令行界面(CLI)使得直接从终端创建和管理您的Heroku应用程序变得非常容易…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">devcenter.heroku.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob jt nn"/></div></div></a></div><p id="a9e8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从以上链接下载并安装CLI。</p><p id="7d0f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通过运行命令登录到CLI，它会将您带到Heroku登录页面，您可以在那里填写您的凭据。</p><pre class="lb lc ld le gt mi mj mk ml aw mm bi"><span id="7782" class="mn lg in mj b gy mo mp l mq mr">heroku login</span></pre><h1 id="49cf" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">5.在Heroku上创建新的应用程序</h1><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oc"><img src="../Images/219fa4e870d2b3a72ab6bf187f3f2175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNcxnjTso9E2iFISiKsebg.png"/></div></div></figure><p id="dd6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建一个新的应用程序，它会提示您输入应用程序的名称。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi od"><img src="../Images/bafbdc46be529bc43aebf37e911b9946.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9qexf64QP0DWFZAzORjJA.png"/></div></div></figure><p id="32e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您的应用程序使用API密钥，并且您已经在。env文件然后:</p><ol class=""><li id="cfca" class="ms mt in jx b jy jz kc kd kg mu kk mv ko mw ks mx my mz na bi translated">转到设置</li><li id="a859" class="ms mt in jx b jy nb kc nc kg nd kk ne ko nf ks mx my mz na bi translated">在config vars部分，在键值输入中添加API密钥或您的秘密密钥。</li></ol><blockquote class="kt ku kv"><p id="28cc" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">注意:key，values中的输入应该与您在中给定的变量名相匹配。环境文件</p></blockquote><h1 id="96e2" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">6.用Heroku连接您的GitHub存储库并部署您的应用程序</h1><p id="b5ee" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">嗯，那是相当多的工作；)</p><p id="a654" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，在应用程序仪表板的deploy部分，选择部署方法GitHub。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oe"><img src="../Images/99f88d30ddf671680e9caface5cd413d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WDO79uPDOJocMzgmv-NB6Q.png"/></div></div><figcaption class="of og gj gh gi oh oi bd b be z dk translated">输入要部署的存储库名称，然后进行连接。</figcaption></figure><p id="9122" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在您的存储库连接后，只需向下滚动并部署您的应用程序，经过一两分钟的处理后，它会要求您访问已部署的应用程序。</p><p id="0e5d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们的情况下，这是它看起来xD。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi od"><img src="../Images/2178e2da2bc6318923f03c18a15936de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W-_qOzFXoc_iv-M0gwlEoQ.png"/></div></div></figure><p id="fe9b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">恭喜您已经成功部署了Node.js应用程序，现在您可以在世人面前展示您的项目了:)</p><p id="13a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你喜欢这个教程，请点击👏按钮，并随时留下评论。欢迎反馈。</p><p id="7461" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以通过<a class="ae nj" href="https://twitter.com/Kunal_rts" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae nj" href="https://github.com/Kunal4now" rel="noopener ugc nofollow" target="_blank"> GitHub </a>、<a class="ae nj" href="https://www.linkedin.com/in/kunal-rohitas-a96205a9" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>与我联系，我很乐意回答您的任何问题！</p></div><div class="ab cl oj ok hr ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ig ih ii ij ik"><p id="7e35" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kw">更多内容尽在</em><a class="ae nj" href="http://blog.devgenius.io" rel="noopener ugc nofollow" target="_blank"><em class="kw">blog . devgenius . io</em></a><em class="kw">。</em></p></div></div>    
</body>
</html>