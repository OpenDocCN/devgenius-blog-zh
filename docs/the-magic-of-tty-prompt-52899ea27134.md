# TTY 的魔力::提示

> 原文：<https://blog.devgenius.io/the-magic-of-tty-prompt-52899ea27134?source=collection_archive---------16----------------------->

你曾经希望你的 CLI 程序在视觉上更吸引人吗？更容易发挥作用？好吧，别再许愿了。未来以 [TTY::提示](https://github.com/piotrmurach/tty-prompt)的形式出现，这是彼得·穆拉希创造的一颗宝石。

尽管 gif 很有趣，但它是开源的，所以不需要钱。公平地说，这个 gem 已经存在几年了，但是我是编程新手，最近由我们编码训练营的一个同事介绍给我的。

在上下文中，我们的任务是构建一个命令行界面应用程序，这是我很少经历的事情，是我们第一个围绕 Ruby 的 mod 的高潮。我开始构建 CLI sans TTY::Prompt(在我看来，这是一项非常愉快的任务，可以使用条件语句)，但是发现我完成的框架看起来很稀疏，毫无创意。我的同事路易斯找到了解决办法。他和 TTY 一起编辑了我的一些代码，这显然是正确的做法。Luis、我自己和我们的另一个同事 Jeff 安装了 gem，并且用一些严肃的风格翻新了我的一般般的代码。我们做了一个杀手级的应用，有一个漂亮的命令行界面。不相信我？你可以在下面的视频中看到我们的 Spotify 约会应用程序的演示，以及干净的 TTY::提示符。

如果你有兴趣看看 TTY 的行动，看看上面的视频(我知道你可能跳过了)。但是，如果你已经看过视频，并想直接进入安装说明。我也可以帮忙。

# 装置

转到您的应用程序的 gem 文件并添加这一行:

```
gem 'tty-prompt'
```

然后，您可以在终端中执行以下操作:

```
%  bundle
```

或者直接在终端中安装 gem，代码如下:

```
%  gem install 'tty-prompt'
```

# 基本功能

上面的视频展示了在你写完代码后，在你的命令行界面中的强大的结果(我卖的视频不错吧？)，但是您可能需要一些关于从哪里开始的提示。

我们使用 TTY 的两个内置方法构建了大部分 CLI。是的，没错，只有两种方法！我在下面列出了每个选项的更多细节:

## **。询问**

的。ask 方法允许你问用户一个问题，并让他们输入任何东西作为回答，由 TTY 转换成字符串格式。然后你根据他们的反应构建出你想要的条件句。我在下面的代码中贴了一个例子:

![](img/6a87b4aaa2ad1c9df5e25571c83c40c5.png)

的示例。行动中的提问方法

您可以看到，这是我们提示用户使用其电子邮件地址登录的部分。如果地址存在于我们的系统中(通过使用方法。我们用户类上的 find_by)，登录成功。如果没有，则提示用户再试一次。

## **。选择**

的。在我看来，选择方法是 TTY 真正的魅力所在，本质上是为你选择的选项创建一个选择菜单，用户可以在那里导航和点击。我在我们的应用程序中构建的一个功能是分析菜单。这是本部分的后端代码，也是用户将看到的 CLI:

![](img/8c788bf074116549715e6f6c0e02058f.png)

的后端代码。选择(我返回了一行，以便您可以查看所有的。选择选项)

![](img/17b73d7fa648344f58af8ebe510688de.png)

菜单的 CLI 结果

多漂亮啊。！允许用户悬停并选择他们想要的选项，这个菜单上的所有选项一旦被选中就从类方法中抓取并返回。漂亮干净的代码来自 TTY::Prompt。

通过 TTY::Prompt 还可以使用很多其他显著的特性和方法，我还没有提到。我在上面为此链接了 GitHub 页面，但是为了更好的衡量，你可以在这里找到更多关于 TTY 的信息。我也想对这个开发者[在这里](https://dev.to/aidiri/using-tty-prompt-for-your-cli-app-1l5a)说一声，他也在 TTY::Prompt 上做了详尽的解释。

总之，对于用户和您将要编写的简洁代码来说，这都是改进您的 CLI 游戏的一个极好的例子。现在出去创造些奇迹吧！