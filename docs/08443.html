<html>
<head>
<title>React.js Tutorial : How to implement a shuffle card game from scratch (Part1).</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React.js 教程:如何从头开始实现洗牌游戏(第 1 部分)。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/react-js-tutorial-how-to-implement-a-shuffle-card-game-from-scratch-c994277d38b3?source=collection_archive---------3-----------------------#2022-06-15">https://blog.devgenius.io/react-js-tutorial-how-to-implement-a-shuffle-card-game-from-scratch-c994277d38b3?source=collection_archive---------3-----------------------#2022-06-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/f05d58f8a39567d0c87d3fd04725bc34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*sdL7eBO46TL4QbKfwEYpCA.png"/></div></figure><p id="a0d5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">最终结果(第 1 部分、第 2 部分“已经完成”&amp;第 3 部分即将完成):</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/ec17f250fb73507c370004d6b6d19121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*SlHEfzbPg4pZDFYHjPA80Q.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">你可以试试这个 app 这里:<a class="ae ky" href="https://are-you-lucky-game.netlify.app/" rel="noopener ugc nofollow" target="_blank">https://are-you-lucky-game.netlify.app/</a></figcaption></figure><p id="4d28" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">今天的练习包括创建一个小应用程序，每次重新加载时随机出现 5 张(或更多)卡片。</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/36493c4b3f45d2bb468bdd82f913ab13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Q2rlySLwFW-35KjUVHnAfQ.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">这就是我们今天要创造的。</figcaption></figure><p id="f678" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">目标是“从零开始”创建一套卡片，逻辑是无论是什么颜色的卡片，都不能有相同的号码。<br/>我们将使用可重复使用的动态组件……<br/>我们将动态创建卡片、数字(每种颜色 10 个)和图形(每种颜色 4 个)。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="ba6e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们走吧...</p><p id="b1a4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">首先使用以下命令创建一个 react 应用程序</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="6387" class="ll lm in lh b gy ln lo l lp lq">npx create-react-app random-playing-card</span></pre><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lr"><img src="../Images/446a584a928ba5d8f12cc0d75f51c0c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OaAwK25GDA3EbpKJR934uQ.png"/></div></div></figure><p id="24f8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后，我们在/src 中创建两个文件夹。<br/>组件和挂钩…</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/1628988c60f7d2f68660caf0167bceaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*K52RdLok7wqnE2FIQquqVg.png"/></div></figure><p id="33b6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们首先在/src 文件夹根目录下创建一个 data.js 文件。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="1380" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">代码解释:<br/>这个文件中有三个对象数组，</p><ul class=""><li id="dc0f" class="lz ma in jt b ju jv jy jz kc mb kg mc kk md ko me mf mg mh bi translated">第一个包括数字(数字从 1 到 10，然后是数字 11、12 和 13……)</li><li id="45f0" class="lz ma in jt b ju mi jy mj kc mk kg ml kk mm ko me mf mg mh bi translated">第二个包括颜色(红色和黑色)。</li><li id="11fb" class="lz ma in jt b ju mi jy mj kc mk kg ml kk mm ko me mf mg mh bi translated">第三，每个家庭的象征。</li></ul></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="0ce6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">好了，现在让我们创建一个可重用的组件 Card.js</p><p id="e2cb" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这个组件在 props 中有 4 个参数</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="f839" class="ll lm in lh b gy ln lo l lp lq">{ number, color, symbol, name }</span></pre><p id="ce1b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">有一个 div 表示地图，然后在里面有另一个 div 表示卡片的内容。</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="cf65" class="ll lm in lh b gy ln lo l lp lq">&lt;div className="card-container"&gt;      <br/>  &lt;div className={`card-content__inner ${name}`}&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="a9cc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">卡片的左上方，</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="45b5" class="ll lm in lh b gy ln lo l lp lq">&lt;div className={`card-content-inner__border-top ${color}`}&gt;</span><span id="3cff" class="ll lm in lh b gy mn lo l lp lq">&lt;div className="top-symbol "&gt;</span><span id="6dbb" class="ll lm in lh b gy mn lo l lp lq">&lt;p&gt;{number}&lt;/p&gt;</span><span id="de5a" class="ll lm in lh b gy mn lo l lp lq">&lt;span className="top-symbol-sigle"&gt;{symbol}&lt;/span&gt;</span><span id="9caf" class="ll lm in lh b gy mn lo l lp lq">&lt;/div&gt;</span><span id="3866" class="ll lm in lh b gy mn lo l lp lq">&lt;div /&gt;</span><span id="a2ea" class="ll lm in lh b gy mn lo l lp lq">&lt;/div&gt;</span></pre><p id="82af" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在卡片的中央</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="f173" class="ll lm in lh b gy ln lo l lp lq">&lt;div className={`card-content-inner__center grid-${number} ${color}`}&gt;</span><span id="092c" class="ll lm in lh b gy mn lo l lp lq">{[...Array(Number(number))].map((_symb, index) =&gt; {</span><span id="b425" class="ll lm in lh b gy mn lo l lp lq">index += 1;</span><span id="eb93" class="ll lm in lh b gy mn lo l lp lq">return (</span><span id="c46d" class="ll lm in lh b gy mn lo l lp lq">&lt;span className="centerCard" key={index}&gt;</span><span id="7cea" class="ll lm in lh b gy mn lo l lp lq">&lt;span className="center-symbol-sigle"&gt;{symbol}&lt;/span&gt;</span><span id="37bd" class="ll lm in lh b gy mn lo l lp lq">&lt;/span&gt;</span><span id="44db" class="ll lm in lh b gy mn lo l lp lq">);</span><span id="9bb2" class="ll lm in lh b gy mn lo l lp lq">})}</span><span id="5cbd" class="ll lm in lh b gy mn lo l lp lq">&lt;/div&gt;</span></pre><p id="00f6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我首先用变量{name}使我的类动态化，以便容易地识别元素，{color}使元素的颜色动态化。我通过实现类“grid-${number}”来动态创建内容布局，这个类对于组织符号的位置非常重要。<br/>然后我构建一个数组，用 number 变量的值作为元素的数量，并在上面映射，<br/>在每次迭代中，我增加元素的索引，最后，我返回符号。</p><p id="ae82" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">卡片的右下方，</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="1583" class="ll lm in lh b gy ln lo l lp lq">&lt;div className={`card-content-inner__border-bottom ${color}`}&gt;</span><span id="c523" class="ll lm in lh b gy mn lo l lp lq">&lt;div /&gt;</span><span id="bf17" class="ll lm in lh b gy mn lo l lp lq">&lt;div className="bottom-symbol "&gt;</span><span id="30e1" class="ll lm in lh b gy mn lo l lp lq">&lt;span className="bottom-symbol-sigle"&gt;{symbol}&lt;/span&gt;</span><span id="1eb7" class="ll lm in lh b gy mn lo l lp lq">&lt;p&gt;{number}&lt;/p&gt;</span><span id="ea7a" class="ll lm in lh b gy mn lo l lp lq">&lt;/div&gt;</span></pre><p id="da19" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">完整的 Card.js 组件代码</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="5bd1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所有样式的 css 文件是:</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="1ea5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">先用“硬变量”修改 App.js 文件的内容…</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="9fbe" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">好了，让我们测试一下我们的组件，看看是否一切正常！</p><p id="5c74" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">结果是:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mo"><img src="../Images/03acafb3657aef3e87e5f23769c0a2a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WZKxPuNdPFWWfqS6HO_vIQ.png"/></div></div></figure><p id="9f17" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如你所见，它非常有效。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="b50b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在，为了使卡片的数量也是动态的，我们将创建另一个组件，命名为 CardWrapper.js</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="5ffa" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">代码解释:<br/>这个组件接受一个类似 props { cardsNumber }的参数，代表我们要在屏幕上显示的卡片数量。</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="466f" class="ll lm in lh b gy ln lo l lp lq">{[...Array(Number(cardNumbers))].map((_numb, index) =&gt; {</span><span id="3703" class="ll lm in lh b gy mn lo l lp lq">index += 1;</span><span id="71b4" class="ll lm in lh b gy mn lo l lp lq">return &lt;Card key={index} symbol="♥" color="red" number={index} /&gt;;</span><span id="4807" class="ll lm in lh b gy mn lo l lp lq">})}</span></pre><p id="df80" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在包装器中，我们再现了与前面 Card.js 组件相同的逻辑，我动态创建了一个数组，迭代次数为变量 cardNumber 中包含的数字。我在每一次迭代中增加我的索引… <br/>然后我返回我的 Card 组件，并把元素的索引作为数字，这将使这个阶段的结果动态化一点。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="8b22" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在让我们修改 App.js 文件来测试我们的包装器！</p><p id="baee" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我将迭代次数设置为 5 张牌。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="6f5f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这一步的结果是:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mp"><img src="../Images/7e00564890e82fc86e73c6c1584d569c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3tweCP33OsA1Go7JD5Hrag.png"/></div></div></figure><p id="9f73" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">好了，一切正常，下一步…</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="ee10" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们稍微修改一下 CardsWrapper 组件，使符号随机开始这一步。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="eabd" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">发生了什么变化:</p><p id="7be8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">首先，我从之前创建的文件中导入我的数据…</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="b0eb" class="ll lm in lh b gy ln lo l lp lq">import { colors, symbols } from "../data";</span></pre><p id="4865" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后，在索引增量之后，我在迭代周期中创建一个随机变量。</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="93aa" class="ll lm in lh b gy ln lo l lp lq">const randomSymbols =</span><span id="1152" class="ll lm in lh b gy mn lo l lp lq">symbols[Math.floor(Math.random() * symbols.length)];</span></pre><p id="9405" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">最后，我为族颜色实现了一个条件，并用我的随机变量的结果替换前面的固定符号。</p><p id="d214" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这个数字现在仍然是索引！</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="3a06" class="ll lm in lh b gy ln lo l lp lq">&lt;Card</span><span id="f206" class="ll lm in lh b gy mn lo l lp lq">key={index}</span><span id="b284" class="ll lm in lh b gy mn lo l lp lq">name={randomSymbols.name}</span><span id="163d" class="ll lm in lh b gy mn lo l lp lq">color={</span><span id="be65" class="ll lm in lh b gy mn lo l lp lq">randomSymbols.name === "spade" || randomSymbols.name === "club"</span><span id="47be" class="ll lm in lh b gy mn lo l lp lq">? `${colors[1].color}`</span><span id="19f1" class="ll lm in lh b gy mn lo l lp lq">: `${colors[0].color}`</span><span id="8f63" class="ll lm in lh b gy mn lo l lp lq">}</span><span id="3fbe" class="ll lm in lh b gy mn lo l lp lq">symbol={randomSymbols.symbol}</span><span id="00d9" class="ll lm in lh b gy mn lo l lp lq">number={index}</span><span id="bb57" class="ll lm in lh b gy mn lo l lp lq">/&gt;</span></pre><p id="8c7d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这一步的结果是:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mq"><img src="../Images/a30de246b66754fe3508ea14ff8b4c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*104kpWbimL1hmK1fr4tm1g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">一切正常…下一个！</figcaption></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="f61e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在，我们将为随机卡号… <br/>创建一个自定义挂钩，要求一个号码不能重复两次，不管是什么颜色。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="889d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">代码解释:</p><p id="1034" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这个函数从 data.js 中的数字数组(本例中是 MyArray 参数)中取出一个随机数，检查这个数字是否出现过一次以上，然后返回 my 数组的值。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="8520" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">为了，让我们通过集成我们的定制钩子来修改我们的 CardsWrapper 组件。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="311f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">发生了什么变化:</p><p id="3e62" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我用变量 randomValueFromArray 导入我的自定义钩子…</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="9fb8" class="ll lm in lh b gy ln lo l lp lq">const { randomValueFromArray } = useRandomValueFromArray();</span></pre><p id="88c6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后我用我的随机值修改卡片组件的数值。</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="a9dd" class="ll lm in lh b gy ln lo l lp lq">number={randomValueFromArray(numbers).number}</span></pre><p id="f868" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们看看这个阶段的结果:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mr"><img src="../Images/f1ca1f4c277810eacd129ecd0adab09a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkEgG0_DnYsTGFm5TAzmZg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">所有工作，但是…</figcaption></figure><p id="2916" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">好的，如你所见，数字和随机颜色都工作正常… <br/>然而，在应该有数字(数字 11)的地方有一个错误！</p><p id="e227" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这是正常的，我们需要在我们的 Card.js 组件中实现这部分。</p><p id="032a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们开始吧！</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="5cba" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">你必须首先去获取每个图的 jsx 组件，到这里:</p><div class="ms mt gp gr mu mv"><a href="https://github.com/rodolphe37/random-playing-card-tuto/tree/main/src/components/figureComponents" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd io gy z fp na fr fs nb fu fw im bi translated">随机-扑克牌-tuto/src/components/figure 主组件…</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">repo for the random playing card tutorial with react . js-random-playing-card-tuto/src/components/figure components at…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jp mv"/></div></div></a></div><p id="fcfc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">从文件夹中下载每个文件，然后将它们放在 components/figureComponents 文件夹中。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="f04c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">之后，在 components 文件夹中，让我们创建一个名为 FigureCardCenter.js 的组件。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="eb70" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在这个组件中，props { name，number }中有两个参数。</p><p id="dfa3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后是一个 FigureContent 组件，它包含一个值为{number}的 switch 语句，11 表示插孔，12 表示女王，13 表示国王。</p><p id="a653" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">对于每个系列，switch case 中都嵌入了一个条件，该条件返回 svg(作为 jsx 组件)。<br/>父组件返回该条件序列的结果。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="c9b0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后，让我们创建一个名为 CenterCardElement.js 的新组件，在这里我们将按照随机逻辑(数字、图形、符号、颜色)对组件进行分组。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="8c3f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我把卡片组件的数组部分移到这个组件中，我为符号实现了一个条件(数字 1 到 10，你把符号还给我，否则什么也不做。)，然后在下面，我用条件实现数字的部分，如果数字是 11 或 12 或 13，那么你把这个部分还给我，否则…什么也不做。</p><p id="a1b1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后现在修改卡组件。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="845c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我只是用这个组件替换了 Array.map 部分(我把它移到了我们刚刚创建的组件中)。</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="a063" class="ll lm in lh b gy ln lo l lp lq">&lt;div className={`card-content-inner__center grid-${number} ${color}`}&gt;</span><span id="02b6" class="ll lm in lh b gy mn lo l lp lq">&lt;CenterCardElement number={number} symbol={symbol} name={name} /&gt;</span><span id="b6a4" class="ll lm in lh b gy mn lo l lp lq">&lt;/div&gt;</span></pre><p id="ab8a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">好吧，我们来测试一下。</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi nk"><img src="../Images/4b2388c31b063b3fe140e0110de46fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cKItewpwPax9WeFtWwX5dA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">好的，一切正常…只是有一点小细节！</figcaption></figure><p id="bfaf" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如你所见，之前的 bug 已经修复… <br/>另一方面，插孔的数字 11…并不是真的… <br/>让我们现在处理它。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="19ff" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">对于这一步，我们将创建一个新的组件，我们称之为 BorderCardFigureConditions.js</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="7341" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这个组件非常简单，它接受参数{number}，如果数字是 11，那么显示 me "J "，如果是 12，那么显示" Q "，如果是 13，那么显示" K "，否则只显示数字。</p><p id="67de" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">就是这样。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="f67a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在让我们修改 Card.js 组件:</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="8a67" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">发生了什么变化:</p><p id="70af" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我只是把<p> {number} </p>换成了<br/>&lt;bordercarddiguitrices number = { number }/&gt;用于卡片的顶部和底部。</p><p id="4123" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">结果是:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mq"><img src="../Images/e6bd692da71af61e989bc6c69181961a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UEGd5M0nBqh_du6kQQEUbw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">所有的工作，目标都完成了！</figcaption></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="b440" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们添加最后一个修改，一个重新加载页面的按钮，以便生成一组新的随机卡片。</p><figure class="kq kr ks kt gt jo"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="9c35" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我刚刚补充说:</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="9e65" class="ll lm in lh b gy ln lo l lp lq">&lt;button onClick={() =&gt; window.location.reload()}&gt;Reload Cards&lt;/button&gt;</span></pre><p id="bdb7" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">最终结果:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/3f5b0126d3e82d253196c0b9e16600e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Wr6StLVCvZxkk9vNIHdrqA.gif"/></div></figure><p id="6a66" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">当然，如果你想要更多的卡片，你需要在你的包装卡片上写上大的数字，例如:</p><pre class="kq kr ks kt gt lg lh li lj aw lk bi"><span id="71ec" class="ll lm in lh b gy ln lo l lp lq">&lt;CardsWrapper cardsNumber="10" /&gt;</span></pre><p id="9b2e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">结果是:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/18ec8d9278d2c44de630214806446204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*_EJOeVVEr7-BZTu4dfSryg.gif"/></div></figure><p id="a81b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如你所见，没有一个数字在抽奖中出现两次。任务完成了。本教程到此结束。</p><p id="e0e4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">PS:当然，由于每个家庭只有 13 种可能性(10 个数字，加上 3 个数字)，如果你放 13 张以上的牌，那么几张牌上永远不会有相同数字的逻辑不再成立。在这种情况下，概率不再一致。</p><p id="0a67" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">比如这个例子:</p><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi nl"><img src="../Images/c4d2d53b996284dcae5e4b4fa9ff93d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QmOK5GlDdiGqeQLPoPsgDw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">8 在这里出现了两次。</figcaption></figure><figure class="kq kr ks kt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi nm"><img src="../Images/a78dcf9166ca5e0d1ba1348e166c0d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NUGmNf26vtSA7gRV51D4TA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">这里，10 出现了两次！</figcaption></figure><p id="db46" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">您可以在此处找到本练习的完整代码:</p><div class="ms mt gp gr mu mv"><a href="https://github.com/rodolphe37/random-playing-card-tuto" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd io gy z fp na fr fs nb fu fw im bi translated">GitHub-rodolphe 37/random-playing-card-tuto:Repo for the random playing card tutorial with…</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">Repo for the random playing card 教程用 react . js-GitHub-rodolphe 37/random-playing-card-tuto:Repo for the…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="nn l ng nh ni ne nj jp mv"/></div></div></a></div><p id="eba5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">下一期 React.js 教程再见。</p><p id="4a7c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">第 2 部分的链接—每张卡的积分逻辑和累积分数的所有积分:</p><div class="ms mt gp gr mu mv"><a href="https://medium.com/@rodolphe.a_97435/react-js-tutorial-how-to-implement-a-shuffle-card-game-from-scratch-part2-198dc972023c" rel="noopener follow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd io gy z fp na fr fs nb fu fw im bi translated">React.js 教程:如何从头开始实现洗牌游戏(第 2 部分)。</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">对于这一部分，目标是实现一个点原则。</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">medium.com</p></div></div><div class="ne l"><div class="no l ng nh ni ne nj jp mv"/></div></div></a></div></div></div>    
</body>
</html>