<html>
<head>
<title>A brief introduction to FastAPI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FastAPI 简介</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/brief-introduction-to-fastapi-d6f25793b11a?source=collection_archive---------8-----------------------#2022-03-22">https://blog.devgenius.io/brief-introduction-to-fastapi-d6f25793b11a?source=collection_archive---------8-----------------------#2022-03-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="1460" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">构建 API 的快速 python 框架</h2></div><p id="a733" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Python 是一种通用的编程语言，其广阔的应用领域令人惊叹，你可以用 python 来进行网页和游戏开发，来制作 ML、AI 和 ds。今天，我将向您展示如何使用 python 框架进行 web 开发，特别是构建 API。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ky"><img src="../Images/cbd594cfda9d8722424a677657404b17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ChiWVYhwSZO3lzKEduFgrA.png"/></div></div></figure><p id="93ef" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">FastAPI 是用于后端的 python 框架。它最显著的特点之一是速度快(因为名字中包含了某些东西)。该框架的速度与其他竞争对手如 NodeJS 或 Go 进行了比较。编码也很快(你马上就会看到)，容易理解，直观和健壮。</p><p id="f1db" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">FastAPI 的惊人性能是因为它构建在其他 python 库和框架的基础上:</p><ol class=""><li id="dc7c" class="lk ll in ke b kf kg ki kj kl lm kp ln kt lo kx lp lq lr ls bi translated">紫玉米。一个作为服务器工作的 python 库。</li><li id="f4f0" class="lk ll in ke b kf lt ki lu kl lv kp lw kt lx kx lp lq lr ls bi translated">斯塔莱特。web 开发的底层 python 框架。</li><li id="7f85" class="lk ll in ke b kf lt ki lu kl lv kp lw kt lx kx lp lq lr ls bi translated">pydantic。处理数据的 python 框架。允许您构建模型。</li></ol><h2 id="39d9" class="ly lz in bd ma mb mc dn md me mf dp mg kl mh mi mj kp mk ml mm kt mn mo mp mq bi translated">FastAPI 的安装</h2><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mr"><img src="../Images/2eb3b51a6deb95232dd74450cec4925e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ud0lHC2fTw7ksbXYZvrQkg.png"/></div></div></figure><p id="d887" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最初，你需要设置你的虚拟 env，然后安装<em class="ms"> fastapi </em>和<em class="ms">uvicon</em>，我上面提到的另一个库。这就是我们需要安装的所有东西。现在，我们可以开始构建我们的 API 了。</p><h2 id="1fda" class="ly lz in bd ma mb mc dn md me mf dp mg kl mh mi mj kp mk ml mm kt mn mo mp mq bi translated">您的第一个带有 FastAPI 的 API</h2><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mt"><img src="../Images/8d2cb0ec478c7d51d6d27f28129e66cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OzE4wo_gUMtULl0nlnjBrg.png"/></div></div></figure><p id="e866" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是 FastAPI 的 hello world。首先我们从<em class="ms"> fastapi </em>导入<em class="ms"> FastAPI </em>。然后我们创建了一个名为 app 的变量，它是<em class="ms"> FastAPI </em>的一个实例。然后我们可以创建函数，这些函数在 FastAPI 中称为“<em class="ms">路径操作函数”</em>，并对它们进行修饰，称为“<em class="ms">路径操作修饰器</em>”。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/a8c3a266c1a4097daf3f847ace380376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*3eLwP1i90BpotIYPw4E4hA.png"/></div></figure><p id="79f8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">路径操作装饰器包括 FastAPI 实例的变量名和一个 REST 方法。在 REST 方法的括号中，我们指定了路径。在路径操作功能中，我们包括了该路径将执行的所有操作。在这个例子中，路径只返回一个带有关键字“hello”和值“world”的字典。仔细想想，python 字典很容易被视为 JSON 对象，这就是为什么我们使用字典返回信息。在内部，FastAPI 将 python 字典转化为 JSON。</p><p id="311d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，为了看到我们的 API 工作，我们需要运行:</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mv"><img src="../Images/8f8e366eb6fba9740b1305d0ff6f00fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4zZBUOv-brn7KHMKKwpZDw.png"/></div></div></figure><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mw"><img src="../Images/ddce128f270d6437ea79ff177ca3564f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EJ3e6iNeitwrVI1tvgK27g.png"/></div></div></figure><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/2ebc8d18ca9c8e7a079ae33958aefbae.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*hioaePpQNXQPSn9LEShBVw.png"/></div></figure><p id="27c2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们的 API 正在运行！</p><h2 id="c1f5" class="ly lz in bd ma mb mc dn md me mf dp mg kl mh mi mj kp mk ml mm kt mn mo mp mq bi translated">FastAPI 交互式文档</h2><p id="f714" class="pw-post-body-paragraph kc kd in ke b kf my jo kh ki mz jr kk kl na kn ko kp nb kr ks kt nc kv kw kx ig bi translated">我喜欢 API 的一个特性是它的交互式文档。FastAPI 基于 OpenAPI，open API 是一组定义如何描述、创建和可视化 API 的规则。OpenAPI 需要一个软件，这是 Swagger，这是一个允许我们显示 API 文档的软件。要访问此交互式文档，您只需进入“/docs”。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nd"><img src="../Images/ee3d7878d3055e90ac2dfc56fa7d7497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IyrubRzywdg0-IzfN65nvA.png"/></div></div></figure><p id="10e1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这里，我们将看到我们的 API 的所有信息，所有路径，它们做什么，以及更多信息。我们还可以从我们的代码中添加文档，我们用<em class="ms"> docstring </em>创建了它。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ne"><img src="../Images/6dacb612794a3e63ae50898769bdfe72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYiyPBcL2xK6ak_PRICWRg.png"/></div></div></figure><p id="fc05" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">docstring 的结构如下:</p><ol class=""><li id="fa1d" class="lk ll in ke b kf kg ki kj kl lm kp ln kt lo kx lp lq lr ls bi translated">路径操作的名称</li><li id="bbb0" class="lk ll in ke b kf lt ki lu kl lv kp lw kt lx kx lp lq lr ls bi translated">路径操作做什么</li><li id="2d56" class="lk ll in ke b kf lt ki lu kl lv kp lw kt lx kx lp lq lr ls bi translated">它工作所需的参数</li><li id="977f" class="lk ll in ke b kf lt ki lu kl lv kp lw kt lx kx lp lq lr ls bi translated">以及它返回的内容</li></ol><p id="99f8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们回到交互文档，我们会看到:</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nd"><img src="../Images/68bc044c484002f7d72e8d3a7197f901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xmq6h-5gIAtT5VjvgOAw5w.png"/></div></div></figure><h2 id="ec13" class="ly lz in bd ma mb mc dn md me mf dp mg kl mh mi mj kp mk ml mm kt mn mo mp mq bi translated">结论</h2><p id="8950" class="pw-post-body-paragraph kc kd in ke b kf my jo kh ki mz jr kk kl na kn ko kp nb kr ks kt nc kv kw kx ig bi translated">我们学习了如何在 FastAPI 中创建 hello world，如何运行 API，以及如何查看交互式文档。这只是对 FastAPI 的简单介绍，我认为学习它是值得的，因为它有很多优点(我们刚刚体验了其中一个)。像微软、优步和网飞这样的公司开始使用 FastAPI。</p><p id="5fc4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">谢谢你阅读我，下次见。</p></div></div>    
</body>
</html>