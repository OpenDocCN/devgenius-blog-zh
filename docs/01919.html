<html>
<head>
<title>How I organize my react/redux application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何组织我的 react/redux 应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-i-organize-my-react-redux-application-cc39c0ebea0f?source=collection_archive---------12-----------------------#2020-07-14">https://blog.devgenius.io/how-i-organize-my-react-redux-application-cc39c0ebea0f?source=collection_archive---------12-----------------------#2020-07-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f29860038ad3a2d24888f761cfc872e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h_6PpfnQEOu-1Eai"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae jz" href="https://unsplash.com/@max_duz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Max Duzij </a>拍照</figcaption></figure><p id="7409" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当我第一次学习 ReactJS 和 Redux 时，我学到了一个非常特殊的文件夹结构:按文件类型组织文件。在 redux 应用程序中，文件通常分为以下几类</p><ul class=""><li id="5993" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">成分</li><li id="422c" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">容器</li><li id="3603" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">还原剂</li><li id="36de" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">行动</li><li id="8c77" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">常数</li></ul><p id="14f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">官方的 Redux <a class="ae jz" href="https://github.com/reduxjs/redux/tree/master/examples" rel="noopener ugc nofollow" target="_blank">回购实例</a>显示，文件按每个类别分类。</p><figure class="ln lo lp lq gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lm"><img src="../Images/aff35604e732e358a0c6409a274d09df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N1hkJajxRe816mnapMYrKg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">所有示例都遵循相同的文件夹结构</figcaption></figure><p id="c6b3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于只有少量组件的小应用程序来说，这非常有意义。然而，随着应用程序变得越来越大，它变得越来越难以管理。让我们以 redux repo 中的<a class="ae jz" href="https://github.com/reduxjs/redux/tree/master/examples/todomvc/src" rel="noopener ugc nofollow" target="_blank"> todomvc 示例</a>为例:</p><figure class="ln lo lp lq gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lr"><img src="../Images/eb93ac9b408482cb6a8fa33faf50c95d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j1ns29tRJ7Guct4TtKskcA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">谁有足够高的显示器能看到所有这些文件？</figcaption></figure><p id="8d85" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">假设您正在构建一个使用 redux 连接的新组件。这意味着你必须与每个文件夹进行交互。随着添加越来越多的文件，尤其是添加规范文件，在文件树中展开所有内容变得难以管理。</p><p id="951d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当然，有快速浏览文件的键盘快捷键，但是，嘿，有时我只是喜欢点击侧边栏中的文件夹。</p></div><div class="ab cl ls lt hr lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ig ih ii ij ik"><p id="12db" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以，我认为一个更好的组织可能是我喜欢称之为模块的组织。我对模块的定义是</p><blockquote class="lz ma mb"><p id="a4b1" class="ka kb mc kc b kd ke kf kg kh ki kj kk md km kn ko me kq kr ks mf ku kv kw kx ig bi translated">一个独立的组件，处理所有的内部逻辑，对外部的依赖性最小。</p></blockquote><p id="1a77" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这实际上意味着，我将拥有一个名为 TodoSection 的文件夹，而不是一个名为 components 的文件夹。</p><p id="7069" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在让我们重新看看 todomvc 的例子。以下是我组织文件的方式(请记住，这并不完全是一对一的关系。我主要是想演示一般的想法，非常肯定的应用程序不会再运行)</p><figure class="ln lo lp lq gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/188a4f61a74f22858d78bcdfa5a5e1a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wc8AiU65rQqB7uRM7LGpUA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">新的和改进的:)</figcaption></figure><p id="e736" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该应用程序现在分为 4 个主要部分</p><ul class=""><li id="8bb9" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">应用</li><li id="b55e" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">页脚</li><li id="43fb" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">页眉</li><li id="7b28" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">TodoSection</li></ul><p id="ffda" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在假设您需要构建一个连接到 redux 的名为“侧边栏”的全新部分。你所需要做的就是创建一个新的文件夹，并添加必要的文件，你只需要在这个文件夹下工作。</p></div><div class="ab cl ls lt hr lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ig ih ii ij ik"><p id="cc85" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我喜欢使用的文件夹结构如下(使用 TodoList 作为模块名)</p><pre class="ln lo lp lq gt mh mi mj mk aw ml bi"><span id="65bf" class="mm mn in mi b gy mo mp l mq mr">- TodoList<br/>  - index.js<br/>  - TodoList.js<br/>  - actions.js<br/>  - constants.js<br/>  - reducer.js<br/>  - subcomponents<br/>    - index.js<br/>    - TodoItem.js</span></pre><ul class=""><li id="9148" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated"><code class="fe ms mt mu mi b">index.js</code> —这是使用<code class="fe ms mt mu mi b">connect</code>映射 redux 状态和分派函数的容器文件。我也喜欢使用<code class="fe ms mt mu mi b"><a class="ae jz" href="https://github.com/jamiebuilds/react-loadable" rel="noopener ugc nofollow" target="_blank">react-loadable</a></code>来延迟加载模块。这是为渲染而导入的文件，因为如果从文件夹导入，节点默认为<code class="fe ms mt mu mi b">index.js</code>文件。</li></ul><pre class="ln lo lp lq gt mh mi mj mk aw ml bi"><span id="7cb6" class="mm mn in mi b gy mo mp l mq mr">import TodoList from '&lt;path&gt;/TodoList';</span></pre><ul class=""><li id="b3d8" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated"><code class="fe ms mt mu mi b">TodoList.js</code> —这是组件本身。</li><li id="c978" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated"><code class="fe ms mt mu mi b">actions.js</code> —这里包含所有的动作创建者/thunk 动作。</li><li id="f9e6" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated"><code class="fe ms mt mu mi b">constants.js</code> —模块所需的任何常数。通常包含减速器中使用的常数。</li><li id="1734" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated"><code class="fe ms mt mu mi b">reducer.js</code> —负责减速状态的减速器。假设 redux 状态看起来像</li></ul><pre class="ln lo lp lq gt mh mi mj mk aw ml bi"><span id="d056" class="mm mn in mi b gy mo mp l mq mr">{<br/>  todoList: [{ id: 1, todo: 'buy milk' }, {...}]<br/>}</span></pre><ul class=""><li id="439d" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated"><code class="fe ms mt mu mi b">subcomponents</code> —任何在主要成分中重复使用的提取成分。我也喜欢用一个<code class="fe ms mt mu mi b">index.js</code>文件来组织这个文件夹。我是这样使用它的</li></ul><figure class="ln lo lp lq gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="c7c4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个设置允许我在一行中导入多个子组件。这可以节省空间(有时)。</p></div><div class="ab cl ls lt hr lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ig ih ii ij ik"><p id="12ef" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你有什么想法？你喜欢如何组织你的 React/Redux 应用程序？</p></div></div>    
</body>
</html>