<html>
<head>
<title>A Simple Language Detection Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单的语言检测应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/a-simple-language-detection-application-754b95084b14?source=collection_archive---------15-----------------------#2022-10-07">https://blog.devgenius.io/a-simple-language-detection-application-754b95084b14?source=collection_archive---------15-----------------------#2022-10-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="72c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇博客的目的是展示我如何在 Heroku 中创建和部署了一个简单的语言检测模型。</p><p id="cb4c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于任何一种 ML 应用，数据都是第一步。即数据收集和数据清理，以便用于我们的目的。<br/>这里是 kaggle 的<a class="ae ki" href="https://www.kaggle.com/datasets/basilb2s/language-detection" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">数据源</strong> </a>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kj"><img src="../Images/042b2c9615edcff4bc78272fa162b8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*tJV1hd4o9uciUVfY43vIoQ.png"/></div></figure><p id="4fca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">数据集包含 10336 行和 2 列(10337x2)。“<strong class="jm io">语言</strong>列为目标变量/因变量，“<strong class="jm io">文本</strong>列为自变量。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/eb87cc4b1459bdce92d25771cee29591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*GittYLpLp0YvSPU7N_WYtg.png"/></div></figure><p id="d718" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，您可以观察数据集中包含的语言数量。如果你观察的话，印地语只包含 63 条记录，我想再添加两种语言，比如泰卢固语、孟加拉语和印地语记录。所以，拿任何语言，让我们翻译成泰卢固语，孟加拉语和印地语。让我们用马拉雅拉姆语记录并翻译。</p><p id="6367" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> Translators </strong>是一个使用 Python 将一种语言翻译成另一种语言的 API。你可以从这个博客了解更多:<a class="ae ki" href="https://towardsdatascience.com/language-translation-using-python-bd8020772ccc#:~:text=To%20do%20our%20translation%20we%20use%20the%20translate-api,APIs%20that%20are%20available.%20pip%20install%20translators%20--upgrade" rel="noopener" target="_blank"> <strong class="jm io">使用 Python 语言翻译</strong> </a></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ks"><img src="../Images/ffbc8bd8ffe0e880f81432d53fd2c439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*9jInveMTT0k3j115HLYzcQ.png"/></div></figure><p id="d1fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们将马拉雅拉姆语数据转换成泰卢固语、孟加拉语和印地语。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi kt"><img src="../Images/89eeed5d634ac925de12a4cf1ba5a237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bRetIgMq8AGpr40K_Ga9MQ.png"/></div></div></figure><p id="b864" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">同样，转换泰卢固语和印地语，并将其添加到具有相应标签的原始数据中。</p><p id="80b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在最终的数据集准备好了，我们可以从 ML 方法开始。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/6174fed76d3683e0038bdc5c5705bb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*Ry5t_IoAN95dEnYQozK5Xw.png"/></div></figure><p id="bccd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">虽然数据集是文本数据，但我们必须清除标点符号。</p><blockquote class="kz la lb"><p id="0f8d" class="jk jl lc jm b jn jo jp jq jr js jt ju ld jw jx jy le ka kb kc lf ke kf kg kh ig bi translated">def rempunc(text):<br/>for pun in string .标点:<br/> text=text.replace(pun，' ')<br/>text = text . lower()<br/>return(text)</p></blockquote><h1 id="1e6b" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><strong class="ak"> TFIDF: </strong></h1><p id="4786" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">在文本数据中，数据应该从字符串转换成矢量进行计算。TF-IDF 是术语频率逆文档频率的缩写。这是一种非常常见的算法，用于将文本转换为有意义的数字表示(向量),以适应预测的机器算法。它被称为规范化 tf-idf 表示的转换。它将计数矩阵转换为规格化或 tf-idf。Tf 称为频率项，而 tf-idf 称为频率时间。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/c04bcc138f797f546c0dfcc928260a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*0qjrZsKo298gDNzMD8ZzUw.png"/></div></figure><h1 id="f32d" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">N-Gram:</h1><p id="e1bc" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">n 元语法指的是文本切割的粒度。当文本以记号的形式被切割时，它是由单个单词的集合的单个字母组成的。当文本被切割成几个词，两个，例如，这被称为二元等。这里，我们在这个场景中使用了二元模型。</p><p id="669b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以用“<strong class="jm io"> ngram_range=(1，2)”</strong>来定义二元模型</p><p id="416c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们为矢量化和学习算法创建一个管道，如逻辑回归(一种与 Rest 方式的多分类)、随机森林、额外树分类器和朴素贝叶斯。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/1961c4bc04040161439d4ecff864c884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*k0XtKJatsIbkiJcm6x2KYA.png"/></div></figure><p id="35f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，这里我们为 4 种分类器创建了 4 个管道。在这里，大多数人认为，由于 Sigmoid 函数的存在，逻辑回归是以二元分类的方式工作的。但是在多分类的情况下，它以一对多的方式工作。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/f5a8d4d560461fb056f4e1f8324a5339.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*2_KhMgcaDuXEN9MjojEfng.jpeg"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mm"><img src="../Images/06969970f1fe2b5eeebb2eed29e64eb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*c5BIK-X8V9nXlCV5bUcDEQ.png"/></div></div></figure><p id="3b0c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，在随机森林、额外树分类器和 Bernoulies 朴素贝叶斯算法中，我们从逻辑回归得到了最好的准确度，达到 98.4%。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/c889a1c27e3bd396858fc31800c6cba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*if5aOKGF1edbESY_X6gHRg.png"/></div></figure><p id="d8c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们使用 Pickle 保存模型，并开始使用<strong class="jm io"> Streamlit 使其可用。<br/> </strong>所以，我们要用 streamlit 库用 python 写一个脚本。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mo"><img src="../Images/ba4943747a4c437d8273c88fffd5dbc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uPwFMxBiuZr-jQoU_ug8Sw.png"/></div></div></figure><p id="419c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，我们使用 4 个 Streamlit 函数。它们是，标题、文本输入、按钮和文本功能。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mp"><img src="../Images/12e1b1bdc17e9d5127dee2c8643d636b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZW-n_FYnGk_FF1IPAGt83A.png"/></div></div></figure><p id="1779" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，我们使用 Streamlit 创建了一个简单的语言检测应用程序。让我们把它部署在 Heroku</p><p id="c0e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于 Heroku 部署，您需要几个步骤。他们是，</p><ul class=""><li id="6b36" class="mq mr in jm b jn jo jr js jv ms jz mt kd mu kh mv mw mx my bi translated"><strong class="jm io"> requirements.txt </strong>文件来安装所有运行应用程序所需的库。</li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mz"><img src="../Images/c93b882ec714884a14780c1a88f61423.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*PBZ3B8UaNC-BuqQUatC_SQ.png"/></div></div></figure><ul class=""><li id="2455" class="mq mr in jm b jn jo jr js jv ms jz mt kd mu kh mv mw mx my bi translated">Procfile 是 heroku 在您的文件夹中唯一识别的文件。</li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi na"><img src="../Images/e6d00622caccc262f620b394c2d1ba5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*GJxxMcOK7XGLq8CIRyH2Pw.png"/></div></figure><ul class=""><li id="d5e4" class="mq mr in jm b jn jo jr js jv ms jz mt kd mu kh mv mw mx my bi translated"><strong class="jm io"> Setup.sh </strong>设置服务器。</li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/249e776dc225d583c8b9d5049bdddcd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*Lq7HMIl3rYtJHR4RBuzPvg.png"/></div></figure><ul class=""><li id="5b6b" class="mq mr in jm b jn jo jr js jv ms jz mt kd mu kh mv mw mx my bi translated"><strong class="jm io">平台令牌</strong>用于向 heroku 平台认证我们的 github。转到 heroku - &gt;创建新应用程序并创建令牌。<br/>转到 github 存储库- &gt;设置- &gt;创建两个变量的秘密存储库，令牌作为令牌，应用名称(在 Heroku 中创建)作为名称。</li><li id="6ffe" class="mq mr in jm b jn nc jr nd jv ne jz nf kd ng kh mv mw mx my bi translated"><strong class="jm io">。github/workflows/ci-CD . YAML</strong>用于为来自 github 的每个推送请求在平台中部署您的代码</li></ul><blockquote class="kz la lb"><p id="95a5" class="jk jl lc jm b jn jo jp jq jr js jt ju ld jw jx jy le ka kb kc lf ke kf kg kh ig bi translated">名称:Python 应用程序</p><p id="ede3" class="jk jl lc jm b jn jo jp jq jr js jt ju ld jw jx jy le ka kb kc lf ke kf kg kh ig bi translated">开:<br/>推:<br/>分支:<br/> —主<br/>拉 _ 请求:<br/>分支:<br/> —主</p><p id="9f8d" class="jk jl lc jm b jn jo jp jq jr js jt ju ld jw jx jy le ka kb kc lf ke kf kg kh ig bi translated">乔布斯:<br/>打造:</p><p id="d115" class="jk jl lc jm b jn jo jp jq jr js jt ju ld jw jx jy le ka kb kc lf ke kf kg kh ig bi translated">运行:Ubuntu-最新版</p><p id="eea3" class="jk jl lc jm b jn jo jp jq jr js jt ju ld jw jx jy le ka kb kc lf ke kf kg kh ig bi translated">步骤:<br/> —用途:actions/check out @ v2<br/>with:<br/>fetch-depth:0<br/>—名称:设置 Python 3.7 <br/>用途:actions/setup-Python @ v2<br/>with:<br/>Python-version:3.7<br/>名称:安装依赖项<br/>run:|<br/>Python-m pip Install—升级 pip<br/>pip Install flake 8 pytest<br/>if[-f requirements . txt]；然后 pip install-r requirements . txt；fi <br/> <br/> — name:部署到 Heroku<br/>env:<br/>Heroku _ API _ TOKEN:$ { { secrets。TOKEN } }<br/>HEROKU _ APP _ NAME:$ { { secrets。NAME } }<br/>don tusforce:false<br/>if:github . ref = = ' refs/heads/main '&amp;&amp;job . status = = ' success '<br/>run:|<br/>git 远程添加 HEROKU<a class="ae ki" href="https://heroku:$HEROKU_API_TOKEN@git.heroku.com/$HEROKU_APP_NAME.git" rel="noopener ugc nofollow" target="_blank">https://HEROKU:$ HEROKU _ API _ TOKEN @ git . HEROKU . com/$ HEROKU _ APP _ NAME . git</a><br/>git 推送 heroku HEAD:main -f</p></blockquote><p id="ffa2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">git push 命令之后，github 工作流在 heroku 中启动并执行。如果它显示成功，则您的代码部署成功。</p><p id="44de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是我的网址:<a class="ae ki" href="https://langdet-1.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://langdet-1.herokuapp.com/</a><br/>Github 作品集:<a class="ae ki" href="https://github.com/Surya-Teja-Menta/Language_Detection" rel="noopener ugc nofollow" target="_blank">https://github.com/Surya-Teja-Menta/Language_Detection</a></p><p id="7015" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">快乐编码:)</p><p id="5d70" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的个人作品集:<a class="ae ki" href="https://suryatejamenta.co.in/" rel="noopener ugc nofollow" target="_blank">https://suryatejamenta.co.in/</a><br/>我的 LinkedIn 简介:<a class="ae ki" href="https://www.linkedin.com/in/surya-teja-menta/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/surya-teja-menta/</a><br/>我的 Github 简介:<a class="ae ki" href="https://github.com/Surya-Teja-Menta" rel="noopener ugc nofollow" target="_blank">https://github.com/Surya-Teja-Menta</a></p></div></div>    
</body>
</html>