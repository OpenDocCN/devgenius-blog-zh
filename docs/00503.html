<html>
<head>
<title>Laravel: Adding those missing helpers you always wanted</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">拉勒维尔:添加那些你一直想要的缺失的帮手</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/laravel-adding-those-missing-helpers-you-always-wanted-acaea8cbddce?source=collection_archive---------7-----------------------#2020-06-09">https://blog.devgenius.io/laravel-adding-those-missing-helpers-you-always-wanted-acaea8cbddce?source=collection_archive---------7-----------------------#2020-06-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="99bd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">更喜欢有表现力的代码，而不是那些冗长的代码行</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/91a52cdc251e9d393a1b348a91bbc4d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XIY88csbV71JGqDX"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">马修·韦林在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="0991" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我喜欢任何 PHP 项目的一点是拥有全局助手。你知道，那些你可以在任何地方调用的函数，可以把你的许多行或者冗长的代码删除或者保存成一行，或者两行，同时在一个地方分配任何逻辑。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="4dda" class="ly lz iq lu b gy ma mb l mc md">$expected = from($this)-&gt;do('foo');</span></pre><p id="1962" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Laravel 本身的问题是，有时它所包含的助手是不够的。包括的大多是快速访问服务(比如<code class="fe me mf mg lu b">cache()</code>)或者工厂(比如<code class="fe me mf mg lu b">response()</code>)，还有一些帮助你有预期结果的(比如<code class="fe me mf mg lu b">data_get</code>)。</p><p id="1fd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，假设我们希望一个函数被多次调用，但在执行之间休眠，就像我们需要避免外部 API 的速率限制。如果没有助手，我们将不得不创建一个类，并将逻辑放在一个公共静态方法中，并希望记住它的位置。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="6450" class="ly lz iq lu b gy ma mb l mc md">class Logics<br/>{<br/>    public static function logic_sleep($times, $sleep, $callback)<br/>    {<br/>        // Run and sleep between calls.<br/>    }<br/>}</span><span id="cea9" class="ly lz iq lu b gy mh mb l mc md">Logics::sleep(4, 10, function() {<br/>    // ...<br/>});</span></pre><p id="d5c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用这种技术使你的全局不那么全局。因为这是我项目中需要的许多东西之一，所以我决定创建一个包含更多全局助手的包:</p><p id="7c80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/DarkGhostHunter/Larahelp" rel="noopener ugc nofollow" target="_blank">拉拉 help </a></p><h1 id="dd12" class="mi lz iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">那些你一直想要的帮手</h1><p id="0b99" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">至少对我来说，全局助手的主要思想是拥有一段提供简单性、可读性和灵活性的代码。把它们想象成你可以放在口袋里的小瑞士刀。</p><p id="e6e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比如上面可以成为它自己的全局函数，我们可以随便在哪里调用。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="67d8" class="ly lz iq lu b gy ma mb l mc md">public function handle()<br/>{<br/>    logic_sleep(10, 5, function () {<br/>        $this-&gt;uploadRecords();<br/>    });<br/>}</span></pre><p id="6b07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">助手操作起来很简单，但我们除非深入挖掘源代码，否则不会知道它在幕后到底做了什么，这是公平的。在任何情况下，拥有一个或两个单词的全局函数会使整个代码更具可读性。而且既然是自己的帮手，我们想怎么叫都行。</p><h2 id="15e9" class="ly lz iq bd mj ne nf dn mn ng nh dp mr lf ni nj mt lj nk nl mv ln nm nn mx no bi translated">如何添加自己的助手</h2><p id="5d7a" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">但这只是我决定为我经常使用的东西创建的众多助手之一。</p><p id="2ad6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要在项目中添加全局助手，只需在项目中的任意位置(最好在 PSR-4 根文件夹中)添加一个带有全局函数的 PHP 文件，并告诉 Composer 加载它。</p><p id="9178" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以自由添加你想要的文件数量。我决定把它们分成<em class="ls">类</em>类，就像我对我的包所做的那样，以避免有一整墙的函数文本。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="18bc" class="ly lz iq lu b gy ma mb l mc md">"autoload": {<br/>    "psr-4": {            <br/>        "App\\": "app"<br/>    },<br/>    "files": [<br/>        "app/Helpers/datetime.php",<br/>        "app/Helpers/filesystem.php",<br/>        "app/Helpers/http.php",<br/>        "app/Helpers/objects.php",<br/>        "app/Helpers/services.php"<br/>    ]<br/>},</span></pre><p id="1d45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我也乐于接受建议，所以如果你认为它对你有用，那就试试吧:</p><div class="np nq gp gr nr ns"><a href="https://github.com/DarkGhostHunter/Larahelp" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">darghosthunter/Lara help</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">使用超过 35 个有用的全球助手来增强您的 Laravel 项目。您可以通过 composer 安装软件包…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">github.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kp ns"/></div></div></a></div></div></div>    
</body>
</html>