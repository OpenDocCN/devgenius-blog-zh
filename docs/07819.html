<html>
<head>
<title>Day 20 of Game Dev: When and Why to use Switch Statements?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发的第 20 天:何时以及为什么使用 Switch 语句？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-20-of-game-dev-when-and-why-to-use-switch-statements-871348120c44?source=collection_archive---------9-----------------------#2022-04-25">https://blog.devgenius.io/day-20-of-game-dev-when-and-why-to-use-switch-statements-871348120c44?source=collection_archive---------9-----------------------#2022-04-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="bca4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目标:</strong>将我的<strong class="jm io"> if else 语句树</strong>替换为一个<strong class="jm io"> switch 语句</strong>用于清理代码。</p><p id="219a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是我想要替换的<strong class="jm io"> if 语句树</strong>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/7e17c2ac7d6721f4c14a667bab591832.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*_5L7FWuYEOM3G5W7trlswQ.png"/></div></figure><p id="6657" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个<strong class="jm io"> switch 语句</strong>的全部要点是基本上清理一个长 if <strong class="jm io">语句树</strong>而不损失功能。根据我的经验，截止时间通常是 3 <strong class="jm io"> if 语句</strong>。</p><p id="5393" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个<strong class="jm io"> switch 语句</strong>像一个<strong class="jm io">如果语句</strong>检查一个条件，那么基于条件的值，switch 将调用你想要它调用的代码。除了它允许你输入初始条件的多个可能值，并基于当前值运行代码，但没有一堆<strong class="jm io"> if </strong> <strong class="jm io">语句</strong>带来的混乱。你也可以设置一个<strong class="jm io">开关</strong>来提供更好的性能，但那是另一篇文章了。</p><p id="d35b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个<strong class="jm io">开关</strong>的语法与你在<strong class="jm io"> C# </strong>中可能习惯的语法有一点不同，但并不疯狂。在你做出你的第 2 个<strong class="jm io">开关语句</strong>之后。它变成了第二天性。</p><p id="c407" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">语法包括:声明开关，放入您想要检查的参数，建立一个 case 并破坏该 case，最后添加一个默认 case，但这是可选的。让我们仔细研究每一个问题，它们的含义，并将其形象化！</p><p id="9ebd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们声明了<strong class="jm io">开关</strong>并放入我们想要检查的<strong class="jm io">参数</strong>之后，我们需要建立一个案例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kq"><img src="../Images/2f95733d1027575e6631f7e250cba398.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/1*XLf4xBz9-n6_ItF_wgP80Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在我的例子中，powerupID 是一个 int</figcaption></figure><p id="57b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">每种情况都等于参数的值。因此，如果我们把情况 0:我们说，如果我们检查的参数= 0，然后调用这个代码。您想为每个案例调用的代码将放在案例下面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kv"><img src="../Images/b0f27242cc2afd7975cc04bff3eda616.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*m3O_yYYRdsB5l5oMKz5tng.png"/></div></figure><p id="c540" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后告诉计算机你不想调用任何其他代码，在你调用的代码下面加上 break。你只是告诉计算机“这是基于我们检查过的参数，我想要调用的代码，所以脱离开关”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/88805182b081ddf36bd4f6b090b536b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*iuWUImp8UxJU2_kzj7_S6A.png"/></div></figure><p id="78d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您还可以将可选的默认案例(如果条件不是=则调用该案例)添加到您正在查找的任何案例中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/1254d7808552d13aeb6f7b23a78dde9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*pL5dL7gQa06d4DZLn2zmiQ.png"/></div></figure><p id="c422" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我用开关替换 If 语句，最终结果如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/bf6feb5c501541c4f09ead2ffa2df594.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*z2tACk3T5rEQMzkikF-ICA.png"/></div></figure><p id="1e60" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在想象一下，我们有 3 个以上的 if 语句，比如可能是对话系统之类的。那将会有很多 if 语句和重复的代码。开关清理它，也可以提高性能！</p><p id="8c2a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望这能帮助你理解什么是开关以及何时使用开关！想和快乐编程的话随时提问:)</p></div></div>    
</body>
</html>