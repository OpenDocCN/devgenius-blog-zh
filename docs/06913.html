<html>
<head>
<title>SwiftUI Tutorial: Working with Stepper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI 教程:使用 Stepper</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/swiftui-tutorial-working-with-stepper-972994ffb3f1?source=collection_archive---------2-----------------------#2022-02-11">https://blog.devgenius.io/swiftui-tutorial-working-with-stepper-972994ffb3f1?source=collection_archive---------2-----------------------#2022-02-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a207" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建步进器的不同方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ce423067e03f22dc02ed12dab4d2b120.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_kgFz6E87UWIN03FRO_zgQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图一。</figcaption></figure><p id="13bf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">SwiftUI 中的 Stepper 与 UIKit 中的 UIStepper 工作方式相同。它创建了一个增量和减量按钮，可以通过点击来改变给定值。</p><blockquote class="lr ls lt"><p id="f12b" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">这篇文章是我的<a class="ae ly" href="https://arc-sosangyo.medium.com/list/swiftui-tutorial-03734e631240" rel="noopener"> SwiftUI 教程</a>系列的一部分。</p></blockquote><p id="d8bb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为此练习准备一个打开的项目。如果你需要一步一步的过程，你可以使用这个<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/introduction-to-swiftui-creating-new-project-9adc502e1804">链接</a>。</p><p id="f53f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们创建一个使用 Stepper 的简单预订功能。首先，你需要一个<a class="ae ly" href="https://medium.com/geekculture/swiftui-tutorial-state-and-binding-b7e80b4de622" rel="noopener">状态</a> <a class="ae ly" href="https://arc-sosangyo.medium.com/swift-programming-tutorial-variables-670ceea20bd1" rel="noopener">变量</a>来存储步进器的值。在 ContentView 中编写以下代码:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="2da4" class="me mf iq ma b gy mg mh l mi mj">@State private var reservation: Int = 0</span></pre><p id="8dc1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，我们将把我们创建的这个变量绑定到 Stepper 的<em class="lu">值</em>参数。因此，让我们在 VStack 中创建一个步进器，这样我们就可以有一个组织有序的 UI。我们还将放入一个文本，显示 reservation 变量的当前值。在主体中编写以下代码:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="37ac" class="me mf iq ma b gy mg mh l mi mj">VStack {<br/><br/>    Stepper("How many?", value: $reservation, in: 0...10)<br/>    Text("You reserved \(reservation) tickets")<br/><br/>} //VStack</span></pre><p id="1d2f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们在这里补充的另一个重要参数是。我们所做的是使用<a class="ae ly" href="https://medium.com/@arc-sosangyo/swift-programming-tutorial-basic-operators-72dc48116b1c" rel="noopener">范围</a>操作符指定最小值和最大值。</p><p id="2d16" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是全部源代码的截图，以防你迷路:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/ba6b080fd0671841fba3e8e283a1cd1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b6x7uhHTfyNHzmHzCrcHhA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图二。步进机的基本示例</figcaption></figure><p id="c4c8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">运行应用程序并尝试按增量和减量按钮。当你按下这些按钮时，数字也会改变。因为我们在修饰符中的<em class="lu">下指定了范围仅从 0 到 10，所以您不能超过这些数字。</em></p><p id="66bb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们放一些衬垫来增加呼吸的空间，并把文字加粗，怎么样？我们是这样做的:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="6fb2" class="me mf iq ma b gy mg mh l mi mj">VStack {<br/><br/>    Stepper(value: $reservation, in: 0...10) {<br/>        Text("How many")<br/>            .fontWeight(.bold)<br/>    }<br/>    .padding()<br/>    <br/>    Text("You reserved \(reservation) tickets")<br/><br/>} //VStack</span></pre><p id="fb6f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在用户界面看起来更好了:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/97dfcc07997775515c329b1b32a34485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*89Umw4qlIgYr_Wrr78zMEw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 3。基本步进器应用程序</figcaption></figure><p id="16d9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这种格式也是一个好主意:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="c8e8" class="me mf iq ma b gy mg mh l mi mj">VStack {<br/><br/>    Stepper(value: $reservation, in: 0...10) {<br/>        Text("You reserved \(reservation) tickets")<br/>            .fontWeight(.bold)<br/>    }<br/>    .padding()<br/><br/>} //VStack</span></pre><p id="ee57" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这为其他视图提供了更多空间。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/a3fd9a0bf8b27afe9817e6b0020f0c67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*OWaUi-GQ4H6pm0MIZoQmuQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 4。将所有东西贴上标签</figcaption></figure><h1 id="f79f" class="mn mf iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">自定义增量和减量</h1><p id="ab42" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">以防您需要以编程方式进行递增和递减。添加更多变量或使用小数的示例。您可以使用以下格式:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="d9da" class="me mf iq ma b gy mg mh l mi mj">VStack {<br/><br/>    Stepper(onIncrement: {<br/>        reservation += 2<br/>    }, onDecrement: {<br/>        reservation -= 2<br/>    }) {<br/>        Text("You reserved \(reservation) tickets")<br/>            .fontWeight(.bold)<br/>    }<br/>    .padding()<br/><br/>} //VStack</span></pre><p id="9d28" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用上面的代码，我们放弃绑定<em class="lu">值</em>以及范围内的<em class="lu">。作为替代，我们用增量</em>上的<em class="lu">来编码加号按钮的动作，用增量<em class="lu">上的</em>来编码减号按钮的动作。我把增加和减少分成两个数字来说明这种方法。尝试用代码做实验。</em></p><h1 id="c2fe" class="mn mf iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">附加内容:固定单复数形式</h1><p id="9000" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">这可能与步进机无关。但是我的强迫症冲动想让我纠正这个问题。虽然这只是一个练习，但我想在数字为 0 或 1 时只显示“ticket”。这可以通过在文本视图中使用三元运算符轻松解决，如下所示:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="8868" class="me mf iq ma b gy mg mh l mi mj">Text("You reserved \(reservation) \(reservation &lt;= 1 ? "ticket" : "tickets")")</span></pre><p id="96f6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是源代码在以下情况下的样子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/da24da9b37ed4cf2f780cc1aab1c8814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1l_FP5CZYdgAW59I0rKKmA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 5。最终源代码</figcaption></figure><p id="e24b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">立即运行应用程序。如果预订只有 0 或 1，它应该只显示“票”。完成本教程的伟大工作。</p><p id="c2f3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是源代码的 github <a class="ae ly" href="https://github.com/athurion/SwiftUI-Tutorial-Working-with-Stepper/blob/main/ContentViewStepper.swift" rel="noopener ugc nofollow" target="_blank">链接</a>。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><p id="dc96" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">愿法典与你同在，</p><p id="4f51" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">-电弧</p></div></div>    
</body>
</html>