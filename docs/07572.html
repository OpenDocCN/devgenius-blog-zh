<html>
<head>
<title>How to create a dynamic WhatsApp FAVICON with NextJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 NextJS 创建动态 WhatsApp FAVICON</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-create-a-dynamicwhatsapp-favicon-with-nextjs-dd97181bac94?source=collection_archive---------8-----------------------#2022-04-06">https://blog.devgenius.io/how-to-create-a-dynamicwhatsapp-favicon-with-nextjs-dd97181bac94?source=collection_archive---------8-----------------------#2022-04-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/59b4a5e0927674f3e43087295e08f911.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oPRWOkAECW78MAHR"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">马頔·索罗明在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8836" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如今，现代浏览器和新的开发框架让我们有可能创建解决方案，这些解决方案以前执行起来比较复杂，现在对产品的可用性有很大帮助。</p><p id="1da5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">举一个例子，WhatsApp 应用程序允许我们观察何时有人给我们发送了一条消息或我们有几条未读消息，WhatsApp 会发出不同类型的通知，从声音、推送通知到简单显示未读消息数量的图标。</p><p id="bafd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">在这篇文章中，我们将讨论图标中的通知，它直观地向我们展示了没有阅读的通知的数量。</strong></p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="f14b" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">我们将使用什么？</h1><p id="2de2" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">NextJS <br/>查克拉伊</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h2 id="a591" class="mi lg in bd lh mj mk dn ll ml mm dp lp kl mn mo lt kp mp mq lx kt mr ms mb mt bi translated">我们需要做的第一件事是通过运行以下命令在 NextJS 中创建我们的项目。</h2><blockquote class="mu mv mw"><p id="11bf" class="ka kb mx kc b kd ke kf kg kh ki kj kk my km kn ko mz kq kr ks na ku kv kw kx ig bi translated">yarn create next-app <br/>或<br/>Npx create-next-app @ latest<br/>或<br/> Pnpm create next-app</p></blockquote><p id="e6df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一旦我们的项目被创建，我们导航到我们的项目容器文件夹来安装和配置<strong class="kc io"> Chakra </strong></p><h2 id="630b" class="mi lg in bd lh mj mk dn ll ml mm dp lp kl mn mo lt kp mp mq lx kt mr ms mb mt bi translated">现在我们安装查克拉。</h2><p id="ed25" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated"><em class="mx">纱加@ chakra-ui/react @ emotion/react @ @ emotion/styled @framer-motion@⁶</em></p><p id="660f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当这个过程完成后，下一件事就是配置我们的脉轮，在项目文件夹中我们执行下面的命令。</p><p id="8648" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mx">代码。</em></p><p id="7a18" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个命令将打开我们的项目，现在在我们的文件夹结构中我们寻找 pages 文件夹，在其中我们寻找名为 _app.js <br/>的文件，我们继续打开它并导入我们的 chakra 库，我们将得到以下结果。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/4971b97e1c4229103e43349200c22932.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*mWKGOe8mdxV1Av07xqOdBw.png"/></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/dd52185f1771875f0ab9d6ecf41a63d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*rWi6ym7g04GzeUAML_0evQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">脉轮结构</figcaption></figure><p id="73a3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们运行我们的服务器，我们可以看到一切工作正常。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="6cbb" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">下一步，我们开始开发我们的网站图标的功能。</h1><p id="be7a" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">我们从 index.js 中的 Chakra-ui 导入按钮、Flex 和框组件<br/>我们从 index.js 中的 react 导入 useState 和 useEffect</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/8d6d39daa356ca970b68b0704aec73f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*esXRYm9veMsUnMEoi9Au9g.png"/></div></figure><p id="3c5a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们创建我们需要的两个变量</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/4ad2c8aea144cc1921c11e243fd9264d.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*bVjbP5YOR2DNlCwVCISd1Q.png"/></div></figure><p id="28f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们用 WhatsApp 通知的 SVG 图像创建变量。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/989d51ffc30e8da76cb86e7ac39e94f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dp5rqnPngBZWDONIrv5MXg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">WhatsApp SVG 图标</figcaption></figure><p id="cee9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们创建了从 SVG 图像生成 BLOB 文件的函数。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/cbbb80ffd9141ee2578d3ed892129e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*Lnra9ttn5kEE-OaZmcJ_OA.png"/></div></figure><p id="d4ec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们创建一个函数来更新计数器并执行 BLOB 函数</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/c2be345695a683e2064429d7ca718c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*yq7BVMQfXUHDbKtp39r8hQ.png"/></div></figure><p id="2525" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们初始化我们的第一次运行来创建我们的第一个图像</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/52eac81c426e50e7d4695036a6df04f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*Aq6QnEmiM4j0nCQv4PkrFg.png"/></div></figure><p id="4f07" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，我们创建我们的 HTML 结构</p><p id="640e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在标签<title>中，我们将做一些小的改动，如下所示。<br/>标签内的&lt;链接&gt;我们也做了相应的修改，以便能够检测到相应的图标，它应该看起来像下面这样。</title></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/e21a9368460f311e62030c123d77f82e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*cA6qmiscSbUaZQoPDYn9Yg.png"/></div></figure><p id="54f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">是时候运行我们的项目了！</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi no"><img src="../Images/16854fc0b0fa653c9e15acc0679978ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*5pvb4G1NrtIiW9CherdYBQ.png"/></div></figure><p id="7d67" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果一切顺利，如果我们按下按钮，我们会看到我们的图标开始随着我们的计数器一起变化。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/90ffdb5b1f06359635d13fcfc769c431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*ChDZffjg98Bx0Q_kKEsZeA.png"/></div></figure><h1 id="7722" class="lf lg in bd lh li nq lk ll lm nr lo lp lq ns ls lt lu nt lw lx ly nu ma mb mc bi translated">太好了！</h1><h2 id="9dce" class="mi lg in bd lh mj mk dn ll ml mm dp lp kl mn mo lt kp mp mq lx kt mr ms mb mt bi translated">结论<br/>我们可以通过改变 WhatsApp SVG 并添加更复杂的功能，在我们的实际项目中使用这一功能。</h2><h1 id="b932" class="lf lg in bd lh li nq lk ll lm nr lo lp lq ns ls lt lu nt lw lx ly nu ma mb mc bi translated"><strong class="ak">剩下的就看你的了……</strong></h1><p id="b1cf" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">在<a class="ae jz" href="https://github.com/mostrilio/favicon_dynamic_next" rel="noopener ugc nofollow" target="_blank">https://github.com/mostrilio/favicon_dynamic_next</a>下载源代码</p></div></div>    
</body>
</html>