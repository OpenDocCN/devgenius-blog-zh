<html>
<head>
<title>Atlantis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亚特兰蒂斯</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/atlantis-47639b78d34d?source=collection_archive---------4-----------------------#2021-06-17">https://blog.devgenius.io/atlantis-47639b78d34d?source=collection_archive---------4-----------------------#2021-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="72d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">头号轻量级缓存库</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/624ae2a3544fca22532dcb8e3e8ee0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3n3rbJ5N0K-51bP4ENNK0A.png"/></div></div></figure><h1 id="7425" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">我们正在解决的问题</strong></h1><p id="492f" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">RESTful 架构的行业标准多年来一直依赖于请求/响应周期。随着时间的推移，这被证明是可靠的，但效率低下。标准化的 RESTful 路由造成了数据总是被过度提取的情况。</p><p id="0f26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">输入 GraphQL。一种新的方式来准确地指定您希望从数据库中接收到的内容。GraphQL 是一种数据库无关的查询语言，用于查询您的 API。这意味着它可以用于关系数据库或 noSQL 数据库，没有问题！GraphQL 请求消除了所有的 CRUD 路径，留给您一个干净的端点。</p><p id="efa5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在的问题在于缓存。请求/响应架构内置了缓存，因为 CRUD 方法是标准化的，并且易于更新。GraphQL 没有这种现成的奢侈，因为对 API 的查询变得非常具体。不可否认，缓存是一个非常有价值的工具，所以随着 GraphQL 的日益流行，开发人员开始着手解决这个问题。</p><h1 id="cde8" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">解决办法</h1><h2 id="90bf" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">Atlantis 是一个轻量级的库，它解决了存储和维护深度嵌套的 GraphQL 查询的问题。</h2><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mm"><img src="../Images/9fee511236cbb949bdf07bbb02f15b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YBIh7TKKIPXzrQ9gYL1TbQ.png"/></div></div></figure><p id="01f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这确保了当数据库发生变化时，客户端总是接收到最相关的数据。</p><h1 id="0a9b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">节省时间</h1><h2 id="aa0f" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated">Atlantis 利用 Redis 的“内存中”快速查找时间来快速提供缓存的 graphQL 响应，而不管其大小或结构如何。</h2><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/71f02d5f4ee6af339d57bd7e5e1d4435.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*vmVmqRkg5V3aNNg0.gif"/></div></figure><p id="f5cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Redis 与发布/订阅体系结构的集成还允许随着需求的增长进行扩展，并且您需要更多的缓存空间或备份缓存工作线程。</p><h1 id="985e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">节省空间</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mo"><img src="../Images/9074051af20287bc89993157cc02f2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yKzfLXeuabSijd0BsWvR2g.png"/></div></div></figure><h1 id="2797" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">智能地从现有的缓存嵌套中提取与先前查询完全相似的新查询，而不是创建新的键/值条目</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mp"><img src="../Images/8551c4fcb5a25ea27ae64c72f92baedc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c3k3vb19uqEJdML711-9hQ.png"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mq"><img src="../Images/e4fcc3c5db5eef5d03ad272f70561630.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V7-gKGo-8J-6a6uS1Qrdgg.png"/></div></div></figure><h1 id="af35" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">如何开始</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/5f1ec5b33f7d4b1cb1a48145516f6eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*idb3A3Abe9Y5nCx7P3wleA.png"/></div></figure><p id="4957" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好了，现在我们有了自己的解决方案，让我们来看一下简单安装吧！</p><p id="9523" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">__________________________</p><p id="c8e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在一个快速的<a class="ae ms" href="https://www.npmjs.com/package/atlantis-cache" rel="noopener ugc nofollow" target="_blank"> npm 安装</a>之后，要求将亚特兰蒂斯安装到你的后台，如下图所示。</p><p id="7b16" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">亚特兰蒂斯的唯一要求是 Redis 和一个模式。<br/>就是这样！</p><p id="469d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">__________________________</p><p id="7f93" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">后端代码:</p><pre class="km kn ko kp gt mt mu mv mw aw mx bi"><span id="793f" class="ma ky iq mu b gy my mz l na nb">import express, { Application } from 'express';</span><span id="c329" class="ma ky iq mu b gy nc mz l na nb">import redis from 'redis';</span><span id="019a" class="ma ky iq mu b gy nc mz l na nb">const schema = require('./schema/schema');</span><span id="0ab1" class="ma ky iq mu b gy nc mz l na nb">const { atlantis } = require('atlantis-cache');</span><span id="f576" class="ma ky iq mu b gy nc mz l na nb">const redisClient = redis.createClient({</span><span id="bbab" class="ma ky iq mu b gy nc mz l na nb">host: 'localhost',</span><span id="836a" class="ma ky iq mu b gy nc mz l na nb">port: 6379,</span><span id="de7f" class="ma ky iq mu b gy nc mz l na nb">});</span><span id="61cf" class="ma ky iq mu b gy nc mz l na nb">const app: Application = express();</span><span id="45f6" class="ma ky iq mu b gy nc mz l na nb">app.use(express.json());</span><span id="2a2e" class="ma ky iq mu b gy nc mz l na nb">app.use('/atlantis', atlantis(redisClient, schema), async (req, res) =&gt; {</span><span id="0e54" class="ma ky iq mu b gy nc mz l na nb">return res.status(202).json({ data: res.locals.graphQLResponse });</span><span id="8bb7" class="ma ky iq mu b gy nc mz l na nb">});</span></pre><p id="37bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在安装 Redis 并设置您的模式之后，传递 redisClient 和 schema 作为仅有的两个必需参数。这种简单性是我们产品的核心。毫不夸张地说，“即插即用”和你的好去！</p><p id="af04" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">亲自体验亚特兰蒂斯的力量吧！访问我们的网站<a class="ae ms" href="http://findatlantis.io/" rel="noopener ugc nofollow" target="_blank"> findatlantis.io </a>观看演示，了解您潜在的速度提升！</p><h2 id="cfb0" class="ma ky iq bd kz mb mc dn ld md me dp lh jy mf mg ll kc mh mi lp kg mj mk lt ml bi translated"><strong class="ak">投稿</strong></h2><p id="7ccc" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在 SeeC Labs，Atlantis 背后的开发者希望听到任何反馈，并且一直在寻找充满激情的开发者来为影响日常体验的产品做出贡献。如果您想要贡献或合作，请随时查看我们的<a class="ae ms" href="https://github.com/oslabs-beta/Atlantis" rel="noopener ugc nofollow" target="_blank"> GitHub </a>并联系我们！</p><p id="b8b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您对实施有任何疑问，我们强烈建议您这样做！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nd"><img src="../Images/4384be800ad5ddb76d85a77ddd532f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N6x3YNrFPbjTpRWhtohvbg.png"/></div></div></figure><h1 id="403e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak"> SeeC 实验室</strong></h1><p id="b075" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><strong class="jp ir">珊瑚大惊小怪</strong>——<a class="ae ms" href="https://github.com/coralfussman" rel="noopener ugc nofollow" target="_blank">GitHub</a>/<a class="ae ms" href="https://www.linkedin.com/in/coral-fussman-21721538/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><p id="e409" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">Sett Hein</strong>—<a class="ae ms" href="https://github.com/settnaing199" rel="noopener ugc nofollow" target="_blank">GitHub</a>/<a class="ae ms" href="https://www.linkedin.com/in/sett-hein/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><p id="9a2f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">埃里克·马特沃辛</strong>——<a class="ae ms" href="https://github.com/erik-matevosyan" rel="noopener ugc nofollow" target="_blank">GitHub</a>/<a class="ae ms" href="https://www.linkedin.com/in/erik-matevosyan/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><p id="c622" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">埃里克·罗杰尔——<a class="ae ms" href="https://github.com/erikjrogel" rel="noopener ugc nofollow" target="_blank">GitHub</a>/<a class="ae ms" href="https://www.linkedin.com/in/erikjrogel/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p></div></div>    
</body>
</html>