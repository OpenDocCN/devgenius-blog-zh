<html>
<head>
<title>Basic overview of how webpack compiles React application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">webpack 如何编译 React 应用程序的基本概述</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/basic-overview-of-how-webpack-compiles-react-application-3e04e9317f20?source=collection_archive---------6-----------------------#2021-07-30">https://blog.devgenius.io/basic-overview-of-how-webpack-compiles-react-application-3e04e9317f20?source=collection_archive---------6-----------------------#2021-07-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c28d54530f7d7fad758d072525c69a49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TA2nhHJm22Cy2TBh"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">ez。—<a class="ae jz" href="https://unsplash.com/@maxcodes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马克斯韦尔·尼尔森</a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="deea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您是 react 开发人员，您可能想知道浏览器如何理解 react 和 jsx 语法并显示我们构建的所有漂亮的 UI。事情是这样的。</p><p id="8b0b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">它不懂 react 和 jsx！</p><p id="6a73" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">等等……什么？那么 react 应用程序是如何呈现的呢？</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ky"><img src="../Images/a12540809b7e6d9897c8d6a49a3da7ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y98r6OwxAyTBv0qX"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com/@janiswolf?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">詹尼斯·沃尔夫</a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="1b1e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">输入 webpack。</p><p id="e2f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那么，什么是 webpack，webpack 是如何工作的？</p><p id="712d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Webpack 是一个实用程序，它将多个 javascript 和 css 模块编译成浏览器可以理解的单个 javascript 文件。</p><p id="a692" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我们深入探讨之前，让我们问自己这样一个问题:我们所说的 javascript 模块是什么？</p><p id="128b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们谈论的是 react 应用程序，javascript 模块通常存储在 jsx、js 或 tsx 文件中。它们是构成整个应用程序的构件。</p><p id="19a1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们通过 create-react-app 从头开始设置一个 react 应用程序。然后我们将看到 webpack 如何将所有这些编译成浏览器可以理解的捆绑 javascript 文件。</p><p id="ae66" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤 1:在终端上运行 npx create-react-app react webpack。这应该会创建一个基本的 react 应用程序。</p><p id="1a4a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第 2 步:转到 src 文件夹，用以下内容创建 MyComponent.js:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="e2a8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第三步:转到 src 文件夹下的 App.js。清除内容并替换为以下内容:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="c0d0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">没什么复杂的，对吧？现在去终端，去你的目录所在的地方。运行 npm run build，您将看到正在生成一个构建目录:</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/89ec765393f6ca12e2c01d01febae320.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*LIg4x_jQrDXjrTbZjyxV9Q.png"/></div></figure><p id="5ba0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在您可能想知道:这个构建目录是什么？它是用来做什么的？</p><p id="1790" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">构建文件夹包含一个可以部署到任何环境生产构建。它由几个完全优化包文件组成。</p><p id="426b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们看看您的 src 目录下的 package.json:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="94f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在“脚本”部分，我们指定生成产品就绪构建的命令，该命令被指定为“react-scripts build”。</p><p id="f573" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当运行其中一个脚本时，它将运行主 Facebook/create-react-app(github.com)的<a class="ae jz" href="https://github.com/facebook/create-react-app/tree/main/packages/react-scripts/bin" rel="noopener ugc nofollow" target="_blank">create-react-app/packages/react-scripts/bin 下的“react-scripts.js”。它将解析第二个参数，并生成一组简化的 javascript 文件，作为可以在任何其他环境中轻松部署的包。</a></p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/7bbc27daefd917cea362968c6853096b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*-A_wcChJCcE8iP8q2_8oXw.png"/></div></figure><p id="7193" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们看看这些 chunk.js 文件是什么。我们不需要理解代码在做什么，但是我们可以想象一下缩小后的 javascript 是什么样子:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="d0de" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这可能没有多大意义，但我们可以这样理解:所有这些 javascript 代码都将我们在 react 中构建的内容附加到元素 id 为“root”的根 div 中，它由网页的所有 html 标记组成。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lg"><img src="../Images/42b9a666d23a0000493b6b5b3a96630d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*buhwZ4LvKmH0NHBL"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae jz" href="https://unsplash.com/@chne_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Tachina Lee </a>拍摄的照片</figcaption></figure><p id="3c93" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在你可能在想:webpack 还能做什么？</p><p id="6c3e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">默认情况下，当您运行 react-scripts build 或 start 时，它会寻找一个入口点。什么是入口点？</p><p id="edeb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">入口点是 webpack 希望捆绑的文件。默认情况下，这个入口点是 index.js，它呈现 app.js 和所有被利用的 js/css 文件。</p><p id="2805" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">想知道它是如何工作的吗？请关注我的 medium，我将在本文中对此进行讨论:<a class="ae jz" href="https://kaleongtong282.medium.com/how-to-create-a-react-application-from-scratch-with-babel-and-webpack-a5524ee8c8b3" rel="noopener">如何使用 babel 和 webpack 从头开始创建 react 应用程序|作者 Michael Tong | 2021 年 8 月| Medium </a></p></div></div>    
</body>
</html>