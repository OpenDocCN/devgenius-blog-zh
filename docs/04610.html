<html>
<head>
<title>Add Charts into Our React App with Victory — Custom Chart</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Victory将图表添加到我们的React应用程序中—自定义图表</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-custom-chart-3df7358c29dd?source=collection_archive---------1-----------------------#2021-04-10">https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-custom-chart-3df7358c29dd?source=collection_archive---------1-----------------------#2021-04-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/51764be142843828e12295261356aee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wFJi0m-vLSSwy7eC"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="e9f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">胜利让我们能够将图表和数据可视化添加到React应用程序中。</p><p id="35db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Victory将图表添加到React应用程序中。</p><h1 id="b948" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">自定义图表</h1><p id="66ca" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过一起添加多个组件来创建自定义图表。</p><p id="2a52" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d4b3" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { VictoryAxis, VictoryLabel, VictoryLine } from "victory";</span><span id="de96" class="mn lc iq mj b gy ms mp l mq mr">const getDataSetOne = () =&gt; {<br/>  return [<br/>    { x: new Date(2000, 1, 1), y: 12 },<br/>    { x: new Date(2001, 6, 1), y: 10 },<br/>    { x: new Date(2002, 12, 1), y: 11 },<br/>    { x: new Date(2003, 1, 1), y: 5 },<br/>    { x: new Date(2004, 1, 1), y: 4 }<br/>  ];<br/>};</span><span id="853d" class="mn lc iq mj b gy ms mp l mq mr">const getDataSetTwo = () =&gt; {<br/>  return [<br/>    { x: new Date(2000, 1, 1), y: 5 },<br/>    { x: new Date(2001, 1, 1), y: 6 },<br/>    { x: new Date(2002, 1, 1), y: 4 },<br/>    { x: new Date(2003, 1, 1), y: 10 },<br/>    { x: new Date(2004, 1, 1), y: 12 }<br/>  ];<br/>};</span><span id="118e" class="mn lc iq mj b gy ms mp l mq mr">const getTickValues = () =&gt; {<br/>  return [<br/>    new Date(2000, 1, 1),<br/>    new Date(2001, 1, 1),<br/>    new Date(2002, 1, 1),<br/>    new Date(2003, 1, 1),<br/>    new Date(2004, 1, 1)<br/>  ];<br/>};</span><span id="d684" class="mn lc iq mj b gy ms mp l mq mr">const dataSetOne = getDataSetOne();<br/>const dataSetTwo = getDataSetTwo();<br/>const tickValues = getTickValues();</span><span id="5405" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;svg viewBox="0 0 450 350"&gt;<br/>      &lt;VictoryLabel<br/>        x={25}<br/>        y={55}<br/>        text={"Economy \n % change on a year earlier"}<br/>      /&gt;<br/>      &lt;VictoryLabel x={200} y={55} text={"Dinosaur exports\n $bn"} /&gt;</span><span id="8026" class="mn lc iq mj b gy ms mp l mq mr">&lt;g transform={"translate(0, 40)"}&gt;<br/>        &lt;VictoryAxis<br/>          scale="time"<br/>          standalone={false}<br/>          tickValues={tickValues}<br/>          tickFormat={(x) =&gt; x.getFullYear()}<br/>        /&gt;<br/>        &lt;VictoryAxis<br/>          dependentAxis<br/>          domain={[-10, 15]}<br/>          offsetX={50}<br/>          orientation="left"<br/>          standalone={false}<br/>        /&gt;<br/>        &lt;VictoryLine<br/>          data={[<br/>            { x: new Date(2000, 1, 1), y: 0 },<br/>            { x: new Date(2004, 6, 1), y: 0 }<br/>          ]}<br/>          domain={{<br/>            x: [new Date(2000, 1, 1), new Date(2004, 1, 1)],<br/>            y: [-10, 15]<br/>          }}<br/>          scale={{ x: "time", y: "linear" }}<br/>          standalone={false}<br/>        /&gt;<br/>        &lt;VictoryLine<br/>          data={dataSetOne}<br/>          domain={{<br/>            x: [new Date(2000, 1, 1), new Date(2004, 1, 1)],<br/>            y: [-10, 15]<br/>          }}<br/>          interpolation="monotoneX"<br/>          scale={{ x: "time", y: "linear" }}<br/>          standalone={false}<br/>        /&gt;<br/>        &lt;VictoryAxis<br/>          dependentAxis<br/>          domain={[0, 50]}<br/>          orientation="right"<br/>          standalone={false}<br/>        /&gt;<br/>        &lt;VictoryLine<br/>          data={dataSetTwo}<br/>          domain={{<br/>            x: [new Date(2000, 1, 1), new Date(2004, 1, 1)],<br/>            y: [0, 50]<br/>          }}<br/>          interpolation="monotoneX"<br/>          scale={{ x: "time", y: "linear" }}<br/>          standalone={false}<br/>        /&gt;<br/>      &lt;/g&gt;<br/>    &lt;/svg&gt;<br/>  );<br/>}</span></pre><p id="5961" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了函数线的数据。</p><p id="6a0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们添加带有<code class="fe mt mu mv mj b">VictoryLabel</code>组件的标签。</p><p id="a12e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们设置<code class="fe mt mu mv mj b">x</code>和<code class="fe mt mu mv mj b">y</code>道具来设置它们的位置。</p><p id="df88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们将图表组件放在<code class="fe mt mu mv mj b">g</code>元素中。</p><p id="3045" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">VictoryAxis</code>渲染x轴。</p><p id="5f82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe mt mu mv mj b">scale</code>设置为<code class="fe mt mu mv mj b">'time'</code>来呈现轴上的日期。</p><p id="429b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们设置<code class="fe mt mu mv mj b">offsetX</code>来移动轴。</p><p id="6393" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个<code class="fe mt mu mv mj b">VictoryLine</code>已经渲染出一条水平线。</p><p id="e174" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们设置<code class="fe mt mu mv mj b">data</code>道具来设置数据。</p><p id="2c7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们设置了<code class="fe mt mu mv mj b">x</code>和<code class="fe mt mu mv mj b">y</code>域来设置要在轴上显示的值的范围。</p><p id="4d53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于<code class="fe mt mu mv mj b">x</code>和<code class="fe mt mu mv mj b">y</code>的刻度不同，因此<code class="fe mt mu mv mj b">scale</code>单独设置。</p><p id="6d62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe mt mu mv mj b">standalone</code>设置为<code class="fe mt mu mv mj b">false</code>，这样我们可以向图表中添加更多内容。</p><p id="7f75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后再添加一个<code class="fe mt mu mv mj b">VictoryLine</code>来渲染来自<code class="fe mt mu mv mj b">dataSetOne</code>的数据。</p><p id="1e38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们再加一个<code class="fe mt mu mv mj b">VictoryAxis</code>在右边放一个y轴。我们设定了自己的领域。</p><p id="54fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后添加另一个<code class="fe mt mu mv mj b">VictoryLine</code>来渲染来自<code class="fe mt mu mv mj b">dataSetTwo</code>的数据。</p><p id="66ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们得到了一个有3条线的折线图，y轴在每一边，x轴在底部，标签在图表的顶部。</p><h1 id="81ec" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="084d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在React应用程序中添加带有Victory组件的自定义图表。</p></div></div>    
</body>
</html>