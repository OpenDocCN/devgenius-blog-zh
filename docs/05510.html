<html>
<head>
<title>How to manage Kubectl plugins using Krew package manager</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Krew包管理器管理Kubectl插件</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-manage-kubectl-plugins-using-krew-package-manager-34b5f1b7820c?source=collection_archive---------2-----------------------#2021-08-29">https://blog.devgenius.io/how-to-manage-kubectl-plugins-using-krew-package-manager-34b5f1b7820c?source=collection_archive---------2-----------------------#2021-08-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="e7cb" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">背景</h1><p id="7236" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">目前，<a class="ae lg" href="https://kubernetes.io" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> Kubernetes </strong> </a>是最流行的容器编排平台。是与Kubernetes集群交互的最流行的命令行工具。Kubernetes是相当可扩展的。在这篇文章中，我们将看到如何利用kubectl插件管理器<a class="ae lg" href="https://krew.sigs.k8s.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> Krew </strong> </a>来扩展Kubectl的功能。</p><h1 id="fd9a" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">Krew插件管理器</h1><p id="2571" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">你可能听说过包管理器，比如用于Mac的<a class="ae lg" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"/></a>，<a class="ae lg" href="https://chocolatey.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> Chocolatey </strong> </a>或者用于Windows或者Linux的。这些软件包管理器帮助我们在操作系统上搜索、安装、卸载和升级软件包或软件。类似于包管理器，也有插件或扩展。这些有助于扩展工具或程序的功能。插件或扩展最常见的例子是浏览器和集成开发环境(IDE ),如Visual Studio、IntelliJ Idea、Eclipse等。</p><p id="a1e3" class="pw-post-body-paragraph ki kj in kk b kl lh kn ko kp li kr ks kt lj kv kw kx lk kz la lb ll ld le lf ig bi translated">我希望你现在已经了解了插件和包管理器的内容。回到这篇博文的主题，我们将看看Krew，它是一个专门针对kubectl的包管理器。作为kubectl的插件管理器，Krew执行3项主要活动</p><ol class=""><li id="d505" class="lm ln in kk b kl lh kp li kt lo kx lp lb lq lf lr ls lt lu bi translated">发现kubectl插件</li><li id="cd6a" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf lr ls lt lu bi translated">将它们安装在您的机器上</li><li id="57ea" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf lr ls lt lu bi translated">保持插件最新</li></ol><p id="eae2" class="pw-post-body-paragraph ki kj in kk b kl lh kn ko kp li kr ks kt lj kv kw kx lk kz la lb ll ld le lf ig bi translated">在撰写本文时，krew发布了151个kubectl插件。Krew是跨平台的，可以在Windows、macOS和Linux上运行。请注意，有些插件只能在特定的操作系统上工作。</p><p id="657c" class="pw-post-body-paragraph ki kj in kk b kl lh kn ko kp li kr ks kt lj kv kw kx lk kz la lb ll ld le lf ig bi translated">在视频中，我们可以看到如何安装Krew和使用不同的插件。</p><figure class="ma mb mc md gt me"><div class="bz fp l di"><div class="mf mg l"/></div></figure><h1 id="3c50" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">Krew命令</h1><p id="1177" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">以下是视频中演示的一些与krew相关的命令</p><ul class=""><li id="f38f" class="lm ln in kk b kl lh kp li kt lo kx lp lb lq lf mh ls lt lu bi translated">krew install krew —在系统上安装krew</li><li id="4430" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf mh ls lt lu bi translated">kubectl krew列表—列出已安装的插件</li><li id="d373" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf mh ls lt lu bi translated">kubectl krew搜索—搜索可用插件</li><li id="8bc9" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf mh ls lt lu bi translated">ku bectl krew install[插件名称] —安装插件</li><li id="002b" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf mh ls lt lu bi translated">ku bectl krew info[插件名称] —获取关于插件的信息</li><li id="32c7" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf mh ls lt lu bi translated">kubectl krew卸载[插件名称] —卸载插件</li><li id="bdc7" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf mh ls lt lu bi translated">kubectl krew更新—更新插件的索引</li><li id="4b84" class="lm ln in kk b kl lv kp lw kt lx kx ly lb lz lf mh ls lt lu bi translated">kubectl krew升级—升级插件版本</li></ul><h1 id="211f" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">有用的Kubectl插件</h1><p id="386a" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在视频中，演示了这些插件。</p><h2 id="b8e3" class="mi jl in bd jm mj mk dn jq ml mm dp ju kt mn mo jy kx mp mq kc lb mr ms kg mt bi translated">豆荚状透镜</h2><p id="3ea4" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Pod-lens插件显示了与Pod相关的不同对象的层次结构，如名称空间、容器、与pod交互的服务、相关的永久卷声明(PVC)、机密等。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/ed1ccce54685e61dd775bdcd835b696f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*cumIkSLtdPwUUIiT.png"/></div></figure><p id="76a3" class="pw-post-body-paragraph ki kj in kk b kl lh kn ko kp li kr ks kt lj kv kw kx lk kz la lb ll ld le lf ig bi translated">输出显示了一个交互式选项，用于选择名称空间中的窗格。默认情况下，它显示所选pod的摘要，一旦我们选择了一个单独的pod，插件就会列出所有的依赖项。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/97add9190c4d622b3fba78e5f179258a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*sDW9gaoWwawwBlDg.png"/></div></figure><h2 id="516d" class="mi jl in bd jm mj mk dn jq ml mm dp ju kt mn mo jy kx mp mq kc lb mr ms kg mt bi translated">吊舱式潜水</h2><p id="ca96" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">吊舱式潜水提供了吊舱的最小视图。与pod-lens相比，它显示了pod的分层视图以及在同一节点上运行的同级pod。这对于了解某个特定pod当前计划运行的节点上正在运行什么其他pod非常方便。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/dc4db14d3979e4867c34461fcc21bddd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*kFydJ4_2_Fenv-rO.png"/></div></figure><h2 id="7e78" class="mi jl in bd jm mj mk dn jq ml mm dp ju kt mn mo jy kx mp mq kc lb mr ms kg mt bi translated">pod-检查</h2><p id="5fda" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">吊舱检查有点类似于吊舱潜水。它不是显示层次结构，而是以表格形式描述信息。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/656662ddc34a0bef720cefff14951071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*mcVnD4TSeoYV8HLu.png"/></div></figure><h2 id="8c20" class="mi jl in bd jm mj mk dn jq ml mm dp ju kt mn mo jy kx mp mq kc lb mr ms kg mt bi translated">形象</h2><p id="5e44" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我特别喜欢图片插件。它给出了Kubernetes集群中容器图像的信息。这对于了解集群中运行的所有映像以及这些映像的来源非常方便。在输出的顶部还有一个快速总结，列出了名称空间、窗格、容器和不同版本图像的数量。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/85d9e759b79068bd5d0311bea6783efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*FBcM13fQjrEn8DYm.png"/></div></figure><h2 id="4dbf" class="mi jl in bd jm mj mk dn jq ml mm dp ju kt mn mo jy kx mp mq kc lb mr ms kg mt bi translated">RBAC-视图</h2><p id="d50e" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">rbac-view插件提供了有关集群角色和角色的详细信息。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/1975bd7d7f424070fe2621788cfc16c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*hI3FCKeIuyl2vMAn.png"/></div></figure><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/92f6ad5ee347810a00b93e90b363a3f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*U_b0TdOSN3cqH45y.png"/></div></figure><h1 id="814e" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论</h1><p id="9f92" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Krew在使用插件扩展kubectl的功能时非常方便。这使得搜索、安装和管理插件变得更加容易。如果没有Krew，就很难知道有哪些插件可用以及如何保持更新。我在这里只展示了少数几个插件。如果你使用过任何其他的kubectl插件，并发现它很有用，请推荐使用Youtube视频或这篇博文上的评论。我很乐意听到观众/读者对krew和不同的kubectl插件的反馈。</p><p id="d198" class="pw-post-body-paragraph ki kj in kk b kl lh kn ko kp li kr ks kt lj kv kw kx lk kz la lb ll ld le lf ig bi translated">直到下一次，激情编码，精益求精。</p></div><div class="ab cl mx my hr mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ig ih ii ij ik"><p id="b6e4" class="pw-post-body-paragraph ki kj in kk b kl lh kn ko kp li kr ks kt lj kv kw kx lk kz la lb ll ld le lf ig bi translated"><em class="ne">原载于2021年8月29日</em><a class="ae lg" href="https://www.handsonarchitect.com/2021/08/how-to-manage-kubectl-plugins-using.html" rel="noopener ugc nofollow" target="_blank"><em class="ne">【https://www.handsonarchitect.com】</em></a><em class="ne">。</em></p></div></div>    
</body>
</html>