<html>
<head>
<title>Write better Python code by using f-strings</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 f 字符串编写更好的 Python 代码</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/write-better-python-code-by-using-f-strings-3c85c8d01f04?source=collection_archive---------6-----------------------#2021-10-22">https://blog.devgenius.io/write-better-python-code-by-using-f-strings-3c85c8d01f04?source=collection_archive---------6-----------------------#2021-10-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ebe6b5c4f31d47943ff72bfefd33ca7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8l6Vg5_nLXDVL_xi"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@hiteshchoudhary" rel="noopener ugc nofollow" target="_blank"> Hitesh Choudhary </a>在<a class="ae kc" href="https://unsplash.com/photos/D9Zow2REm8U" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</figcaption></figure><p id="c0e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在您了解 Python 中的 f 字符串之前，它们看起来可能有点奇怪。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="3e86" class="lk ll iq lg b gy lm ln l lo lp">print(f"Hello world, my name is {name}.")</span></pre><p id="bfaa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这看起来有点像是打印错误之类的。那是什么<code class="fe lq lr ls lg b">f</code>？它应该在那里吗？</p><p id="3116" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在 Python 中，它应该在那里。</p><p id="5cc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不过，上面的代码片段并不是全部。它需要更多一点:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="ba64" class="lk ll iq lg b gy lm ln l lo lp">name = "Trey"<br/>print(f"Hello world, my name is {name}.")</span></pre><p id="a956" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">啊，好吧。现在有点说得通了。<code class="fe lq lr ls lg b">{name}</code>将被替换为变量<code class="fe lq lr ls lg b">name</code>的值，在本例中为<code class="fe lq lr ls lg b">Trey</code>。因此，输出将是<code class="fe lq lr ls lg b">Hello world, my name is Trey.</code></p><p id="a1c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">f 字符串是格式化文本字符串的一种方式，它代表“格式化字符串”。顾名思义，它是 Eric V. Smith 在 2015 年推出的名为文字字符串插值的字符串格式化机制的代表。</p><p id="7314" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在出版的 PEP 498 中，史密斯写道:</p><blockquote class="lt lu lv"><p id="11b5" class="kd ke lw kf b kg kh ki kj kk kl km kn lx kp kq kr ly kt ku kv lz kx ky kz la ij bi translated">string 提供了一种在字符串中嵌入表达式的方法，使用了最少的语法。应该注意，f 字符串实际上是一个在运行时计算的表达式，而不是一个常数值。在 Python 源代码中，f-string 是一个文字字符串，以' f '为前缀，在大括号内包含表达式。表达式被替换为它们的值。</p></blockquote><p id="1134" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，Python 中还有一些其他的格式化方法，比如%-formatting(比如用字符串值替换<code class="fe lq lr ls lg b">%s</code>)和<code class="fe lq lr ls lg b">str.format()</code>，但是限制(%-formatting 只能处理 int、str 和 doubles)以及冗长等问题使得 f-string 在许多情况下更有吸引力。</p><p id="9330" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果你想格式化字符串，写一些更好的 Python 代码，那么我高度鼓励 f 字符串。</p><div class="ma mb gp gr mc md"><a href="https://tremaineeto.medium.com/membership" rel="noopener follow" target="_blank"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">通过我的推荐链接加入媒体</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">tremaineeto.medium.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr jw md"/></div></div></a></div></div></div>    
</body>
</html>