<html>
<head>
<title>Add Charts into Our React App with Victory — Bar Colors and Labels</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Victory 将图表添加到我们的 React 应用程序中—条形图颜色和标签</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-bar-colors-and-labels-6190c78c0a70?source=collection_archive---------9-----------------------#2021-04-12">https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-bar-colors-and-labels-6190c78c0a70?source=collection_archive---------9-----------------------#2021-04-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/52e6498b6d302e76c52a1712d127300a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NyK0N0AfE3XcIJC-"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图片由<a class="ae kc" href="https://unsplash.com/@xangriffin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Xan Griffin </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7be0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">胜利让我们能够将图表和数据可视化添加到 React 应用程序中。</p><p id="35db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用 Victory 将图表添加到 React 应用程序中。</p><h1 id="f477" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">更改条形图颜色</h1><p id="da45" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">VictoryStack</code>组件的<code class="fe me mf mg mh b">colorScale</code>属性改变条形的颜色。</p><p id="3fba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="80d1" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import {<br/>  VictoryBar,<br/>  VictoryChart,<br/>  VictoryAxis,<br/>  VictoryStack,<br/>  VictoryTheme<br/>} from "victory";</span><span id="a950" class="mq lc iq mh b gy mv ms l mt mu">const data2018 = [<br/>  { quarter: 1, earnings: 13000 },<br/>  { quarter: 2, earnings: 16500 },<br/>  { quarter: 3, earnings: 14250 },<br/>  { quarter: 4, earnings: 19000 }<br/>];</span><span id="ed97" class="mq lc iq mh b gy mv ms l mt mu">const data2019 = [<br/>  { quarter: 1, earnings: 15000 },<br/>  { quarter: 2, earnings: 12500 },<br/>  { quarter: 3, earnings: 19500 },<br/>  { quarter: 4, earnings: 13000 }<br/>];</span><span id="820e" class="mq lc iq mh b gy mv ms l mt mu">const data2020 = [<br/>  { quarter: 1, earnings: 11500 },<br/>  { quarter: 2, earnings: 13250 },<br/>  { quarter: 3, earnings: 20000 },<br/>  { quarter: 4, earnings: 15500 }<br/>];</span><span id="c02c" class="mq lc iq mh b gy mv ms l mt mu">const data2021 = [<br/>  { quarter: 1, earnings: 18000 },<br/>  { quarter: 2, earnings: 13250 },<br/>  { quarter: 3, earnings: 15000 },<br/>  { quarter: 4, earnings: 12000 }<br/>];</span><span id="88bf" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;VictoryChart domainPadding={20}&gt;<br/>      &lt;VictoryAxis<br/>        tickValues={[1, 2, 3, 4]}<br/>        tickFormat={["Quarter 1", "Quarter 2", "Quarter 3", "Quarter 4"]}<br/>      /&gt;<br/>      &lt;VictoryAxis dependentAxis tickFormat={(x) =&gt; `$${x / 1000}k`} /&gt;<br/>      &lt;VictoryStack colorScale="warm"&gt;<br/>        &lt;VictoryBar data={data2018} x="quarter" y="earnings" /&gt;<br/>        &lt;VictoryBar data={data2019} x="quarter" y="earnings" /&gt;<br/>        &lt;VictoryBar data={data2020} x="quarter" y="earnings" /&gt;<br/>        &lt;VictoryBar data={data2021} x="quarter" y="earnings" /&gt;<br/>      &lt;/VictoryStack&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><h1 id="1da9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">添加条形图标签</h1><p id="ef59" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9386" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { Bar, VictoryBar, VictoryChart, VictoryTooltip } from "victory";</span><span id="4787" class="mq lc iq mh b gy mv ms l mt mu">const data = [<br/>  { x: 1, y: 13000 },<br/>  { x: 2, y: 16500 },<br/>  { x: 3, y: 14250 },<br/>  { x: 4, y: 19000 }<br/>];</span><span id="0bb2" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;VictoryChart domainPadding={{ x: 40, y: 40 }}&gt;<br/>      &lt;VictoryBar<br/>        style={{ data: { fill: "#c43a31" } }}<br/>        data={data}<br/>        labels={({ datum }) =&gt; `y: ${datum.y}`}<br/>        labelComponent={&lt;VictoryTooltip /&gt;}<br/>        dataComponent={<br/>          &lt;Bar tabIndex={0} ariaLabel={({ datum }) =&gt; `x: ${datum.x}`} /&gt;<br/>        }<br/>      /&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><p id="c199" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过设置<code class="fe me mf mg mh b">labels</code>属性从<code class="fe me mf mg mh b">datum</code>属性获取数据来呈现条形图。</p><p id="85c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过设置<code class="fe me mf mg mh b">arialLabel</code>道具对 x 轴做同样的事情。</p><p id="3058" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还设置了<code class="fe me mf mg mh b">labelComponent</code>道具，当鼠标悬停在工具栏上时，它会为工具栏添加一个工具提示，以显示其值。</p><h1 id="3bf5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">标签的背景</h1><p id="1acb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用<code class="fe me mf mg mh b">VictoryLabel</code>组件来添加样式栏标签。</p><p id="ef84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b7dd" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { Bar, VictoryBar, VictoryChart, VictoryLabel } from "victory";</span><span id="e76d" class="mq lc iq mh b gy mv ms l mt mu">const data = [<br/>  { x: 1, y: 13000, label: "first label" },<br/>  { x: 2, y: 16500, label: "second label" },<br/>  { x: 3, y: 14250, label: "3rd label" },<br/>  { x: 4, y: 19000, label: "4th label" }<br/>];</span><span id="b209" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;VictoryChart domainPadding={{ x: 40, y: 40 }}&gt;<br/>      &lt;VictoryBar<br/>        style={{ data: { fill: "#c43a31" } }}<br/>        data={data}<br/>        labels={({ datum }) =&gt; `y: ${datum.y}`}<br/>        labelComponent={<br/>          &lt;VictoryLabel<br/>            dy={-20}<br/>            backgroundStyle={{ fill: "tomato", opacity: 0.6 }}<br/>            backgroundPadding={{ bottom: 5, top: 5, left: 10, right: 10 }}<br/>          /&gt;<br/>        }<br/>        dataComponent={<br/>          &lt;Bar tabIndex={0} ariaLabel={({ datum }) =&gt; `x: ${datum.x}`} /&gt;<br/>        }<br/>      /&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><p id="ae31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加<code class="fe me mf mg mh b">VictoryLabel</code>组件，用我们想要的样式设置<code class="fe me mf mg mh b">backgroundStyle</code>和<code class="fe me mf mg mh b">backgroundPadding</code>道具。</p><p id="082f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">label</code>属性将自动显示为标签文本。</p><h1 id="f883" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="72f5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在我们的 React 应用程序 with Victory 中自定义带有标签和颜色的条形图。</p></div></div>    
</body>
</html>