<html>
<head>
<title>Day 102 of Game Dev: Unity New Input System — Tap or Hold for Higher Jumps!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发的第 102 天:Unity 新输入系统——点击或按住以获得更高的跳跃！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-102-of-game-dev-unity-new-input-system-tap-or-hold-for-higher-jumps-584b33daedae?source=collection_archive---------8-----------------------#2022-07-17">https://blog.devgenius.io/day-102-of-game-dev-unity-new-input-system-tap-or-hold-for-higher-jumps-584b33daedae?source=collection_archive---------8-----------------------#2022-07-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="9332" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目标:</strong>展示使用新的输入系统可以获得的一些数据，以创建特定的效果。</p><p id="987d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里的最终结果不会是一个抛光跳跃机制或超时加速机制。相反，这里的主要目标是向您展示如何获取一些有用的数据来为您的项目创建这些特性。</p><p id="3ad9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我将创建一个新的动作图，创建一个名为 bounce 的动作，并在交互中添加 hold。并确保绑定设置为空格键。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d403a098fd4f55eae7adf18180aea2f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cixvNrxOXEiICVCwkG_KJg.png"/></div></div></figure><p id="f93b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">记住，一定要保存资产。</p><p id="1e2b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">同样在检查器中，确保生成一个 C#类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/e08086715a53dcae8278a7611e529da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*zQ2XcGpwazZzSrlJq8PYMw.png"/></div></figure><p id="40a7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我将创建一个新的脚本并附加到我的球体上。我给剧本作者打电话。</p><p id="3bba" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了完成一些设置，我将确保有一个对我的 PlayerInputActions(输入动作资产)的引用。启用我的操作图，并创建分配给已执行事件的方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kv"><img src="../Images/fc66702085c77b51c7fa8bb59e745243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*spN_fWYL1mkE4S2oUYPV5g.png"/></div></div></figure><p id="a3d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请记住，您可以在+=后单击 tab，这样它会为您创建基本方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kw"><img src="../Images/331232cf8dd9ca5e00250dc8c8392e95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Nn4knDImib8xO4_2wiDjYw.gif"/></div></div></figure><p id="01a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 Bounce_performed 方法中，我将对球体上的 rb 施加向上的力。(也请确保将这个脚本附加到您的游戏对象上)</p><p id="be54" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到目前为止，如果我们按住空格键，我们将继续增加我们的领域的力量。请记住，我们不是像您通常会做的那样检查跳转或重置跳转。这只是一个例子。</p><p id="9601" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们想要一个更小的跳跃，如果我们按住空格键更少的时间呢？</p><p id="a5a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">利用取消的事件，我们可以很容易地得到这些信息，而不需要我们自己做任何疯狂的计算。取消的事件检查我们是否停止压制空间。</p><p id="365f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个脚本中，我们执行了事件设置。这是检查是否正在执行按住空格键。它开始时的值是 0，然后逐渐上升，直到被认为保持为 1。如果我们每次按住空格都得到中间值，那么我们可以将它乘以我们的力，这将根据我们按住它的时间给我们一个或大或小的跳跃。</p><p id="afb2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将创建一个方法，并将其分配给取消的事件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/13bbb5874fae4897ab508acf91210d98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*DlPEQamVe_GSPEGiHxwsxQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ky"><img src="../Images/89c68e7d3a6d6d2347357a7141a4a9d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*unwcR7yiiHuT-n_tX_n7Sg.png"/></div></div></figure><p id="d2c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在该方法中，您会注意到有一个参数被传入。默认情况下，它被命名为 obj，但是我将 mine 重命名为 context 作为 preference。你做你的。无论哪种方式，该数据都包含被调用操作的当前值。您可能会注意到，在上下文数据中有与按钮被按住的持续时间相关的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/58906137cf84609cc420282b37300b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*GATkR_FQrY8sVs8FxrJAZA.png"/></div></figure><p id="0875" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以把它保存到一个变量中，在 canceled 事件方法中，我们可以增加力，但是力要乘以它被保持的时间。基本上就是说，如果它保持的时间比最大值短，也就是说，这个方法处理的时间比最大值短，那么这个力的倍数就会比最大值小。意思是少跳一跳。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ky"><img src="../Images/89c68e7d3a6d6d2347357a7141a4a9d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*unwcR7yiiHuT-n_tX_n7Sg.png"/></div></div></figure><p id="5473" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上下文持续时间数据是双精度的，因此在这个实现中，您必须将它转换为一个浮点型，这不会造成任何伤害。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi la"><img src="../Images/88c43b177b1b926b9df56978051191c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*76PWKMgcluhms8B2Mc4CUw.png"/></div></div></figure><p id="1301" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是两种方法(执行和取消)。我希望这能帮助你想象我们在这里做了什么。请记住，这种精确的实现可能不适合您，但我希望这有助于学习如何获得一些“中间”数据，以创建一些您将使用新输入系统的功能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lb"><img src="../Images/1e12b184dfc074e27a7c42c38cb59702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4deV7nRS8Wv4S61k5EWLWw.gif"/></div></div></figure><p id="1a36" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="lc">如果您有任何问题、更正或想法，请随时评论。让我们制作一些令人敬畏的游戏！</em>T3】</strong></p></div></div>    
</body>
</html>