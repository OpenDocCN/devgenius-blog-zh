<html>
<head>
<title>BootstrapVue — Open and Close Modals</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BootstrapVue —打开和关闭模式</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/bootstrapvue-open-and-close-modals-489a6cd0f908?source=collection_archive---------8-----------------------#2020-07-08">https://blog.devgenius.io/bootstrapvue-open-and-close-modals-489a6cd0f908?source=collection_archive---------8-----------------------#2020-07-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/62b3631724ae2d63fcac41025c0438a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1OluruWSz0IUtXGj"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com/@wolfgang_hasselmann?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Wolfgang Hasselmann </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="9317" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了制作好看的 Vue 应用，我们需要设计组件的样式。</p><p id="4049" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使我们的生活更容易，我们可以使用内置样式的组件。</p><p id="6d6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何打开和关闭模态组件。</p><h1 id="6cee" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">The v-b-modal</code>指令</h1><p id="6964" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lz ma mb mc b">v-b-modal</code>来打开一个模态。</p><p id="eba7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以接受一个修饰符或 ID 字符串作为模态 ID。</p><p id="e60c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="27f2" class="mq lc iq mc b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-button v-b-modal.modal&gt;open&lt;/b-button&gt;<br/>    &lt;b-modal id="modal" title="Hello"&gt;<br/>      &lt;p&gt;Hello!&lt;/p&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="7bea" class="mq lc iq mc b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="d132" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="5e68" class="mq lc iq mc b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-button v-b-modal="'modal'"&gt;open&lt;/b-button&gt;<br/>    &lt;b-modal id="modal" title="Hello"&gt;<br/>      &lt;p&gt;Hello!&lt;/p&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="1547" class="mq lc iq mc b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="b0e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须用引号将字符串作为<code class="fe lz ma mb mc b">v-b-modal</code>的值传入。</p><p id="e3b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">两个示例中的按钮都打开了模态。</p><h1 id="ecb2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">以编程方式打开和关闭模式</h1><p id="f4c6" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lz ma mb mc b">this.$bvModal.show()</code>和<code class="fe lz ma mb mc b">this.$bvModal.hide()</code>分别打开和关闭模态。</p><p id="bfb7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们注册 BootstrapVue 插件或<code class="fe lz ma mb mc b">ModalPlugin</code>时，它们就可用了。</p><p id="8a0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="1b3b" class="mq lc iq mc b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-button @click="$bvModal.show('modal')"&gt;Open&lt;/b-button&gt;</span><span id="86d4" class="mq lc iq mc b gy mv ms l mt mu">    &lt;b-modal id="modal" hide-footer&gt;<br/>      &lt;template v-slot:modal-title&gt;Hello&lt;/template&gt;<br/>      &lt;div&gt;<br/>        &lt;h3&gt;Hello!&lt;/h3&gt;<br/>      &lt;/div&gt;<br/>      &lt;b-button block @click="$bvModal.hide('modal')"&gt;Close&lt;/b-button&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="6f08" class="mq lc iq mc b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="34f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有了用<code class="fe lz ma mb mc b">$bvModal.show</code>方法打开的<code class="fe lz ma mb mc b">b-modal</code>组件。</p><p id="fa6a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传入模态的 ID 来打开它。</p><p id="6a8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们调用了<code class="fe lz ma mb mc b">$bvModal.hide</code>来隐藏模态。</p><p id="38c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也在那里传递 ID。</p><h1 id="0b72" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">显示、隐藏和切换方法</h1><p id="3f6b" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">BootstrapVue 型号也可以用<code class="fe lz ma mb mc b">show</code>方法打开。</p><p id="e9c4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以用<code class="fe lz ma mb mc b">hide</code>方法隐藏。</p><p id="60a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且可以用<code class="fe lz ma mb mc b">toggle</code>方法打开和关闭。</p><p id="f799" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="cf73" class="mq lc iq mc b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-button id="show-btn" @click="showModal"&gt;Open&lt;/b-button&gt;<br/>    &lt;b-button id="toggle-btn" @click="toggleModal"&gt;Toggle&lt;/b-button&gt;</span><span id="bbbc" class="mq lc iq mc b gy mv ms l mt mu">    &lt;b-modal ref="modal" hide-footer title="Hello"&gt;<br/>      &lt;div&gt;<br/>        &lt;h3&gt;Hello&lt;/h3&gt;<br/>      &lt;/div&gt;<br/>      &lt;b-button block @click="hideModal"&gt;Close&lt;/b-button&gt;<br/>      &lt;b-button block @click="toggleModal"&gt;Toggle&lt;/b-button&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="63dd" class="mq lc iq mc b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  methods: {<br/>    showModal() {<br/>      this.$refs["modal"].show();<br/>    },<br/>    hideModal() {<br/>      this.$refs["modal"].hide();<br/>    },<br/>    toggleModal() {<br/>      this.$refs["modal"].toggle("#toggle-btn");<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="cd12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一些方法叫做模态的 ref 来打开和关闭它。</p><p id="5850" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">b-modal</code>的<code class="fe lz ma mb mc b">ref</code>道具设置参考名称。</p><p id="9718" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在方法中，我们可以使用<code class="fe lz ma mb mc b">this.$refs</code>通过它的引用名来获取模态。</p><p id="4377" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们访问了 ref，我们就可以调用 ref 上的<code class="fe lz ma mb mc b">show</code>、<code class="fe lz ma mb mc b">hide</code>和<code class="fe lz ma mb mc b">toggle</code>方法。</p><p id="0306" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于<code class="fe lz ma mb mc b">toggle</code>方法，我们必须为让我们切换模态的按钮传递选择器。</p><h1 id="a7b0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">v 型车</h1><p id="d51f" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">b-modal</code>组件可以通过<code class="fe lz ma mb mc b">v-model</code>指令绑定到一个模型。</p><p id="742c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它会将模态的可见状态绑定到状态变量。</p><p id="93e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="de33" class="mq lc iq mc b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-button @click="modalShow = !modalShow"&gt;Open&lt;/b-button&gt;</span><span id="3c87" class="mq lc iq mc b gy mv ms l mt mu">    &lt;b-modal v-model="modalShow"&gt;{{modalShow}}&lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="c752" class="mq lc iq mc b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      modalShow: false<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="a61a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe lz ma mb mc b">modalShow</code>状态，我们用<code class="fe lz ma mb mc b">v-modal</code>将它绑定到模态状态。</p><p id="4d56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果打开，<code class="fe lz ma mb mc b">modalShow</code>将成为<code class="fe lz ma mb mc b">true</code>，否则将成为<code class="fe lz ma mb mc b">false</code>。</p><p id="d051" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以当我们打开模态的时候，内容会是‘真’的。</p><h1 id="1398" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">作用域插槽方法</h1><p id="8c15" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以在<code class="fe lz ma mb mc b">$root</code>上发出<code class="fe lz ma mb mc b">bv::show::modal</code>、<code class="fe lz ma mb mc b">bv::hide::modal</code>和<code class="fe lz ma mb mc b">bv::toggle::modal</code>来控制模态的打开和关闭。</p><p id="dbaf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="2c76" class="mq lc iq mc b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-button @click="showModal" ref="btnShow"&gt;Open&lt;/b-button&gt;<br/>    &lt;b-button @click="toggleModal" ref="btnToggle"&gt;Toggle&lt;/b-button&gt;</span><span id="e77f" class="mq lc iq mc b gy mv ms l mt mu">    &lt;b-modal id="modal"&gt;<br/>      &lt;div class="d-block"&gt;Hello&lt;/div&gt;<br/>      &lt;b-button @click="hideModal"&gt;Close&lt;/b-button&gt;<br/>      &lt;b-button @click="toggleModal"&gt;Toggle&lt;/b-button&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="3187" class="mq lc iq mc b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  methods: {<br/>    showModal() {<br/>      this.$root.$emit("bv::show::modal", "modal", "#btnShow");<br/>    },<br/>    hideModal() {<br/>      this.$root.$emit("bv::hide::modal", "modal", "#btnShow");<br/>    },<br/>    toggleModal() {<br/>      this.$root.$emit("bv::toggle::modal", "modal", "#btnToggle");<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="b0f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在模态之外有 2 个按钮来打开和切换模态。</p><p id="d9d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在每个按钮上设置了 ref，这样我们就可以将它们用作<code class="fe lz ma mb mc b">$emit</code>方法的第三个参数。</p><p id="6b3d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以控制模态的打开状态。</p><p id="d594" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数是模态的 ref。</p><p id="7075" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦事件被发出，我们就可以显示、隐藏或切换模态。</p><p id="acbc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">bv::show::modal</code>事件显示了它发出时的模态。</p><p id="a4fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">bv::hide::modal</code>事件在发出时隐藏了模态。</p><p id="aa1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe lz ma mb mc b">bv::toggle::modal</code>事件在发出时切换模态。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/4627926718fa98072b64323c97f1df87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hWzLqeowxkHA3cjG"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@niko_photos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> niko photos </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="132e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="974a" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以控制模型和如何以各种方式打开和关闭，包括发出事件和调用内置方法。</p></div></div>    
</body>
</html>