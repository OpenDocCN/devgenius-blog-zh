<html>
<head>
<title>My checklist for setting up a Java Web project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我设置Java Web项目的清单</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/my-checklist-for-setting-up-a-java-web-project-e03ffcbab268?source=collection_archive---------0-----------------------#2021-02-12">https://blog.devgenius.io/my-checklist-for-setting-up-a-java-web-project-e03ffcbab268?source=collection_archive---------0-----------------------#2021-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ef5cdbc38e6f60a8744205203d3d24b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*liDh9c5UJmkqFyLahdDOhw.jpeg"/></div></div></figure><h2 id="48cf" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">介绍</h2><p id="bfcd" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">尽管现在有很多工具和特性可以帮助你轻松地设置一个项目，但是要正确地设置它还有很多工作要做。当我开始一个新的Java项目时，我肯定会遇到这种情况。如今，构建一个新的Java项目似乎很容易，没有痛苦(参见下面关于Spring的部分),但是要使项目处于一个非常好的可用状态，即可发布、可部署、生产就绪，并且有良好的测试设置，肯定需要做一些额外的工作。</p><p id="f71f" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">在这篇文章中，我将详细介绍我的个人清单，上面列有我确保在新的Java项目中完成和包含的所有内容。</p><p id="7ecc" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">没有进一步做，这是:</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="6ee6" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">1.创建您的GitHub Repo</h2><p id="a46b" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">遵循最佳软件开发实践，您应该始终将源代码存储在版本控制系统(VCS)中。现在大多数人使用的一个普通VCS是GitHub，因为它是世界上最大的在线源代码管理服务提供商。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mb"><img src="../Images/988f9bd9b1a30610905f401c5eb6345b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BaPFopT1j81z8m8-.png"/></div></div></figure><p id="73e0" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">这方面其他常见的VCS有GitLab、BitBucket等。</p><p id="e637" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">但我倾向于在工作和个人项目中大量使用GitHub，所以我确保在开始任何类型的新项目时，我做的第一件事就是在GitHub上为它创建一个新的源代码库。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="e97d" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">2.用弹簧？安装弹簧！—不用弹簧？然后用弹簧</h2><p id="c1ed" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">如果你正在用Java开发，你肯定想使用一个应用程序框架。目前最主要的Java应用程序框架之一是Spring。所以需要确保设置好Spring！</p><p id="d0e1" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">现在这很容易做到。如今，大多数人使用Spring Boot来构建Java web应用程序，每当我需要启动一个新的Java web应用程序时，我也不例外。</p><p id="3661" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">不需要像以前一样在Maven <code class="fe mg mh mi mj b">pom</code>文件中手动配置Spring依赖项，但是如果你真的想使用Spring框架而不是Spring Boot，没有什么可以阻止你。</p><p id="e384" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">因此，假设您还想将Spring Boot用于您的Java项目，您可以通过使用Spring的Spring Initializr轻松创建一个Spring Boot项目的基本设置。</p><div class="mk ml gp gr mm mn"><a href="https://start.spring.io/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">弹簧初始化r</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">Initializr生成的spring boot项目正好是你快速启动所需要的！</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">start.spring.io</p></div></div><div class="mw l"><div class="mx l my mz na mw nb jw mn"/></div></div></a></div><p id="6ec5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">Spring Initialzer使您能够轻松地创建一个新的Spring Boot项目。</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/ddb0d727e4f367f8653e6b1027691e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tzv_nOAhWHNI3eFZ.png"/></div></div></figure><p id="f93a" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">当你在<strong class="kw ir"> Spring Initializr </strong>中为你的Spring Boot应用程序选择完你想要的特性后…</p><p id="8673" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">点击“生成”按钮下载项目。</p><p id="0e6a" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">项目目录结构</strong></p><p id="08fc" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">这是您解压缩下载的zip文件时的项目目录结构。</p><pre class="mc md me mf gt nd mj ne nf aw ng bi"><span id="975e" class="jy jz iq mj b gy nh ni l nj nk">colinbut@colins-mbp-2 $ /demo tree                                                                                                                                          <br/>.<br/>├── HELP.md<br/>├── mvnw<br/>├── mvnw.cmd<br/>├── pom.xml<br/>└── src<br/>    ├── main<br/>    │   ├── java<br/>    │   │   └── com<br/>    │   │       └── example<br/>    │   │           └── demo<br/>    │   │               └── DemoApplication.java<br/>    │   └── resources<br/>    │       ├── application.properties<br/>    │       ├── static<br/>    │       └── templates<br/>    └── test<br/>        └── java<br/>            └── com<br/>                └── example<br/>                    └── demo<br/>                        └── DemoApplicationTests.java</span></pre><p id="f6ce" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">从上面可以看到；你已经有一个“现成的”项目让你去做。</p><p id="d819" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">此外，它可以在本地轻松启动，您可以直接将其投入生产。虽然它没有太多的东西，因为它只是一个样本框架项目。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="52a5" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">3.设置单元测试</h2><p id="ec55" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">要用Java进行单元测试，您需要JUnit框架。在一个基于Maven的项目中，您使用一个<code class="fe mg mh mi mj b">pom</code>文件来管理您的依赖项，您可以很容易地将JUnit依赖项添加到依赖项列表中。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="001c" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><em class="nn">注意1: Spring Boot已经包含了JUnit依赖项，作为它自己的一个Spring模块的可传递依赖项，所以你不需要添加上面的内容。然而，如果你出于某种原因不使用Spring Boot，那么你可以添加上述内容。此外，无论出于什么原因，如果您要覆盖一个特定的JUnit依赖版本，那么请确保您从包含它的现有Spring依赖中排除了JUnit依赖。</em></p><p id="0557" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><em class="nn">注2:作为个人偏好，我喜欢使用JUnit版本4，因为它已经稳定了很多年，是我最喜欢的版本。然而，最新的Spring Boot依赖包括JUnit 5，虽然JUnit 5已经公开发布了好几年，但在我个人看来，它仍然不太稳定。</em></p><p id="6f05" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">此外，我喜欢使用Mockito进行模仿，所以我也包含了Mockito依赖项。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="e793" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">同样，Spring Boot属地也包括莫奇托。</p><p id="35be" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">有时，我可能需要使用Powermock库来帮助我模仿私有和静态方法。因此，如果我需要这些库，我也会包括它们。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="77c0" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">然而，作为一个读者，你可能会想，我究竟为什么要用Powermock来模仿私有和静态方法，因为模仿私有和静态方法暗示着低质量的编码和糟糕的代码设计。这是真的，我当然不能和你争论，因为我也有同样的信念。</p><p id="71c5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">但是，有时会出现这种特殊情况，您需要模仿私有和静态方法来帮助您进行单元测试(或集成测试)。</p><p id="4acd" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">无论如何，关于是否模仿私有和静态方法的讨论不在本文的范围之内。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="d1d8" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">4.设置集成测试</h2><p id="3ff2" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">总的来说，集成测试非常广泛，因为它可以跨越和覆盖许多不同的维度。例如，我将在接下来的两节中谈到的E2E测试和API测试也可以归类为集成测试，或者至少是集成测试的一个子集。</p><p id="7514" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">如果您正在使用Spring Boot(如果您没有，我鼓励您这样做)，那么您可以使用Spring附带的Spring测试框架。它有许多很酷的特性，可以让你用基于Java的Spring Boot应用程序进行集成测试。</p><p id="eb39" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我做的第一件事就是确保添加了Spring Test依赖项:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="833e" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我已经写了一篇关于Spring集成测试的文章，对此做了更多的解释:</p><div class="mk ml gp gr mm mn"><a href="https://colin-but.medium.com/integration-testing-in-spring-3c5cdcadf65e" rel="noopener follow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">春季集成测试</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">首先，集成测试是一个非常广泛的话题，因为构成集成测试的总是…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">colin-but.medium.com</p></div></div><div class="mw l"><div class="no l my mz na mw nb jw mn"/></div></div></a></div></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="8d63" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">5.设置E2E测试</h2><p id="5c58" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">这个步骤可以根据你决定使用什么样的工具来做“结束2结束”(E2E)测试而有所不同。也要看你打算怎么做。毕竟，E2E是上述更广泛的集成测试的一个子集。正如你刚刚看到的，根据你决定使用什么工具、技术、软件库、框架，集成测试可能真的很难设置。</p><p id="2d5b" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">对我来说，我喜欢将E2E测试具体分类，因为我主要喜欢将特定的E2E测试与更广泛的通用集成测试(位于传统测试金字塔中间的测试)分开。</p><p id="9261" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我常用的框架是黄瓜🥒。</p><p id="50b7" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">Cucumber是一个行为驱动设计(BDD)测试工具。我不会过多地讨论BDD，但简单地说，BDD旨在解决TDD给出的问题，BDD是一种更广泛、更高级的测试优先方法，它旨在编写E2E测试作为验收标准，并结合以人类可读的类似英语的语言编写这些测试规范(即使是业务分析师— BA也可以编写)—也就是黄瓜世界中的小黄瓜。</p><p id="c51a" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">黄瓜源于红宝石。但是由于我的项目是Java，所以我使用Cucumber的Java端口—即Cucumber-JVM。注意，对于其他编程语言也有许多其他的端口。</p><p id="1629" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">就像包含JUnit库的单元测试一样，在使用Cucumber-JVM的E2E测试中，您也可以包含Cucumber-JVM依赖项。</p><p id="6350" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">下面是一些向Maven <code class="fe mg mh mi mj b">pom</code>文件添加依赖项的例子:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="c122" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">如果您使用的是Java 8:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="5e5f" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">就是这样。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="baea" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">6.设置API测试</h2><p id="12df" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">在微服务时代，您很可能正在开发一个基于后端Java web的微服务，它公开了一组API端点，使微服务能够充当web服务。然而，即使您不是，并且您只是在构建一个简单的基于Java web的应用程序，进行API测试总是好的(如果您的应用程序公开API的话)。</p><p id="d14b" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">至此，我们应该已经有了单元测试、集成测试和端到端系统测试所需的设置。</p><p id="2300" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">因为您的API是您提供给最终用户的接口，所以测试它们也是一个好主意。</p><p id="2dae" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">要在Java中做到这一点，您可以使用放心库。</p><div class="mk ml gp gr mm mn"><a href="https://rest-assured.io/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">放心</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">用Java测试和验证REST服务比用Ruby和Groovy等动态语言更难。放心吧…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">放心吧io</p></div></div></div></a></div><p id="e763" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我非常喜欢这个库，因为它通过使用编程技术(如Java中的方法链接和使用Fluent接口)提供了一种非常描述性的测试编程方式。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="0c8c" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">7.设置UI测试— selenium</h2><p id="5c2e" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">如果你纯粹是开发一个后端Java Spring Boot微服务，那么你可以跳过这一步。此步骤仅适用于包含UI/视图的Java web应用程序。例如，如果您正在开发一个包含静态资源(如嵌入在Java代码库中的HTML/CSS/JS)的整体Java web应用程序，那么进行UI测试可能是一个好主意。</p><p id="e4c7" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我过去使用的一个常见的UI软件测试工具是Selenium。</p><p id="f1c4" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">硒很重。正确设置Selenium可能非常繁琐和复杂。</p><p id="dac7" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我倾向于用FluentLenium来代替:</p><div class="mk ml gp gr mm mn"><a href="https://fluentlenium.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">氟碲酸盐</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">FluentLenium是一个React ready网站自动化框架，它扩展了Selenium来编写可读的、可重用的、可靠的…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">fluentlenium.com</p></div></div><div class="mw l"><div class="np l my mz na mw nb jw mn"/></div></div></a></div><p id="475a" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">并包含所需的依赖关系:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="cf63" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">8.具有静态代码分析的高质量代码</h2><p id="d16c" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">作为一名开发人员，我喜欢我的代码质量好。</p><p id="9964" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">所以我也为我的Java项目启用了静态代码分析。这个领域的工具多种多样，但最流行的可能是使用SonarQube的声纳。</p><div class="mk ml gp gr mm mn"><a href="https://www.sonarqube.org/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">代码质量和代码安全性| SonarQube</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">数以千计的自动化静态代码分析规则，在多个方面保护您的应用程序，并指导您的团队。接住…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">www.sonarqube.org</p></div></div><div class="mw l"><div class="nq l my mz na mw nb jw mn"/></div></div></a></div><p id="efd6" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我不会详细说明如何准备声纳，因为有几种方法可以剥这只猫的皮。毕竟，声纳是一个相当重型的工具。</p><p id="08bd" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">但是一般来说，我确保我选择的CI工具可以运行Sonar。使用Maven运行Sonar非常容易，因为您只需要这个命令(假设您的Sonar配置都设置正确):</p><pre class="mc md me mf gt nd mj ne nf aw ng bi"><span id="480d" class="jy jz iq mj b gy nh ni l nj nk">mvn sonar:sonar</span></pre></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="8fb6" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">9.实施CI/CD</h2><p id="72ab" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">持续集成(CI)是一个庞大的话题。有如此多的CI/CD解决方案，我无法一一介绍。</p><p id="eaec" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我通常只选择一个(或者两个，如果这是我的个人项目，或者当我想在以后灵活地切换到另一个CI解决方案时)CI解决方案，然后进行必要的配置。</p><p id="672b" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">如今，随着每个人都采用管道作为CI(以及CD)的代码，您所需要的配置仅仅是一个配置管道定义文件。</p><p id="67c5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我通常为我的Java项目选择Jenkins，所以我会放入如下的<code class="fe mg mh mi mj b">Jenkinsfile</code>:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="1f06" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">对于我的其他一些更现代的项目，我喜欢尝试GitHub动作，因为它与GitHub(我使用的VCS)捆绑在一起，易于集成。</p><p id="3c21" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我将添加一个GitHub操作工作流文件，如下所示:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="9615" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">注意，从上面的例子中，我将我的应用程序管道建模为传统的“DevOps管道”,就像Jenkins的<code class="fe mg mh mi mj b">Jenkinsfile</code>例子一样。</p><p id="ac1c" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">GitHub Actions的最佳实践可能是将您需要作为SDLC管道的一部分运行的每个任务定义为单独的工作流。</p><p id="0a58" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">底线是每个CI/CD解决方案都有自己的做事方式，因此相应地改变您的CI/CD配置/管道代码。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="63b7" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">10.配置日志记录</h2><p id="b92a" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">任何好的应用程序都需要就地登录。你应该使用日志记录器来记录消息，而不是在Java中使用<code class="fe mg mh mi mj b">System.out.print</code>。事实上，这适用于任何编程语言，而不仅仅是Java。例如，不要在Python中使用<code class="fe mg mh mi mj b">print</code>，而是使用Python的<code class="fe mg mh mi mj b">logging</code>核心库。</p><p id="33dc" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">如果你使用Spring Boot，那么日志是免费的，因为Spring Boot会导入日志依赖项。</p><p id="99b8" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">如果您不是，或者您想要使用特定的日志库或框架，那么您可以直接将依赖项添加到Maven <code class="fe mg mh mi mj b">pom</code>文件中。例如，我非常喜欢使用SLF4J作为Log4J的抽象，因为它允许我在将来的某一天，如果我想使用不同的日志库(比如说，LogBack)，可以很容易地交换掉Log4J。</p><div class="mk ml gp gr mm mn"><a href="http://www.slf4j.org/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">SLF4J</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">Java的简单日志门面(SLF4J)作为各种日志框架的简单门面或抽象…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">www.slf4j.org</p></div></div></div></a></div><p id="632f" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">以下是我将添加到我的Maven <code class="fe mg mh mi mj b">pom</code>文件中的依赖项:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2391" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">有时您可能需要覆盖或提供自定义日志记录设置。为此，例如，如果您使用Log4j，那么您可以将<code class="fe mg mh mi mj b">log4j.properties</code>配置文件插入到您的项目中。</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2114" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">设置日志记录器来记录消息的好处之一是，您可以配置您的应用程序，将您的日志推送到一个集中的日志记录解决方案，如Elastic (ELK) Stack、Splunk、Sumo Logic或任何其他解决方案…</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="c440" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">11.配置指标和监控</h2><p id="bb41" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">除了日志记录，为您的应用程序设置指标和监控功能也很重要。这是朝着“生产就绪”方向迈出的一步。</p><p id="8930" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">当使用Spring Boot时(如果你不是的话，我也鼓励你这样做)，我总是将弹簧执行器依赖项添加到我的弹簧依赖项列表中，纯粹是因为执行器为你提供了大量现成的度量和监控功能，而根本不需要太多(或任何)配置。例如，您可以轻松地免费获得Java Spring Boot应用程序的健康检查，而无需手动设置健康检查。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="7873" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">12.设置Docker</h2><p id="8c7e" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">至此，您已经基本上设置好了Java项目所需的大部分东西。此外，它也可以投入生产。使用Spring Boot，您可以构建一个可执行的runnable jar，可以在任何安装了JVM的服务器上运行。</p><p id="0503" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">但我觉得还有最后一步是必须的，那就是让你的应用程序可发布，或者更具体地说:可部署。</p><p id="0696" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">要做的事情之一是将您的应用程序打包到Docker映像中，其中包含运行Java应用程序所需的操作系统(OS)和运行时库(JVM)。这使您能够将应用程序作为Docker容器运行。</p><p id="f42b" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">Docker允许您在任何地方轻松地构建、发布和运行您的应用程序(嗯……支持Docker的任何地方，但实际上任何地方都支持像Docker这样的容器技术作为应用程序平台)。</p><p id="044b" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">另一个额外的好处是，通过使用Docker，您可以将您的容器发送到任何环境，并可以确保它运行相同。例如，如果您只是将您的应用程序部署为可执行的runnable jar，那么您不能确保它在不同的服务器上运行是相同的(您需要确保每个环境都是相同的，如果不小心的话，这可能会很痛苦)。</p><p id="c889" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">当我为我的Java应用程序设置Docker时，我只是放入了一个<code class="fe mg mh mi mj b">Dockerfile</code>，它包含了构建OS +运行时+将Java应用程序捆绑在其中的指令。</p><p id="c29e" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">下面是我在几乎所有Java项目中使用的一个常见的<code class="fe mg mh mi mj b">Dockerfile</code>的例子:</p><figure class="mc md me mf gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="7e18" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">这很简单。其实根本不需要那么复杂。当然，我会根据每个项目的需要做出相应的改变。</p><p id="73b5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">您真正需要的是找到一个基本的Docker映像作为它的基础，并将您已经构建好的Java工件(<code class="fe mg mh mi mj b">.jar</code>)复制到该映像，再加上运行Java的命令<code class="fe mg mh mi mj b">.jar</code>，当您从这个构建好的Docker映像中分离出一个Docker容器时。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="e020" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">摘要</h2><p id="e30e" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">原来如此。这是我通常从零开始设置一个全新的Java项目的所有步骤。</p><p id="c3f1" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">当然，您将需要一些额外的工作来设置外部系统，以便与您的Java项目集成(例如，您选择的CI工具、您选择的集中式日志记录解决方案、您选择的度量和监控解决方案等等)。</p><p id="d530" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">我的清单步骤:</strong></p><ol class=""><li id="164f" class="nr ns iq kw b kx lp lb lq kh nt kl nu kp nv lo nw nx ny nz bi translated">创建您的GitHub Repo</li><li id="3141" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置弹簧</li><li id="f613" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置单元测试</li><li id="d812" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置集成测试</li><li id="8aa1" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置结束2结束测试</li><li id="41ef" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置API测试</li><li id="dce7" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置UI测试</li><li id="dfcf" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">静态代码分析</li><li id="7111" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">实施CI/CD</li><li id="88ea" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置日志记录</li><li id="a0a8" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置指标和监控</li><li id="115f" class="nr ns iq kw b kx oa lb ob kh oc kl od kp oe lo nw nx ny nz bi translated">设置Docker</li></ol><p id="8a4f" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">所以记住…</p><p id="8dc6" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">每当您下一次设置一个新的Java项目时(不管它是传统的单一Java Web应用程序还是现代的Java后端Web微服务),请确保遵循我的清单中的这些步骤，很快您就拥有了一个可随时部署和发布的生产就绪Java项目的所有要素。</p><p id="0288" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">它附带了所有必需的监控和日志记录设置，以及您的开发人员、工程师、SDETs等可以开始编写代码的底层测试应用程序基础架构…</p></div></div>    
</body>
</html>