<html>
<head>
<title>How to build Prefect for Work Orchestration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•å»ºç«‹å®Œç¾çš„å·¥ä½œæµç¨‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/how-to-build-prefect-for-work-orchestration-1d824bd7893f?source=collection_archive---------5-----------------------#2022-11-16">https://blog.devgenius.io/how-to-build-prefect-for-work-orchestration-1d824bd7893f?source=collection_archive---------5-----------------------#2022-11-16</a></blockquote><div><div class="fc ic id ie if ig"/><div class="ih ii ij ik il"><div class=""/><p id="dfd7" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">è¿™æ˜¯ 101 æ•™ç¨‹ï¼Œé€‚ç”¨äºæƒ³ä½¿ç”¨ä»¥ä¸‹è§„æ ¼çš„äººã€‚GCP <br/> 2ã€‚æç£ 2.6.5 <br/> 3ã€‚dbt 1.3.9</p><p id="6cd1" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">æˆ‘å‘ç° GCP+Prefect2.0 æ•™ç¨‹æ¯”è¾ƒå°‘ã€‚å› æ­¤ï¼Œæˆ‘æƒ³åœ¨è¿™é‡Œå†™ä¸‹æŒ‡å¯¼æ–¹é’ˆã€‚è¯·è®¿é—®<a class="ae kj" href="https://github.com/dacozai/demo-gcp-prefect-dbt" rel="noopener ugc nofollow" target="_blank"> GithubRepo </a></p><p id="f147" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated"><strong class="jn ip">è¯·ç”¨ GCP æä¾›çš„ 300 ç¾å…ƒå…è´¹è¯•ç”¨åˆ›å»ºä¸€ä¸ªè°·æ­Œè´¦æˆ·ã€‚ç„¶åï¼Œä½ å°±ä¸éœ€è¦æ‹…å¿ƒæ”¶åˆ°è´¦å•äº†ã€‚</strong>æ˜¯çš„ï¼Œæˆ‘æ­£åœ¨ä½¿ç”¨è¿™ä¸ªå…è´¹å±‚æ¥è°ƒæŸ¥è¿™ä¸€åŸºç¡€æ¶æ„ã€‚è¿™å°±æ˜¯æœ¬æ•™ç¨‹çš„ç›®çš„ã€‚</p><blockquote class="kk kl km"><p id="eb7f" class="jl jm kn jn b jo jp jq jr js jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh ki ih bi translated"><strong class="jn ip"> <em class="io">ç›®æ ‡:å¸®åŠ©äººä»¬å°†æœ¬æ•™ç¨‹ç”¨äºä»–ä»¬çš„ GCP æ¦‚å¿µéªŒè¯ï¼Œä»¥å†³å®šä»–ä»¬æ˜¯å¦åº”è¯¥ä½¿ç”¨æç£</em> </strong></p></blockquote><h1 id="6b2d" class="kr ks io bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">æ­¥éª¤ 1 åˆ›å»ºå®Œç¾çš„å·¥ä½œç©ºé—´å¹¶ç™»å½•</h1><p id="3cc4" class="pw-post-body-paragraph jl jm io jn b jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke lt kg kh ki ih bi translated">è¯·åœ¨è¿™é‡Œç™»å½•æç£äº‘<a class="ae kj" href="https://app.prefect.cloud/" rel="noopener ugc nofollow" target="_blank"/><br/><strong class="jn ip">ç”±äºæç£</strong> <a class="ae kj" href="https://medium.com/the-prefect-blog/modular-data-stack-build-a-data-platform-with-prefect-dbt-and-snowflake-part-2-cf753708a19e" rel="noopener"> <strong class="jn ip">è®¸è¯º</strong> </a> <strong class="jn ip">ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨è¿™é‡Œè®¾ç½®ä¿¡ç”¨å¡ã€‚</strong>å› æ­¤ï¼Œè¿™é‡Œæ²¡æœ‰è´¦å•ã€‚çœ‹å®Œæ•™ç¨‹ï¼Œç›¸ä¿¡ä½ ä¼šæ˜ç™½å¦‚ä½•è‡ªå·±æ­å»ºçŒæˆ·åº§ã€‚ä½†æ˜¯ï¼Œæˆ‘ä¸ä¼šæ¼”ç¤ºè¿™ä¸€éƒ¨åˆ†ã€‚</p><ol class=""><li id="1b43" class="lu lv io jn b jo jp js jt jw lw ka lx ke ly ki lz ma mb mc bi translated">åˆ›å»ºåä¸º<code class="fe md me mf mg b">demo</code>çš„å·¥ä½œåŒº</li><li id="ca0e" class="lu lv io jn b jo mh js mi jw mj ka mk ke ml ki lz ma mb mc bi translated">ç„¶åï¼Œå¡«å†™ä¸‹é¢çš„å‘½ä»¤ï¼Œç„¶åå¤åˆ¶ç²˜è´´å¹¶è¾“å…¥ğŸ™Œ</li></ol><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="37b0" class="mu ks io mg b be mv mw l mx my">API_KEY=[please_fill_your_api_token]<br/>YOUR_ACCOUNT=[please_fill_your_account]<br/>WORKSPACE=demo<br/># EXAMPLE<br/># API_KEY=pnu_AAq8ZJvEfzXIspHxsYha1hn6BJTXKc1DX75q [No worries it is deprecated]<br/># YOUR_ACCOUNT=edenhiveventuresio<br/># WORKSPACE=demo<br/><br/>prefect profile create demo<br/>prefect profile use demo<br/>prefect config set PREFECT_LOGGING_LEVEL=DEBUG<br/>prefect config set PREFECT_API_KEY=$API_KEY<br/>prefect cloud workspace set --workspace "${YOUR_ACCOUNT}/${WORKSPACE}"</span></pre><p id="f827" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated"><strong class="jn ip">æ£€æŸ¥ç‚¹</strong> <br/>è¯·æ‰§è¡Œ<code class="fe md me mf mg b">hello.py</code>æŸ¥çœ‹è®¾ç½®æ˜¯å¦æ­£ç¡®ã€‚<br/>æœ‰ä¸¤ä¸ªåœ°æ–¹å¯ä»¥æ£€æŸ¥å®ƒæ˜¯å¦å·¥ä½œã€‚<br/> 1ã€‚ä½ çš„ç»ˆç«¯ã€‚ä½ åº”è¯¥èƒ½çœ‹åˆ°ğŸ‘‹åœ¨ä½ çš„ç»ˆç«¯ä¸Š<br/> 2ã€‚ç‚¹å‡»<code class="fe md me mf mg b">Flow Runs</code>å¯ä»¥çœ‹åˆ°<code class="fe md me mf mg b">foo/xxxxx</code> <strong class="jn ip">å®Œæˆ</strong></p><h1 id="fe2a" class="kr ks io bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">æ­¥éª¤ 2 åˆ›å»º GKE é›†ç¾¤</h1><h2 id="7577" class="mz ks io bd kt na nb dn kx nc nd dp lb jw ne nf lf ka ng nh lj ke ni nj ln nk bi translated">åˆ›å»ºæœåŠ¡å¸æˆ·</h2><p id="b823" class="pw-post-body-paragraph jl jm io jn b jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke lt kg kh ki ih bi translated">æˆ‘åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe md me mf mg b">prefect-demo</code> <br/>çš„æœåŠ¡è´¦å·æˆäºˆä»¥ä¸‹æƒé™ã€‚<br/> 1ã€‚å·¥ä½œè´Ÿè·æ ‡è¯†ç”¨æˆ·<br/> 2ã€‚BigQuery Admin <br/> 3ã€‚å­˜å‚¨ç®¡ç†å‘˜<br/>æ³¨æ„ã€‚<strong class="jn ip"> 2 å’Œ 3 æ˜¯éå¸¸å±é™©çš„è®¾ç½®</strong>ã€‚æˆ‘å°†æœåŠ¡å¸æˆ·è®¾ç½®ä¸ºç®¡ç†å‘˜çº§åˆ«ï¼Œå› ä¸ºè¿™æ ·æ›´å®¹æ˜“ç¼–å†™ 101 æ•™ç¨‹ã€‚å¦åˆ™ï¼Œè¿™å°†èŠ±è´¹æˆ‘æ›´å¤šçš„æ—¶é—´åœ¨è¿™ä¸ªæ•™ç¨‹ä¸ŠğŸ˜«è¯·<code class="fe md me mf mg b">DO</code>åœ¨æ¼”ç¤ºåä¿®æ”¹å®ƒä»¬ï¼Œä»¥éµå¾ª<strong class="jn ip">æ­¤å¤„</strong>æåˆ°çš„<a class="ae kj" href="https://cloud.google.com/iam/docs/using-iam-securely#least_privilege" rel="noopener ugc nofollow" target="_blank">æœ€å°ç‰¹æƒ(PoLP)</a>åŸåˆ™ã€‚</p><h2 id="fb0b" class="mz ks io bd kt na nb dn kx nc nd dp lb jw ne nf lf ka ng nh lj ke ni nj ln nk bi translated">åˆ›å»º GKE é›†ç¾¤</h2><p id="9e8f" class="pw-post-body-paragraph jl jm io jn b jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke lt kg kh ki ih bi translated">1.é€‰æ‹©æ ‡å‡†[å¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥ä½¿ç”¨è‡ªåŠ¨é©¾é©¶ä»ªã€‚åªæ˜¯è´¹ç”¨çš„é—®é¢˜ğŸ˜…] -&gt;ç‚¹å‡»<code class="fe md me mf mg b">configure</code> <br/> 2ã€‚ä½¿ç”¨åç§°â€” <code class="fe md me mf mg b">demo</code> <br/> 3ã€‚ç‚¹å‡»å·¦ä¾§<code class="fe md me mf mg b">default-pool</code>-&gt;-<code class="fe md me mf mg b">nodes</code>-&gt;é€‰æ‹© n1-standard-1 ä½œä¸ºæœºå™¨ç±»å‹ã€‚<br/> 4ã€‚<code class="fe md me mf mg b">cluster/ecurity</code>-&gt;-<strong class="jn ip">å¯ç”¨å·¥ä½œé‡æ ‡è¯†</strong></p><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="f68d" class="mu ks io mg b be mv mw l mx my"># Please fill your information below<br/>CLUSTER_NAME=demo<br/>COMPUTE_REGION=us-central1-c<br/>PROJECT_ID=[======== YOUR_PROJECT_ID ========] <br/># ex. PROJECT_ID=abcd-1234567<br/>NODEPOOL_NAME=default-pool<br/>SVC_ACCOUNT_NAME=prefect-demo<br/>NAMESPACE=example<br/><br/># IF YOU FORGET to enable workload identity, PLEASE use the commands below<br/># Please stick with me!<br/># <br/># # setup workload identity and its pool<br/># gcloud container clusters update $CLUSTER_NAME \<br/>#     --region=$COMPUTE_REGION \<br/>#     --workload-pool=$PROJECT_ID.svc.id.goog<br/># # GKE metadata for the node pool<br/># gcloud container node-pools update $NODEPOOL_NAME \<br/>#     --cluster=$CLUSTER_NAME \<br/>#     --region=$COMPUTE_REGION \<br/>#     --workload-metadata=GKE_METADATA<br/><br/>gcloud iam service-accounts add-iam-policy-binding \<br/> $SVC_ACCOUNT_NAME@$PROJECT_ID.iam.gserviceaccount.com \<br/> --role roles/iam.workloadIdentityUser \<br/> --member "serviceAccount:${PROJECT_ID}.svc.id.goog[${NAMESPACE}/${SVC_ACCOUNT_NAME}]"<br/><br/># DON'T WORRY about k8s annotation<br/># This will be set while creating our deployment</span></pre><p id="b385" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated"><strong class="jn ip">æ£€æŸ¥ç‚¹</strong></p><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="38be" class="mu ks io mg b be mv mw l mx my"># first connect to your GKE cluster<br/>gcloud container clusters get-credentials $CLUSTER_NAME \<br/>  --zone $COMPUTE_REGION --project $PROJECT_ID<br/><br/>kubectl create ns example<br/>#&gt;&gt;&gt; namespace/example created</span></pre><h1 id="0e0a" class="kr ks io bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">æ­¥éª¤ 3 ä¸ºæˆ‘ä»¬çš„ k8s åˆ›å»ºå®Œç¾çš„ä»£ç†</h1><p id="7a48" class="pw-post-body-paragraph jl jm io jn b jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke lt kg kh ki ih bi translated">å¦‚æœä½ æƒ³è‡ªå·±åšè¿™ä»¶äº‹ï¼Œè¯·çœ‹çœ‹è¿™é‡Œçš„<a class="ae kj" href="https://github.com/PrefectHQ/prefect-helm" rel="noopener ugc nofollow" target="_blank">æç£èµ«å°”å§†ã€‚å¦‚æœä½ æƒ³åš Kustomizeï¼Œè¯·è·Ÿæˆ‘æ¥ã€‚</a></p><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="38c5" class="mu ks io mg b be mv mw l mx my">prefect kubernetes manifest agent</span></pre><p id="534e" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">ç„¶åå°†<code class="fe md me mf mg b">deployment</code>è¾“å‡ºå¤åˆ¶ç²˜è´´åˆ° deployment.yaml ä¸­ï¼Œå¦‚æœä½ ä¸äº†è§£ k8sï¼Œæˆ‘å»ºè®®ä½ å…ˆäº†è§£ k8sã€‚æœ¬æ•™ç¨‹å‡è®¾äººä»¬è‡³å°‘çŸ¥é“å¦‚ä½•æ“ä½œ k8sã€‚è¯·è®°ä½ï¼Œæˆ‘ä»¬å°†åœ¨ä¹‹å‰åˆ›å»ºçš„åç§°ç©ºé—´<code class="fe md me mf mg b">example</code>ä¸­è¿›è¡Œæ¼”ç¤ºã€‚ç„¶ååœ¨<code class="fe md me mf mg b">spec.template.spec.env</code>ä¸­å¡«å†™ä»<code class="fe md me mf mg b">deployment.yaml</code>å¼€å§‹çš„ä»¥ä¸‹å‘½ä»¤è¡Œ</p><h2 id="5a83" class="mz ks io bd kt na nb dn kx nc nd dp lb jw ne nf lf ka ng nh lj ke ni nj ln nk bi translated">å¯é€‰æ‹©çš„</h2><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="078f" class="mu ks io mg b be mv mw l mx my">PREFECT_API_URL=https://app.prefect.cloud/api/accounts/583890cb-6790-47ac-9989-1bc8edc6a0ba/workspace/d8f7d359-21bb-42f5-b3a1-215d4e03e531<br/>PREFECT_API_KEY=pnu_AAq8ZJvEfzXIspHxsYha1hn6BJTXKc1DX75q<br/>kubectl create secret generic mysecret \<br/>  --from-literal=PREFECT_API_URL=$PREFECT_API_URL \<br/>  --from-literal=PREFECT_API_KEY=$API_KEY \<br/>  -n example --dry-run=client -o yaml</span></pre><p id="c727" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">ğŸ˜è¯·å°†è¾“å‡ºç›´æ¥å¤åˆ¶ç²˜è´´åˆ°<code class="fe md me mf mg b">secret.yaml</code> <a class="ae kj" href="https://cloud.google.com/kubernetes-engine/docs/concepts/secret#using_a_secret" rel="noopener ugc nofollow" target="_blank">å‚è€ƒ</a> <br/>æ³¨é‡Šä¸­ã€‚è¿™ä¸ªæ¼”ç¤ºåœ¨è¿™é‡Œä¸ä¼šç”¨åˆ° secretã€‚</p><p id="f306" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated"><strong class="jn ip"> CHECK_POINT </strong> <br/>ç°åœ¨æ˜¯æ¿€åŠ¨äººå¿ƒçš„éƒ¨åˆ†ã€‚å¦‚æœè®¾ç½®æ­£ç¡®ï¼Œæ‚¨å¯ä»¥åœ¨æç£çš„<code class="fe md me mf mg b">Work Queues</code>é€‰é¡¹å¡ä¸­çœ‹åˆ°<code class="fe md me mf mg b">kubernetes</code>ã€‚</p><h1 id="c857" class="kr ks io bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">æ­¥éª¤ 4 ä¸ºå®¹å™¨æ³¨å†Œåˆ›å»ºä¸€ä¸ªæ˜ åƒ</h1><p id="44fb" class="pw-post-body-paragraph jl jm io jn b jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke lt kg kh ki ih bi translated">è¯·éµå¾ªæ­¤å¤„çš„æŒ‡å—<a class="ae kj" href="https://cloud.google.com/container-registry/docs/quickstart#before-you-begin" rel="noopener ugc nofollow" target="_blank">è¿›è¡Œå…ˆå†³æ¡ä»¶ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸º GCR å›¾åƒåˆ›å»ºå›¾åƒã€‚</a></p><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="d171" class="mu ks io mg b be mv mw l mx my">docker build -t gcr.io/$PROJECT_ID/prefect_gcp_demo .<br/>docker push gcr.io/$PROJECT_ID/prefect_gcp_demo</span></pre><p id="d100" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">ç¡®ä¿å›¾åƒå·²è¢«æ”¾å…¥å®¹å™¨æ³¨å†Œè¡¨é€‰é¡¹å¡</p><h1 id="9a13" class="kr ks io bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">æ£€æŸ¥æˆ‘ä»¬çš„å‘˜å·¥</h1><p id="9846" class="pw-post-body-paragraph jl jm io jn b jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke lt kg kh ki ih bi translated">è¿™æ˜¯ä¸€ä¸ªæ£€æŸ¥æˆ‘ä»¬çš„å·¥äººæ˜¯å¦èƒ½ä¸å®Œç¾äº‘æ­£å¸¸å·¥ä½œçš„éƒ¨åˆ†ã€‚ä½†æ˜¯ï¼Œä»ç†è®ºä¸Šè®²ï¼Œè¿™åº”è¯¥æ˜¯å¯è¡Œçš„ã€‚<br/> 1ã€‚æ˜¯æ—¶å€™ä¸ºè¿è¡Œæˆ‘ä»¬çš„ worker åˆ›å»ºæ‰€éœ€çš„å—äº†ğŸ˜ƒè¯·è¿è¡Œ<code class="fe md me mf mg b">create_blocks.py</code> <br/> [ <strong class="jn ip">æ³¨æ„</strong> ]åšä»»ä½•ä½ å–œæ¬¢çš„æ”¹å˜ï¼Œå°¤å…¶æ˜¯ GCS æ¡¶åï¼ï¼ï¼<br/> 2ã€‚ä¸ºä»£ç†åˆ›å»ºè¦æ‰§è¡Œçš„éƒ¨ç½²</p><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="b99c" class="mu ks io mg b be mv mw l mx my">prefect deployment build hello.py:foo -q kubernetes \<br/>  -n "demo-test" -sb gcs/demo -ib kubernetes-job/kk -a</span></pre><p id="b7f6" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">è½¬åˆ°éƒ¨ç½²é¢æ¿ï¼Œå•å‡»è¿è¡Œ</p><figure class="mm mn mo mp gu nm gi gj paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gi gj nl"><img src="../Images/ce0cdca0efc8cd501a3c535f2cd280a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ftQNLWFL019EXLwrIygzXQ.png"/></div></div></figure><p id="660b" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">ç„¶åï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ä½œä¸šæ˜¯é€šè¿‡ website/k9s æˆ–å…¶ä»– k8s ç›‘è§†å™¨ç•Œé¢æ‰§è¡Œçš„ã€‚</p><h1 id="8236" class="kr ks io bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">æ­¥éª¤ 6 ä¸‹è½½ dbt æ¼”ç¤ºæŠ¥å‘Šâ€” jaffle_shop</h1><p id="5890" class="pw-post-body-paragraph jl jm io jn b jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke lt kg kh ki ih bi translated">æˆ‘æŠŠ<code class="fe md me mf mg b">jaffle_shop</code> <em class="kn"> </em>ç›´æ¥æ”¾åˆ° GitHub <a class="ae kj" href="https://github.com/dacozai/demo-gcp-prefect-dbt" rel="noopener ugc nofollow" target="_blank">åº“</a>é‡Œã€‚æˆ‘æƒ³æœ€å¥½è¿˜æ˜¯äº†è§£ä¸€ä¸‹<code class="fe md me mf mg b">dbt</code>å¦‚ä½•è®¾ç½®<code class="fe md me mf mg b">profiles.yml</code> <br/>å› æ­¤ï¼Œè¯·æŠŠ<code class="fe md me mf mg b">project</code>æ¢æˆä½ çš„<code class="fe md me mf mg b">PROJECT_ID</code></p><p id="9583" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">è¦æ£€æŸ¥æ‚¨çš„<code class="fe md me mf mg b">dbt</code>æ˜¯å¦å·¥ä½œï¼Œè¯·è¿›å…¥æ–‡ä»¶å¤¹<strong class="jn ip">dbt-jaffle-shop</strong>place<code class="fe md me mf mg b">dbt seed</code>ã€‚å¦‚æœ dbt è®¾ç½®æœ‰æ•ˆï¼Œæ‚¨å¯ä»¥çœ‹åˆ°åœ¨ Bigquery ä¸­åˆ›å»ºäº†ä¸‰ä¸ªè¡¨</p><p id="8904" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">åœ¨é‚£ä¹‹åï¼Œæˆ‘ä»¬æƒ³è¦éªŒè¯ä½ çš„æœåŠ¡å¸æˆ·æ˜¯å¦èƒ½ä¸ºé•¿å®˜å’Œ GCP å·¥ä½œã€‚</p><pre class="mm mn mo mp gu mq mg mr bn ms mt bi"><span id="85b1" class="mu ks io mg b be mv mw l mx my">prefect deployment build dbt_build.py:dbt_build -q kubernetes \                                             î‚² âœ” î‚² data îœ¼<br/>  -n "dbt-build-test" -sb gcs/demo -ib kubernetes-job/kk -a</span></pre><p id="49a0" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">ç„¶åï¼Œè½¬åˆ°éƒ¨ç½²ä»¥æ‰‹åŠ¨è§¦å‘æ­¤æµè¿è¡Œã€‚</p><p id="d210" class="pw-post-body-paragraph jl jm io jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki ih bi translated">å¦‚æœæ˜¯çš„è¯ï¼ï¼ï¼æ­å–œä½ ï¼ï¼ï¼å’Œæç£/dbt ä»¥åŠæˆ‘ä»¬çš„è€æœ‹å‹ GKE ç©å¾—å¼€å¿ƒğŸ˜„</p></div></div>    
</body>
</html>