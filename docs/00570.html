<html>
<head>
<title>Let’s talk about “prettyprint” or pprint in python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们来谈谈 python 中的“prettyprint”或 pprint</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/lets-talk-about-prettyprint-or-pprint-in-python-ddda1fa4cf0b?source=collection_archive---------5-----------------------#2020-06-11">https://blog.devgenius.io/lets-talk-about-prettyprint-or-pprint-in-python-ddda1fa4cf0b?source=collection_archive---------5-----------------------#2020-06-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0956b97d7a1eca693a4efc07d553e00e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wKbJiaxJw126qm5z"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@hiteshchoudhary?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">希特什·乔杜里</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="5566" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">开始学习 python 编程，你做过的第一件事是什么？</strong> <br/>我很确定我们都是从“<strong class="kf ir"> Hello World </strong>”程序开始我们的 python 之旅的。在 python 中，这可以在一行代码中完成:</p><p id="a559" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">print(“Hello World”)</code></p><p id="1d23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，在使用<strong class="kf ir"> <em class="lf"> print() </em> </strong>函数打印字典、列表或任何其他复杂数据类型时，您是否曾经面临过这种痛苦？由于不正确的缩进问题，我们经常在 python 嵌套数据结构的输出中遇到可读性方面的困难。</p><p id="7aa1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">还是没明白我在说哪个问题？</strong> <br/>让我们在这里试试代码:</p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="2be6" class="lo lp iq le b gy lq lr l ls lt"><br/>coordinates = [<br/> {<br/> “name”: “Location 1”,<br/> “gps”: (29.008966, 111.573724)<br/> },<br/> {<br/> “name”: “Location 2”,<br/> “gps”: (40.1632626, 44.2935926)<br/> },<br/> {<br/> “name”: “Location 3”,<br/> “gps”: (29.476705, 121.869339)<br/> }<br/>]<br/>print(coordinates)</span></pre><p id="c003" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面代码的输出:</p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="252a" class="lo lp iq le b gy lq lr l ls lt">[{‘gps’: (29.008966, 111.573724), ‘name’: ‘Location 1’}, {‘gps’: (40.1632626, 44.2935926), ‘name’: ‘Location 2’}, {‘gps’: (29.476705, 121.869339), ‘name’: ‘Location 3’}]</span></pre><p id="03ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，上面的代码不具有视觉可读性和美感。</p><p id="c5eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">难怪 python 被认为是对用户最友好的语言！</p><p id="ad91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">怎么琢磨？</strong></p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lu"><img src="../Images/100b4dedd727f0344ea0a4db134e31e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OqhEUjh4Zhauai2F.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">这真的可能吗？</figcaption></figure><p id="0901" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Python 附带了一个<strong class="kf ir"> pprint </strong>模块，它以一种更可读的方式提供了<strong class="kf ir">漂亮打印</strong>任意数据结构的能力。</p><h1 id="7cc9" class="lv lp iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">什么是 pprint？</h1><p id="959b" class="pw-post-body-paragraph kd ke iq kf b kg ms ki kj kk mt km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">python 中的 pprint 模块负责以适当的格式打印行块，以吸引读者。它使用换行符和缩进以明确的方式打印数据。</p><h1 id="b865" class="lv lp iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">pprint 和 python 中的 print 有什么不同？</h1><p id="a95b" class="pw-post-body-paragraph kd ke iq kf b kg ms ki kj kk mt km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">print()是 python 中的一个简单函数，用于在屏幕上向用户显示指定的消息。但是，如果我们使用 python 打印字典、列表或任何其他复杂的函数，我们经常会发现阅读打印出来的语句有歧义。它包括不可表示为 Python 常量的内置对象、文件、套接字、类或实例。<br/><strong class="kf ir">“pprint”模块随后就来救你了。</strong></p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/e0fc613d01810d91b0d2151e34db14b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HsU8qtJ8q7ycCV-c.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">“pprint”，救援者</figcaption></figure><p id="ab04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它以可读的形式格式化对象，每行有适当的宽度。它带有可调整的宽度限制，以便于用户使用。它将所有元素转换成可以用 Python 常量表示的字符串，并以视觉上美观的格式打印出来。pprint 函数返回可以在解释器中作为输入运行的输出。而且，通过解析字符串，更容易将其转换回类型。</p><p id="af18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="lf">那么，让我们潜入 pprint… </em> </strong></p><h2 id="9b10" class="lo lp iq bd lw my mz dn ma na nb dp me ko nc nd mi ks ne nf mm kw ng nh mq ni bi translated">在 python 文件的顶部导入库 pprint</h2><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="e0d7" class="lo lp iq le b gy lq lr l ls lt">import pprint</span></pre><p id="63e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们可以使用<strong class="kf ir"> <em class="lf">。pprint() </em> </strong>对象或者实例化我们自己的 pprint 对象<strong class="kf ir"> <em class="lf"> PrettyPrinter() </em> </strong>。</p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="27db" class="lo lp iq le b gy lq lr l ls lt">pprint.pprint(['Radha', 1, 'Hari', 'Simesh', 25, 847])</span><span id="83c7" class="lo lp iq le b gy nj lr l ls lt"># Instantiating pprint object<br/>my_pprint = pprint.PrettyPrinter()<br/>my_pprint.pprint(['Radha', 1, 'Hari', 'Simesh', 25, 847])</span></pre><p id="c627" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">两者将给出相同的输出</p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="12d5" class="lo lp iq le b gy lq lr l ls lt">['Radha', 1, 'Hari', 'Simesh', 25, 847] <br/>['Radha', 1, 'Hari', 'Simesh', 25, 847]</span></pre><h2 id="d0ed" class="lo lp iq bd lw my mz dn ma na nb dp me ko nc nd mi ks ne nf mm kw ng nh mq ni bi translated">那么，pprint()和 PrettyPrinter()有什么区别呢？</h2><p id="e709" class="pw-post-body-paragraph kd ke iq kf b kg ms ki kj kk mt km kn ko mu kq kr ks mv ku kv kw mw ky kz la ij bi translated">如果我们需要调整宽度约束或其他参数，我们显式地构造<code class="fe lb lc ld le b"><a class="ae kc" href="https://docs.python.org/3/library/pprint.html#pprint.PrettyPrinter" rel="noopener ugc nofollow" target="_blank">PrettyPrinter</a></code>对象。</p><p id="a6ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">语法:</strong></p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="aa86" class="lo lp iq le b gy lq lr l ls lt"><em class="lf">class </em>pprint.PrettyPrinter(<em class="lf">indent=1</em>, <em class="lf">width=80</em>, <em class="lf">depth=None</em>, <em class="lf">stream=None</em>, <em class="lf">*</em>, <em class="lf">compact=False</em>, <em class="lf">sort_dicts=True</em>)</span></pre><p id="507c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">pprint()方法使用库的默认设置，而在创建 PrettyPrinter()对象时，我们可以更改库的默认配置。</p><p id="4e36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们用几个例子来理解:</p><ol class=""><li id="6a1f" class="nk nl iq kf b kg kh kk kl ko nm ks nn kw no la np nq nr ns bi translated">深度参数决定了 Python PrettyPrinter 在嵌套结构中向下递归的程度</li></ol><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="1bea" class="lo lp iq le b gy lq lr l ls lt">tuple1 = ('spam', ('eggs', ('lumberjack', ('knights', ('ni', ('dead',('parrot', ('fresh fruit',))))))))</span><span id="6fa4" class="lo lp iq le b gy nj lr l ls lt"># Using PrettyPrinter<br/>pp = pprint.PrettyPrinter(depth=6) # default configuration of depth # being none is changed to depth = 6<br/># Now it will print till depth of six brackets<br/>pp.pprint(tuple1)</span><span id="a8c8" class="lo lp iq le b gy nj lr l ls lt">#Using only pprint() object<br/>pprint.pprint(pprint.pprint(tuple1, depth=6))<br/>pprint.pprint(tuple1)</span></pre><p id="92fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面代码的输出:</p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="807f" class="lo lp iq le b gy lq lr l ls lt">('spam', ('eggs', ('lumberjack', ('knights', ('ni', ('dead', (...))))))) <br/>('spam', ('eggs', ('lumberjack', ('knights', ('ni', ('dead', (...)))))))<br/>('spam',<br/>  ('eggs',<br/>   ('lumberjack', ('knights', ('ni', ('dead', ('parrot', ('fresh fruit',))))))))</span></pre><p id="185e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你能注意到不同吗？</p><p id="5117" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们看到，当使用 depth = 6 打印 tuple1 时，在六个省略号之后不再显示数据，而当只使用 pprint.pprint()打印时，所有数据都显示出来。</p><p id="1104" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置不存储在<strong class="kf ir"> <em class="lf">中。pprint() </em> </strong>，即默认设置保持不变，而在 PrettyPrinter()中保存设置或更改。这里存储深度= 6。</p><p id="fcdd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.使用宽度参数，我们可以选择输出将打印多少列。默认宽度为 80，即 80 个字符，但您可以更改。</p><p id="0a5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们看看在几个内置函数中使用 pprint()比 print()函数的主要区别和好处。</p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="7f9d" class="lo lp iq le b gy lq lr l ls lt">from pprint import pprint # We can directly call the method <br/># pprint() using it<br/>coordinates = [<br/> {<br/> “name”: “Location 1”,<br/> “gps”: (29.008966, 111.573724)<br/> },<br/> {<br/> “name”: “Location 2”,<br/> “gps”: (40.1632626, 44.2935926)<br/> },<br/> {<br/> “name”: “Location 3”,<br/> “gps”: (29.476705, 121.869339)<br/> }<br/>]<br/>pprint(coordinates)</span></pre><p id="a346" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以上输出的输出:</p><pre class="lg lh li lj gt lk le ll lm aw ln bi"><span id="db2b" class="lo lp iq le b gy lq lr l ls lt">[{'gps': (29.008966, 111.573724), 'name': 'Location 1'},<br/> {'gps': (40.1632626, 44.2935926), 'name': 'Location 2'},<br/> {'gps': (29.476705, 121.869339), 'name': 'Location 3'}]</span></pre><p id="1d28" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，参考本文开头使用 print()的第一个示例。哪个输出在视觉上更吸引人？使用<strong class="kf ir"> <em class="lf"> print() </em> </strong>还是<strong class="kf ir"> <em class="lf"> pprint() </em> </strong>？</p><p id="47d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是本文中关于 python 中 pprint 的全部内容。关注我，获取更多关于 python 和机器学习的文章。</p><p id="d546" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">加分:</strong>python 中还有一个模块叫 pprintpp，用于漂亮打印也叫 pprint++。</p><p id="c6b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="lf">快乐学习，快乐编码！</em> </strong></p></div></div>    
</body>
</html>