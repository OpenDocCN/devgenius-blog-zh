<html>
<head>
<title>How to use Fastlane to deploy multiple targets to TestFlight, Xcode iOS🚀🚀</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用浪子部署多个目标到TestFlight，Xcode iOS🚀🚀</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-use-fastlane-to-deploy-multiple-targets-to-testflight-xcode-ios-41e1b932ef3?source=collection_archive---------2-----------------------#2020-06-02">https://blog.devgenius.io/how-to-use-fastlane-to-deploy-multiple-targets-to-testflight-xcode-ios-41e1b932ef3?source=collection_archive---------2-----------------------#2020-06-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/d97f4dccfc25cdd5dc25c6e83f517c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4DI6yontRMF9B05MrwLnWA.jpeg"/></div></div></figure><div class=""/><p id="6d3a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一个关于如何在8个简单的步骤中部署多个目标iOS应用程序到TestFlight的紧凑教程。</p><p id="33f1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们开始吧。</p><blockquote class="kt"><p id="f101" class="ku kv iy bd kw kx ky kz la lb lc ks dk translated">1.<a class="ae ld" href="https://docs.fastlane.tools/getting-started/ios/setup/" rel="noopener ugc nofollow" target="_blank">首先，安装浪子</a></p><p id="c36d" class="ku kv iy bd kw kx ky kz la lb lc ks dk translated">2.建立浪子</p></blockquote><p id="0fa1" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated">打开控制台-&gt;导航您的项目目录并运行:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="4bdd" class="ls lt iy lo b gy lu lv l lw lx">fastlane init</span></pre><figure class="lj lk ll lm gt ip gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/477169e6263e37fb29395aabb5914ea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*yMjKFc8BsvHm6Zq5b2vh1A.png"/></div></figure><blockquote class="lz ma mb"><p id="3e43" class="jv jw mc jx b jy jz ka kb kc kd ke kf md kh ki kj me kl km kn mf kp kq kr ks ig bi translated">这个命令会问你—“<em class="iy">你想用浪子做什么？”</em></p></blockquote><p id="bf2d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">选择第二个选项:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="086c" class="ls lt iy lo b gy lu lv l lw lx">👩‍✈️️ <em class="mc">Automate beta distribution to TestFlight</em>.</span></pre><p id="e983" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该选项将设置基本设置，我们将扩展该设置以处理多个目标。</p><blockquote class="kt"><p id="c145" class="ku kv iy bd kw kx ky kz la lb lc ks dk translated">3.为每个目标创建环境变量</p></blockquote><p id="5eb8" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated">例如，我们有两个目标App1和App2。为它们中的每一个创建一个环境文件，该文件将保存一个<strong class="jx iz">环境变量</strong>方案名和捆绑包。文件名应采用. env . your target name . Create . env . app 1和. env.App2文件的格式。</p><p id="95f4" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，fou可以在控制台中创建这两个文件:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="d356" class="ls lt iy lo b gy lu lv l lw lx">touch .env.App1<br/>touch .env.App2</span><span id="d405" class="ls lt iy lo b gy mg lv l lw lx">open -a Xcode .env.App1</span></pre><figure class="lj lk ll lm gt ip gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/b69581fb936b1f8b63fae5158c88aa00.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*JyQxjFwQkp8Nm0MpgbGCLA.png"/></div></figure><p id="953d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">相应地填充两个文件，每个文件都有您唯一的方案名称和每个应用程序目标的捆绑包:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="0b25" class="ls lt iy lo b gy lu lv l lw lx">SCHEME = “schema name App1”<br/>BUNDLE_IDENTIFIER = “Bundle identifier App1”</span></pre><blockquote class="kt"><p id="da13" class="ku kv iy bd kw kx mi mj mk ml mm ks dk translated">4.修改应用程序文件</p></blockquote><p id="6396" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated">打开应用程序文件并更改行:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="876b" class="ls lt iy lo b gy lu lv l lw lx">app_identifier(“your bundle identifier”)</span></pre><p id="3e7f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要使用定义的变量:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="fb39" class="ls lt iy lo b gy lu lv l lw lx">app_identifier(ENV[‘BUNDLE_IDENTIFIER’])</span></pre><blockquote class="kt"><p id="5098" class="ku kv iy bd kw kx mi mj mk ml mm ks dk translated">5.生成特定于应用程序的密码</p></blockquote><p id="837a" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated"><a class="ae ld" href="https://docs.fastlane.tools/best-practices/continuous-integration/#application-specific-passwords" rel="noopener ugc nofollow" target="_blank">要将构建上传到TestFlight，您需要生成一个<em class="mc">特定于应用程序的密码。</em>T9】</a></p><blockquote class="kt"><p id="4e2b" class="ku kv iy bd kw kx ky kz la lb lc ks dk translated">6.快速文件和Gymfile</p></blockquote><p id="c671" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated">其余两个文件Fastfile和Gymfile的上下文对于所有项目来说都是完全通用的。他们知道从我们的文件中获取一个方案和包标识符。</p><p id="7b4a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">浪子文件——是一个主要的浪子文件，为所有目标建立并上传到试飞。</p><p id="46df" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Gymfile —指定了创建*的位置和方式。ipa文件。</p><p id="bcd3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae ld" href="https://github.com/tanyaberezovsky/fastlane_upload_multiply_targets_iOS" rel="noopener ugc nofollow" target="_blank">从我的GitHub repo下载Fastfile和Gymfile，放入fastlane目录。</a></p><blockquote class="kt"><p id="0ff4" class="ku kv iy bd kw kx ky kz la lb lc ks dk translated">7.在浪子目录中创建一个名为“builds”的目录</p></blockquote><p id="c77f" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated">我们的Gimfile配置为创建所有*。此目录中的ipa文件。</p><blockquote class="kt"><p id="1387" class="ku kv iy bd kw kx ky kz la lb lc ks dk translated">8.运行和测试</p></blockquote><p id="ae89" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated">运行特定目标:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="e960" class="ls lt iy lo b gy lu lv l lw lx">fastlane do_everything — env TargetName</span></pre><p id="6a39" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">运行所有目标:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="ce4c" class="ls lt iy lo b gy lu lv l lw lx">fastlane do_everything</span></pre><h1 id="8434" class="mn lt iy bd mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj bi">🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩 🤩</h1><blockquote class="kt"><p id="4f6d" class="ku kv iy bd kw kx ky kz la lb lc ks dk translated">最后，激动人心的部分！</p></blockquote><p id="6ce7" class="pw-post-body-paragraph jv jw iy jx b jy le ka kb kc lf ke kf kg lg ki kj kk lh km kn ko li kq kr ks ig bi translated">浪子在我的真实环境(包括四个目标)中运行完毕后，我在控制台中收到以下消息:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="5430" class="ls lt iy lo b gy lu lv l lw lx">fastlane.tools just saved you 92 minutes! 🎉</span></pre><p id="ca59" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">老实说，它更节省了我，因为我不能立即执行一个又一个动作。</p><p id="81dd" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">总之，毫无疑问，浪子是100%值得使用。</p><p id="6c05" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae ld" href="https://github.com/tanyaberezovsky/fastlane_upload_multiply_targets_iOS" rel="noopener ugc nofollow" target="_blank">从GitHub下载所有文件</a></p><p id="d905" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢您阅读本文。</p><p id="b79d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">祝你好运！</p><p id="0cd0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">附:本教程部分基于SANDEEP MUKHERJEE的<a class="ae ld" href="https://medium.com/@vizllx/integrating-fastlane-with-multiple-target-for-a-single-ios-project-7920b32e1cb4" rel="noopener">将浪子与多个目标集成为一个iOS项目</a>和<a class="ae ld" href="https://www.raywenderlich.com/233168-fastlane-tutorial-getting-started" rel="noopener ugc nofollow" target="_blank"> fastlane教程:raywenderlich.com琳赛·斯科特入门</a>在那里你可以阅读更多关于用Fastfile编写的Gymfile和do_everything循环的内容。</p></div></div>    
</body>
</html>