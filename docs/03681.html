<html>
<head>
<title>Setting up your Full Stack Application: Rails API and React/Redux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置您的全栈应用程序:Rails API和React/Redux</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/setting-up-your-full-stack-application-rails-api-and-react-redux-428ff7a7a7c0?source=collection_archive---------0-----------------------#2020-12-03">https://blog.devgenius.io/setting-up-your-full-stack-application-rails-api-and-react-redux-428ff7a7a7c0?source=collection_archive---------0-----------------------#2020-12-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="628e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建了完整的堆栈应用程序，但需要帮助设置？这里有一个分步指南，介绍了设置Rails API和React/Redux前端所需的基础知识。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d451d3a050142c9a816dea600fb89933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0tngebVyf240D_X7"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="95cc" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">目录</h1><ol class=""><li id="99d8" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><a class="ae kv" href="#a1e9" rel="noopener ugc nofollow">简介</a></li><li id="b8f1" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#39ac" rel="noopener ugc nofollow">设置你的Rails API </a></li><li id="0e55" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#1e1f" rel="noopener ugc nofollow">设置您的React/Redux前端</a></li><li id="c9b4" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#1607" rel="noopener ugc nofollow">结论</a></li><li id="ab8d" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#24bf" rel="noopener ugc nofollow">想要更多？查看其他资源！</a></li></ol></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="a1e9" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">介绍</h1><p id="4348" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">有时候开始一个新项目最困难的部分就是…开始。一旦你有了一个想法，画出你的实体关系图(ERD)和线框，决定你想要工作的特性，创建项目并将存储库连接到GitHub，最后是时候开始编码了！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="eee8" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">虽然您可能已经准备好开始构建您的项目，但所有项目都需要一个坚实的基础。这就是本指南的作用所在！对我来说，开始的设置通常是相同的，因此在单调的过程中，我已经忘记了某些步骤背后的推理。为了与那些好奇或需要每个步骤的提醒的人分享，本指南将解释，这样你就可以有意识地设置你的项目。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="39ac" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">设置您的Rails API</h1><p id="89cc" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">重申一下，以下步骤是我在设置Rails API时经常做的。也就是说，可能有些步骤(即gems)是你的项目不需要的。另外，我经常用Postgres作为数据库来创建我的Rails API。无论您选择使用哪个数据库，都没有其他步骤重要，但是我将强调每个部分的作用，以便您可以了解自己的项目。</p><ol class=""><li id="7517" class="lo lp iq lq b lr nm lt nn lv nr lx ns lz nt mb mc md me mf bi translated">转到存放Rails API的项目目录</li><li id="53aa" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">使用以下内容切换到Rails API文件夹:</li></ol><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="3b48" class="nz kx iq nv b gy oa ob l oc od">cd &lt;rails_api_folder_name&gt;</span></pre><p id="92bb" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">3.在您的gem文件中取消注释:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="53c9" class="nz kx iq nv b gy oa ob l oc od">gem ‘bcrypt’<br/>gem ‘rack-cors’</span></pre><p id="29c1" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">Bcrypt是我们将用来散列我们用户的密码。rack-cors gem支持跨来源资源共享(cors ),即当web应用程序发出跨来源HTTP请求时，该请求的来源(即域)不同于它自己的来源。</p><p id="9c2c" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">4.在您的gem文件中，您可以选择添加以下任意或所有gem:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="c6ca" class="nz kx iq nv b gy oa ob l oc od">gem ‘jwt’<br/>gem ‘active_model_serializers’<br/>gem ‘activerecord-reset-pk-sequence’</span></pre><p id="154d" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">“jwt”gem用于设置用于用户认证的JSON Web令牌。serializer的gem允许我们使用serializer，这使我们能够控制发送到前端的内容。最后一个gem(Active Record-reset-PK-sequence)用于您的种子数据，并将您的活动记录表的id重置为零。</p><p id="c977" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">5.取消对config/initializer/CORS . Rb中以下代码的注释，并将origins后面的“example.com”更改为“*”:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="3288" class="nz kx iq nv b gy oa ob l oc od">Rails.application.config.middleware.insert_before 0, Rack::Cors do<br/> allow do<br/>  origins '*'</span><span id="c9b2" class="nz kx iq nv b gy oe ob l oc od">resource '*',<br/>   headers: :any,<br/>   methods: [:get, :post, :put, :patch, :delete, :options, :head]<br/> end<br/>end</span></pre><p id="3b34" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">将原点改为' * '允许任何原点发出请求。如果你有兴趣了解更多关于CORS的信息，请查看Chris的这个<a class="ae kv" href="https://medium.com/ruby-daily/understanding-cors-when-using-ruby-on-rails-as-an-api-f086dc6ffc41" rel="noopener">深度解释</a>。</p><p id="bcb3" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">6.在您的终端运行中:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="d45a" class="nz kx iq nv b gy oa ob l oc od">bundle install<br/>spring stop</span></pre><p id="7e46" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">只有当您在gem文件中包含gem“active record-reset-PK-sequence”时，您才需要运行spring stop。</p><p id="6901" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">7.如果您想要包含多个序列化程序并让它显示多个深度关联(换句话说，如果您正在序列化深度嵌套的关联)，请在config/initializer中创建一个新文件。在新文件中，添加以下代码行:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="428b" class="nz kx iq nv b gy oa ob l oc od">ActiveModelSerializers.config.default_includes = '**'</span></pre><p id="949d" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">你可以给这个文件起任何名字，但是我建议命名为“active _ model _ serializers.rb”。此外，即使这允许您使用嵌套关联的序列化程序，关联也只能是单向的。</p><p id="a2d8" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">8.使用以下工具创建您的模型、迁移、控制器和路由文件:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="f675" class="nz kx iq nv b gy oa ob l oc od">rails g resource &lt;model_name&gt; &lt;attribute:datatype&gt;<br/>rails g resource Book title:string pages:integer author:belongs_to</span></pre><p id="97e3" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">别忘了添加你的联想！您可以使用belongs_to宏来设置外键和belongs_to关联。但是，这意味着你需要首先基于has_many进行创建；简单来说，首先创建独立/不依赖他人获取信息的模型。想一想:你不能先创作一本书而没有作者。</p><p id="2ba1" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated"><strong class="lq ir">有趣的事实</strong>:通常你也会得到你的视图文件夹，但是如果你用- api标志生成应用程序，它会配置生成器跳过视图文件夹。</p><p id="c67f" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated"><strong class="lq ir">奖励</strong>:如果您使用Bcrypt作为您用户的密码，而不是使用password作为属性(password:string)，那么您将使用“password_digest”作为表中的列。然而，在您的模式和迁移中，只有<em class="of">才会使用“password_digest”。在其他任何地方，包括当您创建用户实例时，您都将使用“password”。例如:</em></p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="fd6a" class="nz kx iq nv b gy oa ob l oc od">rails g resource User name:string age:integer password_digest:string<br/>User.create!(name: “bob”, age: 15, password: “pw321”)</span></pre><p id="5c8a" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">9.进入每个模型的文件(app/models ),为需要的模型添加验证和/或其余的关联宏。如果我们继续以作者和图书为例，您可以向作者模型添加:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="3c7c" class="nz kx iq nv b gy oa ob l oc od">has_many :books<br/>validates :first_name, presence: true</span></pre><p id="6828" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">如果使用Bcrypt作为用户密码，可以在用户模型中使用名为has_secure_password的宏。</p><p id="052e" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">10.如果您使用序列化程序，对于每个序列化程序，请具体说明您使用的关联宏。这里的关联宏与您的模型关联宏没有任何关系，您应该考虑将哪个关联发送到您的前端更重要。</p><p id="8984" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">11.使用以下内容创建您的Postgres数据库:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="ba58" class="nz kx iq nv b gy oa ob l oc od">rails db:create</span></pre><p id="2875" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">12.运行您的迁移并使用以下内容创建您的方案:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="92eb" class="nz kx iq nv b gy oa ob l oc od">rails db:migrate</span></pre><p id="1d0a" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">13.在routes.rb中指定您将需要的路径。由于rails g resource，您将自动获得所有的RESTful路径，(基于前面的示例，它看起来像resources :books)，但是如果您知道您不需要所有的路径，您可以单独写出您需要的路径。</p><p id="7898" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">14.在db/seeds.rb中创建一些种子数据，并用以下内容作为种子:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="b85b" class="nz kx iq nv b gy oa ob l oc od">rails db:seed</span></pre><p id="e0a2" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">在创建种子数据之前，您可能希望在您的控制台(rails c)中测试是否可以创建每个模型的实例。更具体地说，您应该检查您的验证和关联是否在工作。此外，在该文件的顶部，对于每个类，您可以从依赖/所属类开始，包括class_name.destroy_all和class_name.reset_pk_sequence。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="1e1f" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated"><strong class="ak">设置您的React/Redux前端</strong></h1><p id="d497" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">以下步骤将用于React/Redux前端，但是如果您不想使用Redux，您可以跳过Redux步骤！Redux just <em class="of">在React已经拥有的基础上构建</em>，给你一个更简单的方法来管理你的状态；如果你选择不使用Redux，你不会失去任何功能。</p><p id="f785" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">但是，要知道选择并入Redux而不使用它，就像一开始不并入Redux，后来又想加入一样困难。也就是说，我不会解释Redux或与之相关的术语。如果你感兴趣，这里有一份亚历克斯·格里夫的<a class="ae kv" href="https://gist.github.com/alexgriff/0e247dee73e9125177d9c04cec159cc6" rel="noopener ugc nofollow" target="_blank">小抄</a>。</p><ol class=""><li id="093c" class="lo lp iq lq b lr nm lt nn lv nr lx ns lz nt mb mc md me mf bi translated">转到存放React应用程序的项目目录。</li><li id="a5c5" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">使用以下内容切换到React应用程序文件夹:</li></ol><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="cd0d" class="nz kx iq nv b gy oa ob l oc od">cd &lt;react_app_folder_name&gt;</span></pre><p id="774b" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">3.在您的终端中键入以下命令来安装软件包:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="ba29" class="nz kx iq nv b gy oa ob l oc od">npm install react-router-dom<br/>npm install redux<br/>npm install react-redux</span></pre><p id="bc8d" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">“react-router-dom”是指如果你想在你的应用程序中加入路线。如果您想合并redux，请仅安装“redux”和“react-redux”。</p><p id="1354" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">4.在index.js的顶部导入以下内容:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="fc40" class="nz kx iq nv b gy oa ob l oc od">// ROUTING STUFF<br/>import {BrowserRouter} from 'react-router-dom'</span><span id="fcb4" class="nz kx iq nv b gy oe ob l oc od">// REDUX STUFF<br/>import {createStore} from 'redux'<br/>import {Provider} from 'react-redux'</span></pre><p id="4a3c" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">此外，如果您决定使用多个减速器，可以稍后返回并添加，但可以选择启动:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="eb56" class="nz kx iq nv b gy oa ob l oc od">import {combineReducers} from ‘redux’</span></pre><p id="1dc5" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">5.在index.js中设置初始全局状态:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="c47f" class="nz kx iq nv b gy oa ob l oc od">let initialStateOfBookReducer = {<br/>   books: []<br/>}</span></pre><p id="426d" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">6.在index.js中设置您的减速器:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="e108" class="nz kx iq nv b gy oa ob l oc od">let bookReducer = (state = initialStateOfBookReducer, action) =&gt; {<br/> switch(action.type){<br/>   default:<br/>    return state<br/> }<br/>}</span></pre><p id="1b87" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">7.如果您使用多个减速器(combineReducer ),您需要添加以下内容，以便为商店进行设置:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="431a" class="nz kx iq nv b gy oa ob l oc od">let combineReducerPojo = {<br/> books: bookReducer,<br/> author: authorReducer<br/>}</span><span id="a918" class="nz kx iq nv b gy oe ob l oc od">let rootReducer = combineReducers(combineReducerPojo)</span></pre><p id="5efd" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">8.在index.js中设置您的商店:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="03e7" class="nz kx iq nv b gy oa ob l oc od">let storeObj = createStore(<br/> bookReducer,<br/> window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()<br/>)</span></pre><p id="ceee" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">bookReducer后面的一行是允许你使用你的<a class="ae kv" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd" rel="noopener ugc nofollow" target="_blank">Redux DevTools</a>Google chrome扩展。你也可以把同一行代码<a class="ae kv" href="https://github.com/zalmoxisus/redux-devtools-extension#11-basic-store" rel="noopener ugc nofollow" target="_blank">复制到这里</a>。此外，如果您正在使用combineReducer并遵循上面的步骤，而不是bookReducer，它将是rootReducer。</p><p id="df84" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">9.将存储传入index.js中的<Provider/>:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="2a6d" class="nz kx iq nv b gy oa ob l oc od">ReactDOM.render(<br/> &lt;Provider store={storeObj}&gt;<br/>  &lt;BrowserRouter&gt;<br/>   &lt;App/&gt;<br/>  &lt;/BrowserRouter&gt;<br/> &lt;/Provider&gt;,<br/> document.getElementById('root')<br/>);</span></pre><p id="f232" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">只要应用程序由提供者和浏览器包装，提供者和浏览器的顺序并不重要。如果你没有使用Redux，你不需要包含Provider，只需要用BrowserRouter包装App。</p><p id="e032" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">10.要设置路线，请在App.js中导入以下内容:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="05a3" class="nz kx iq nv b gy oa ob l oc od">import { Route, Switch } from 'react-router-dom'</span></pre><p id="0d35" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">我们正在导入路由，以便将组件放在路径后面；换句话说，当你转到一个特定的路径时，所提供的组件就会呈现出来。我们还包含了Switch，这样一次只能显示一条路由，因此只能显示一个组件。</p><p id="712c" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">您也可以导入以下内容，但它们在其他组件中可能更有用:Link、NavLink、withRouter、Redirect。Link本质上是一个锚标记，而NavLink是Link的一个花哨版本，所以当URL与NavLink的路径匹配时，它将有一个“active”类名。将<a class="ae kv" href="https://reactrouter.com/web/api/withRouter" rel="noopener ugc nofollow" target="_blank">与路由器</a>一起使用可以访问this.props.history和最近的&lt;路线&gt;的匹配。重定向正如它的名字所暗示的那样；它会重定向到一个新位置。</p><p id="a1b2" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">11.要使用路线，在App.js的返回中:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="9ecf" class="nz kx iq nv b gy oa ob l oc od">return (<br/> &lt;div className=”App”&gt;<br/>  &lt;Switch&gt;<br/>   &lt;Route path="/" exact component={Home}/&gt;<br/>  &lt;Switch/&gt;<br/> &lt;/div&gt;<br/>)</span></pre><p id="45f1" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">这是用路由和交换机设置路由的基础；只需将您的路由打包在一个交换机中。请注意，编写路由的顺序很重要，因此一个有用的技巧是使用“exact”来指定只有当url与提供的路径完全匹配时，组件才会呈现。这对于路径起点可能相同的嵌套路由尤其重要。</p><p id="cbc0" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">12.奖金！如果您使用Redux，对于每个需要或更新全局状态的组件，在每个文件的顶部，您需要:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="f2ab" class="nz kx iq nv b gy oa ob l oc od">import {connect} from ‘react-redux’</span></pre><p id="d65e" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">导出组件时，您将像这样导出:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="21d4" class="nz kx iq nv b gy oa ob l oc od">export default connect(mapStateToProps, mapDispatchToProps)(App)</span></pre><p id="871a" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">要将withRouter用于某个组件，您将使用包装在withRouter中的App导出:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="c6ae" class="nz kx iq nv b gy oa ob l oc od">export default connect(mapStateToProps, mapDispatchToProps)(withRouter(App))</span></pre></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="1607" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">结论</h1><p id="19a5" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">现在你可以开始真正的工作了。下一步，当之无愧的舞蹈休息！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og nl l"/></div></figure><p id="81c4" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">有一个坚实的工作基础总是很重要的；我希望这份指南能给你信心，让你有一个好的开始，并能继续你的项目。非常感谢您的阅读，祝您建设愉快！</p><p id="bdc7" class="pw-post-body-paragraph mx my iq lq b lr nm jr mz lt nn ju na lv no nc nd lx np nf ng lz nq ni nj mb ij bi translated">如果你喜欢这篇文章，看看我的其他文章！一个好的起点是我的相关文章，“<a class="ae kv" href="https://medium.com/dev-genius/creating-your-full-stack-application-rails-api-and-react-7155026e453a" rel="noopener">创建您的全栈应用程序:Rails API和React </a>”，或者“<a class="ae kv" href="https://medium.com/swlh/fetch-requests-and-controller-actions-connecting-the-frontend-to-the-backend-733a87ffe757" rel="noopener">获取请求和控制器动作:将前端连接到后端</a>”，它涵盖了全栈应用程序的请求响应周期。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="24bf" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">想要更多吗？查看其他资源！</h1><h2 id="16b5" class="nz kx iq bd ky oh oi dn lc oj ok dp lg lv ol om li lx on oo lk lz op oq lm or bi translated"><strong class="ak">设置您的项目</strong></h2><p id="1e85" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">📖<a class="ae kv" href="https://dev.to/sylwiavargas/recipe-for-rails-backend-1m4i" rel="noopener ugc nofollow" target="_blank">https://dev.to/sylwiavargas/recipe-for-rails-backend-1m4i</a>T2】📖<a class="ae kv" href="https://medium.com/swlh/cheatsheet-for-setting-up-a-rails-backend-and-a-react-frontend-terminal-commands-1bacea893a80" rel="noopener">https://medium . com/swlh/cheat sheet-for-setting-a-rails-back end-and-a-react-frontend-terminal-commands-1 bacea 893 a80</a></p><h2 id="81b6" class="nz kx iq bd ky oh oi dn lc oj ok dp lg lv ol om li lx on oo lk lz op oq lm or bi translated">指定要使用的端口</h2><p id="29d6" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">📖<a class="ae kv" href="https://guides.rubyonrails.org/kindle/command_line.html" rel="noopener ugc nofollow" target="_blank">https://guides.rubyonrails.org/kindle/command_line.html</a></p><h2 id="a5b5" class="nz kx iq bd ky oh oi dn lc oj ok dp lg lv ol om li lx on oo lk lz op oq lm or bi translated">克-奥二氏分级量表</h2><p id="e70a" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">📖<a class="ae kv" href="https://medium.com/@admatbandara/setting-up-cors-to-my-rails-api-a6184e461a0f" rel="noopener">https://medium . com/@ admatbandara/setting-up-CORS-to-my-rails-API-a 6184 e 461 a 0f</a><br/>📖<a class="ae kv" href="https://medium.com/ruby-daily/understanding-cors-when-using-ruby-on-rails-as-an-api-f086dc6ffc41" rel="noopener">https://medium . com/ruby-daily/understanding-CORS-when-using-ruby-on-rails-as-an-API-f 086 DC 6 ffc 41</a></p><h2 id="1d07" class="nz kx iq bd ky oh oi dn lc oj ok dp lg lv ol om li lx on oo lk lz op oq lm or bi translated">使用JWT认证</h2><p id="b0f0" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">📖<a class="ae kv" href="https://medium.com/better-programming/build-a-rails-api-with-jwt-61fb8a52d833" rel="noopener">https://medium . com/better-programming/build-a-rails-API-with-jwt-61 FB 8 a 52d 833</a></p><h2 id="3cb0" class="nz kx iq bd ky oh oi dn lc oj ok dp lg lv ol om li lx on oo lk lz op oq lm or bi translated">反应路线</h2><p id="6753" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">📖<a class="ae kv" href="https://medium.com/the-andela-way/understanding-the-fundamentals-of-routing-in-react-b29f806b157e" rel="noopener">https://medium . com/the-andela-way/understanding-the-fundamentals-of-routing-in-react-b29f 806 b 157 e</a></p><h2 id="2154" class="nz kx iq bd ky oh oi dn lc oj ok dp lg lv ol om li lx on oo lk lz op oq lm or bi translated">Redux术语备忘单</h2><p id="0941" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">📖<a class="ae kv" href="https://gist.github.com/alexgriff/0e247dee73e9125177d9c04cec159cc6" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Alex Griff/0e 247 dee 73 e 9125177d 9 c 04 CEC 159 cc 6</a></p></div></div>    
</body>
</html>