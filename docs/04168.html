<html>
<head>
<title>Laravel Data-Driven Strategies #2: setup user session recording in your application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel 数据驱动策略#2:在应用程序中设置用户会话记录</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/laravel-data-driven-strategies-2-setup-user-session-recording-in-your-application-ca79de4acc8d?source=collection_archive---------3-----------------------#2021-02-04">https://blog.devgenius.io/laravel-data-driven-strategies-2-setup-user-session-recording-in-your-application-ca79de4acc8d?source=collection_archive---------3-----------------------#2021-02-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0f1ae27fb437ca51d9d570243d000549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3oD2hUEY_OTOjFM5"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">Kushagra Kevat 在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><blockquote class="ka kb kc"><p id="6933" class="kd ke kf kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">"不管你的界面有多酷，如果少一些就更好了."~艾兰·库伯</p></blockquote><p id="8d23" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">第一次读到这句话时，我觉得挺有趣的，因为每次你和你的 UX 设计师一起思考界面和功能之间的联系时，都需要很多东西，因为那个按钮，或者那个文本颜色，或者那个阴影……简而言之，如果你曾经做过这个，你就会明白是什么样子了！</p><p id="162d" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">真正的问题是，在设计 UX 的时候，你必须关注用户的行为……现实一点，你不是你的用户，甚至你的 UX 设计师也不是！你妥协了，这是事实，你必须接受。</p><p id="86a4" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">显然，我并不是说你们的 UX 设计师不擅长他的工作，UX 的设计过程确实很困难，需要大量的创造力、研究和专注，但有时它可能需要外部的帮助。</p><p id="97d6" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">而我说的外部是由你的用户构成的！你如何将你的用户纳入 UX 的设计中？这有点简单:<strong class="kg io">记录他们</strong>。</p><p id="b82c" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">如果你从未想过，这听起来可能很奇怪。现在我想你正在想，当你进入一个网站，移动你的鼠标，而另一边有人穿着睡衣看着你向下滚动你的最新消息时会发生什么，那是很尴尬的！当我谈到记录用户时，我指的是用户会话:从用户打开第一页到关闭第一页的整个时间间隔、鼠标移动和事件。观察用户在你的网站上的真实行为是很有趣的，因为它可以让你重新考虑很多东西。例如，它可以显示用户不使用某些功能，因为他们发现它们不容易访问，或者某个功能没有像您想象的那样被访问。</p><p id="172a" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">记录用户会话真的可以改变你投射 UX 的方式，所以让我们深入研究一下，看看它是如何工作的！</p><h1 id="cbc9" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">设置</h1><p id="012c" class="pw-post-body-paragraph kd ke in kg b kh md kj kk kl me kn ko lc mf kr ks ld mg kv kw le mh kz la lb ig bi translated">许多在线服务允许你记录用户会话，有些是免费的，如 Yandex Metrika，有些是付费的，如 Hotjar，这完全取决于你想实现什么。在这里，我们将尝试基于 Cimice 构建我们的自定义屏幕记录解决方案，这是一个实验性的用户会话记录器，您可以在<a class="ae jz" href="https://github.com/artf/cimice" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。</p><p id="bfaf" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">开始会话记录所需的一切都是在<code class="fe mi mj mk ml b">dist/cimice.min.js</code>中可用的 cimice 构建。</p><p id="67fd" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">为了帮助记录每个页面上的用户会话，只需创建一个自定义的刀片文件来嵌入所需的位置。<code class="fe mi mj mk ml b">views/cimice_recording.blade.php</code>将包含:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="c4fc" class="mu lg in ml b gy mv mw l mx my">&lt;script <em class="kf">src</em>="{!! <strong class="ml io">asset('public/path/to/cimice.min.js')</strong> !!}"&gt;&lt;/script&gt;</span></pre><p id="08b0" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">这只是 cimice 脚本的导入，但也必须进行配置。<br/>Github 的第二个例子非常简单，但对于测试目的或非常简单的情况，它只需<em class="kf">起作用</em>。</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="22bb" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">如果你放一个<code class="fe mi mj mk ml b">console.log(movieJson)</code>来检查里面是什么，你会看到一个 JSON 对象包含:</p><ul class=""><li id="6ff2" class="nb nc in kg b kh ki kl km lc nd ld ne le nf lb ng nh ni nj bi translated"><strong class="kg io">帧</strong>:包含记录帧的数组。</li><li id="0e25" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io">左侧</strong>:左侧页面偏移量。</li><li id="348f" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io">顶部</strong>:顶部页面偏移量。</li><li id="218e" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io"> scrollX </strong>:水平滚动偏移量。</li><li id="a54d" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io"> scrollY </strong>:垂直滚动偏移量。</li><li id="f920" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io">场景</strong>:当前屏幕上 Base64 编码的 HTML。</li></ul><p id="ddad" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">注意，如果 HTML 在同一个页面会话中发生变化，您应该调整上面的脚本来传递整个<code class="fe mi mj mk ml b">movie</code>，而不是只发送<code class="fe mi mj mk ml b">frames</code>。</p><p id="cf77" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">如果您想将整个会话存储在您的数据库中，您必须通过相对迁移<code class="fe mi mj mk ml b">php artisan make:migration create_session_recordings_table --create=session_recordings</code>使用合适的模型。该表应保持:</p><ul class=""><li id="6eb1" class="nb nc in kg b kh ki kl km lc nd ld ne le nf lb ng nh ni nj bi translated"><strong class="kg io"> session_id </strong>:记录的会话。</li><li id="5d81" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io"> user_id </strong>:你正在记录的用户(如果你想跟踪的话)。</li><li id="83aa" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io"> payload </strong>:客户端发送的 JSON。</li><li id="a1c1" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated"><strong class="kg io">previous _ session _ recordings _ id</strong>:这将用于链接从客户端发送的每个记录。</li></ul><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="3abc" class="mu lg in ml b gy mv mw l mx my">$table-&gt;<em class="kf">id</em>();<br/>$table-&gt;<em class="kf">string</em>('<strong class="ml io">session_id</strong>');<br/>$table-&gt;<em class="kf">foreignId</em>('<strong class="ml io">user_id</strong>')<br/>      -&gt;<em class="kf">nullable</em>()<br/>      -&gt;<em class="kf">constrained</em>('<strong class="ml io">users</strong>')<br/>      -&gt;<em class="kf">onUpdate</em>('<strong class="ml io">cascade</strong>')<br/>      -&gt;<em class="kf">onDelete</em>('<strong class="ml io">cascade</strong>');<br/>$table-&gt;<em class="kf">json</em>('<strong class="ml io">payload</strong>');<br/>$table-&gt;<em class="kf">timestamps</em>();</span></pre><p id="e53c" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">我们希望通过一个模型来使用这些数据，所以只需<code class="fe mi mj mk ml b">php artisan make:model SessionRecording</code>。我们还想确保每个属性都是可填充的。</p><p id="61dc" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">现在我们必须准备一个 API 来存储我们的记录，从一个控制器<code class="fe mi mj mk ml b">php artisan make:controller <strong class="kg io">SessionRecording\RecordingController</strong></code>和一个请求<code class="fe mi mj mk ml b">php artisan make:request <strong class="kg io">SessionRecording\StoreRecordingRequest</strong></code>开始。</p><p id="567d" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">为了保持请求简单，我们只想在 JSON 请求到来时授权它，并将数据放入规则中。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="ab37" class="mu lg in ml b gy mv mw l mx my"><em class="kf">public </em>function <strong class="ml io">authorize</strong>()<br/>{<em class="kf"><br/>    </em>return <strong class="ml io">$this-&gt;wantsJson()</strong>;<br/>}</span><span id="23ac" class="mu lg in ml b gy np mw l mx my"><em class="kf">public function </em><strong class="ml io">rules</strong>()<br/>{<br/>    return [<br/>        <strong class="ml io">'frames' =&gt; 'required_if:scene,=,null|array',<br/>        'left' =&gt; 'sometimes|nullable|numeric',<br/>        'top' =&gt; 'sometimes|nullable|numeric',<br/>        'scrollX' =&gt; 'sometimes|nullable|numeric',<br/>        'scrollY' =&gt; 'sometimes|nullable|numeric',<br/>        'scene' =&gt; 'sometimes|string',</strong><br/>    ];<br/>}</span></pre><p id="e0bb" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">控制器逻辑也很简单，它只需要存储数据。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="1739" class="mu lg in ml b gy mv mw l mx my"><em class="kf">public </em>function store(<strong class="ml io">StoreRecordingRequest </strong>$request)<br/>{<br/>    $inputs = $request-&gt;only([<strong class="ml io">'frames','left','top','scrollX','scrollY','scene'</strong>]);</span><span id="6e8d" class="mu lg in ml b gy np mw l mx my">    $user = $request-&gt;user();</span><span id="73c8" class="mu lg in ml b gy np mw l mx my">    <strong class="ml io">SessionRecording::create([<br/>        'session_id' =&gt; $request-&gt;session()-&gt;getId(),<br/>        'user_id' =&gt; $user ? $user-&gt;id : null,<br/>        'payload' =&gt; $inputs<br/>    ]);</strong></span><span id="543b" class="mu lg in ml b gy np mw l mx my">    return response()-&gt;json([<br/>        'success' =&gt; true,<br/>    ]);<br/>}</span></pre><p id="4858" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">所以<code class="fe mi mj mk ml b">sendRecordings</code>终于可以调整了:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="f5e8" class="mu lg in ml b gy mv mw l mx my"><em class="kf">function sendRecordings</em>(recordings) {<br/>    <em class="kf">let </em>movieJson = JSON.stringify(recordings);<br/>    <em class="kf">fetch</em>(<br/>        '{!! route('recordings.store') !!}',<br/>        {<br/>            method: 'POST',<br/>            body: movieJson,<br/>            headers: {<br/>                'Accept': 'application/json',<br/>                'Content-Type': 'application/json',<br/>                'X-CSRF-Token': '{!! csrf_token() !!}'<br/>            },<br/>        }<br/>    ).then(console.log);<br/>}</span></pre><p id="d547" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">请注意，这只是示例代码，您可以根据自己的使用情况进行调整。</p><h1 id="bfbb" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">录音</h1><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nq"><img src="../Images/7fb739b198df0b5bb5c8d0cbd029de82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Rp4EBKUWStIwn-xQ"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><a class="ae jz" href="https://unsplash.com/@fabrizioverrecchia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Fabrizio Verrecchia </a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="5ec8" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">现在记录用户会话非常容易，你只需要包含 cimice blade 文件，这就是诀窍！</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="a90c" class="mu lg in ml b gy mv mw l mx my"><em class="kf">@include(</em><strong class="ml io">'cimice_recording'</strong><em class="kf">)</em></span></pre><p id="9f6f" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">就这样，没别的事了！</p><h1 id="f82c" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">透过镜子看戴夫</h1><p id="a6bc" class="pw-post-body-paragraph kd ke in kg b kh md kj kk kl me kn ko lc mf kr ks ld mg kv kw le mh kz la lb ig bi translated">一旦一切都设置好了，你开始记录会话，你可能甚至想看看记录了什么。</p><p id="09c9" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">请注意<strong class="kg io">这里我们不会构建一个仪表板</strong>来查看会话和保护数据不被未授权用户查看，这取决于您。如果你想快速构建一个仪表板，你可以查看我的另一篇关于 Infyom 生成器的文章🤓！</p><p id="827d" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">这里我们想从数据库中收集数据。我之前概述的数据库结构非常简单，您可以按会话 ID 或用户 ID 对数据进行分组，或者您可以向数据库结构中添加其他数据，以便帮助您收集更专业的数据:例如，您可以添加用户代理、请求头，或者将这些数据与其他分析系统进行汇总，收集由您决定！</p><p id="48e3" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">要获取以这种方式记录的每个会话，您只需:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="fc3f" class="mu lg in ml b gy mv mw l mx my"><em class="kf">SessionRecording</em>::<strong class="ml io">distinct</strong>('session_id')-&gt;get('session_id');</span></pre><p id="5cfe" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">或者，如果您希望每个 ID 都与使用 MySQL/MariaDB 原始语法的会话相关，您可以通过以下方式获得它们:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="09d8" class="mu lg in ml b gy mv mw l mx my"><em class="kf">SessionRecording</em>::<strong class="ml io">groupBy</strong>('session_id')-&gt;<strong class="ml io">selectRaw</strong>('session_id, <strong class="ml io">GROUP_CONCAT(id)</strong> AS ids')-&gt;get();</span></pre><p id="86ba" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">如果录制会话太多，您甚至可以使用 reduce 合并它们，如下所示:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="fc9a" class="mu lg in ml b gy mv mw l mx my">$recordings = SessionRecording::<strong class="ml io">where</strong>('session_id', '=', '<em class="kf">a_user_session_id</em>')<br/>    -&gt;<strong class="ml io">orderBy</strong>('created_at')<br/>    -&gt;<strong class="ml io">get</strong>()<br/>    -&gt;<strong class="ml io">reduce</strong>(<br/>        <em class="kf">function </em>($rec, $v) {<br/>            <strong class="ml io">if (empty($rec)) {<br/>                $rec = json_decode($v-&gt;payload, true);<br/>            } else {<br/>                $rec['frames'] = array_merge($rec['frames'], json_decode($v-&gt;payload, true)['frames']);<br/>            }<br/>            return $rec;</strong><br/>        },<br/>        <strong class="ml io">[]</strong><br/>    );<br/><strong class="ml io">usort($recordings['frames'], function ($v1, $v2) { return $v1['ts'] - $v2['ts']; });</strong></span></pre><p id="edd8" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated"><strong class="kg io">这是如何工作的？</strong></p><ul class=""><li id="20fd" class="nb nc in kg b kh ki kl km lc nd ld ne le nf lb ng nh ni nj bi translated">您可以通过查询获得特定会话的所有记录</li><li id="00e3" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated">缩减器将开始使用空数组</li><li id="64ea" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated">第一次，缩减器会将有效负载放入缩减的数组中</li><li id="ed93" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated">每次从那里开始，新记录的帧将与以前的帧放在一起。</li><li id="307c" class="nb nc in kg b kh nk kl nl lc nm ld nn le no lb ng nh ni nj bi translated">之后，为了安全起见，<code class="fe mi mj mk ml b">usort</code>将根据<code class="fe mi mj mk ml b">ts</code>属性(时间戳)对帧进行排序。</li></ul><p id="f42b" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">现在您已经有了所有的录音，您可以开始播放了！你可以把显示记录会话的代码放到一个单独的文件中，比如<code class="fe mi mj mk ml b">cimice_play_script.blade.php</code>。</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="cdd7" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">请注意，您可以调整播放器将如何显示每一个事件。注册的事件可以是<code class="fe mi mj mk ml b">mousemove</code>、<code class="fe mi mj mk ml b">click</code>、<code class="fe mi mj mk ml b">scroll</code>、<code class="fe mi mj mk ml b">resize</code>、<code class="fe mi mj mk ml b">contextmenu</code>(您也可以监听任何其他事件，但是您必须调整初始配置)，因此使用<code class="fe mi mj mk ml b">player.on('event', ...)</code>您可以编辑您的鼠标将如何出现。</p><p id="bea3" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">一旦您将这个文件放入您的视图文件夹，您应该简单地做这样的事情:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="b92a" class="mu lg in ml b gy mv mw l mx my">&lt;div id="player"&gt;&lt;/div&gt;</span><span id="23aa" class="mu lg in ml b gy np mw l mx my"><em class="kf">@include(</em>'cimice_play_script'<em class="kf">)<br/></em>&lt;script&gt;<br/>    let <strong class="ml io">movieJSON </strong>= <strong class="ml io">{!! json_encode($recordings) !!}</strong>;<br/>    <em class="kf">playMovie</em>(<strong class="ml io">movieJSON, document.getElementById('player')</strong>);<br/>&lt;/script&gt;</span></pre><p id="63ea" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">这将在 div 中创建一个 iframe 作为参数传递，显示用户会话！</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nr"><img src="../Images/52fa159ae0050f63b9a58d7b10367582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fdXfKS2jweCoDKnidMhsfQ.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">GIF 格式的用户会话示例</figcaption></figure><p id="40f3" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">请记住，用户会话不一定是线性的:每个用户都可以切换到另一个窗口，等待几秒钟而不做任何事情，可以打开开发者标签，您无法准确预测用户将如何使用您的网站，但这是一个开始！</p><h1 id="8adc" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">但是……隐私？</h1><blockquote class="ka kb kc"><p id="0212" class="kd ke kf kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">你的数据驱动策略的目的应该永远是给用户更好的服务！</p></blockquote><p id="9300" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">你的用户不是你为了自己的目的需要利用的<em class="kf">东西</em>。如果你正在构建这样的东西，是因为你想改进你的服务，让它更有用，给你的用户更好的体验。你的 KPI 和指标的存在是因为你的用户，如果你想建立这样的东西，应该是因为你想给他们<strong class="kg io">一个他们可以使用和欣赏的服务。</strong></p><p id="77e3" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">你的用户应该始终意识到你是如何收集和使用他们的数据的:记住在你的隐私政策中明确这种系统，在你不需要他们相关的地方匿名化数据，并在明确数据将被删除的地方保持和遵守数据保留政策。</p><p id="5030" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">现在该由你来创造伟大的东西了！🥂</p><p id="2b0f" class="pw-post-body-paragraph kd ke in kg b kh ki kj kk kl km kn ko lc kq kr ks ld ku kv kw le ky kz la lb ig bi translated">请继续关注其他数据驱动的策略，如果你愿意，花一点时间️️to 留下评论，谈谈你如何做出由工具支持的数据驱动的决策！☕️</p></div></div>    
</body>
</html>