<html>
<head>
<title>Building a REST API using Node js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Node js 构建 REST API</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/building-a-rest-api-using-node-js-de1599154e2f?source=collection_archive---------17-----------------------#2022-01-04">https://blog.devgenius.io/building-a-rest-api-using-node-js-de1599154e2f?source=collection_archive---------17-----------------------#2022-01-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/289c7aeb5053506f00be526925444902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q7X8YDhiUUpKmhmBUueIFw.png"/></div></div></figure><p id="0265" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">REST API 是一个应用程序编程接口，它符合 REST 架构风格的约束，并允许与 RESTful web 服务进行交互。REST 代表“代表性状态转移”。让我们开始构建 RESTful 应用程序。</p><p id="717d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，我们需要为我们的应用程序创建一个文件夹。然后，我们需要在我们的文件夹中安装 express 和 NodeJs，因为我们需要使用下面的命令在我们的文件夹中创建一个<strong class="jx io"> package.json </strong>文件。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="6351" class="lc ld in ky b gy le lf l lg lh">npm init</span></pre><p id="7035" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">package.json 文件将显示如下。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="f549" class="lc ld in ky b gy le lf l lg lh">{<br/>  "name": "node.js-express-framework",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>  },<br/>  "author": "",<br/>  "license": "ISC"<br/>}</span></pre><p id="1119" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，在我们的应用程序中安装 Express，并在终端上使用以下命令将其保存在依赖项列表中。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="ef7e" class="lc ld in ky b gy le lf l lg lh">npm install --save express</span></pre><p id="aa46" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我们需要在根文件夹中添加一个新文件“index.js”。让我们构建一些 HTTP 请求来访问和使用数据，如下所示。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="4a82" class="lc ld in ky b gy le lf l lg lh">const express = require('express');</span><span id="92c0" class="lc ld in ky b gy li lf l lg lh">const app = express();<br/>const port = 3000;</span><span id="5142" class="lc ld in ky b gy li lf l lg lh">//parse JSON using express<br/>app.use(express.json());<br/>app.use(express.urlencoded({extended: false}));</span><span id="93b5" class="lc ld in ky b gy li lf l lg lh">let movies = [{<br/>    id: "1",<br/>    title: "ABC",<br/>    director: "director1",<br/>    release_date: "2020-09-03",<br/>},<br/>{<br/>    id: "2",<br/>    title: "EFG",<br/>    director: "director2",<br/>    release_date: "2021-12-03",<br/>},<br/>];</span><span id="6905" class="lc ld in ky b gy li lf l lg lh">//get the movie list  in the form of JSON<br/>app.get('/movies', (req, res) =&gt; {<br/>    res.json(movies);<br/>});</span><span id="f869" class="lc ld in ky b gy li lf l lg lh">//add the movie to the list<br/>app.post('/movies', (req, res) =&gt; {<br/>    const movie = req.body;</span><span id="57a0" class="lc ld in ky b gy li lf l lg lh">console.log(movie);<br/>    movies.push(movie);<br/>    res.send("Movie is added to the list");<br/>});</span><span id="2775" class="lc ld in ky b gy li lf l lg lh">//search for a movie in the list<br/>app.get("/movies/:id",(req,res) =&gt; {<br/>    const id = req.params.id;</span><span id="b6c0" class="lc ld in ky b gy li lf l lg lh">for (let movie of movies){<br/>        if(movie.id === id) {<br/>            res.json(movie)<br/>            return<br/>        }<br/>    }<br/>    res.status(404).send('Movie not found');<br/>});</span><span id="5722" class="lc ld in ky b gy li lf l lg lh">//remove movie from the list<br/>app.delete("/movies/:id", (req,res) =&gt; {<br/>    const id= req.params.id;</span><span id="39e0" class="lc ld in ky b gy li lf l lg lh">movies = movies.filter(movie =&gt; {<br/>        if (movie.id !== id){<br/>            return true<br/>        }<br/>        return false<br/>    });<br/>    res.send('Movie is deleted')<br/>});</span><span id="7376" class="lc ld in ky b gy li lf l lg lh">//set the server to listen at port<br/>app.listen(port, () =&gt; console.log(`Example app listening at <a class="ae lj" href="http://localhost:${port}`" rel="noopener ugc nofollow" target="_blank">http://localhost:${port}`</a>));</span></pre><p id="1139" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注意</strong>:要运行这个 web 应用程序，请在终端中键入以下命令。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="b47a" class="lc ld in ky b gy le lf l lg lh">node index.js</span></pre><p id="072a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，导航到<code class="fe lk ll lm ky b"><a class="ae lj" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></code>您的网络浏览器。</p><p id="aca5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注意:</strong>可以使用<em class="ln"> postman </em>测试代码。</p><blockquote class="lo lp lq"><p id="d1bb" class="jv jw ln jx b jy jz ka kb kc kd ke kf lr kh ki kj ls kl km kn lt kp kq kr ks ig bi translated"><strong class="jx io"> <em class="in">使用 Postman 测试 API<br/></em></strong><em class="in">Postman 将帮助我们测试我们的 API 请求，并将 HTTP 请求发送到我们创建的 URL。首先，您需要输入您的请求 URL，选择一个 HTTP 动词(GET、POST、DELETE 等)，然后单击</em> <code class="fe lk ll lm ky b"><em class="in">Send</em></code> <em class="in">。例如，在 URL 中键入</em><code class="fe lk ll lm ky b"><em class="in">localhost:3000/movies</em></code><strong class="jx io"><em class="in"/></strong><em class="in">。</em> <code class="fe lk ll lm ky b"><em class="in">GET</em></code> <em class="in">是我们想要得到的数据。现在点击</em> <code class="fe lk ll lm ky b"><em class="in">Send</em></code> <em class="in">。</em></p></blockquote><p id="bfff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以访问完整的代码<a class="ae lj" href="https://github.com/gsandamali/Building-a-REST-API-using-Node-js" rel="noopener ugc nofollow" target="_blank">在这里</a>。</p><p id="5910" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢您的阅读🙏！</p></div></div>    
</body>
</html>