<html>
<head>
<title>Create Laravel CRUD using Inertia and Vue - list page with search and pagination</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用惯性和 Vue 创建 Laravel CRUD 带有搜索和分页的列表页面</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/create-laravel-crud-using-inertia-and-vue-3-list-page-with-search-and-pagination-c4a52b6501c3?source=collection_archive---------2-----------------------#2022-07-19">https://blog.devgenius.io/create-laravel-crud-using-inertia-and-vue-3-list-page-with-search-and-pagination-c4a52b6501c3?source=collection_archive---------2-----------------------#2022-07-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ceab" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Laravel 从头开始创建 Vue 管理面板——第 2 部分</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/606f2ac40fc472ba5d0a9c34ee740962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FPdAN6xHqkbRcof0vJrOcg.png"/></div></div></figure><p id="ef0e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后一部分我们完成了<a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/laravel-creates-a-vue-admin-panel-from-scratch-part-1-installation-and-authentication-56c451d4d697">安装和认证</a>。在这一部分，我们将添加许可 CRUD 列表页面。我们可以在创建列表页面之前为用户、角色和权限添加种子。</p><ol class=""><li id="76d1" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">创建模型</li><li id="7572" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">创建一个种子并重新迁移</li><li id="e2a9" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">授予超级管理员访问权限</li><li id="4c43" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">添加路线</li><li id="6af1" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">创建控制器</li><li id="dc3d" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">创建索引视图</li><li id="541a" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">添加分页组件</li><li id="7e0f" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">添加即时消息</li><li id="d6c2" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">添加权限菜单</li></ol><h2 id="a5fd" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">1.创建模型</h2><p id="cc36" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">我们已经创建了一个基于刀片模板的管理面板，这个代码已经在 Github<a class="ae ln" href="https://github.com/balajidharma/basic-laravel-admin-panel" rel="noopener ugc nofollow" target="_blank">https://github.com/balajidharma/basic-laravel-admin-panel</a>上可用</p><p id="7a22" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以我们要从这个管理面板复制大部分代码。因此，将<a class="ae ln" href="https://github.com/balajidharma/basic-laravel-admin-panel/tree/master/app/Models" rel="noopener ugc nofollow" target="_blank">中的所有模型复制到这里</a></p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="04f5" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">2.创建一个种子并重新迁移</h2><p id="84d8" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">现在，将<a class="ae ln" href="https://github.com/balajidharma/basic-laravel-admin-panel/blob/master/database/seeders/BasicAdminPermissionSeeder.php" rel="noopener ugc nofollow" target="_blank">这个</a>播种机复制到我们的<code class="fe nh ni nj nk b">database/seeders</code>文件夹。</p><p id="46a0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下命令将删除您的所有数据。它将删除所有表，并再次运行所有迁移，最后，我们的种子将运行。</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="db71" class="mc md iq nk b gy np nq l nr ns">sail artisan migrate:fresh --seed --seeder=BasicAdminPermissionSeeder</span></pre><p id="53b3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您不想删除您的数据，请运行以下命令。它只会运行播种机</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="8f8b" class="mc md iq nk b gy np nq l nr ns">sail artisan db:seed --class=BasicAdminPermissionSeeder</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="9716" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">3.授予超级管理员访问权限</h2><p id="23e7" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">超级管理员将拥有对应用程序的所有访问权限。所以当超级管理员登录时，需要为所有的权限检查函数<code class="fe nh ni nj nk b">can()</code>或<code class="fe nh ni nj nk b">@can()</code>返回 true</p><p id="8710" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在下面添加一个<code class="fe nh ni nj nk b">Gate::before</code>检查你的<code class="fe nh ni nj nk b">AuthServiceProvider</code>启动功能。</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="bee5" class="mc md iq nk b gy np nq l nr ns">public function boot()<br/>    {<br/>        $this-&gt;registerPolicies();<br/>        // Implicitly grant "Super-Admin" role all                  permission checks using can()<br/>       Gate::before(function ($user, $ability) {<br/>           if ($user-&gt;hasRole('super-admin')) {<br/>               return true;<br/>           }<br/>       });<br/>    }</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="4787" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">4.添加路线</h2><p id="b6ec" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">我们将在 app/routes 文件夹中创建一个新的 admin.php 文件。这个文件将包含我们所有的管理路径，在 URL 中带有一个管理前缀。</p><p id="32cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">routes/admin.php</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="b02b" class="mc md iq nk b gy np nq l nr ns">&lt;?phpRoute::group([<br/>    'namespace'  =&gt; 'App\Http\Controllers\Admin',<br/>    'prefix'     =&gt; 'admin',<br/>    'middleware' =&gt; ['auth'],<br/>], function () {<br/>    Route::resource('permission', 'PermissionController');<br/>});</span></pre><p id="eda3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些新的管理路线需要包含在 RouteServiceProvider.php 的<code class="fe nh ni nj nk b">boot</code>函数中<br/>用下面的代码更新<code class="fe nh ni nj nk b">boot()</code>函数</p><p id="e5a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">app/Providers/routeserviceprovider . PHP</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="8cba" class="mc md iq nk b gy np nq l nr ns">public function boot()<br/>{<br/>    $this-&gt;configureRateLimiting();$this-&gt;routes(function () {<br/>        Route::prefix('api')<br/>            -&gt;middleware('api')<br/>            -&gt;namespace($this-&gt;namespace)<br/>            -&gt;group(base_path('routes/api.php'));Route::middleware('web')<br/>            -&gt;namespace($this-&gt;namespace)<br/>            -&gt;group(base_path('routes/web.php'));Route::middleware('web')<br/>            -&gt;namespace($this-&gt;namespace)<br/>            -&gt;group(base_path('routes/admin.php'));<br/>    });<br/>}</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="6aec" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">5.创建控制器</h2><p id="fa0c" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">用下面的索引和销毁函数创建<code class="fe nh ni nj nk b">PermissionController</code>。</p><p id="7f0a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nh ni nj nk b">app/Http/Controllers/Admin/PermissionController.php</code></p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="cbd4" class="mc md iq nk b gy np nq l nr ns">&lt;?php</span><span id="f46a" class="mc md iq nk b gy nt nq l nr ns">namespace App\Http\Controllers\Admin;</span><span id="e04a" class="mc md iq nk b gy nt nq l nr ns">use App\Http\Controllers\Controller;<br/>use App\Http\Requests\Admin\StorePermissionRequest;<br/>use App\Http\Requests\Admin\UpdatePermissionRequest;<br/>use App\Models\Permission;<br/>use Illuminate\Http\Request;<br/>use Inertia\Inertia;</span><span id="7edb" class="mc md iq nk b gy nt nq l nr ns">class PermissionController extends Controller<br/>{<br/>    function __construct()<br/>    {<br/>         $this-&gt;middleware('can:permission list', ['only' =&gt; ['index','show']]);<br/>         $this-&gt;middleware('can:permission create', ['only' =&gt; ['create','store']]);<br/>         $this-&gt;middleware('can:permission edit', ['only' =&gt; ['edit','update']]);<br/>         $this-&gt;middleware('can:permission delete', ['only' =&gt; ['destroy']]);<br/>    }<br/>    /**<br/>     * Display a listing of the resource.<br/>     *<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public function index()<br/>    {<br/>        $permissions = (new Permission)-&gt;newQuery();</span><span id="9af6" class="mc md iq nk b gy nt nq l nr ns">        if (request()-&gt;has('search')) {<br/>            $permissions-&gt;where('name', 'Like', '%' . request()-&gt;input('search') . '%');<br/>        }</span><span id="15aa" class="mc md iq nk b gy nt nq l nr ns">        if (request()-&gt;query('sort')) {<br/>            $attribute = request()-&gt;query('sort');<br/>            $sort_order = 'ASC';<br/>            if (strncmp($attribute, '-', 1) === 0) {<br/>                $sort_order = 'DESC';<br/>                $attribute = substr($attribute, 1);<br/>            }<br/>            $permissions-&gt;orderBy($attribute, $sort_order);<br/>        } else {<br/>            $permissions-&gt;latest();<br/>        }</span><span id="b898" class="mc md iq nk b gy nt nq l nr ns">        $permissions = $permissions-&gt;paginate(5)-&gt;onEachSide(2);</span><span id="844f" class="mc md iq nk b gy nt nq l nr ns">        return Inertia::render('Admin/Permission/Index', [<br/>            'permissions' =&gt; $permissions,<br/>            'filters' =&gt; request()-&gt;all('search'),<br/>        ]);<br/>    }</span><span id="34ec" class="mc md iq nk b gy nt nq l nr ns">    /**<br/>     * Remove the specified resource from storage.<br/>     *<br/>     * @param  \App\Models\Permission  $permission<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public function destroy(Permission $permission)<br/>    {<br/>        $permission-&gt;delete();</span><span id="5f6f" class="mc md iq nk b gy nt nq l nr ns">        return redirect()-&gt;route('permission.index')<br/>                        -&gt;with('message', __('Permission deleted     successfully'));<br/>    }<br/>}</span></pre><p id="65d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nh ni nj nk b">Inertia::render</code>用于共享要查看的数据。</p><h2 id="085a" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">6.创建索引视图</h2><p id="28b7" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">在<code class="fe nh ni nj nk b">resources/js/Pages/Admin/Permission</code>文件夹中创建 Index.vue。</p><p id="b497" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nh ni nj nk b">resources/js/Pages/Admin/Permission/Index.vue</code></p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="c2c1" class="mc md iq nk b gy np nq l nr ns">&lt;script setup&gt;<br/>import BreezeAuthenticatedLayout from '@/Layouts/Authenticated.vue';<br/>import { Head, Link, useForm } from '@inertiajs/inertia-vue3';<br/>import BreezeButton from "@/Components/Button.vue";<br/>import Pagination from "@/Components/Admin/Pagination.vue";</span><span id="f27d" class="mc md iq nk b gy nt nq l nr ns">const props = defineProps({<br/>  permissions: {<br/>    type: Object,<br/>    default: () =&gt; ({}),<br/>  },<br/>  filters: {<br/>    type: Object,<br/>    default: () =&gt; ({}),<br/>  },<br/>})</span><span id="ac04" class="mc md iq nk b gy nt nq l nr ns">const form = useForm({<br/>    search: props.filters.serach,<br/>})</span><span id="b491" class="mc md iq nk b gy nt nq l nr ns">const formDelete = useForm({})</span><span id="6d88" class="mc md iq nk b gy nt nq l nr ns">function destroy(id) {<br/>    if (confirm("Are you sure you want to delete?")) {<br/>        formDelete.delete(route('permission.destroy', id));<br/>    }<br/>}<br/>&lt;/script&gt;</span><span id="213a" class="mc md iq nk b gy nt nq l nr ns">&lt;template&gt;<br/>    &lt;Head title="Permissions" /&gt;</span><span id="5452" class="mc md iq nk b gy nt nq l nr ns">&lt;BreezeAuthenticatedLayout&gt;<br/>        &lt;template #header&gt;<br/>            &lt;h2 class="font-semibold text-xl text-gray-800 leading-tight"&gt;<br/>                Permissions<br/>            &lt;/h2&gt;<br/>        &lt;/template&gt;</span><span id="449b" class="mc md iq nk b gy nt nq l nr ns">&lt;div class="py-12"&gt;<br/>            &lt;div class="max-w-7xl mx-auto sm:px-6 lg:px-8"&gt;<br/>                &lt;div v-if="$page.props.flash.message" class="p-4 mb-4 text-sm text-green-700 bg-green-100 rounded-lg dark:bg-green-200 dark:text-green-800" role="alert"&gt;<br/>                    &lt;span class="font-medium"&gt;<br/>                        {{ $page.props.flash.message }}<br/>                    &lt;/span&gt;<br/>                &lt;/div&gt;<br/>                &lt;div class="bg-white overflow-hidden shadow-sm sm:rounded-lg"&gt;<br/>                    &lt;div class="p-6 bg-white border-b border-gray-200"&gt;<br/>                        &lt;div class="flex flex-col mt-8"&gt;<br/>                        <br/>                        &lt;div class="d-print-none with-border mb-8"&gt;<br/>                            &lt;Link :href="route('permission.create')" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"&gt;Add Permission&lt;/Link&gt;<br/>                        &lt;/div&gt;</span><span id="55ce" class="mc md iq nk b gy nt nq l nr ns">&lt;div class="py-2"&gt;<br/>                                &lt;div class="min-w-full border-b border-gray-200 shadow overflow-x-auto"&gt;<br/>                                    &lt;form @submit.prevent="form.get(route('permission.index'))"&gt;<br/>                                    &lt;div class="py-2 flex"&gt;<br/>                                        &lt;div class="flex pl-4"&gt;<br/>                                            &lt;input type="search" v-model="form.search" class="rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="Search"&gt;<br/>                                            &lt;button type='submit' class='ml-4 inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150'&gt;<br/>                                                Search<br/>                                            &lt;/button&gt;<br/>                                        &lt;/div&gt;<br/>                                    &lt;/div&gt;<br/>                                    &lt;/form&gt;<br/>                                    &lt;table class="border-collapse table-auto w-full text-sm"&gt;<br/>                                        &lt;thead&gt;<br/>                                            &lt;tr&gt;<br/>                                                &lt;th class="py-2 px-4 bg-gray-50 font-bold uppercase text-sm text-grey-dark border-b border-grey-light text-left"&gt;<br/>                                                    Name<br/>                                                &lt;/th&gt;<br/>                                                &lt;th class="py-2 px-4 bg-gray-50 font-bold uppercase text-sm text-grey-dark border-b border-grey-light text-left"&gt;<br/>                                                    Actions<br/>                                                &lt;/th&gt;<br/>                                            &lt;/tr&gt;<br/>                                        &lt;/thead&gt;</span><span id="02fd" class="mc md iq nk b gy nt nq l nr ns">&lt;tbody class="bg-white dark:bg-slate-800"&gt;<br/>                                            &lt;tr v-for="permission in permissions.data" :key="permission.id"&gt;<br/>                                                &lt;td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400"&gt;<br/>                                                    &lt;div class="text-sm text-gray-900"&gt;<br/>                                                        &lt;a :href="route('permission.show', permission.id)" class="no-underline hover:underline text-cyan-600 dark:text-cyan-400"&gt;{{ permission.name }}&lt;/a&gt;<br/>                                                    &lt;/div&gt;<br/>                                                &lt;/td&gt;<br/>                                                &lt;td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400"&gt;<br/>                                                    &lt;div class="flex"&gt;<br/>                                                        &lt;Link :href="route('permission.edit', permission.id)" class="inline-flex items-center px-4 py-2 text-white mr-4 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray transition ease-in-out duration-150 px-4 py-2 text-white"&gt;<br/>                                                            Edit<br/>                                                        &lt;/Link&gt;<br/>                                                        &lt;BreezeButton class="px-4 py-2 text-white bg-red-600" @click="destroy(permission.id)"&gt;<br/>                                                            Delete<br/>                                                        &lt;/BreezeButton&gt;<br/>                                                    &lt;/div&gt;<br/>                                                &lt;/td&gt;<br/>                                            &lt;/tr&gt;<br/>                                        &lt;/tbody&gt;<br/>                                    &lt;/table&gt;<br/>                                &lt;/div&gt;<br/>                                &lt;div class="py-8"&gt;<br/>                                    &lt;Pagination class="mt-6" :data="permissions" /&gt;<br/>                                &lt;/div&gt;<br/>                            &lt;/div&gt;<br/>                        &lt;/div&gt;<br/>                    &lt;/div&gt;<br/>                &lt;/div&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/BreezeAuthenticatedLayout&gt;<br/>&lt;/template&gt;</span></pre><p id="ae3b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们使用 Vue <a class="ae ln" href="https://vuejs.org/guide/extras/composition-api-faq.html" rel="noopener ugc nofollow" target="_blank">组合 API </a>。我们将为分页创建新的组件。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="68c9" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">7.添加分页组件</h2><p id="7788" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">在<code class="fe nh ni nj nk b">resources/js/Components/Admin/</code>文件夹中创建一个分页组件。</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="3ebd" class="mc md iq nk b gy np nq l nr ns">&lt;script setup&gt;<br/>import { Link } from '@inertiajs/inertia-vue3';</span><span id="b2ee" class="mc md iq nk b gy nt nq l nr ns">defineProps({<br/>    data: {<br/>        type: Object,<br/>        default: () =&gt; ({}),<br/>    },<br/>});<br/>&lt;/script&gt;</span><span id="0999" class="mc md iq nk b gy nt nq l nr ns">&lt;template&gt;<br/>    &lt;nav v-if="data.links.length &gt; 3" role="navigation" aria-label="Pagination Navigation" class="flex items-center justify-between"&gt;<br/>        &lt;div class="flex justify-between flex-1 sm:hidden"&gt;<br/>            &lt;span v-if="data.current_page &lt;= 1" class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 cursor-default leading-5 rounded-md"&gt;<br/>                Previous<br/>            &lt;/span&gt;<br/>            &lt;Link v-else :href="data.prev_page_url" class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 leading-5 rounded-md hover:text-gray-500 focus:outline-none focus:ring ring-gray-300 focus:border-blue-300 active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150"&gt;<br/>                Previous<br/>            &lt;/Link&gt;</span><span id="6232" class="mc md iq nk b gy nt nq l nr ns">&lt;Link v-if="data.current_page &lt; data.last_page" :href="data.next_page_url" class="relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 leading-5 rounded-md hover:text-gray-500 focus:outline-none focus:ring ring-gray-300 focus:border-blue-300 active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150"&gt;<br/>                Next<br/>            &lt;/Link&gt;<br/>            &lt;span v-else class="relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-gray-500 bg-white border border-gray-300 cursor-default leading-5 rounded-md"&gt;<br/>                Next<br/>            &lt;/span&gt;<br/>        &lt;/div&gt;</span><span id="4e2f" class="mc md iq nk b gy nt nq l nr ns">&lt;div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"&gt;<br/>            &lt;div&gt;<br/>                &lt;p class="text-sm text-gray-700 leading-5"&gt;<br/>                    Showing<br/>                    &lt;span class="font-medium"&gt;{{ data.from }}&lt;/span&gt;<br/>                    to<br/>                    &lt;span class="font-medium"&gt;{{ data.to }}&lt;/span&gt;<br/>                    of<br/>                    &lt;span class="font-medium"&gt;{{ data.total }}&lt;/span&gt;<br/>                    results<br/>                &lt;/p&gt;<br/>            &lt;/div&gt;</span><span id="5861" class="mc md iq nk b gy nt nq l nr ns">&lt;div&gt;<br/>                &lt;span class="relative z-0 inline-flex shadow-sm rounded-md"&gt;<br/>                    &lt;span v-if="data.current_page &lt;= 1" aria-disabled="true" aria-label="Previous"&gt;<br/>                        &lt;span class="relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 cursor-default rounded-l-md leading-5" aria-hidden="true"&gt;<br/>                            &lt;svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"&gt;<br/>                                &lt;path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /&gt;<br/>                            &lt;/svg&gt;<br/>                        &lt;/span&gt;<br/>                    &lt;/span&gt;<br/>                    &lt;Link v-else :href="data.prev_page_url" rel="prev" class="relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-l-md leading-5 hover:text-gray-400 focus:z-10 focus:outline-none focus:ring ring-gray-300 focus:border-blue-300 active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150" aria-label="Previous"&gt;<br/>                        &lt;svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"&gt;<br/>                            &lt;path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /&gt;<br/>                        &lt;/svg&gt;<br/>                    &lt;/Link&gt;</span><span id="58ed" class="mc md iq nk b gy nt nq l nr ns">&lt;template v-for="(link, key) in data.links"&gt;<br/>                        &lt;template v-if="key &gt; 0 &amp;&amp; key &lt; data.last_page + 1"&gt;<br/>                            &lt;span v-if="!link.active &amp;&amp; link.url === null" :key="key" aria-disabled="true"&gt;<br/>                                &lt;span class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-gray-700 bg-white border border-gray-300 cursor-default leading-5"&gt;{{ link.label }}&lt;/span&gt;<br/>                            &lt;/span&gt;</span><span id="0e3d" class="mc md iq nk b gy nt nq l nr ns">&lt;span v-else-if="link.active" :key="`current-${key}`" aria-current="page"&gt;<br/>                                &lt;span class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-gray-500 bg-white border border-gray-300 cursor-default leading-5"&gt;{{ link.label }}&lt;/span&gt;<br/>                            &lt;/span&gt;</span><span id="4d08" class="mc md iq nk b gy nt nq l nr ns">&lt;Link v-else :key="`link-${key}`" :href="link.url" v-html="link.label" class="relative inline-flex items-center px-4 py-2 -ml-px text-sm font-medium text-gray-700 bg-white border border-gray-300 leading-5 hover:text-gray-500 focus:z-10 focus:outline-none focus:ring ring-gray-300 focus:border-blue-300 active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150" aria-label="`Go to page ${link.label}`" /&gt;<br/>                        &lt;/template&gt;<br/>                    &lt;/template&gt;</span><span id="8229" class="mc md iq nk b gy nt nq l nr ns">&lt;Link v-if="data.current_page &lt; data.last_page" :href="data.next_page_url" rel="next" class="relative inline-flex items-center px-2 py-2 -ml-px text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-r-md leading-5 hover:text-gray-400 focus:z-10 focus:outline-none focus:ring ring-gray-300 focus:border-blue-300 active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150" aria-label="Next"&gt;<br/>                        &lt;svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"&gt;<br/>                            &lt;path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /&gt;<br/>                        &lt;/svg&gt;<br/>                    &lt;/Link&gt;<br/>                    &lt;span v-else aria-disabled="true" aria-label="Next"&gt;<br/>                        &lt;span class="relative inline-flex items-center px-2 py-2 -ml-px text-sm font-medium text-gray-500 bg-white border border-gray-300 cursor-default rounded-r-md leading-5" aria-hidden="true"&gt;<br/>                            &lt;svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"&gt;<br/>                                &lt;path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /&gt;<br/>                            &lt;/svg&gt;<br/>                        &lt;/span&gt;<br/>                    &lt;/span&gt;<br/>                &lt;/span&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/nav&gt;<br/>&lt;/template&gt;</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="68bb" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">8.添加即时消息</h2><p id="b82d" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">在 HandleInertiaRequests 中间件上添加 Intertia 消息共享数据。在<code class="fe nh ni nj nk b">share</code>功能中添加以下闪存数据</p><p id="e8b9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nh ni nj nk b">app/Http/Middleware/HandleInertiaRequests.php</code></p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="31bc" class="mc md iq nk b gy np nq l nr ns">public function share(Request $request)<br/>{<br/>    return array_merge(parent::share($request), [<br/>        'auth' =&gt; [<br/>            'user' =&gt; $request-&gt;user(),<br/>        ],<br/>        'ziggy' =&gt; function () use ($request) {<br/>            return array_merge((new Ziggy)-&gt;toArray(), [<br/>                'location' =&gt; $request-&gt;url(),<br/>            ]);<br/>        },<br/>        'flash' =&gt; [<br/>            'message' =&gt; fn () =&gt; $request-&gt;session()-&gt;get('message')<br/>        ],<br/>    ]);<br/>}</span></pre><p id="186b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该消息已经包含在 Index.vue 中</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="c951" class="mc md iq nk b gy np nq l nr ns">&lt;div v-if="$page.props.flash.message" class="p-4 mb-4 text-sm text-green-700 bg-green-100 rounded-lg dark:bg-green-200 dark:text-green-800" role="alert"&gt;<br/>    &lt;span class="font-medium"&gt;<br/>        {{ $page.props.flash.message }}<br/>    &lt;/span&gt;<br/>&lt;/div&gt;</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="26bb" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">9.添加权限菜单</h2><p id="740a" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">将权限菜单添加到下面经过验证的布局中</p><pre class="kg kh ki kj gt nl nk nm nn aw no bi"><span id="97c0" class="mc md iq nk b gy np nq l nr ns">+++ b/resources/js/Layouts/Authenticated.vue<br/>@@ -30,6 +30,9 @@ const showingNavigationDropdown = ref(false);<br/>                                 &lt;BreezeNavLink :href="route('dashboard')" :active="route().current('dashboard')"&gt;<br/>                                     Dashboard<br/>                                 &lt;/BreezeNavLink&gt;<br/>+                                &lt;BreezeNavLink :href="route('permission.index')" :active="route().current('permission.index')"&gt;<br/>+                                    Permissions<br/>+                                &lt;/BreezeNavLink&gt;<br/>                             &lt;/div&gt;<br/>                         &lt;/div&gt;</span><span id="983b" class="mc md iq nk b gy nt nq l nr ns">&lt;BreezeResponsiveNavLink :href="route('dashboard')" :active="route().current('dashboard')"&gt;<br/>                         &lt;/BreezeResponsiveNavLink&gt;<br/>+                        &lt;BreezeResponsiveNavLink :href="route('permission.index')" :active="route().current('permission.index')"&gt;<br/>+                            Permissions<br/>+                        &lt;/BreezeResponsiveNavLink&gt;<br/>                     &lt;/div&gt;</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="d358" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们成功地创建了一个带有搜索和分页的权限列表页面。</p><p id="2030" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在下一部分，我们将创建添加和更新页面。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="5e9b" class="mc md iq bd me mf mg dn mh mi mj dp mk la ml mm mn le mo mp mq li mr ms mt mu bi translated">GitHub 知识库</h2><p id="006a" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">Laravel Vue 管理面板在<a class="ae ln" href="https://github.com/balajidharma/laravel-vue-admin-panel" rel="noopener ugc nofollow" target="_blank">https://github.com/balajidharma/laravel-vue-admin-panel</a>上可用。安装管理面板并分享您的反馈。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="de51" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢您的阅读。</p><p id="f41a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">敬请关注更多内容！</p><p id="ee94" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">跟我来</em><a class="ae ln" href="https://balajidharma.medium.com/" rel="noopener"><strong class="kt ir"><em class="nu">balajidharma.medium.com</em></strong></a>。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="152d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上一部分—第 1 部分:<a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/laravel-creates-a-vue-admin-panel-from-scratch-part-1-installation-and-authentication-56c451d4d697">安装和认证</a></p><p id="3e64" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下一部分—第 3 部分:<a class="ae ln" href="https://medium.com/dev-genius/create-laravel-crud-create-and-update-pages-using-inertia-and-vue-48162d8bf6ee" rel="noopener">创建 Laravel CRUD 使用 Inertia 和 Vue 创建和更新页面</a></p></div></div>    
</body>
</html>