<html>
<head>
<title>__str__() vs __repr__() in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的__str__()与__repr__()的比较</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/str-vs-repr-in-python-63bf2923bea8?source=collection_archive---------12-----------------------#2020-06-02">https://blog.devgenius.io/str-vs-repr-in-python-63bf2923bea8?source=collection_archive---------12-----------------------#2020-06-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/237a9b2a52dab166927e28d6bc2e55ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UEu5ycMz3Ha_URjq7K5k-A.jpeg"/></div></div></figure><p id="fd3e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">_ _ str _ _()</strong>python中的方法返回字符串。当在对象上调用str()或print()方法时，会调用这个函数。</p><p id="a16b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">_ _ repr _ _()</strong>python中的方法可以基于我们的实现返回列表、字典、元组、集合、字符串，相比之下__str__()方法应该总是返回字符串，否则会抛出这样的错误:</p><blockquote class="kt ku kv"><p id="bc53" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">TypeError: __str__返回了非字符串(int类型)</p></blockquote><p id="5ee6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对对象调用repr()时，会调用__repr__()方法</p><h2 id="393b" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated"><strong class="ak">如果我们没有显式声明这两个方法会怎么样？</strong></h2><p id="6ec4" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">默认情况下，您创建的每个类都将实现这些方法。那为什么我们需要明确地定义它们呢？让我们看看下面的示例代码</p><figure class="ly lz ma mb gt jo"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="3dd7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正如你所看到的，我们没有显式定义__str__()和__repr__()方法，但我们仍然可以看到一切都很好，因为它们是为每个类预定义的。我猜你在想有线输出，这些是我们默认得到的方法，让我们把它们改成我们想要的</p><figure class="ly lz ma mb gt jo"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="163e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们可以看到我们得到了我们需要的东西。</p><p id="1461" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注意</strong>:如果我们没有在类中定义__str__()方法，那么__repr__()方法会被自动调用。让我们看看这个代码片段</p><figure class="ly lz ma mb gt jo"><div class="bz fp l di"><div class="mc md l"/></div></figure><h1 id="5f83" class="me lb in bd lc mf mg mh lf mi mj mk li ml mm mn ll mo mp mq lo mr ms mt lr mu bi translated">摘要</h1><ol class=""><li id="8928" class="mv mw in jx b jy lt kc lu kg mx kk my ko mz ks na nb nc nd bi translated">__str__必须返回字符串对象，而__repr__可以返回任何python表达式。</li><li id="9abf" class="mv mw in jx b jy ne kc nf kg ng kk nh ko ni ks na nb nc nd bi translated">如果__str__实现丢失，则__repr__函数用作后备。如果__repr__函数实现丢失，则没有回退。</li><li id="d0ed" class="mv mw in jx b jy ne kc nf kg ng kk nh ko ni ks na nb nc nd bi translated">如果__repr__函数返回对象的字符串表示，我们可以跳过__str__函数的实现。</li></ol></div><div class="ab cl nj nk hr nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ig ih ii ij ik"><div class="ly lz ma mb gt nq"><a href="https://www.linkedin.com/in/durgaprasadmamidi/" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd io gy z fp nv fr fs nw fu fw im bi translated">durga prasad mamidi - Jr .软件开发实习生- Fountane，LLC | LinkedIn</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">查看durga prasad mamidi在世界上最大的职业社区LinkedIn上的个人资料。杜尔迦有一份工作列在…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">www.linkedin.com</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe jt nq"/></div></div></a></div><div class="of og gp gr oh nq"><a href="https://github.com/durgaprasadmamidi" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd io gy z fp nv fr fs nw fu fw im bi translated">durgaprasadmamidi -概述</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">在GitHub上注册你自己的个人资料，这是托管代码、管理项目和构建软件的最佳地方…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">github.com</p></div></div><div class="nz l"><div class="oi l ob oc od nz oe jt nq"/></div></div></a></div></div></div>    
</body>
</html>