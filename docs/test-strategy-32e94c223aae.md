# 测试策略

> 原文：<https://blog.devgenius.io/test-strategy-32e94c223aae?source=collection_archive---------9----------------------->

在我看来，当我们有一个 QA 部门时，我们需要一个测试策略。当我们将所有的测试职责转移到一个团队时，我们通常会创建一种受监管的测试过程。测试和编码没有区别，测试和编码一样都是我们工作的成果，但是我们应该关注结果。

![](img/d355134f75dab5922e6b38ab5333cb2e.png)

[斯科特·格雷厄姆](https://unsplash.com/@homajob?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍照

在我工作过的一些公司里，有一种关于如何测试的流程。他们通常有一个 QA 部门和人员(QA ), QA 部门从测试的角度决定所需的文档、步骤和输出。
所以通常在团队中，他们负责生成所有的信息来报告测试工作。总的来说，团队对此很满意，因为他们相信遵循流程一切都会顺利，例如:

*   PO 的，PM 的，PS 的(你想要的任何后缀的产品)认为这很棒，因为我们有一个人负责证明事情正在工作。
*   开发人员会想，太好了，我不需要做手工检查，甚至我根本不需要写测试。还有一个人负责这个。

测试策略的组成部分通常包括目标和范围、文档格式、测试过程、团队报告结构、客户沟通策略等。

人，这不是敏捷，这是敏捷的反义词。

> 工作软件是进步的主要衡量标准。
> 
> 持续关注技术优势
> 和良好的设计增强了灵活性。
> 
> 简单——最大化未完成工作量的艺术——至关重要。
> 
> [https://agilemanifesto.org/principles.html](https://agilemanifesto.org/principles.html)

持续的部分在哪里呢？为什么要把工作分成几个部分来完成，并且只专注于改进我的部分而不是全部？。
为什么这么简单，为什么我们要生成这么多文档？。

## 康威定律

> *任何设计系统(广义定义)的组织都会产生一个设计，其结构是该组织沟通结构的复制。*
> 
> *—梅尔文·康威*

这通常会影响我们的架构，因为我们的团队中有一个筒仓。考虑到这一点，QA 不是开发的一部分，而是一个后续步骤。测试策略通常是谈论一个或多个故事，而不是开发的小部分，并且总是在开发完成后开始。
创建从开发到 QA、从 QA 到开发的来回标签，停止其他标签，一直切换上下文。创建大量文档的唯一目的是报告。

即使在那些重视测试的公司，结果也是责任的分离。在最好的情况下，单元和集成测试由开发人员编写，而 e2e 由质量保证人员编写，探索性测试由他们运行。

这种方法倾向于将那些手工检查映射到验收测试。团队通常会等待 QA 的验证，然后部署到 prod。如果 QA 在团队内部，这并不坏，但是如果这是 QA 部门做的，你可以在你的椅子上等待。除了集成环境之外，我们通常还会创建一个 QA [长期环境](/long-lived-environments-93f097786aa6?sk=84eba6ba390918a6a9a89fff6454e3b4)来单独运行那些测试(e2e 或探索性的)，一个由 QA 团队控制的环境。

## 敏捷质量保证

在我看来，我们应该考虑工程策略，而不是测试策略。开发人员和质量保证人员是解决问题的工作的一部分。

> 停止依赖检验来获得质量。通过将质量放在产品的首位，消除对大规模检验的需求。
> [走出危机](http://www.amazon.com/exec/obidos/ISBN=0262541157/worldwidedemingw)，1982 年(Demmings)

通常主要的问题是发现解决什么问题以及如何解决。
所以我们应该从那里开始，开发人员和质量保证人员以及整个团队都需要找到方法来影响要编写/实现的故事。

## 用户故事

用户故事是对话的承诺，但是我们也可以用它们来保持对话。团队中的每个人都应该能够写一个用户故事，来展开一场讨论，讨论我们应该有什么标准来理解我们解决了这个故事。
QA 可能是考虑测试场景的专家，那么他/她的工作除了所有其他工作之外，就是特别关注那里定义的那些验收标准，甚至考虑更多。
我们可以使用 [3 amigo 原则](https://www.softwaretestinghelp.com/3-amigo-principle/)来实现这种协作工作，或者更进一步，开始考虑 [mob 编程](https://www.youtube.com/channel/UCgt1lVMrdwlZKBaerxxp2iQ)。

为什么我们需要用户故事以外的东西来跟踪我们的用户故事所需的接受标准？。让我们把它们加入到故事中，在任何时候，不仅仅是当我们第一次写这个故事的时候，让我们不断地增强这个故事。
记住，用户故事不是一组需求，它是关于我们想要解决的用户问题。

这样做并在团队中产生良好知识的一个好方法是在用户故事中使用小黄瓜语言编写那些验收标准。这是我喜欢 [BDD](https://en.wikipedia.org/wiki/Behavior-driven_development) 的部分，这将有助于我们在能够用这种语言编写它们并定义术语的水平上，就我们想要实现的目标进行对话。
小黄瓜使用这种方式是为了驱动对话，它的主要目的不是为了生成自动测试，但这是你的决定。在我的情况下，我更喜欢在开发过程中根据这些标准推迟编写测试。

所以这些验收标准基本上是我们从用户的角度想要做的，我们想要达到的，我们知道的。

## 向左移动质量

如果我们知道一些事情，我们可以创建测试来检查它是否已经实现，所以所有这些都可以在开发期间完成。但是，当我们开始编写代码并看到结果时，我们学到了更多，我们可以意识到我们需要更多的案例，然后让我们要求他们，让我们创造新的用户故事，如果他们足够大，让我们自己做，然后再讨论。

质量也是开发的一部分，所以 QA 应该在那里。提问或回答问题，以帮助找出在这种情况下该怎么做。这是我们在开发过程中所做决策的含义。因为我们通常要做很多决定:

*   我们有没有想过这方面的问题？
*   是大到足以创造一个新的故事，门票或什么的，还是一件我们现在就能解决的小事？
*   我们应该与谁交流才能理解这一点，或者如何使用这些代码？
*   我们在这一部分有很多错误，让我们重构以避免它们

当我们一起工作时，我们可以相信我们所看到的。当我们孤立地工作时，我们通常不信任，并且我们在增加更多延迟(大多数时候是一种浪费)之前花了很多精力检查可能已经检查过的东西。

> 我们最优先考虑的是通过早期和持续交付
> 有价值的软件来满足客户
> 。敏捷宣言

在敏捷中，越快越好，但是需要工作。我们需要想办法向最终用户展示我们是如何尽快解决他们的问题的。所以，让我们在创造东西的时候，尽全力创造出有质量的东西。

如何测试，如果我们使用单元，集成或 e2e 测试是一整本书，但我可以在这里给你看我的意见。

## 向右移动质量

但是我们不知道我们不知道什么，所以这就是探索性测试的来源。我喜欢说，与生产更相似的环境是生产，所以我总是试图在生产中测试事物，或者至少推动它。为了让你在我们开发的时候做到这一点，我们应该能够非常频繁地部署到生产中。 [CI/CD 可以帮忙做这件事](https://javi-kata.medium.com/ci-cd-for-dummies-b45ed917f9dc?sk=28eede1d5fec71121eea4954583130e9)。

但是探索性测试不应该集中在我们在故事中定义的接受标准上。所有这些都应该包含在我们编写的测试中。
探索性测试旨在打破系统，关注我们不知道的事情，试图给我们更好的反馈，再次迭代问题并解决这些情况。

在我看来，探索性测试不应该在特性开发完成后进行，而应该由团队中的每个人一直进行。我们不应该依赖它们来部署到产品，它们是发布到产品的基础。不同之处在于，发布是向用户激活特性，而部署是将代码转移到生产环境的行为。

**质量是整个团队的工作，你可以有更专业的 QA，但他们的工作应该是让每个人更好地做他们的工作。他们应该更像老师而不是守门员。**