<html>
<head>
<title>Solving 0–1 Knapsack Problem Using Dynamic Programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用动态规划法求解 0-1 背包问题</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/solving-0-1-knapsack-problem-using-dynamic-programming-acebe94521a7?source=collection_archive---------4-----------------------#2020-07-02">https://blog.devgenius.io/solving-0-1-knapsack-problem-using-dynamic-programming-acebe94521a7?source=collection_archive---------4-----------------------#2020-07-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="cd99" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个人发现了一个魔法洞穴，里面有各种各样的珠宝、标有价格标签和重量的钻石，但是这个人只有一个容量为 W kg 的 beg，一旦他出去就不能进入这个洞穴。所以，这个人想选择能给他带来最大利润的商品。这个问题被称为背包问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/8cb2c346b23225a0d11b27089af699b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*HIhTMJ2qXPo0uUWwAeipMQ.jpeg"/></div></figure><p id="3aab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简单地说，我们有一个物品列表，上面有它们的重量和利润，还有一个容量有限的背包。并且我们想要选择总重量小于或等于 beg 容量的物品，并且想要最大化利润。这里有一个例子。</p><pre class="kj kk kl km gt kq kr ks kt aw ku bi"><span id="1138" class="kv kw in kr b gy kx ky l kz la">Items   1      2     3     4    5<br/>weight  2kg    5kg   3kg   8kg  1kg<br/>profit  3      5     5     9    3</span><span id="9d75" class="kv kw in kr b gy lb ky l kz la">Capacity of beg: 8kg  </span></pre><p id="dbe1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">数学形式:设第 I 个物品的重量为 w_i kg，第 I 个物品的价格为 p_i，背包的容量为 W kg。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi lc"><img src="../Images/896073299732cf2acc74b5337fecd040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pcn5UElqNKu3x3OPnVXgyA.jpeg"/></div></div></figure><p id="9b8c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以为什么这个问题很难。让我们通过为给定的例子找到所有可能的方法来理解它</p><pre class="kj kk kl km gt kq kr ks kt aw ku bi"><span id="7f01" class="kv kw in kr b gy kx ky l kz la">Items            1   2   3   4   5<br/>combination-1    0   0   0   0   1  (we take only item 5) profit: 3<br/>combination-2    0   0   0   1   1  (this is not possible because total weight is 9 which greater than the capacity. </span><span id="355e" class="kv kw in kr b gy lb ky l kz la">So in this way if we find all the conbinations and check which is maximum, it will take exponential time. Because there are total 2^n combinations. This is why, the problem is NP-Complete. There is no polinomial solution is available for the 0-1 knapsack.  </span></pre><p id="be6d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这篇博客中，我们将讨论在伪多项式时间内解决 0–1 背包问题的动态规划方法。</p><p id="dd6b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这种方法中，我们没有直接找到权重 W 的解，而是从容量 0 开始，这意味着如果背包大小为 0，那么最大利润是多少，然后是 1，以此类推。我们通过一个例子来理解一下:</p><pre class="kj kk kl km gt kq kr ks kt aw ku bi"><span id="2518" class="kv kw in kr b gy kx ky l kz la">item    1    2   3    4<br/>weight  5    3   4    2<br/>profit  5    6   8    3<br/>And the size of knapsack is 8.</span></pre><p id="8e40" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了存储所有的值，我们将创建一个大小为 n*W 的表，其中 n 是物品的数量，W 是背包的大小。因此，让我们创建表格:</p><pre class="kj kk kl km gt kq kr ks kt aw ku bi"><span id="b40c" class="kv kw in kr b gy kx ky l kz la">   1. When Capacity is 0 then the profit will be 0 in all cases.<br/>   2. When Number of items is 0 then also profit will be 0, no matter what is capacity. </span><span id="710d" class="kv kw in kr b gy lb ky l kz la">   items     0   1   2   3   4   5   6   7   8   &lt;- capacity    <br/>     0       0   0   0   0   0   0   0   0   0 <br/>     1       0<br/>     2       0<br/>     3       0<br/>     4       0</span><span id="9a7b" class="kv kw in kr b gy lb ky l kz la">   3. when item 1 is taken the minimum weight is 5 that means if capacity is 5 then we get profit 5, if capacity is less than 5 then profit would be 0.  <br/>   4. If capacity is greater than 5 then the profit is still 5.</span><span id="022b" class="kv kw in kr b gy lb ky l kz la">   items     0   1   2   3   4   5   6   7   8   &lt;- capacity    <br/>     0       0   0   0   0   0   0   0   0   0 <br/>     1       0   0   0   0   0   5   5   5   5<br/>     2       0  <br/>     3       0<br/>     4       0</span><span id="cac2" class="kv kw in kr b gy lb ky l kz la">   5. When we are at item 2, we can choose both item 1 as well as item-2. And weight of item 2 is 3 kg means mimimum capacity 3 is required to get profit equals to six.<br/>   6. If we take both items 1 &amp; 2 then the capacity required is 8 to get profit = 11.</span><span id="e42a" class="kv kw in kr b gy lb ky l kz la">   items     0   1   2   3   4   5   6   7   8   &lt;- capacity    <br/>     0       0   0   0   0   0   0   0   0   0 <br/>     1       0   0   0   0   0   5   5   5   5<br/>     2       0   0   0   6   6   6   6   6   11 <br/>     3       0<br/>     4       0<br/>  <br/>  7. If we are at item 3, we can choose item 1 and item2 as well. If we take only item 3, then the profit would be 8. If we choose item 2 &amp; 3 then profit would be 14.</span><span id="75fa" class="kv kw in kr b gy lb ky l kz la">   items     0   1   2   3   4   5   6   7   8   &lt;- capacity    <br/>     0       0   0   0   0   0   0   0   0   0 <br/>     1       0   0   0   0   0   5   5   5   5<br/>     2       0   0   0   6   6   6   6   6   11 <br/>     3       0   0   0   6   8   8   8   14  14<br/>     4       0  </span><span id="7a50" class="kv kw in kr b gy lb ky l kz la">   8.  When we are at item 4,we can choose also choose item 1,2 &amp; 3.</span><span id="9b8e" class="kv kw in kr b gy lb ky l kz la">   items     0   1   2   3   4   5   6   7   8   &lt;- capacity    <br/>     0       0   0   0   0   0   0   0   0   0 <br/>     1       0   0   0   0   0   5   5   5   5<br/>     2       0   0   0   6   6   6   6   6   11 <br/>     3       0   0   0   6   8   8   8   14  14<br/>     4       0   0   3   6   8   9   11  14  14   </span></pre><p id="6fdb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">表中的最后一个元素是我们的解决方案，其中考虑了所有项目，容量等于 w。</p><p id="be72" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以用给定的公式计算表中的任何元素。</p><pre class="kj kk kl km gt kq kr ks kt aw ku bi"><span id="9a2f" class="kv kw in kr b gy kx ky l kz la">V[i,w] = max {V[i-1, w], V[ i-1, w - w[i] ] + p[i]<br/>where i is item and w is capacity. </span></pre><p id="70bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，当我们在项目 3，能力是 7，然后</p><pre class="kj kk kl km gt kq kr ks kt aw ku bi"><span id="fe19" class="kv kw in kr b gy kx ky l kz la">w[3] = 4 and p[i] = 8 </span><span id="7b59" class="kv kw in kr b gy lb ky l kz la">So V[3,7] = max{ V[3-1,7],V[3-1,7-4] + 8}<br/>          = max{ V[2,7], V[2,3]+8 }</span><span id="524a" class="kv kw in kr b gy lb ky l kz la">from the table V[2,7] = 6 and V[2,3] = 6  <br/>   V[3,7] = max{6,6+8} = max{6,14} = 14<br/>   V[3,7] = 14 (same as we calculated in table)</span></pre><p id="acd9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们为给定的方法编写伪代码。</p><pre class="kj kk kl km gt kq kr ks kt aw ku bi"><span id="6fc4" class="kv kw in kr b gy kx ky l kz la">for w = 0 to W:<br/>   V[0, w] = 0</span><span id="ab25" class="kv kw in kr b gy lb ky l kz la">for i = 0 to n:<br/>   V[i, 0] = 0</span><span id="4a1e" class="kv kw in kr b gy lb ky l kz la">for i = 1 to n: <br/>   for w = 1 to W: <br/>      if w[i] ≤ w and p[i] + V[i-1, w-w[i] ] &gt; V [i -1,w] then:<br/>            V[i, w] = p[i] + c[i-1, w-w[i] ] <br/>      else <br/>         c[i, w] = c[i-1, w]</span></pre><p id="52c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该算法的时间复杂度为 O(n*W)。</p></div></div>    
</body>
</html>