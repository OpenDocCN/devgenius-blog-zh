<html>
<head>
<title>Developing Vue Apps with the Quasar Library — Dialog Validation and Custom Dialog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Quasar库开发Vue应用程序——对话框验证和自定义对话框</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/developing-vue-apps-with-the-quasar-library-dialog-validation-and-custom-dialog-193b770e20bf?source=collection_archive---------4-----------------------#2021-03-12">https://blog.devgenius.io/developing-vue-apps-with-the-quasar-library-dialog-validation-and-custom-dialog-193b770e20bf?source=collection_archive---------4-----------------------#2021-03-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/26ffb8c1cd055170cf0188185f25c9b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*45sOZsh9jQsaQPx6"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">本·怀特在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="7b4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Quasar是一个流行的Vue UI库，用于开发好看的Vue应用程序。</p><p id="0245" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Quasar UI库创建Vue应用程序。</p><h1 id="29bb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对话验证</h1><p id="f4cf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">prompt.isValid</code>属性为提示对话框添加验证:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a064" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;link<br/>      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons"<br/>      rel="stylesheet"<br/>      type="text/css"<br/>    /&gt;<br/>    &lt;link<br/>      href="https://cdn.jsdelivr.net/npm/quasar@1.12.13/dist/quasar.min.css"<br/>      rel="stylesheet"<br/>      type="text/css"<br/>    /&gt;<br/>  &lt;/head&gt;<br/>  &lt;body class="body--dark"&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue@^2.0.0/dist/vue.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/quasar@1.12.13/dist/quasar.umd.min.js"&gt;&lt;/script&gt;<br/>    &lt;div id="q-app"&gt;<br/>      &lt;div class="q-pa-md"&gt;<br/>        &lt;q-btn label="Prompt" color="primary" @click="prompt"&gt;&lt;/q-btn&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      new Vue({<br/>        el: "#q-app",<br/>        data: {},<br/>        methods: {<br/>          prompt() {<br/>            this.$q<br/>              .dialog({<br/>                title: "Prompt",<br/>                message: "What is your name? (Minimum 3 characters)",<br/>                prompt: {<br/>                  model: "",<br/>                  isValid: (val) =&gt; val.length &gt; 2,<br/>                  type: "text"<br/>                },<br/>                cancel: true,<br/>                persistent: true<br/>              })<br/>              .onOk((data) =&gt; {<br/>                console.log(data);<br/>              });<br/>          }<br/>        }<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="50fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">isValid</code>设置为接受输入值并返回验证条件的函数。</p><p id="74b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这也可以用于单选按钮和复选框对话框。</p><h1 id="687b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">HTML对话框</h1><p id="161e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以显示一个本地HTML对话框，其中的<code class="fe me mf mg mh b">html</code>属性设置为<code class="fe me mf mg mh b">true</code>。</p><p id="e2b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e2e0" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;link<br/>      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons"<br/>      rel="stylesheet"<br/>      type="text/css"<br/>    /&gt;<br/>    &lt;link<br/>      href="https://cdn.jsdelivr.net/npm/quasar@1.12.13/dist/quasar.min.css"<br/>      rel="stylesheet"<br/>      type="text/css"<br/>    /&gt;<br/>  &lt;/head&gt;<br/>  &lt;body class="body--dark"&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue@^2.0.0/dist/vue.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/quasar@1.12.13/dist/quasar.umd.min.js"&gt;&lt;/script&gt;<br/>    &lt;div id="q-app"&gt;<br/>      &lt;div class="q-pa-md"&gt;<br/>        &lt;q-btn<br/>          label="Show HTML Dialog"<br/>          color="primary"<br/>          @click="showDialog"<br/>        &gt;&lt;/q-btn&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      new Vue({<br/>        el: "#q-app",<br/>        data: {},<br/>        methods: {<br/>          showDialog() {<br/>            this.$q<br/>              .dialog({<br/>                title: "Alert&lt;em&gt;!&lt;/em&gt;",<br/>                message:<br/>                  '&lt;em&gt;I can&lt;/em&gt; &lt;span class="text-red"&gt;use&lt;/span&gt; &lt;strong&gt;HTML&lt;/strong&gt;',<br/>                html: true<br/>              })<br/>              .onOk(() =&gt; {<br/>                console.log("OK");<br/>              })<br/>              .onCancel(() =&gt; {<br/>                console.log("Cancel");<br/>              })<br/>              .onDismiss(() =&gt; {<br/>                console.log("I am triggered on both OK and Cancel");<br/>              });<br/>          }<br/>        }<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="542f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只需将<code class="fe me mf mg mh b">title</code>和<code class="fe me mf mg mh b">message</code>属性设置为我们想要呈现的HTML。</p><p id="4a90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着如果在HTML中植入恶意代码，就可以执行跨站点脚本攻击。</p><p id="8408" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">q-dialog</code>组件呈现一个自定义对话框:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5403" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;link<br/>      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons"<br/>      rel="stylesheet"<br/>      type="text/css"<br/>    /&gt;<br/>    &lt;link<br/>      href="https://cdn.jsdelivr.net/npm/quasar@1.12.13/dist/quasar.min.css"<br/>      rel="stylesheet"<br/>      type="text/css"<br/>    /&gt;<br/>  &lt;/head&gt;<br/>  &lt;body class="body--dark"&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/vue@^2.0.0/dist/vue.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.jsdelivr.net/npm/quasar@1.12.13/dist/quasar.umd.min.js"&gt;&lt;/script&gt;<br/>    &lt;div id="q-app"&gt;<br/>      &lt;div class="q-pa-md"&gt;<br/>        &lt;q-btn label="Show Dialog" color="primary" @click="showDialog"&gt;&lt;/q-btn&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const CustomComponent = {<br/>        template: `<br/>        &lt;q-dialog ref="dialog" @hide="onDialogHide"&gt;<br/>          &lt;q-card class="q-dialog-plugin"&gt;<br/>            &lt;q-card-section&gt;<br/>              Hello<br/>            &lt;/q-card-section&gt;<br/>            &lt;q-card-actions align="right"&gt;<br/>              &lt;q-btn color="primary" label="OK" @click="onOKClick"&gt;&lt;/q-btn&gt;<br/>              &lt;q-btn color="primary" label="Cancel" @click="onCancelClick"&gt;&lt;/q-btn&gt;<br/>            &lt;/q-card-actions&gt;<br/>          &lt;/q-card&gt;<br/>        &lt;/q-dialog&gt;<br/>        `,<br/>        methods: {<br/>          show() {<br/>            this.$refs.dialog.show();<br/>          },<br/>          hide() {<br/>            this.$refs.dialog.hide();<br/>          },<br/>          onDialogHide() {<br/>            this.$emit("hide");<br/>          },<br/>          onOKClick() {<br/>            this.$emit("ok");<br/>            this.hide();<br/>          },<br/>          onCancelClick() {<br/>            this.hide();<br/>          }<br/>        }<br/>      };</span><span id="db61" class="mq lc iq mh b gy mv ms l mt mu">      new Vue({<br/>        el: "#q-app",<br/>        data: {},<br/>        methods: {<br/>          showDialog() {<br/>            this.$q<br/>              .dialog({<br/>                component: CustomComponent,<br/>                parent: this,<br/>                text: "something"<br/>              })<br/>              .onOk(() =&gt; {<br/>                console.log("OK");<br/>              })<br/>              .onCancel(() =&gt; {<br/>                console.log("Cancel");<br/>              })<br/>              .onDismiss(() =&gt; {<br/>                console.log("Called on OK or Cancel");<br/>              });<br/>          }<br/>        }<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="e767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了<code class="fe me mf mg mh b">CustomComponent</code>组件和<code class="fe me mf mg mh b">q-dialog</code>组件来添加一个对话框。</p><p id="669f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">show</code>和<code class="fe me mf mg mh b">hide</code>方法来显示和隐藏对话框。</p><p id="13d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们关闭对话框时，我们发出<code class="fe me mf mg mh b">hide</code>事件来关闭它。</p><p id="22bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">onOKClick</code>发出<code class="fe me mf mg mh b">ok</code>事件来触发<code class="fe me mf mg mh b">onOK</code>回调。</p><h1 id="52fc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="2a1f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Quasar库添加带有各种定制的对话框。</p></div></div>    
</body>
</html>