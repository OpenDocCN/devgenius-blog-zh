<html>
<head>
<title>The Introduction of Service Mesh</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">服务网格简介</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-introduction-of-service-mesh-710d9b566df0?source=collection_archive---------3-----------------------#2022-08-27">https://blog.devgenius.io/the-introduction-of-service-mesh-710d9b566df0?source=collection_archive---------3-----------------------#2022-08-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ff193865e4b868b64377b30a5b468a87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VOh9vH2ncfps1NJP"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://unsplash.com/@sen7?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">森</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><div class=""/><div class=""><h2 id="258b" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">它是一种网络模型，位于 TCP/IP 之上的抽象层。</h2></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><blockquote class="lc"><p id="b35c" class="ld le jg bd lf lg lh li lj lk ll lm dk translated"><a class="ae jd" href="https://ko-fi.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank">如果你觉得我为你贡献了价值，请支持我！</a></p></blockquote><p id="01ec" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh lm ij bi mi translated">上个月，我感觉我的收入几乎立刻减少了。我越来越难获得我想要的收入，但如果我停下来，我会为我推荐的会员感到难过。请告诉我原因以及如何改进。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="2399" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">这已经不是一个新概念了。随着云原生时代的到来，微服务架构和容器化部署模型正变得流行。单片应用被拥抱微服务的架构师拆分成小而独立的微服务，然后被拥抱容器化的工程师打包成自含式微服务。然而，分布式应用的运维管理成本呈指数级增长。各模块之间的交互可以通过进程间通信直接调用，但现在分成不同的进程甚至节点，只能使用复杂的<strong class="lp jh"> ( </strong> <a class="ae jd" href="https://en.wikipedia.org/wiki/Remote_procedure_call" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">远程过程调用</strong> </a> <strong class="lp jh"> ) RPC 通信</strong>。</p><p id="13a6" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">众所周知，分布式微服务框架有很多，如 Spring Cloud、Dubbo、ServiceComb、Envoy、Service Fabric 等。为什么我们需要服务网格？这是因为它是处理服务间通信的基础设施层。云原生应用具有复杂的服务拓扑，服务网格确保请求通过这些拓扑可靠地传输。实际上，服务网格通常由一系列与应用程序一起部署的轻量级网络代理组成，但它对应用程序是透明的。它被称为下一代微服务架构。</p><blockquote class="lc"><p id="a0aa" class="ld le jg bd lf lg lh li lj lk ll lm dk translated">基础设施层+请求通过这些网络拓扑可靠地传输+网络代理+对应用透明</p></blockquote><p id="011e" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh lm ij bi translated">为了理清这些复杂的概念，我们先来了解一下微服务和服务网格技术的历史发展。</p><p id="51e0" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh"> Phil Calcado 的文章《模式:服务网格》</strong> </a>从开发者的角度详细描述了服务开发模式和服务网格技术的演进。</p><ul class=""><li id="b1a9" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nb nc nd ne bi translated"><strong class="lp jh">时代 0 </strong>:不同服务之间的沟通方式</li></ul><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/25c92593652f6f35915f7b814c1615ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/0*2IIOotpgH_GEZvom.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><ul class=""><li id="f114" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nb nc nd ne bi translated"><strong class="lp jh">纪元 1: </strong>原始人的交流</li></ul><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/f08a83057c714d21c1731c47842edffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/0*RF3BHzPPXzUhXuMq.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="285b" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">然而，通信应该由能够传输字节码和电子信号的底层物理层来完成。在 TCP 协议实现之前，服务必须处理丢包和网络通信紊乱、重试等一系列流量控制问题，网络传输的处理逻辑，以及业务逻辑。</p><ul class=""><li id="75e7" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nb nc nd ne bi translated"><strong class="lp jh">时代 2:</strong>TCP 协议的实施时代</li></ul><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/a56089da7b4b2dc79bf44828c8f6d6b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/0*Pgj3UGUjPRZ6p0BP.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="50bd" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">为了避免每个服务实现一套相似的网络传输处理逻辑，TCP 协议的实现可以解决网络传输中一般的流量控制问题。因此，它将流控制从业务逻辑中分离出来，成为操作系统网络层的一部分。</p><ul class=""><li id="23a2" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nb nc nd ne bi translated"><strong class="lp jh">时代 3 </strong>:第一代微服务</li></ul><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/096dbde274ebdc7b3d2feea184eef00d.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/0*5tK8Q2MUzwqjaigx.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="2ec8" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">TCP 出现后，计算机之间的网络通信不再是问题。分布式系统特有的通信语义再次出现，如负载平衡、服务发现、认证和授权、配额限制、跟踪和监控、断路器策略等。开发了很多分布式系统如<a class="ae jd" href="https://medium.com/geekculture/google-file-system-architecture-cdeabef3f1ea" rel="noopener"> <strong class="lp jh"> Google 文件系统</strong> </a>、BigTable、MapReduce 等。因此，服务根据一些业务需求实现了一些必需的通信语义。</p><ol class=""><li id="b0b4" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated"><strong class="lp jh">服务发现</strong>:解决如何寻找特定服务的问题</li><li id="5bd4" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">断路器</strong>:减轻服务间依赖的不可靠性</li><li id="480a" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">负载均衡</strong>:通过平均分配流量和请求</li><li id="0b96" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh"/>:协议加密(<a class="ae jd" href="https://en.wikipedia.org/wiki/Transport_Layer_Security" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">传输层安全、TLS </strong> </a>)、身份认证(<a class="ae jd" href="https://support.microsoft.com/en-us/office/digital-signatures-and-certificates-8186cd15-e7ac-4a16-8597-22bd163e8e96" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">证书/签名</strong> </a>)、访问认证(<a class="ae jd" href="https://en.wikipedia.org/wiki/Role-based_access_control" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">基于角色的访问控制、</strong> </a>)等</li></ol><ul class=""><li id="8030" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nb nc nd ne bi translated"><strong class="lp jh">时代 4 </strong>:第二代微服务</li></ul><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/cb61d8d2b1470add42bf8994a55ddd17.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/0*AEqpiyzzpcJIASKz.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="bae5" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">为了避免每个服务实现一套类似的分布式系统的通信语义，出现了一些新的微服务框架。这些框架实现了分布式系统通信所需的各种常见语义功能，比如负载平衡和服务发现。</p><ul class=""><li id="d21b" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nb nc nd ne bi translated"><strong class="lp jh">时代 5:第一代服务网</strong></li></ul><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/92361d0504d1f793e9b6090c05708356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/0*srCEpJQ4rXsQNtO2.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="b615" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">第二代微服务看似完美，但在开发一个系统时却带来了一些本质问题。框架屏蔽了分布式系统中一些常见功能的实现细节，开发人员花费大量时间管理复杂的框架和解决实际应用中的问题。此外，该框架只支持几种特定的语言。在面向微服务的架构系统中，很难因地制宜地用多种语言实现不同的模块。此外，框架中的服务是以库的形式出现的。当复杂项目依赖于框架中的库时，库版本兼容性问题很难解决。</p><p id="811d" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">于是，以<a class="ae jd" href="https://linkerd.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh"> Linkerd </strong> </a> <strong class="lp jh">，</strong> <a class="ae jd" href="https://www.envoyproxy.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">特使</strong> </a>，<a class="ae jd" href="https://www.nginx.com/products/nginx-service-mesh/" rel="noopener ugc nofollow" target="_blank"><strong class="lp jh">NginxMesh</strong></a><strong class="lp jh"/>为代表的代理模式(sidecar 模式)被开发出来。</p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/6644183bbb2eb24479f04a6247116c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/0*UEmKW2HhWuZ3QzEd.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="5d13" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">在这样的模型中，每个服务将有一个代理 sidecar。如果我们忽略服务，网络就是由服务网格的独立组件组成的。就是解决服务间的沟通和治理问题。应用服务通过 Sidecar 进行通信，整个服务通信形成了上图中的网络连接。</p><ul class=""><li id="5ea4" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nb nc nd ne bi translated"><strong class="lp jh">时代 6 </strong>:第二代服务网</li></ul><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/afcff8898b1ec560f695505da85cdf50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/0*GLgTTwC83UIUFSEK.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="31bc" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">第一代服务网格由一系列独立的代理服务组成。集中控制面板用于控制上层操作和维护入口。所有独立代理组件都与控制面板交互，以更新网络拓扑策略。这就是以 Istio 为代表的第二代服务 Mesh。</p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/3a37a59c4a19c888abb46ac0c010d0f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*aqbv3DigDStS9yX3.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk">菲尔·卡尔卡多</strong> </a></figcaption></figure><p id="dae6" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">服务网格的全局部署视图显示了独立代理组件和控制面板。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="f946" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><strong class="lp jh">服务网格的主流实现</strong></p><ol class=""><li id="08f5" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated"><strong class="lp jh"> Linkerd(浮力)</strong>—开发语言使用 Scala。</li><li id="9cbe" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">特使(Lyft) </strong> —开发语言使用 C++11。</li><li id="d265" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated">Istio (Google &amp; IBM)  —开发语言使用 Go。</li><li id="e18a" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">导管(浮力)</strong> —开发语言使用 Rust 和 Go。</li></ol></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="9972" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><strong class="lp jh"> Linkerd </strong></p><p id="4754" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">服务代理的核心逻辑</p><ol class=""><li id="a858" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated"><strong class="lp jh">动态路由</strong> —根据上游服务请求参数确定下游目标服务；和传统的服务路由策略。它还使用这一层来支持非常有价值的场景，如灰度、出版、A/B 测试和环境隔离</li><li id="55a7" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">服务发现</strong> —确定目标服务后，获取相应对象的地址列表</li><li id="b8c8" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><a class="ae jd" href="https://linkerd.io/2016/03/16/beyond-round-robin-load-balancing-for-latency/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">负载均衡</strong> </a> —如果列表中有多个地址，它将通过负载均衡算法(循环法、负载最小、峰值 EWMA)选择其中一个合适的低延迟对象</li><li id="9bf4" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">执行请求</strong> —向对象发送请求</li><li id="a13b" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">重试处理</strong> —如果请求没有得到响应，选择另一个对象重试</li><li id="c0a2" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">断路器处理</strong> —如果对一个对象的请求经常失败，该对象将从地址列表中删除</li><li id="3bbe" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">超时处理</strong> —如果请求过期，将返回失败响应</li><li id="1dee" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">可观察性</strong> —持续收集并报告行为数据</li></ol></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="392d" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><strong class="lp jh">特使</strong></p><p id="f227" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">其核心特点:</p><ol class=""><li id="f4ca" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated"><strong class="lp jh">高性能</strong> —使用 C++11 语言</li><li id="c70f" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">可扩展</strong>—L4 和 L7 层代理功能基于可插拔过滤器链机制</li><li id="04e3" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">协议升级</strong> —支持双向、透明的 HTTP/1 到 HTTP/2 代理功能</li></ol></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="5fc0" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><strong class="lp jh"> Istio </strong></p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nv"><img src="../Images/722ec4775f9e01155250c0e15babf705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nS18D70EA68ZH8Wv.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:欧文·加勒特于<a class="ae jd" href="https://www.nginx.com/blog/what-is-a-service-mesh/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nk"> F5 公司</strong> </a></figcaption></figure><p id="6385" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">其主要组件:</p><ol class=""><li id="02d1" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated"><strong class="lp jh">特使</strong> —与控制平面形成数据平面</li><li id="cb58" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">驾驶员</strong>——负责交通管理</li><li id="b68a" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">混合器</strong> —负责策略&amp;控制，核心功能包括预检、配额管理、遥测报告</li><li id="3515" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated">Istio-Auth —支持多种粒度的<a class="ae jd" href="https://en.wikipedia.org/wiki/Role-based_access_control" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">基于角色的访问控制(RBAC) </strong> </a> <strong class="lp jh"> </strong>权限控制，支持双向<a class="ae jd" href="https://www.cloudflare.com/learning/ssl/what-is-ssl/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">安全套接字层(SSL) </strong> </a> <strong class="lp jh"> </strong>认证<strong class="lp jh">，</strong>包括身份认证、通信安全、密钥管理</li></ol></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="4c7f" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><strong class="lp jh">导管</strong></p><p id="396c" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">其主要特点:</p><ol class=""><li id="39d4" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated"><strong class="lp jh">轻巧快速</strong>——使用 Rust 语言</li><li id="30ea" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">安全</strong> —默认<a class="ae jd" href="https://en.wikipedia.org/wiki/Transport_Layer_Security" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh">传输层安全</strong> </a> (TLS)加密</li><li id="c24c" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">增强功能</strong> —可靠性、可见性和安全性</li><li id="cdf8" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated"><strong class="lp jh">端到端可见性</strong> —它衡量服务成功率、延迟和请求量</li></ol></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="1d77" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">总之，它有一些优点:</p><ol class=""><li id="1d5a" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated">屏蔽分布式系统通信的复杂性。开发人员关注业务逻辑</li><li id="4aa9" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated">语言并不重要</li><li id="8acc" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated">对应用程序透明</li></ol><p id="1d8f" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated">它有一些缺点:</p><ol class=""><li id="be76" class="mw mx jg lp b lq mr lt ms lw my ma mz me na lm nm nc nd ne bi translated">它以代理模式计算和转发请求，降低了通信系统的性能，在一定程度上增加了系统资源开销</li><li id="5efc" class="mw mx jg lp b lq nn lt no lw np ma nq me nr lm nm nc nd ne bi translated">它接管网络流量。系统的整体稳定性取决于服务网格。</li></ol></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="1e30" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><strong class="lp jh">参考文献</strong></p><div class="ip iq gp gr ir nw"><a href="https://philcalcado.com/2017/08/03/pattern_service_mesh.html" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">图案:服务网格</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">自从几十年前第一次引入分布式系统以来，我们了解到分布式系统能够实现我们甚至无法…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">philcalcado.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://github.com/linkerd/linkerd" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">GitHub-link erd/link erd:link erd 1 . x 的旧 repo。请参阅 Linkerd 2.x 的 linkerd2 repo。</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">这个回购是为了 1。Linkerd 的 x 版本。linkerd2 repo 现在正在进行功能开发。这个回购是…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">github.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://linkerd.io/docs/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">概观</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">Linkerd 是 Kubernetes 的一个服务网。它通过为您提供运行时调试，使运行服务更加容易和安全…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">linkerd.io</p></div></div><div class="of l"><div class="om l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://docs.microsoft.com/en-us/azure/architecture/patterns/sidecar" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">边车模式-蔚蓝建筑中心</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">将应用程序的组件部署到单独的进程或容器中，以提供隔离和封装。这个…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">docs.microsoft.com</p></div></div><div class="of l"><div class="on l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://buoyant.io/linkerd-vs-istio" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">Linkerd 与 Istio，2022 年服务网格比较</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">Istio 和 Linkerd 都是服务网格。这两个项目有相似的目标:增加可靠性、安全性和…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">浮力. io</p></div></div><div class="of l"><div class="oo l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://thenewstack.io/an-exploratory-guide-to-the-service-mesh-platforms/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">服务网格平台的探索性指南</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">本周和下周，News Stack 将会发布一系列关于服务网格给…带来的价值的文章</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">thenewstack.io</p></div></div><div class="of l"><div class="op l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://www.wallarm.com/what/what-is-service-mesh" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">什么是服务网状❓ -所有你需要知道的</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">在结构层次上，它指的是网络代理集合。所使用的代理以串联模式排列。这里…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">www.wallarm.com</p></div></div><div class="of l"><div class="oq l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://www.nginx.com/blog/how-to-choose-a-service-mesh/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">如何选择服务网格- NGINX</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">这篇文章是由 10 部分组成的系列文章的一部分:用生产级 Kubernetes 降低复杂性</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">www.nginx.com</p></div></div><div class="of l"><div class="or l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://thechief.io/c/editorial/top-14-kubernetes-service-meshes/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">14 大 Kubernetes 服务网格</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">服务网格解决了由微服务和…引入的流量管理、安全性和可观察性挑战</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">首席执行官</p></div></div><div class="of l"><div class="os l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://www.techtarget.com/searchitoperations/tip/Evaluate-the-benefits-drawbacks-of-service-mesh-technologies" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">评估关键服务网格优势和架构限制</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">到 2005 年，精通容器的开发人员和操作人员面临着为…安装和管理通信的棘手挑战</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">www.techtarget.com</p></div></div><div class="of l"><div class="ot l oh oi oj of ok ix nw"/></div></div></a></div><div class="ip iq gp gr ir nw"><a href="https://www.talentica.com/blogs/the-rise-of-service-mesh-how-can-businesses-use-it/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">服务网格的兴起:企业如何利用它</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">Docker 容器、微服务和 Kubernetes 已经是旧闻了——或者至少，它们已经成为主流，以至于它们…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">www.talentica.com</p></div></div><div class="of l"><div class="ou l oh oi oj of ok ix nw"/></div></div></a></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="18b8" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><strong class="lp jh"> <em class="ov">如果你发现我的任何文章有帮助或有用，那么请考虑给我一杯咖啡，帮助支持我的工作或给我赞助😊，通过使用</em>中的</strong></p><p id="62e7" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><a class="ae jd" href="https://www.patreon.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank"> <strong class="lp jh"> Patreon </strong> </a></p><p id="1391" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><a class="ae jd" href="https://ko-fi.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank"><strong class="lp jh">Ko-fi.com</strong></a></p><p id="cf8a" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><a class="ae jd" href="https://www.buymeacoffee.com/jinlowmedium" rel="noopener ugc nofollow" target="_blank">T15】buymeacoffeeT17】</a></p><p id="1e74" class="pw-post-body-paragraph ln lo jg lp b lq mr kh ls lt ms kk lv lw mt ly lz ma mu mc md me mv mg mh lm ij bi translated"><em class="ov">最后但同样重要的一点是，如果你还不是灵媒会员，并打算成为灵媒会员，我恳请你使用以下链接。我将收取你的一部分会员费，不增加你的额外费用。</em></p><div class="ip iq gp gr ir nw"><a href="https://jinlow.medium.com/membership" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jh gy z fp ob fr fs oc fu fw jf bi translated">用我的引荐链接-金加入 Medium</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">阅读金(以及其他成千上万的作家)的每一篇小说。你的会费直接支持金和…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">jinlow.medium.com</p></div></div><div class="of l"><div class="ow l oh oi oj of ok ix nw"/></div></div></a></div></div></div>    
</body>
</html>