<html>
<head>
<title>How to set up Continuous Deployment for NodeJS Projects using Vercel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Vercel 为 NodeJS 项目设置连续部署</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-set-up-continuous-deployment-for-nodejs-projects-using-vercel-514878d3f52a?source=collection_archive---------9-----------------------#2022-09-04">https://blog.devgenius.io/how-to-set-up-continuous-deployment-for-nodejs-projects-using-vercel-514878d3f52a?source=collection_archive---------9-----------------------#2022-09-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e17e12b756127e6ce4a99053e6a9f170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xMSmmW1rMrf3MHDu"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">由<a class="ae jz" href="https://unsplash.com/@cgower?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克里斯多夫·高尔</a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="84e6" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">什么是持续部署？</h1><p id="cd06" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">连续部署(CD)是一个软件发布过程，自动将代码部署到产品中。它是持续集成的扩展，其中添加到主分支的新变更将被发布到生产中。这个过程对于希望尽快向公众发布新特性或错误修复的团队来说非常理想。</p><p id="2fce" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">为了最小化部署有问题的代码的风险，需要有一套健壮和全面的自动化测试。这确保了合并到主分支中的新代码(以及随后部署的代码)是准备好部署的，并且没有错误。这样做，软件开发团队可以自动化他们的工作流程，并且不再需要手工部署。这使得团队很容易将他们的新构建发布到产品中，鼓励小的和增量的构建，而不是一次完成，从而降低了每次部署的风险。</p><p id="334f" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">然而，如果一个团队需要更高权威的批准，一个替代方案是连续交付。连续交付类似于连续部署，但是不会自动将变更部署到生产中。尽管部署到生产环境是手动完成的，但是连续交付管道确保了一旦授权发布构建，构建就可以投入生产，并且可以随时发布。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/a8706835fc0f5dd915da09ebdd76f7b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dqD6LZq_DNPnMZEN.png"/></div></div></figure><p id="0d35" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">有许多工具可以促进这一工作流程，如 Jenkins，TeamCity 和 GitLab，但在本教程中，我将向您展示一个免费的替代方案，您可以为您的 web 应用程序提供 CD，并免费将它们托管在自己的域中。</p><h1 id="d934" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">为什么是 Vercel？</h1><p id="386c" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">Vercel 允许您:</p><ul class=""><li id="0611" class="mg mh in la b lb lw lf lx lj mi ln mj lr mk lv ml mm mn mo bi translated">在他们的域中托管您的前端项目(vercel.app)</li><li id="daa4" class="mg mh in la b lb mp lf mq lj mr ln ms lr mt lv ml mm mn mo bi translated">与 GitHub 集成，在您的项目上启用 CD</li><li id="5e6f" class="mg mh in la b lb mp lf mq lj mr ln ms lr mt lv ml mm mn mo bi translated"><strong class="la io">免费！！！</strong></li></ul><h1 id="cb6d" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">在 Vercel 中设置 CD</h1><p id="6a36" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">前提条件:确保你的 Github 账号已经和 Vercel 链接。</p><ol class=""><li id="2202" class="mg mh in la b lb lw lf lx lj mi ln mj lr mk lv mu mm mn mo bi translated">点击仪表板右侧的“添加新项目”按钮，然后选择“项目”。</li></ol><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/796b83921dc187b29f876a42640eaf4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:366/format:webp/1*naNpizepYm1iJcCdu_O73w.png"/></div></figure><p id="fcd3" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">2.在“导入存储库”部分，为您的项目单击“导入”。</p><p id="374a" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">3.在下一页中配置您的项目设置。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/ea8455867d55255332ee78ae99e19162.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9tdTZ6nP_W3HPhdGljgZQ.png"/></div></div></figure><ul class=""><li id="4b84" class="mg mh in la b lb lw lf lx lj mi ln mj lr mk lv ml mm mn mo bi translated">给你的项目起一个名字，这个名字将是你的项目在部署时的 URL(<code class="fe mx my mz na b">&lt;project-name&gt;.vercel.app</code>)</li><li id="378d" class="mg mh in la b lb mp lf mq lj mr ln ms lr mt lv ml mm mn mo bi translated">为您的项目选择正确的框架预设。它通常会自动检测您导入的项目类型，并推荐正确的预置。此预设将在“生成和输出设置”部分设置生成命令和输出目录的默认值，但您可以根据您的项目覆盖它。有许多选项可用，但如果它不在列表中，可以在“构建和输出设置”中手动配置</li><li id="200e" class="mg mh in la b lb mp lf mq lj mr ln ms lr mt lv ml mm mn mo bi translated">对于根目录，如果您希望部署的项目嵌套在存储库中的子目录中，请确保在部署之前选择了正确的文件夹</li><li id="b761" class="mg mh in la b lb mp lf mq lj mr ln ms lr mt lv ml mm mn mo bi translated">如果您想要手动配置生成设置，则生成和输出设置非常有用。但是，如果您已经选择了正确的框架预设，您应该不必在此修改任何内容。</li><li id="7646" class="mg mh in la b lb mp lf mq lj mr ln ms lr mt lv ml mm mn mo bi translated">环境变量部分用于输入应用程序的任何环境变量，如 API 令牌、密码等。没有的可以忽略。</li><li id="f2ec" class="mg mh in la b lb mp lf mq lj mr ln ms lr mt lv ml mm mn mo bi translated">一旦所有设置看起来正确，点击“部署”,当 Vercel 部署您的应用程序时，您可以高枕无忧了！</li></ul><p id="19ad" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">当 Vercel 成功部署您的应用程序时，您的 Git repo 现在也配置为连续部署。每当制作新的 PR 时，Vercel 将自动构建应用程序，并提供该应用程序版本的<strong class="la io">预览部署</strong>。从这些构建中，您可以测试新 PR 的特性，同时在主链接中维护生产构建。如果您满意，您可以合并 PR，Vercel 将使用新的更改更新您的应用程序的生产版本，viola！只需点击一下按钮，您的新更改就已经部署到生产环境中了。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/d29ab6d95418ae0ac252b2eeb2858d3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b-qT9KVL32MqAiculW9ETA.png"/></div></div></figure><p id="2b92" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">有许多 CI/CD 工具可用，但 Vercel 是我的最爱。它很容易设置，他们网站的布局简洁易用，而且一旦你在 Vercel 中设置了你的项目，它会自己做所有的事情，你再也不用担心部署了！</p></div></div>    
</body>
</html>