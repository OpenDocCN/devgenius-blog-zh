<html>
<head>
<title>Material UI — Progress Bars</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">材料用户界面—进度条</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/material-ui-progress-bars-f20df817e2de?source=collection_archive---------1-----------------------#2020-09-01">https://blog.devgenius.io/material-ui-progress-bars-f20df817e2de?source=collection_archive---------1-----------------------#2020-09-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/dd76c29c99a59478f934b84f5d074b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u9cKhcYHQi2Z_QWU"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">玛丽·丽贝卡·艾略特在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="5e2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">材质UI是一个为React制作的材质设计库。</p><p id="b124" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一组具有材质设计风格的React组件。</p><p id="5e95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何添加带有材质UI的进度条。</p><h1 id="e7c1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">线性进度条</h1><p id="ddf3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">LinearProgress</code>组件来添加一个水平进度条。</p><p id="094d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b3c2" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import LinearProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/LinearProgress";</span><span id="5640" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;LinearProgress /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="32bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只需添加它，它会显示一个动画进度条。</p><p id="b8ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要改变样式，我们可以设置<code class="fe me mf mg mh b">color</code>属性:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6c31" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import LinearProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/LinearProgress";</span><span id="4f23" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;LinearProgress color="secondary" /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="b69e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在它会变成粉红色。</p><h1 id="be66" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">确定进度条</h1><p id="0034" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们想显示一个进度条，直到事情完成，我们可以设置<code class="fe me mf mg mh b">value</code>道具来控制进度。</p><p id="ab82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还需要将<code class="fe me mf mg mh b">variant</code>道具设置为<code class="fe me mf mg mh b">determinate</code>来设置确定的进度。</p><p id="6e0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4be7" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import LinearProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/LinearProgress";</span><span id="15bf" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [progress, setProgress] = React.useState(0);</span><span id="4165" class="mq lc iq mh b gy mv ms l mt mu">  React.useEffect(() =&gt; {<br/>    const timer = setInterval(() =&gt; {<br/>      setProgress(oldProgress =&gt; {<br/>        if (oldProgress === 100) {<br/>          return 0;<br/>        }<br/>        return Math.min(oldProgress + 15, 100);<br/>      });<br/>    }, 500);</span><span id="339b" class="mq lc iq mh b gy mv ms l mt mu">  return () =&gt; {<br/>      clearInterval(timer);<br/>    };<br/>  }, []);</span><span id="f5bf" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;LinearProgress variant="determinate" value={progress} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="f9ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加一个<code class="fe me mf mg mh b">prigress</code>状态。这是一个我们用来确定进度的数字。</p><p id="8772" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该值的范围从0到100。</p><p id="ad42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该值用<code class="fe me mf mg mh b">useEffect</code>进度更新，它调用<code class="fe me mf mg mh b">setProgress</code>来更新进度。</p><p id="4460" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果少于100，我们就一直加100。</p><p id="1947" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们将其设置为100。</p><p id="057a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到一个不断来回移动的进度条。</p><h1 id="3b87" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">线性缓冲器</h1><p id="dce4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将<code class="fe me mf mg mh b">variant</code>设置为<code class="fe me mf mg mh b">buffer</code>来给条添加一条虚线和一条较亮的线。</p><p id="0cf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d35e" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import LinearProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/LinearProgress";</span><span id="8d58" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [progress, setProgress] = React.useState(0);</span><span id="97c4" class="mq lc iq mh b gy mv ms l mt mu">  React.useEffect(() =&gt; {<br/>    const timer = setInterval(() =&gt; {<br/>      setProgress(oldProgress =&gt; {<br/>        if (oldProgress === 100) {<br/>          return 0;<br/>        }<br/>        return Math.min(oldProgress + 15, 100);<br/>      });<br/>    }, 500);</span><span id="09bc" class="mq lc iq mh b gy mv ms l mt mu">  return () =&gt; {<br/>      clearInterval(timer);<br/>    };<br/>  }, []);</span><span id="62f3" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;LinearProgress<br/>        variant="buffer"<br/>        value={progress}<br/>        valueBuffer={progress * 1.1}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="b91b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在实际进度栏的右侧显示一个灯条。</p><p id="65fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">剩余的未填充空间用虚线填充。</p><h1 id="80b4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">非标准范围</h1><p id="a33a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过创建自己的函数将该数字标准化为100，从而使该范围成为非标准范围。</p><p id="5125" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3bb0" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import LinearProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/LinearProgress";</span><span id="bf7c" class="mq lc iq mh b gy mv ms l mt mu">const MIN = 100;<br/>const MAX = 200;<br/>const normalize = value =&gt; ((value - MIN) * 100) / (MAX - MIN);</span><span id="ffa9" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [progress, setProgress] = React.useState(MIN);</span><span id="1429" class="mq lc iq mh b gy mv ms l mt mu">  React.useEffect(() =&gt; {<br/>    const timer = setInterval(() =&gt; {<br/>      setProgress(oldProgress =&gt; {<br/>        if (oldProgress === MAX) {<br/>          return 0;<br/>        }<br/>        return Math.min(oldProgress + 15, MAX);<br/>      });<br/>    }, 500);</span><span id="d21e" class="mq lc iq mh b gy mv ms l mt mu">  return () =&gt; {<br/>      clearInterval(timer);<br/>    };<br/>  }, []);</span><span id="3e4b" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;LinearProgress variant="determinate" value={normalize(progress)} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="c4e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">MIN</code>和<code class="fe me mf mg mh b">MAX</code>常量设置为我们想要的值。</p><p id="ae2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们定义<code class="fe me mf mg mh b">normalize</code>函数将它转换成0到100之间的范围。</p><p id="b3cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以做和其他确定的进度条一样的事情。</p><p id="e3f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">唯一不同的是<code class="fe me mf mg mh b">value</code>属性仍然有一个介于0和100之间的值，因为我们调用了<code class="fe me mf mg mh b">normalize</code>函数来转换成这样的值。</p><h1 id="6953" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">定制进度</h1><p id="1daa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">withStyles</code>高阶组件来设计进度。</p><p id="0908" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7b5f" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import LinearProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/LinearProgress";<br/>import { withStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";</span><span id="1a9c" class="mq lc iq mh b gy mv ms l mt mu">const BorderLinearProgress = withStyles(theme =&gt; ({<br/>  root: {<br/>    height: 10,<br/>    borderRadius: 5<br/>  },<br/>  colorPrimary: {<br/>    backgroundColor:<br/>      theme.palette.grey[theme.palette.type === "light" ? 200 : 700]<br/>  },<br/>  bar: {<br/>    borderRadius: 5,<br/>    backgroundColor: "green"<br/>  }<br/>}))(LinearProgress);</span><span id="534a" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [progress, setProgress] = React.useState(0);</span><span id="dca7" class="mq lc iq mh b gy mv ms l mt mu">  React.useEffect(() =&gt; {<br/>    const timer = setInterval(() =&gt; {<br/>      setProgress(oldProgress =&gt; {<br/>        if (oldProgress === 100) {<br/>          return 0;<br/>        }<br/>        return Math.min(oldProgress + 15, 100);<br/>      });<br/>    }, 500);</span><span id="bf84" class="mq lc iq mh b gy mv ms l mt mu">  return () =&gt; {<br/>      clearInterval(timer);<br/>    };<br/>  }, []);</span><span id="4525" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;BorderLinearProgress variant="determinate" value={progress} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="fcfb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用了<code class="fe me mf mg mh b">withStyles</code>高阶组件，通过<code class="fe me mf mg mh b">bar</code>类的<code class="fe me mf mg mh b">backgroundColor</code>属性来改变进度条的颜色。</p><p id="937d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">colorPrimary</code>有未填充部分的颜色。</p><p id="f5cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">height</code>和<code class="fe me mf mg mh b">borderRadius</code>也改变了。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/34af05c3e4951c54ff9e976ac3db13ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pKvj91YMa0V0Ee_Q"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@thecreative_exchange?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的创意交流</a>拍摄</figcaption></figure><h1 id="24d8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="90e0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以制作一个线性进度条，用它来永远显示一个进度条，或者只是用它来显示进度。</p></div></div>    
</body>
</html>