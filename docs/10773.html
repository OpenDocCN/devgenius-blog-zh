<html>
<head>
<title>Switch statement in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift 中的 Switch 语句</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/switch-statement-in-swift-5d25cef55c86?source=collection_archive---------3-----------------------#2022-11-28">https://blog.devgenius.io/switch-statement-in-swift-5d25cef55c86?source=collection_archive---------3-----------------------#2022-11-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="50ed" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">带开关盒的快速控制流程</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/af180732aaa38bbc4871559ef4af57fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jLHqsEIPVSMLpv8_7TOH2w.png"/></div></div></figure><p id="6e9b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在 Swift 中，switch 语句是一种控制机制，允许程序改变控制流，并根据变量值的某些条件做出一些决定。它允许我们在许多备选方案中执行一个代码块，并在第一个匹配案例完成时立即完成执行，而不是传递到后续案例的底部。</p><p id="2d38" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk"> switch </em>语句提供了对<em class="lk"> if </em>语句的替代，用于响应多个潜在状态。</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="7c2f" class="lq lr in lm b be ls lt l lu lv">switch (variable/expression) {  <br/>case value1:  <br/>    // statements <br/>case value2:  <br/>    // statements  <br/>default:  <br/>    // statements  <br/>}  </span></pre><p id="7170" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk">开关</em>语句对括号内的表达式求值</p><ol class=""><li id="81a1" class="lw lx in kq b kr ks ku kv kx ly lb lz lf ma lj mb mc md me bi translated">如果表达式的结果等于 value1，则执行 case value1:的语句。</li><li id="aed2" class="lw lx in kq b kr mf ku mg kx mh lb mi lf mj lj mb mc md me bi translated">如果表达式的结果等于 value2，则执行 case value2:的语句。</li><li id="a886" class="lw lx in kq b kr mf ku mg kx mh lb mi lf mj lj mb mc md me bi translated">如果不匹配，则执行<strong class="kq io">默认情况</strong>的语句。</li></ol><h2 id="5390" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">Switch 语句中的事例</h2><p id="9f01" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">switch 语句中的每个<em class="lk"> case </em>表示我们代码中的一个潜在路径。<strong class="kq io"> <em class="lk">事例</em> </strong>可以是<strong class="kq io"> <em class="lk">显式</em> </strong> <em class="lk">事例</em>(包含与开关值匹配的模式的事例)或<strong class="kq io"> <em class="lk">默认</em> </strong>事例(没有模式，但如果前面的事例都不匹配，则匹配)。</p><blockquote class="nh ni nj"><p id="9e4e" class="ko kp lk kq b kr ks jo kt ku kv jr kw nk ky kz la nl lc ld le nm lg lh li lj ig bi translated">默认 case 必须写成 switch 语句中的最后一个 case，并使用 default 关键字后跟一个冒号，然后是包含一个或多个语句的代码块。默认情况是一种通配符情况，如果 switch 语句中以前的所有情况都不匹配，它将自动匹配 switch 值。</p></blockquote><h2 id="7ac2" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">Switch 语句流程图</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nn"><img src="../Images/ab2cff337a6f694792329aa3d139af9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QutnMth2IM7CbqYWAQqetQ.png"/></div></div></figure><h2 id="0fcf" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">交换语句</h2><p id="2d63" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">以下是 Swift 编程中 switch 语句的示例</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="edb1" class="lq lr in lm b be ls lt l lu lv">let animal = "horse"<br/><br/>switch animal {<br/>case "horse":<br/>    print("eats grass")<br/>case "wolf":<br/>    print("eats meat")<br/>default:<br/>    print("no match")<br/>}</span></pre><h2 id="69c1" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">带故障的 Switch 语句</h2><p id="f0e6" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">Swift switch cases 不会“失败”,在 case 语句中使用 fallthrough 关键字，即使 case 值与 switch 表达式不匹配，控制也会继续处理下一个 case。</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="4af7" class="lq lr in lm b be ls lt l lu lv">let count = 10<br/><br/>switch count {<br/>   case 100:<br/>      print( "Value of count is 100")<br/>      fallthrough<br/>   case 10:<br/>      print( "Value of count is 10")<br/>      fallthrough<br/>   case 5:<br/>      print( "Value of count is 5")<br/>   default:<br/>      print( "default case")<br/>}</span></pre><h2 id="e051" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">不带默认块的开关</h2><p id="0ddd" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated"><em class="lk">默认</em>块在 Swift switch 语句中是可选的。对于表达式的每个可能值，我们都应该有 case 块。</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="5073" class="lq lr in lm b be ls lt l lu lv">enum Theme {<br/>    case light<br/>    case dark<br/>}<br/><br/>let theme = Theme.light<br/><br/>switch theme {<br/>    case .light:<br/>         print("light theme apply")<br/>    case .dark:<br/>         print("drak theme apply")<br/>}</span></pre><p id="3fcb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Swift switch 语句案例必须详尽。这意味着它应该包含所有可能的值。如果包含足够的 case 语句不可行，则必须最后包含一个 default 语句来捕捉任何其他值。如果我们错过了任何可能的情况，那么我们需要添加一个默认情况，否则编译器将显示一个错误“开关必须详尽”。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi no"><img src="../Images/94b984a5ccbaf47cba0a6b8c0ebf4afd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ptl5QCzLhy-3u9tV-LGBMQ.png"/></div></div></figure><h2 id="ad39" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">带范围的 Switch 语句</h2><p id="6d04" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">Swift 可以对您的 case 语句进行一些评估，以匹配变量。可以检查开关情况下的值是否包含在间隔中。例如，如果您想要检查可能值的范围，您可以使用封闭范围运算符，如下所示:</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="2daa" class="lq lr in lm b be ls lt l lu lv">let mark = 12<br/><br/>switch mark {<br/>case 0:<br/>    print("Bull Eye")<br/>case 1..&lt;10:<br/>    print("Almost Bull Eye")<br/>case 10..&lt;30:<br/>    print("Close")<br/>default:<br/>    print("Too Far")<br/>}</span></pre><h2 id="6f1f" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">Switch 语句中的元组</h2><p id="ff2e" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">我们可以使用元组在同一个 switch 语句中测试多个值。可以针对不同的值或值的区间来测试元组的每个元素。或者，使用下划线字符(<code class="fe np nq nr lm b">_</code>)，也称为通配符模式，来匹配任何可能的值。</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="5b32" class="lq lr in lm b be ls lt l lu lv">let aPoint = (1, 1)<br/><br/>switch aPoint {<br/>case (0, 0):<br/>    // only catches an exact match for first and second<br/>case (_, 0):<br/>    // any first, exact second<br/>case (-2...2, -2...2):<br/>    // range for first and second<br/>default:<br/>    // catches anything else<br/>}</span></pre><blockquote class="nh ni nj"><p id="14f4" class="ko kp lk kq b kr ks jo kt ku kv jr kw nk ky kz la nl lc ld le nm lg lh li lj ig bi translated">在元组的情况下，对于要执行的任何情况，这两个值都应该匹配。</p></blockquote><h2 id="8195" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">Switch 语句中的复合情况</h2><p id="9723" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">共享同一主体的多个开关案例可以通过在案例后写几个模式来组合，每个模式之间用逗号隔开。如果任何模式匹配，则认为该案例匹配。如果使用逗号分隔值，我们可以在一个案例中匹配多个值。这叫做<strong class="kq io">复合案</strong></p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="4ced" class="lq lr in lm b be ls lt l lu lv">let charValue = "e"<br/><br/>switch charValue {<br/>case "a", "b", "c":<br/>    print("match found for (a,b,c) value")<br/>case "d", "e":<br/>    print("match found for (d,e) value")<br/>default:<br/>    print("No match found")<br/>}</span></pre><h2 id="0de0" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">使用 Switch 语句的值绑定</h2><p id="7a17" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">switch case 可以将它匹配的一个或多个值命名为临时常量或变量，以便在 case 的主体中使用。这种行为被称为值绑定，因为值被绑定到 case 主体中的临时常量或变量。</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="394b" class="lq lr in lm b be ls lt l lu lv">let currentPoint = (10, 0)<br/>switch currentPoint {<br/>case (let x, 0):<br/>    print("on the x-axis with an x value of \(x)")<br/>case (0, let y):<br/>    print("on the y-axis with a y value of \(y)")<br/>case let (x, y):<br/>    print("somewhere else at (\(x), \(y))")<br/>}</span></pre><blockquote class="nh ni nj"><p id="7781" class="ko kp lk kq b kr ks jo kt ku kv jr kw nk ky kz la nl lc ld le nm lg lh li lj ig bi translated">这个 switch 语句没有默认的大小写。因为 currentPoint 总是两个值的元组，所以这种情况匹配所有可能的剩余值，并且不需要默认情况来使 switch 语句详尽。</p></blockquote><h2 id="815c" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">Switch 语句中的 Where 子句</h2><p id="2e85" class="pw-post-body-paragraph ko kp in kq b kr nc jo kt ku nd jr kw kx ne kz la lb nf ld le lf ng lh li lj ig bi translated">switch case 还可以使用 where 子句来检查附加条件。</p><pre class="kd ke kf kg gt ll lm ln bn lo lp bi"><span id="ac86" class="lq lr in lm b be ls lt l lu lv">var num  = 0<br/><br/>switch num  {<br/>case let result where num &gt;= 0:<br/>     print(result)<br/>case num where num % 5 == 0 &amp;&amp; num % 3 == 0:<br/>     print(" Fizz Buzz")<br/>case num where num % 3 == 0:<br/>     print("Fizz")<br/>case num where num % 5 == 0:<br/>     print("Buzz")<br/>default:<br/>    print(num)<br/>}</span></pre><h2 id="539a" class="mk lr in bd ml mm mn dn mo mp mq dp mr kx ms mt mu lb mv mw mx lf my mz na nb bi translated">要记住的事情</h2><ul class=""><li id="368d" class="lw lx in kq b kr nc ku nd kx ns lb nt lf nu lj nv mc md me bi translated">不需要 break 语句。您可以使用一个<em class="lk"> break </em>语句来匹配并忽略一个特定的案例，或者在该案例完成执行之前退出一个匹配的案例。</li><li id="3f2b" class="lw lx in kq b kr mf ku mg kx mh lb mi lf mj lj nv mc md me bi translated">案件数量不限。</li><li id="88c3" class="lw lx in kq b kr mf ku mg kx mh lb mi lf mj lj nv mc md me bi translated">switch 语句从上到下，获取表达式并与每个 case 值进行比较。</li><li id="956a" class="lw lx in kq b kr mf ku mg kx mh lb mi lf mj lj nv mc md me bi translated">Swift switch 案例不会“失败”。如果您希望它们在下一种情况下落入代码，您必须显式地使用<strong class="kq io"> fallthrough </strong>关键字。</li><li id="f981" class="lw lx in kq b kr mf ku mg kx mh lb mi lf mj lj nv mc md me bi translated">每个 case 都必须包含可执行代码，否则编译器将抛出错误<strong class="kq io">,“switch”中的“case”标签应该至少有一个可执行语句</strong>。如果想忽略一个事例，可以添加一个 break 语句。</li><li id="3510" class="lw lx in kq b kr mf ku mg kx mh lb mi lf mj lj nv mc md me bi translated">缺省情况是必须的，直到开关情况在一个枚举上，并且所有情况都被穷尽，否则编译器将通过错误“<strong class="kq io">开关必须穷尽”。</strong></li></ul></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="0521" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">感谢阅读。如果您有任何意见、问题或建议，请在下面的评论区发表！👇。请<strong class="kq io">分享</strong>并给予<strong class="kq io">掌声</strong>👏👏如果你喜欢这篇文章。</p></div></div>    
</body>
</html>