<html>
<head>
<title>Running WASM Binaries in on your local system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在本地系统上运行WASM二进制文件</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/running-wasm-binaries-in-on-your-local-system-69694e100083?source=collection_archive---------4-----------------------#2019-09-29">https://blog.devgenius.io/running-wasm-binaries-in-on-your-local-system-69694e100083?source=collection_archive---------4-----------------------#2019-09-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="987e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">新WASI运行时已经过时了。本文解释了如何在本地机器上运行wasm二进制文件。</p><p id="de85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">WASI代表<a class="ae ki" href="https://github.com/CraneStation/wasmtime/blob/master/docs/WASI-overview.md" rel="noopener ugc nofollow" target="_blank"> WebAssembly系统接口</a>。</p><p id="808a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简而言之，WASI允许你在任何运行WASI的平台上运行wasm二进制文件。这种技术有一天可能解放多语言体系结构，在这些语言之间共享本地模块和交换功能。</p><p id="8329" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以在<a class="ae ki" href="https://hacks.mozilla.org/category/webassembly/" rel="noopener ugc nofollow" target="_blank"> moz://a HACKS </a>博客上关注关于WebAssembly的最新文章。在那里你可以寻找作者林克拉克来了解更多关于的事情。</p><p id="c318" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我想解释在本地机器上运行Rust编译的wasm的必要步骤。</p><h1 id="ddda" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">先决条件</h1><h1 id="b62e" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">WebAssembly运行时</h1><p id="5775" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">在<a class="ae ki" href="https://wasmtime.dev/" rel="noopener ugc nofollow" target="_blank"> wasmtime.dev </a>你可以为基于Linux的系统安装最新的运行时。</p><p id="cf98" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于windows，您需要自己编译可执行文件，但这不是问题。</p><p id="96de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">只需从GitHub<a class="ae ki" href="https://github.com/CraneStation/wasmtime" rel="noopener ugc nofollow" target="_blank">https://github.com/CraneStation/wasmtime</a>克隆回购并执行</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="8751" class="lv kk in lr b gy lw lx l ly lz">&gt; git clone --recurse-submodules https://github.com/CraneStation/wasmtime.git <br/>&gt; cd wasmtime <br/>&gt; cargo build --release</span></pre><p id="91e0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在命令行中。</p><p id="f8bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(如果遇到任何问题，不要忘了先<code class="fe ma mb mc lr b">rustup update</code></p><p id="56f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">完成后，如果你愿意，让可执行文件对命令行可用，或者你必须在本教程的后面提供可执行文件<code class="fe ma mb mc lr b">wasmtime</code>的完整路径。</p><h1 id="a557" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">检查一个Rust项目</h1><p id="54c8" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">为了简单起见，我建议你从GitHub<a class="ae ki" href="https://github.com/rusticus-io/hangman" rel="noopener ugc nofollow" target="_blank">https://github.com/rusticus-io/hangman</a>克隆Rust社区Stuttgart的hangman教程。</p><h1 id="e00c" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">安装WASI编译目标</h1><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="243c" class="lv kk in lr b gy lw lx l ly lz">&gt; rustup target add wasm32-wasi</span></pre><h1 id="0370" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">如何编译项目</h1><p id="89da" class="pw-post-body-paragraph jk jl in jm b jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd ll kf kg kh ig bi translated">切换到Rust项目文件夹并编译源代码。</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="1acb" class="lv kk in lr b gy lw lx l ly lz">cargo build --target wasm32-wasi</span></pre><p id="cb05" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以在<code class="fe ma mb mc lr b">target/wasm32-wasi/debug</code>文件夹中找到wasm。</p><h1 id="ffa5" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">在运行时运行WASM二进制文件</h1><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="93de" class="lv kk in lr b gy lw lx l ly lz">&gt; wasmtime target/wasm32-wasi/debug/hangman.wasm</span></pre><p id="e946" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">并且玩游戏；).</p><p id="b951" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如您所见，在本地机器上运行WASM非常容易。</p><p id="1365" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">WASI运行时的好处是，所有的程序都运行在一个沙箱中，开箱即用，只提供访问你的文件夹结构向下。出于安全原因，这有助于限制对系统的访问。如果您想要更大的灵活性，可以查找wasmtime命令行选项，并且(显然)等待将来的版本。</p><p id="7891" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这意味着WASI的发展还没有结束。</p><p id="784d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我想看看未来会带来什么。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="1048" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mk">原载于</em><a class="ae ki" href="http://rusticus.io/blog/2019-09-29-running-hangman-tutorial-in-wasi/" rel="noopener ugc nofollow" target="_blank"><em class="mk">http://rusticus . io</em></a><em class="mk">。</em></p></div></div>    
</body>
</html>