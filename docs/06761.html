<html>
<head>
<title>Time Series Forecasting: Air Traffic Passenger( Timeseries End to End Project Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列预测:空中交通乘客(时间序列端到端项目第一部分)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/time-series-forecasting-passenger-air-traffic-time-series-project-part-1-da51d4e8520a?source=collection_archive---------3-----------------------#2022-02-01">https://blog.devgenius.io/time-series-forecasting-passenger-air-traffic-time-series-project-part-1-da51d4e8520a?source=collection_archive---------3-----------------------#2022-02-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e218" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">比较多种模型性能来预测臭名昭著的航空飞行乘客数据</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4ee421c1ce27219f1df26491e947f0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*frmRlQyAbzyYKVr_"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">艾萨克·史密斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8731" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">项目目标</strong></p><p id="ec14" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在解决飞机乘客数据的时间序列预测问题时，各种方法(统计、最大似然、神经网络)性能的一般比较。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="40c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">项目结构</strong></p><pre class="kj kk kl km gt lg lh li lj aw lk bi"><span id="cfb1" class="ll lm in lh b gy ln lo l lp lq">airtraffic_forecast/<br/>    data/<br/>        utility.py<br/>        original_data/<br/>            Air_Traffic_Passenger_Statistics.csv<br/>        prepare_data/<br/>            generate_modified_data.py<br/>            prepare_data.py<br/>        ready_to_process_data/<br/>            forecast_data.csv<br/>            prepare_for_eda.csv<br/><br/>    modelling/<br/>        forecast_model_ML.py<br/>        forecast_model_NN.py<br/>        forecast_model_statistical.py<br/>        metrics.py<br/>        start_modelling.py<br/>        train_report_basemodel.py<br/>        utilities.py<br/>        model_output/<br/>            KNeighborsRegressor.pkl<br/>            LinearRegression.pkl<br/>            NeuralProphet_hidden_layer3_epoch_3_weekly_seasonality12.pkl<br/>            PassiveAggressiveRegressor.pkl<br/>            RandomForestRegressor.pkl<br/>            SARIMA_1,0,1_1,0,1,12__moving_avg_sqrt.pkl<br/>            SARIMA_1,0,1_1,0,1,12__sqrt_ts.pkl<br/>            SARIMA_1,0,1_1,0,1,12__ts_log.pkl<br/>            SARIMA_1,0,1_1,0,1,12__ts_log_ewma.pkl<br/>            SARIMA_1,0,1_1,0,1,12__ts_log_ewma_diff.pkl<br/>            SARIMA_1,0,1_1,0,1,12__ts_log_moving_avg.pkl<br/>            SARIMA_1,0,1_1,0,1,12__ts_moving_avg.pkl<br/>            SVRegressor.pkl<br/>            XGBRegressor.pkl<br/>        model_performance/<br/>            ml_model_result.csv<br/>            nn_result.csv<br/>            sarimax_result_.csv<br/><br/>    notebook/<br/><br/>        EDA.ipynb<br/>        experiment.ipynb<br/>        explore_ts.ipynb<br/><br/>```</span></pre><p id="50c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">索引</strong></p><ol class=""><li id="317a" class="lr ls in jm b jn jo jr js jv lt jz lu kd lv kh lw lx ly lz bi translated">正在准备数据集</li><li id="372e" class="lr ls in jm b jn ma jr mb jv mc jz md kd me kh lw lx ly lz bi translated">探索性数据分析</li></ol><p id="4765" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.型号选择:</p><p id="9fc6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.a .使用统计模型建模</p><p id="46cf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.b .使用机器学习模型建模</p><p id="199c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.c .使用神经先知(神经网络)建模</p><p id="d1cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4.结论</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="478b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">准备数据集</strong></p><p id="82fd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在此阶段，我们将清理数据集以匹配下一步流程(EDA)，涉及两个文件:</p><p id="6386" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">此阶段的目标是生成用于预测的 eda 数据和培训数据。</p><ol class=""><li id="1ab8" class="lr ls in jm b jn jo jr js jv lt jz lu kd lv kh lw lx ly lz bi translated">prepare_data.py(扯皮步骤的源代码)</li><li id="f14c" class="lr ls in jm b jn ma jr mb jv mc jz md kd me kh lw lx ly lz bi translated">generate_modified_data.py(包装所有争论步骤并输出两个新数据)</li></ol><p id="30ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> prepare_data.py : </strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="6b17" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">generate _ modified _ data . py:</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="76e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后从命令行运行 generate_modified_data.py:</p><pre class="kj kk kl km gt lg lh li lj aw lk bi"><span id="3fc3" class="ll lm in lh b gy ln lo l lp lq">E:\DATA SCIENCE\airtraffic_forecast\airtraffic_forecast\data\prepare_data&gt;python generate_modified_data.py</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/b651ea34b1eea324ac19da1ca2c9b9f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ABYGuVMVKvLtgdWrzwmWg.png"/></div></div></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="9982" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">探索性数据分析</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="c040" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">建模</strong></p><p id="a570" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由于此项目实施了模块化概念，因此稍后在模型培训中会用到几个文件:</p><ol class=""><li id="0a7d" class="lr ls in jm b jn jo jr js jv lt jz lu kd lv kh lw lx ly lz bi translated">metrics.py(预测指标:RMSE、缅因州、MAPE)</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="2002" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.utilities.py(包含平稳性测试、数据准备)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="f242" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">使用统计模型建模</strong></p><p id="6141" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在经典的统计模型中，我只使用 SARIMAX 模型。我用的是 fix 模型配置，order = (p=1，d=0，q=1)，季节性 order =(P=1，D=0，Q=1，s=12)。然而，由于数据不是静态的，因此需要进行数据转换。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="84bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">使用机器学习模型建模</strong></p><p id="0b61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个概念中，我应该首先通过创建特征及其目标将时间序列任务转换为监督任务，我使用了几种方法:</p><ol class=""><li id="838f" class="lr ls in jm b jn jo jr js jv lt jz lu kd lv kh lw lx ly lz bi translated">使用滞后数据集长度的数量(129 行)</li></ol><p id="5c6a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.使用时间特征，例如使用正弦和余弦(循环特征)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="2546" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">使用神经先知模型建模</strong></p><p id="7e4c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我没有直接使用 NeuralProphet 对象进行拟合，而是创建了一个类来适应自定义输出(pd。DataFrame)来显示指标(RMSE、缅因州、MAPE)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="7059" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通过运行 start _ modelling.py 训练所有模型</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><pre class="kj kk kl km gt lg lh li lj aw lk bi"><span id="9171" class="ll lm in lh b gy ln lo l lp lq">E:\DATA SCIENCE\airtraffic_forecast\airtraffic_forecast\modelling python start_modelling.py --method statistical </span><span id="81cd" class="ll lm in lh b gy mi lo l lp lq">E:\DATA SCIENCE\airtraffic_forecast\airtraffic_forecast\modelling python start_modelling.py --method ml</span><span id="ac9d" class="ll lm in lh b gy mi lo l lp lq">E:\DATA SCIENCE\airtraffic_forecast\airtraffic_forecast\modelling python start_modelling.py --method NN</span></pre><p id="57ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">结论</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mg l"/></div></figure><p id="b288" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">根据该模型的性能结果，<strong class="jm io">神经先知模型</strong>和经典<strong class="jm io"> SARIMAX </strong>(取决于哪种转换)在这三个指标中具有较低的误差。</p><p id="d9d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我的 Fullstack Timeseries 项目:</strong></p><p id="d747" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第一部分:</strong> <a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/time-series-forecasting-passenger-air-traffic-time-series-project-part-1-da51d4e8520a"> <strong class="jm io">时间序列预测:航空客运(时间序列端到端项目第一部分)</strong> </a></p><p id="e46f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第 2 部分:</strong> <a class="ae ky" href="https://medium.com/@fakhrirobi.fra/create-timeseries-dashboard-using-dash-timeseries-end-to-end-project-part-2-38f0319e952?source=your_stories_page----------------------------------------" rel="noopener"> <strong class="jm io">使用 Dash 创建时间序列仪表板(时间序列端到端项目第 2 部分)</strong> </a></p><p id="998b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第 3 部分:</strong> <a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/deploy-forecasting-model-as-api-with-fast-api-and-heroku-timeseries-end-to-end-project-part-3-34692d980c3?source=your_stories_page----------------------------------------"> <strong class="jm io">使用 Fast API 和 Heroku 将预测模型部署为 API(时间序列端到端项目第 3 部分)</strong> </a></p><p id="df88" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">完整的代码实现可在这里<a class="ae ky" href="https://github.com/fakhrirobi/airtraffic_forecast" rel="noopener ugc nofollow" target="_blank">获得。</a></p><p id="0643" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">感谢您的关注。您可以通过我的<a class="ae ky" href="https://www.linkedin.com/in/fakhrirobi/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我，或者您可以在此星/叉/关注我的 github 账户<a class="ae ky" href="https://github.com/fakhrirobi" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>