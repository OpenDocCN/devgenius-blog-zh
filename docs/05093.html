<html>
<head>
<title>Slope Formula and Slop Point Formula</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">斜率公式和斜率点公式</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/slope-formula-and-slop-point-formula-16f2496dbb86?source=collection_archive---------3-----------------------#2021-06-15">https://blog.devgenius.io/slope-formula-and-slop-point-formula-16f2496dbb86?source=collection_archive---------3-----------------------#2021-06-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e231" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">带Cinemachine推车的移动电梯</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/c28cc0383e323c0e3a00119b6e1a638a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBbA284GgN0lNETDYNEIkg.png"/></div></div></figure><p id="b31d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了使我的电梯适用于基于真实世界建筑的电梯，各楼层间隔均匀，我可以为每个楼层添加停靠点。我只需要第一个航点和最后一个航点在正确的地方。然后，我可以使用斜率和点斜率公式来获得地板在路径上的位置。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/f83c1c6956d926144bfded326697bd88.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/1*b1D8g4QxQuFCu2gmtdBf4g.gif"/></div></figure><p id="fd5d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我必须确定我需要什么信息，以及如何将它可视化。我将使用2D图来形象化这一点。在这种情况下，Y将是位置单位，我有2个必须转换的单位，归一化(0–1)和距离(0-距离的长度，<em class="ll"> 17.99999 </em>)。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lm"><img src="../Images/cb5b5a9a3286273d4a41e00c17f93ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zhXMAr5audeyjv_dAgbUCw.gif"/></div></div></figure><p id="9529" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">x将会是你想要的楼层数。为了正确工作，点的数量需要与楼层的数量相同或更多，并且楼层应该均匀分布，路点不需要均匀分布。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/b3ca6d73e49b3eb2bbd208de966ac002.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/1*ESE85fMtlC00YQrI3vvyLQ.gif"/></div></figure><p id="e990" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">给定以下信息，我需要求解y，因为这是我需要设置为期望位置的数字。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lo"><img src="../Images/46316d353d5c2abf507301f537c962e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k41EIGFs-gKqhf-V_RgPRw.png"/></div></div></figure><h1 id="d069" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">倾斜</h1><p id="1f73" class="pw-post-body-paragraph ko kp in kq b kr mh jo kt ku mi jr kw kx mj kz la lb mk ld le lf ml lh li lj ig bi translated">为了使用点斜率，首先我需要得到斜率。这将根据我要使用的元素数量而变化。我的例子中唯一的常数是0–1。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mm"><img src="../Images/c4217193d13c85bd354eefb69931ee74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OKg1aFaAJtxf5MSIJnNIMw.png"/></div></div></figure><p id="05aa" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">把我的值放进公式里，我就能在两种情况下解出M。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/ea999e07178e3bdeffa3c472dd647361.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*mkNRMTZOyLpD6XHoxq4N5A.png"/></div></figure><p id="f915" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">注意，不管y1和x1都是0，我可以把它简化为y最大值除以x最大值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mo"><img src="../Images/249d782845e9d1666cedb22d10ad532c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YAUCbw9wMaoJOA3xE9wKlw.png"/></div></div></figure><h1 id="9a27" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">点斜率</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mp"><img src="../Images/805591b925aaf6d2fa5cb9ba28fad58c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nozsS3FkKgqks9BdEK7QXw.png"/></div></div></figure><p id="5be8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">把我的值放入公式中，我现在可以求解这两种情况下的y。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/ddfdc56c9d0d61993c56bc27983cf38a.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*ZNtfUvntt2j8gB2qoqdgPQ.png"/></div></figure><p id="5cf9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">请注意，无论y1和x1是0，我都可以将其简化为y = m *航路点索引。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/6088bba8a1eb7eaa079cf16c4b81622c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B0FYoL99yduyuO7sGfI4Ig.png"/></div></div></figure><h1 id="755f" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">完成移动到地板方法</h1><p id="28f7" class="pw-post-body-paragraph ko kp in kq b kr mh jo kt ku mi jr kw kx mj kz la lb mk ld le lf ml lh li lj ig bi translated">现在我需要做的就是使用斜率点来得到我想要的位置。对于Y最大值，我使用路径的最大值，使用选定的位置单位，对于X最大值，我使用路径的最大位置。对于最小值，我使用各自的最小值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ms"><img src="../Images/a8dfdce172f3db194fb792d9395f1c84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AR0M60F-5oG_nj9x4c7fIQ.png"/></div></div></figure><p id="09fa" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">使用距离，归一化的工作原理是一样的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/05ffe1b92dce65b900dab281468c7ebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-O-BvRoGpgbi6LKyQCxQhA.gif"/></div></div></figure><p id="2bd0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这与路点的位置不一致。0°处的路点和最后一个路点是需要在正确位置经过的路点。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/8d176e1143fa23851e962ece4ca9f3f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hjfdCvpmfJdynROCRlPrCg.gif"/></div></div></figure><p id="4fd7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">将第一个和最后一个路径点用在错误的位置。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/bbf0d5b3ab335e2507d0f91851346a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Sq9KmQvq9lZTdgt23nziIA.gif"/></div></div></figure><h2 id="1d5c" class="mw lq in bd lr mx my dn lv mz na dp lz kx nb nc mb lb nd ne md lf nf ng mf nh bi translated">使用仅具有起点和终点位置以及沿途多层的位置。</h2><p id="c55c" class="pw-post-body-paragraph ko kp in kq b kr mh jo kt ku mi jr kw kx mj kz la lb mk ld le lf ml lh li lj ig bi translated">要有一个起点和一个终点，并且多个楼层间隔相等，我需要做的就是将xMin改为1，将xMax改为楼层数。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ni"><img src="../Images/4293ac8ffb93be5e25f36808cf75569b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7p-WyK_W9w_3qWSnnQZ5HQ.gif"/></div></div></figure><p id="ecee" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在unity使用3层楼进行测试。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nj"><img src="../Images/bb49029054f20d5440f19f61b9fe45c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*onYpMnMzfrg4cq37A9zByQ.gif"/></div></div></figure><h2 id="5bff" class="mw lq in bd lr mx my dn lv mz na dp lz kx nb nc mb lb nd ne md lf nf ng mf nh bi translated">不同位置的多个楼层。</h2><p id="0180" class="pw-post-body-paragraph ko kp in kq b kr mh jo kt ku mi jr kw kx mj kz la lb mk ld le lf ml lh li lj ig bi translated">要添加多个楼层并停在它们的透视点，我需要将楼层号转换到与该楼层号对应的位置。传入的楼层号应对应一个航路点号，航路点从0开始，是路径单位。为了转换楼层数，我减去1，得到正确的路点数。为了将它转换到正确的位置，我使用Cinemachine的内置方法<a class="ae nk" href="https://docs.unity3d.com/Packages/com.unity.cinemachine@2.1/api/Cinemachine.CinemachinePathBase.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">从路径本地单位</strong> </a> <strong class="kq io">。</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nl"><img src="../Images/9ab8e99d493d4b804adbf6f510002cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IQfT95tFtT4vwk3V1KZh_A.png"/></div></div></figure><p id="5343" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后，我添加一个检查，看看是否有2个以上的路点。如果没有，我就用斜率法来设定位置。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nm"><img src="../Images/91ac6ad2389a776e1d30a9843dd2fee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TxzMiLNwB-bx3AT3jsBo2Q.gif"/></div></div></figure><p id="7eb3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在我有了一部功能齐全的移动电梯，不管它是如何设置的，它都能正确地停在正确的楼层。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nn"><img src="../Images/6223854506ae41148faec4fc668c3366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rCRZFmOPQdIrMJmOWUSqLA.gif"/></div></div></figure></div></div>    
</body>
</html>