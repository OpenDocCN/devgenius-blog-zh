<html>
<head>
<title>GraphQL guide for frontend developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">前端开发人员 GraphQL 指南</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/graphql-guide-for-frontend-developers-4ee6e97d64b0?source=collection_archive---------4-----------------------#2022-08-09">https://blog.devgenius.io/graphql-guide-for-frontend-developers-4ee6e97d64b0?source=collection_archive---------4-----------------------#2022-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/59d937084b4a845226451eaff5e93ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iw23DmS6GkLnJcHoUTJx-Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">来源:<a class="ae kc" href="https://hygraph.com/blog/graphql-vs-rest-apis#graphql-vs-rest" rel="noopener ugc nofollow" target="_blank">https://hy graph . com/blog/graph QL-vs-rest-APIs # graph QL-vs-rest</a></figcaption></figure><p id="b9ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的载体中，我几次接触 GraphQL 并学习了基本知识。<br/>我观看视频，阅读文档，甚至用 GraphQL 做简单的项目；尽管如此，我还是经常觉得整个生态系统对我来说并不清楚。<br/>在向具有前端开发技能的学生教授 GraphQL 的过程中，我意识到在网上找到简单明了地解释 GraphQL 是什么以及如何使用它的信息是多么困难。<br/>所以我试图填补这个空白。</p><h1 id="88c1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">GraphQL 是什么？</h1><p id="f9ad" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在官网上，GraphQL 被定义为“你的 API 的查询语言”。<br/>这是什么意思？<br/> API 是一个应用程序(应用程序编程接口)，允许开发者在应用程序之间交换数据。<br/>例如，后端应用程序中有一些数据，需要在前端应用程序中显示这些数据。在这种情况下，我们将使用应用程序接口或 API 将这些数据从后端传输到前端应用程序。</p><p id="1775" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以把 API 想象成一部手机。电话是我们用来从一个地方向另一个地方、从一个人向另一个人发送信息的东西。API 用于将数据从一个应用程序发送到另一个应用程序。根据这个例子，API 的查询语言是我们用来交流的语言:英语、德语、法语……</p><p id="fff9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GraphQL 是一种语言。它使用一个查询与 API 通信并请求数据。</p><h2 id="7e36" class="me lc iq bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">面向前端开发人员的 REST 与 GRAPHQL</h2><p id="4984" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">经常有人将 GraphQL 与 REST 相比较。<br/>如果你不确切知道 REST API 是如何工作的(也许你学会了如何使用它，但从未真正想过它是如何在幕后工作的)，以这种方式学习 GraphQL 可能会令人困惑。<br/> REST API 提供了所谓的端点，这些端点是返回大量数据的 URL。<br/>即<a class="ae kc" href="https://api.my" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">API . my</strong></a><strong class="kf ir">Website.com/getAllUsers</strong>可以是返回用户列表的典型端点。</p><p id="12d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是这实际上是如何工作的呢？这个网址是哪里来的？而这些数据从何而来？<br/>我不会详细讲述如何编写 RESTful API，但是理解这些端点是由开发人员创建的是很重要的。后端开发人员编写一些代码来做类似的事情:</p><ul class=""><li id="106f" class="mq mr iq kf b kg kh kk kl ko ms ks mt kw mu la mv mw mx my bi translated">理解请求是什么(在上面的例子中，请求是一个用户列表)</li><li id="dc45" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">连接到数据库或存储并检索所有这些数据(从数据库中获取所有用户)</li><li id="3b24" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">作为响应返回用户(返回一组用户，包括姓名、年龄、地址、电子邮件等)</li></ul><p id="b07d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与 REST 完全一样，GraphQL 包含一些后端代码。<br/>在后台，有一些代码将:</p><ul class=""><li id="cd33" class="mq mr iq kf b kg kh kk kl ko ms ks mt kw mu la mv mw mx my bi translated">创建端点并使其对前端可用</li><li id="895c" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">定义模式—模式指定哪些数据可用以及每个数据的类型(即名称:字符串、年龄:数字等)</li><li id="eb50" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">当请求特定查询时返回一组数据</li></ul><p id="af05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你有兴趣了解更多关于 GraphQL 的后端，查看这篇简短清晰的<a class="ae kc" href="https://www.tutorialspoint.com/graphql/graphql_example.htm" rel="noopener ugc nofollow" target="_blank">教程</a>。</p><p id="fa2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不可能编写 GraphQL 前端代码来与用 REST 编写的后端进行通信。这是因为它们是两种不同的语言。<br/>回到我们的电话示例:他们都使用相同的工具进行通信(电话/API ),但一个用中文，另一个用阿拉伯语。他们如何才能相互理解？不可能。</p><h2 id="16ef" class="me lc iq bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated"><strong class="ak">混淆概念:</strong></h2><p id="16d4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当我第一次学习 GraphQL 时，我对那些谈论设置服务器和使用<a class="ae kc" href="https://www.apollographql.com/" rel="noopener ugc nofollow" target="_blank"> Apollo </a>的例子和文档感到非常困惑。<br/>仅仅是写 GraphQL 的后端代码，就需要一个服务器。<br/>如果我的目标只是从预先存在的 GraphQL 端点获取数据，我就不需要服务器。</p><p id="e10e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Apollo 是一个强大且广泛使用的工具，它让生活变得更简单(有时；) )作为一个使用 GraphQL 的开发者。<br/>重要的是要明白，使用 Apollo 并不是强制性的，也不是完成这项工作的唯一工具。<br/>如果你是第一次接触 GraphQL，我建议你花点时间去了解哪些设置和哪些工具最适合你要编码的项目。</p><p id="aa39" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您完全可以开始使用 GraphQL 前端，而无需创建服务器或使用 Apollo 或任何类似的工具。现在我们来看看如何实现。</p><h1 id="07a0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">立即开始使用 GraphQL</h1><p id="ff2f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果你是一名前端开发人员，想要开始使用 GraphQL API，你不需要知道任何关于后端代码、服务器代码或者 API 是如何创建的。<br/>对您来说重要的概念是:</p><ul class=""><li id="d10b" class="mq mr iq kf b kg kh kk kl ko ms ks mt kw mu la mv mw mx my bi translated">了解如何用 GrahpQL 编写查询</li><li id="0322" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">如何找出可以查询的操作和字段</li></ul><h2 id="0ebf" class="me lc iq bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">用 GraphQL 获取数据:代码</h2><p id="39d3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果您已经使用过 REST API 或者在前端获取数据，那么您可能对<code class="fe ne nf ng nh b">fetch</code>方法很熟悉。<br/>让我们举一个例子:对于 REST，我们有这样一个端点:<code class="fe ne nf ng nh b"><a class="ae kc" href="https://adroablespuppies.com/" rel="noopener ugc nofollow" target="_blank">https://adroablespuppies.com/</a>allDogs</code> <br/>为了获取狗的列表，我们将编写:</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="cdbd" class="me lc iq nh b gy nq nr l ns nt">fetch(<!-- -->https://adroablespuppies.com/<!-- -->allDogs)</span></pre><p id="320d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里我们隐式地使用了<code class="fe ne nf ng nh b">GET</code>方法。<br/>如果我们需要发布一些更改，我们将使用<code class="fe ne nf ng nh b">POST</code>方法并编写如下代码:</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="d76b" class="me lc iq nh b gy nq nr l ns nt">fetch(<!-- -->https://adroablespuppies.com/<!-- -->addDog, {<br/>  method: 'POST',<br/>  headers: { <br/>   "Content-Type": "application/json"<br/>  },<br/>  body: { name: 'Fido', breed: 'mixed', age: 7 }<br/>})</span></pre><p id="a1d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在 GraphQL 中，我们编写了一个非常相似的代码，但是我们总是有一个语法，要么我们获取数据，要么我们发布数据。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="33f3" class="me lc iq nh b gy nq nr l ns nt">fetch(<!-- -->https://adroablespuppies.com/<!-- -->, {<br/>  method: 'POST',<br/>  headers: { <br/>   "Content-Type": "application/json"<br/>  },<br/>  body:  JSON.stringify({query: dogQuery)}<br/>})</span></pre><p id="02ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们稍后将详细讨论<code class="fe ne nf ng nh b">dogQuery</code>，但需要注意的是:</p><ul class=""><li id="4581" class="mq mr iq kf b kg kh kk kl ko ms ks mt kw mu la mv mw mx my bi translated">我们甚至使用<code class="fe ne nf ng nh b">POST </code>来获取数据</li><li id="d778" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">我们正在传递一个对象给身体，这个对象必须是<code class="fe ne nf ng nh b">{query: YOUR_QUERY}</code></li></ul><h2 id="f97b" class="me lc iq bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">如何编写查询</h2><p id="d7d7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在上面的例子中我们写了<code class="fe ne nf ng nh b">dogQuery</code>作为要发送的数据。<code class="fe ne nf ng nh b">dogQuery</code>实际上并不是什么数据，而是一个查询，它告诉 GraphQL 后端我们希望得到哪些信息作为响应。</p><p id="b8dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要编写查询，我们需要理解两个重要的概念。<br/>经营与领域。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="56e4" class="me lc iq nh b gy nq nr l ns nt">const dogQuery = query DogDetails{<br/>    dog(id : 1) {<br/>        name,<br/>        breed,<br/>        age<br/>    }<br/>}</span></pre><ul class=""><li id="71ec" class="mq mr iq kf b kg kh kk kl ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kf ir">查询</strong>:操作类型(我们要做哪种操作)</li><li id="a315" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kf ir"> DogDetails </strong>:操作名称(我们正在调用哪个方法)</li><li id="515e" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kf ir"> dog </strong>:根字段(包含有效负载的对象)</li><li id="edad" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kf ir"> id: 1: </strong>查询参数</li><li id="4eab" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kf ir">名称、品种、年龄:</strong>字段(有效载荷)</li></ul><p id="e5e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">关于操作类型:<br/> </strong>操作类型描述了需要对数据执行的操作，因此需要从这些操作类型之一开始查询。<strong class="kf ir">T21</strong>有三种操作:</p><ul class=""><li id="61cf" class="mq mr iq kf b kg kh kk kl ko ms ks mt kw mu la mv mw mx my bi translated">查询—只读获取。</li><li id="6ae0" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">突变—先写后取。</li><li id="da5f" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">订阅—响应源事件获取数据的长期请求。</li></ul><p id="3256" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果省略操作类型，则默认为<code class="fe ne nf ng nh b">query</code>。</p><p id="81ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">操作名称及字段<br/> </strong>操作名称及字段由后台开发人员编写。<br/>你无法猜测它们，也无法在 GraphQL 官方文档中找到它们。<br/>你可以直接从写后台的人那里得到它们。<br/>如果使用的是公共 GraphQL API，那么提供这些 API 的团队也将提供文档。查看此公共 GraphQL API<a class="ae kc" href="https://ivangoncharov.github.io/graphql-apis/." rel="noopener ugc nofollow" target="_blank">https://ivangoncharov.github.io/graphql-apis/.</a>列表</p><p id="237e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个提供文档和一些代码的游乐场的好例子:<a class="ae kc" href="https://www.predic8.de/fruit-shop-graphql?query=%0A%7B%0A%20%20products%20%7B%0A%20%20%20%20name%20%0A%20%20%7D%0A%7D%0A" rel="noopener ugc nofollow" target="_blank"> GraphiQL </a></p><h1 id="905e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">有用的链接:</h1><p id="5ca3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><a class="ae kc" href="https://www.digitalocean.com/community/tutorials/understanding-queries-in-graphql" rel="noopener ugc nofollow" target="_blank">https://www . digital ocean . com/community/教程/理解-查询-in-graphql</a>——对 GraphQL 详尽且文笔流畅的解释</p><p id="ba99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://www.predic8.de/graphql-query-samples.htm" rel="noopener ugc nofollow" target="_blank">https://www.predic8.de/graphql-query-samples.htm</a>——一套绝佳的查询示例+游乐场，让您一尝 GraphQL 的滋味</p><p id="791b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://ivangoncharov.github.io/graphql-apis/." rel="noopener ugc nofollow" target="_blank">https://ivangoncharov.github.io/graphql-apis/</a>—公共 API 列表</p><h1 id="95fe" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="1972" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">与 REST 和 GraphQL 一样，如果不阅读文档或与后端开发人员交谈，您就不知道要获取哪个端点。<br/>不同之处在于，对于 REST，我们只需要知道端点，一旦看到响应，我们就可以计算出我们拥有哪些数据。</p><p id="6bc4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用 GraphQL，我们需要知道哪些字段可用于编写查询，然后最终获取数据并查看响应。<br/>因此，开始编写代码前的准备工作至关重要。</p><p id="0531" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦知道了可用的方法和字段，就可以开始使用 GraphQL，而不需要任何第三方工具或库。<br/>就像做一个获取请求一样简单！</p><figure class="ni nj nk nl gt jr gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/7013e59d68f71e5962270a2eff631f69.png" data-original-src="https://miro.medium.com/v2/resize:fit:274/format:webp/0*_-By6kp7DSwoOdLe.jpeg"/></div></figure><p id="ac58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你的学习之路需要支持吗？<a class="ae kc" href="https://www.codementor.io/@giorgiasambrotta?refer=badge" rel="noopener ugc nofollow" target="_blank">让我们在 codementor 上聊聊</a></p></div></div>    
</body>
</html>