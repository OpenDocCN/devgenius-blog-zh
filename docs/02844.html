<html>
<head>
<title>Material UI — Responsive and Draggable Dialogs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">材质用户界面—响应性和可拖动的对话框</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/material-ui-responsive-and-draggable-dialogs-96d86efd8152?source=collection_archive---------2-----------------------#2020-09-04">https://blog.devgenius.io/material-ui-responsive-and-draggable-dialogs-96d86efd8152?source=collection_archive---------2-----------------------#2020-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/166b34b929b454830fb91cb03d116536.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EM4GNTQlx_PKJ8xj"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">赫尔墨斯·里维拉在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="90f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">材质UI是一个为React制作的材质设计库。</p><p id="b124" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一组具有材质设计风格的React组件。</p><p id="5e95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何用材质UI定制对话框。</p><h1 id="e22d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">响应全屏对话框</h1><p id="a29f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">useMediaQuery</code>钩子创建一个全屏的对话框。</p><p id="8692" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="87e3" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Dialog from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Dialog";<br/>import DialogActions from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogActions";<br/>import DialogContent from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogContent";<br/>import DialogContentText from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogContentText";<br/>import DialogTitle from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogTitle";<br/>import useMediaQuery from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/useMediaQuery";<br/>import { useTheme } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";</span><span id="f21e" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [open, setOpen] = React.useState(false);<br/>  const theme = useTheme();<br/>  const fullScreen = useMediaQuery(theme.breakpoints.down("sm"));</span><span id="d670" class="mq lc iq mh b gy mv ms l mt mu">  const handleClickOpen = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="6c83" class="mq lc iq mh b gy mv ms l mt mu">  const handleClose = () =&gt; {<br/>    setOpen(false);<br/>  };</span><span id="f2c1" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;Button variant="outlined" color="primary" onClick={handleClickOpen}&gt;<br/>        Open dialog<br/>      &lt;/Button&gt;<br/>      &lt;Dialog fullScreen={fullScreen} open={open} onClose={handleClose}&gt;<br/>        &lt;DialogTitle&gt;Dialog&lt;/DialogTitle&gt;<br/>        &lt;DialogContent&gt;<br/>          &lt;DialogContentText&gt;lorem ipsum&lt;/DialogContentText&gt;<br/>        &lt;/DialogContent&gt;<br/>        &lt;DialogActions&gt;<br/>          &lt;Button onClick={handleClose} color="primary" autoFocus&gt;<br/>            ok<br/>          &lt;/Button&gt;<br/>        &lt;/DialogActions&gt;<br/>      &lt;/Dialog&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="ddaa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加一个全屏的响应对话框。</p><p id="17a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用了<code class="fe me mf mg mh b">useTheme</code>钩子来获取主题。</p><p id="49c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了它，我们使用<code class="fe me mf mg mh b">useMediaQuery</code>让<code class="fe me mf mg mh b">breakpoint</code>传入钩子。</p><p id="3d10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着如果屏幕宽度达到sm断点或更小，对话框将全屏显示。</p><p id="63a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，它将是一个普通大小的对话框。</p><h1 id="fc1a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">确认对话框</h1><p id="343c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建一个确认对话框，以便在关闭对话框之前进行选择。</p><p id="b507" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要创建一个，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7681" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import PropTypes from "prop-types";<br/>import { makeStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import List from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/List";<br/>import ListItem from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/ListItem";<br/>import ListItemText from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/ListItemText";<br/>import DialogTitle from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogTitle";<br/>import DialogContent from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogContent";<br/>import DialogActions from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogActions";<br/>import Dialog from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Dialog";<br/>import RadioGroup from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/RadioGroup";<br/>import Radio from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Radio";<br/>import FormControlLabel from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/FormControlLabel";</span><span id="60b5" class="mq lc iq mh b gy mv ms l mt mu">const options = ["apple", "orange", "grape"];</span><span id="62ba" class="mq lc iq mh b gy mv ms l mt mu">function ConfirmationDialogRaw(props) {<br/>  const { onClose, value: valueProp, open, ...other } = props;<br/>  const [value, setValue] = React.useState(valueProp);<br/>  const radioGroupRef = React.useRef(null);</span><span id="c6b6" class="mq lc iq mh b gy mv ms l mt mu">  React.useEffect(() =&gt; {<br/>    if (!open) {<br/>      setValue(valueProp);<br/>    }<br/>  }, [valueProp, open]);</span><span id="9095" class="mq lc iq mh b gy mv ms l mt mu">  const handleEntering = () =&gt; {<br/>    if (radioGroupRef.current != null) {<br/>      radioGroupRef.current.focus();<br/>    }<br/>  };</span><span id="4497" class="mq lc iq mh b gy mv ms l mt mu">  const handleCancel = () =&gt; {<br/>    onClose();<br/>  };</span><span id="8f8a" class="mq lc iq mh b gy mv ms l mt mu">  const handleOk = () =&gt; {<br/>    onClose(value);<br/>  };</span><span id="ed83" class="mq lc iq mh b gy mv ms l mt mu">  const handleChange = event =&gt; {<br/>    setValue(event.target.value);<br/>  };</span><span id="2895" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;Dialog<br/>      disableBackdropClick<br/>      disableEscapeKeyDown<br/>      maxWidth="xs"<br/>      onEntering={handleEntering}<br/>      open={open}<br/>      {...other}<br/>    &gt;<br/>      &lt;DialogTitle&gt;Fruit&lt;/DialogTitle&gt;<br/>      &lt;DialogContent dividers&gt;<br/>        &lt;RadioGroup<br/>          ref={radioGroupRef}<br/>          name="ringtone"<br/>          value={value}<br/>          onChange={handleChange}<br/>        &gt;<br/>          {options.map(option =&gt; (<br/>            &lt;FormControlLabel<br/>              value={option}<br/>              key={option}<br/>              control={&lt;Radio /&gt;}<br/>              label={option}<br/>            /&gt;<br/>          ))}<br/>        &lt;/RadioGroup&gt;<br/>      &lt;/DialogContent&gt;<br/>      &lt;DialogActions&gt;<br/>        &lt;Button autoFocus onClick={handleCancel} color="primary"&gt;<br/>          Cancel<br/>        &lt;/Button&gt;<br/>        &lt;Button onClick={handleOk} color="primary"&gt;<br/>          Ok<br/>        &lt;/Button&gt;<br/>      &lt;/DialogActions&gt;<br/>    &lt;/Dialog&gt;<br/>  );<br/>}</span><span id="19a8" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [open, setOpen] = React.useState(false);<br/>  const [value, setValue] = React.useState("Done");</span><span id="3c34" class="mq lc iq mh b gy mv ms l mt mu">  const onClick = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="15cb" class="mq lc iq mh b gy mv ms l mt mu">  const handleClose = newValue =&gt; {<br/>    setOpen(false);</span><span id="a710" class="mq lc iq mh b gy mv ms l mt mu">    if (newValue) {<br/>      setValue(newValue);<br/>    }<br/>  };</span><span id="9fee" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;Button secondary={value} onClick={onClick}&gt;<br/>        Choose fruit<br/>      &lt;/Button&gt;</span><span id="7031" class="mq lc iq mh b gy mv ms l mt mu">      &lt;ConfirmationDialogRaw<br/>        keepMounted<br/>        open={open}<br/>        onClose={handleClose}<br/>        value={value}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="dfbf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了<code class="fe me mf mg mh b">ConfirmationDialogRaw</code>组件来显示带有各种选项的对话框。</p><p id="561f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有一个从<code class="fe me mf mg mh b">option</code>数组呈现的选项列表，作为一组单选按钮。</p><p id="2dca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们在单选按钮下面有一个“确定”和“取消”按钮。</p><p id="8b23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">App</code>组件中，我们有<code class="fe me mf mg mh b">Button</code>让我们打开对话框。</p><h1 id="21fa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">可拖动对话框</h1><p id="2145" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用react-draggable库创建一个可拖动的对话框。</p><p id="5f66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d471" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Dialog from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Dialog";<br/>import DialogActions from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogActions";<br/>import DialogContent from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogContent";<br/>import DialogContentText from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogContentText";<br/>import DialogTitle from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/DialogTitle";<br/>import Paper from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Paper";<br/>import Draggable from "react-draggable";</span><span id="b407" class="mq lc iq mh b gy mv ms l mt mu">function PaperComponent(props) {<br/>  return (<br/>    &lt;Draggable<br/>      handle="#draggable-dialog-title"<br/>      cancel={'[class*="MuiDialogContent-root"]'}<br/>    &gt;<br/>      &lt;Paper {...props} /&gt;<br/>    &lt;/Draggable&gt;<br/>  );<br/>}</span><span id="aee2" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [open, setOpen] = React.useState(false);</span><span id="1613" class="mq lc iq mh b gy mv ms l mt mu">  const handleClickOpen = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="5d91" class="mq lc iq mh b gy mv ms l mt mu">  const handleClose = () =&gt; {<br/>    setOpen(false);<br/>  };</span><span id="5735" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;Button variant="outlined" color="primary" onClick={handleClickOpen}&gt;<br/>        Open dialog<br/>      &lt;/Button&gt;<br/>      &lt;Dialog open={open} onClose={handleClose} PaperComponent={PaperComponent}&gt;<br/>        &lt;DialogTitle style={{ cursor: "move" }} id="draggable-dialog-title"&gt;<br/>          Title<br/>        &lt;/DialogTitle&gt;<br/>        &lt;DialogContent&gt;<br/>          &lt;DialogContentText&gt;lorem ipsum&lt;/DialogContentText&gt;<br/>        &lt;/DialogContent&gt;<br/>        &lt;DialogActions&gt;<br/>          &lt;Button onClick={handleClose} color="primary"&gt;<br/>            ok<br/>          &lt;/Button&gt;<br/>        &lt;/DialogActions&gt;<br/>      &lt;/Dialog&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="5126" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建一个可拖动的对话框。</p><p id="bb36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创造了<code class="fe me mf mg mh b">PaperComponent</code>使其可拖动。</p><p id="c572" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">react-draggable中的<code class="fe me mf mg mh b">Draggable</code>组件让我们通过设置带有选择器的<code class="fe me mf mg mh b">handle</code>属性来指定可拖动的项目。</p><p id="3e87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将它传递给<code class="fe me mf mg mh b">Dialog</code>的<code class="fe me mf mg mh b">PaperComponent</code>道具。</p><p id="3a77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择器必须在<code class="fe me mf mg mh b">DialogTitle</code>中，以使对话框可拖动。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/f1e2ea58a41dfafa099b824aaeb025c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6sLx_w5G1Tzlt-_W"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">安娜·佩尔泽在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><h1 id="1f9c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="443a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以让全屏对话框有反应。</p><p id="7fa8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们也可以制成可拖动的。</p></div></div>    
</body>
</html>