<html>
<head>
<title>Interfaces in PHP Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP 中的接口解释</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-like-a-pro-in-php-with-interfaces-a84041b08d74?source=collection_archive---------3-----------------------#2022-09-22">https://blog.devgenius.io/code-like-a-pro-in-php-with-interfaces-a84041b08d74?source=collection_archive---------3-----------------------#2022-09-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c031" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何以及何时在 PHP 中使用接口？举例说明。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6f1e839f53c914e22b487c7d50d47d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FDwxVMSy8fX5t3Gl2gXR5A.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://www.pexels.com/@hiteshchoudhary/" rel="noopener ugc nofollow" target="_blank"> @hiteshchoudhary </a></figcaption></figure><p id="6df4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用 PHP 创建 web 应用时会用到接口吗？如果还没有，我希望你在读完这篇文章后会开始了解。</p><blockquote class="ls"><p id="7221" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">“接口允许您指定对象的行为，而不必担心实现细节”</p></blockquote><p id="31a0" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">我已经编程很多年了，但是直到最近我才意识到<strong class="ky ir">接口</strong>在编程中的力量。</p><p id="e0b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以前，我没有使用它们——主要是因为<strong class="ky ir">我不理解它们</strong>。</p><p id="5df1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当我需要编写一些新功能时，我就从抽象类<em class="mh">开始。你也有那个吗？</em></p><p id="2206" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天我根本不使用抽象类！我在早期的出版物中写道:</p><div class="mi mj gp gr mk ml"><a rel="noopener  ugc nofollow" target="_blank" href="/stop-using-extends-in-php-37c9da1cce83"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd ir gy z fp mq fr fs mr fu fw ip bi translated">停止在 PHP 中使用“扩展”</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">你在你的域代码中使用抽象类还是扩展类？希望从今天起，你会停止这样做…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">blog.devgenius.io</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz kp ml"/></div></div></a></div><p id="ea4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当时，我无法理解接口会给应用程序带来什么价值。毕竟，它们没有任何代码。</p><blockquote class="ls"><p id="fd35" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">了解接口最重要的事情是，它们只不过是对代码将如何运行的<strong class="ak">承诺</strong>，而不是它将如何“工作”</p></blockquote><p id="a759" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">你能感觉到这种微妙的不同吗？有可能<strong class="ky ir">在没有实际代码</strong>的情况下围绕那个承诺进行构建。如果我把它作为一个例子来展示，那就简单多了。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><blockquote class="nh ni nj"><p id="9fed" class="kw kx mh ky b kz la jr lb lc ld ju le nk lg lh li nl lk ll lm nm lo lp lq lr ij bi translated">您的任务是编写一个新功能，允许将订单导出到 XML 文件。</p></blockquote><p id="daa5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为您正在创建新的功能，所以您从界面开始！<br/>订单将被输入并在输出上生成文件。</p><p id="b32a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">经过简短的思考，您得出结论，在不久的将来，他们肯定会要求您将该功能扩展到其他文件格式。您决定在接口中包含“格式”参数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">服务合同</figcaption></figure><p id="1e78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与此同时，前端团队希望在订单列表的管理面板中实现该功能。但是，它们需要一个控制器地址，控制器将处理请求并返回一个包含报告的文件。</p><p id="a195" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">他们必须等你实现所有的功能吗？多亏了这些接口，他们不必等待。我们已经可以编写控制器了:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="30da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并嘲笑其功能:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">订单导出器模拟测试功能</figcaption></figure><p id="dd4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就这样，我们有了一个完整的工作代码！前台人员可以专注于在仪表板中交付特性，而您可以专注于最终的实现。</p><p id="52c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在 Symfony 中，我们可以指出这是在请求<strong class="ky ir"> OrderExporterInterface </strong>服务时使用的默认实现:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="f6fd" class="nu nv iq nq b gy nw nx l ny nz">services:<br/>    App\Services\OrderExport\<strong class="nq ir">OrderExporterInterface</strong>:<br/>        '@App\Services\OrderExport\<strong class="nq ir">XmlOrderExporterMock</strong>'</span></pre><p id="13d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在 Laravel，我们可以在服务提供商中做同样的事情:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="962a" class="nu nv iq nq b gy nw nx l ny nz">$this-&gt;app-&gt;bind(<br/>    <strong class="nq ir">OrderExporterInterface</strong>::class,<br/>    <strong class="nq ir">XmlOrderExporterMock</strong>::class<br/>);</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="736d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二天，您发现有一个可用的序列化程序库。让我们用它来创建最终的实现，并简单地在框架的服务容器中替换它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">使用序列化程序的订单导出器</figcaption></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="708c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来的一个月，老板要求您交付一种新的输出格式，用于您的系统和基于云的 CRM 服务之间的定制集成。</p><p id="68ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是你必须提供多种格式支持的时候了。让我们为请求的格式创建新的导出器:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="29ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另外一个实现将成为主要实现:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="8ff2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以在服务容器中轻松绑定这个实现，例如在 Laravel:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/5a69d963e451836654e673ac58980a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*XoFV3J5tg2OhdsB7.jpg"/></div></figure><p id="b64f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，有了接口，我们可以毫不费力地扩展功能，而不会被应用程序(如仪表板、集成)注意到——这是我很长一段时间都没有理解的美妙之处。</p><blockquote class="ls"><p id="771b" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">编程到接口，而不是实现！</p></blockquote><p id="81db" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">这种方法带来的可能性是无限的。只要你的整个应用程序坚持使用接口，<strong class="ky ir">实现</strong>仅仅是一个<strong class="ky ir">无关紧要的细节</strong>。</p><p id="cd8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更不用说测试变得多么容易了。你不再需要嘲笑了！简单地写一个存根，将模拟工作。就像前面提到的<code class="fe ob oc od nq b">XmlOrderExporterMock</code>。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="32a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我说服你了吗？你会给界面一些爱吗？请务必阅读我在<strong class="ky ir"> DevGenius </strong>上发表的关于如何更好地编写代码的其他文章:</p><div class="mi mj gp gr mk ml"><a rel="noopener  ugc nofollow" target="_blank" href="/stop-using-extends-in-php-37c9da1cce83"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd ir gy z fp mq fr fs mr fu fw ip bi translated">停止在 PHP 中使用“扩展”</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">你在你的域代码中使用抽象类还是扩展类？希望从今天起，你会停止这样做…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">blog.devgenius.io</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz kp ml"/></div></div></a></div><div class="mi mj gp gr mk ml"><a rel="noopener  ugc nofollow" target="_blank" href="/stop-using-static-in-php-b150527819b2"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd ir gy z fp mq fr fs mr fu fw ip bi translated">停止在 PHP 中使用“静态”</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">让我试着说服你为什么共享状态是错误的，以及如何避免它以成为一个更好的开发者</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">blog.devgenius.io</p></div></div><div class="mu l"><div class="oe l mw mx my mu mz kp ml"/></div></div></a></div><div class="mi mj gp gr mk ml"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-write-good-unit-tests-a5bb376210bb"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd ir gy z fp mq fr fs mr fu fw ip bi translated">如何写出好的单元测试？</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">编写良好的单元测试的十个标志</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">blog.devgenius.io</p></div></div><div class="mu l"><div class="of l mw mx my mu mz kp ml"/></div></div></a></div></div></div>    
</body>
</html>