<html>
<head>
<title>Quick and Simple Way To Add Theming To Any Flutter App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速简单的方式添加主题到任何颤振应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/quick-and-simple-way-to-add-theming-to-any-flutter-app-826c16a53e19?source=collection_archive---------1-----------------------#2022-09-17">https://blog.devgenius.io/quick-and-simple-way-to-add-theming-to-any-flutter-app-826c16a53e19?source=collection_archive---------1-----------------------#2022-09-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="4898" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用 ChangeNotifier 类使主题化变得容易</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/708bb70b72a938f71dc17e6b7dbce0fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yFHi6RgnvG6-5bhoEvyvyA.png"/></div></div></figure><p id="a4a6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">作为一名前端、全栈甚至后端开发人员，我相信你一定至少谷歌过一次“如何主题化”。如今应用程序主题化如此普遍，但在大多数框架上仍然有点复杂，因此前端和后端开发人员在谷歌上搜索“如何为应用程序主题化”就不足为奇了。</p><p id="60a5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在这篇文章中，我将分享我如何使用 ChangeNotifier 类对我的 Flutter 应用程序进行主题化，无论这是一个附带项目还是其他。</p><p id="e200" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">先决条件:</p><ul class=""><li id="6b8b" class="lk ll in kq b kr ks ku kv kx lm lb ln lf lo lj lp lq lr ls bi translated">基本的颤振和飞镖知识</li><li id="79c4" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">完全安装在开发机器上的 Flutter SDK</li><li id="0644" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">测试应用程序的设备或模拟器</li><li id="8aa6" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">ChangeNotifier 类的基础知识(<a class="ae ly" href="https://docs.flutter.dev/development/data-and-backend/state-mgmt/simple" rel="noopener ugc nofollow" target="_blank">简单的 app 状态管理| Flutter </a></li></ul><h1 id="dab9" class="lz ma in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">我们开始吧</h1><p id="57eb" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">我将从创建 theme.dart 文件开始。根据您的文件结构，它可以保存在任何目录中。我把它保存在一个单独的文件夹中，其中包含 colors.dart 和其他任何主题化/样式化变量。</p><h2 id="1689" class="mw ma in bd mb mx my dn mf mz na dp mj kx nb nc ml lb nd ne mn lf nf ng mp nh bi translated">初始设置</h2><p id="ac66" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">首先，让我们将应用程序的根变成一个有状态的小部件。我们需要这样做，以便小部件树在主题改变时重新呈现。你们中的一些人可能会认为这将是一个非常任务化的应用程序，特别是如果它是一个像 Instagram 这样的大型应用程序，那么你会惊讶地知道 Flutter 处理得非常好，如果你遇到任何瓶颈或 janky 帧，你可以随时利用<code class="fe ni nj nk nl b">AnimatedBuilder</code>小部件，它接受一个<code class="fe ni nj nk nl b">Listenable</code>作为参数，并根据<code class="fe ni nj nk nl b">Listenable</code>中发生的变化来改变它包装的子小部件或小部件树。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">一旦您摆脱了 flutter create 样板代码并将 MyApp 更改为有状态小部件，您就应该有类似的东西了。</figcaption></figure><p id="f7db" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">正如我在这类文章中经常做的那样，我在代码片段中解释代码。记下这些评论。</p><h2 id="5526" class="mw ma in bd mb mx my dn mf mz na dp mj kx nb nc ml lb nd ne mn lf nf ng mp nh bi translated">创建 Theme.dart</h2><p id="189b" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">我们可以暂时保留 main.dart 文件，然后继续创建 Theme.dart 文件。</p><p id="452b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在这个文件中，我们将声明我们的主题，无论是光，暗，日出，中午，或任何你想叫他们。我们通过使用 Flutter 中的 ThemeData 类来实现这一点</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">所有的主题数据和参数都可以更改为你的应用程序使用的任何颜色。这只是一个例子，说明可以做些什么</figcaption></figure><p id="f5b9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">无论你的应用程序主题是什么，你都可以更改颜色、文本样式等等。使用某些参数时要小心，因为某些原因，当与其他参数结合使用时，有些参数不起作用。例如，TextTheme 类中的 bodyMedium 和 bodyText1 参数不能同时使用，这将导致应用程序中断并显示以下错误</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ns"><img src="../Images/fb6d8513e7ae2aea323cdd0b2468efbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*El1iTrmdNu1649nz9mPGJQ.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">我不知道为什么会允许这种事情发生🤷‍♂️.他们应该反对 2018 年的条款</figcaption></figure><h2 id="b059" class="mw ma in bd mb mx my dn mf mz na dp mj kx nb nc ml lb nd ne mn lf nf ng mp nh bi translated">创建 AppTheme 类</h2><p id="4aaa" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">我们将创建一个名为<code class="fe ni nj nk nl b">AppTheme</code>的类，它利用了<code class="fe ni nj nk nl b">ChangeNotifier</code>类。这将包含我们的主题状态和处理主题切换的回调。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">请注意，添加了使用 ChangeNotifier 的 AppTheme 类</figcaption></figure><p id="6ee2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在上面的代码片段中，我将 AppTheme 类添加到了 theme.dart 文件中。我这样做是因为这个类只有几行代码。请注意，我在第 30 行创建了它的一个实例，我这样做是因为如果另一个人查看您的代码并查找 AppTheme 的根实例，会更容易理解。</p><p id="25a5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我让 themeMode 成为一个 getter，因为直接改变状态是不明智的，因为直接改变状态有时会导致意想不到的错误。</p><h2 id="d8b7" class="mw ma in bd mb mx my dn mf mz na dp mj kx nb nc ml lb nd ne mn lf nf ng mp nh bi translated">实现 appTheme</h2><p id="a9fb" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">一旦你创建了所有的东西，你就可以返回到你的 main.dart 文件，并在你的应用程序根目录下的 MaterialApp 小部件中实现它，就像这样:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="85c5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这样你就大功告成了。为了使用主题值，你需要做的就是使用<code class="fe ni nj nk nl b">Theme.of(context).*</code>，用(*)作为你之前在主题数据变量中设置的参数，例如(<code class="fe ni nj nk nl b">Theme.of(context).textTheme.headlineMedium</code></p><p id="9f1c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我给你看一下<code class="fe ni nj nk nl b">PlaceholderWidget</code>代码作为例子</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">注意上下文用法的主题</figcaption></figure><h1 id="d189" class="lz ma in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">结论</h1><p id="8086" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">让我向您展示一下，如果您不折不扣地遵循本文，您的应用程序会是什么样子:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nt"><img src="../Images/41bf3f9ca0a0b0fd143688635a0eb84e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*rLY1a_0VNUFvKG8u8-nkqQ.gif"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">没错。它自己做淡入淡出动画，没有额外的代码。</figcaption></figure><p id="4c8d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">瞧啊。你已经完成了你的 Flutter 应用程序的主题化。通过不到 30 行代码和对现有代码的一些修改，您已经将主题添加到了 Flutter 应用程序中。</p><p id="85cc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果这篇文章以任何方式帮助了你，请随意分享，留下评论或掌声👏。如果你认为我可以以任何方式改进这篇文章，请留下评论，我很乐意聊天和交流。</p></div><div class="ab cl nu nv hr nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ig ih ii ij ik"><p id="f710" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果你真的喜欢这篇文章，请随意查看我关于类似主题的其他帖子。别忘了下周收听我正在做的一个小项目的内幕。</p><div class="ob oc gp gr od oe"><a href="https://devshogun.medium.com/pull-to-refresh-or-search-using-flutter-e06e57b3b5e2" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd io gy z fp oj fr fs ok fu fw im bi translated">使用 Flutter 拉动以刷新或搜索</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">嗨，伙计们，这篇文章将讲述如何使用 Flutter，VelocityX 和 Simple……</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">devshogun.medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os km oe"/></div></div></a></div></div></div>    
</body>
</html>