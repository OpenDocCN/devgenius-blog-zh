<html>
<head>
<title>Indexing Dataframes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">索引数据帧</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/indexing-dataframes-aecdde4daaf?source=collection_archive---------14-----------------------#2020-07-21">https://blog.devgenius.io/indexing-dataframes-aecdde4daaf?source=collection_archive---------14-----------------------#2020-07-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="82ae" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">熊猫的索引数据帧</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/ac62e96e795e3b5c2b02a2ed0aec9c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UqK5EdyHqvhEw2TL"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">照片由<a class="ae ks" href="https://unsplash.com/@codytdavis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">戴维斯科</a>在<a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="da7a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">什么是指数？<strong class="kv io">索引</strong>就像一个地址，它让我们能够访问跨越<strong class="kv io">数据帧</strong>的数据点，或者可以访问一系列数据点。行和列都有<strong class="kv io">索引</strong>，行<strong class="kv io">索引</strong>被称为<strong class="kv io">索引</strong>，列是它们的通用列名。</p><p id="8804" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，理解索引行和/或列是非常重要的。在本教程中，让我们来看看熊猫的一些常用的索引方法。</p><p id="4fb2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请安装熊猫，以防你的系统没有安装。</p><p id="2432" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">！pip安装熊猫</strong></p><p id="7b49" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在让我们开始吧。让我们将数据读入数据帧并查看一下。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/e164e8184720daf36261aeb168917881.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*klGlbYwrriZ6F3Jmaetoyw.png"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/49fc7f5757c192961bf03c2c608649bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*yyyRhqy7mTBGv5f7OlB9PA.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">使用来自https://www。<a class="ae ks" href="https://www.espncricinfo.com/" rel="noopener ugc nofollow" target="_blank"> espncricinfo </a>。com/</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lr"><img src="../Images/58e3477b2ecb4f21dbe8fc3d839f3ea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h-7EB-yHFWTbDCOMY0I39g.png"/></div></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/384a5abb51e0cdb137da2f524a91dbd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*7psC9h2iV0RzAo_Jtvkwzw.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">数据集有14行和12列</figcaption></figure><p id="ed69" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">数据集有14行和12个特征，最左边的序列0，1 2，3 …是索引。让我们看看更多的信息。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/2c885d449135ab04d5affdbe72da2386.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*vCo5o1-RozWgkov5LZ2giA.png"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/60d1d5ce15ea0ab4f1a053249842d397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*_HGDgEqSQ2T4RsPUXKqqdQ.png"/></div></figure><p id="b7f7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lv">以上信息将帮助我们了解数据帧的行数和列数。基本上，看看我们的数据看起来怎么样。</em></p><p id="557d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">我们的索引方法:</strong></p><ol class=""><li id="1771" class="lw lx in kv b kw kx kz la lc ly lg lz lk ma lo mb mc md me bi translated"><strong class="kv io">锁定方法</strong></li><li id="8b07" class="lw lx in kv b kw mf kz mg lc mh lg mi lk mj lo mb mc md me bi translated"><strong class="kv io"> iloc方法</strong></li></ol><p id="9fa4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们首先想到的是“这两种方法的区别”。我们举个小例子来理解这一点。假设，5个孩子站成一排，位置从1到5。我们有两种方法来解决他们或呼唤他们。要么直呼其名，要么直呼其职位名。如果我们以孩子的名字来称呼他们，我们称之为'<em class="lv"> loc方法</em>'，如果我们以位置来称呼，我们称之为'<em class="lv"> iloc方法</em>'。</p><h1 id="fd0b" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated"><strong class="ak">锁定方法:</strong></h1><p id="d866" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">这是pandas中用于索引数据帧和/或系列方法的最通用的方法之一。<strong class="kv io"> loc </strong> () <strong class="kv io">函数</strong>用于通过标签或布尔数组访问一组行和列。loc[]主要基于标签，但也可以用于布尔数组。</p><p id="9623" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">语法是:</p><p id="62fd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">df . loc[指定行:指定列] </strong>，其中df是我们的数据帧的名称。</p><p id="3537" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">允许的输入有:</p><ul class=""><li id="73ce" class="lw lx in kv b kw kx kz la lc ly lg lz lk ma lo nh mc md me bi translated">单一标签</li><li id="4ef2" class="lw lx in kv b kw mf kz mg lc mh lg mi lk mj lo nh mc md me bi translated">标签的列表或数组</li><li id="8a06" class="lw lx in kv b kw mf kz mg lc mh lg mi lk mj lo nh mc md me bi translated">切片对象</li><li id="7881" class="lw lx in kv b kw mf kz mg lc mh lg mi lk mj lo nh mc md me bi translated">布尔数组</li><li id="121b" class="lw lx in kv b kw mf kz mg lc mh lg mi lk mj lo nh mc md me bi translated">一个带有一个参数(调用序列或数据帧)的可调用函数，返回有效的索引输出(上述之一)</li></ul><h2 id="fbad" class="ni ml in bd mm nj nk dn mq nl nm dp mu lc nn no mw lg np nq my lk nr ns na nt bi translated"><strong class="ak">使用单个标签:</strong></h2><p id="a37b" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">帮助指定我们需要的行和/或列。对于行，标签是该行的索引值，对于列，列名是标签。例如，在我们的世界杯数据框架中，如果我们只需要第3行以及所有的列，我们将使用如下:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/56c4997883ef686d807106184214ec28.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*LaGN4gfhrmct87_GSn-GOw.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">使用单个标签</figcaption></figure><p id="d02a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里我们指定了我们需要的标签，即2，冒号(:)表示我们需要该行中的所有列。</p><h2 id="05cb" class="ni ml in bd mm nj nk dn mq nl nm dp mu lc nn no mw lg np nq my lk nr ns na nt bi translated">标签的列表或数组:</h2><p id="e0d8" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">如果我们想要多行和/或多列，而不是只有一行呢？嗯，通过使用标签数组，我们可以做到这一点。让我们来看看:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nv"><img src="../Images/3bded9c923404751fe32060f974d3be1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PBa7ZLt2kazDZJ8d77GbQw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">使用标签列表</figcaption></figure><p id="662a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们需要与行相关的特定列，该怎么办:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/053bac7014b71dbaa12d86d14ff255a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*iGwSam4C2HFxsupvOzgqnQ.png"/></div></figure><h2 id="ef2c" class="ni ml in bd mm nj nk dn mq nl nm dp mu lc nn no mw lg np nq my lk nr ns na nt bi translated">切片对象:</h2><p id="efb8" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated"><strong class="kv io">切片符号</strong>表示<strong class="kv io">开始和</strong>停止标签。其中<strong class="kv io">和</strong>开始<strong class="kv io">和</strong>停止标签都包含在我们的输出中，如下所示:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/e8bbda4df777c740c2e7ae57b1e63eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*a-aI22yZUF30DO8Y4yy_eQ.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">显示从团队到总匹配数的所有列</figcaption></figure><h2 id="6636" class="ni ml in bd mm nj nk dn mq nl nm dp mu lc nn no mw lg np nq my lk nr ns na nt bi translated">布尔数组:</h2><p id="9434" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">最后，我们可以使用一个布尔值数组。但是，这个布尔值数组的长度必须与我们使用它的轴的长度相同。例如，我们的世界杯数据帧具有(14，12)的形状，这意味着它有14行和12列。所以如果我们想用一个布尔数组来指定我们的行，那么它需要有14个元素的长度，如果我们想用一个布尔数组来指定我们的列，它需要有12个元素的长度。</p><p id="6717" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">例如，假设我们想首先只选择列中包含1975的行:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/cc6d7006b1920c76d8a49d24d8dfe20f.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*M-wdy-bCfKJrjP25mFfOIg.png"/></div></figure><p id="db59" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">注意，这将返回一个熊猫序列(或类似数组的对象),长度为14行，由布尔值(真或假)组成。这是我们需要的值的确切数目，以便能够使用这个布尔数组，使用loc方法来指定我们的行。使用这种方法的另一种方式是:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ny"><img src="../Images/aa114b473f1a2c6255b493caca40bd36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AYK8mvYYyZjH3agu_Xss5Q.png"/></div></div></figure><h1 id="1dbc" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">iloc方法:</h1><p id="1a79" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated"><strong class="kv io"> iloc </strong>选择一行时返回Pandas系列，选择多行时返回Pandas DataFrame，或者选择任何完整的列。iloc方法也可用于数据帧和系列方法。iloc中的I代表整数，而不是标签。</p><p id="49b0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">iloc的语法:</p><p id="3cb5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> df.iloc[ &lt;行选择&gt;，&lt;列选择&gt; ] </strong></p><p id="0641" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">“iloc”用于<strong class="kv io">通过数字</strong>选择行和列，按照它们在数据框中出现的顺序。每一行都有一个从0到总行数的行号(df.shape[0]，0表示行数)，iloc[]允许基于这些编号进行选择。这同样适用于列(范围从0到df.shape[1]，1表示列)。iloc有两个“参数”——一个行选择器和一个列选择器。</p><p id="e6a2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在我们的数据帧中，我们没有改变索引，所以我们的数据帧的默认索引只是我们的行的整数位置。因此，让我们尝试使用slice对象通过iloc方法来指定我们的行:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/677c6d5663f8e548d382a6b4ffceb68b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m2F2KTLAk5Flgjg--RRIeQ.png"/></div></div></figure><p id="c572" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在iloc方法中使用slice对象时，停止整数位置是包含在我们的数据帧中的<strong class="kv io">而不是</strong>。所以我们只看到第6、7和8行。这是与loc方法的区别之一，在loc方法中，开始和停止标签都包含在我们的数据帧中。</p><p id="aa17" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在让我们使用iloc方法来指定我们需要的列:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/39c13cfef5b8a54060a4a8d6ed052bd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*9srfl0uAInI2mTYu7FQ5SQ.png"/></div></figure><h1 id="d2f6" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">结论</h1><p id="cb52" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">在本教程中，我们学习了如何使用loc和iloc方法索引数据帧。我们知道loc方法处理行和列的标签，而iloc方法处理整数位置。</p></div></div>    
</body>
</html>