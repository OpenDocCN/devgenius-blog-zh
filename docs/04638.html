<html>
<head>
<title>Using Arduino IDE with unofficial Arduino clones bearing CH340 chip</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用带有CH340芯片的非官方Arduino克隆的Arduino IDE</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/using-arduino-ide-with-unofficial-arduino-clones-bearing-ch340-chip-752d1b90810d?source=collection_archive---------0-----------------------#2021-04-14">https://blog.devgenius.io/using-arduino-ide-with-unofficial-arduino-clones-bearing-ch340-chip-752d1b90810d?source=collection_archive---------0-----------------------#2021-04-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="8c1f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">或者进入不可预知的非官方Arduino克隆世界</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3f3ada0ee61c3771dfdfd447f0b88b63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4zN10KAa1m_ufdby"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@_staticvoid?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Lucas Santos </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="3e55" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Arduino是许多DIY项目非常受欢迎的平台，由于它的开放设计，我们有许多非官方的克隆。他们中的一些人完全复制了Arduino的原始设计，而另一些人则试图让它更便宜。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kz"><img src="../Images/cc1f78fe8f7006510143effe6cbdba64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*lXCf8xoyW1sjmM1kOQ9pHA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">这就是你在宣传一些非官方的Arduino克隆产品时得到的东西</figcaption></figure><p id="365b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你买了非官方的Arduino Uno R3克隆，把它插在你的Windows机器上，得到<strong class="jm io">“USB设备未被识别”</strong>错误，那么<strong class="jm io">这篇文章是给你的。</strong>下面我们会看到一个官方的和一些非官方的Arduino板卡有什么区别，以及一些非官方的板卡需要安装什么才能被Windows识别。</p><h2 id="280c" class="la lb in bd lc ld le dn lf lg lh dp li jv lj lk ll jz lm ln lo kd lp lq lr ls bi translated">USB适配器</h2><p id="7b65" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">先来看看下面的<strong class="jm io">原</strong> Arduino UNO R3:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ly"><img src="../Images/e0b0ff9f98dc72f6abaa52a83d9da6f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6TFwxmwtD5fv8wfZM11s5w.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">原装Arduino Uno R3，采用ATmega16U2作为USB转串行转换器</figcaption></figure><p id="8b11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这张照片中的1号芯片是Arduino的大脑:这是通过Arduino IDE编程的<strong class="jm io"> ATmega328P </strong>。这是电路板的核心，这个芯片运行你所有的草图——它包含CPU、内存和控制所有的Arduino引脚。</p><p id="b770" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是如果你仔细看，你会发现在这块板上实际上还有另一个芯片，标有数字2。这是ATmega16U2 ,在这块板上，它有一个也是唯一的作用——充当USB转串行转换器。换句话说，它为该主板提供USB连接，并充当计算机USB端口和Arduino串行端口之间的桥梁。</p><blockquote class="lz ma mb"><p id="b222" class="jk jl mc jm b jn jo jp jq jr js jt ju md jw jx jy me ka kb kc mf ke kf kg kh ig bi translated">有趣的事实:ATmega16U2也是比较强大的芯片，相比ATmega328P。是的，16U2内存更少，时钟速度稍慢，但它仍然可以完成很多任务。因此，它有可能被用作一些项目的主芯片，但它的能力在这里显然被浪费了，它只是被用作USB转串行转换器。</p></blockquote><p id="9bae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，基本上，当你将USB插入原始Arduino板时会发生什么——你实际上是将它插入ATmega16U2，它与你的计算机通信，操作系统识别它并从安装的驱动程序列表中加载相应的驱动程序。然后，驱动程序在系统中注册新的COM端口，这是您在Arduino IDE中编程Arduino时选择的。请注意，在下面的截图上，正确的端口将被相应地命名——不确定这是由ATmega16U2芯片上的驱动程序还是固件完成的，如果你知道，请在评论中告诉我。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/be5d427bdb9977b79a19980168360acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eb-AzON57NbVjHo-J_itoA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">官方Arduino UNO R3的COM端口也相应命名</figcaption></figure><p id="5c72" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是上面描述的一切对官方Arduino Uno R3主板来说都是正确的，对一些非官方主板来说并不总是正确的。然而，一些非官方的主板完全是Arduino的克隆版，只是在颜色和标识上有所不同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/8ef6052750e7f09a26bc109d84c8934d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*5Nq0aYfflXhtlpo6_0Uj7g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Elegoo UNO R3是原始Arduino Uno R3的精确克隆之一，也有ATmega16U2作为USB到串行适配器</figcaption></figure><p id="5f01" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">看看这个Elegoo UNO R3板:你可以很容易地找到相同的芯片，因为在原来的Arduino板上，它们在相同的点上:板上最大的芯片是ATmega328P，左边靠近TX和RX LEDs的小芯片是ATmega16U2。因此，对于Windows驱动程序，该板看起来与原始板完全相同，因为驱动程序与同一个ATmega16U2芯片通信，所以它将被识别，并将与Arduino IDE一起正常工作。</p><h2 id="3211" class="la lb in bd lc ld le dn lf lg lh dp li jv lj lk ll jz lm ln lo kd lp lq lr ls bi translated">带有CH340G芯片的非官方主板</h2><p id="0e85" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">然而，有一些非官方的板，不会被Windows如此简单地识别，因此设备将关闭，没有COM端口将被暴露，因此，您不能在Arduino IDE中使用这些板，因为如果没有COM端口，就没有通信方式，也不可能上传草图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/d3aae77c005fe60ccbad1bd984529484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*eJfhEc_B0bCoYxQJ5HjJZA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">另一个非官方的Arduino克隆，ATmega328P是在不同的情况下，有CH340G而不是ATmega16U2</figcaption></figure><p id="19f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看这块板。你从第一眼就能看出不同——那个巨大的ATmega328P去哪了？！别担心，就在这里——在这张照片上标有1号。是的，它明显更小，但它是相同的芯片，只是包装在不同的外壳中。因此，即使它在视觉上明显不同，它的内部仍然是同一个ATmega328P，所以你所有的草图都将完全一样。</p><p id="f8bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">真正的差别是标有数字二的芯片中的T1。记住，我们在官方Arduino上的这个地方有ATmega16U2，但在这个板上我们有<strong class="jm io"> CH340G </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/ba4c642c28c8bcec57289aa158c385e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*TmtfvcjHZyj1cga_Oinfag.jpeg"/></div></figure><p id="644b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">CH340是一系列专用芯片，旨在完成一项任务，即USB转串行转换器。由于高度专业化，它比官方电路板上使用的功能强大、用途广泛的ATmega16U2更简单，因此也更便宜。然而，请记住，ATmega16U2的所有这些潜在能力和可能性都浪费在了官方电路板上，所以即使你已经有了这个芯片，它的潜力也没有得到利用。因此，从Arduino板的整体性能和功能的角度来看，你基本上不会看到任何差异，无论使用什么芯片作为USB到串行适配器。</p><blockquote class="lz ma mb"><p id="dd6a" class="jk jl mc jm b jn jo jp jq jr js jt ju md jw jx jy me ka kb kc mf ke kf kg kh ig bi translated">我自己没有测试过，但我在网上看过一些文章，声称带有CH340板载的Arduinos比带有ATmega16U2的主板耗电更少。这很有可能，因为CH340是一个简单的单任务芯片，而ATmega16U2是一个复杂的微控制器。当然，如果你只是在玩Arduino IDE或通过电源插座运行你的项目，这不会有任何影响，但如果你有一些东西是通过小电池运行的，那么这可能是一个尝试CH340G主板的理由——也许它会为你赢得几天或运行时间。</p></blockquote><h2 id="9cae" class="la lb in bd lc ld le dn lf lg lh dp li jv lj lk ll jz lm ln lo kd lp lq lr ls bi translated">CH340驱动程序</h2><p id="9f2a" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">但CH340有一个问题:Windows缺乏内置的驱动程序。严格来说，这不是CH340的问题，而是Windows的问题，但对于我们这些最终用户来说都是一样的——当我们将这些板插入USB时，Windows只会抱怨“无法识别USB设备”,并且不会为板创建COM端口。</p><p id="63c3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">解决方案很简单—只需安装正确的驱动程序！</p><ul class=""><li id="9def" class="mk ml in jm b jn jo jr js jv mm jz mn kd mo kh mp mq mr ms bi translated"><strong class="jm io">第一步:</strong>找到司机。只要谷歌一下“Arduino CH340驱动”，就会得到很多链接。<a class="ae ky" href="https://sparks.gogo.co.nz/ch340.html" rel="noopener ugc nofollow" target="_blank">这里的</a>是我首先在谷歌上看到的，但也可以随意使用任何其他链接，因为这个驱动程序在很多地方都有。</li><li id="6e90" class="mk ml in jm b jn mt jr mu jv mv jz mw kd mx kh mp mq mr ms bi translated"><strong class="jm io">第二步:</strong>将文件解压到一个临时位置，运行安装程序。</li><li id="0c84" class="mk ml in jm b jn mt jr mu jv mv jz mw kd mx kh mp mq mr ms bi translated"><strong class="jm io">步骤3: </strong>插入Arduino板，在设备管理器中检查新的COM端口。下图中的是COM3，但它可能使用了您计算机上的另一个端口号。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/897eeec99a91634c810a2672826c9c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MLqMGcOIp_CAl8V0jjG_5w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">CH340驱动程序在这里使用COM3，但它可以使用您计算机上的另一个端口号</figcaption></figure><ul class=""><li id="769d" class="mk ml in jm b jn jo jr js jv mm jz mn kd mo kh mp mq mr ms bi translated"><strong class="jm io">步骤4: </strong>在Arduino IDE中选择正确的端口。请注意，这一次它将不会被标记为“Arduino Uno”，它将只是一个端口号:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/261ee6713e083817138e50a821260938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*SIB_uBeLu0hozihf31p0XA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">在Arduino IDE中选择正确的COM端口。请注意，端口旁边没有提示，因为它是用于ATmega16U2的板</figcaption></figure><h2 id="7fc6" class="la lb in bd lc ld le dn lf lg lh dp li jv lj lk ll jz lm ln lo kd lp lq lr ls bi translated">结束了</h2><p id="8b5e" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">CH340不仅用于Arduino克隆，还用于许多其他主板。所以，如果你刚刚开始进入微控制器编程的奇异世界，你迟早会需要这个驱动程序。</p><p id="ca4b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好奇，试试别的Arduino克隆(这么便宜！)并且玩得开心！</p><h2 id="85a7" class="la lb in bd lc ld le dn lf lg lh dp li jv lj lk ll jz lm ln lo kd lp lq lr ls bi translated">资源</h2><ul class=""><li id="c06a" class="mk ml in jm b jn lt jr lu jv na jz nb kd nc kh mp mq mr ms bi translated"><strong class="jm io"> CH340驱动</strong>可以在这里获得:<a class="ae ky" href="https://sparks.gogo.co.nz/ch340.html" rel="noopener ugc nofollow" target="_blank">https://sparks.gogo.co.nz/ch340.html</a>但这只是众多位置中的一个，所以你可以随便谷歌一下！</li></ul></div></div>    
</body>
</html>