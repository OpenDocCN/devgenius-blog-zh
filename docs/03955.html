<html>
<head>
<title>What I Learned From The Create a Next.js App Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我从 Create a Next.js 应用程序教程中学到了什么</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-i-learned-from-the-create-a-next-js-app-tutorial-1f506b56173d?source=collection_archive---------4-----------------------#2021-01-08">https://blog.devgenius.io/what-i-learned-from-the-create-a-next-js-app-tutorial-1f506b56173d?source=collection_archive---------4-----------------------#2021-01-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9156" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Next.js 路由、样式、预渲染和部署简介</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ac1046e5e450b3384c63b29a70abff99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8RMi3TyKPI3_8Myw"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">卢卡斯·莱特纳在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="7d04" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">自从学习 React 以来，我一直在我所有的个人项目中使用 create-react-app。我喜欢建立一个样板应用程序并马上开始编码是如此简单。最近，我有一种冲动，想把我的 React 技能提升到一个新的水平，这是我偶然发现 Next.js 的时候。</p><p id="94ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据<a class="ae kv" href="https://en.wikipedia.org/wiki/Next.js" rel="noopener ugc nofollow" target="_blank">维基百科</a>，<em class="ls"> Next.js 是一个开源的 React 前端开发 web 框架，支持诸如服务器端渲染和为基于 React 的 web 应用程序生成静态网站等功能。</em></p><p id="1e90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在他们的网站上，他们有一个入门教程，通过建立一个博客来教我们如何使用 Next.js 的基础知识。你可以在下面看到我的最终产品，在这里查看源代码<a class="ae kv" href="https://github.com/chadmuro/nextjs-blog" rel="noopener ugc nofollow" target="_blank"/>。</p><div class="lt lu gp gr lv lw"><a href="https://nextjs-blog.chadmuro.vercel.app/" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">Next.js 示例网站</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">了解如何使用 Next.js 构建个人网站</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">nextjs-blog . Chad muro . vercel . app</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk kp lw"/></div></div></a></div><p id="5b11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我想分享我从这个教程中得到的一些东西，并给你一个 Next.js 的高层次概述。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="dac8" class="ms mt iq bd mu mv mw mx my mz na nb nc jw nd jx ne jz nf ka ng kc nh kd ni nj bi translated">为什么要用 Next.js？</h1><p id="325d" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">我决定学习 Next.js 的主要原因是因为预渲染。在研究了服务器端渲染和客户端渲染之后，我发现了总是使用 create-react-app 的一些缺点。不要误会我的意思，我认为 create-react-app 非常棒，我肯定会在一些应用程序中使用它。然而，如果你正在构建一个应用程序，并且需要良好的 SEO 和性能，Next.js 是一个不错的选择。</p><p id="b505" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据他们的网站，其他好处包括:</p><ul class=""><li id="1e47" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated"><em class="ls">基于页面的直观路由系统(支持动态路由)</em></li><li id="9d0a" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><em class="ls">预渲染，静态生成(SSG)和服务器端渲染(SSR)均支持每页渲染</em></li><li id="93d4" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><em class="ls">自动代码分割加快页面加载速度</em></li><li id="9fbe" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><em class="ls">优化预取的客户端路由</em></li><li id="fde1" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><em class="ls">内置 CSS 和 Sass 支持，支持任何 CSS-in-JS 库</em></li><li id="f5ed" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><em class="ls">支持快速刷新的开发环境</em></li><li id="90a0" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><em class="ls">使用无服务器功能构建 API 端点的 API 路由</em></li><li id="905c" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><em class="ls">完全伸展</em></li></ul></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="32b6" class="ms mt iq bd mu mv mw mx my mz na nb nc jw nd jx ne jz nf ka ng kc nh kd ni nj bi translated">按指定路线发送</h1><p id="d48c" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">如果您以前使用过 react-router，那么您应该熟悉客户端导航。对于 Next.js，这是内置的，设置路线很容易。如果您使用 create-next-app，您的应用程序中将会有一个 pages 目录。在 pages 目录中创建的任何文件都将自动成为 URL 路径。</p><p id="6a09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您还可以使用嵌套文件夹结构来嵌套路由，并使用括号语法来动态路由。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/ae66ae53354958428fee8d763b17418a.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*07NBJi2FhCTLkFQyyuwb5Q.png"/></div></figure><p id="d1ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如:</p><ul class=""><li id="4a85" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated"><code class="fe oe of og oh b">pages/index.js</code>与<code class="fe oe of og oh b">/</code>路线相关联</li><li id="c540" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><code class="fe oe of og oh b">pages/posts/first-post.js</code>与<code class="fe oe of og oh b">/posts/first-post</code>路线有关</li></ul><h1 id="8491" class="ms mt iq bd mu mv oi mx my mz oj nb nc jw ok jx ne jz ol ka ng kc om kd ni nj bi translated">式样</h1><p id="9a1b" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">在设计 Next.js 应用程序时，有许多选项可供选择。</p><p id="0796" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Next.js 内置了对 CSS 和 Sass 的支持。您可以使用 CSS 模块，这是一个 CSS 文件，其中所有的类名都有作用域。任何全局样式都可以添加到连接到 _app.js 文件的 global.css 文件中。应用程序组件是一个特殊的顶级组件，在应用程序的所有页面中都是通用的。</p><p id="72a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想使用 Sass，你需要做的就是安装‘Sass’并将<code class="fe oe of og oh b">.css</code>文件改为<code class="fe oe of og oh b">.scss</code>或<code class="fe oe of og oh b">.sass</code>文件。</p><p id="c823" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Next.js 还内置了对 styled-jsx 的支持，或者您也可以使用其他 CSS-in-JS 库。还支持 Tailwind，如果你也想使用的话，这是一个流行的 CSS 框架。</p><h1 id="1a51" class="ms mt iq bd mu mv oi mx my mz oj nb nc jw ok jx ne jz ol ka ng kc om kd ni nj bi translated">预渲染</h1><p id="9e14" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">预渲染是 Next.js 中最重要的概念之一，也是我决定学习它的原因。默认情况下，Next.js 会预先呈现每个页面。这意味着它将预先为每个页面生成 HTML，而不是由客户端 JavaScript 来完成。这导致更好的性能和搜索引擎优化。与之相比，create-react-app 在 JavaScript 加载之前不会显示任何应用程序。</p><p id="7b7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是预渲染和无预渲染的对比示例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/7f93f930bd7e5b07fd6c26f3a46d90b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXzZzIiG4fEpMWXDbJE9qg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://nextjs.org/learn/basics/data-fetching/pre-rendering" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/learn/basics/data-fetching/pre-rendering</a></figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/6d45506db8d3664e192a085c8a77d670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aauJZ_SFK_Jx7QMFlRBM0g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://nextjs.org/learn/basics/data-fetching/pre-rendering" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/learn/basics/data-fetching/pre-rendering</a></figcaption></figure><p id="6262" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Next.js 中有两种形式的预渲染。</p><ul class=""><li id="cfcb" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated">静态生成—在构建时预呈现页面</li><li id="b926" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated">服务器端呈现—在每次请求时预先呈现页面</li></ul><p id="42ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Next.js 的好处是您可以为每个页面选择使用哪种预渲染方法。尽可能推荐静态生成，因为它会让你的应用运行得更快。</p><p id="a7b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用静态生成时，如果需要获取外部数据，可以使用<code class="fe oe of og oh b">getStaticProps</code>来完成。这是一个异步函数，将在构建时运行。它告诉你的应用程序，在预渲染页面之前，你需要先获取函数内部的数据。下面是一个例子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="47e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您的应用程序中有动态路线，并且每条路线都依赖于外部数据，您可以使用<code class="fe oe of og oh b">getStaticPaths</code>功能。getStaticPaths 是另一个异步函数，它将返回动态路由的可能值列表。</p><p id="a53b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谈到预渲染，有很多内容需要介绍，我可能会在以后的文章中介绍。目前，我希望您至少对 getStaticProps 和 getStaticPaths 有一个基本的了解。</p><p id="4410" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> getStaticProps </strong> —用于从外部 API 端点获取数据。Next.js 将在构建时使用返回的属性预先呈现页面。</p><p id="1285" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> getStaticPaths </strong> —如果页面有动态路由并使用 getStaticProps 时使用。它将定义一个在构建时必须呈现给 HTML 的路径列表。</p><h1 id="e7a0" class="ms mt iq bd mu mv oi mx my mz oj nb nc jw ok jx ne jz ol ka ng kc om kd ni nj bi translated">Vercel 上的部署</h1><p id="4406" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">过去，我使用 GitHub Pages、Heroku、Netlify 和 Firebase 来部署我的应用程序。在很大程度上，这些站点的部署并不太困难。</p><p id="1b21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">教程向我们展示了如何将应用程序部署到 Vercel，因为 Next.js 是由他们创建的。我不得不说，这个过程真的很顺利，我肯定会使用 Vercel 来部署我的 Next.js 应用程序，可能还有其他应用程序。</p><p id="600c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，你需要在 Vercel 注册一个账户。然后您需要为 Github 安装 Vercel，并允许它访问您的存储库。完成后，只需选择您想要连接和部署的存储库！对主分支的任何更新也将自动更新，Vercel 将创建一个生产部署。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="738d" class="ms mt iq bd mu mv mw mx my mz na nb nc jw nd jx ne jz nf ka ng kc nh kd ni nj bi translated">最后的想法</h1><p id="4407" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">与 create-react-app 相比，使用 Next.js 有很多好处。我很高兴能够继续深入研究，并且很快会有更多关于 Next.js 的文章。</p><p id="55fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！想了解更多关于 Next.js 的知识？这里有一些继续学习的有用资源。</p><p id="c5c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://nextjs.org/docs/getting-started" rel="noopener ugc nofollow" target="_blank"> Next.js 文档</a></p><p id="46b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://nextjs.org/learn/basics/create-nextjs-app" rel="noopener ugc nofollow" target="_blank">创建 Next.js App 教程</a></p><p id="22ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=tt3PUvhOVzo" rel="noopener ugc nofollow" target="_blank"> codedamn —在一个视频中学习 next . js—next . js 的基础知识</a></p></div></div>    
</body>
</html>