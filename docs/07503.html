<html>
<head>
<title>How to scroll specific sections in your React Native App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 React 原生应用中滚动特定部分</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-scroll-specific-section-in-your-react-native-app-25d0af30879c?source=collection_archive---------3-----------------------#2022-03-31">https://blog.devgenius.io/how-to-scroll-specific-section-in-your-react-native-app-25d0af30879c?source=collection_archive---------3-----------------------#2022-03-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/02dd794048f88134054764890c5b1379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*phzsVLMmhbL1aDSdYBHphQ.png"/></div></div></figure><p id="d6a2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于前端开发人员来说，每当用户做一个动作，其中之一是滚动到屏幕上的特定视图时，设置视图的任何部分都是一件痛苦的事情，开发人员开始寻找解决方案，最终发现一些没有很好解释的例子，这只会使事情变得更糟，今天我们将通过三个步骤来解决这个问题，并将清楚地解释所有代码，即使没有任何经验的人也能理解代码。所以让我们开始吧。</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="b0f3" class="lj lk in lf b gy ll lm l ln lo"><em class="lp">Main.tsx File</em></span><span id="7e67" class="lj lk in lf b gy lq lm l ln lo">const [dataSourceCords, setDataSourceCords] = useState([] as number[]);</span><span id="a5eb" class="lj lk in lf b gy lq lm l ln lo">const [scrollToIndex, setScrollToIndex] = useState(0);</span><span id="7f74" class="lj lk in lf b gy lq lm l ln lo">const [ref, setRef] = useState&lt;ScrollView&gt;(); <em class="lp">// create ref</em></span><span id="4520" class="lj lk in lf b gy lq lm l ln lo">&lt;ScrollView<br/>  ref={ref =&gt; {setRef(ref as any); <em class="lp">//set the ref</em><br/>}}&gt;<br/>&lt;View<br/>key={1} //keys will be needed for function<br/>onLayout={event =&gt; {<br/>const layout = event.nativeEvent.layout;<br/>dataSourceCords[1] = layout.y; <em class="lp">// we store this offset values in an array</em><br/>}}<br/>//You can render any component here<br/>&lt;/View&gt;<br/>     <br/>&lt;View<br/>key={2} //keys will be needed for function <br/>onLayout={event =&gt; {  <br/>const layout = event.nativeEvent.layout;<br/>dataSourceCords[2] = layout.y; <em class="lp">// we store this offset values in an          array</em><br/>}}</span><span id="a2f1" class="lj lk in lf b gy lq lm l ln lo"><em class="lp">//You can render any component here</em></span><span id="c3ec" class="lj lk in lf b gy lq lm l ln lo">&lt;/View&gt;</span><span id="4281" class="lj lk in lf b gy lq lm l ln lo">&lt;/ScrollView&gt;</span></pre><p id="4043" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们创建了一个 Main.tsx 文件，它有两个视图，你可以在这个视图中渲染任何你想渲染的东西，我们给了每个视图重要的键码，这些键码将在函数中使用。onLayout 函数，它给我们这个视图从顶部的偏移值，并且是我们将要使用的滚动函数所需要的。</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><p id="efd6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们存储了偏移值并将 ref 设置为 scrollview 之后，我们就可以设置滚动函数来使用它了。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="bfe3" class="lj lk in lf b gy ll lm l ln lo"><em class="lp">ScrollHandler.ts</em><br/>export const scrollHandler = (key: number) =&gt; { <br/>if (dataSourceCords.length &gt; scrollToIndex) {ref?.scrollTo({<br/>x: 0,<br/>y: dataSourceCords[key], <em class="lp">//we get the offset value from array based on key</em><br/>animated: true,});<br/>}};</span></pre><p id="4f25" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的函数会处理剩下的，我们唯一要做的就是用任何有 onPress 函数的元素调用这个函数。下面我们只需对 Main.tsx 文件做一些修改，就可以开始了。</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="b551" class="lj lk in lf b gy ll lm l ln lo"><em class="lp">Main.tsx File </em><strong class="lf io"><em class="lp">Changed</em></strong><em class="lp"> </em></span><span id="41a7" class="lj lk in lf b gy lq lm l ln lo">import scrollHandler from './utils' <em class="lp">// import the function</em></span><span id="5e6e" class="lj lk in lf b gy lq lm l ln lo">const sectionNames = [  <em class="lp">// create dummy data so you can render two button</em><br/>{ value: 1, text: 'Section 1' },  <br/>{ value: 2, text: 'Section 2' },<br/><br/>];</span><span id="58a2" class="lj lk in lf b gy lq lm l ln lo"><br/>const [dataSourceCords, setDataSourceCords] = useState([] as number[]);</span><span id="6eea" class="lj lk in lf b gy lq lm l ln lo">const [scrollToIndex, setScrollToIndex] = useState(0);</span><span id="17db" class="lj lk in lf b gy lq lm l ln lo">const [ref, setRef] = useState&lt;ScrollView&gt;(); <em class="lp">// create ref</em></span><span id="b9f6" class="lj lk in lf b gy lq lm l ln lo">&lt;ScrollView<br/>  ref={ref =&gt; {setRef(ref as any); <em class="lp">//set the ref</em><br/>}}&gt;<br/>&lt;View&gt;   // just add an view <br/>{sectionNames.map(item =&gt; { <em class="lp">//render the dummy data</em> <br/>    return (<br/>    &lt;TouchableOpacity       // return an button<br/>        key={item.value}<br/>        onPress={() =&gt; scrollHandler(item.value)} <em class="lp">//call the function<br/></em>&gt;<br/>          &lt;Text style={{color: constant.colorPrimary, <br/>           fontSize:15,}}&gt;{item.text}&lt;/Text&gt;<br/>    &lt;/TouchableOpacity&gt;);})}<br/> &lt;/View&gt;</span><span id="91f9" class="lj lk in lf b gy lq lm l ln lo">&lt;View<br/>key={1} //keys will be needed for function<br/>onLayout={event =&gt; {<br/>const layout = event.nativeEvent.layout;<br/>dataSourceCords[1] = layout.y; <em class="lp">// we store this offset values in an array</em><br/>}}<br/>//You can render any component here<br/>&lt;/View&gt;<br/>     <br/>&lt;View<br/>key={2} //keys will be needed for function <br/>onLayout={event =&gt; {  <br/>const layout = event.nativeEvent.layout;<br/>dataSourceCords[2] = layout.y; <em class="lp">// we store this offset values in an          array</em><br/>}}</span><span id="99f0" class="lj lk in lf b gy lq lm l ln lo"><em class="lp">//You can render any component here</em></span><span id="aa17" class="lj lk in lf b gy lq lm l ln lo">&lt;/View&gt;</span><span id="a3be" class="lj lk in lf b gy lq lm l ln lo">&lt;/ScrollView&gt;</span></pre><p id="0825" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就这样，我们有两个视图，我们可以在里面渲染任何东西，我们在顶部有两个按钮，可以滚动到这两个部分。请检查代码中的注释，我会尽可能多地解释代码。</p><p id="6d8a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">希望对你有帮助。如果是这样的话，给我一个关注和喜欢:)</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><p id="c7a4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">检查我的其他文章。</p><p id="b1c2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lr" href="https://medium.com/@akinkarayun/how-to-hide-website-source-code-in-react-js-77164d474324" rel="noopener"> 1-)如何在 React JS 中隐藏网站源代码？</a></p><p id="d6d4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lr" href="https://javascript.plainenglish.io/common-react-native-problems-and-solutions-22a1076e4589" rel="noopener ugc nofollow" target="_blank"> 2-)常见的反应本国问题及其解决方法</a></p><p id="df61" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/how-to-render-dots-based-on-that-image-array-length-has-in-your-react-native-app-76dac14763e4"> 3-)如何在你的 react 原生应用中渲染图像数组长度的点。</a></p><p id="c76a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我的链接在下面</p><p id="f64b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lr" href="https://www.linkedin.com/in/akin-karayun-ab3239bb/" rel="noopener ugc nofollow" target="_blank"> AKIN KARAYUN | LinkedIn </a></p><p id="1127" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lr" href="https://devakinkarayun.web.app/" rel="noopener ugc nofollow" target="_blank">Akin Kara yun(devankarayun . web . app)</a></p></div></div>    
</body>
</html>