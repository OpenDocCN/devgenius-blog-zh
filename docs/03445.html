<html>
<head>
<title>Data Access Object Design Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据访问对象设计模式</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/data-access-object-design-pattern-96fdf484ae0a?source=collection_archive---------0-----------------------#2020-11-05">https://blog.devgenius.io/data-access-object-design-pattern-96fdf484ae0a?source=collection_archive---------0-----------------------#2020-11-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="33b4" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">概观</h1><p id="d76e" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">数据访问对象或DAO用于将所使用的低级数据访问api与高级数据访问API分开。道有三个部分:</p><ul class=""><li id="d9f7" class="lg lh in kk b kl li kp lj kt lk kx ll lb lm lf ln lo lp lq bi translated"><strong class="kk io">数据访问对象接口</strong> —该接口包含可以在模型上执行的操作。</li><li id="129b" class="lg lh in kk b kl lr kp ls kt lt kx lu lb lv lf ln lo lp lq bi translated"><strong class="kk io">数据访问对象类</strong> —该类实现接口。类是从数据库或任何存储数据的地方检索数据的。</li><li id="5879" class="lg lh in kk b kl lr kp ls kt lt kx lu lb lv lf ln lo lp lq bi translated"><strong class="kk io">模型对象</strong> —该对象是一个简单的老式Java对象(POJO ),带有getters和setters来存储数据。要访问这个对象，你需要使用DAO类。</li></ul><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/fb95c5e5840599641915e63f46934143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2Q8p1bbm_vK4SXuv"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">照片由<a class="ae mm" href="https://unsplash.com/@goumbik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢卡斯·布拉塞克</a>在<a class="ae mm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="45c5" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">履行</h1><h2 id="5a8e" class="mn jl in bd jm mo mp dn jq mq mr dp ju kt ms mt jy kx mu mv kc lb mw mx kg my bi translated">模型对象</h2><pre class="lx ly lz ma gt mz na nb nc aw nd bi"><span id="8311" class="mn jl in na b gy ne nf l ng nh">// Employee.java<br/>public class Employee {<br/>   private String name;<br/>   private int id;<br/><br/>   Employee(String name, int id){<br/>      this.name = name;<br/>      this.species = species;<br/>   }<br/><br/>   public String getName() {<br/>      return this.name;<br/>   }<br/><br/>   public void setName(String name) {<br/>      this.name = name;<br/>   }<br/><br/>   public int getId() {<br/>      return this.id;<br/>   }<br/><br/>   public void setId(int id) {<br/>      this.id = id;<br/>   }<br/>}</span></pre><h2 id="e606" class="mn jl in bd jm mo mp dn jq mq mr dp ju kt ms mt jy kx mu mv kc lb mw mx kg my bi translated"><strong class="ak">数据访问对象接口</strong></h2><pre class="lx ly lz ma gt mz na nb nc aw nd bi"><span id="0640" class="mn jl in na b gy ne nf l ng nh">// EmployeeDao.java<br/>import java.util.List;<br/><br/>public interface PetDao {<br/>   public List&lt;Employee&gt; getAllEmployees();<br/>   public Employee getEmployee(int id);<br/>   public void updateEmployee(Employee employee);<br/>   public void deleteEmployee(Employee employee);<br/>}</span></pre><h2 id="4372" class="mn jl in bd jm mo mp dn jq mq mr dp ju kt ms mt jy kx mu mv kc lb mw mx kg my bi translated"><strong class="ak">数据访问对象类</strong></h2><pre class="lx ly lz ma gt mz na nb nc aw nd bi"><span id="e5e5" class="mn jl in na b gy ne nf l ng nh">// Employee<em class="ni">DaoImpl.java</em><br/>import java.util.ArrayList;<br/>import java.util.List;<br/><br/>public class EmployeeDaoImpl implements EmployeeDao {<br/>	<br/>   // list as a database<br/>   List&lt;Employee&gt; employees;<br/><br/>   public EmployeeDaoImpl(){<br/>      employees = new ArrayList&lt;Employee&gt;();<br/>      Employee employees1 = new Employee("Mark",0);<br/>      Employee employees2 = new Employee("Bob",1);<br/>      employees.add(employees1);<br/>      employees.add(employees2);		<br/>   }</span><span id="a98e" class="mn jl in na b gy nj nf l ng nh">   @Override<br/>   public void deleteEmployee(Employee employee) {<br/>      employees.remove(employee.getId());<br/>      System.out.println(employee.getId() + " deleted.");<br/>   }<br/><br/>   @Override<br/>   public List&lt;Employee&gt; getAllEmployees() {<br/>      return this.employees;<br/>   }<br/><br/>   @Override<br/>   public Employee getEmployee(int id) {<br/>      return employees.get(id);<br/>   }<br/><br/>   @Override<br/>   public void updateEmployee(Employee employee) {<br/>      employees.get(employee.getId()).setName(employee.getName());<br/>      System.out.println(employee.getId() + " updated.");<br/>   }<br/>}</span></pre><h2 id="1dc0" class="mn jl in bd jm mo mp dn jq mq mr dp ju kt ms mt jy kx mu mv kc lb mw mx kg my bi translated">示范</h2><pre class="lx ly lz ma gt mz na nb nc aw nd bi"><span id="9398" class="mn jl in na b gy ne nf l ng nh">// Demo.java<br/>public class Demo {<br/>   public static void main(String[] args) {<br/>      EmployeeDao employeeDao = new EmployeeDaoImpl();<br/><br/>      //print all employees<br/>      for (Employee employee : employeeDao.getAllEmployees()) {<br/>         System.out.println("Id: " + employee.getId() + ", Name: " + employee.getName());<br/>      }<br/><br/>      // get employee<br/>      Employee employee = employeeDao.getEmployee(0);<br/>      employee.setName("Michael");<br/>      System.out.println("Id: " + employee.getId() + ", Name: " + employee.getName());<br/>      // update employee<br/>      employeeDao.updateEmployee(employee);<br/>      System.out.println("Id: " + employee.getId() + ", Name: " + employee.getName());<br/>}</span><span id="00a8" class="mn jl in na b gy nj nf l ng nh">&gt;&gt; Id: 0, Name: Mark<br/>&gt;&gt; Id: 1, Name: Bob<br/>&gt;&gt; Id: 0, Name: Mark<br/>&gt;&gt; 0 updated.<br/>&gt;&gt; Id: 0, Name: Michael</span></pre><h1 id="26d6" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论</h1><p id="607d" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">当您需要更改数据库时，DAO非常有用。例如，如果您需要从SQL转换到Mongo，唯一需要做的更改是在DAO层。逻辑的分离确保了只有服务层依赖于DAO层，而不是视图。为单个组件编写测试更容易。DAO还强调使用接口，这是OOP编程的一部分。</p></div></div>    
</body>
</html>