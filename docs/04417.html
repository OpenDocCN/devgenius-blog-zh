<html>
<head>
<title>MySpace From Scratch — Part 2: Setup Node + Nuxt Environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MySpace 从头开始—第 2 部分:设置节点+ Nuxt 环境</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/myspace-from-scratch-part-2-setting-up-the-environment-127eb4a6e3ac?source=collection_archive---------4-----------------------#2021-03-14">https://blog.devgenius.io/myspace-from-scratch-part-2-setting-up-the-environment-127eb4a6e3ac?source=collection_archive---------4-----------------------#2021-03-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/568449f6292e27a594da1cd192a7e7c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BKQdQ0Kv5GSrGZAkxoHJBA.png"/></div></div></figure><div class=""/><p id="5ec9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们开始吧。首先，我们需要设置我们的项目文件夹。我将遵循服务器/客户端模式。所以项目有一个文件夹，里面有两个子文件夹，一个用于 API，一个用于客户端。像这样:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="3f70" class="lc ld iy ky b gy le lf l lg lh">/myspace<br/>    /api<br/>    /client &lt;-- this we will create with the Vue CLI</span></pre><h1 id="8d8b" class="li ld iy bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">启动并运行 API</h1><p id="f816" class="pw-post-body-paragraph jv jw iy jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">首先，我们需要启动一个新的节点项目。因此，我转到 api 目录&amp; <code class="fe mk ml mm ky b">npm init</code>并按照步骤进行操作。没什么特别的，使用所有的默认值。然后，我为我的 web 框架安装了 express:<code class="fe mk ml mm ky b">npm install express --save</code>mongose，用于我的 DB <code class="fe mk ml mm ky b">npm install mongoose --save</code> <br/> Nodemon，用于自动刷新代码变化<code class="fe mk ml mm ky b">npm install nodemon --save</code>和 CORS，用于处理跨源请求<code class="fe mk ml mm ky b">npm install cors --save</code></p><p id="9bab" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装完成后，我创建了一个新文件<code class="fe mk ml mm ky b">server.js</code>，并配置了以上所有内容:</p><figure class="kt ku kv kw gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="493e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">快到了。<br/>我喜欢通过 docker 运行 Mongo，因此它保持自包含，所以我喜欢从 docker 运行我的 API，并为 web 服务器和数据库提供服务。这是通过 Docker 文件和 docker-compose.yml 完成的:</p><figure class="kt ku kv kw gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><figure class="kt ku kv kw gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="c2ef" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">唷。这就是我们需要的 API。要运行 api，请确保您安装了 docker，并在 api 文件夹中运行<code class="fe mk ml mm ky b">docker-compose up</code>,它将为您启动一切并在端口 3000 上运行。您可以通过导航到<a class="ae mp" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>来查看我们的一条路线</p><h1 id="8115" class="li ld iy bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">设置客户端</h1><p id="b38e" class="pw-post-body-paragraph jv jw iy jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">这比我们的最后一步简单多了。在最后一刻，我改变了对 Vue 的看法，决定改用 Nuxt。所以在根文件夹中:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="b3b5" class="lc ld iy ky b gy le lf l lg lh">npm init nuxt-app client<!-- --> </span></pre><p id="a64a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我是这样配置的:</p><figure class="kt ku kv kw gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mq"><img src="../Images/bcc668d2e8350f423c3d2b18d19b9643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VgH_JmNblA8cLWuR5RNktw.png"/></div></div></figure><p id="f6d0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后在 nuxt.config.js 文件中，我更新了端口，这样它就不会与我们的 api 冲突:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="67f1" class="lc ld iy ky b gy le lf l lg lh">server: {<br/>    port: 8000, //<em class="mr"> default: 3000<br/></em>},<br/>...</span></pre><p id="0ed3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">既然我很懒，希望自己的风格简单。我设置了顺风。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="e0ab" class="lc ld iy ky b gy le lf l lg lh">npx init tailwindcss</span></pre><p id="be64" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，为了访问我们的 API，我使用了 axios:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="8715" class="lc ld iy ky b gy le lf l lg lh">npm install <a class="ae mp" href="http://twitter.com/nuxtjs/axios" rel="noopener ugc nofollow" target="_blank">@nuxtjs/axios</a></span></pre><p id="0014" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">并将配置添加到 axios 的 nuxt.config.js 文件中:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="ebeb" class="lc ld iy ky b gy le lf l lg lh">modules: ['@nuxtjs/axios'],</span><span id="46ec" class="lc ld iy ky b gy ms lf l lg lh">axios: {<br/>    baseURL: 'http://localhost:3000',<br/>},</span></pre><p id="e742" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我更新了主要组件，以便它 pings 我们的 API 并返回响应。</p><figure class="kt ku kv kw gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><h1 id="638e" class="li ld iy bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">我们被陷害了！</h1><p id="6dca" class="pw-post-body-paragraph jv jw iy jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated">在终端的一个选项卡中，导航到您的 api 目录并运行<br/> <code class="fe mk ml mm ky b">docker-compose up</code> <br/>在另一个选项卡中，导航到您的客户端目录并运行<code class="fe mk ml mm ky b">npm run dev</code>然后转到<a class="ae mp" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000 </a>，您将看到应用程序启动并运行，并向 API 发出请求。</p><p id="ad8f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装总是我最不喜欢的部分。从现在开始，我们要建造这座大楼。期待即将到来的下一部分。我计划构建身份验证:<strong class="jx iz">创建一个帐户并登录到应用程序。</strong></p><h1 id="645d" class="li ld iy bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">从头开始阅读更多 MySpace</h1><p id="af5d" class="pw-post-body-paragraph jv jw iy jx b jy mf ka kb kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks ig bi translated"><a class="ae mp" href="https://medium.com/me/stats/post/18a55931ddc6?source=main_stats_page" rel="noopener">第一部分—创意</a> <a class="ae mp" href="https://andyhartnett.medium.com/myspace-from-scratch-part-3-authentication-6a48eabef24?source=your_stories_page-------------------------------------" rel="noopener"> <br/>第三部分—认证</a> <br/> <a class="ae mp" href="https://andyhartnett.medium.com/myspace-from-scratch-part-4-profile-photos-audio-6ce69871669b" rel="noopener">第四部分—照片上传</a></p><h2 id="0845" class="lc ld iy bd lj mt mu dn ln mv mw dp lr kg mx my lv kk mz na lz ko nb nc md nd bi translated">感谢您的关注，当您在这里时，请考虑在 twitter 上关注我！</h2></div></div>    
</body>
</html>