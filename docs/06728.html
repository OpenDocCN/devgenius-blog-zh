<html>
<head>
<title>Let’s build a search engine with python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用 python 来构建一个搜索引擎</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/lets-build-a-search-engine-with-python-3f8dd3320210?source=collection_archive---------0-----------------------#2022-01-29">https://blog.devgenius.io/lets-build-a-search-engine-with-python-3f8dd3320210?source=collection_archive---------0-----------------------#2022-01-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/89eef4fb29098c4b8ab88f5808b90d16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*NCXRSIIGXu43afqkw7aAJA.jpeg"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">由 unsplash 提供</figcaption></figure><h2 id="e19b" class="jv jw in bd jx jy jz dn ka kb kc dp kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">！！！更多有趣的教程，请访问 www.bytexplain.com</strong><a class="ae kr" href="http://www.bytexplain.com" rel="noopener ugc nofollow" target="_blank"><strong class="ak"><em class="ks">。</em> </strong> </a></h2><p id="1b15" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln ig bi translated">在本教程中，我们将使用 python 构建一个搜索引擎。这里有几张最终产品的截图。</p><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/84770cd48a3b9cb98af0fc662f11bf62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4giJIv0spTm4a5Zsnr12FA.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">这是主页。</figcaption></figure><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/55eaf0a8a87cd734a51bddd85c442e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9PR-y4QEKjyEfvsKT5N1Qw.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">这是结果页</figcaption></figure></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="f9f5" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated"><strong class="kv io">什么是搜索引擎？</strong></p><p id="39fd" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">搜索引擎是一种帮助用户在万维网上查找信息的软件程序。一个搜索引擎通常有三个基本步骤，即爬行，索引和排名。爬行阶段是程序以预定义的方法爬行网络，收集数据，如图像、链接等。索引阶段是将收集的数据存储在数据结构中的阶段，最后是排名阶段，收集的数据按相关性进行排名，排名越高，答案越准确。</p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="566b" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">我们将在 django web 框架上构建我们的搜索引擎。</p><p id="5fe1" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated"><strong class="kv io">免责声明！！！我们将在 lycos 搜索引擎的基础上构建我们的搜索引擎。</strong></p><p id="51d3" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">项目的 Python 包；</p><ol class=""><li id="8199" class="mj mk in kv b kw me la mf ke ml ki mm km mn ln mo mp mq mr bi translated">美丽的声音</li><li id="a19b" class="mj mk in kv b kw ms la mt ke mu ki mv km mw ln mo mp mq mr bi translated">html5lib</li><li id="f988" class="mj mk in kv b kw ms la mt ke mu ki mv km mw ln mo mp mq mr bi translated">要求</li><li id="3d31" class="mj mk in kv b kw ms la mt ke mu ki mv km mw ln mo mp mq mr bi translated">姜戈</li></ol><p id="731e" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">要下载这些软件包，请使用<strong class="kv io"> pip3 安装&lt;软件包名称&gt; </strong></p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="cb20" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">首先在终端上键入<strong class="kv io">django-admin start project python _ search _ engine</strong>。CD 放入 python_search_engine 目录。运行<strong class="kv io">python 3 manage . py startapp engine</strong>这将创建一个名为 engine 的应用。</p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="d632" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">现在我们需要配置 django 项目。将这些行添加到 python _ search _ engine<strong class="kv io">settings . py</strong>文件中。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="7924" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">现在让我们修改我们的<strong class="kv io"> urls.py </strong>文件。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="9e34" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">我们的搜索引擎的基本功能依赖于网络报废。我们将废弃<strong class="kv io">lycos.com</strong>来获取我们查询的搜索结果。</p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="4818" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">首先，我们将创建一些文件和文件夹。在<strong class="kv io">引擎</strong>文件夹中创建一个名为<strong class="kv io">模板</strong>的文件夹在<strong class="kv io">模板</strong>文件夹中创建一个名为<strong class="kv io">引擎</strong>的文件夹。在<strong class="kv io">引擎</strong>文件夹中创建以下文件:home.html，results.html 和 home.html。</p><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/437171af328a5dba6ed731e47233770d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nF6LHubHrwnL38Nk_0GOsQ.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">模板</figcaption></figure><p id="688f" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">base.html 包含了我们项目的基本布局。这是我们的基本模板。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">基础模板</figcaption></figure><p id="cd2c" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">现在让我们创建我们的视图。在 engine views.py 中添加以下内容。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="f942" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">这个视图将呈现我们的主页，我们将在这里输入我们的搜索查询。</p><p id="1fe7" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">这是 html 模板。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="2eae" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">为了建立我们的 scrapper，我们将使用 lycos.com 作为我们的基本搜索引擎。首先，我们检查网站的基本结果页面，这里是一个标题检查的截图。</p><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/0059ecfcad19949b06abcd00c9dbeb4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*97qV32tSVcW_LL_MbPnMog.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">头衔检查</figcaption></figure><p id="9bc8" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">接下来，我们检查描述</p><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/534de49675aa87f621823f070b3bef37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D0XjWvGdKwqkUL1B9PGTTw.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">描述检查</figcaption></figure><p id="e038" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">然后我们看到他们使用了<strong class="kv io">结果描述</strong>作为描述类，<strong class="kv io">结果标题</strong>作为标题类，<strong class="kv io">结果 url </strong>作为 url 类。这将是我们的 web scrapper 的基础。如果你想知道我们为什么使用 lycos，那是因为他们简单地设计了他们的用户界面，从而使我们更容易抓取，而 google 或 bing 对我来说几乎是不可能抓取的。现在，让我们着手利用手头的这些有价值的信息来制作我们的废品。</p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="fcef" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">现在让我们为搜索创建视图。</p><p id="5a45" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">首先，我们导入几个库。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="02ad" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">接下来，我们转到结果视图。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="d3e2" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">现在我们一步一步来。我们首先从模板中请求搜索表单，稍后我们将创建该模板。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="8b15" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">我们插入 lycos 搜索的 url，然后从搜索栏追加我们的查询。接下来，我们为来自 lycos.com 的搜索结果插入容器类，其中包含结果标题、结果 url 和结果描述。</p><p id="5bb0" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">这是我们的主页模板。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="2fe8" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">接下来，我们将迭代结果，然后将它们追加到一个列表中。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="828c" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">然后，我们将结果传递给 results.html 模板。</p><p id="ec00" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">这是 results.html 模板。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="3020" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">这里我们从 base.html 模板继承了我们的模板。我们的搜索栏在顶部，然后我们在下面呈现我们的结果。</p><p id="9e31" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">我们使用之前添加的索引来访问结果列表中的条目。</p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="b35b" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">接下来，我们创建一个关于页面，它将提供一些关于我们的搜索引擎的信息。</p><p id="a019" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">这是我们的“关于”视图。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="4309" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">接下来，我们创建“关于”模板。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="90e8" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated"><strong class="kv io">现在让我们创建路线</strong></p><p id="2f1e" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">在引擎文件夹中创建一个文件<strong class="kv io"> urls.py </strong>。</p><p id="7331" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">添加以下几行。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><p id="4ed4" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">我们的项目现在已经完成，要启动它，请键入<strong class="kv io">python 3 manage . py runserver</strong>在浏览器中输入这个 url，您应该会看到这个。</p><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/84770cd48a3b9cb98af0fc662f11bf62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4giJIv0spTm4a5Zsnr12FA.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">主页</figcaption></figure><p id="9d5f" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">现在在搜索栏中输入你的查询，你应该会得到这样的结果。</p><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/55eaf0a8a87cd734a51bddd85c442e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9PR-y4QEKjyEfvsKT5N1Qw.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk translated">结果页面</figcaption></figure><p id="abe2" class="pw-post-body-paragraph kt ku in kv b kw me ky kz la mf lc ld ke mg lf lg ki mh li lj km mi ll lm ln ig bi translated">感谢阅读。你可以在这里  <strong class="kv io">查看源代码<a class="ae kr" href="https://github.com/bunnythecompiler/python_search_engine" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">。你也可以在这里捐款来支持我们。</strong></a></strong></p><div class="mz na gp gr nb nc"><a href="https://www.paypal.com/donate/?hosted_button_id=ERQPL5YQWQX6J" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">捐赠给 bunnythecompiler</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">通过捐赠或与朋友分享来帮助支持 bunnythecompiler。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">www.paypal.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq jp nc"/></div></div></a></div><figure class="lp lq lr ls gt jo gh gi paragraph-image"><a href="https://bytexplain.com/how-to-build-a-django-site-connectivity-web-app/"><div class="gh gi nr"><img src="../Images/f27c12e19083fbae35173d2492070cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H-umAlZ91HM09y4iAAbaGg.png"/></div></a></figure></div></div>    
</body>
</html>