<html>
<head>
<title>Useful Linux Commands — Soft Links and Files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的 Linux 命令—软链接和文件</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/useful-linux-commands-soft-links-and-files-77d5dad72d0?source=collection_archive---------4-----------------------#2021-04-03">https://blog.devgenius.io/useful-linux-commands-soft-links-and-files-77d5dad72d0?source=collection_archive---------4-----------------------#2021-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1808bbe7872477f3757185ae729400f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7YnlnTHiQ3Og61Gi"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@macauphotoagency?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">澳门图片社</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="7569" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Linux 是许多开发人员都会使用的操作系统。</p><p id="18cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，学习一些 Linux 命令是个不错的主意。</p><p id="4017" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些我们应该知道的有用的 Linux 命令。</p><h1 id="bb18" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">软链接</h1><p id="9d77" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">ln -s</code>命令创建软链接。</p><p id="11fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一般语法是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a174" class="mq lc iq mh b gy mr ms l mt mu">ln -s &lt;original&gt; &lt;link&gt;</span></pre><p id="d5ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">软链接将随着原始文件的删除而断开。</p><p id="25ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0968" class="mq lc iq mh b gy mr ms l mt mu">ln -s foo.txt newfoo.txt</span></pre><p id="2657" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建<code class="fe me mf mg mh b">newfoo.txt</code>软链接。</p><p id="506c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，软链接应该有 th <code class="fe me mf mg mh b">@</code>后缀，当我们运行<code class="fe me mf mg mh b">ls -al</code>命令时，它的颜色不同。</p><h1 id="7285" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">发现</h1><p id="f3e0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">find</code>命令让我们在文件系统中找到文件和文件夹。</p><p id="aee8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过运行以下命令找到所有扩展名为<code class="fe me mf mg mh b">.txt</code>的文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="865f" class="mq lc iq mh b gy mr ms l mt mu">find . -name '*.txt'</span></pre><p id="95cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们需要在像<code class="fe me mf mg mh b">*</code>这样的特殊字符周围加上引号，以阻止 shell 解释它们。</p><p id="29fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以使用<code class="fe me mf mg mh b">-type d</code>开关来查找目录:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3686" class="mq lc iq mh b gy mr ms l mt mu">find . -type d -name src</span></pre><p id="627d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-type f</code>让我们只搜索文件。</p><p id="09d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们只搜索符号链接。</p><p id="0eb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以在多个根树下进行搜索:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a32e" class="mq lc iq mh b gy mr ms l mt mu">find folder1 folder2 -name foo.txt</span></pre><p id="cd0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以使用<code class="fe me mf mg mh b">-or</code>搜索多个关键字:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9f55" class="mq lc iq mh b gy mr ms l mt mu">find . -type d -name node_modules -or -name public</span></pre><p id="a557" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">-not</code>排除结果:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="df71" class="mq lc iq mh b gy mr ms l mt mu">find . -type d -name '*.md' -not -path 'node_modules/*'</span></pre><p id="168d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且我们可以使用<code class="fe me mf mg mh b">-size</code>搜索至少具有给定大小的文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="caf9" class="mq lc iq mh b gy mr ms l mt mu">find . -type f -size +100c</span></pre><p id="9add" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">c</code>表示字节。</p><p id="73a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以搜索大小在以下范围内的文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="572d" class="mq lc iq mh b gy mr ms l mt mu">find . -type f -size +100k -size -1M</span></pre><p id="e6dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">-mtime</code>搜索在给定天数之前编辑过的文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bf4c" class="mq lc iq mh b gy mr ms l mt mu">find . -type f -mtime +3</span></pre><p id="9b08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以删除使用<code class="fe me mf mg mh b">-delete</code>选项找到的文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f459" class="mq lc iq mh b gy mr ms l mt mu">find . -type f -mtime -1 -delete</span></pre><h1 id="665a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">猫</h1><p id="94b0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">cat</code>让我们向文件添加内容。</p><p id="c4f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要将内容打印到标准输出，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="960c" class="mq lc iq mh b gy mr ms l mt mu">cat file</span></pre><p id="e1b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要打印多个文件的内容，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f435" class="mq lc iq mh b gy mr ms l mt mu">cat file1 file2</span></pre><p id="0715" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过运行以下命令将输出重定向到一个文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4323" class="mq lc iq mh b gy mr ms l mt mu">cat file1 file2 &gt; file3</span></pre><p id="e9e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果文件不存在，我们可以将<code class="fe me mf mg mh b">&gt;</code>改为<code class="fe me mf mg mh b">&gt;&gt;</code>来创建文件。</p><p id="be4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">-n</code>打印行号:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8cf4" class="mq lc iq mh b gy mr ms l mt mu">cat -n file</span></pre><h1 id="fc91" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">触控</h1><p id="b31f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">touch</code>命令让我们创建一个空文件。</p><p id="dc89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="097c" class="mq lc iq mh b gy mr ms l mt mu">touch file</span></pre><p id="03df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建一个名为<code class="fe me mf mg mh b">file</code>的文件。</p><p id="9572" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果它已经存在，它会以写模式打开文件，并更新时间戳。</p><h1 id="3017" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">尾巴</h1><p id="4b12" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">tail</code>命令让我们显示文件末尾的内容，</p><p id="6b1f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-f</code>开关监视文件变化并自动更新输出。</p><p id="3787" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6402" class="mq lc iq mh b gy mr ms l mt mu">tail -f /foo.txt</span></pre><p id="9dee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">观看<code class="fe me mf mg mh b">foo.txt</code>并更新输出。</p><p id="b68c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以改变用<code class="fe me mf mg mh b">-n</code>打印的行数:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="eebe" class="mq lc iq mh b gy mr ms l mt mu">tail -n 10 &lt;filename&gt;</span></pre><p id="4dba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">-n 10</code>打印最后 10 行。</p><p id="5aed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以从特定行开始打印整个文件内容，行号前有<code class="fe me mf mg mh b">+</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3632" class="mq lc iq mh b gy mr ms l mt mu">tail -n +10 &lt;filename&gt;</span></pre><h1 id="277c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="931d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建软链接，用 Linux 命令创建和操作文件。</p></div></div>    
</body>
</html>