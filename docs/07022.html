<html>
<head>
<title>Python Programming — Post And Fetch Reddit Data (Reddit Bot)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 编程—发布和获取 Reddit 数据(Reddit Bot)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/python-tutorial-for-beginners-reddit-script-to-post-and-fetch-reddit-data-ff6781ac982e?source=collection_archive---------14-----------------------#2022-02-19">https://blog.devgenius.io/python-tutorial-for-beginners-reddit-script-to-post-and-fetch-reddit-data-ff6781ac982e?source=collection_archive---------14-----------------------#2022-02-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ae47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有没有想过从事 Web 开发、机器学习、数据挖掘或者只是简单的应用程序和脚本编写？那么 Python 就是适合你学习的语言！近年来，Python 因其灵活性和易学的语法而成为世界上最流行的编程语言之一。在本文中，我们将开发一个简单的 Python 脚本，允许我们发布和获取 Reddit 数据。</p><p id="9340" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对 IT 专业人员的需求不断增长，无论是软件工程、网络开发、网络安全还是网络管理，这个清单几乎是无穷无尽的。从 Vinsloev Academy 中发现符合您在 IT 领域的个人学习目标的内容。——【https://vinsloev.com/#/discoveryCenter T2】</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/3a2192abc3b201afad7f2e809b4e9b33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*li9Hx-UQUcdlwUdE41PF4A.png"/></div></div></figure><p id="6f3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本文中编写的代码可以用作 Reddit 机器人的第一个组件，但是，完整的 Reddit 机器人不在本文的讨论范围之内。如果你在写这段代码的时候有问题，我已经做了一个视频版本，涵盖了这里介绍的内容:【https://youtu.be/JsWlJeeEdzY<a class="ae kl" href="https://youtu.be/JsWlJeeEdzY" rel="noopener ugc nofollow" target="_blank"/></p><p id="f3ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你是 python 的新手，或者想更深入地理解本文中的语法和代码，我制作了一个完整的 Python 课程，可以在 YouTube 上免费获得:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="4236" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以没有进一步的介绍，让我们开始吧。为了让下面的代码工作，你需要安装/导入包<strong class="jp ir"> Praw </strong>，因为我们将使用它作为我们与 Reddit 集成的基础。</p><p id="271c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想了解更多文斯洛夫学院的故事，请注册成为会员并支持我们的工作:<a class="ae kl" href="https://vinsloev.medium.com/membership" rel="noopener">https://vinsloev.medium.com/membership</a></p><p id="a16e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们需要使用我们自己的 Reddit 帐户在 Reddit 上创建一个个人应用程序，以获得有效的客户端密钥。可以使用以下链接在 Reddit 上创建个人应用程序:</p><p id="6b8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://www.youtube.com/redirect?event=video_description&amp;redir_token=QUFFLUhqbXpDN3p2VndYVTJrNGktc3JXTTI4Q3dGek1xd3xBQ3Jtc0tsbjMxRkRSMDV2bFo5dzd6MlJOWmR5cU9MTGFkUHF6TlZWeU8wTW5UUGxRNWIxRGtHek05SW1Ndm9iejBld09zNTdzQTlEMGNKdXY4UmVkeUVsR3ZMNGRERzVHZ3ZDMVBhMlhJVm9ncTJYV2drT3IxZw&amp;q=https%3A%2F%2Fwww.reddit.com%2Fprefs%2Fapps" rel="noopener ugc nofollow" target="_blank">https://www.reddit.com/prefs/apps</a></p><p id="1b99" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建应用程序时，选择<strong class="jp ir"> Web App </strong>，重定向 URL 设置为<a class="ae kl" href="http://localhosy:8080" rel="noopener ugc nofollow" target="_blank"> http://localhosy:8080 </a>，类似下图。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi la"><img src="../Images/99600f7c9700f6fc2d68644f39869a72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lQ-YCAWwfDGjnNkfI1GxJQ.png"/></div></div></figure><h2 id="bdde" class="lb lc iq bd ld le lf dn lg lh li dp lj jy lk ll lm kc ln lo lp kg lq lr ls lt bi translated">Reddit 连接</h2><p id="d691" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated">接下来，您将获得一个客户端密钥，可以在 Python 脚本中用于 reddit 集成。我们将使用以下 Python 代码创建 redditConnect()方法。记住，如果你也想发布到 reddit，那么你需要提供用户名和密码。通过使用 client_id 和 client _ secrect，您只能从 reddit 中读取内容。</p><pre class="kn ko kp kq gt lz ma mb mc aw md bi"><span id="8550" class="lb lc iq ma b gy me mf l mg mh">def redditConnect():<br/>    reddit = praw.Reddit(<br/>        client_id="Your client id",<br/>        client_secret="Your client secured",<br/>        user_agent="my user agent",<br/>        username="",<br/>        password="",<br/>    )<br/>    print(reddit.read_only)<br/>    return reddit</span></pre><p id="b60b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你不提供用户名和密码，redditConnect()应该使用<em class="mi"> print(reddit.read_only)在控制台中打印<em class="mi"> True </em>。</em></p><h2 id="6252" class="lb lc iq bd ld le lf dn lg lh li dp lj jy lk ll lm kc ln lo lp kg lq lr ls lt bi translated">从子编辑中读取</h2><p id="1b93" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated">接下来，我们将创建用于从给定子编辑中打印 Post 的方法。</p><pre class="kn ko kp kq gt lz ma mb mc aw md bi"><span id="3d18" class="lb lc iq ma b gy me mf l mg mh">def printPostFromSubreddit(redditCon, subreddit):<br/>    for submission in redditCon.subreddit(subreddit).hot(limit=<em class="mi">10</em>):<br/>        print(submission.title)</span></pre><p id="3694" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的方法 printPostFromSubreddit()接受两个输入，即由我们的方法 reddit connection()提供的 Reddit 连接和作为字符串提供的 Subreddit。</p><p id="3410" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当被调用时，它将打印子编辑热门类别中前 10 篇文章的<strong class="jp ir">标题</strong>。</p><h2 id="046a" class="lb lc iq bd ld le lf dn lg lh li dp lj jy lk ll lm kc ln lo lp kg lq lr ls lt bi translated">发布到子编辑</h2><p id="edb2" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated">我们将创建的最后一个方法是允许我们发布到 Subreddit 的方法。这个方法称为 postToReddit，有 4 个输入参数。它需要一个 Reddit 连接(Reddit connection()的输出)、一个要发布的有效子编辑、一个帖子标题和一个 url。</p><pre class="kn ko kp kq gt lz ma mb mc aw md bi"><span id="0383" class="lb lc iq ma b gy me mf l mg mh">def postToReddit(redditCon, subreddit, title, url):<br/>    redditCon.validate_on_submit = <em class="mi">1<br/>    </em>subreddit = redditCon.subreddit(subreddit)<br/>    subreddit.submit(title, url=url)<br/>    print("Post submitted")</span></pre><p id="8b5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当提供有效输入时，该方法将创建一个 Post 并打印提交给控制台的 Post。当开发这个脚本时，你可以使用 subreddit <strong class="jp ir"> r/test </strong>，因为这个 subreddit 没有任何提交规则，允许你测试你的脚本，而不会被阻止或删除你的帖子。</p></div></div>    
</body>
</html>