<html>
<head>
<title>Most Underrated Skill — Writing Readable Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最被低估的技能——编写可读代码</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/most-underrated-skill-writing-readable-code-3e288db62ddf?source=collection_archive---------15-----------------------#2020-07-06">https://blog.devgenius.io/most-underrated-skill-writing-readable-code-3e288db62ddf?source=collection_archive---------15-----------------------#2020-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/af5ee53b0c12a49d81a2b062d40645b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4LlMwPY9xUjapd4x"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">克里斯里德在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="69df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi lb translated"><span class="l lc ld le bm lf lg lh li lj di">在</span> Analytics 中，我们经常全神贯注于最新的算法、包、故事，以及对 R v/s Python 永无止境的讨论。我们经常忽略对可读代码的需求。</p><ul class=""><li id="9019" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated">有没有在几个月后重访你的代码，并想知道你为什么以这样的方式写这段代码？</li><li id="ead2" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">读了一段糟糕的代码，认为重写这段代码比理解不可读的代码要好？</li><li id="0acf" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">见过数据集/变量名如 df1、var_df2、master3、temp4、I、j 等？</li></ul><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="730b" class="mh mi iq md b gy mj mk l ml mm">if (Answer to above question == "Yes") {</span><span id="cb4d" class="mh mi iq md b gy mn mk l ml mm">“Read Further and share your experience with un-readable code”</span><span id="3f65" class="mh mi iq md b gy mn mk l ml mm">}</span></pre><h1 id="f7ff" class="mo mi iq bd mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk bi translated">为什么我养成了写可读代码的习惯？</h1><p id="b044" class="pw-post-body-paragraph kd ke iq kf b kg nl ki kj kk nm km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">谢天谢地，我别无选择。我在凯捷工作期间，我最初的代码不可读，收到了大量的评论。我面临的主要问题如下:</p><ol class=""><li id="af71" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la nq lq lr ls bi translated">庞大的代码库(客户是世界上最大的披萨连锁店之一)</li><li id="524b" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">遗留 ERP(是的，我用 Vb 6.0 编码)</li><li id="d75a" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">一些部分不可读(涉及多个团队)</li><li id="de45" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">相互依赖(一个模块中的变化会产生级联效应)</li><li id="cb29" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">敏捷方法(许多人同时处理同一个文件)</li></ol><p id="23c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在添加代码片段之前，我必须写一个描述性的注释，以确保其他浏览或调试代码的人能够理解核心功能，而无需依赖我。</p></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><blockquote class="ny nz oa"><p id="ace7" class="kd ke ob kf b kg kh ki kj kk kl km kn oc kp kq kr od kt ku kv oe kx ky kz la ij bi translated">专业人士善用他们的能力，编写他人可以理解的代码。<br/> ― <strong class="kf ir">罗伯特·c·马丁，</strong> <a class="ae kc" href="https://www.goodreads.com/work/quotes/3779106" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">干净代码:敏捷软件工艺手册</strong> </a></p></blockquote><h1 id="675a" class="mo mi iq bd mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk bi translated"><strong class="ak">如何铲球？</strong></h1><ul class=""><li id="7e24" class="lk ll iq kf b kg nl kk nm ko of ks og kw oh la lp lq lr ls bi translated"><strong class="kf ir">代码的用途</strong>(简短总结)——我通常更喜欢写代码的简短总结。您可以提及以下内容:1)数据源 2)对数据集的基本理解 3)您测试的主要目的/假设 4)任何术语或相关列描述</li></ul><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="f51b" class="mh mi iq md b gy mj mk l ml mm">##### Purpose for this article ######<br/># This is my 1st comment on any new file/project. For this story my purpose is to make the code more readable by focusing on the most ignored part of coding (Comments, Inundation, Casing)</span></pre><ul class=""><li id="6df2" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated"><strong class="kf ir">写假设</strong>——糟糕的假设会产生糟糕的代码，不提任何假设都会导致灾难。假设您想根据客户的“年龄”创建一个派生变量“总工作经验”(年龄&gt; 25 岁)。基于你过去的理解，你有一个假设，客户通常在“年龄= 22 岁”开始工作，因此“总工作经验=年龄-22”</li></ul><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="73c7" class="mh mi iq md b gy mj mk l ml mm">##### Assumptions for this article ######<br/># You have a basic understanding of how codes work and have hands-on experience in any coding language</span></pre><ul class=""><li id="3310" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated"><strong class="kf ir">排除</strong> —你排除了什么？假设您正在研究教育贷款的倾向模型，您将排除那些还没有资格学习该课程的人，那些年龄远远超过年龄限制的人。最好提一下最重要的排除</li><li id="564e" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated"><strong class="kf ir">评论— </strong>有意义的评论，你的函数是做什么的，输入参数是什么？注释和代码应该同步，因此当你修改代码时，不要忘记添加/更新注释。还有，清理无关评论。假设您有一个进行基本日期操作的函数，它接受购买日期和交付日期作为参数。</li></ul><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="0817" class="mh mi iq md b gy mj mk l ml mm">#### Calculates the time to deliver in dd/mm/yyyy format. Pass date of purchase and date of delivery as arguments in mm/dd/yy format</span></pre><ul class=""><li id="b55e" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated"><strong class="kf ir">淹没</strong>——看到一个代码，你不知道它在哪里开始，在哪里结束？</li></ul><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="72bc" class="mh mi iq md b gy mj mk l ml mm">##### Same Code without and with inundation ####</span><span id="6e69" class="mh mi iq md b gy mn mk l ml mm">AbvAvgArrests &lt;- USArrests %&gt;% filter(Murder &gt; mean(Murder), Rape &gt; mean(Rape), Assault &gt; mean(Assault))</span><span id="7843" class="mh mi iq md b gy mn mk l ml mm">AbvAvgArrests &lt;- USArrests %&gt;%                  <br/>                 filter(Murder &gt; mean(Murder),<br/>                        Rape &gt; mean(Rape), <br/>                        Assault &gt; mean(Assault))</span></pre><ul class=""><li id="c504" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated"><strong class="kf ir">变量/数据集/函数的相关名称</strong>——你不会想阅读一个包含 I、j、k 等变量的代码。根据它的作用来命名它。例如，如果您只想对年龄进行健全性检查，请将其命名为 SanityAgeCheck，而不是 Test1。您可能希望保持以下约定:1)健全性检查→sanitywhatidoes 2)临时数据集→tempwhatidoes 3)函数→fnwhatidoes 4)原始数据集→rawhatidoes 5)绘图→plotwhatittplots 等。</li></ul><blockquote class="ny nz oa"><p id="4f9e" class="kd ke ob kf b kg kh ki kj kk kl km kn oc kp kq kr od kt ku kv oe kx ky kz la ij bi translated">"你应该像给第一个孩子命名一样小心地给一个变量命名。"<br/> ― <strong class="kf ir">罗伯特·c·马丁，</strong> <a class="ae kc" href="https://www.goodreads.com/work/quotes/3779106" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">干净代码:敏捷软件工艺手册</strong> </a></p></blockquote><ul class=""><li id="bba4" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated"><strong class="kf ir">大小写</strong>——请保持大小写一致，我不愿意<em class="ob">读码</em>是多个<em class="ob">大小写样式</em>的<em class="ob"/></li></ul><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="665d" class="mh mi iq md b gy mj mk l ml mm">#### Types of casing styles ####<br/>#camelCase<br/>#PascalCase<br/>#snake_case</span></pre><ul class=""><li id="81ea" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated">空白很重要——在各部分之间留一些空间，这将有助于阅读代码</li><li id="a83e" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">删除不需要的数据集——你不希望你的项目环境中有大量不相关的数据集造成混乱。</li></ul><h1 id="abbd" class="mo mi iq bd mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk bi translated"><strong class="ak">样本代码</strong></h1><figure class="ly lz ma mb gt jr"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="a1ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">R 工作室提示</strong></p><ul class=""><li id="c359" class="lk ll iq kf b kg kh kk kl ko lm ks ln kw lo la lp lq lr ls bi translated">您有一个最终数据集“CustomerMaster ”,它包含所有相关的列，并将用于绘图。现在，如果您想只保留 CustomerMaster 并删除所有其他数据集，您可以使用 gdata 包中的<em class="ob"> keep(CustomerMaster，sure = TRUE) </em></li><li id="e5c7" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">CTRL + I —淹没代码</li><li id="1a77" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">要创建新的代码段注释并使其在文档大纲中可见，请按如下方式进行注释。</li></ul><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="4bde" class="mh mi iq md b gy mj mk l ml mm">#### Sample Comment to create new code section which can be collapsed ####</span></pre><p id="527a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参考下面的截图</p><figure class="ly lz ma mb gt jr gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/515f3e9df1f1ececefb400f87f67b0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/1*KYxcnD9dh7yXdsmVA2t5Cg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">将注释添加为####注释####。来源:作者</figcaption></figure></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h1 id="6a9e" class="mo mi iq bd mp mq ol ms mt mu om mw mx my on na nb nc oo ne nf ng op ni nj nk bi translated"><strong class="ak">优点</strong></h1><ul class=""><li id="a18c" class="lk ll iq kf b kg nl kk nm ko of ks og kw oh la lp lq lr ls bi translated">很容易解释</li><li id="b830" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">缩短移交/记录时间</li><li id="3cb9" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">减少依赖性</li><li id="8068" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">不容易出错</li><li id="cd54" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">易于调试，因此减少了解决错误的时间</li><li id="7f0a" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">基于业务需求易于重用和修改</li></ul><h1 id="a981" class="mo mi iq bd mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk bi translated"><strong class="ak">缺点</strong></h1><ul class=""><li id="a661" class="lk ll iq kf b kg nl kk nm ko of ks og kw oh la lp lq lr ls bi translated">耗费时间的</li><li id="2a9e" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">你可能会觉得这是平凡的活动(相信我，这是值得的)</li><li id="80ec" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la lp lq lr ls bi translated">如果需求是临时的和非常严格的时间表，则不适合(我更喜欢交付结果，然后使其可读以供将来使用)</li></ul></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h1 id="99b0" class="mo mi iq bd mp mq ol ms mt mu om mw mx my on na nb nc oo ne nf ng op ni nj nk bi translated">关键外卖</h1><ol class=""><li id="22c0" class="lk ll iq kf b kg nl kk nm ko of ks og kw oh la nq lq lr ls bi translated">写可读的代码和写高效的代码一样重要，把它当成用户手册(给你自己和同事)</li><li id="ced3" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">写<strong class="kf ir">目的</strong> /基本总结</li><li id="5051" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">写下<strong class="kf ir">假设</strong>(即使是最基本的假设，6 个月后你的同事也不一定能理解你的思维过程)</li><li id="83f8" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">你<strong class="kf ir">排除了什么</strong>？(已故客户、极端价值等。)</li><li id="8b3d" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated"><strong class="kf ir">注释</strong>(取代所有其他内容，请这样做，并且不要忘记在需要时与您的代码同步)</li><li id="0d69" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated"><strong class="kf ir">淹没</strong>(会减少混乱)</li><li id="9d17" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated"><strong class="kf ir">相关名称</strong>(请根据其用途/含义命名)</li><li id="abdc" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated"><strong class="kf ir">肠衣</strong>(驼色，帕斯卡尔盒，蛇 _ 盒)我更喜欢帕斯卡尔盒</li><li id="1aa0" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated"><strong class="kf ir">空白</strong>(在主要部分之间留一些线)</li><li id="4d1a" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated"><strong class="kf ir">删除不相关的数据集</strong>(你不会想摆弄 50 多个数据集)</li><li id="583c" class="lk ll iq kf b kg lt kk lu ko lv ks lw kw lx la nq lq lr ls bi translated">是的，这很费时间，但是很值得。一旦你开始写可读的代码，比较编辑前后的代码。</li></ol><p id="3077" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么你有什么不可读代码的经历，你是如何解决的呢？</p><p id="5162" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">关于作者:</strong>分析顾问，拥有 5 年以上与各行业利益相关者合作的丰富经验。我目前是一名业务分析师(People Analytics ),负责将数据转化为可操作的见解。</p><p id="c1d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">快乐编码:)</p></div></div>    
</body>
</html>