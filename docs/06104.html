<html>
<head>
<title>Python with MySQL Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python与MySQL数据库</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/python-with-mysql-database-fab55cb56a06?source=collection_archive---------13-----------------------#2021-12-13">https://blog.devgenius.io/python-with-mysql-database-fab55cb56a06?source=collection_archive---------13-----------------------#2021-12-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/26d36ca32ad8da75bf3e48e7b62383ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JAIoVpc0duW4vA7tntTOKw.jpeg"/></div></div></figure><p id="7654" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Python，这种编程语言可以用于数据库。今天我们要讲的是如何将python与世界上最流行的数据库语言MySQL进行整合。根据Stackoverflow年的调查。</p><p id="2e8f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以首先我希望你的电脑上已经安装了python。为了能够使用MySQL，你必须安装一个MySQL驱动程序。</p><p id="8dd3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将命令行导航到pip的位置，并键入以下内容。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="9a37" class="ld le in kz b gy lf lg l lh li">C:\Users\<em class="lj">Your Name</em>\AppData\Local\Programs\Python\Python36-32\Scripts&gt;python -m pip install mysql-connector-python</span></pre><p id="ba0d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在您已经下载并安装了MySQL驱动程序。</p><p id="c955" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要测试这个驱动程序，您必须创建一个python文件并导入MySQL驱动程序。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="d1e4" class="ld le in kz b gy lf lg l lh li">import mysql.connector</span></pre></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><p id="f551" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以接下来，我们要在Python和MySQL之间创建一个连接。为此，您必须使用MySQL数据库的用户名和密码。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="2425" class="ld le in kz b gy lf lg l lh li">import mysql.connector<br/><br/>mydb = mysql.connector.connect(<br/>  host="localhost",<br/>  user="<em class="lj">yourusername</em>",<br/>  password="<em class="lj">yourpassword</em>"<br/>)</span></pre><p id="a076" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，您可以从python文件开始使用数据库。</p></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><p id="4a1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么如何从python文件创建数据库呢？我们来谈谈这个。要创建一个数据库，你必须在一个python文件中编写这样的代码。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="9595" class="ld le in kz b gy lf lg l lh li">mycursor = mydb.cursor()<br/><br/>mycursor.execute("CREATE DATABASE mydatabase")</span></pre><p id="7ade" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">cursor方法允许您遍历数据库，这将只执行一个查询。</p><p id="ed3b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以检查系统中有哪些数据库，或者检查您创建的数据库是否出现。为此，您必须使用SQL中的<strong class="jx io">显示数据库</strong>查询。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="3a7b" class="ld le in kz b gy lf lg l lh li">mycursor.execute("SHOW DATABASES")<br/><br/>for x in mycursor:<br/>  print(x)</span></pre></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><p id="f680" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么如何从Python创建一个MySQL表呢？为此，您必须使用来自SQL的<strong class="jx io">创建表</strong>查询。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="98fb" class="ld le in kz b gy lf lg l lh li">mycursor.execute("CREATE TABLE customers (name VARCHAR(255), address VARCHAR(255))")</span></pre><p id="72b7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要查看创建的表，只需使用<strong class="jx io"> show tables </strong>查询。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="c8de" class="ld le in kz b gy lf lg l lh li">mycursor.execute("SHOW TABLES")<br/><br/>for x in mycursor:<br/>  print(x)</span></pre><p id="01ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">做了那些事之后。插入、删除、更新和检索查询与MySQL相同。</p></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><p id="41ce" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们来谈谈python中使用MySQL的一些重要方法。</p><h1 id="48da" class="lr le in bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">fetchall()方法</h1><p id="8ea2" class="pw-post-body-paragraph jv jw in jx b jy mo ka kb kc mp ke kf kg mq ki kj kk mr km kn ko ms kq kr ks ig bi translated">此方法用于从上次执行的查询中获取所有行。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="b8db" class="ld le in kz b gy lf lg l lh li">mycursor.execute(“SELECT * FROM customers”)</span><span id="59ef" class="ld le in kz b gy mt lg l lh li">myresult = mycursor.fetchall()</span><span id="9b42" class="ld le in kz b gy mt lg l lh li">for x in myresult:<br/> print(x)</span></pre><p id="4c0e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="2625" class="ld le in kz b gy lf lg l lh li">(1, 'John', 'Highway 21')<br/>(2, 'Peter', 'Lowstreet 27')<br/>(3, 'Amy', 'Apple st 652')<br/>(4, 'Hannah', 'Mountain 21')<br/>(5, 'Michael', 'Valley 345')<br/>(6, 'Sandy', 'Ocean blvd 2')<br/>(7, 'Betty', 'Green Grass 1')</span></pre><h1 id="8d56" class="lr le in bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">fetchone()方法</h1><p id="c5cc" class="pw-post-body-paragraph jv jw in jx b jy mo ka kb kc mp ke kf kg mq ki kj kk mr km kn ko ms kq kr ks ig bi translated">该方法只返回已执行查询结果的第一行。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="b07c" class="ld le in kz b gy lf lg l lh li">mycursor.execute("SELECT * FROM customers")<br/><br/>myresult = mycursor.fetchone()<br/><br/>print(myresult)</span></pre><p id="a8e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="286c" class="ld le in kz b gy lf lg l lh li">(1, 'John', 'Highway 21')</span></pre><h1 id="cb89" class="lr le in bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">commit()方法</h1><p id="cc06" class="pw-post-body-paragraph jv jw in jx b jy mo ka kb kc mp ke kf kg mq ki kj kk mr km kn ko ms kq kr ks ig bi translated">此方法用于更新表。否则，该表不会更新。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="2a74" class="ld le in kz b gy lf lg l lh li">sql = "UPDATE customers SET address = 'Canyon 123' WHERE address = 'Valley 345'"<br/><br/>mycursor.execute(sql)<br/><br/>mydb.commit()</span></pre></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><blockquote class="mu mv mw"><p id="39bf" class="jv jw lj jx b jy jz ka kb kc kd ke kf mx kh ki kj my kl km kn mz kp kq kr ks ig bi translated">"你可以拥有没有信息的数据，但你不能拥有没有数据的信息."—丹尼尔·凯斯·莫兰</p></blockquote></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><p id="3300" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="lj">更多内容尽在</em><a class="ae kt" href="http://blog.devgenius.io" rel="noopener ugc nofollow" target="_blank"><em class="lj">blog . dev genius . io</em></a><em class="lj">。</em></p></div></div>    
</body>
</html>