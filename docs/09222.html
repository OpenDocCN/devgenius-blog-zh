<html>
<head>
<title>Day 118 of Game Dev: Enums — C#!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发的第 118 天:enum-c#！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-118-of-game-dev-enums-c-fd68c5375644?source=collection_archive---------12-----------------------#2022-08-07">https://blog.devgenius.io/day-118-of-game-dev-enums-c-fd68c5375644?source=collection_archive---------12-----------------------#2022-08-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="4fa4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目标:</strong>回顾什么是枚举，以及我们如何在 C#/Unity 中使用它们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/90cc96485b6919b2db367ac332ebfd2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z7NkI9HppJpyKnLLD90eXQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.section.io/engineering-education/c-sharp-enums/" rel="noopener ugc nofollow" target="_blank">演职员表</a></figcaption></figure><p id="ac31" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">基本上，上面的定义是说，枚举可以用来创建一个自定义命名变量的列表，这些变量以一种易于阅读的方式被赋予一个整数值。</p><p id="6bc4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看一个代码示例。让我们假设我们想为我们的游戏做一个难度选择器。</p><p id="7c0c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将从创建一个困难的选择器脚本开始。并声明一个枚举。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/a6a4386f3deb0047272405c3f981e89a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*ewjOPwgVZi0ZNLn3FD_gEQ.png"/></div></figure><p id="1bb3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先我声明 enum 并命名它。然后在里面(用简单的英语)我可以添加变量，后面跟着逗号。最后一个变量不会产生彗差，所以不要在最后一个变量上加逗号。</p><p id="11f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">默认情况下，每个变量都被赋予从 0 开始的 int 值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi la"><img src="../Images/ebf1d38b455e5d51a699f37e0ac9cef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*jcLXnlywadP-FuiJOq6CSQ.png"/></div></figure><p id="cace" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你愿意，你也可以手动给它们赋值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/7c2297f8d5779de931a84dc86ca59bfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*l4rCsiBDaFErYMuaecYCpQ.png"/></div></figure><p id="ae79" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们可以使用这些数据。到目前为止，它就像一个类，只是保存数据，但从未使用过。就像一个类一样，我们需要实例化这个枚举类型的对象。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/2a1a504aae03f4caed20a2dea517e6b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*TwJTPdZZtUcYmPutqDSZOg.png"/></div></figure><p id="a990" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦我这样做了，我将能够从检查器中看到这个枚举，它带有一个非常漂亮的下拉菜单，包含枚举变量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ld"><img src="../Images/c11c9d0486e503c4553945db1e2c96bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/1*jD3r4bqAi9UiVs3P07434Q.gif"/></div></figure><p id="605b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是设置枚举的全部内容。这里有一个例子，我使用 switch 语句来检查选择了哪个枚举变量，并基于此调用某些代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi le"><img src="../Images/c1c7f431d35da89722aede0e1b796a22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*S1hdH6uGEFBCdQUUEt6zfQ.png"/></div></figure><p id="78f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">另一条有价值的信息是使用基于 int 值的枚举。</p><p id="ce99" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的 switch 语句中，我们检查我们选择了哪个枚举，除了它专门查找枚举的字符串或名称，而不是缺省情况下的 int 值。</p><p id="a2be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是，如果我们想将一个枚举的 int 值传递给一个方法，该方法根据我们所在的枚举或类似的东西加载一个场景，该怎么办呢？我们可以很容易地将枚举值转换为 int。</p><p id="bf90" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是一个示例方法，它将基于我们所在的枚举加载一个场景。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lf"><img src="../Images/7334adc11a73df0f9dc4eb825e04dd5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sfQpY79-xNBpVxJpTZ7uFQ.png"/></div></div></figure><p id="945c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我得到一个错误，因为 LoadScene 方法需要一个 int 值。我可以将 enum(默认情况下作为字符串读取)转换为 int 值。就像我之前说的，默认情况下从 0 开始，或者你可以手动赋值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/e65004cb99ce466d09ab6cb104bdb16e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*ahjURbojG2REix7CNWh--g.png"/></div></figure><p id="9596" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">错误已解决，当我从 Start()调用该方法时，它将根据使用 enum int 值选择的难度来加载场景。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/d1d204545c69283fd9e429a901cd2ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*cSmkNxCDQFOOqoSojrAaOg.png"/></div></figure><p id="a210" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望这有助于理解什么是枚举以及如何使用它们。如果您有任何问题或想法，请随时发表评论。让我们制作一些令人敬畏的游戏！ </p></div></div>    
</body>
</html>