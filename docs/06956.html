<html>
<head>
<title>Inverting Images Using python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 python 反转图像。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/inverting-images-using-python-c0031d09a026?source=collection_archive---------11-----------------------#2022-02-14">https://blog.devgenius.io/inverting-images-using-python-c0031d09a026?source=collection_archive---------11-----------------------#2022-02-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9cc2" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">详细的指导与源代码。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/a1a2218f973317346fc46f280aeeca77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fk07erMm2hIZUu_tytAFbg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">对文章内容的一瞥。</figcaption></figure><p id="fd4f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">python 中有大量的库提供了广泛的特性和功能。通过这种方式，python 有许多库来处理图像，并用很少的几行代码进行各种修改。</p><p id="37f9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们有许多 python 库，它们使用一些内置函数直接给出一个反转图像。本文将研究一种方法来理解屏幕背后的功能。</p><h1 id="8263" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">图像是如何存储的</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/3b1f4d814a5dde296832603f1a7d7cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*DlnLQ9b9pCkQloGiQ-WTSw.png"/></div></figure><p id="ebcd" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们可以看到，当我们放大图像时，图像往往会变得模糊，我们可以看到单个的方块，这就是所谓的像素。像素是图像的基本块，根据图像的尺寸水平和垂直延伸，存储关于每个块的所需数据。像素值是表示每个像素的数值的数字。这些像素值代表像素的亮度。灰度或黑白图像的像素值范围从 0 到 255。接近零的较小数字代表较暗的阴影，而接近 255 的较大数字代表较亮或白色阴影。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/e1947e637a2746736804b1e3829fe80f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pCgyyp-AyQT-ZLPghpUZdA.png"/></div></div></figure><p id="1492" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">类似地，如果我们看一幅彩色图像，每个像素包含三种不同的颜色:绿色、红色和蓝色。所以每个像素存储这三种不同颜色的像素值。而且，这些矩阵值中每一个也从 0 到 255 变化。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mi"><img src="../Images/1b82e25181c609c0d0fc73cb087bc9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHsLgZK3v7dex7Pu-reCkw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">彩色图像中单个像素的精细化。</figcaption></figure><h1 id="c976" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">如何使用 python 浏览图像</h1><blockquote class="mj mk ml"><p id="332d" class="ks kt mm ku b kv kw jo kx ky kz jr la mn lc ld le mo lg lh li mp lk ll lm ln ig bi translated">python 中可以使用许多库来打开图像并将它们转换成数组。但是在本文中，我们将主要使用三个库来完成我们的任务。枕头、IPython.display 和 Numpy。</p></blockquote><p id="c823" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">让我们从导入这些库和函数开始，</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mq"><img src="../Images/4b2e72509b93d41f89fd9ac52326c27c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVscwDRFfU6iQ9JaqE8G4w.png"/></div></div></figure><p id="f22e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们将使用来自<strong class="ku io">枕头/ PIL </strong>库的图像模块，我们将使用<strong class="ku io">图像</strong>模块，并且来自<strong class="ku io"> IPython 显示</strong>库，我们将使用<strong class="ku io">显示</strong>模块来查看笔记本本身的输出。</p><p id="c908" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">因此，现在我们可以导入图像并查看它</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/637ee25207a0b8cc2a8551bb0fbff31f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYDstmxZ6xaWqIXZHYpQ5A.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">Jupyter 笔记本中的图像预览</figcaption></figure><p id="8669" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">因此，在导入库之后，我们可以使用图像。打开以打开指定的图像并将其存储到变量中。使用显示模块，我们可以查看导入的图像。为了便于解释，我在这里导入了灰度图像。但是这些步骤也适用于彩色图像。</p><h1 id="97b1" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">让我们看看这张图片的像素…</h1><p id="cad3" class="pw-post-body-paragraph ks kt in ku b kv ms jo kx ky mt jr la lb mu ld le lf mv lh li lj mw ll lm ln ig bi translated">为了玩这张图片，我们将把它转换成一个数组，让我们检查存储的值和它的形状。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/9dc12d02202b4f7d000503b079f9ae77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sys0H9HYGEFuLvxr3ZkKug.png"/></div></div></figure><p id="3d5c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">通过上面这段代码，我们将把图像转换成一个数组，并打印出数组和数组的形状。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi my"><img src="../Images/2b7545543af45b796e05fe7fe9fcb980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*97HY1Qv15N1TtLQ4jIKePA.png"/></div></div></figure><p id="4760" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">通过输出，我们可以看到这是一个 200 列 200 行的二维数组，这是因为我使用的图像分辨率为“200px X 200px”。此外，每个位置的值都是一个从 0-255 变化的单一值，因为这是一个灰度。这两个值可能会根据您使用的图像的分辨率和配色方案而变化。</p><h1 id="fc97" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">现在让我们反转数值…</h1><p id="aaaf" class="pw-post-body-paragraph ks kt in ku b kv ms jo kx ky mt jr la lb mu ld le lf mv lh li lj mw ll lm ln ig bi translated">正如我们之前所说，像素值的范围是从 0 到 225，我们可以通过从 255 中减去该值来反转每个值。我们将首先创建一个与图像形状相同的数组，并用<strong class="ku io"> 255 初始化所有的值。</strong>我们可以做一个简单的算术运算，从我们创建的新数组<strong class="ku io">中减去图像数组。</strong>在 Numpy 的帮助下，这很容易做到，如下所示:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/f2b1e01ef01da3dc1a2acc9af97bc14a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xQZSo44lahbMejMDNUnMig.png"/></div></div></figure><p id="e756" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io"> np。完整的</strong>将创建一个与<strong class="ku io"> im 相等的形状数组。shape </strong>(这将给出“数组<strong class="ku io"> im" </strong>的形状，其中存储了原始图像的值)</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/aea0294e04f5ecca12fc66f54cfe42cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4-CGGTzG0z0eIUqqMCSjhA.gif"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">像素反转</figcaption></figure><p id="36c2" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在，我们可以从我们创建的新数组中减去图像数组，以获得所需的输出。而"<strong class="ku io"> astype </strong>"函数帮助我们定义数据类型，应该是"<strong class="ku io">uint 8-大小为 8 bit 的无符号整数。</strong>"并将数组保存到变量"<strong class="ku io"> mod_image </strong>"</p><h1 id="9558" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">最后一步。</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/3a26339c4822a2efce6d931ef5245eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uJ5I2Z9ZMHzJM-1gc9JioQ.png"/></div></div></figure><p id="00e8" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在我们可以使用"<strong class="ku io"> Image.fromarray " </strong>函数来检查输出，该函数将给定的值数组转换成一个图像，以便在笔记本中查看。还有 tadaaaaaaaa…..我们的输出如下。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi na"><img src="../Images/d7500515133f7cf2774cff5c421a1b03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T1qbQuueXR4GASAUuLAGGg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">代码的最终输出。</figcaption></figure><p id="1297" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这里我提供给你完整的代码，可能会帮助你重新检查和验证你的理解。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h1 id="266f" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">最后的话</h1><p id="53ed" class="pw-post-body-paragraph ks kt in ku b kv ms jo kx ky mt jr la lb mu ld le lf mv lh li lj mw ll lm ln ig bi translated">我希望这篇文章能让你对用 python 反转图像有一个清晰而正确的理解，包括所有必要的步骤以及这些步骤背后的原因。同样的代码也可以转换彩色图像，因为我们没有硬编码遮罩的形状，但我们可以直接从图像中获取它。</p><p id="817c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如有任何疑问，请随时联系我。感谢您的阅读。</p></div></div>    
</body>
</html>