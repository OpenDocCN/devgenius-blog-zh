# âœ”ï¸é…’åº—åŒ…è£…(Swift 5.1)ğŸ“¦

> åŸæ–‡ï¼š<https://blog.devgenius.io/property-wrapper-swift-5-1-9bc7981019fc?source=collection_archive---------25----------------------->

![](img/1d3df0f47a1612a714370b306a8c71a3.png)

æ¥è‡ª[www.pexels.com](http://www.pexels.com)

## æ®è‹¹æœå…¬å¸ç§°:

> å±æ€§åŒ…è£…å™¨åœ¨ç®¡ç†å¦‚ä½•å­˜å‚¨å±æ€§çš„ä»£ç å’Œå®šä¹‰å±æ€§çš„ä»£ç ä¹‹é—´æ·»åŠ äº†ä¸€ä¸ªåˆ†ç¦»å±‚ã€‚
> 
> è¦å®šä¹‰ä¸€ä¸ªå±æ€§åŒ…è£…å™¨ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªç»“æ„ã€æšä¸¾æˆ–ç±»æ¥å®šä¹‰ä¸€ä¸ª`wrappedValue`å±æ€§

# **ä¾‹å¦‚:1** ğŸ”¢å¯¹äºç®€å•çš„å•ä¸ªå±æ€§ğŸ€

å‡è®¾æˆ‘ä»¬æƒ³è¦åˆ›å»ºä¸€ä¸ªå±æ€§åŒ…è£…å™¨ï¼Œå®ƒè‡ªåŠ¨å°†åˆ†é…ç»™å®ƒçš„æ‰€æœ‰`String`å€¼å¤§å†™ã€‚å¯ä»¥æ˜¯è¿™æ ·çš„:

![](img/a420e8b0bd90b1db4eaf6aff225c2e6a.png)

å¤§å†™å®šä¹‰

> é€šè¿‡å°†åŒ…è£…å™¨çš„åç§°ä½œä¸ºå±æ€§å†™åœ¨å±æ€§ä¹‹å‰ï¼Œå¯ä»¥å°†åŒ…è£…å™¨åº”ç”¨äºå±æ€§ã€‚

æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¿™ä¸€ç‚¹:

è¦å°†æ–°çš„å±æ€§åŒ…è£…å™¨åº”ç”¨äºæˆ‘ä»¬çš„ä»»ä½•`String`å±æ€§ï¼Œæˆ‘ä»¬åªéœ€ç”¨`@Capitalized`å¯¹å…¶è¿›è¡Œæ³¨é‡Šï¼ŒSwift ä¼šè‡ªåŠ¨å°†è¯¥æ³¨é‡Šä¸æˆ‘ä»¬çš„ä¸Šè¿°ç±»å‹è¿›è¡ŒåŒ¹é…ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬å¦‚ä½•ç¡®ä¿ä¸€ä¸ª`User`ç±»å‹çš„`firstName`å’Œ`lastName`å±æ€§æ€»æ˜¯å¤§å†™çš„:

![](img/3848b7152fa886116070833bf90d750f.png)

å¤§å†™ç”¨é€”

# **ä¾‹:2** ğŸ”¢æœ‰æ›´å¤šçš„æ¡ä»¶ğŸ˜º

åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œ`TwelveOrLess`ç»“æ„ç¡®ä¿å®ƒåŒ…è£…çš„å€¼æ€»æ˜¯åŒ…å«ä¸€ä¸ªå°äºæˆ–ç­‰äº 12 çš„æ•°å­—ã€‚å¦‚æœä½ è¦æ±‚å®ƒå­˜å‚¨ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå®ƒä¼šå­˜å‚¨ 12ã€‚

![](img/6e596bd1c33ced9a371e9d434e7411f7.png)

æ— åäºŒå±‚å®šä¹‰

è¿™é‡Œæœ‰ä¸€ä¸ªå­˜å‚¨å°çŸ©å½¢çš„ç»“æ„ï¼Œä½¿ç”¨ç”±`TwelveOrLess`å±æ€§åŒ…è£…å™¨å®ç°çš„ç›¸åŒ(ç›¸å½“éšæ„)çš„â€œå°â€å®šä¹‰:

![](img/0e92e20462aaaeed34585eccc985303b.png)

æ— åäºŒç”¨é€”

`height`å’Œ`width`å±æ€§ä»`TwelveOrLess`çš„å®šä¹‰ä¸­è·å–åˆå§‹å€¼ï¼Œè¯¥å®šä¹‰å°†`TwelveOrLess.number`è®¾ç½®ä¸ºé›¶ã€‚å°†æ•°å­— 10 å­˜å‚¨åˆ°`rectangle.height`æˆåŠŸï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå°æ•°å­—ã€‚å°è¯•å­˜å‚¨ 24 å®é™…ä¸Šå­˜å‚¨çš„æ˜¯å€¼ 12ï¼Œå› ä¸º 24 å¯¹äºå±æ€§è®¾ç½®å™¨çš„è§„åˆ™æ¥è¯´å¤ªå¤§äº†ã€‚

> **ä¸Šä¾‹ä¸­å¯¹ number çš„å£°æ˜å°†å˜é‡æ ‡è®°ä¸º privateï¼Œè¿™ç¡®ä¿äº† number ä»…ç”¨äº TwelveOrLess çš„å®ç°ä¸­ã€‚åœ¨å…¶ä»–åœ°æ–¹ç¼–å†™çš„ä»£ç ä½¿ç”¨ wrappedValue çš„ getter å’Œ setter æ¥è®¿é—®å€¼ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ number**

# **ä¾‹:3** ğŸ”¢è®¾ç½®åŒ…è£…å±æ€§çš„åˆå§‹å€¼ğŸ‘·ğŸ‘·

ä¸ºäº†æ”¯æŒè®¾ç½®åˆå§‹å€¼æˆ–å…¶ä»–å®šåˆ¶ï¼Œå±æ€§åŒ…è£…å™¨éœ€è¦æ·»åŠ ä¸€ä¸ªåˆå§‹åŒ–å™¨ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªåä¸º`SmallNumber`çš„`TwelveOrLess`çš„æ‰©å±•ç‰ˆæœ¬ï¼Œå®ƒå®šä¹‰äº†è®¾ç½®æ¢è¡Œå’Œæœ€å¤§å€¼çš„åˆå§‹åŒ–å™¨:

![](img/1ad4bcbd9d1df3e881b990a52514206a.png)

è®¾ç½®åŒ…è£…å±æ€§çš„åˆå§‹å€¼

`SmallNumber`çš„å®šä¹‰åŒ…æ‹¬ä¸‰ä¸ªåˆå§‹å€¼â€”â€”`init()`ã€`init(wrappedValue:)`å’Œ`init(wrappedValue:maximum:)`ã€‚æˆ‘ä»¬å°†çœ‹åˆ°ä¸€ä¸ªæ¥ä¸€ä¸ªçš„ä½¿ç”¨ä¾‹å­ã€‚

**è®©æˆ‘ä»¬ç»§ç»­ç¬¬ä¸€ä¸ª** 1ï¸âƒ£ **åˆå§‹åŒ–å™¨ï¼Œå³:** `**init()**`

![](img/dd76481dd683b4ea948c03815c588a62.png)

ä½¿ç”¨ **init()** è®¾ç½®åˆå§‹å€¼

åŒ…è£…`height`å’Œ`width`çš„`SmallNumber`å®ä¾‹æ˜¯é€šè¿‡è°ƒç”¨`SmallNumber()`åˆ›å»ºçš„ã€‚åˆå§‹åŒ–å™¨ä¸­çš„ä»£ç ä½¿ç”¨é»˜è®¤å€¼ 0 å’Œ 12 è®¾ç½®åˆå§‹åŒ…è£…å€¼å’Œåˆå§‹æœ€å¤§å€¼ã€‚

**ç¬¬äºŒä¸ª** 2ï¸âƒ£ **åˆå§‹åŒ–å™¨å³:** `**init(wrappedValue:)**`

![](img/cf0b108852cf753579085138eec87db9.png)

ä½¿ç”¨`**init(wrappedValue:)**`è®¾ç½®åˆå§‹å€¼

**å½“ä½ ç”¨ä¸€ä¸ªåŒ…è£…å™¨åœ¨ä¸€ä¸ªå±æ€§ä¸Šå†™** `**= 1**` **æ—¶ï¼Œé‚£å°±è½¬åŒ–æˆäº†å¯¹** `**init(wrappedValue:)**` **åˆå§‹åŒ–å™¨çš„è°ƒç”¨ã€‚**åŒ…è£…`height`å’Œ`width`çš„`SmallNumber`å®ä¾‹æ˜¯é€šè¿‡è°ƒç”¨`SmallNumber(wrappedValue: 1)`åˆ›å»ºçš„ã€‚åˆå§‹åŒ–å™¨ä½¿ç”¨è¿™é‡ŒæŒ‡å®šçš„åŒ…è£…å€¼ï¼Œå®ƒä½¿ç”¨é»˜è®¤çš„æœ€å¤§å€¼ 12ã€‚

**ç¬¬ä¸‰ä¸ª** 3ï¸âƒ£ **åˆå§‹åŒ–å™¨å³:** `**init(wrappedValue:maximum:)**`

![](img/32bffe04ade5f85dc242b7f86c9449cb.png)

ä½¿ç”¨`**init(wrappedValue:maximum:)**`è®¾ç½®åˆå§‹å€¼

åŒ…è£…`height`çš„`SmallNumber`å®ä¾‹é€šè¿‡è°ƒç”¨`SmallNumber(wrappedValue: 2, maximum: 5)`åˆ›å»ºï¼ŒåŒ…è£…`width`çš„å®ä¾‹é€šè¿‡è°ƒç”¨`SmallNumber(wrappedValue: 3, maximum: 4)`åˆ›å»ºã€‚

æœ‰å…³æ›´å¤šç»†èŠ‚å’Œå‚è€ƒèµ„æ–™ï¼Œ

[https://docs . swift . org/swift-book/language guide/properties . html](https://docs.swift.org/swift-book/LanguageGuide/Properties.html)