<html>
<head>
<title>Getting Started with Ruby on Rails: build a web app with Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ruby on Rails入门:用Ruby构建web应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/getting-started-with-ruby-on-rails-build-a-web-app-with-ruby-5696277bc39d?source=collection_archive---------3-----------------------#2021-02-12">https://blog.devgenius.io/getting-started-with-ruby-on-rails-build-a-web-app-with-ruby-5696277bc39d?source=collection_archive---------3-----------------------#2021-02-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ccec" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Rails是用Ruby编写的流行的web应用程序开发框架。请继续阅读，我们将介绍Rails并构建第一个web应用程序。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/704a84d98ff0482c44a88f2c252b0277.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OJ4R38Q09RvWPLncejr43A.png"/></div></div></figure><p id="19f7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Ruby on Rails(通常称为Rails)是一个开源的、<strong class="kq io"> web应用开发框架</strong>用Ruby编程语言编写。Rails使web应用程序的编程变得有趣而简单:它允许您编写更少的代码，但完成比大多数框架更多的工作。</p><p id="33ba" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Rails框架是固执己见的，所以它基于这样的假设运行，即有一种“最佳”的方式来制作东西。在本教程中，我们将向您介绍Rails，并向您展示如何制作web应用程序。</p><blockquote class="lk ll lm"><p id="9ff2" class="ko kp ln kq b kr ks jo kt ku kv jr kw lo ky kz la lp lc ld le lq lg lh li lj ig bi translated"><em class="in">要想获得最大的成功，你应该已经掌握了一些Ruby、web开发语言(HTML、CSS和JavaScript)和面向对象编程(OOP)的知识。</em></p></blockquote><p id="4caf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">本教程一目了然:</strong></p><ul class=""><li id="f982" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated">什么是Rails？</li><li id="49d2" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">铁轨的显著特征</li><li id="44e1" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">Rails项目剖析</li><li id="4559" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">如何创建您的第一个Rails应用程序</li><li id="5177" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">MVC和Rails: Hello World</li><li id="d9ec" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">模型和活动记录</li><li id="188a" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">你学习的下一步</li></ul><h1 id="840b" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">什么是Rails？</h1><p id="00e9" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">Rails是一个强大的、非常固执己见的、全栈的web应用框架<strong class="kq io">构建在后端Ruby编程语言之上。由于其创新的功能，如表迁移和支架，它被用来快速构建强大的web应用程序。</strong></p><p id="551d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Rails提供了一个<strong class="kq io">默认结构来组织你的代码</strong>并使工作流程更简单。使用Rails的程序员说这使得软件开发变得更加有趣和简单。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/2aa1764069925d2d621e44d163a7286d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*Zknh-huLl-cQ34yq"/></div></figure><p id="b7a2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Rails开发基于模型-视图-控制器(MVC)架构来组织应用程序编程，并遵循软件开发的不重复(DRY)原则。</p><p id="3d00" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Rails在web应用程序开发领域仍然很受欢迎。Rails是一个非常成熟的框架，有大量活跃的支持。许多公司都在寻找有才华的Rails开发人员，因为这个框架最大限度地减少了应用程序的制作时间。</p><p id="f824" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一些使用Rails的大公司包括AirBnB、GitHub、Basecamp、Shopify、Soundcloud和Goodreads。由于速度快，它在许多初创公司中也很受欢迎。</p><blockquote class="lk ll lm"><p id="1755" class="ko kp ln kq b kr ks jo kt ku kv jr kw lo ky kz la lp lc ld le lq lg lh li lj ig bi translated"><strong class="kq io"> <em class="in">事实:</em></strong><em class="in">Rails开发人员的平均基本工资是116，437美元</em></p></blockquote><h1 id="6650" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">铁轨的显著特征</h1><p id="96dc" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">任何人都可以学习Rails，即使你对Ruby代码的经验有限。Rails是全栈的，提供了许多集成工具来快速创建动态应用程序。以下是让Rails如此强大的一些<strong class="kq io">显著特性</strong>:</p><ul class=""><li id="b907" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated"><strong class="kq io">自动化测试:</strong> Rails提供了内置测试，所以测试用例更容易编写和执行。</li><li id="0e4b" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><strong class="kq io">搭建:</strong>这允许你轻松地创建管理数据的模型、支持用户数据交互的视图，以及管理模型-视图通信的控制器。</li><li id="f2c2" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><strong class="kq io">活动记录:</strong> Rails的运行基于这样一个假设，即您应该确保数据访问逻辑作为对象的一部分，以教育用户如何读写数据库。对象携带持久数据和对该数据进行操作的行为。</li><li id="2ac2" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">Rails社区: Rails有一个非常活跃的社区，它会定期修复和更新。</li><li id="fc39" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><strong class="kq io">约定胜于配置:</strong> Rails认为约定比配置更重要。该框架实际上为您做出决策以提高生产率。</li></ul><h1 id="c467" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">Rails项目剖析</h1><p id="4864" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">为了在构建我们自己的应用程序之前更加熟悉Rails，让我们来看一下任何Rails应用程序的标准文件和目录结构的概要。</p><ul class=""><li id="14de" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">app/</code>:包含核心应用程序代码(控制器、模型、视图、助手、邮件程序、通道、作业和资产)</li><li id="08c5" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">bin/</code>:包含启动、更新、部署或运行Rails应用程序的二进制可执行文件(脚本)</li><li id="12eb" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">config/</code>:包含应用程序、路由、数据库等的配置文件。</li><li id="84a2" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">db/</code>:包含数据库文件、数据库模式和数据库迁移</li><li id="d8d4" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">lib/</code>:包含扩展库模块</li><li id="734f" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">log/</code>:包含应用程序日志文件</li><li id="1436" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">public/</code>:包含可通过浏览器访问的数据(静态文件、编译资产、错误页面等)。)</li><li id="1ea6" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">storage/</code>:包含活动存储文件</li><li id="395a" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">test/</code>:包含应用单元测试、夹具和各种其他测试设备</li><li id="c381" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">tmp/</code>:包含临时文件(如缓存和pid文件)</li><li id="0114" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">vendor/</code>:包含任何第三方代码</li><li id="7818" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">Gemfile</code>:包含应用程序的gem需求，Ruby需要它来运行应用程序</li><li id="9bde" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">Gemfile.lock</code>:包含gem列表，以确保应用程序的所有副本使用相同的版本</li><li id="8737" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">Rakefile</code>:允许命令行定位并运行<code class="fe nd ne nf ng b">rake</code>任务(一个在Ruby中实现的用于任务自动化的Make-like构建工具)</li><li id="e866" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">config.ru</code>:包含用于启动应用程序的基于机架中间件的服务器的配置</li><li id="cd9f" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">package.json</code>:允许你为你的Rails应用指定<code class="fe nd ne nf ng b">npm</code>依赖关系</li></ul><h1 id="c6ea" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">如何创建您的第一个Rails应用程序</h1><p id="fa32" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">如果你还没有，你需要安装Rails。首先检查您的系统是否具备以下先决条件:</p><ul class=""><li id="f886" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated">红宝石</li><li id="589a" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">SQLite3</li><li id="0bbc" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">节点. js</li><li id="6cd2" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">一旦你准备好了，使用RubyGems提供的<code class="fe nd ne nf ng b">gem install</code>命令安装Rails。</li></ul><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="38e5" class="nl mg in ng b gy nm nn l no np">$ gem install rails</span></pre><p id="01fc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后，通过运行以下命令，验证所有安装是否正确:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="b47a" class="nl mg in ng b gy nm nn l no np">$ rails --version</span></pre><p id="196d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">它应该显示类似“Rails 6.0.0”这样的内容。现在你可以创建一个项目了。</p><h2 id="8443" class="nl mg in bd mh nq nr dn ml ns nt dp mp kx nu nv mr lb nw nx mt lf ny nz mv oa bi translated"><code class="fe nd ne nf ng b">New</code>发电机</h2><p id="30c3" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">Rails自带名为<strong class="kq io">生成器</strong>的内置脚本，可以自动创建启动新项目所需的一切。要创建一个新的应用程序，您需要调用<code class="fe nd ne nf ng b">new</code>生成器。</p><p id="2f3e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">请将此视为整个项目的基础。<code class="fe nd ne nf ng b">new</code>生成器在<code class="fe nd ne nf ng b">my_project directory</code>中建立一个带有应用程序结构的项目。</p><p id="7a4c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要使用<code class="fe nd ne nf ng b">new</code>生成器，我们运行以下命令:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="e4a2" class="nl mg in ng b gy nm nn l no np">rails new my_project</span></pre><p id="8d0a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在你应该有一个应用程序。我们现在使用Rails脚本来运行Puma web服务器，它将部署我们的Rails应用程序。我们<code class="fe nd ne nf ng b">cd</code>进入项目文件夹并运行以下命令:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="6ce4" class="nl mg in ng b gy nm nn l no np">rails server</span></pre><p id="af24" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您还可以使用附加参数运行服务器。</p><h1 id="8d39" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">MVC和Rails: Hello World</h1><p id="7aa7" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">让我们和Rail打个招呼。为此，我们需要创建一个视图、路由和带有动作的控制器。Routes会将请求映射到我们的控制器动作。控制器动作处理请求并为我们的视图准备数据。视图只是以我们想要的格式显示我们的数据。</p><p id="59d6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这些特性是Rails MVC设计模式的一部分。</p><p id="f19c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">MVC是一种将程序逻辑分成三个元素的设计模式:模型、视图和控制器。这将应用程序数据和代码分开。Rails将几乎整个模型、视图和控制器逻辑放在服务器端。</p><blockquote class="lk ll lm"><p id="5fb9" class="ko kp ln kq b kr ks jo kt ku kv jr kw lo ky kz la lp lc ld le lq lg lh li lj ig bi translated"><strong class="kq io"> <em class="in">语法:</em> </strong> <em class="in">路由是用Ruby DSL(特定领域语言)编写的规则。控制器本质上只是Ruby类。任何公共方法都是操作。视图是HTML和Ruby中的模板。</em></p></blockquote><p id="1690" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">首先，我们创建一个客户控制器和一个视图。为了创建一个新的控制器，我们在<code class="fe nd ne nf ng b">my_project/:</code>的项目根目录下运行控制器生成器脚本。</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="ba5a" class="nl mg in ng b gy nm nn l no np">rails generate controller Hello index</span></pre><p id="5520" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这创建了一个名为<code class="fe nd ne nf ng b">Hello</code>的控制器和一个名为<code class="fe nd ne nf ng b">index</code>的动作。</p><blockquote class="lk ll lm"><p id="671b" class="ko kp ln kq b kr ks jo kt ku kv jr kw lo ky kz la lp lc ld le lq lg lh li lj ig bi translated"><em class="in">我们的控制器位于这里:</em> <code class="fe nd ne nf ng b"><em class="in">app/controllers/hello_controller.rb</em></code> <em class="in">我们的视图位于这里</em> <code class="fe nd ne nf ng b"><em class="in">app/views/welcome/index.html.erb</em></code> <em class="in">。</em></p></blockquote><h2 id="199f" class="nl mg in bd mh nq nr dn ml ns nt dp mp kx nu nv mr lb nw nx mt lf ny nz mv oa bi translated">嵌入式Ruby</h2><p id="4909" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">上面的<code class="fe nd ne nf ng b">.erb</code>扩展名意味着文件是用<em class="ln">嵌入式Ruby </em>编写的，这是视图模板的默认设置。</p><p id="5306" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在您的<code class="fe nd ne nf ng b">html.erb</code>文件中，您可以使用标签将Ruby代码嵌入到HTML中。</p><ul class=""><li id="69cc" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">&lt;% %&gt;</code>:你可以在这些标签之间插入任何Ruby代码，结果不会插入到你的HTML中。这用于控制流语句。</li><li id="1e0f" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">&lt;%= %&gt;</code>:这个标签之间的Ruby代码在它的位置被插入到HTML中。这用于从模型中检索数据。</li></ul><h1 id="56b0" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">配置视图和路线</h1><p id="747c" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">在<code class="fe nd ne nf ng b">index.html.erb</code>文件中，我们添加了一行:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="6700" class="nl mg in ng b gy nm nn l no np">&lt;h1&gt;Hello World on Rails!&lt;/h1&gt;</span></pre><p id="a44e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这就是将在应用程序的根页面<code class="fe nd ne nf ng b">/</code>上显示的内容。然而，如果我们现在运行应用程序，我们将进入旧页面，因为根目录当前被我们启动程序时创建的页面占用。</p><p id="725b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了改变这一点，我们对我们的<code class="fe nd ne nf ng b">config/routes.rb</code>文件进行了修改。本质上，我们必须告诉文件新主页的位置。</p><blockquote class="lk ll lm"><p id="eaea" class="ko kp ln kq b kr ks jo kt ku kv jr kw lo ky kz la lp lc ld le lq lg lh li lj ig bi translated"><em class="in">您的路由文件将把URL连接到我们的代码，并从您的代码创建路径。</em></p></blockquote><p id="b23e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">定义路由的一般语法如下:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="c43c" class="nl mg in ng b gy nm nn l no np">HTTP_method 'controller_name/action_name'</span></pre><p id="e817" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">出于我们的目的，<code class="fe nd ne nf ng b">controller_name</code>是<code class="fe nd ne nf ng b">hello</code>，我们的action_name是<code class="fe nd ne nf ng b">index</code>。这是一个GET请求的例子。</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="e102" class="nl mg in ng b gy nm nn l no np">get 'hello/index'</span></pre><p id="730d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是，我们正在定义Rails应用程序的根，所以我们的语法是不同的。</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="77a2" class="nl mg in ng b gy nm nn l no np">root 'hello#index'</span></pre><blockquote class="lk ll lm"><p id="8d9b" class="ko kp ln kq b kr ks jo kt ku kv jr kw lo ky kz la lp lc ld le lq lg lh li lj ig bi translated"><em class="in">浏览器使用HTTP方法(GET、PUT、POST、PATCH和DELETE)向Rails应用程序发出请求。这些HTTP方法中的每一个都请求对您的应用程序执行操作。</em></p></blockquote><p id="9708" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">所以，我们的<code class="fe nd ne nf ng b">routes.rb</code>将如下:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="67c0" class="nl mg in ng b gy nm nn l no np">Rails.application.routes.draw do<br/>   get 'hello/index'<br/>   root 'hello#index'<br/>end</span></pre><p id="bb74" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，当我们运行应用程序时，它将显示我们想要的<code class="fe nd ne nf ng b">“Hello World on Rails!”</code>消息。</p><h1 id="50da" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">模型和活动记录</h1><p id="c8f1" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">Rails Model是一个Ruby类，用于添加数据库记录。通常，模型应该提供四个基本功能:</p><ul class=""><li id="7afa" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated"><strong class="kq io">创建:</strong>向记录添加数据的能力</li><li id="f5f9" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><strong class="kq io">读取:</strong>找到已经存储在数据库中的某些特定数据的能力</li><li id="3c63" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><strong class="kq io">更新:</strong>修改一些现有数据的能力</li><li id="65fc" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><strong class="kq io">删除:</strong>删除数据的能力</li></ul><blockquote class="lk ll lm"><p id="17fd" class="ko kp ln kq b kr ks jo kt ku kv jr kw lo ky kz la lp lc ld le lq lg lh li lj ig bi translated"><em class="in">这些功能代表缩写</em> CRUD <em class="in">。</em></p></blockquote><p id="e80f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Rails还使用<strong class="kq io">活动记录框架</strong>来创建和使用我们的模型。这是一个<em class="ln">对象关系映射(ORM)框架</em>，用于将应用程序的对象与关系数据库管理系统(RDBMS)中的表连接起来。</p><p id="f2ed" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">活动记录意味着我们不需要直接编写SQL语句，因此属性的存储和检索要容易得多。<em class="ln">把它想象成你的数据库表和Ruby代码之间的接口。</em></p><h2 id="bdbf" class="nl mg in bd mh nq nr dn ml ns nt dp mp kx nu nv mr lb nw nx mt lf ny nz mv oa bi translated">活动记录的约定</h2><p id="1411" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">活动记录的命名约定如下:</p><ul class=""><li id="87ac" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated"><strong class="kq io">型号/类别:</strong>单数，每个单词的第一个字母大写(例如。销售项目)</li><li id="7cec" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><strong class="kq io">表格/模式:</strong>用下划线分隔单词的复数(例如销售_项目)</li></ul><p id="cad6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们将此应用到我们的应用程序中。假设您正在构建一个宠物店应用程序。我们需要存储每只宠物的详细信息(比如名字和年龄)。我们需要一个数据库和一个模型。</p><p id="23b5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们创建一个新的<code class="fe nd ne nf ng b">pet_store</code>应用程序来更好地理解CRUD。</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="1335" class="nl mg in ng b gy nm nn l no np">rails new pet_store</span></pre><p id="2d96" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要创建新模型，语法如下:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="6468" class="nl mg in ng b gy nm nn l no np">rails generate model ModelName ColumnName:ColumnType ColumnName:ColumnType</span></pre><p id="f12e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，我们运行命令，在我们创建的项目文件夹中生成一个新模型:</p><pre class="kd ke kf kg gt nh ng ni nj aw nk bi"><span id="6d7e" class="nl mg in ng b gy nm nn l no np">rails generate model Pet name:string age:string</span></pre><p id="4bda" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这会生成两个文件:</p><ul class=""><li id="b1ea" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">db/migrate/&lt;date_time&gt;_create_pets.rb</code>:迁移文件</li><li id="b0d9" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated"><code class="fe nd ne nf ng b">app/models/pet.rb</code>:你的模型文件</li></ul><h1 id="5747" class="mf mg in bd mh mi mj mk ml mm mn mo mp jt mq ju mr jw ms jx mt jz mu ka mv mw bi translated">你学习的下一步</h1><p id="49f8" class="pw-post-body-paragraph ko kp in kq b kr mx jo kt ku my jr kw kx mz kz la lb na ld le lf nb lh li lj ig bi translated">恭喜你坚持到最后！现在，您应该已经具备了创建自己的Ruby on Rails应用程序的基础。还有很多东西要学。接下来的步骤是了解:</p><ul class=""><li id="2e9f" class="lr ls in kq b kr ks ku kv kx lt lb lu lf lv lj lw lx ly lz bi translated">Rails中的迁移</li><li id="a5ba" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">模型结构</li><li id="5c7c" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">注释结构</li><li id="2f57" class="lr ls in kq b kr ma ku mb kx mc lb md lf me lj lw lx ly lz bi translated">使用导轨进行测试</li></ul><p id="cc22" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="ln">快乐学习！</em></p></div></div>    
</body>
</html>