<html>
<head>
<title>Exploring Jetpack Compose: The Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索Jetpack撰写:基础</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/exploring-jetpack-compose-the-basics-cfb27264e6c6?source=collection_archive---------3-----------------------#2020-08-31">https://blog.devgenius.io/exploring-jetpack-compose-the-basics-cfb27264e6c6?source=collection_archive---------3-----------------------#2020-08-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="46d9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解Jetpack Compose的基础知识。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e75726010bd5dbaecb1f1606c776c602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-Vw7cn_3Q7wmkWdT"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@rohittandon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Rohit Tandon </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="b1f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Android的下一个重大变化现在处于alpha阶段，所以这可能是开始探索这个库并了解它如何帮助我们轻松编写更好的用户界面的最佳时间。</p><blockquote class="ls lt lu"><p id="c955" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">Jetpack Compose是Android用于构建原生UI的现代工具包。它简化并加速了Android上的UI开发。— <a class="ae kv" href="https://developer.android.com/jetpack/compose" rel="noopener ugc nofollow" target="_blank">正式文件</a>。</p></blockquote><h1 id="e1dc" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">使用Compose的好处</h1><ul class=""><li id="c8f5" class="mr ms iq ky b kz mt lc mu lf mv lj mw ln mx lr my mz na nb bi translated">Jetpack compose使我们不必编写冗长XML文件。可以用更少的声明性代码创建相同的UI。</li><li id="7fd2" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">当应用程序中的数据发生变化时，Jetpack compose会自动处理UI状态的变化。</li><li id="5f60" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">它与我们应用程序中的现有代码兼容。您可以轻松地迁移到compose。</li><li id="4257" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">它内置了对材质设计、动画、黑暗主题等的支持。</li><li id="c0b1" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">它可以直接访问Android平台的API。</li></ul></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="203b" class="lz ma iq bd mb mc no me mf mg np mi mj jw nq jx ml jz nr ka mn kc ns kd mp mq bi translated">项目设置</h1><p id="40d2" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nt lh li lj nu ll lm ln nv lp lq lr ij bi translated">由于Jetpack Compose处于alpha阶段，你需要使用android的最新版本。在android studio的canary版本中，您可以通过选择一个<strong class="ky ir">空合成活动来启动一个合成项目。</strong></p><ul class=""><li id="cd5b" class="mr ms iq ky b kz la lc ld lf nw lj nx ln ny lr my mz na nb bi translated">你的<code class="fe nz oa ob oc b">minSdkVersion</code>应该不低于21。</li><li id="ecdf" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">确保使用kotlin版本<code class="fe nz oa ob oc b">1.4.0</code>或更高版本。</li></ul><p id="c0c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Android studio将自动配置您的项目，通过添加所需的依赖关系到您的应用程序级别<code class="fe nz oa ob oc b">build.gradle</code>来使用compose。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">build.gradle</figcaption></figure><h1 id="ae45" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">一些基本的东西</h1><p id="7d14" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nt lh li lj nu ll lm ln nv lp lq lr ij bi translated">Jetpack Compose完全改变了我们在android中创建用户界面的方式，这意味着我们将不是通过编写<code class="fe nz oa ob oc b">XML</code>而是通过在应用程序代码中描述我们的UI来创建UI。</p><h2 id="10db" class="of ma iq bd mb og oh dn mf oi oj dp mj lf ok ol ml lj om on mn ln oo op mp oq bi translated">可组合函数</h2><p id="2975" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nt lh li lj nu ll lm ln nv lp lq lr ij bi translated">可组合函数是Jetpack Compose的核心。在Jetpack Compose中，您将声明您的应用程序UI组件，如<code class="fe nz oa ob oc b">Button</code>、<code class="fe nz oa ob oc b">TextView</code>、<code class="fe nz oa ob oc b">EditText</code>等。通过创建可组合的函数，而不是在XML文件中编写视图。您可以通过用<code class="fe nz oa ob oc b">@Composable</code>注释标记来创建一个可组合的函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">主活动. kt</figcaption></figure><ul class=""><li id="66ed" class="mr ms iq ky b kz la lc ld lf nw lj nx ln ny lr my mz na nb bi translated"><code class="fe nz oa ob oc b">SayHello()</code>函数是一个标有<code class="fe nz oa ob oc b">@Composable</code>注释的可组合函数。</li><li id="387c" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Text()</code>函数是jetpack compose api中提供的另一个可组合函数。它在活动中创建一个文本元素。</li><li id="7226" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><code class="fe nz oa ob oc b">setContent{ }</code>是jetpack compose提供的一个函数，它将给定的可组合组件组合成给定的活动。传入的composable成为活动的根视图。</li><li id="d414" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">可组合函数只能从其他可组合函数中调用。</li></ul><p id="28e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的代码将在活动的左上角创建一个文本元素。</p><p id="ec9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，您可以使用<code class="fe nz oa ob oc b">Button()</code> composable函数创建一个<code class="fe nz oa ob oc b">Button</code>元素。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><ul class=""><li id="7ce6" class="mr ms iq ky b kz la lc ld lf nw lj nx ln ny lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Buttton()</code>可组合函数为按钮点击事件获取一个<code class="fe nz oa ob oc b">onClick</code>λ。</li><li id="b3e4" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Button()</code>函数为<code class="fe nz oa ob oc b">Button</code>上显示的内容获取另一个lambda，例如文本“Show Toast ”,我们通过用<code class="fe nz oa ob oc b">Text()</code>函数创建一个文本元素来创建它。</li></ul><p id="7cb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的代码在活动的左上角创建了一个按钮。单击该按钮会显示一条提示消息。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h2 id="6eaf" class="of ma iq bd mb og oh dn mf oi oj dp mj lf ok ol ml lj om on mn ln oo op mp oq bi translated">布局</h2><p id="f28b" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nt lh li lj nu ll lm ln nv lp lq lr ij bi translated">如果使用上述<code class="fe nz oa ob oc b">Text()</code>功能创建多个文本元素，它们将出现在彼此之上，因为它们没有与文本元素相关联的布局。jetpack compose api提供了创建布局的函数，以便在活动中垂直或水平堆叠UI元素。</p><p id="3cfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要垂直堆叠元素，需要使用<code class="fe nz oa ob oc b">Column</code>函数，要水平堆叠元素，需要使用<code class="fe nz oa ob oc b">Row</code>函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">主活动. kt</figcaption></figure><ul class=""><li id="c9d7" class="mr ms iq ky b kz la lc ld lf nw lj nx ln ny lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Column</code>函数垂直堆叠元素</li><li id="39a1" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Row</code>函数水平堆叠元素。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/cdc61c15b64819984e6332e9806f0da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*2qQ9X7jd2E4aGY0tb1Tnaw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">文本“星期二”和“下午3:09”水平堆叠</figcaption></figure><h2 id="ac3b" class="of ma iq bd mb og oh dn mf oi oj dp mj lf ok ol ml lj om on mn ln oo op mp oq bi translated">修饰语</h2><p id="6350" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nt lh li lj nu ll lm ln nv lp lq lr ij bi translated">您可以使用修饰符来修饰可组合的。通过使用修改器，你可以改变一个组件的外观，比如添加填充，改变大小，应用重力等等。或者你可以使一个元素可点击、可滚动或可缩放。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">将修饰符应用于文本元素</figcaption></figure><p id="352b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe nz oa ob oc b">Modifier.padding(start = 8.dp)</code>将填充应用到文本元素的开头。</p><h1 id="9fb1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">创建UI组件</h1><p id="f11c" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nt lh li lj nu ll lm ln nv lp lq lr ij bi translated">现在我们将使用上述概念创建一个用户卡UI组件，如<a class="ae kv" href="https://developer.android.com/codelabs/jetpack-compose-layouts" rel="noopener ugc nofollow" target="_blank">官方代码实验室</a>中所述。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/b4ad0ae5921bc1a99de3da004b489ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*W7h2Ym1gmiGeThZYxHphfA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">用户卡UI组件</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">主活动. kt</figcaption></figure><ul class=""><li id="b7cc" class="mr ms iq ky b kz la lc ld lf nw lj nx ln ny lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Row</code>函数水平堆叠用户个人资料图像和姓名。</li><li id="8ea7" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Column</code>函数垂直堆叠用户名和作业。</li><li id="b01f" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><code class="fe nz oa ob oc b">Surface</code>功能充当个人资料图像的占位符。我们可以用<code class="fe nz oa ob oc b">shape</code>和<code class="fe nz oa ob oc b">color</code>属性应用表面的形状和颜色，我们可以用<code class="fe nz oa ob oc b">.preferredSize()</code>修改器设置尺寸。</li><li id="394a" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">您可以通过使用<code class="fe nz oa ob oc b">.padding()</code>修改器添加填充来在个人资料图像和用户细节之间应用间距。</li><li id="0399" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><code class="fe nz oa ob oc b">ProvideEmphasis()</code>为文本元素创建一个强调。</li><li id="fd77" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">您可以使用<code class="fe nz oa ob oc b">.clickable()</code>修改器设置整个组件可点击，并使用<code class="fe nz oa ob oc b">.clip()</code>修改器设置波纹的形状。</li></ul><p id="f506" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结束了。您学习并使用Jetpack compose创建了一个基本的UI组件。在下一篇文章中，我们将学习更多的概念，如应用材质主题和通过在jetpack compose中创建一些屏幕来创建复杂的布局。</p><h1 id="ef4d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">参考</h1><ul class=""><li id="bf15" class="mr ms iq ky b kz mt lc mu lf mv lj mw ln mx lr my mz na nb bi translated"><a class="ae kv" href="https://developer.android.com/courses/pathways/compose" rel="noopener ugc nofollow" target="_blank">构成路径</a></li><li id="e2c5" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><a class="ae kv" href="https://developer.android.com/codelabs/jetpack-compose-basics" rel="noopener ugc nofollow" target="_blank">撰写基础代码实验室</a></li><li id="cff0" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated"><a class="ae kv" href="https://developer.android.com/codelabs/jetpack-compose-layouts" rel="noopener ugc nofollow" target="_blank">合成布局codelab </a></li></ul><p id="5635" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你还在，谢谢你的阅读。</p></div></div>    
</body>
</html>