<html>
<head>
<title>The Shortest way to setup airbyte on Google Cloud Platform Compute Engine (Accessible with mobile phone as well!)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在谷歌云平台计算引擎上设置 airbyte 的最短路径(也可以用手机访问！)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-shortest-way-to-setup-airbyte-on-google-cloud-platform-compute-engine-accessible-with-mobile-ac868f294adc?source=collection_archive---------4-----------------------#2022-10-17">https://blog.devgenius.io/the-shortest-way-to-setup-airbyte-on-google-cloud-platform-compute-engine-accessible-with-mobile-ac868f294adc?source=collection_archive---------4-----------------------#2022-10-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="769e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们都知道在本地设置 airbyte 是一个非常简单的过程，但它是有限的，因为只有你可以访问它，如果你一天不打开你的计算机，数据将不会在你的数据仓库中处理，或者即使你关闭了你的计算机，你将需要再次运行 docker 和所有这些问题</p><p id="93b4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">出于这个原因，我们应该将它部署在一台虚拟机上，它只是一台 24/7 开机的计算机，通过它，我们基本上是在云上运行它，它将像我们使用的任何其他 ETL/ELT 软件一样工作，但您最终将支付比这些工具更少的费用</p><p id="35b6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了这篇文章，我正在 GCP 的<strong class="jm io">计算引擎</strong>上设置 airbyte。我们首先创建一个虚拟机实例，在此基础上创建一个虚拟机，配置如下<strong class="jm io">计算引擎- &gt;虚拟机实例- &gt;创建实例</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/6c7b178727472865ec8baa2e3e6fea86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*rk-1EGbTtxMFLid1LWcrzA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kq"><img src="../Images/40de6e83858fec0c765ffb0549e7e9c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*v8xPxqKnVu3A3HccynSl2w.png"/></div></figure><p id="6ef8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于服务帐户，请使用我在文章中经常提到的具有最高访问权限的帐户(计算管理应该没问题)，区域是可选的，对于我们的工作来说，e2.medium 足够好，因为 airbyte 文档也建议这样做，但是如果处理非常大量的数据，计算能力应该相应地调整，需要注意的一个重要事项是将磁盘大小增加到 30 GB，并允许 HTTP 和 HTTPs 流量，因为这与此方法相关</p><p id="0699" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们设置好 VM 实例(可能需要几分钟)之后，我们只需点击 SSH 按钮就可以连接到它，它将打开一个终端窗口</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi kr"><img src="../Images/951445658f85d3892d95b5e83d9a771e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RLcGKN3-Gz5zfcJCQg3bbg.png"/></div></div></figure><p id="97ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在是复制粘贴这些命令并等待必要的工具安装的时候了</p><ul class=""><li id="f905" class="kw kx in jm b jn jo jr js jv ky jz kz kd la kh lb lc ld le bi translated">安装<code class="fe lf lg lh li b">docker</code></li></ul><pre class="kj kk kl km gt lj li lk ll aw lm bi"><span id="928f" class="ln lo in li b gy lp lq l lr ls"><em class="lt"># In your ssh session on the instance terminal</em><br/>sudo apt-get update<br/>sudo apt-get install -y apt-transport-https ca-certificates curl gnupg2 software-properties-common<br/>curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add --<br/>sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/debian buster stable"<br/>sudo apt-get update<br/>sudo apt-get install -y docker-ce docker-ce-cli containerd.io<br/>sudo usermod -a -G docker $USER</span></pre><ul class=""><li id="76e3" class="kw kx in jm b jn jo jr js jv ky jz kz kd la kh lb lc ld le bi translated">安装<code class="fe lf lg lh li b">docker-compose</code></li></ul><pre class="kj kk kl km gt lj li lk ll aw lm bi"><span id="5f83" class="ln lo in li b gy lp lq l lr ls"><em class="lt"># In your ssh session on the instance terminal</em><br/>sudo apt-get -y install wget<br/>sudo wget https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m) -O /usr/local/bin/docker-compose<br/>sudo chmod +x /usr/local/bin/docker-compose<br/>docker-compose --version</span></pre><p id="b79a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在所有安装完成后输入 logout，然后终端窗口将关闭。再次点击 SSH 按钮，重新打开窗口，一个新的终端窗口将如预期的那样打开。现在，要安装 airbyte，请键入以下命令</p><pre class="kj kk kl km gt lj li lk ll aw lm bi"><span id="b837" class="ln lo in li b gy lp lq l lr ls"><em class="lt"># In your ssh session on the instance terminal</em><br/>mkdir airbyte &amp;&amp; cd airbyte<br/>wget <a class="ae lu" href="https://raw.githubusercontent.com/airbytehq/airbyte/master/{.env,docker-compose.yaml}" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/airbytehq/airbyte/master/{.env,docker-compose.yaml}</a><br/>docker-compose up -d</span></pre><p id="db77" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在在搜索中键入 firewall，然后转到<strong class="jm io"> firewall </strong>和<strong class="jm io">创建一个名为 airbyte 的防火墙规则</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lv"><img src="../Images/86342559063fbe4d14b7cd9d5a9d0fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DT8flYVP6NYoYxlBtRKh6Q.png"/></div></div></figure><p id="00d0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">具有以下配置，然后对于<strong class="jm io"> ipv4 范围</strong>,您可以选择 0.0.0.0/0 的全局范围，也可以在 google 上键入什么是我的 IP，它会是类似 192.168 的内容…..比如一个中间有句号的数字，用最简单的方式解释它，然后复制粘贴到允许的 ip 范围内。通过这种方式，当你连接到当前的 wifi 网络时，你将只能连接到 airbyte，以再次简单地解释它，或者使用 VPN 将你路由到你的网络。所以如果你现在在星巴克连接到他们的网络，不要使用那个 ip，但是当你在家里或办公室的时候，请使用那个 ip！最后，在目标标签中只需输入 airbyte，因为这将用于告诉您的虚拟机该 ip 已被列入白名单</p><p id="139e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建规则后，返回到您的虚拟机实例，单击名称，然后按 edit</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/c6ffaa61b38202656d5b599a18b8522e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*px6H93yui6K4eiW4Hc7V4A.png"/></div></figure><p id="6e91" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在您的网络标签下添加 airbyte 并保存。现在，最后一步只是复制虚拟机实例的外部 IP，并转到该 IP 地址的端口 8000，在那里您将看到 airbyte 应用程序！你应该这样做-</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lx"><img src="../Images/8a60826dd8d8890298fc07ba4a51e377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2XZR9_zidIm0cWbihV8Fbw.png"/></div></div></figure><p id="2826" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以网址会是<a class="ae lu" href="http://EXTERNAL" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">http://外部</strong> </a> <strong class="jm io"> IP:8000/ </strong>就这样吧！你将进入 airbyte 的启动页面，在这里你只需要输入你的电子邮件</p><p id="4820" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您已经成功地在线部署了一个应用程序，并且它将全天候运行，如果您在同一个网络上(并且您请求桌面站点)或者如果您的手机上有 VPN，您甚至可以从您的手机上访问它！立即开始英语教学过程！</p><p id="3c29" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你喜欢我的文章，如果你能在我的<a class="ae lu" href="https://medium.com/@suhasthakral" rel="noopener">媒体账户</a>上给我一个关注，那就太好了</p></div></div>    
</body>
</html>