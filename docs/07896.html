<html>
<head>
<title>How To Deploy Your First Full-Stack Web Application (React, Rails, &amp; Heroku)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何部署您的第一个全栈 Web 应用程序(React、Rails 和 Heroku)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-deploy-your-first-full-stack-web-application-react-rails-heroku-17a799e78bb4?source=collection_archive---------3-----------------------#2022-05-01">https://blog.devgenius.io/how-to-deploy-your-first-full-stack-web-application-react-rails-heroku-17a799e78bb4?source=collection_archive---------3-----------------------#2022-05-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/eaf23c093e140bc64c1bb63a2b57a63e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W9C9ZemTnosSBEN8"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">由<a class="ae jz" href="https://unsplash.com/@lautaroandreani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">劳塔罗·安德烈亚尼</a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="5cec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在成为全栈开发人员的过程中，您不可避免地会做一个(如果不是很多)项目，来帮助巩固您到目前为止所学内容的概念和想法。虽然每一个连续的项目可能感觉你和它的前任处于完全不同的水平，但是项目是一个开发者的工艺之旅的历史书。因此，朋友、家人，最重要的是招聘人员和专业人士喜欢看到你的作品在万维网上发布。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h2 id="9ee7" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">重要说明</h2><p id="2db4" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">本文将详细介绍如何在 Heroku 上部署 React &amp; Ruby on Rails 项目。这个过程是基于这样一个事实，即该应用程序在<strong class="kc io"> localhost </strong>版本上功能齐全。命令本身将是子标题，如果您在上述项目的目录中，它将允许您跳过阅读，只需在您的命令控制台中一步一步地运行每个命令。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h2 id="932b" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">1.npm 运行构建前缀客户端</h2><blockquote class="md me mf"><p id="7b03" class="ka kb mg kc b kd ke kf kg kh ki kj kk mh km kn ko mi kq kr ks mj ku kv kw kx ig bi translated"><code class="fe mk ml mm mn b">npm run build</code>创建一个<code class="fe mk ml mm mn b">build</code>目录，其中包含应用的生产版本。在<code class="fe mk ml mm mn b">build/static</code>目录中是你的 JavaScript 和 CSS 文件。<code class="fe mk ml mm mn b">build/static</code>中的每个文件名将包含文件内容的唯一散列。文件名中的这个散列启用了<a class="ae jz" href="https://create-react-app.dev/docs/production-build#static-file-caching" rel="noopener ugc nofollow" target="_blank">长期缓存技术</a>。</p></blockquote><p id="9bfa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— <a class="ae jz" href="https://create-react-app.dev/docs/production-build" rel="noopener ugc nofollow" target="_blank">通过创建 React 应用程序文档创建生产版本</a></p><p id="d15d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是第一步，因为它不仅创建了代码的生产版本，还将任何其他类型的媒体(如 png 或 gif)转换为浏览器要求的哈希格式。</p><h2 id="f4f4" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">2.mv 客户端/构建/*公共</h2><p id="acfc" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">除非您在 Javascript 或 Reactjs 文件中使用媒体，否则这不是必要的步骤。将您的构建移动到 public 文件夹允许您存储这些媒体的路径，以便浏览器在加载页面时引用。创建 React 应用程序在此处有更详细的介绍:</p><div class="mo mp gp gr mq mr"><a href="https://create-react-app.dev/docs/using-the-public-folder/" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">使用公共文件夹|创建 React 应用程序</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">注意:此功能适用于[电子邮件保护]和更高版本。公共文件夹包含 HTML 文件，因此您可以…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">创建-反应-应用程序.开发</p></div></div><div class="na l"><div class="nb l nc nd ne na nf jt mr"/></div></div></a></div><h2 id="994d" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">3.删除客户端/节点模块/缓存/babel-loader/中的所有内容</h2><p id="f8e8" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">babel loader 是一个 transpiler，允许你预处理文件。这允许您捆绑 JavaScript 之外的任何静态资源。如果已经创建了缓存，那么这意味着您很可能没有使用最新版本的代码，在部署时将会创建一个新的缓存。</p><p id="de0e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">文档可在此处找到:</p><div class="mo mp gp gr mq mr"><a href="https://webpack.js.org/loaders/babel-loader/" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">babel-loader |网络包</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">webpack 是一个模块捆绑器。它的主要目的是捆绑 JavaScript 文件以便在浏览器中使用，但它也…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">webpack.js.org</p></div></div><div class="na l"><div class="ng l nc nd ne na nf jt mr"/></div></div></a></div><h2 id="0ab4" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">4.创建没有文件扩展名的 Procfile</h2><blockquote class="md me mf"><p id="0640" class="ka kb mg kc b kd ke kf kg kh ki kj kk mh km kn ko mi kq kr ks mj ku kv kw kx ig bi translated">Heroku 应用程序包括一个<strong class="kc io"> Procfile </strong>，它指定了应用程序在启动时执行的命令。您可以使用 Procfile 来声明各种<strong class="kc io">流程类型</strong>，包括:</p><p id="ee06" class="ka kb mg kc b kd ke kf kg kh ki kj kk mh km kn ko mi kq kr ks mj ku kv kw kx ig bi translated">-你的应用程序的网络服务器</p><p id="05f2" class="ka kb mg kc b kd ke kf kg kh ki kj kk mh km kn ko mi kq kr ks mj ku kv kw kx ig bi translated">-多种类型的工作进程</p><p id="4dc5" class="ka kb mg kc b kd ke kf kg kh ki kj kk mh km kn ko mi kq kr ks mj ku kv kw kx ig bi translated">-单一进程，例如<a class="ae jz" href="https://devcenter.heroku.com/articles/scheduled-jobs-custom-clock-processes" rel="noopener ugc nofollow" target="_blank">时钟</a></p><p id="b84d" class="ka kb mg kc b kd ke kf kg kh ki kj kk mh km kn ko mi kq kr ks mj ku kv kw kx ig bi translated">-在部署新版本之前运行的任务<a class="ae jz" href="https://devcenter.heroku.com/articles/release-phase" rel="noopener ugc nofollow" target="_blank"/></p></blockquote><p id="fb03" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本例中的 Procfile 将用于在 Heroku 上启动我们的 Rails 服务器。它应该是这样的:</p><figure class="ni nj nk nl gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/6993d1f76df0747a73f9e198e69763f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UjjN6NknoezNyK_-fSBKCg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">Procfile 示例</figcaption></figure><h2 id="98fa" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">5.将段落粘贴到 Procfile 中</h2><blockquote class="nm"><p id="6b9e" class="nn no in bd np nq nr ns nt nu nv kx dk translated">web: bundle exec rails s -p $PORT <br/>版本:bin/rake db:migrate db:seed</p></blockquote><p id="06aa" class="pw-post-body-paragraph ka kb in kc b kd nw kf kg kh nx kj kk kl ny kn ko kp nz kr ks kt oa kv kw kx ig bi translated">这将首先迁移您的表并植入预先制作的数据。然后，它将运行你的 Rails 服务器，供你的网站面向大众使用。我的版本有<code class="fe mk ml mm mn b"><em class="mg">db:seed:replant</em></code>,因为我不得不在更新时重新部署，但不想丢失外部用户的数据。</p><p id="1ddb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从这里开始的过程几乎不需要解释，所以我们将快速完成</p><h2 id="51bc" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">6.heroku 登录</h2><p id="b10c" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">这将把您重定向到 Heroku CLI 进行身份验证。</p><h2 id="5139" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">7.heroku create(项目名称)</h2><p id="295a" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">项目的名称也将是网站发布后的名称。要求全部小写，只有字母和数字。</p><h2 id="926f" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">8.git 添加。</h2><h2 id="1536" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">9.git commit -m“首次构建”</h2><h2 id="d9c5" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">10.git 推送</h2><p id="f5ae" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">这很重要，因为 Heroku 引用 Github 库来制作网站</p><h2 id="aea2" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">11.git push heroku main</h2><p id="a6b7" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">搞定了。</p><h1 id="f404" class="ob lg in bd lh oc od oe lk of og oh ln oi oj ok lq ol om on lt oo op oq lw or bi translated">结论</h1><p id="fb4e" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">一如既往，我希望这个指南对所有部署他们的第一个 React/Rails 应用程序的人有所帮助。我绝不是我的手艺的大师，如果任何人对可以做得更好的事情或者可以使用进一步解释的事情有反馈，我愿意编辑这篇文章。一定要留下评论或者 DM 我。谢谢！</p></div></div>    
</body>
</html>