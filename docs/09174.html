<html>
<head>
<title>List Comprehension (Python) Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">列表理解(Python)解释</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/list-comprehension-python-explained-c0cf1f9591c0?source=collection_archive---------14-----------------------#2022-08-03">https://blog.devgenius.io/list-comprehension-python-explained-c0cf1f9591c0?source=collection_archive---------14-----------------------#2022-08-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/2627d747d135bf83be6f692b66269d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gAz6xYljAuDhIWw_"/></div></div></figure><h1 id="f9ad" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">列表理解(Python)解释</h1><p id="64e3" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">List 是 Python 中最简单也是最常见的数据结构之一。今天在这篇文章中，我们将通过“列表理解”把列表提升到一个新的层次。</p><h1 id="fedc" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">列表理解的最简单形式</h1><p id="01fa" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">这里，我们将使用这个简单的例子来说明什么是列表理解，以及列表理解如何使您的代码更加“优雅”。</p><p id="1daf" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">假设我们想要创建一个列表来存储一系列数字的平方。从逻辑上讲，我们希望创建一个空列表，循环一系列数字，对每个数字求平方，将结果追加到列表中。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="1a26" class="mf jw in mb b gy mg mh l mi mj"># Create an empty list<br/>squares = []<br/></span><span id="9bfc" class="mf jw in mb b gy mk mh l mi mj"># Loop numbers in a range<br/>for i in range(1,11):<br/>    # Square the numbers and append to list<br/>    squares.append(i**2)<br/>    <br/>print(squares)</span></pre><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/18fc8e569f115b5a214ea770292d8bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/0*L-a6_gJbdbiB-cBH"/></div></figure><p id="25e1" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这几行代码可以写成一个清单，如下所示:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="d43c" class="mf jw in mb b gy mg mh l mi mj"># List comprehension<br/>squareComp = [i**2 for i in range(1,11)]<br/>print(squareComp)</span></pre><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/83bd3d040b178fffb4e01b22acb96338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/0*n4ADzSMT5fLMiKaM"/></div></figure><p id="4e10" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这里，squareComp 是一个带有内置 for 循环的列表。这可能是强大的，因为这意味着我们可以将任何 iterable 传递给一个 list comprehension，例如另一个 list。</p><p id="a1a3" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">假设我们想在一个向量中执行乘法。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a5a9" class="mf jw in mb b gy mg mh l mi mj"># Vector v<br/>v = [2,-3,1]<br/></span><span id="0c5e" class="mf jw in mb b gy mk mh l mi mj"># Multiply v explicitly<br/>m = 4*v<br/>print(m)</span></pre><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/b2d81c5d0ab0f2790441e2ccbecdd4bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/0*OQcMcqSTWvw2KYJB"/></div></figure><p id="fc93" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">与字符串相乘类似，3 *“Hello”将输出“HelloHello”。类似地，4*v 会将向量作为一个整体相乘。由于列表是可迭代的，我们可以循环向量中的每个元素，并将结果存储在另一个列表中。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="bf38" class="mf jw in mb b gy mg mh l mi mj"># Vector Multiplication<br/>w = [4*x for x in v]<br/>print(w)</span></pre><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/b93eb41d73bd1903ba68b1a85814c95b.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/0*go3jgE_AxuPbxm5i"/></div></figure><h1 id="e77d" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">列表理解语法</h1><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/ca4f2b5e01b46405d22f9e35bc39aee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9CbIDXThneGYAkls"/></div></div></figure><p id="d5f3" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">要定义一个列表理解，你需要一个表达式。表达式是你想要存储在新列表中的内容。在 squareComp 中，我想存储每个值 I 的平方，其中 I 是每个元素 1 到 10 范围内的数字的集合。</p><h1 id="3232" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">用 IF 子句列出理解</h1><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mq"><img src="../Images/145869e00327bb52afe2c979273201b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0tuZAxbicHrHnbJe"/></div></div></figure><p id="36db" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">注意，语法中不需要使用“for”和“if”，“:”。在传统方法中，“if”在 for 循环中缩进，append 在 if 子句中缩进。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="c066" class="mf jw in mb b gy mg mh l mi mj">numbers = [i for i in range(1,21)] <br/>print("The range given is:",numbers)<br/></span><span id="5d73" class="mf jw in mb b gy mk mh l mi mj"># Conventional approach<br/>even_num = []<br/>for num in numbers:<br/>    if num%2==0:<br/>        even_num.append(num)<br/>print("Even numbers in the range given are:",even_num)</span></pre><p id="2b19" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在列表理解中，我们会简单地在列表理解的末尾加上 if <test>。</test></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="9cf7" class="mf jw in mb b gy mg mh l mi mj"># List comprehension approach<br/>even_numComp = [num for num in numbers if num%2==0]<br/>print("List Comprehension:",even_numComp)</span></pre><h1 id="bc17" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">多重变量</h1><p id="23cb" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">如果你的列表或者其他形式的字典(比如 dictionary)中有超过 1 个变量，该怎么办？简单回答:像在普通 for 循环中那样定义变量。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="df35" class="mf jw in mb b gy mg mh l mi mj"># student[i] is a tuple<br/>student = [("Ali",1998),("Siti",1995),("Lim",1999),("Muthu",2000),("Meng",2003)] <br/></span><span id="547f" class="mf jw in mb b gy mk mh l mi mj">born90s = [name for (name,year) in student if year&lt;2000]<br/>print(born90s)</span></pre><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/9f8ddbd144e40b549132b19867a4533b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SHROvbTjbvJFXnyl"/></div></div></figure><p id="b2a9" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">目前，这就是我们在本文中对列表理解的全部内容。列表理解有更多的问题和更复杂的场景，但是让我们把它们留到下一天。如果你觉得这篇文章对你的连接有帮助，请分享出来，让更多的人可以从中受益。</p><p id="c829" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">这篇文章最初发表在我的<a class="ae ms" href="https://www.linkedin.com/pulse/list-comprehension-python-explained-chee-chuan-foo/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上。关注我获取更多类似的内容！</p><p id="e7bc" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">下周文章再见。谢谢你看完:)</p></div></div>    
</body>
</html>