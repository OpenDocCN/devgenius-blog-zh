<html>
<head>
<title>Charles + Mockoon for iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 版 Charles+mocoon</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/charles-mockoon-for-ios-80cab9eabca6?source=collection_archive---------1-----------------------#2021-12-05">https://blog.devgenius.io/charles-mockoon-for-ios-80cab9eabca6?source=collection_archive---------1-----------------------#2021-12-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7fa1bfed09be7f0d041ca800bf9a62b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GHi84mtontl8XOav_-ICvA.png"/></div></div></figure><p id="ab24" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为一名 iOS 开发人员，准备好大幅提高您的工作效率了吗？我一直在利用这些工具的力量，今天我想和你们分享一下。这篇文章是特别为那些希望在更短的时间内完成更多的开发人员而写的。</p><h1 id="1f27" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">介绍</h1><h2 id="b3a2" class="lu kx iq bd ky lv lw dn lc lx ly dp lg kj lz ma lk kn mb mc lo kr md me ls mf bi translated">什么是 Mockoon？</h2><p id="2b66" class="pw-post-body-paragraph jy jz iq ka b kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ij bi translated">开源项目中的 Mockoon 允许您运行本地主机模拟 API。它有一个 UI 友好的 GUI，可以在其中定义不同的端点和 JSON 响应。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/9620fd1c87cb2e5b0a8bd9e140036ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*1ffxf7GSvWHlLcfe5f-wEA.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">本地主机:3001/狗</figcaption></figure><p id="eaf9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从<a class="ae mu" href="https://mockoon.com" rel="noopener ugc nofollow" target="_blank">这里</a>下载并试用。</p><h2 id="6818" class="lu kx iq bd ky lv lw dn lc lx ly dp lg kj lz ma lk kn mb mc lo kr md me ls mf bi translated">查尔斯是什么？</h2><blockquote class="mv mw mx"><p id="72ce" class="jy jz my ka b kb kc kd ke kf kg kh ki mz kk kl km na ko kp kq nb ks kt ku kv ij bi translated">Charles 是一个 HTTP 代理/ HTTP 监控/反向代理，使开发人员能够查看他们的机器和互联网之间的所有 HTTP 和 SSL / HTTPS 流量。</p></blockquote><p id="a432" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">简而言之，charles 能够从你的模拟器中发现所有的网络呼叫。但是<em class="my"> </em>并不是唯一的刺探。</p><p id="e429" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Charles 让您能够干预 API 调用并返回您的 JSON 响应，而不是真正的 API 服务器响应。Simulator 认为它正在从真实的 API 获得响应，即使您使用 charles 更改了它。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/b53b994fe4a1ce4666413a82050ecd64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ab9BkovW949lpkV64qIjw.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated"><strong class="bd ky">不用</strong>使用查尔斯①</figcaption></figure><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/4790da0c3bf5e8595b115dd7974c1c38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfaKWV_638u1YrsP36H5UA.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">和查尔斯一起🎉 (2)</figcaption></figure><p id="6d4c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">灵感来源于他在图中的位置，也叫作中间人。</p><p id="07e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有趣的是，用于 API 调用的应用程序代码库并没有改变。应用程序认为它正在与真正的 API 服务器对话，而这并没有发生。</p><p id="a28d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Charle 关于如何处理传入的 API 调用的决定是由开发人员来处理的。它被称为<strong class="ka ir">映射</strong>，您可以使用:</p><ol class=""><li id="d141" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv nj nk nl nm bi translated"><strong class="ka ir">映射本地文件</strong> (Charles 将提供您设置的本地 json 文件的内容)</li><li id="2fab" class="ne nf iq ka b kb nn kf no kj np kn nq kr nr kv nj nk nl nm bi translated"><strong class="ka ir"> Map Remote </strong> (Charles 不会调用真正的 API 服务器，而是调用另一个服务器，当它得到响应时，它会将响应返回给它)</li><li id="5dfe" class="ne nf iq ka b kb nn kf no kj np kn nq kr nr kv nj nk nl nm bi translated"><strong class="ka ir">无</strong>(你不用为此做什么。就像图<em class="my"> (1) </em>)</li></ol><p id="28c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从<a class="ae mu" href="https://www.charlesproxy.com/download/" rel="noopener ugc nofollow" target="_blank">这里</a>了解更多关于查尔斯的信息。</p><p id="85d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">介绍完了，让我们看看真正的力量🚀</p><h1 id="f92f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结合查尔斯+莫克 oon</h1><h2 id="dffe" class="lu kx iq bd ky lv lw dn lc lx ly dp lg kj lz ma lk kn mb mc lo kr md me ls mf bi translated"><strong class="ak">好处:</strong></h2><ol class=""><li id="7756" class="ne nf iq ka b kb mg kf mh kj ns kn nt kr nu kv nj nk nl nm bi translated">测试依赖于 API 响应的应用程序的不同状态<strong class="ka ir">快得惊人</strong>。</li><li id="eea0" class="ne nf iq ka b kb nn kf no kj np kn nq kr nr kv nj nk nl nm bi translated">即使 API 还没有准备好或不稳定，也能从事项目工作。</li><li id="62d2" class="ne nf iq ka b kb nn kf no kj np kn nq kr nr kv nj nk nl nm bi translated">间谍网络调用和增强您的调试技能。</li><li id="3793" class="ne nf iq ka b kb nn kf no kj np kn nq kr nr kv nj nk nl nm bi translated">在 Mockoon 文件夹中组织和保存所有不同的 API 调用。</li><li id="1407" class="ne nf iq ka b kb nn kf no kj np kn nq kr nr kv nj nk nl nm bi translated">节流或延迟 API 调用🧪的能力</li></ol><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/e4e358c51ef7903f8b3d229445316d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QrkE6pyCMxLRA42CAoDQYw.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">查尔斯+莫克顿</figcaption></figure><p id="6f91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看一个例子。</p><pre class="mm mn mo mp gt nw nx ny nz aw oa bi"><span id="e313" class="lu kx iq nx b gy ob oc l od oe">protocol OfferServiceProtocol {<br/>    func fetchAllOffers() -&gt; [Offer]<br/>    func renewOffer(id: String) -&gt; Bool<br/>}</span><span id="7cc5" class="lu kx iq nx b gy of oc l od oe">class OfferService: OfferServiceProtocol {<br/>// Let's assume here Alamofire or URLSession used to make the calls<br/>// ...<br/>}</span></pre><p id="e9c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设您正在开发一个复杂的 ViewController，它根据 API 调用响应在 UI 上有所不同。你已经实现了其中的大部分，你想把它们展示给你的队友，你会怎么做？</p><ul class=""><li id="b884" class="ne nf iq ka b kb kc kf kg kj ng kn nh kr ni kv og nk nl nm bi translated">有人可能只是进入代码，做一点小小的改变来强制实现想要的 UI(厌倦了等待构建完成)。</li></ul><p id="801f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是完全不接触 XCode，只需点击一个按钮就能改变 API 调用响应，这不是很完美吗？</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/0dd45f47b5908f2f8c62db0c07107972.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*t_-tKoUjpDAfJn0U5YHnPQ.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">fetchAllOffers()的不同响应</figcaption></figure><p id="11f8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样你就能看到 UI 之间惊人的差异。</p><blockquote class="mv mw mx"><p id="e8fe" class="jy jz my ka b kb kc kd ke kf kg kh ki mz kk kl km na ko kp kq nb ks kt ku kv ij bi translated"><strong class="ka ir">提示:</strong>看到有一个<em class="iq">服务器宕机了。</em>我用它来看看 API 返回 500 内部服务器错误时 app 的反应。</p></blockquote><p id="ea10" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就这样了，伙计们！Charles 和 Mockoon 在我的 iOS 职业生涯中节省了我大量的开发时间，它们已经成为我工作工具中不可替代的一部分。我希望他们也能为你节省一些时间。时间=💰</p></div><div class="ab cl oi oj hu ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ij ik il im in"><p id="be57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="my">更多内容尽在</em><a class="ae mu" href="http://blog.devgenius.io" rel="noopener ugc nofollow" target="_blank"><em class="my">blog . devgenius . io</em></a><em class="my">。</em></p></div></div>    
</body>
</html>