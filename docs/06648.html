<html>
<head>
<title>Kafka with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡夫卡与蟒蛇</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/kafka-with-python-4eb017b41e83?source=collection_archive---------3-----------------------#2022-01-23">https://blog.devgenius.io/kafka-with-python-4eb017b41e83?source=collection_archive---------3-----------------------#2022-01-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/a013468736d79e77d8e8773c28630701.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*Wtu5IgmkdZIU_PQJL8brqg.jpeg"/></div></figure><p id="0c84" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">本文旨在概述 Apache Kafka 的核心概念，并使用 python 编写简单的生产者和消费者程序。</p><h1 id="aba8" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">卡夫卡是什么？</h1><p id="b457" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">Kafka 是一个连接每个人和每个事件的单一平台。简单来说，一个事件流平台。事件可以是鼠标点击、向购物车添加商品或下载文件。</p><h1 id="9e0d" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">卡夫卡建筑</h1><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi ls"><img src="../Images/8d71dcfc8e930f42c2bac966ab9f321f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xD21zmTiOqiIpV6zfsWgJw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">卡夫卡建筑</figcaption></figure><ul class=""><li id="f6bb" class="mf mg in jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">本文旨在概述 Apache Kafka 的核心概念，并使用 python 编写简单的生产者和消费者程序。<strong class="jt io">代理- </strong> Kafka 集群由多个代理组成，每个代理都有自己的本地存储和保留时间。一个代理可以有多个主题</li><li id="98bc" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated"><strong class="jt io">主题</strong>——相关消息或事件的集合</li><li id="9c46" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated"><strong class="jt io">分区</strong>——题目被分成分区。它是保存主题所拥有的消息子集的最小存储单元。每个分区都是一个日志文件，消息以附加方式写入其中</li></ul><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/cce706113f65f4b7d56d60352d0afe69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*g0BITDxBLNXLl-sOqlRQKA.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">分布在 2 个代理上的 2 个主题的分区</figcaption></figure><ul class=""><li id="708d" class="mf mg in jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated"><strong class="jt io">生产者</strong>——向一个或多个主题撰写或推送消息</li><li id="6d82" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated"><strong class="jt io">消费者</strong>-阅读或提取一个或多个主题的信息</li><li id="fc91" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated"><strong class="jt io">动物园管理员</strong>-它管理和协调卡夫卡经纪人</li></ul><h1 id="6621" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">入门指南</h1><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mu"><img src="../Images/dc861a508f7d4204366b5e7da9484909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IxmkzxknpZwjdhHtuyUG3g.png"/></div></div></figure><p id="486c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们将创建一个简单的项目，它由一个生产者和一个消费者组成。制作者的功能是将出现在<em class="mv">服务器</em>文件夹中的图像移动到<em class="mv"> local_dir </em>文件夹中，然后将消息推入/写入主题<em class="mv">媒体中。</em>消费者阅读来自<em class="mv">媒体</em>主题的信息。</p><h1 id="d607" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">1 .装置</h1><ul class=""><li id="e58d" class="mf mg in jt b ju ln jy lo kc mw kg mx kk my ko mk ml mm mn bi translated"><a class="ae mz" href="https://kafka.apache.org/downloads" rel="noopener ugc nofollow" target="_blank">下载</a>阿帕奇卡夫卡</li><li id="888d" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">安装库<a class="ae mz" href="https://pypi.org/project/kafka-python/" rel="noopener ugc nofollow" target="_blank"> kafka-python </a></li></ul><h1 id="8f8a" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">2.密码</h1><p id="3feb" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">创建两个名为<em class="mv"> server </em>和<em class="mv"> local_dir </em>的文件夹。下载一些示例图像并放在服务器文件夹中。</p><ul class=""><li id="8293" class="mf mg in jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">生产者代码</li></ul><figure class="lt lu lv lw gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><ul class=""><li id="ca76" class="mf mg in jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">消费者代码</li></ul><figure class="lt lu lv lw gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><h1 id="088e" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">3.奔跑</h1><ul class=""><li id="1329" class="mf mg in jt b ju ln jy lo kc mw kg mx kk my ko mk ml mm mn bi translated">启动动物园管理员和卡夫卡。在单独的终端中运行这些命令</li></ul><pre class="lt lu lv lw gt nc nd ne nf aw ng bi"><span id="ff00" class="nh kq in nd b gy ni nj l nk nl">bin/zookeeper-server-start.sh config/zookeeper.properties<br/>bin/kafka-server-start.sh config/server.properties</span></pre><ul class=""><li id="d529" class="mf mg in jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">首先运行生产者程序，然后运行消费者程序</li><li id="09b3" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">验证使用者打印了由生产者编写的消息</li></ul><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi nm"><img src="../Images/8dbfad5df5d0e485a8db352851b74024.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*63qH6wNWbYd8jAWQFxOBxQ.png"/></div></div></figure><h1 id="6e43" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结论</h1><p id="eb4a" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">在这个故事中，我们看到了 Apache Kafka 的核心概念，并通过三个简单的步骤创建了一个由一个生产者和一个消费者组成的简单项目。希望你已经理解了卡夫卡的概念。</p><p id="6999" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">感谢阅读！</p><p id="d76a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><a class="ae mz" href="https://github.com/ashish-mj/kafka_basic" rel="noopener ugc nofollow" target="_blank"> Github </a> <a class="ae mz" href="https://ashishmj.vercel.app/" rel="noopener ugc nofollow" target="_blank">网站</a> <a class="ae mz" href="https://www.linkedin.com/in/ashish-mj/" rel="noopener ugc nofollow" target="_blank">领英</a></p></div></div>    
</body>
</html>