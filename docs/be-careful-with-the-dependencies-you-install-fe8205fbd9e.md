# 小心您在 JavaScript 框架中安装的依赖项

> 原文：<https://blog.devgenius.io/be-careful-with-the-dependencies-you-install-fe8205fbd9e?source=collection_archive---------6----------------------->

一切都很好，直到你的后背被严重程度为 1 的阻滞药碰壁。

![](img/3d01915ba28d16af11cb4022396bb8f1.png)

## 故事时间:

我是公司的技术负责人，我们必须确保的一部分是确保给我们的截止日期，在团队中分配工作，这样一个人会感觉被忽略了，并保持代码的质量/标准。

每当我们试图在这些方面走捷径时，公司最终都不得不承受某种损失，这是我们的责任，以确保在任何情况下都不会出现这种情况。

如今，人们使用跨平台的应用程序来确保最大限度地接触他们的开发者。当你的 web 应用程序应该与每个开发者的噩梦一起工作时，这可能会很快升级为非常重要。

**发生了什么，拦截器是什么？**

我们有一个功能，它非常依赖于以特定的标准、特定的格式和样式创建 excel 报表。

我们不得不联系 npm 来寻找一个合适的库，因为我们相信对于一个大部分时间都局限于一个功能集的模块来说，不要重新发明轮子，这会导致在紧迫的时间期限内实现次优。

这是我们发现 **exceljs** 的时候，所以我们用同样的方法解决了一些错误，并推送到 uat。

现在，当推进到 UAT 时，我们意识到一个客户正在使用 Internet Explorer，应用程序完全空白。

一个是由于**钩子形式的**库，幸运的是它有一个 transpiled es5 版本，我在我们的 webpack 中设置了一个**别名**,以便在任何时候请求该库或在我们的代码中引用该库时使用 transpiled 的目录。

这解决了我们使用表单的问题，但是我们使用 exceljs 就没那么幸运了，尽管库有一些方法来处理这个问题，但是在 Internet explorer 中，我们还是不断地得到奇怪的错误，不管我们做了什么，大部分时间几乎没有信息和简单的语法错误。

## 我们的最后时刻解决方案:

我们没有足够的时间来集成任何其他库，因为我们严重依赖它，并且不容易抛弃它。

第一件事是卸载这个库，至少看到 react UI，它几乎是空白的。

然后，我们在应用程序的 index.html 中使用 CDN 导入这个库。

## **现在的变通办法:)**

```
const isIE = /*@cc_on!@*/ false || !!document.documentMode;
```

我们使用这个条件来识别 internet explorer，然后有条件地隐藏并且不显示这个特性，只在 internet explorer 中给出使用现代浏览器的警告，就是这样。

我原封不动地保留了应用程序的主要功能。

在此期间，我还在 babel 插件、Webpack 和 pollyfills 的帮助下修改了几个其他的小问题，但最终一切顺利。

## **关键要点:**

在将依赖项集成到项目中之前，请务必阅读 GitHub、Stack overflow 等上的依赖项和论坛的文档。

最初投入几分钟可以让你最终省去很多麻烦。

请继续关注更多真实世界的编程问题、它们的解决方案以及总体最佳实践。

和平！！

![](img/a533b7652c0ee61f008bb1262ec5e1b9.png)

马特·博茨福德在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片