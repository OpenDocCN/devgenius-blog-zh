<html>
<head>
<title>Azure Static Web App — Developer Machine Setup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure 静态 Web 应用程序—开发人员机器设置</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/azure-static-web-app-local-setup-818b1c45fed?source=collection_archive---------8-----------------------#2022-11-21">https://blog.devgenius.io/azure-static-web-app-local-setup-818b1c45fed?source=collection_archive---------8-----------------------#2022-11-21</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><p id="2a4d" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">过去几天，我一直在撰写大量关于 Azure 静态 web 应用的文章。在我以前的文章中，我写过以下主题:</p><ul class=""><li id="c033" class="km kn ir jq b jr js jv jw jz ko kd kp kh kq kl kr ks kt ku bi translated"><a class="ae kv" href="https://tarunbhatt9784.medium.com/azure-static-web-app-azurerm-static-site-ac2b13369fbe?sk=d528089f68459a3626885795611e29fe" rel="noopener">使用 Terraform-Azure RM _ Static _ site 创建 Azure 静态 Web 应用</a></li><li id="c6d4" class="km kn ir jq b jr kw jv kx jz ky kd kz kh la kl kr ks kt ku bi translated"><a class="ae kv" href="https://tarunbhatt9784.medium.com/azure-static-app-deploy-changes-using-azure-devops-2f65840b956e?sk=3fc51453b74b6a5920dd0e5afff4bd07" rel="noopener">Azure Static App——使用 Azure DevOps 部署变更</a></li><li id="f001" class="km kn ir jq b jr kw jv kx jz ky kd kz kh la kl kr ks kt ku bi translated"><a class="ae kv" href="https://tarunbhatt9784.medium.com/azure-static-web-app-save-management-token-to-keyvault-using-terraform-ccf1a344e38e?sk=5aa3f1b3d1dea5fb71ad2a7241291cec" rel="noopener"> Azure 静态 Web App——使用 Terraform 将部署令牌保存到 key vault</a></li><li id="f0af" class="km kn ir jq b jr kw jv kx jz ky kd kz kh la kl kr ks kt ku bi translated"><a class="ae kv" href="https://tarunbhatt9784.medium.com/azure-devops-pipeline-for-azure-static-web-app-fetch-deployment-token-from-key-vault-21aa75e3cb30?sk=473a4fb08fd965ce814fb166d7e46165" rel="noopener"> Azure 静态 Web 应用的 Azure DevOps 管道—从密钥库中获取部署令牌。</a></li></ul><p id="d58d" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">本文将展示如何为调试和测试建立本地开发环境。我们将在这里重用<a class="ae kv" href="https://github.com/staticwebdev/react-basic/generate" rel="noopener ugc nofollow" target="_blank">讨论的 react 应用程序框架。</a></p><h1 id="e4b3" class="lb lc ir bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">安装软件包</h1><p id="0abd" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">首先，我们将安装 package.json 中列出的 NPM 软件包</p><pre class="me mf mg mh gu mi mj mk bn ml mm bi"><span id="6cab" class="mn lc ir mj b be mo mp l mq mr">npm install</span></pre><figure class="me mf mg mh gu mt gi gj paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gi gj ms"><img src="../Images/e2cfeb48a0a1d04516861dc9cfe88161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V_XVfbZpprJgy-5bBgYAyw.png"/></div></div></figure><h1 id="e523" class="lb lc ir bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">测试静态页面</h1><p id="b8c5" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">运行 npm start 命令来测试静态页面。应用程序将在<a class="ae kv" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>上打开。</p><figure class="me mf mg mh gu mt gi gj paragraph-image"><div class="gi gj na"><img src="../Images/1566afa9b23d0246442d4165dd004abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*hmv1hOZ9Vns1GAR6f3EQmg.png"/></div></figure><p id="98f8" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">即使页面显示正确，我们也无法使用 npm start 测试完整的静态 web 应用程序。一个生产就绪的应用程序将具有许多其他集成，如路由、身份验证和授权，而 npm start 在这些集成方面做得不够。</p><p id="533b" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">在接下来的文章中，您将看到更多这方面的证据，我将使用身份提供者配置身份验证和授权。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="2edd" class="lb lc ir bd ld le ni lg lh li nj lk ll lm nk lo lp lq nl ls lt lu nm lw lx ly bi translated">Azure 静态 Web 应用模拟器</h1><p id="4dfb" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">Azure 为成功运行应用程序提供了许多现成的集成。在本地工作站上编码时，这些集成是不存在的。<a class="ae kv" href="https://learn.microsoft.com/en-us/azure/static-web-apps/local-development#how-it-works" rel="noopener ugc nofollow" target="_blank"> Azure Static web app simulator 有助于模仿本地工作站上的那些集成</a>。这些集成包括:</p><ul class=""><li id="0e4a" class="km kn ir jq b jr js jv jw jz ko kd kp kh kq kl kr ks kt ku bi translated">静态 web 应用程序</li><li id="be5e" class="km kn ir jq b jr kw jv kx jz ky kd kz kh la kl kr ks kt ku bi translated">Azure 函数 API</li><li id="e742" class="km kn ir jq b jr kw jv kx jz ky kd kz kh la kl kr ks kt ku bi translated">认证和授权服务</li><li id="2de8" class="km kn ir jq b jr kw jv kx jz ky kd kz kh la kl kr ks kt ku bi translated">路由和配置服务</li></ul><p id="441f" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">我们必须在 app 目录下安装 CLI 工具，才能使用静态 web app 模拟器。运行以下命令安装 CLI 工具:</p><pre class="me mf mg mh gu mi mj mk bn ml mm bi"><span id="7105" class="mn lc ir mj b be mo mp l mq mr">npm install @azure/static-web-apps-cli</span></pre><figure class="me mf mg mh gu mt gi gj paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gi gj ms"><img src="../Images/fe150ae5863e1224e00ea955442f6d93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YK6_eYzFbQeWbJJYY37wZg.png"/></div></div></figure><h1 id="4d9b" class="lb lc ir bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">初始化静态 web 应用程序</h1><p id="1756" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">安装 CLI 是不够的。下一步是使用 CLI 工具配置项目。初始化 CLI 工具的命令如下:</p><pre class="me mf mg mh gu mi mj mk bn ml mm bi"><span id="368f" class="mn lc ir mj b be mo mp l mq mr">Swa init</span></pre><figure class="me mf mg mh gu mt gi gj paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gi gj nn"><img src="../Images/dd39d6b0fc1e29eb5fde488f1d2d059a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0yo0P-ctXRl7wgeD9_h8w.png"/></div></div></figure><p id="1494" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">该命令将询问配置名称，检测您的项目设置和使用的框架，并在当前目录下创建一个 swa-cli.config.json 文件。</p><p id="352d" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">Swa-cli.config.json 文件如下所示:</p><figure class="me mf mg mh gu mt gi gj paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gi gj no"><img src="../Images/c638478e14756805ed2dae0e4640287c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XOG6NtTxHc2oSSfOpdvsLQ.png"/></div></div></figure><h1 id="04ee" class="lb lc ir bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">启动静态 web 应用程序</h1><p id="911c" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">下一步也是最后一步是<a class="ae kv" href="https://azure.github.io/static-web-apps-cli/docs/cli/swa-start/" rel="noopener ugc nofollow" target="_blank">使用 CLI 工具启动静态 web 应用程序，并将其绑定到开发服务器</a>。</p><pre class="me mf mg mh gu mi mj mk bn ml mm bi"><span id="684c" class="mn lc ir mj b be mo mp l mq mr">Swa start</span></pre><p id="86d5" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">我们可以通过点击 URL<a class="ae kv" href="http://localhost:4280" rel="noopener ugc nofollow" target="_blank">http://localhost:4280</a>来测试应用程序</p><figure class="me mf mg mh gu mt gi gj paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gi gj nn"><img src="../Images/2b400d7b8e27ef6d8cc7b914c572cd9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nGau2rESVmxOImA4QOT0zg.png"/></div></div></figure><p id="3b93" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">我们可以点击 URL<a class="ae kv" href="http://localhost:4280" rel="noopener ugc nofollow" target="_blank">http://localhost:4280</a>来测试应用程序。在我的下一篇文章中，我将展示 swa CLI 工具在使用不同的自定义身份提供者开发身份验证和授权方面的强大功能。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><p id="0b8f" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">页（page 的缩写）s-Medium 是一个阅读、写作和向其他作者学习的绝佳平台。如果你想加入我的旅程，今天就加入<a class="ae kv" href="https://tarunbhatt9784.medium.com/membership" rel="noopener"> medium </a>。</p></div></div>    
</body>
</html>