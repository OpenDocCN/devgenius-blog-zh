<html>
<head>
<title>Xcode Templates Tutorial for iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 版 Xcode 模板教程</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/xcode-templates-tutorial-for-ios-44951449ee8b?source=collection_archive---------5-----------------------#2022-09-26">https://blog.devgenius.io/xcode-templates-tutorial-for-ios-44951449ee8b?source=collection_archive---------5-----------------------#2022-09-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="15ff" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不再需要手动创建您的文件和最佳方式遵循一个模式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2178998a9bad88dacdffc2411fd533eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iuZwt5ZRds6Oyfo5QyemDA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://www.pexels.com/photo/apple-laptop-notebook-office-39284/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">像素</a>的<a class="ae kv" href="https://www.pexels.com/@pixabay?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</figcaption></figure><p id="b360" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，我们将看到如何为 Xcode 创建一个自定义模板，以便一键创建多个文件。出于教学目的，我们将为<strong class="ky ir"> MVVM </strong>模式创建一个模板。</p><p id="aee1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于 MVVM 模式，我们需要一个模型一个视图(控制器)和一个视图模型，所以我们将创建一个模板，创建所有的文件和文件夹，以便更好地组织我们的代码，但也节省时间。</p><h1 id="33c4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">创建自定义模板</h1><p id="19c0" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，我们需要找到模板在 Xcode 中的位置。你需要进入应用程序文件夹，右击 Xcode。选择<strong class="ky ir">显示包装内容。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/9e9cfedd09c6332a4fc923bf0e609b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*7jwd0M1424NUIspNrEMq2w.png"/></div></figure><p id="0cf7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，沿着文件夹中的路径找到您的自定义模板:</p><p id="2a2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">内容- &gt;开发者- &gt;库- &gt; Xcode - &gt;模板- &gt;文件模板</strong></p><p id="5edf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">内部文件模板创建您自己的文件夹。对于本教程，我们将其命名为“<strong class="ky ir">自定义模板</strong>”(你可以随意命名)</p><p id="ebad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您注意到其他模板，它们有一个扩展名<strong class="ky ir">。xctemplate </strong>，所以我们需要类似的东西。在您的自定义模板文件夹中导航，并创建一个新文件夹。我们将称之为<strong class="ky ir"> MVVM.xctemplate </strong></p><p id="197d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在导航到你的 MVVM.xctemplate 文件夹，这里我们需要创建一个<strong class="ky ir"> TemplateInfo.plist </strong>文件，以便 Xcode 识别我们的模板。您可以将此文件复制/粘贴到任何其他模板，然后我们需要替换文本。现在打开 TemplateInfo.plist 文件，将文本替换为以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="a300" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个 XML plist 文件中，您需要注意两个值。一个是<strong class="ky ir"> Xcode。IDEKit . text substitution filetemplatekind</strong>which<strong class="ky ir"/>我们声明模板的<strong class="ky ir">种类</strong>和<strong class="ky ir">名称</strong>对我们来说就是“模块名称”，当你在创建文件之前要给它起一个名字的时候就会显示出来。注意，模板名是我们给文件夹起的名字，扩展名为<strong class="ky ir">xctemplate</strong>“MVVM”。</p><p id="946d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在继续下一步之前，让我们检查 Xcode 是否能识别您的自定义模板。创建一个新项目或打开一个现有的项目，进入<strong class="ky ir">文件- &gt;新建- &gt;文件</strong>和<strong class="ky ir"> </strong>向下滚动，找到带有您的 MVVM 模板的<strong class="ky ir">自定义模板</strong>部分。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/6d889c7c9d9891872063ebfe3b17bd90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2c-UM7HrH9uERiBVYyj7lg.png"/></div></div></figure><p id="9f2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">到目前为止一切顺利！不要选择 MVVM 模板，我们需要在此之前修复一些东西(不要担心，这不是一个漫长的过程)。让我们继续为不同类型的文件(模型、视图、视图模型)创建模板</p><h1 id="b010" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">创建模板的结构</h1><p id="fd81" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在这一步，想一想你想如何组织你的应用程序。假设我们需要创建一个名为“Settings”的新特性。在我的项目中，我通常创建一个名为“Settings”的文件夹，我们可以在其中创建一个包含 ViewControllers、Model 和 ViewModel 的文件夹(有些人喜欢将视图与 ViewController 分开，在这种情况下，您需要为视图创建一个额外的文件)。</p><p id="6587" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的例子中，我们在 3 个不同的文件夹中有 3 个文件。所以我们需要这样的东西:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/643fc065dd52ad2f57008de0e7e0388e.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*n3h1rxqJ_lmB3IOLO4goiA.png"/></div></figure><p id="3e1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好了，现在让我们创建模板的结构。</p><p id="2999" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导航到您的 MVVM.xctemplate，其中也有 TemplateInfo.plist 文件，并创建一个名为<strong class="ky ir">_ _ _ file basename _ _</strong>的新文件夹</p><p id="2534" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们确实需要这个文件夹名称，因为它是一个文本宏，Xcode 从产品名称中导出文件夹的名称，当我们从 Xcode 中选择模板时，我们将键入该名称(不要担心，它是动态的，每次我们放置一个新名称时都会发生变化，我们将在后面看到)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/f7647442de322bc6af93086902effdbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*Vb_kmwursfwX9oSruVVIsw.png"/></div></figure><p id="ea37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<strong class="ky ir">_ _ _ file basename _ _</strong>文件夹<strong class="ky ir"> </strong>和<strong class="ky ir"> </strong>中导航，创建您需要的文件夹。在我们的例子中是控制器、模型和视图模型，但是你可以选择你自己的结构。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/7b14a81a61a8660d14ad0ac833289059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*l5PqlKXJZyVymO3x9MFCCw.png"/></div></figure><p id="044d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们完成了文件夹的结构。现在我们需要为每个将被自动创建的文件创建一个模板。</p><h1 id="28b1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">ViewController 模板</h1><p id="de19" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">导航到您的控制器文件夹并创建一个名为<strong class="ky ir">_ _ _ file basename _ _ _ view Controller . swift</strong>的. swift 文件</p><p id="e190" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这样，当您创建名为“Settings”的模块时，该文件将自动转换为 SettingsViewController.swift，因为 __FILEBASENAME__ 将被替换为实际名称。</p><p id="3dd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开刚刚创建的文件，插入以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="782e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您愿意，可以在这里使用自己的代码。在我们的教程中，我们声明了一个扩展 UIViewController 的类(名称会自动填充),我们只需在 viewDidLoad 方法中初始化 viewModel。如果您的 viewController 中有更多的标准项目，请随意添加您想要的任何内容。</p><p id="e6ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们对模型文件做同样的事情</p><h1 id="2513" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">模型模板</h1><p id="c525" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">导航到您的模型文件夹，并创建一个名为<strong class="ky ir"> ___FILEBASENAME___ 的文件。swift </strong></p><p id="7197" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这样，模型(在我们的例子中)将被称为 Settings.swift。复制/粘贴该文件的以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h1 id="785e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">视图模型模板</h1><p id="7531" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">导航到您的 ViewModel 文件夹并创建一个名为<strong class="ky ir">_ _ _ file basename _ _ _ ViewModel . swift</strong>的文件</p><p id="9a99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的例子中，当宏被自动替换时，该字段将被命名为 SettingsViewModel.swift。为该文件复制/粘贴以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="7606" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们完成了结构。它应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/3c3d6e34e9c578904bb5e1ca4c4bd921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_slDnAo1731jgPFYOhd2MQ.png"/></div></div></figure><p id="9fe7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是时候测试我们的模板了。我们为本教程创建了一个新项目(您也可以使用现有的项目)。现在再次进入文件-&gt;新建-&gt;文件，向下滚动到自定义模板。<strong class="ky ir">选择 MVVM </strong>，点击 Next，现在该插入<strong class="ky ir">模块名了。</strong>我们将输入设置，点击下一步，然后创建。</p><p id="e7cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/52ce5b49b627373f675d734d6983bb1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*VD39-7Zpaxc7-D-qs8duPQ.png"/></div></figure><p id="7419" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只需点击一下，我们就拥有了所有的结构！</p><h1 id="f78c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="2908" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">自定义模板是为项目保持标准结构的好方法，而且可以节省创建所有这些文件的时间，只需在其中编写相同的代码。只要有一点想象力，你就可以用你自己的模板做任何事情！</p><p id="101c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读，</p><p id="d987" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢我的故事，你想从我和 medium 的其他作家那里读到更多，你可以通过以下链接加入 medium 来支持我(不需要额外费用)</p><div class="my mz gp gr na nb"><a href="https://simaspavlos.medium.com/membership" rel="noopener follow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd ir gy z fp ng fr fs nh fu fw ip bi translated">用我的推荐链接加入媒体</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">阅读 Pavlos Simas(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">simaspavlos.medium.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np kp nb"/></div></div></a></div></div></div>    
</body>
</html>