<html>
<head>
<title>Real life debugging</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">真实调试</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/real-life-debugging-3fe936a9d1b7?source=collection_archive---------14-----------------------#2020-07-19">https://blog.devgenius.io/real-life-debugging-3fe936a9d1b7?source=collection_archive---------14-----------------------#2020-07-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/14274a5475102c1c0cdc5a6abc0b4b42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PfdqfbuccMXzanhT"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@zanilic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Zan </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="dba7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">调试是分析系统或应用程序中的错误情况并找出该情况的根本原因的艺术(部分是科学)。这是软件工程中非常常见的活动，但不一定仅限于该领域。当我们调试一个问题时，很容易被问题的影响所淹没，这很容易分散我们的注意力。但是，像任何其他方法一样，如果我们遵循一个有条不紊和有纪律的过程，我们就更接近于找到我们看到的所有症状的根本原因。</p><p id="fc0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的职业是软件工程师，每天都要调试很多问题。在我职业生涯的最初几天，调试问题是软件工程中最可怕的部分。毕竟，写新代码更容易，也更酷，对吧？但是让我告诉你——当你花几个小时在你见过的奇怪的错误/问题上，并最终找到根本原因时，解决问题的真正乐趣就来了。有一些成熟的技术可以让你更好地掌握这种微妙的艺术，就像任何其他技能一样，通过更多的练习，你可以更好地调试。最近，我在家里遇到了一个问题，我成功地调试并修复了它！让我更详细地解释一下。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="eb4a" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">问题是</h1><p id="5364" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">我家里有一个双频Wi-Fi路由器，我们使用多种设备连接到该路由器，包括2部手机和2台笔记本电脑。根据每台设备处理的工作负载，每台设备都连接到特定的Wi-Fi频段。现在，像任何其他典型的路由器一样，我的路由器有那些小LED灯，每当数据正在传输(上传或下载)时就会闪烁。当我用完每月套餐中X%的可用数据带宽时，我的互联网服务提供商(ISP)会向我发送通知。如果对我的互联网使用统计有一个公平的理解，我确信我不会从我的ISP那里得到任何这样的警告。但事情还是发生了——就在新的计费周期开始几周后，我从ISP那里收到一条消息，说我已经消耗了50%的带宽(大约150GB)。根据我的直觉，这听起来很荒谬。至少我<em class="ml">认为</em>我是对的。是时候调试这个问题了。</p><h1 id="cf2a" class="li lj iq bd lk ll mm ln lo lp mn lr ls lt mo lv lw lx mp lz ma mb mq md me mf bi translated">该过程</h1><p id="21f7" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">这是我们在调试问题时必须注意的第一件事——<em class="ml">找出预期的行为并注意观察到的行为</em>。在这种情况下，我的预期行为是没有收到来自ISP的任何警告消息，但我观察到的行为是收到了警告。在我们全面探索问题的潜在原因之前，这是极其重要的一步。在某件事成为问题之前，它总是以我们预期行为中的异常现象出现。只有当我们有一个非常明确和缩小的期望时，我们才能将观察到的行为归类为异常。</p><p id="e898" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们对异常行为有了清晰的了解，我们现在就可以继续<em class="ml">寻找元凶</em>。为此，我们需要对您正在调试的系统有一个彻底的了解——所有的涉众，包括系统的消费者。在我的例子中，是Wi-Fi路由器和4个连接到它的设备。在我们获得这些信息后，我们就可以进入流程的下一步。</p><p id="c0e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在知道了异常点和可能导致异常点的元凶。下一步是<em class="ml">隔离罪魁祸首</em>。有时，不仅仅是潜在的罪魁祸首的数量，还有他们的配置和操作模式都可能导致问题。回到Wi-Fi问题，路由器支持2个频段2.4GHz和5GHz，设备可以连接到其中的任何频段。在这种情况下，更深入地了解系统组件有助于我们缩小搜索范围。例如，在我拥有的4台设备中，我知道只有3台可以连接到5 GHz频段。为了获得进一步的帮助，我检查了路由器的任何提示。我注意到有一个频段被特别使用，即使我没有主动使用任何设备。</p><p id="3501" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据我的路由器的提示，我开始隔离罪犯。我检查了所有设备配置，以找出哪些设备正在使用LED持续闪烁的频段。然后，我关闭了这些设备的Wi-Fi，然后一个一个地打开，以查看我的路由器中的使用模式。我注意到，当我打开工作用笔记本电脑的Wi-Fi时，使用率急剧上升。这没问题，因为我们的IT团队安装了各种后台流程(例如备份等。)但是，即使在我让笔记本电脑进入睡眠状态后，Wi-Fi的使用也没有停止。这很奇怪。但是现在，我离目标更近了一步——我找到了真正的罪犯。</p><h1 id="79b5" class="li lj iq bd lk ll mm ln lo lp mn lr ls lt mo lv lw lx mp lz ma mb mq md me mf bi translated">解决方案</h1><p id="9fc8" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">现在我知道了罪魁祸首，是时候解决它了。谷歌了一下我的系统偏好设置，它阻止了Wi-Fi的使用，因为它会持续检查邮件、日历更新，并定期唤醒Wi-Fi组件。一旦我禁用了这个定期检查，事情就恢复正常了。又节省了一天。作为参考，下面是具体设置的截图。请注意，这是针对Mac的，不同操作系统的具体设置会有所不同。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ca"><img src="../Images/8f26e4df0a8243b0441f7ac2b0776286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J4Ghbzrsi-FlBG_4oPvtHg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">我的MacBook Pro上的节能设置</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="29e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我前面提到的，调试是一门艺术(和一些科学)，如果勤奋地应用，可以解决很多问题——无论是在软件中还是在现实生活中。在这篇文章描述的例子中，解决方案看起来很简单；但重要的是要明白，我们只有在成功调试后才能解决问题，而且是有条不紊地解决。即使在软件中，观察到的许多问题/错误通常通过添加对值和边界条件的简单检查来解决；挑战在于将问题缩小到那个变量。希望这有所帮助！干杯！</p></div></div>    
</body>
</html>