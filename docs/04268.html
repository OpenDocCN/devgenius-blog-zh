<html>
<head>
<title>Evolution of System Design, Webservices to Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">系统设计的演变，从 web 服务到微服务</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/evolution-of-system-design-web-services-to-microservices-9d660506c93f?source=collection_archive---------0-----------------------#2021-02-18">https://blog.devgenius.io/evolution-of-system-design-web-services-to-microservices-9d660506c93f?source=collection_archive---------0-----------------------#2021-02-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="0c42" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在之前的<a class="ae ki" href="https://medium.com/dev-genius/evolution-of-system-design-from-micro-functions-to-micro-services-53cdf8e276ac" rel="noopener">文章</a>中，我们讨论了“系统设计”在寻求独立涅槃过程中的许多可能旅程之一，即开发、技术、可部署性、可伸缩性和团队结构(自治)的独立。</p><p id="99b6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们编织到目前为止的整个旅程，很明显，努力和方向总是为了实现系统设计的以下目标:</p><ul class=""><li id="8e7e" class="kj kk in jm b jn jo jr js jv kl jz km kd kn kh ko kp kq kr bi translated">保持实现的整洁、可读性，以便于维护和扩展— <strong class="jm io">更小的尺寸</strong>，SPR，使用命名约定的清晰意图，正确的包/项目结构，重用代码(DRY)</li><li id="2cb5" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated"><strong class="jm io">模块化结构，领域驱动</strong>——小型自包含代码单元，可以由自治的小型团队独立开发</li><li id="bbc6" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated"><strong class="jm io">独立发布</strong> —代码、数据无交叉依赖地捆绑在一起</li><li id="5163" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated"><strong class="jm io">可独立扩展&amp;容错- </strong>轻松扩展任何特定的实施单元</li><li id="1a04" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated"><strong class="jm io">自由使用任何技术</strong> <strong class="jm io"> &amp;通信协议</strong> —技术中立的接口和发现机制，因此单个单元的实现可以是技术不可知的。</li></ul></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><h1 id="67e2" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是微服务</h1><p id="e43d" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">‘微服务’，时下人们谈论最多的实现上述目标的灵丹妙药之一。</p><p id="c201" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们明白什么是微服务。</p><ul class=""><li id="7436" class="kj kk in jm b jn jo jr js jv kl jz km kd kn kh ko kp kq kr bi translated">顾名思义<strong class="jm io">微</strong>服务一定比小服务小。</li><li id="69ab" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">而且应该是一种服务。</li></ul><blockquote class="mh"><p id="0753" class="mi mj in bd mk ml mm mn mo mp mq kh dk translated">服务的意思是“为某人做事的行为”。</p></blockquote><p id="0e1a" class="pw-post-body-paragraph jk jl in jm b jn mr jp jq jr ms jt ju jv mt jx jy jz mu kb kc kd mv kf kg kh ig bi translated">类似于任何其他面向服务的模式(EJB、Rest、Webservice ),哪一个对于微服务是正确的..).</p><p id="ae35" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">“微”(小)有点不明确，因为没有定义大小的参数。它类似于函数或类的大小，正如我们在以前的一篇文章中所讨论的。</p><blockquote class="mh"><p id="fcf1" class="mi mj in bd mk ml mw mx my mz na kh dk translated">正确的规模参数应该是明确的意图，并结合单一责任原则。</p></blockquote><p id="eeae" class="pw-post-body-paragraph jk jl in jm b jn mr jp jq jr ms jt ju jv mt jx jy jz mu kb kc kd mv kf kg kh ig bi translated">因此，与任何其他服务模式类似，微服务也应该有明确的界限，以包含单一责任和清晰的意图。</p><blockquote class="mh"><p id="ba56" class="mi mj in bd mk ml mw mx my mz na kh dk translated"><em class="nb">代码行数不是尺寸的正确参数。尽管它可以作为导轨。</em></p></blockquote><p id="7905" class="pw-post-body-paragraph jk jl in jm b jn mr jp jq jr ms jt ju jv mt jx jy jz mu kb kc kd mv kf kg kh ig bi translated">但是以上两个属性确实适用于每一个服务，而不仅仅是微服务。那微服务有什么特别的。</p><p id="c7c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了理解这一点，让我们超越名称。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><h1 id="abd8" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">深入了解微服务</h1><p id="a0bb" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">以下是我们在<a class="ae ki" href="https://medium.com/dev-genius/evolution-of-system-design-from-micro-functions-to-micro-services-53cdf8e276ac" rel="noopener">上一篇文章</a>中讨论的系统设计演进的几个目标:</p><ul class=""><li id="ce97" class="kj kk in jm b jn jo jr js jv kl jz km kd kn kh ko kp kq kr bi translated">模块化结构，干净的代码，清晰的意图，单一的责任</li><li id="a849" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">易于维护，易于理解</li><li id="ee4b" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">代码单元的独立所有权(这里是服务)</li><li id="8460" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">独立部署，独立发布</li><li id="e28b" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">独立可扩展</li><li id="1ba5" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">技术不可知</li></ul><p id="14d8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">除了上面的最后三点，其余的都可以用整体式设计来满足。</p><p id="3271" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">其余的点可能'<strong class="jm io">可以'</strong>用 webservices(或其他任何面向服务的模式)来满足。</p><p id="4baf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"><em class="nc">web 服务</em> </strong> <em class="nc">可独立部署、可伸缩，并且与技术无关。使用 WSDL 公开接口。通信是通过任何带有 XML 的开放标准(主要是 HTTP 上的 SOAP)进行的。此外，还可以使用服务注册中心和协议(例如:UDDI)发现这些服务。</em></p><blockquote class="mh"><p id="bc79" class="mi mj in bd mk ml mw mx my mz na kh dk translated">如果 webservices 满足了所有需求，那么我们为什么还需要微服务呢？</p></blockquote><p id="5a8e" class="pw-post-body-paragraph jk jl in jm b jn mr jp jq jr ms jt ju jv mt jx jy jz mu kb kc kd mv kf kg kh ig bi translated">这个“微”字与服务之间的细微差别对意向产生了重大影响。</p><p id="f274" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">web 服务主要用作一个应用程序与另一个应用程序的接口。它并不关注细粒度的小型实现，而是主要遵循粗粒度的结构(<a class="ae ki" href="http://www.corej2eepatterns.com/SessionFacade.htm" rel="noopener ugc nofollow" target="_blank">会话外观模式</a>)。它更注重性能和隐藏复杂性。</p><p id="2bc7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">区别在于模式的动机。</p><p id="e80a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">webservice 的目的是实现设备到设备、系统到系统的通信。这是为系统公开接口的方法之一。这就是 web 服务的用途。</p><blockquote class="mh"><p id="b804" class="mi mj in bd mk ml mw mx my mz na kh dk translated">Webservice 是一种技术中立的方式来公开(monolith)应用程序的接口。</p></blockquote><figure class="ne nf ng nh ni nj gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/5b69a4fd965bfaee0a137d836db38201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*-9SOlowGPEmA1o54i5kETQ.png"/></div></figure><p id="c4db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然而，微服务模式的动机是促进支持松散耦合服务集合的结构，这些服务是小型的、细粒度的和轻量级的。</p><p id="69bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">微服务模式推荐我们上面讨论过的意图明确、独立开发和部署的所有目标。</p><p id="c1fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，自然地，整个微服务生态系统和所有框架都支持更小的实现、轻量级交互协议(如 REST)、独立开发/部署/发布等。</p><p id="a418" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">规模(微观)和意图拥有具有单一责任和明确意图的可独立部署的服务，在设置设计应用程序的方向和整个思考过程中起着主要作用。</p><p id="e73b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下图显示了微服务的图示视图。</p><figure class="nn no np nq gt nj gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nm"><img src="../Images/0943e9a9933fd48f3e2fa591464988e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*ZbEw8u0xa3U1mkqbWkF5TA.png"/></div></div></figure><p id="995a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从技术角度来看，Webservice(以及许多类似的服务)可以具备满足上述目标的所有要素。但是，作为一种模式，‘微服务’就是为了推广这些而设计的。</p><p id="14b3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简而言之，微服务架构促进了:</p><ul class=""><li id="192c" class="kj kk in jm b jn jo jr js jv kl jz km kd kn kh ko kp kq kr bi translated">较小规模的松散耦合服务</li><li id="36bc" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">可以独立开发，主要是由自治的小团队开发</li><li id="9062" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">能够独立部署(和发布)</li><li id="c0f6" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">独立可扩展、容错</li><li id="3be5" class="kj kk in jm b jn ks jr kt jv ku jz kv kd kw kh ko kp kq kr bi translated">可以使用任何技术和技术中立通信来构建</li></ul><p id="cece" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是 webservice 和微服务的关键区别。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><h1 id="b287" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">微服务，灵丹妙药？</h1><p id="a0ba" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">这看起来太棒了，就像是解决我们面临的所有问题的灵丹妙药。这就像一张去梦乡的票，在那里不会有任何问题...</p><p id="b74b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是，啊..这个世界上没有十全十美的东西，也没有适用于所有用例的微服务。</p><p id="6206" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">微服务也有各种缺点和挑战(类似于任何分布式系统模式)。在为应用选择微服务架构之前，考虑这些因素非常重要。</p><p id="75ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将在接下来的文章中讨论各种微服务挑战和可能的解决方案。</p><p id="afa8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在那之前，请继续关注，快乐学习...</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="9a2d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nc">如果你有什么建议，随时联系我</em><strong class="jm io"><em class="nc">Linkedin</em></strong><em class="nc">:</em><a class="ae ki" href="https://www.linkedin.com/in/mohitkgupta/" rel="noopener ugc nofollow" target="_blank"><em class="nc">莫希特·古普塔</em> </a></p></div></div>    
</body>
</html>