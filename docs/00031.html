<html>
<head>
<title>Swagger API iOS helper pt. II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swagger API iOS helper pt。二</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/swagger-api-ios-helper-pt-ii-9356ef90765b?source=collection_archive---------2-----------------------#2019-04-23">https://blog.devgenius.io/swagger-api-ios-helper-pt-ii-9356ef90765b?source=collection_archive---------2-----------------------#2019-04-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="0acf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上次我写了关于 Swagger 的文章，讲述了如何减少重复代码。在过去，建议的方法意味着很多。它允许人们跳过解包和错误检查程序，继续编写业务逻辑。</p><div class="ki kj gp gr kk kl"><a href="https://medium.com/@petrachkovsergey/swagger-api-ios-helper-b09da2c83c25" rel="noopener follow" target="_blank"><div class="km ab fo"><div class="kn ab ko cl cj kp"><h2 class="bd io gy z fp kq fr fs kr fu fw im bi translated">Swagger API iOS 助手</h2><div class="ks l"><h3 class="bd b gy z fp kq fr fs kr fu fw dk translated">Swagger 是一个很棒的工具，可以帮助开发人员在使用 web 服务时节省时间。API 规范…</h3></div><div class="kt l"><p class="bd b dl z fp kq fr fs kr fu fw dk translated">medium.com</p></div></div></div></a></div><p id="4722" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">服务曾经是这样的:</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ku"><img src="../Images/ec30cf3ab1b850269d50f2a7d7def1ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3zgkZpwxnnj9f4uMoxzrw.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">SwaggerHelper v1</figcaption></figure><p id="945c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">随着时间的推移，我考虑如何进一步减少代码，因为我显然厌倦了编写` dispatchGroup = DispatchGroup()'之类的东西。人们可以想到并注意到，我们声明结果变量的这个方法的“header”和我们发布过程结果的“footer”是非常通用的。唯一不同的是 API 的方法…</p><p id="c27c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是如果你查看生成的 API，你会注意到所有的方法都是一样的(当然它们是一样的！它们是由一个模板生成的！:-) ).所以，没有什么可以阻止我们去掉方法<em class="lk">的头</em>和<em class="lk">的尾部分，创建</em> <strong class="jm io"> <em class="lk">一个通用方法</em> </strong>，它将使用 api 请求模型作为参数，也将 API 函数作为参数！</p><p id="f05f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我给你一个完整的代码要点，将所有无聊的东西减少到 3 行代码:</p><figure class="kv kw kx ky gt kz"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="35a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们可以将那个糟糕的 CompanyDetails 方法重写为:</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ln"><img src="../Images/10326dcff7748d43b8db795604cee5fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GMBZWDqTrLUjxjnMj76EjA.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">SwaggerHelper v2</figcaption></figure><p id="4925" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，如果你只是用它们来链接 API 调用和访问 WS API，就没有必要使用笨重的 RX 框架。因为，真的，你需要的只是:</p><ol class=""><li id="1b7f" class="lo lp in jm b jn jo jr js jv lq jz lr kd ls kh lt lu lv lw bi translated">检查 GCD 文档并在单独的 DispatchQueue 上运行 WS 调用</li><li id="b360" class="lo lp in jm b jn lx jr ly jv lz jz ma kd mb kh lt lu lv lw bi translated">按优先顺序呼叫您的服务</li><li id="c073" class="lo lp in jm b jn lx jr ly jv lz jz ma kd mb kh lt lu lv lw bi translated">处理结果和异常(在这里，SwaggerHelper 将帮助您！)</li></ol><p id="ef5f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">感谢阅读！尽情享受吧！</p></div></div>    
</body>
</html>