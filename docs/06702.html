<html>
<head>
<title>How to Copy Data From CSV File To POSTGRES Database?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将 CSV 文件中的数据复制到 POSTGRES 数据库？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-copy-data-from-csv-file-to-postgres-database-44502dd44226?source=collection_archive---------9-----------------------#2022-01-26">https://blog.devgenius.io/how-to-copy-data-from-csv-file-to-postgres-database-44502dd44226?source=collection_archive---------9-----------------------#2022-01-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="27ee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">CRUD 操作和数据迁移操作</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8b9a2af66500f3b479197afbe1d9be15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XIMVb4ZQRfSS4ZnI6WfH0Q.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来自 https://www.mshowto.org/的 POSTGRES 图片</figcaption></figure><h2 id="7fcb" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">简介—开始时</h2><p id="e005" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">如果您正在处理数据库，您应该意识到将数据从一个数据库移动到另一个数据库的重要性。数据源可以是多种多样的，比如其他数据库(<em class="lx"> MySQL、SQlite、MSSQL Server、MariaDB、Oracle Database、Redis、IBM Db2 </em>等)。).输出也可以是不同的格式，如<em class="lx"> xlsx，csv，json，xml，xl </em> s 等。</p><blockquote class="ly"><p id="4036" class="lz ma in bd mb mc md me mf mg mh kh dk translated">简而言之，数据必须是可共享的。</p></blockquote><p id="c84e" class="pw-post-body-paragraph jk jl in jm b jn mi jp jq jr mj jt ju jv mk jx jy jz ml kb kc kd mm kf kg kh ig bi translated">作为通用格式，我们这里用<strong class="jm io">CSV</strong><strong class="jm io">。</strong>因为，它是最简单的格式，具有良好的可读性和可写性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/5663d21d9e0bfa677714691f46427173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*snyzY6XmxMHXd8it"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">马修·斯皮特里在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="00c6" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">逗号分隔值（csv）文件格式</h2><p id="63d2" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated"><em class="lx"> CSV —逗号分隔值</em>表示用逗号分隔的行。每个逗号都是一个分隔符。当您在任何 office 应用程序(如 MS ExceL)中打开 CSV 文件时，ExceL 会用逗号将数据分隔到各个列中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/3eb40f51517dc2979dde313395dabce2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kOC4R0m1XPlOmnIU.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">MS Excel 中的 CSV 文件</figcaption></figure><h1 id="6c43" class="mp la in bd lb mq mr ms le mt mu mv lh mw mx my lk mz na nb ln nc nd ne lq nf bi translated">逐步数据迁移</h1><h2 id="03aa" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">将数据保存到 CSV 文件中</h2><p id="a786" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">首先打开你的数据库屏幕选择你的数据和保存结果(输出)作为 csv 文件到你的桌面。</p><h2 id="9c0d" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">通过 SQL 查询迁移您的数据</h2><p id="1904" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">首先打开你的<strong class="jm io"> pgadmin4 </strong>并打开你的数据库。打开<strong class="jm io">【查询工具】</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/d5a24e3c32771f7d13e5985fc25bac9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AWyFjb3DYj76LbET.png"/></div></div></figure><p id="51ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们检查一下<em class="lx"> </em> <strong class="jm io"> <em class="lx"> SQL 查询</em> </strong>:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="8ea1" class="kz la in ni b gy nm nn l no np">COPY tablename(column1, column2, column3, column4) <br/>FROM ‘path’ <br/>DELIMITER ‘,’CSV HEADER;</span></pre><p id="bac7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里你必须将你的路径从路径部分粘贴到<strong class="jm io">部分，如下所示:</strong></p><p id="390b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于 Linux:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="54be" class="kz la in ni b gy nm nn l no np">FROM '\home\yourname\Desktop\yourfile.csv'</span></pre><p id="dcf0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于 Windows:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="dcdf" class="kz la in ni b gy nm nn l no np">FROM ‘c:/Desktop/yourfile.csv</span></pre><p id="4be1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">分隔符</strong>部分可以是“，”或“；”。这取决于你的<strong class="jm io"> CSV </strong>文件的分隔符。如果逗号那么逗号，如果分号那么分号。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="9635" class="kz la in ni b gy nm nn l no np">COPY tablename(column1, column2, column3, column4)</span></pre><p id="b532" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，您将在您的<strong class="jm io"> POSTGRES </strong>数据库中写入 tablename。例如:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="d451" class="kz la in ni b gy nm nn l no np">tb_phone(contactName, contactSurname, contactPhone)</span></pre><p id="c985" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里最重要的是列的大小。</p><blockquote class="ly"><p id="be50" class="lz ma in bd mb mc md me mf mg mh kh dk translated">表格中的列数必须与 csv 文件中的列数相同。</p></blockquote><h2 id="cdb7" class="kz la in bd lb lc nq dn le lf nr dp lh jv ns lj lk jz nt lm ln kd nu lp lq lr bi translated">检查您的数据</h2><p id="2a2b" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">在最后一步，我们将检查我们的表和数据。如果一切正常，我们将在 POSTGRES 表中看到我们的数据。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="1b5c" class="kz la in ni b gy nm nn l no np">SELECT * FROM yourtablename;</span></pre><h2 id="f027" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">结论</h2><p id="a502" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">最后，我们可以将任何 csv 格式的数据加载到我们的 POSTGRES 数据库中。</p><h2 id="c57a" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">接触</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/5daebc85b3110028fe7df57f08acd6ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mGGpPu09UGzUdKMP"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Pawel Czerwinski 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="0801" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以问我任何问题</p><ul class=""><li id="c684" class="nw nx in jm b jn jo jr js jv ny jz nz kd oa kh ob oc od oe bi translated"><a class="ae ky" href="https://www.linkedin.com/in/gokayburuc/" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="4784" class="nw nx in jm b jn of jr og jv oh jz oi kd oj kh ob oc od oe bi translated"><a class="ae ky" href="https://www.instagram.com/gokayburuc/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></li><li id="7e7b" class="nw nx in jm b jn of jr og jv oh jz oi kd oj kh ob oc od oe bi translated"><a class="ae ky" href="https://www.facebook.com/gokayburucsocial" rel="noopener ugc nofollow" target="_blank">脸书</a></li><li id="34de" class="nw nx in jm b jn of jr og jv oh jz oi kd oj kh ob oc od oe bi translated"><a class="ae ky" href="mailto:gokayburuc@yandex.com" rel="noopener ugc nofollow" target="_blank">邮件</a></li><li id="860e" class="nw nx in jm b jn of jr og jv oh jz oi kd oj kh ob oc od oe bi translated"><a class="ae ky" href="https://twitter.com/tw_gokayburuc" rel="noopener ugc nofollow" target="_blank">推特</a></li></ul></div></div>    
</body>
</html>