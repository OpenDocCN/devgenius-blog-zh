<html>
<head>
<title>Introduction into iOS Core Audio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS核心音频简介</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/introduction-into-ios-core-audio-1ec9ea15c47c?source=collection_archive---------1-----------------------#2020-12-01">https://blog.devgenius.io/introduction-into-ios-core-audio-1ec9ea15c47c?source=collection_archive---------1-----------------------#2020-12-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9c10b1c4b4506a664e739fdbd66fee30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1SNI5u2xEf83-bLq"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com/@cdx2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> C D-X </a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="232d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在开始播放、流式播放、录制声音或配置您的应用和操作系统应如何响应中断之前，我们需要先了解一下核心音频和音频的一些定义，以便全面了解情况。在接下来的部分中，我们将更详细地讨论启动和运行。</p><h1 id="c2c6" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">什么是核心音频？</h1><p id="1ab0" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">Core Audio是iOS和OS X的数字音频基础设施。它包括一套软件框架，旨在处理应用程序中的音频需求，并针对电池供电的移动平台中的计算资源进行了优化。</p><p id="2504" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Core Audio使用代理对象的概念来表示文件、流、音频播放器等等。例如，当您希望您的应用程序处理磁盘上的音频文件时，第一步是实例化一个类型为<code class="fe mc md me mf b"><a class="ae jz" href="https://developer.apple.com/documentation/audiotoolbox/audiofileid" rel="noopener ugc nofollow" target="_blank">AudioFileID</a></code>的音频文件对象，该对象被声明为不透明数据。</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="2f29" class="mo kz in mf b gy mp mq l mr ms">typealias AudioFileID = OpaquePointer</span></pre><p id="e49b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">通过调用<code class="fe mc md me mf b"><a class="ae jz" href="https://developer.apple.com/documentation/audiotoolbox/1502333-audiofilecreatewithurl" rel="noopener ugc nofollow" target="_blank">AudioFileCreateWithURL</a></code>函数，实例化一个音频文件对象并创建一个与该对象相关的实际音频文件。该函数为您提供了对新音频文件对象的引用。</p><p id="ac88" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">苹果公司使用分层、合作、以任务为中心的方法设计了Core Audio的软件界面，分为三层:</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/c5650c1fccf76ab7260bd1a08bb7b681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Xmg91CKWxcXF5ZGL.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><a class="ae jz" href="https://developer.apple.com/library/archive/documentation/MusicAudio/Conceptual/CoreAudioOverview/Art/core_audio_layers_2x.png" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/library/archive/documentation/music audio/Conceptual/core audio overview/Art/core _ audio _ layers _ 2x . png</a></figcaption></figure><p id="b02e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">低层服务层:</strong></p><ul class=""><li id="ca14" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated">与司机互动的<code class="fe mc md me mf b"> I/O Kit</code>。</li><li id="d8bd" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">音频硬件抽象层(<code class="fe mc md me mf b">audio HAL</code>)，提供独立于设备、独立于驱动程序的硬件接口。</li><li id="2a9a" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Core MIDI</code>它提供了处理MIDI(乐器数字接口)流和设备的软件抽象。</li><li id="5004" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Host Time Services</code>提供对计算机时钟的访问。</li></ul><p id="0593" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">中层服务层:</strong></p><ul class=""><li id="c80a" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated">服务让应用程序与音频数据格式转换器一起工作。</li><li id="14ed" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Audio File Services</code>支持从基于磁盘的文件中读取和写入音频数据。</li><li id="2939" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Audio Unit Services</code>和<code class="fe mc md me mf b">Audio Processing Graph Services</code>让应用程序与数字信号处理(DSP)插件一起工作，如均衡器和混音器。</li><li id="84ac" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Audio File Stream Services</code>支持构建可以解析流的应用程序，比如播放通过网络连接传输的文件。</li><li id="5c8f" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Core Audio Clock Services</code>支持音频和MIDI同步以及时基转换。</li><li id="a5a2" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Audio Format Services</code>协助管理应用程序中的音频数据格式。</li></ul><p id="34b9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">高层服务层:</strong></p><ul class=""><li id="ccc7" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated"><code class="fe mc md me mf b">Audio Queue Services</code>允许您录制、播放、暂停、循环播放和同步音频。</li><li id="a94b" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">AVAudioPlayer</code>支持播放和循环音频，以及实现倒带和快进。</li><li id="b317" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">Extended Audio File Services</code>结合了音频文件服务和音频转换器服务的功能。它给你一个统一的界面来读写未压缩和压缩的声音文件。</li><li id="9c3f" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">OpenAL</code>是用于定位音频的开源OpenAL标准的核心音频实现。它最适合游戏开发。</li></ul><h1 id="d986" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">我们可以使用哪些可用的框架？</h1><p id="f06c" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">有许多我们可以使用的音频框架，这里有一个简短的介绍。在接下来的部分中，我们将更详细地讨论每一个组件的启动和运行。</p><ul class=""><li id="6097" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated"><code class="fe mc md me mf b">AVFoundation.framework</code>为音频回放提供了<code class="fe mc md me mf b">AVAudioPlayer</code>类，也为更复杂的音频处理提供了<code class="fe mc md me mf b">AVAudioEngine</code>类。</li><li id="5558" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">AudioToolbox.framework</code>:在设备环境中管理音频会话和应用音频的行为。</li><li id="6ce3" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">AudioUnit.framework</code>:让您的应用程序使用音频插件，包括音频单元和编解码器。</li><li id="e44b" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">CoreAudio.framework</code>提供跨核心音频使用的数据类型以及低层服务的接口。</li><li id="15b1" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">OpenAL.framework</code>提供与OpenAL协同工作的接口，更适合游戏开发。</li><li id="2b17" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">CoreAudioKit.framework</code>为音频单元<strong class="kc io">(iOS中没有)</strong>提供一个创建用户界面的小API。</li><li id="dabc" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">CoreMIDI.framework</code>让应用程序处理MIDI数据并配置MIDI网络<strong class="kc io">(iOS中不可用)</strong>。</li><li id="595e" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b">CoreMIDIServer.framework</code>让MIDI驱动程序与OS X MIDI服务器<strong class="kc io">(在iOS中不可用)</strong>。</li></ul></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><h1 id="99f2" class="ky kz in bd la lb np ld le lf nq lh li lj nr ll lm ln ns lp lq lr nt lt lu lv bi translated">音频数据格式</h1><p id="21c7" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">您不需要详细了解音频数据格式，这样一组代码就可以处理操作系统支持的任何格式。音频数据格式描述音频数据，如采样率、位深度、格式标志或音频数据包中的帧数。</p><p id="8376" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一些音频文件格式可以只包含一种音频数据格式，例如，MP3文件可以只包含MP3音频数据。其他文件格式，如Apple的CAF格式，可以包含各种音频数据格式。你可以找到更多关于<code class="fe mc md me mf b"><a class="ae jz" href="https://developer.apple.com/documentation/coreaudiotypes/audiostreambasicdescription" rel="noopener ugc nofollow" target="_blank">AudioStreamBasicDescription</a></code>的细节</p><h1 id="49e2" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">神奇饼干</h1><p id="479e" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">指<strong class="kc io">音频</strong>文件头中包含的信息，用于描述数据格式。元数据为解码器提供了正确解压缩文件或流所需的细节。当转换音频数据时，您必须检查您试图转换的音频数据的格式是否有魔法cookie。如果音频数据格式有一个与之关联的魔法cookie，您必须将此信息添加到正在使用的音频转换器的实例中。这是通过使用<code class="fe mc md me mf b">AudioConverterSetProperty</code> API以及<code class="fe mc md me mf b">kAudioConverterDecompressionMagicCookie</code>属性和神奇的cookie数据blob来完成的。</p><h1 id="d0df" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">音频数据包</h1><p id="ca23" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">它是一个或多个帧的集合。它是最小的有意义的，因此它是表示音频文件中时间单位的最佳音频数据单位。您可以使用数据包来计算有用的音频数据缓冲区大小。为了通过网络进行音频通信，音频分组从发送端发送到网络，接收端拾取音频分组并整合细分的数字信号，以将其变回模拟信号，从而能够听到原始音频。</p><h1 id="71be" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">数据格式转换</h1><p id="105d" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">要将音频数据从一种格式转换为另一种格式，可以使用音频转换器。您可以进行简单的转换，如改变采样速率或交错/去交错。您还可以执行复杂的转换，如压缩或解压缩音频。</p><p id="4bb4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有三种类型的转换可用:</p><ul class=""><li id="f0ba" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated">将音频格式解码为线性PCM格式。</li><li id="f5d9" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">将线性PCM数据转换为不同的音频格式。</li><li id="e439" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">在线性PCM的不同变体之间转换</li></ul><h1 id="0fe3" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">同时播放多种声音</h1><p id="017b" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">若要同时播放多个声音，请为每个声音创建一个播放音频队列对象。对于每个音频队列，使用<code class="fe mc md me mf b">AudioQueueEnqueueBufferWithParameters</code>功能安排第一个音频缓冲区同时启动。</p><p id="db01" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在iPhone或iPod touch上同时播放声音时，音频格式至关重要。这是因为iOS中某些压缩格式的回放采用了高效的硬件编解码器。一次只能在设备上播放以下格式之一的一个实例:</p><ul class=""><li id="95fd" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated">加气混凝土</li><li id="d66a" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">ALAC</li><li id="054e" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">MP3文件</li></ul><p id="9909" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">要播放高质量的同步声音，请使用线性PCM或IMA4音频。</p><h1 id="7cc2" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">音频队列服务</h1><p id="f8a3" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">音频队列服务提供了一种简单、低开销的方式来录制和播放音频。它允许您的应用程序在不了解硬件接口的情况下使用硬件录音和回放设备(如麦克风和扬声器)。它还允许您在不了解编解码器工作原理的情况下使用复杂的编解码器。</p><p id="6710" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以使用它来同步多个音频队列的回放，同时播放声音，独立控制多个声音的回放音量，以及执行循环。</p><h1 id="cd0d" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">系统声音:警报和声音效果</h1><p id="e92a" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">在不需要电平、定位、音频会话或其他控制时播放简短的声音文件。当你只想以最简单的方式播放一小段声音时，可以使用系统声音服务，它是在音频工具箱框架中声明的。在iOS中，使用系统声音服务播放的声音被限制为最长30秒。</p><p id="7002" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在iOS中，你调用<code class="fe mc md me mf b">AudioServicesPlaySystemSound</code>函数来立即播放你指定的音效文件。或者，当你需要提醒用户时，你可以调用<code class="fe mc md me mf b">AudioServicesPlayAlertSound</code>。如果用户设置了静音开关，这些功能中的每一项都会在iPhone上引发振动。</p><h1 id="e589" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">数字音频和线性PCM</h1><p id="a8ca" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">大多数核心音频服务使用和处理线性脉冲编码调制(<em class="mb">线性PCM </em>)格式的音频，这是最常见的未压缩数字音频数据格式。数字音频录制通过定期测量模拟音频信号的幅度(<em class="mb">采样率</em>)并将每个样本转换为数值来创建PCM数据。</p><p id="fb46" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mb">标准压缩光盘(CD)音频使用44.1 kHz的采样率，用16位整数描述构成分辨率或位深度的每个样本。</em></p><ul class=""><li id="48af" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated"><code class="fe mc md me mf b"><em class="mb">sample</em></code>是单通道的单个数值。</li><li id="7ed9" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">一个<code class="fe mc md me mf b"><em class="mb">frame</em></code>是时间重合样本的集合。例如，立体声文件每帧有两个样本，一个用于左声道，一个用于右声道。</li><li id="34bf" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated"><code class="fe mc md me mf b"><em class="mb">packet</em></code>是一个或多个连续帧的集合。在线性PCM音频中，数据包总是一个帧。在压缩格式中，它通常更大。</li></ul><p id="61ec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mb">标准CD音频中的16位整数样本允许静音和最大音量之间的65，536个可能值。</em></p><h1 id="e346" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">配置音频会话</h1><p id="2efa" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">音频会话是应用程序和操作系统之间的中介，用于配置应用程序的音频行为。启动时，您的应用程序会自动提供一个单独的音频会话。您可以对其进行配置，例如当响铃/静音开关翻转时，您的音频是否应该继续播放。</p><p id="40be" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所有iOS、tvOS和watchOS应用程序都有一个默认的音频会话，其预配置如下:</p><ul class=""><li id="7f32" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated">支持音频播放，但不允许录音。</li><li id="06a0" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">在iOS中，将响铃/静音开关设置为静音模式会使应用程序正在播放的任何音频静音。</li><li id="76a4" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">在iOS中，当设备被锁定时，应用程序的音频会被静音。</li><li id="8693" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">当您的应用程序播放音频时，任何其他背景音频(如音乐应用程序正在播放的音频)都会被静音。</li></ul><p id="5457" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以通过设置类别对其进行自定义，以更好地满足您的应用需求。</p><h1 id="874b" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">启用背景音频</h1><p id="c0c6" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">当您启用背景音频时，当用户切换到另一个应用程序或锁定他们的iOS设备时，您的应用程序的音频可以继续，为此，您需要在Xcode中选择您的应用程序的目标，然后选择“功能”标签。在“功能”标签下，将“背景模式”开关设定为“开”，并从可用模式列表中选择“音频、AirPlay和画中画”选项。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/bbbd7ce7badb16db5cf9c2a249629202.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vqg-UHNp-NIbB07wXe3rWQ.png"/></div></div></figure><p id="4009" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">希望你和我一样喜欢😃🎉如果是这样，请随意鼓掌😄与你的朋友分享，与人分享总是令人愉快的。在拥有真实代码示例的同时，请继续关注其他部分。</p></div></div>    
</body>
</html>