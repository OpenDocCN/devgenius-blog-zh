<html>
<head>
<title>CRUD operations on MYSQL Database using API with help of Flask, SQLAlchemy, and Pandas.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Flask、SQLAlchemy 和 Pandas 的帮助下，使用 API 对 MYSQL 数据库进行 CRUD 操作。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/crud-operations-on-mysql-database-using-api-with-help-of-flask-sqlalchemy-and-pandas-636126993fbd?source=collection_archive---------3-----------------------#2022-09-24">https://blog.devgenius.io/crud-operations-on-mysql-database-using-api-with-help-of-flask-sqlalchemy-and-pandas-636126993fbd?source=collection_archive---------3-----------------------#2022-09-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e6f22ac6b71e4c582c47215b3105bfaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1kUwkYd5ycD65o6az-VXDQ.png"/></div></div></figure><p id="fcee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本帖中，我们将创建一个简单的基于 API 的 CRUD 操作来对 MySQL 数据库执行不同的操作。</p><p id="8812" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们使用了用于 API 的<a class="ae kt" href="https://flask.palletsprojects.com/en/2.2.x/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> Flask </strong> </a>，<a class="ae kt" href="https://www.thunderclient.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">thunder Client</strong></a><strong class="jx io">(在 VS 代码中作为扩展提供)</strong>来发出具有不同操作的请求，使用<a class="ae kt" href="https://www.sqlalchemy.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> SQLAlchemy </strong> </a>在 MySQL 上执行 CRUD 操作</p><p id="4152" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将执行下面不同的操作:<br/> <strong class="jx io"> 1。创建—在 MySQL 中创建一个表。<br/> 2。插入-将数据插入表格(数据应该用逗号分隔)<br/> 3。更新—更新现有记录。<br/> 4。删除—删除现有记录。<br/> 5。批量—将 CSV 文件数据加载到表格中。6。下载-将表格数据加载为 CSV 文件。</strong></p><p id="a01c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们开始吧，首先，我们将创建一个名为<strong class="jx io"> sql_api.py. </strong>的 python 文件，在其中，我们将导入所需的库，如 F <strong class="jx io"> lask、Pandas 和 SQLAlchemy。</strong></p><pre class="ku kv kw kx gt ky kz la bn lb lc bi"><span id="9c08" class="ld le in kz b be lf lg l lh li"># sql_api.py<br/><br/>from flask import Flask,jsonify,request<br/>from datetime import datetime<br/>import logging<br/>import pandas as pd<br/>from sqlalchemy import create_engine</span></pre><p id="e988" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们将初始化 flask 并创建一个 API 路由 URL，在这里我们将为我们的 API 请求使用<strong class="jx io"> POST </strong>方法。在这里，我将对所有操作使用单个 api 路由 URL，即<strong class="jx io"> /sql_api </strong>，如果您愿意，您可以创建多个 API 路由 URL。</p><pre class="ku kv kw kx gt ky kz la bn lb lc bi"><span id="5f63" class="ld le in kz b be lf lg l lh li"># sql_api.py<br/><br/>from flask import Flask,jsonify,request<br/>from datetime import datetime<br/>import logging<br/>import mysql.connector<br/><br/>app=Flask(__name__)<br/><br/>#logging.basicConfig(filename='sqlapi.log', encoding='utf-8', level=logging.DEBUG,format='%(asctime)s %(message)s')<br/><br/>@app.route("/sql_api",methods=['POST'])         # POST method<br/>def sql_api():<br/># Here we will write our code for all the operations</span></pre><p id="cb37" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将把我们的代码打包在<strong class="jx io"> try …除了</strong>中，以防任何失败，这也将帮助我们找到导致失败的实际错误。我们将在 API 响应中使用这些错误消息，以便更好地了解错误以及失败的原因。</p><p id="d6a9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将以下面的格式返回一个 JSON 响应。</p><pre class="ku kv kw kx gt ky kz la bn lb lc bi"><span id="4bfa" class="ld le in kz b be lf lg l lh li">{"status":"fail", "errors":f"Exception -{str(e)}"}</span></pre><p id="ba87" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们必须定义 API 请求的主体，即有效载荷。<br/>以下是所有操作的完整有效载荷。</p><pre class="ku kv kw kx gt ky kz lj lk aw ll bi"><span id="d38d" class="lm le in kz b gy ln lo l lp li"><strong class="kz io"># API Payloads</strong></span><span id="fcd8" class="lm le in kz b gy lq lo l lp li"><strong class="kz io">create</strong></span><span id="80a5" class="lm le in kz b gy lq lo l lp li">{<br/>"operation":"create",<br/>"host":"localhost",<br/>"user":"root",<br/>"password":"root",<br/>"db":"db1",<br/>"table":"tb2",<br/>"columns":{"iD":"INT","Name":"VARCHAR(20)"}<br/>}</span><span id="625a" class="lm le in kz b gy lq lo l lp li">--------------------------------------------------------------------</span><span id="6dbb" class="lm le in kz b gy lq lo l lp li"><strong class="kz io">insert</strong></span><span id="d2a7" class="lm le in kz b gy lq lo l lp li">{<br/>"operation":"insert",<br/>"host":"localhost",<br/>"user":"root",<br/>"password":"root",<br/>"db":"db1",<br/>"table":"tb2",<br/>"data":"(1,'abc'),(2,'xyz')"        #records seprated by comma<br/>}</span><span id="e5a3" class="lm le in kz b gy lq lo l lp li">--------------------------------------------------------------------</span><span id="ce22" class="lm le in kz b gy lq lo l lp li"><strong class="kz io">update</strong></span><span id="44c4" class="lm le in kz b gy lq lo l lp li">{<br/>"operation":"update",<br/>"host":"localhost",<br/>"user":"root",<br/>"password":"root",<br/>"db":"db1",<br/>"table":"tb2",<br/>"set":"Name='xyz'",<br/>"where":"iD=2 or Name='xyz'"<br/>}</span><span id="93c8" class="lm le in kz b gy lq lo l lp li">--------------------------------------------------------------------</span><span id="d56b" class="lm le in kz b gy lq lo l lp li"><strong class="kz io">delete</strong></span><span id="1f35" class="lm le in kz b gy lq lo l lp li">{<br/>"operation":"delete",<br/>"host":"localhost",<br/>"user":"root",<br/>"password":"root",<br/>"db":"db1",<br/>"table":"tb2",<br/>"where":"iD=1"<br/>}</span><span id="3756" class="lm le in kz b gy lq lo l lp li">--------------------------------------------------------------------</span><span id="525c" class="lm le in kz b gy lq lo l lp li"><strong class="kz io">Download</strong></span><span id="e2d2" class="lm le in kz b gy lq lo l lp li">{<br/>"operation":"download",<br/>"host":"localhost",<br/>"user":"root",<br/>"password":"root",<br/>"db":"db1",<br/>"table":"tb2",<br/>"columns":"iD, Name",<br/>"where":"iD=2"<br/>}</span><span id="f40c" class="lm le in kz b gy lq lo l lp li">--------------------------------------------------------------------</span><span id="73d5" class="lm le in kz b gy lq lo l lp li"><strong class="kz io">Bulk</strong></span><span id="af9c" class="lm le in kz b gy lq lo l lp li">{<br/>"operation":"bulk",<br/>"host":"localhost",<br/>"user":"root",<br/>"password":"root",<br/>"db":"db1",<br/>"table":"tb2",<br/>"columns":"iD,Name",    #column names seprated by comma<br/>"filepath":"file_path"<br/>}</span></pre><p id="f3dd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里第一个参数“<strong class="jx io">操作</strong>”是我们必须执行的操作类型，基于此，它将执行插入、更新、删除等操作。</p><p id="b148" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于数据库连接，我们使用“<strong class="jx io">主机</strong>”、“<strong class="jx io">用户</strong>”、“<strong class="jx io">密码</strong>”、“<strong class="jx io">数据库</strong>”和“<strong class="jx io">表</strong>”参数，使用这些信息我们将使用 SQLAlchemy 连接到 MySQL 数据库。<br/>其他参数取决于操作类型，基于此，我们将使用“<strong class="jx io"> where </strong>”作为 where 条件，“T13】 data ”用于插入记录，“T15】 columns ”用于选择特定列，“T17】 filepath ”作为 CSV 文件路径，“T19】 set ”用于更新记录。</p><p id="2ec8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将在<strong class="jx io">中定义每个操作，如果…否则</strong>。如果操作字符串与条件匹配，那么我们将执行那个特定的块，否则，我们将转到下一个条件。如果没有匹配的条件，那么我们将返回最后的 else 块消息。</p><pre class="ku kv kw kx gt ky kz lj lk aw ll bi"><span id="a5c5" class="lm le in kz b gy ln lo l lp li">if operation condition matched</span><span id="5d8f" class="lm le in kz b gy lq lo l lp li">     //execute statements</span><span id="f590" class="lm le in kz b gy lq lo l lp li">elif operation condition matched</span><span id="42f7" class="lm le in kz b gy lq lo l lp li">    //execute statements</span><span id="2ce4" class="lm le in kz b gy lq lo l lp li">else:</span><span id="6c37" class="lm le in kz b gy lq lo l lp li">    //please put correct operation</span></pre><p id="304e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将在调用<strong class="jx io"> POST </strong>方法时执行上述操作。为此，当<strong class="jx io"> POST </strong>方法调用时，我们还必须定义 flask app 路由，那时我们将收集数据库细节并与数据库建立连接。所有代码块都在<strong class="jx io">try…下，除了</strong>之外，因此如果出现任何错误，我们都会收到错误信息，以便更好地理解。</p><pre class="ku kv kw kx gt ky kz la bn lb lc bi"><span id="d85f" class="ld le in kz b be lf lg l lh li">try:<br/><br/>   if (request.method=='POST'):<br/><br/>       operation=request.json['operation']             <br/>       host=request.json['host']                       <br/>       user=request.json['user']                      <br/>       password=request.json['password']              <br/>       db=request.json['db']                           <br/>       table=request.json['table']                    <br/>       engine=create_engine(f"mysql://{user}:{password}@{host}/{db}")     <br/><br/>       if (operation=='create'):<br/>          // create block<br/>       elif (operation=='insert'):<br/>          //  insert block<br/>           ........<br/>       else:                      #if operation is not given<br/>           msg={"status":"fail", "msg":"Invalid Operation"}        <br/>       return jsonify(msg)    #return success message in json format<br/><br/><br/>except Exception as e:                #if any exception occurs<br/>      return jsonify({"status":"fail", "errors":f"Exception -{str(e)}"})        <br/>#return error message in json format with exception<br/><br/><br/><br/>if __name__=="__main__":                      #main function<br/>app.run()                                      #run app</span></pre><p id="8de1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于<strong class="jx io">创建、插入、更新和删除</strong>，我们将使用<strong class="jx io"> SQLAlchemy </strong>，对于<strong class="jx io">批量和下载，</strong>我们将使用<strong class="jx io"> Pandas DataFrame </strong>。</p><p id="53ef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们使用<strong class="jx io"> SQLAlchemy </strong>与数据库建立连接，并执行所有 CRUD 操作。我们也在使用<strong class="jx io"> SQLAlchemy </strong>为<strong class="jx io">熊猫</strong>建立 MySQL 连接。</p><p id="f4ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用<strong class="jx io"> Pandas </strong>我们从表中读取数据，使用<strong class="jx io"> read_sql </strong>创建数据帧，并使用<strong class="jx io"> to_csv </strong>将数据存储为 CSV。同样，读取 csv 文件我们使用<strong class="jx io"> read_csv </strong>，上传 csv 数据我们使用<strong class="jx io"> to_sql </strong>。</p><p id="126f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所有必需的输入都是从 API 请求体中收集的。</p><p id="9ecc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是每个操作逻辑的完整代码。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="a919" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们执行这个文件时，它将驻留在本地主机地址上，即<strong class="jx io"> http://127.0.0.1:5000 </strong></p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lt"><img src="../Images/cc6fb8841a52c6f237404c16fc28caa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUra7iSzYJ_P6PZFv__rzQ.png"/></div></div></figure><p id="c07a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们的主机是<a class="ae kt" href="http://127.0.0.1:5000" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">http://127 . 0 . 0 . 1:5000</strong></a><strong class="jx io"/>app 路由 URL 是<strong class="jx io"> /sql_api。</strong>所以我们要使用<strong class="jx io"/><a class="ae kt" href="http://127.0.0.1:5000/sql_api" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">http://127 . 0 . 0 . 1:5000/SQL _ API</strong></a><strong class="jx io"/>URL 进行 API 请求。<br/>作为我们的代码功能出现在<strong class="jx io"> /sql_api </strong>路径下，函数名为<strong class="jx io"> sql_api() </strong></p><p id="9ba7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们将使用 vs 代码中的<strong class="jx io">迅雷客户端</strong>为不同的操作对每个有效负载发出 POST 请求。</p><p id="10ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">方法<strong class="jx io">发布</strong>和网址<a class="ae kt" href="http://127.0.0.1:5000/sql_api" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">http://127 . 0 . 0 . 1:5000/SQL _ API</strong></a></p><ol class=""><li id="850c" class="lu lv in jx b jy jz kc kd kg lw kk lx ko ly ks lz ma mb mc bi translated"><strong class="jx io">创建</strong> <br/>我们将创建带有列<br/> <strong class="jx io"> {"iD" : "INT "，" Name" : "VARCHAR(20)"，" Age" : "INT"} </strong>的表'<strong class="jx io"> tb2 </strong></li></ol><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi md"><img src="../Images/6a25542e07b98b818e2e00c70b6eb5e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7sRYuyBl3kTJ-hL8MU-tCw.png"/></div></div></figure><p id="de5d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是 MySQL 中使用 API 创建的表的模式。</p><pre class="ku kv kw kx gt ky kz lj lk aw ll bi"><span id="7f5e" class="lm le in kz b gy ln lo l lp li">+-------+-------------+------+-----+---------+-------+<br/>| Field | Type        | Null | Key | Default | Extra |<br/>+-------+-------------+------+-----+---------+-------+<br/>| iD    | int         | YES  |     | NULL    |       |<br/>| Name  | varchar(20) | YES  |     | NULL    |       |<br/>| Age   | int         | YES  |     | NULL    |       |<br/>+-------+-------------+------+-----+---------+-------+</span></pre><p id="25d2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 2。插入</strong> <br/>我们将数据插入到 MySQL 中创建的表<strong class="jx io"> tb2 </strong>中。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi me"><img src="../Images/c234ef7dbab9114a8f4f3c9aeb4b668f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D8qHDUzkPe6H3gBkXvf_Yg.png"/></div></div></figure><p id="13bd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">MySQL 表，插入记录后。</p><pre class="ku kv kw kx gt ky kz lj lk aw ll bi"><span id="236f" class="lm le in kz b gy ln lo l lp li">mysql&gt; select * from tb2;<br/>+------+-------+------+<br/>| iD   | Name  | Age  |<br/>+------+-------+------+<br/>|    1 | user1 |   22 |<br/>|    2 | user2 |   23 |<br/>|    3 | user3 |   33 |<br/>+------+-------+------+</span></pre><p id="a9e3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 3。更新</strong> <br/>更新表“<strong class="jx io"> tb2 </strong>”中年龄大于 30 的记录。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mf"><img src="../Images/cf93c93f6eed75b5f5000ec28a7c51f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*La7oX759zqkQpRBQS67yqg.png"/></div></div></figure><p id="c8db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">MySQL 表，更新记录后。</p><pre class="ku kv kw kx gt ky kz lj lk aw ll bi"><span id="f548" class="lm le in kz b gy ln lo l lp li">mysql&gt; select * from tb2;<br/>+------+--------------+------+<br/>| iD   | Name         | Age  |<br/>+------+--------------+------+<br/>|    1 | user1        |   22 |<br/>|    2 | user2        |   23 |<br/>|    3 | User_updated |   33 |<br/>+------+--------------+------+</span></pre><p id="af24" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 4。删除</strong> <br/>从 ID 为 3 的表<strong class="jx io"> tb2 </strong>中删除记录。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/faf2afa0e0ad6c5e7cb72a8d3a04b6ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9tW1uR1Vzeip7hPBdZnJtA.png"/></div></div></figure><p id="bf84" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">MySQL 表，删除记录后。</p><pre class="ku kv kw kx gt ky kz lj lk aw ll bi"><span id="95c9" class="lm le in kz b gy ln lo l lp li">mysql&gt; select * from tb2;<br/>+------+-------+------+<br/>| iD   | Name  | Age  |<br/>+------+-------+------+<br/>|    1 | user1 |   22 |<br/>|    2 | user2 |   23 |<br/>+------+-------+------+</span></pre><p id="fd0d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 5。从表'<strong class="jx io"> tb2 </strong>'中下载</strong> <br/>下载数据为 CSV 文件。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mh"><img src="../Images/d7aa07e178651590dc13623cda85234f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1hrfMJiQ9fFHKxJKt5h-bA.png"/></div></div></figure><p id="ed55" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将表<strong class="jx io"> tb2 </strong>的数据下载为 CSV 文件。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/f38cd032180aae73dabd59778a9945a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_pulzgWTBQwOjic8RXBPg.png"/></div></div></figure><p id="b947" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 6。批量</strong> <br/>将 CSV 文件数据批量插入到表“<strong class="jx io"> tb2 </strong>”中。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/7db77fbd0c3747371c8570521ddc81e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*TfDda2bSwabJ3_eKA_gShQ.png"/></div></figure><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/aee08831dc5184dd85ca43882981233c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_dZI06o2qM5ZY_8NOjJJBg.png"/></div></div></figure><p id="dee6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">批量插入 CSV 文件记录后的 MySQL 表。</p><pre class="ku kv kw kx gt ky kz lj lk aw ll bi"><span id="d8ac" class="lm le in kz b gy ln lo l lp li">mysql&gt; select * from tb2;<br/>+------+-------+------+<br/>| iD   | Name  | Age  |<br/>+------+-------+------+<br/>|    1 | user1 |   22 |<br/>|    2 | user2 |   23 |<br/>|    1 | user1 |   22 |<br/>|    2 | user2 |   23 |<br/>|    3 | user3 |   24 |<br/>|    4 | user4 |   25 |<br/>+------+-------+------+</span></pre><p id="6a77" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如您所见，我们通过正确的 CRUD 操作获得了正确的响应。您可以通过传递无效值并查看您将得到什么响应来探索更多内容。</p><p id="08d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在 SQLAlchemy、Pandas 和 MySQL 数据库的帮助下，我们已经成功地使用 Flask API 执行了 CRUD 操作。</p><p id="ac34" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你愿意，你也可以在这些 API 上提供 UI。您可以构建一个简单的 UI 来获取用户的输入，而不是使用 Thunder Client 传递信息。</p><p id="84e8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下一篇文章再见😊！</p><p id="4489" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">编码快乐！！！</p></div></div>    
</body>
</html>