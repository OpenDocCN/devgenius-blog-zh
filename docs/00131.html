<html>
<head>
<title>Running Django Applications in iPad</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在iPad上运行Django应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/running-django-applications-in-ipad-310bc8bc228e?source=collection_archive---------0-----------------------#2020-03-15">https://blog.devgenius.io/running-django-applications-in-ipad-310bc8bc228e?source=collection_archive---------0-----------------------#2020-03-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/02e61e80f9b6d111c713a7792d5a34d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NDfMXDHyQbLDDx5s0-5sQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/photos/Y0I5DEbx8ck" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/Y0I5DEbx8ck</a></figcaption></figure><p id="3bba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi lb translated"><span class="l lc ld le bm lf lg lh li lj di"> H </span>你有没有想过iPad或iPhone是否支持其环境的终端？嗯，是的。如你所知，名为iSH的免费开源应用程序确实如此。</p><p id="22f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">iSH不需要任何黑客或越狱。iSH本身执行仿真，并且还支持一些互操作特性，包括套接字监听、文件共享等。所以你可以依靠它，只要电池性能允许。</p><p id="454c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最近我发现这种方法挺管用的。所以我决定分享这个技巧。我将一步步向您介绍如何在iPadOS中运行您的Django应用程序。</p><h1 id="7d19" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">在你开始之前</h1><p id="a3a3" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">请确认您现在可以阅读这篇文章。如果你在开始之前就考虑好这些因素，那是最好的。</p><p id="4f9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，iSH仍在开发中。您可能无法实现所有的shell体验或工作中的一些关键工具——本文旨在构思和演示。</p><p id="cf63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二，注意你的网络连接！本教程导致大量的流量使用。确保您使用的是不计费、免费、无限制的Wi-Fi连接。如果没有，你可能会被发票压得喘不过气来！</p><p id="4aa4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，注意你剩余电量。这个教程造成了很大的功耗。</p><p id="bb9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有，我建议你最好用硬件键盘，不要用内置键盘。它让你的工作空间更大。；-)</p><p id="970d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好看吗？那我们开始吧！</p><h1 id="8c31" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">在App Store获取您的鱼</h1><p id="9c60" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">你可以在https://apps.apple.com/us/app/ish-shell/id1436902243的<a class="ae kc" href="https://apps.apple.com/us/app/ish-shell/id1436902243" rel="noopener ugc nofollow" target="_blank">app store获得iSH应用。但遗憾的是，由于苹果的政策，iSH的官方版本不包括apk包管理器。</a></p><p id="2877" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以运行下面的命令来恢复apk软件包管理器。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="6d06" class="mw ll iq ms b gy mx my l mz na">wget -qO- http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86/apk-tools-static-2.10.5-r1.apk | tar -xz sbin/apk.static &amp;&amp; ./sbin/apk.static add apk-tools &amp;&amp; rm sbin/apk.static &amp;&amp; rmdir sbin 2&gt; /dev/null</span></pre><h1 id="1809" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">更新、升级现有软件包</h1><p id="3fd7" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">iSH包含Alpine Linux发行版。所以你可以通过APK工具来管理你的分发包。</p><p id="3f04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们用下面的命令更新最新的包信息。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="29c5" class="mw ll iq ms b gy mx my l mz na">apk update</span></pre><p id="f66b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，出于安全考虑，升级一些预装的包，修复bug。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="5ffc" class="mw ll iq ms b gy mx my l mz na">apk upgrade</span></pre><h1 id="ee32" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">安装Python 3，虚拟环境和Django</h1><p id="5655" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">让我们安装Python 3解释器。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="2e5c" class="mw ll iq ms b gy mx my l mz na">apk add python3</span></pre><p id="a6ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装后，检查Python安装是否正确。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="6351" class="mw ll iq ms b gy mx my l mz na">python3 —-version</span></pre><p id="f64b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，升级PIP (Python包管理器)以安装额外的包。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="99f9" class="mw ll iq ms b gy mx my l mz na">pip3 install —-upgrade pip</span></pre><p id="1c34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用Django，您需要安装bash shell和virtualenv Python包。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="8e06" class="mw ll iq ms b gy mx my l mz na">apk add bash</span><span id="740e" class="mw ll iq ms b gy nb my l mz na">pip3 install virtualenv</span></pre><p id="f9f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有的事情都做完了吗？然后，让我们在您的主目录中创建一个虚拟环境。虚拟环境的名称是helloworld。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="28d5" class="mw ll iq ms b gy mx my l mz na">cd ~/</span><span id="add2" class="mw ll iq ms b gy nb my l mz na">virtualenv helloworld</span><span id="33ab" class="mw ll iq ms b gy nb my l mz na">cd helloworld</span></pre><p id="b163" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，激活虚拟环境，确保只在其虚拟环境中安装Django和相关的依赖项，而不是全局范围。激活后，提示符将指示当前虚拟环境的名称。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="ef9b" class="mw ll iq ms b gy mx my l mz na">source ./bin/activate</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/2da5208eac1c507daa5d64615afd696c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zBjju74Gqh-UcvpmOQMuRw.png"/></div></div></figure><h1 id="4a26" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">创建、初始化和运行Django网站</h1><p id="b7fa" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">让我们在虚拟环境中安装Django框架。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="e2c9" class="mw ll iq ms b gy mx my l mz na">pip3 install django</span></pre><p id="3042" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装后，您可以使用Django-admin工具。使用这个工具，您可以搭建网站和本地SQLite数据库的新实例(这在iSH环境中也受支持)。)</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="4c69" class="mw ll iq ms b gy mx my l mz na">django-admin startproject helloworld</span><span id="03dd" class="mw ll iq ms b gy nb my l mz na">cd ./helloworld</span></pre><p id="a39a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本地SQLite数据库的当前状态与项目数据库定义不同步。您应该使用迁移脚本。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="72a1" class="mw ll iq ms b gy mx my l mz na">python3 ./manage.py migrate</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/7f3202b79d643ba847ef516ebda30548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OSNjpWo4SqbgIr3-aCOU2A.png"/></div></div></figure><p id="1165" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，最好保护应用程序的安全，并且您需要在启动网站之前创建一个默认的超级管理员帐户。运行下面的命令，并遵循对话框。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0093" class="mw ll iq ms b gy mx my l mz na">python3 ./manage.py createsuperuser</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/f52e0932fea2a9df030b4283840b8430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*09gd35xjHEvol6OzS9Ibog.png"/></div></div></figure><p id="1841" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在可以运行Django服务器了。请运行以下命令启动。使用—不安全的开关，Django将允许任何到服务器的传入连接。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="ba29" class="mw ll iq ms b gy mx my l mz na">python3 ./manage.py runserver —-insecure 0.0.0.0:8000</span></pre><p id="1c96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以发现Django服务器在你的iPad上成功运行。:-D</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/af27cae41c82a4b3310c57e86fdf9284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pAiRSOWeC9WxdfRshKKHfQ.jpeg"/></div></div></figure><h1 id="ac8d" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">使用多任务功能</h1><p id="3b4c" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">本质上，你可以在你的iPhone上运行这个教程，而不仅仅是在iPad上。但是这两种环境都不支持后台进程。因此，如果您运行Django服务器，然后在iSH上激活另一个应用程序，如Safari或Google Chrome，iSH很快就会挂起。因此，在iPhone上调试Django应用程序的体验并不好。</p><p id="7e4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我建议你最好在你的iPad设备上使用这种方法，因为iPadOS支持分屏多任务处理。</p><p id="2fb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于那些不熟悉拆分视图的人，请在苹果网站上查找这个帮助文档。iSH已经支持iPad OS上的分屏功能。</p><p id="b958" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://support.apple.com/en-us/HT207582" rel="noopener ugc nofollow" target="_blank">https://support.apple.com/en-us/HT207582</a></p><p id="7d69" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那我们来做个分景吧。在左边，你可以放置你最喜欢的网络浏览器，在右边，你可以放置激活iSH应用，它运行Django服务器。</p><p id="54c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以通过地址http://localhost:8000访问Django服务器。</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/912a1110600c1d676955cad96be9e71e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QZGR1o5N5FCKuWRW63HkkA.png"/></div></div></figure><p id="4b53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">瞧啊。另外，您可以通过http://localhost:8000/admin访问管理页面。提供您的凭证之前，你指定前面的步骤，然后你会得到一个整洁和熟悉的管理页面！</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/3d5e8f5f3b13d3601c2a918fd5b944e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYo0IBpo6TdPTeu4TGbzaw.png"/></div></div></figure><p id="9b00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">控制台显示您正确连接iPad上的本地服务器的日志。</p><h1 id="4015" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">更多提示</h1><p id="4e61" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko mk kq kr ks ml ku kv kw mm ky kz la ij bi translated">如果你认真考虑使用这个环境，你可以做更多像下面这样的事情。</p><ul class=""><li id="5f34" class="nf ng iq kf b kg kh kk kl ko nh ks ni kw nj la nk nl nm nn bi translated">用您的密钥对安装VIM、Git(或Subversion、CVS)和SSH。</li><li id="807a" class="nf ng iq kf b kg no kk np ko nq ks nr kw ns la nk nl nm nn bi translated">在终端内部安装多任务TMUX。</li></ul><p id="2168" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你是工作副本应用程序的忠实粉丝，FileProvider实现正在路上。你可以在https://github.com/tbodt/ish/pull/543的<a class="ae kc" href="https://github.com/tbodt/ish/pull/543" rel="noopener ugc nofollow" target="_blank">跟踪进展并对此专题做出贡献。:-)</a></p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><a href="https://www.buymeacoffee.com/rkttu"><div class="gh gi nt"><img src="../Images/6d60b235fcc46a4bd696b90e886419ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*Dpw8-hNGI2fDmosV4E8DVQ.png"/></div></a></figure></div></div>    
</body>
</html>