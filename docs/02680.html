<html>
<head>
<title>PHP — P40: use Keyword</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P40:使用关键字</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-7-x-p40-use-keyword-37d8e7df9138?source=collection_archive---------1-----------------------#2020-08-20">https://blog.devgenius.io/php-7-x-p40-use-keyword-37d8e7df9138?source=collection_archive---------1-----------------------#2020-08-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b1cf7d4895786b31396d980574aba181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ioidT3io61p8oaZGq895pA.jpeg"/></div></div></figure><p id="a3b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在前几节教程中，我们已经学习了函数。每次需要访问函数外部的数据时，都可以声明一个参数并将一个参数传递给函数。但是，如何在不使用参数的情况下访问函数外部的变量呢？我知道我们还没有看到范围，但是我将尝试用几句话来解释它。</p><p id="fe76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作用域是程序的某个部分可以访问的变量和方法的可见性。例如，假设我们在函数内部声明了一个变量(正则或闭包)。其他函数将无法访问该变量。该变量对创建它的函数具有局部作用域。变量可以有全局范围，可以在任何地方访问；那些变量是在函数之外定义的。然而，在 PHP 中，在函数内部调用具有全局范围的变量是不允许的，因为函数会寻找局部变量。在使用全局变量之前，必须在函数内部将其声明为<em class="kw"> global </em>。我们最终将在本文中讨论这一点。别担心，用几个例子很快就会明白了。</p><p id="053a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以使用<em class="kw"> use </em>和<em class="kw"> global </em>概念从<strong class="ka ir">匿名</strong>函数内部访问全局变量，但是要知道<em class="kw"> use </em>在函数被定义时获取全局变量的值，而<em class="kw"> global </em>将在函数被调用时获取变量的值。<em class="kw"> use </em>关键字只能<strong class="ka ir">用于闭包，不能用于常规函数。</strong></p><p id="854d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们看一个例子之前，让我们看一下使用<em class="kw"> use </em>关键字的闭包的结构。<em class="kw">如果你需要匿名函数(闭包)的帮助，请看</em> <a class="ae kx" href="https://medium.com/@dinocajic/php-7-x-p39-anonymous-functions-75f6f99fa571" rel="noopener"> <em class="kw">我的文章主题</em> </a> <em class="kw">。</em></p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="30b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw"> use </em>关键字紧接在<em class="kw"> function() </em>声明之后，左花括号之前；您将在括号内传递全局变量。让我们来看一个例子。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><ol class=""><li id="2ee1" class="le lf iq ka b kb kc kf kg kj lg kn lh kr li kv lj lk ll lm bi translated">PHP 将值字符串<em class="kw"> Dino </em>赋给变量<em class="kw"> $name </em>。</li><li id="1050" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">闭包<em class="kw"> $hello </em>被创建。匿名函数在函数定义期间导入全局<em class="kw"> $name </em>变量。一旦函数被调用，它将<em class="kw">回显</em>变量<em class="kw"> $name </em>的值。</li><li id="0b45" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">在第 9 行，PHP <em class="kw">回显</em>变量<em class="kw"> $name </em>中的值。目前，<em class="kw"> $name </em>正在存储字符串<em class="kw"> Dino </em>，因此<em class="kw"> Dino </em>显示在屏幕上。</li><li id="d209" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">接下来，在第 11 行，一个新值<em class="kw"> Harrison </em>被赋给变量<em class="kw"> $name </em>。</li><li id="440a" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">在第 13 行，PHP <em class="kw">回显</em>变量<em class="kw"> $name </em>中的值。目前，<em class="kw"> $name </em>正在存储字符串<em class="kw">哈里森</em>，因此<em class="kw">哈里森</em>显示在屏幕上。</li><li id="9287" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">最后，调用闭包$ <em class="kw"> hello() </em>。</li><li id="a07f" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">PHP 返回到第 5 行，开始执行闭包体内的内容。调用<em class="kw"> echo </em>语句，显示<em class="kw"> Dino </em>。</li></ol><p id="57f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在第 11 行把<em class="kw"> $name </em>的值改成了<em class="kw"> Harrison </em>，为什么会显示<em class="kw"> Dino </em>？记住我之前说的:</p><blockquote class="ls lt lu"><p id="11e3" class="jy jz kw ka b kb kc kd ke kf kg kh ki lv kk kl km lw ko kp kq lx ks kt ku kv ij bi translated"><strong class="ka ir">使用</strong>在<strong class="ka ir">函数被定义时获取全局变量的值</strong>而<strong class="ka ir">全局</strong>将在<strong class="ka ir">函数被调用</strong>时获取变量的值</p></blockquote><p id="fd15" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当 PHP 读取程序时，它在第 5 行定义了函数，并复制了全局变量的值，以便可以使用它。后来，在第 14 行，闭包被调用。已经执行了定义部分，并且值已经固化在闭包内部。这就是为什么你得到的值是<em class="kw">迪诺</em>而不是<em class="kw">哈里森</em>。</p><p id="85fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当然，您可以将全局变量作为参数传递，但是如果您需要使用<em class="kw"> use </em>函数，这就是您应该做的。如上所述，两者都有好处。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="ec7d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看最后一个例子，它包含了<em class="kw">使用</em>关键字、<em class="kw">全局</em>关键字和<em class="kw">参数</em>概念。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><ol class=""><li id="1c52" class="le lf iq ka b kb kc kf kg kj lg kn lh kr li kv lj lk ll lm bi translated">PHP 首先将值<em class="kw"> Dino </em>和<em class="kw"> Harrison </em>分别赋给变量<em class="kw"> $name1 </em>和<em class="kw"> $name2 </em>。</li><li id="150c" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">PHP 定义了匿名函数。匿名函数是用一个参数<em class="kw"> $greeting </em>声明的。该参数将在函数调用过程中传递。匿名函数利用<em class="kw"> use </em>关键字来复制<em class="kw"> $name1 </em>全局变量的值。然后，它利用<em class="kw">全局</em>关键字来访问<em class="kw"> $name2 </em>全局变量的值。最后，它将<em class="kw">回显</em>出<em class="kw"> $greeting </em>参数和两个全局变量<em class="kw"> $name1 </em>和<em class="kw"> $name2。</em></li><li id="ea04" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">在第 12 行调用闭包，并传递<em class="kw"> Hello there </em>字符串。PHP 进入闭包并显示:<em class="kw">你好，迪诺和哈里森。</em></li><li id="74d0" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">它退出闭包并在第 14 行继续，将<em class="kw"> $name1 </em>的值从<em class="kw"> Dino </em>更改为<em class="kw"> Amy。</em></li><li id="5caa" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">在第 15 行，存储在<em class="kw"> $name2 </em>中的值从<em class="kw"> Harrison </em>更改为<em class="kw"> Steve。</em></li><li id="2b5e" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">第 17 行再次调用闭包。字符串<em class="kw">在那里</em>作为参数被传递。</li><li id="9a7d" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">PHP 进入闭包并显示:<em class="kw">嗨，迪诺和史蒂夫</em>。</li></ol><p id="cd01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">即使两个全局变量都改变了，就匿名函数而言，只有<em class="kw"> $name2 </em>被更新了，因为<em class="kw"> use </em>在定义<strong class="ka ir">函数时得到全局变量的值，而</strong>和<em class="kw"> global </em>在调用<strong class="ka ir">函数时得到变量的值。</strong></p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="ly ld l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><div class="ky kz la lb gt mg"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">dino cajic/PHP-7-YouTube-教程</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">PHP 7.x YouTube 教程的代码。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">github.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu jw mg"/></div></div></a></div></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f04e0f12613630f4b56f898f64c2173f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t73fNtf4zXunXWbx.jpeg"/></div></div></figure><p id="242c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dino Cajic 现任<a class="ae kx" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank">LSBio(life BioSciences，Inc.) </a>、<a class="ae kx" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae kx" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae kx" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛峰生物技术</a>、<a class="ae kx" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank"> Nordic MUbio </a>和<a class="ae kx" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank">exa lpha</a>IT 总监。他还担任了<a class="ae kx" href="https://myautosystem.com/" rel="noopener ugc nofollow" target="_blank"> MyAutoSystem </a>的首席执行官。他有超过十年的软件工程经验。他拥有计算机科学学士学位和生物学辅修学位。他的背景包括创建企业级电子商务应用程序，进行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="cdae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以在<a class="ae kx" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank">领英</a>上与他联系，在<a class="ae kx" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae kx" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="3935" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kx" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="kw">阅读迪诺·卡奇(以及其他数千名媒体作家)的每一个故事。您的会员费直接支持 Dino Cajic 和您阅读的其他作者。您还可以完全了解 Medium 上的每个故事。</em> </a></p></div></div>    
</body>
</html>