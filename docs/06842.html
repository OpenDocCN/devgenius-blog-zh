<html>
<head>
<title>How to Generate Random Math Problems with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Python 生成随机数学问题</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-generate-random-math-problems-with-python-9a9317031503?source=collection_archive---------10-----------------------#2022-02-07">https://blog.devgenius.io/how-to-generate-random-math-problems-with-python-9a9317031503?source=collection_archive---------10-----------------------#2022-02-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="a619" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">省去教我 6 岁儿子的麻烦</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/f29bc9890de3a6df4dd1eb44e5d221ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OF-7U8aB89_gg1wv3wnP_g.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">作者版权</figcaption></figure><p id="bbc4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我去年给我 6 岁的儿子写了上面截图中的<em class="ki">数学游戏</em>，用<a class="ae kz" href="https://pywebio.readthedocs.io/" rel="noopener ugc nofollow" target="_blank"> PyWebIO </a>生成 web 前端和一段随机的数学问题生成代码在后台。</p><p id="4728" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文不会深入讨论前端生成的细节，它只阐述了生成随机数学问题的代码。</p><h1 id="c9a4" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">步骤概述</h1><p id="bbbe" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">正如我之前提到的，完整的计划是成功执行的 50%，但在这种情况下，跳入其中肯定没问题。要求没那么复杂。</p><ol class=""><li id="1e34" class="md me in jm b jn jo jr js jv mf jz mg kd mh kh mi mj mk ml bi translated">先生成两个随机数。</li><li id="f713" class="md me in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">将这两个随机数放入一个简单的数学方程中，可以是加法、减法、乘法或除法。</li><li id="d88b" class="md me in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">计算方程式并验证用户输入。</li><li id="e77a" class="md me in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">避免被零除之类的错误。</li><li id="cde6" class="md me in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">尽量避免太容易(例如 5–5 = 0)或太难(例如分数或负结果)的问题。</li><li id="a1d1" class="md me in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">生成多个问题时尽量避免重复。</li></ol><h1 id="ce90" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">版本 1:命令行版本</h1><p id="6ed4" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">我的最初版本实际上是作为命令行输入/输出完成的，根本没有用户界面，这对于一个 6 岁的孩子来说并不理想。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mr"><img src="../Images/33c4dda90bdb0ab4efae49e8f43d5054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mOmmJvV9ERBfzp8oQiCzsA.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">作者版权</figcaption></figure><p id="a70d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">代码很简单，做了一些调整，比如接受范围限制的模式:</p><pre class="kk kl km kn gt ms mt mu mv aw mw bi"><span id="9666" class="mx lb in mt b gy my mz l na nb">import random<br/>import datetime</span><span id="35c9" class="mx lb in mt b gy nc mz l na nb">pattern = input('Enter the problem type (i.e., 10+20 means [0-10]+[0-20]): ')<br/>if pattern=='':<br/>    pattern = '10+10'<br/>if '+' in pattern:<br/>    op = '+'<br/>elif '-' in pattern:<br/>    op = '-'<br/>elif '*' in pattern:<br/>    op = '*'<br/>elif '/' in pattern:<br/>    op = '/'<br/>left_limit = int(pattern.split(op)[0].strip())<br/>right_limit = int(pattern.split(op)[1].strip())<br/>rights = wrongs = 0<br/>while True:<br/>    a = random.randint(0 if op!='/' else 1, left_limit)<br/>    b = random.randint(0 if op!='/' else 1, right_limit)<br/>    if op in ['-', '/']:<br/>        a, b = max(a, b), min(a, b)<br/>    if op=='+':<br/>        result = a + b<br/>    elif op=='-':<br/>        result = a - b<br/>    elif op=='*':<br/>        result = a * b<br/>    elif op=='/':<br/>        result = a / b<br/>    question = '\n' + ' '.join([str(a), op, str(b), '= '])<br/>    answer = input(question)<br/>    if int(answer)==result:<br/>        rights += 1<br/>        print("Right!")<br/>    else:<br/>        wrongs += 1<br/>        print("Wrong!")<br/>    again = input('Again? ')<br/>    if again.lower() in ['no', 'n']:<br/>        score = str(rights) + ' right, ' + str(wrongs) + ' wrong.'<br/>        print('\nYour score:', score)<br/>        break</span></pre><h1 id="3371" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">版本 2:第一次使用 PySimpleGUI </strong></h1><p id="4975" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">我的第一个版本并不成功，我偶然发现了一个名为<a class="ae kz" href="https://pysimplegui.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> PySimpleGUI </a>的 Python GUI 库，它使我能够将我的<em class="ki">算术游戏</em>(向<em class="ki">权力的游戏</em>致敬)升级到一个新的水平:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nd"><img src="../Images/5275ff3e05771c15d9a763d51ef7266d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5LImHm8uIRg8tRDW_PpXpg.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">作者版权</figcaption></figure><p id="d865" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以看到命令行版本和第一个 GUI 版本之间的相似性，以及一些改进，例如随机选择操作符。</p><h1 id="6310" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">版本 3:第二次尝试使用 PySimpleGUI </strong></h1><p id="1abc" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">随着对 PySimpleGUI 库(不幸的是，它仍然有一些致命的问题)有了更多的了解，我将我的<em class="ki">算术游戏</em>升级为类似 GUI 的“计算器”:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ne"><img src="../Images/ba9513f3a4514dfc0026309b14d52b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8I9VrjBFkMs5E_iZ9ZeElw.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">作者版权</figcaption></figure><p id="98ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这次升级的一个额外功能是每当你按下一个数字时都会有语音提示，就像一个语音计算器:)</p><h1 id="400a" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">版本 4:带有 PyWebIO 的 Web GUI</h1><p id="5e18" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">我的最终版本是用 PyWebIO 完成的，这是一个比 PySimpleGUI 更好的选择，尽管它仍然有很多限制。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/f29bc9890de3a6df4dd1eb44e5d221ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OF-7U8aB89_gg1wv3wnP_g.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">作者版权</figcaption></figure><p id="97d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">折叠的<code class="fe nf ng nh mt b">Settings</code>部分实际上包含了更多的选项来提供对游戏难度的精细控制。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ni"><img src="../Images/3caaab6e05d46c148ad371b700d091dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_H2xa8Hq3hjsgMX8dbXLg.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">作者版权</figcaption></figure><h1 id="949c" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">最终工作版本</h1><p id="2092" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">我的实际最终工作版本根本不需要任何 GUI，它实际上是由一个 Python 脚本生成的，该脚本计划在每天早上 9:30 运行，并向我的舒菲帐户发送一条消息:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/b82c9f56dc71e80ede1f68a157b400a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*DQ61D5mE_3xnhjnE-R7Xmw.png"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">作者版权</figcaption></figure><p id="df89" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我所需要做的就是把问题(当然没有答案)复制到我儿子的便签本上，并且在他完成后检查他的答案。到目前为止，他已经在 3 位数乘以 3 位数的问题上困了将近半年，很少能把每个问题都做对。</p><p id="57ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">纸张加上父母的私人时间永远是对抗所有电子设备的最佳教材。</p></div></div>    
</body>
</html>