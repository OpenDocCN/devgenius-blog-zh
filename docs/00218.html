<html>
<head>
<title>Callbacks in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的回调</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/callbacks-in-javascript-dcf32638c2c4?source=collection_archive---------2-----------------------#2020-05-18">https://blog.devgenius.io/callbacks-in-javascript-dcf32638c2c4?source=collection_archive---------2-----------------------#2020-05-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/59498048937d018192028e653a5be9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XSCSr7Tj_q35KqvZXWvgHg.png"/></div></div></figure><p id="3ae4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，我们将了解什么是回调，以及为什么我们在JavaScript中需要回调。</p><p id="eb90" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">JavaScript是一种单线程语言。这意味着不同的任务不能同时执行。因此，如果一个任务需要很长时间，比如说(下载一些文件)，那么在下载代码之后提到的所有其他任务都将在这段时间内执行。</p><p id="f8e2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们使用异步JavaScript(回调、承诺和异步/等待)来系统地执行异步命令。每一种实现异步java script的方法都有不同的优缺点。</p><p id="4e99" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们将通过下面的例子来理解回调。</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="103e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们有三个命令</p><ol class=""><li id="de98" class="kz la in jx b jy jz kc kd kg lb kk lc ko ld ks le lf lg lh bi translated">打字开始</li><li id="3914" class="kz la in jx b jy li kc lj kg lk kk ll ko lm ks le lf lg lh bi translated">打印mid</li><li id="373d" class="kz la in jx b jy li kc lj kg lk kk ll ko lm ks le lf lg lh bi translated">印制结束</li></ol><p id="9665" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">“mid”仅在3秒后打印。让我们看看控制台上的输出</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ln"><img src="../Images/a79c0a98369a6dda035aaaad1f686ecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LoN8G8mxSOF_HPWJ2xTnqA.png"/></div></div></figure><p id="1bb1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们观察到mid是在End之后打印的。这是因为JavaScript不会等待mid命令，它会处理脚本中指定的其他命令。</p><p id="19b8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在假设我们正在下载一个文件，首先我们需要下载它，然后压缩它，接着上传它。所以我们将使用下面的代码实现它</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="612f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以我们有四个功能上传，下载，压缩和其他任务。</p><p id="25dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是输出-</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/622d5820dc283d2805add9cf4daf5cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*Al-f8Q9J3CQl6rie8wAVVw.png"/></div></figure><p id="9004" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们观察到，我们的上传和压缩功能甚至在下载发生之前就已经在运行了。</p><p id="43b0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了解决这个问题，我们使用回调。</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="9dad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们首先调用download函数，并将compress函数作为参数传递。当下载函数的执行完成时，压缩函数被调用，上传函数作为参数被传递。最后，调用upload函数，并且不传递任何其他参数。</p><p id="9a8f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们现在将观察输出-</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lp"><img src="../Images/6747bc61a91522482aadec230fa9624e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ybe1kLHzk6W3pHxdTPpOkw.png"/></div></div></figure><p id="c29b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们注意到，由于JavaScript的性质，与下载无关的其他任务会首先执行。</p><p id="02a8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该文件的所有其他任务都按照我们预期的系统方式执行。</p><p id="cd9e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望你们喜欢这篇文章。请在这里订阅更多精彩的文章，并请给出一个👏如果你觉得这篇文章信息丰富。</p></div></div>    
</body>
</html>