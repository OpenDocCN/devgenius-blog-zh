# 在 C#中添加整数数组的 12 种方法—第 1 部分

> 原文：<https://blog.devgenius.io/12-ways-to-add-an-array-of-integers-in-c-part-1-34753ff7f17a?source=collection_archive---------14----------------------->

![](img/9409bbfb4163a00cc70603864ef3ce5b.png)

罗马法师在 [Unsplash](/s/photos/chalkboard?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

在我职业生涯的某个阶段，我花了很多时间面试从初级到高级编程工作的候选人。正如任何曾经主持过技术面试的人可能会告诉你的那样，要把事情做好并不容易。你可能有一个小时的时间来尽力预测桌子另一边的人——可能非常紧张，可能口渴，可能没有睡好，可能在当前工作的压力下——是否能够为你的团队做出积极的贡献。

一种无处不在但经常被人诟病的评估候选人潜力的方法是白板编码练习。为什么它经常被诽谤？因为在现实生活中，你不会真的在白板上写计算机程序。那为什么它无处不在呢？因为如果做得好，这可以是一种非常有效的评估方式，而不仅仅是一个人对特定语言、框架、必备术语等的*知识*。而是他们对复杂、高度抽象的过程的实际理解，这一过程将现实世界的问题转化为组成该问题的程序化解决方案的比特和字节。

但是怎么做对呢？关于这一点已经写了很多。我的首选解决方案(不是我的 **goto** 解决方案；稍后会有更多的介绍)是提出一个非常非常简单的问题，告诉他们问我任何问题，告诉他们不要担心语法，用任何语言回答问题，然后看看会发生什么。

我最喜欢的练习:给定一个整数数组，写一个返回总和的函数。仅此而已。把一堆数字加起来就行了。编程 101 的东西。简单吧？

嗯，白板编程很难。许多候选人都在努力解决这个问题。在许多情况下，这只是紧张，只要稍加安慰，他们就能找到方向，把它击倒。谢天谢地，只有少数人真的不知道如何做这样的事情。他们中的大多数人一生中从未写过一行原创代码，只是搜索、复制、粘贴和修补。

在我们讨论完他们的解决方案后，如果时间允许(假设有充分的理由继续采访)，我喜欢向他们介绍我想到的其他几个解决方案。有些解决方案是绝对荒谬的。其他人可能只是有点太聪明了。有些只适用于特定的输入。但是他们都强调了一种不同的方式来处理表面上看起来很基本的问题。

正如我在标题中提到的，我总共想出了 12 种不同的方法。它们分为五个基本类别。本周，我将讲述前三个问题。

# 基本的

绝大多数考生都会想出一个 for 循环，就像这样:

为什么这是最常见的？我想到了几个很好的理由。一个是这个相同的基本语法在大多数 C-syntax 语言中(如果不是全部的话)可以工作，也许只需要一些修改。它的表现也很好。

事实上，性能是我们在面试中要讨论的事情之一。为什么一种解决方案可能比另一种执行得更好？你怎么会知道？你会如何优化它？

我们要讨论的另一件事是可读性。为了突出这一点，这里有几个相同主题的变体。

# 转到

被认为有害？认为牛逼！如果你写了这段代码，没人敢碰它。你会成为一个传奇。有保障的工作保障。

当然，在现实生活中你永远不会真的这么做。但这引发了一场有趣的讨论。因为从逻辑上讲，这段代码实际上与第一个例子相同。for 循环只是重复相同的代码块直到满足某个条件的一种语法方式。goto 解决方案也在做同样的事情，只是有点令人困惑。

在退出“循环”之前，进一步思考我们试图满足的条件会把我们带到一个更糟糕但仍然有趣的解决方案。

# 两颗北极指极星

老实说，我认为如果他们今天发明 C#，他们可能甚至不会包括不安全的代码。当时，微软正试图吸引 VB 和 C++开发人员使用其新平台，因此他们正试图穿针引线。C++程序员——尤其是 C 程序员——不愿意放弃指针的能力(尽管他们可能乐于放弃复杂性)。所以微软想出了一种方法来将指针引入语言规范。与此同时，的一大卖点。NET 的一个重要特点是内存安全和垃圾回收。固定的内存位置不符合这种模式。因此这种方法是丑陋的。但它确实有效。

您可能认为这两种解决方案都可能提供一些性能优势，以换取可读性。稍后我可能会更多地讨论性能，但是从我的测试来看，事实并非如此。for 循环和它的两个丑陋的表亲都是性能最好的解决方案，但是 for 循环实际上通常胜过 goto 和指针解决方案。我的理论是，指针解决方案会损失一些时间来固定内存地址，以便指针递增可以工作。我真的不知道为什么 goto 会慢一点。总有一天我会看着这个反汇编，试着把它弄明白。

下次我将讨论下一个最明显的解决方案，foreach 循环。您可能认为这只是 for 循环中的某种语法糖。你错了。或者至少错了一半。