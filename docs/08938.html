<html>
<head>
<title>The Complete JS Notes #10 🧵 Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">完整的 JS 注释#10 🧵函数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-complete-js-notes-10-d979affa85ea?source=collection_archive---------12-----------------------#2022-07-19">https://blog.devgenius.io/the-complete-js-notes-10-d979affa85ea?source=collection_archive---------12-----------------------#2022-07-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="946f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">欢迎阅读我的 JavaScript 笔记的下一篇文章。</p><p id="4f02" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">在本文中我们将谈到:</em> <strong class="jm io"> <em class="ki">引用 vs 值，高阶函数，调用，应用，绑定</em> </strong></p><p id="fd33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">所有内容摘自 Jonas Schmedtmann 的惊人课程</em> <a class="ae kj" href="https://www.udemy.com/course/the-complete-javascript-course/" rel="noopener ugc nofollow" target="_blank"> <em class="ki">完整的 JavaScript 课程 2022:从零到专家！</em>T13】</a></p><p id="397d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">请购买课程以了解内容，这只是我对课程的总结笔记。</em></p></div><div class="ab cl kk kl hr km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ig ih ii ij ik"><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/05e251d880b41ef77e775e4b825553f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*toNtbj9Gb8omImZQ3Uwrew.png"/></div></div></figure></div><div class="ab cl kk kl hr km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ig ih ii ij ik"><h1 id="75e3" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">默认参数</h1><p id="8fc2" class="pw-post-body-paragraph jk jl in jm b jn mb jp jq jr mc jt ju jv md jx jy jz me kb kc kd mf kf kg kh ig bi translated">在 ES5 中，我们用 or 参数短路值来获得默认参数</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="1a19" class="ml le in mh b gy mm mn l mo mp">const bookings = [];</span><span id="137e" class="ml le in mh b gy mq mn l mo mp">const createBooking = function (flightNum, numPassengers, price) {</span><span id="73d3" class="ml le in mh b gy mq mn l mo mp">numPassengers = numPassengers ?? 1; <br/>// I short circuit with nullish ascending because it is better</span><span id="362b" class="ml le in mh b gy mq mn l mo mp">price = price ?? 3000;</span><span id="8982" class="ml le in mh b gy mq mn l mo mp">const booking = {</span><span id="574c" class="ml le in mh b gy mq mn l mo mp">flightNum,</span><span id="512b" class="ml le in mh b gy mq mn l mo mp">numPassengers,</span><span id="9acd" class="ml le in mh b gy mq mn l mo mp">price,</span><span id="8135" class="ml le in mh b gy mq mn l mo mp">};</span><span id="6ffd" class="ml le in mh b gy mq mn l mo mp">console.log(booking);</span><span id="92bc" class="ml le in mh b gy mq mn l mo mp">bookings.push(booking);</span><span id="ffda" class="ml le in mh b gy mq mn l mo mp">};</span><span id="ea3e" class="ml le in mh b gy mq mn l mo mp">createBooking(‘LH123’);</span></pre><p id="36f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是有了 ES6，我们有了更好的做事方式</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="a54a" class="ml le in mh b gy mm mn l mo mp">const createBooking = function (flightNum, numPassengers=1, price=3000) {</span><span id="bd35" class="ml le in mh b gy mq mn l mo mp">const booking = {</span><span id="d29d" class="ml le in mh b gy mq mn l mo mp">flightNum,</span><span id="cf98" class="ml le in mh b gy mq mn l mo mp">numPassengers,</span><span id="6b23" class="ml le in mh b gy mq mn l mo mp">price,</span><span id="3bb8" class="ml le in mh b gy mq mn l mo mp">};</span><span id="200d" class="ml le in mh b gy mq mn l mo mp">console.log(booking);</span><span id="1fea" class="ml le in mh b gy mq mn l mo mp">bookings.push(booking);</span><span id="252f" class="ml le in mh b gy mq mn l mo mp">};</span><span id="82f3" class="ml le in mh b gy mq mn l mo mp">createBooking(‘LH123’);</span></pre><p id="05ee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是最好的事情是，我们甚至可以使用写在参数之前的参数来进行计算</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="d5dc" class="ml le in mh b gy mm mn l mo mp">const createBooking = function (</span><span id="3773" class="ml le in mh b gy mq mn l mo mp">flightNum,</span><span id="4ff9" class="ml le in mh b gy mq mn l mo mp">numPassengers = 1,</span><span id="f5fe" class="ml le in mh b gy mq mn l mo mp">price = 3000 * numPassengers &lt;- We can also do all kind of calculations</span><span id="fb1c" class="ml le in mh b gy mq mn l mo mp">) {</span><span id="5398" class="ml le in mh b gy mq mn l mo mp">const booking = {</span><span id="345a" class="ml le in mh b gy mq mn l mo mp">flightNum,</span><span id="8e0b" class="ml le in mh b gy mq mn l mo mp">numPassengers,</span><span id="16a2" class="ml le in mh b gy mq mn l mo mp">price,</span><span id="1eca" class="ml le in mh b gy mq mn l mo mp">};</span><span id="ceec" class="ml le in mh b gy mq mn l mo mp">console.log(booking);</span><span id="bcd8" class="ml le in mh b gy mq mn l mo mp">bookings.push(booking);</span><span id="9f0e" class="ml le in mh b gy mq mn l mo mp">};</span></pre><p id="830a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们想要覆盖默认的参数行为，我们必须</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="865b" class="ml le in mh b gy mm mn l mo mp">createBooking(‘SH123’, undefined, 3000);</span></pre><p id="2bc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">undefined 仅仅意味着没有参数。</p><h1 id="8b4e" class="ld le in bd lf lg mr li lj lk ms lm ln lo mt lq lr ls mu lu lv lw mv ly lz ma bi translated">传递参数的工作原理:值与引用</h1><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="ebde" class="ml le in mh b gy mm mn l mo mp">const flight = ‘LH234’;</span><span id="9767" class="ml le in mh b gy mq mn l mo mp">const jonas = {</span><span id="ecd4" class="ml le in mh b gy mq mn l mo mp">name: ‘XYZ’,</span><span id="3b00" class="ml le in mh b gy mq mn l mo mp">};</span><span id="737c" class="ml le in mh b gy mq mn l mo mp">const checkIn = function (flightNum, passenger) {</span><span id="3e0d" class="ml le in mh b gy mq mn l mo mp">flightNum = ‘AB!!’;</span><span id="b1c6" class="ml le in mh b gy mq mn l mo mp">passenger.name = ‘Mr.’ + passenger.name;</span><span id="a046" class="ml le in mh b gy mq mn l mo mp">};</span><span id="6140" class="ml le in mh b gy mq mn l mo mp">checkIn(flight, jonas);</span><span id="2763" class="ml le in mh b gy mq mn l mo mp">console.log(flight);</span><span id="5826" class="ml le in mh b gy mq mn l mo mp">console.log(jonas);</span><span id="246b" class="ml le in mh b gy mq mn l mo mp">//Returns</span><span id="e735" class="ml le in mh b gy mq mn l mo mp">LH234<br/>Mr. XYZ</span></pre><p id="8b07" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是为什么物体变了而原始人不变呢？</p><p id="0ad6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为当我们将原始值放入函数中时，它只是在参数中做了一个拷贝。</p><p id="c8bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是对象是引用，所以同一个引用在函数中被改变。</p><p id="ce0e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">按引用传递与按值传递</strong></p><p id="03e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在一些编程语言中，你可以把所有东西作为引用传递，这样当你离开函数时，全局值就会被改变。这就是 C++的情况，它被称为传递引用</p><p id="2eab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我能听到你说“但是怎么做？”“我们刚刚看到对象是通过引用传递的”看起来是这样，朋友，其实不是。我们复制了引用的值并发送给参数，我们没有把引用放在那里。这是一个重要的区别。</p><h1 id="cf66" class="ld le in bd lf lg mr li lj lk ms lm ln lo mt lq lr ls mu lu lv lw mv ly lz ma bi translated">一阶和高阶函数</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mw"><img src="../Images/c36b4672062e764806242786a3eb280f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PHSr-Bvly9uYZeUaoN0rqA.png"/></div></div></figure><p id="5a43" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">很多人认为一级函数和高阶函数是一回事。这不是真的。</p><p id="674e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一级函数是一个抽象的概念。它仅仅意味着“像对待变量一样对待函数”</p><p id="8c0a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然而，高阶函数实际上是存在的。意思是用一级函数逻辑写的函数。</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="5dce" class="ml le in mh b gy mm mn l mo mp">const oneWord = str =&gt; {</span><span id="ffe6" class="ml le in mh b gy mq mn l mo mp">return str.replaceAll(' ', '');</span><span id="7dbe" class="ml le in mh b gy mq mn l mo mp">};</span><span id="6deb" class="ml le in mh b gy mq mn l mo mp">const firstWordUpper = str =&gt; {</span><span id="433c" class="ml le in mh b gy mq mn l mo mp">const [fW, ...others] = str.split(' ');</span><span id="2fe5" class="ml le in mh b gy mq mn l mo mp">return [fW.toUpperCase(), ...others].join(' ');</span><span id="ac56" class="ml le in mh b gy mq mn l mo mp">};</span><span id="57d6" class="ml le in mh b gy mq mn l mo mp">const higherOrder = (str, fn) =&gt; {</span><span id="9436" class="ml le in mh b gy mq mn l mo mp">console.log(`Original string ${str}`);</span><span id="17f6" class="ml le in mh b gy mq mn l mo mp">console.log(`Transformed string ${fn(str)}`);</span><span id="5633" class="ml le in mh b gy mq mn l mo mp">console.log(`Transformed by ${fn.name}`);</span><span id="2c6d" class="ml le in mh b gy mq mn l mo mp">};</span><span id="0b79" class="ml le in mh b gy mq mn l mo mp">higherOrder('js is the best', firstWordUpper);</span><span id="5ed0" class="ml le in mh b gy mq mn l mo mp">//Returns</span><span id="0e1c" class="ml le in mh b gy mq mn l mo mp">Original string js is the best</span><span id="8e73" class="ml le in mh b gy mq mn l mo mp">Transformed string JS is the best</span><span id="5863" class="ml le in mh b gy mq mn l mo mp">Transformed by firstWordUpper</span></pre><p id="fdb3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里有两件事很重要</p><ol class=""><li id="610d" class="mx my in jm b jn jo jr js jv mz jz na kd nb kh nc nd ne nf bi translated">使用函数作为参数的语法</li><li id="ddab" class="mx my in jm b jn ng jr nh jv ni jz nj kd nk kh nc nd ne nf bi translated">函数有自己的值，如示例中的 funtion.name</li></ol><p id="82cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">higherOrder('js 是最好的'，first word upper)；</p><p id="2b71" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们作为参数放入的函数被称为<strong class="jm io">回调函数</strong>，这是因为我们自己不调用它，而是让 js 调用它。</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="ba8b" class="ml le in mh b gy mm mn l mo mp">const high5 = () =&gt; {</span><span id="70f1" class="ml le in mh b gy mq mn l mo mp">console.log(‘👋’);</span><span id="dc08" class="ml le in mh b gy mq mn l mo mp">};</span><span id="dca5" class="ml le in mh b gy mq mn l mo mp">[‘Ayse’, ‘Fatma’, ‘Hayriye’].forEach(high5);</span></pre><p id="acf6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">forEach 也是一个高阶函数。</p><h1 id="0b7d" class="ld le in bd lf lg mr li lj lk ms lm ln lo mt lq lr ls mu lu lv lw mv ly lz ma bi translated">函数返回函数</h1><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="de2d" class="ml le in mh b gy mm mn l mo mp">const greet = greeting =&gt; {</span><span id="7cd7" class="ml le in mh b gy mq mn l mo mp">return function (name) {</span><span id="1bc6" class="ml le in mh b gy mq mn l mo mp">console.log(`${greeting} ${name}`);</span><span id="a2dc" class="ml le in mh b gy mq mn l mo mp">};</span><span id="8abc" class="ml le in mh b gy mq mn l mo mp">};</span><span id="91b3" class="ml le in mh b gy mq mn l mo mp">const greetWithName = greet(‘Hey’);</span><span id="e360" class="ml le in mh b gy mq mn l mo mp">greetWithName(‘Jonas’);</span><span id="661c" class="ml le in mh b gy mq mn l mo mp">greetWithName(‘Baris’);</span><span id="2eea" class="ml le in mh b gy mq mn l mo mp">//returns</span><span id="0981" class="ml le in mh b gy mq mn l mo mp">Hey Jonas</span><span id="76d2" class="ml le in mh b gy mq mn l mo mp">Hey Baris</span></pre><p id="df7d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里会发生一些疯狂的事情。我们放入第一个函数的问候参数以某种方式保存到我们返回的函数中，我们可以在以后使用它。</p><p id="125d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们甚至可以使用</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="38cc" class="ml le in mh b gy mm mn l mo mp">greet(‘Hello’)(‘Jonas’);</span></pre><p id="9af0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有了箭头函数，我们有了一个超级酷的语法</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="0ab1" class="ml le in mh b gy mm mn l mo mp">const greatArr = greet =&gt; name =&gt; console.log(`${greet} ${name}`);</span></pre><h1 id="3d29" class="ld le in bd lf lg mr li lj lk ms lm ln lo mt lq lr ls mu lu lv lw mv ly lz ma bi translated">调用和应用方法</h1><p id="ae0c" class="pw-post-body-paragraph jk jl in jm b jn mb jp jq jr mc jt ju jv md jx jy jz me kb kc kd mf kf kg kh ig bi translated">假设我们有一个这样的物体</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="fc11" class="ml le in mh b gy mm mn l mo mp">const luftHansa = {</span><span id="e664" class="ml le in mh b gy mq mn l mo mp">airline: 'Lufthansa',</span><span id="31f4" class="ml le in mh b gy mq mn l mo mp">iataCode: 'LH',</span><span id="4668" class="ml le in mh b gy mq mn l mo mp">bookings: [],</span><span id="561e" class="ml le in mh b gy mq mn l mo mp">book(flightNum, name) {</span><span id="8533" class="ml le in mh b gy mq mn l mo mp">console.log(</span><span id="29cc" class="ml le in mh b gy mq mn l mo mp">`${name} booked a seat on ${this.airline} flight ${this.iataCode} ${flightNum}`</span><span id="1d5f" class="ml le in mh b gy mq mn l mo mp">);</span><span id="b420" class="ml le in mh b gy mq mn l mo mp">this.bookings.push({ flight: `${this.iataCode}${flightNum}`, name });</span><span id="30a7" class="ml le in mh b gy mq mn l mo mp">},</span><span id="2518" class="ml le in mh b gy mq mn l mo mp">};</span><span id="82ee" class="ml le in mh b gy mq mn l mo mp">luftHansa.book(234, 'Jonas Shmedtmann');</span><span id="bb9d" class="ml le in mh b gy mq mn l mo mp">luftHansa.book(659, 'Mike Tyson');</span></pre><p id="bd47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们想在另一个对象中使用这个 objects book()方法，我们该怎么做呢</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="7c39" class="ml le in mh b gy mm mn l mo mp">const book = luftHansa.book;</span><span id="197d" class="ml le in mh b gy mq mn l mo mp">book(23, ‘Sarah Williams’); // This will return an error because this is in the global scope</span><span id="8eac" class="ml le in mh b gy mq mn l mo mp">const euroWings = {</span><span id="de9b" class="ml le in mh b gy mq mn l mo mp">airline: ‘EuroWings’,</span><span id="4ba3" class="ml le in mh b gy mq mn l mo mp">iataCode: ‘EW’,</span><span id="99c6" class="ml le in mh b gy mq mn l mo mp">bookings: [],</span><span id="f6cd" class="ml le in mh b gy mq mn l mo mp">};</span><span id="250f" class="ml le in mh b gy mq mn l mo mp">const book = luftHansa.book;</span><span id="35c3" class="ml le in mh b gy mq mn l mo mp">book.call(euroWings, 23, ‘Sarah Williams’);</span><span id="065d" class="ml le in mh b gy mq mn l mo mp">console.log(euroWings);</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/f317597a0a329aeaf3b91b30e22dcef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*UssWbzS1em0p4TUNAGGyoQ.png"/></div></figure><p id="a3f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Call 方法允许在对象中调用函数。</p><p id="fd85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里第一个参数是从哪个对象手动调用它来改变它。那么其他参数就是函数的参数。</p><p id="da47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Apply 方法基本上是相同的，但是将函数的参数作为一个数组，而不是一个接一个地写它们</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="7b32" class="ml le in mh b gy mm mn l mo mp">const data = [24, 'Baris Williams'];</span><span id="93fe" class="ml le in mh b gy mq mn l mo mp">book.apply(luftHansa, data);</span><span id="3633" class="ml le in mh b gy mq mn l mo mp">console.log(luftHansa);</span></pre><p id="0344" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">顺便问一下，我们如何使用这些应用调用等功能？</p><p id="fe57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 JS 中，函数只是不同类型的对象，所以它们有属性，甚至函数。这个调用、应用等只是所有函数中的函数。</p><p id="f7c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们也可以两个都用</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="90f1" class="ml le in mh b gy mm mn l mo mp">book.call(luftHansa, ...data);</span></pre><h1 id="3c0b" class="ld le in bd lf lg mr li lj lk ms lm ln lo mt lq lr ls mu lu lv lw mv ly lz ma bi translated">该绑定方法</h1><p id="edfb" class="pw-post-body-paragraph jk jl in jm b jn mb jp jq jr mc jt ju jv md jx jy jz me kb kc kd mf kf kg kh ig bi translated">Bind 用指定对象的<strong class="jm io">“this”</strong>创建一个新函数。</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="06ea" class="ml le in mh b gy mm mn l mo mp">const bookEW = book.bind(euroWings);</span><span id="2b20" class="ml le in mh b gy mq mn l mo mp">bookEW(23, 'Steven Williams');</span></pre><p id="4d01" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我们创建了一个新的功能手册，始终指向欧洲之翼</p><p id="90d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是我们甚至可以更进一步，我们可以通过绑定方法定义函数的参数</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="9868" class="ml le in mh b gy mm mn l mo mp">const bookEW23 = book.bind(euroWings, 23);</span><span id="ae32" class="ml le in mh b gy mq mn l mo mp">bookEW23(‘Ecem’);</span></pre><p id="ab36" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个函数总是把 23 作为第一个参数。我们可以越走越远。</p><p id="2fab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设我们在 lufthansa 对象中添加了飞机数量和飞机购买功能</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="bfc6" class="ml le in mh b gy mm mn l mo mp">luftHansa.planes = 300;</span><span id="d54c" class="ml le in mh b gy mq mn l mo mp">luftHansa.buyPlanes = function () {</span><span id="3040" class="ml le in mh b gy mq mn l mo mp">console.log(this);</span><span id="dc7e" class="ml le in mh b gy mq mn l mo mp">this.planes++;</span><span id="f92a" class="ml le in mh b gy mq mn l mo mp">console.log(this.planes);</span><span id="f253" class="ml le in mh b gy mq mn l mo mp">};</span></pre><p id="8c35" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们想在每次点击按钮时添加一个新的平面</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="0d32" class="ml le in mh b gy mm mn l mo mp">document.querySelector(‘.buy’).addEventListener(‘click’, luftHansa.buyPlanes);</span></pre><p id="47f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们点击按钮时，它返回:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/1d87d6993cd6085900ac64bf018bb758.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*EDvX9b3FUv2H1VXsQBfE8A.png"/></div></figure><p id="48c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">巴顿和南？WTF 男？？</p><p id="23cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里我们可以看到 this 关键字的动态性，我们在事件侦听器中调用它，正因为如此，它对 button 元素进行操作。</p><p id="ebfc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如何避免？当然是用 bind！！</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="c991" class="ml le in mh b gy mm mn l mo mp">document</span><span id="3826" class="ml le in mh b gy mq mn l mo mp">.querySelector(‘.buy’)</span><span id="2856" class="ml le in mh b gy mq mn l mo mp">.addEventListener(‘click’, luftHansa.buyPlanes.bind(luftHansa));</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nn"><img src="../Images/b1111be028c3ddff67ce76078709eb3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QJdzWhVjdYeZsB7PDwRuGw.png"/></div></div></figure><p id="d6c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Bind 很神奇，它允许我们制作新的函数。在某些情况下，我们甚至他妈的不关心这个关键词</p><pre class="ks kt ku kv gt mg mh mi mj aw mk bi"><span id="7e95" class="ml le in mh b gy mm mn l mo mp">const addTax = (rate, value) =&gt; value + rate * value;</span><span id="1c3d" class="ml le in mh b gy mq mn l mo mp">console.log(addTax(0.1, 100));</span><span id="a1ea" class="ml le in mh b gy mq mn l mo mp">const addVAT = addTax.bind(null, 0.23);</span><span id="2c45" class="ml le in mh b gy mq mn l mo mp">console.log(addVAT(100));</span></pre><p id="1b2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我需要创建一个改变了一个参数的函数，而不是创建一个新的函数，用 bind 编写一个要简单得多。</p><p id="0610" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为我不关心这个关键字，我可以简单地把 null 放在那里。</p></div><div class="ab cl kk kl hr km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ig ih ii ij ik"><p id="53b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae kj" href="https://medium.com/@barisbll/the-complete-js-notes-1-36ea76e326b3" rel="noopener"> <em class="ki">见本 js 笔记第一篇帖子！</em> </a></p><p id="8d00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae kj" rel="noopener ugc nofollow" target="_blank" href="/the-complete-js-notes-9-31bd8489a476"> <em class="ki">见本 js 笔记线程的上一篇文章！</em>T9】</a></p><p id="3463" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae kj" href="https://medium.com/@barisbll/the-complete-js-notes-10-46f8bc8c2a5d" rel="noopener"> <em class="ki">见本 js 笔记线程下篇！</em>T13】</a></p></div><div class="ab cl kk kl hr km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="ig ih ii ij ik"><p id="37ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae kj" href="https://twitter.com/barisbll_dev" rel="noopener ugc nofollow" target="_blank"> <em class="ki">在 twitter 上关注我获取甜蜜内容</em> </a> <em class="ki"> </em>😘</p><p id="31b2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">在</em><a class="ae kj" href="https://blog.devgenius.io/" rel="noopener ugc nofollow" target="_blank"><em class="ki">Dev Genius</em></a>阅读我和其他许多伟大的科技博客作者</p></div></div>    
</body>
</html>