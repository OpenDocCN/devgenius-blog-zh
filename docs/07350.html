<html>
<head>
<title>Make your own Awesome Code Editor using Vim from Scratch EP1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Vim 从头开始制作您自己的优秀代码编辑器 EP1</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/make-your-own-awesome-code-editor-using-vim-from-scratch-ep1-768336e40a3a?source=collection_archive---------6-----------------------#2022-03-17">https://blog.devgenius.io/make-your-own-awesome-code-editor-using-vim-from-scratch-ep1-768336e40a3a?source=collection_archive---------6-----------------------#2022-03-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="86e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我假设你从来没有听说过 Vim 这个名字，即使你听说过，你也很难从 Vim 中退出，不要担心我们将从零开始，从打开和关闭 Vim 到使用 Vim 制作我们自己的代码编辑器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/0ebf71354361a0a7f170c26b75c740e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*JWggaYHjS729VBcP-EXnvg.jpeg"/></div></figure><h1 id="c998" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">Vim 是什么？</h1><p id="b78c" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">谷歌:这是一个免费的开源文本编辑器</p><p id="346b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> By Me:这是 Ms. Word 的终端，它允许使用终端编辑文本文件。</strong></p><p id="af9a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以在官方文档上了解更多。</p><h2 id="438a" class="lu kr in bd ks lv lw dn kw lx ly dp la jv lz ma le jz mb mc li kd md me lm mf bi translated">如何安装？</h2><p id="3c12" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">如果您使用的是 Mac/Linux，很可能您已经安装了 vim，您可以使用<code class="fe mg mh mi mj b">vim — version</code>，<strong class="jm io">进行检查。如果它返回您 vim 的版本，那么您可以跳过下一节</strong></p><p id="e5b7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是如果你面临一些事情<code class="fe mg mh mi mj b">vim not found</code>，你将不得不安装 vim，Mac/Linux 用户可以下载使用</p><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="4d59" class="lu kr in mj b gy mo mp l mq mr"><strong class="mj io">brew install vim</strong></span></pre><p id="0b7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Window 用户可以直接从<a class="ae lt" href="https://www.vim.org/download.php" rel="noopener ugc nofollow" target="_blank">官方网站</a>下载。</p><h1 id="d6cf" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第一次尝试</h1><p id="ae12" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">你可以用这种方法打开一个文件</p><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="57d6" class="lu kr in mj b gy mo mp l mq mr">vim &lt;fileName&gt;</span></pre><p id="8e3e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将创建一个名为 learn.txt 的文件，并用<code class="fe mg mh mi mj b"><strong class="jm io">vim learn.txt</strong></code> <strong class="jm io">打开它。打开文件后，你会看到一个可怕的屏幕，看起来有点像这样。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/c9999ec1780bd9dd573eae9972d6c8f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WgJj4mUOjuern_laeHxMZg.png"/></div></div></figure><p id="55ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，在您感到害怕并逃跑之前，让我们使用</p><p id="4649" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe mg mh mi mj b">:q</code> —如果您没有进行任何更改，只是想退出 vim，如果您进行了更改，它会显示一些错误，您尝试退出它，因为您需要判断是保存还是放弃该数据</p><p id="8046" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe mg mh mi mj b">:wq</code> —保存后退出。</p><p id="fa2d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe mg mh mi mj b">:q!</code> —退出并放弃更改。</p><h1 id="265d" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">编辑文件</h1><p id="3f7d" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">尝试使用 vim 再次打开该文件。现在尝试自己退出文件，不要担心你的键盘工作正常，这只是因为你目前处于命令模式</p><p id="baed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嘿，但我没有告诉你任何模式，不要这样欺骗你说，这是从零开始。等等等等</p><h2 id="4051" class="lu kr in bd ks lv lw dn kw lx ly dp la jv lz ma le jz mb mc li kd md me lm mf bi translated">Vim 中的模式</h2><p id="0947" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">所以在 Vim 中有两种模式</p><ol class=""><li id="45e0" class="mx my in jm b jn jo jr js jv mz jz na kd nb kh nc nd ne nf bi translated">命令模式—您可以称之为 Vim 的终端。在进入命令模式之前，不能对文件进行任何更改，<strong class="jm io">无论何时打开任何文件，默认情况下都是这样。在这种模式下，我们编写的用于退出 vim 的</strong> <code class="fe mg mh mi mj b"><strong class="jm io">:q</strong></code> <strong class="jm io">是一个命令。</strong></li><li id="a1f3" class="mx my in jm b jn ng jr nh jv ni jz nj kd nk kh nc nd ne nf bi translated">插入模式—这是一种文件编辑模式，您可以在其中编辑文件。</li></ol><h2 id="edd7" class="lu kr in bd ks lv lw dn kw lx ly dp la jv lz ma le jz mb mc li kd md me lm mf bi translated"><strong class="ak">改变模式</strong></h2><ol class=""><li id="d3aa" class="mx my in jm b jn lo jr lp jv nl jz nm kd nn kh nc nd ne nf bi translated">如果你想从命令模式进入插入模式，只需按下<code class="fe mg mh mi mj b"><strong class="jm io">i</strong></code></li><li id="61c1" class="mx my in jm b jn ng jr nh jv ni jz nj kd nk kh nc nd ne nf bi translated">按下<code class="fe mg mh mi mj b"><strong class="jm io">esc</strong></code>从插入模式进入命令模式</li></ol><p id="4dd1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在把模式改为插入模式来编辑文件，当你点击 I 时，你会发现</p><p id="6319" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe mg mh mi mj b"><strong class="jm io">— INSERT —</strong></code></p><p id="865e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">写在下面，表示您处于插入模式。现在你可以写任何你喜欢的东西。完成更改后，切换到命令模式，然后使用<code class="fe mg mh mi mj b">wq</code>保存并退出 vim。</p><p id="a8c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嘿，你终于来了，如果你觉得有帮助的话，记得关注我，订阅邮件列表。</p><h1 id="8bb6" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">命令模式</h1><p id="84dd" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">你不认为目前 vim 看起来很无聊，如果它看起来一样，我肯定不会写这个，但我们可以按照我们的方式让它看起来很棒。</p><ol class=""><li id="011f" class="mx my in jm b jn jo jr js jv mz jz na kd nb kh nc nd ne nf bi translated">首先，我需要行号，以便我可以使用</li></ol><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="c913" class="lu kr in mj b gy mo mp l mq mr">:set number</span></pre><p id="2682" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你会有这样的东西。看起来好多了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/723badebdea8d7b760c5ac2d6d8cdd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-VPGLPETPxUkKhj8A9zBTA.png"/></div></div></figure><p id="bd7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.如果你正在编程，你肯定希望 cim 自动缩进，我们可以用</p><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="48f3" class="lu kr in mj b gy mo mp l mq mr">:set autoindent</span></pre><p id="2f87" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.目前颜色模式对我来说很无聊，所以我们甚至可以用</p><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="7d69" class="lu kr in mj b gy mo mp l mq mr">:colorscheme darkblue</span></pre><p id="9525" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在配色方案中有许多选项，您可以通过按选项卡找到它们</p><p id="b63b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4.你也可以启用鼠标，如果你是程序员，我不建议你这么做</p><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="c1cb" class="lu kr in mj b gy mo mp l mq mr">:set mouse=a</span></pre><p id="71bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是有一个你可能会遇到的问题是，如果你试图保存并退出，并试图再次打开 vim，你会再次看到那个令人厌烦的屏幕，这是非常有问题的，因为我们不想再次编写所有的配置。</p><p id="291e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，我们需要通过以下方式对 vim 的配置文件进行修改，将它作为我们的 vim 的默认配置</p><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="e187" class="lu kr in mj b gy mo mp l mq mr">vim ~/.vimrc</span></pre><p id="314d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在只需在插入模式下复制并粘贴以下代码，然后保存它</p><pre class="kj kk kl km gt mk mj ml mm aw mn bi"><span id="e09d" class="lu kr in mj b gy mo mp l mq mr">set number<br/>set relativenumber<br/>set autoindent<br/>colorscheme darkblue</span></pre><p id="e001" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">保存后，再次打开该文件，我们就恢复了所有的配置。</p><p id="3101" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">还有很多这样的功能，我推荐使用<a class="ae lt" href="https://phoenixnap.com/kb/vim-commands-cheat-sheet" rel="noopener ugc nofollow" target="_blank">备忘单</a>，这将使你下次使用 vim 时更加自信，在这一集里，我们将坚持到这里，现在开始使用 vim 做一些疯狂的事情。</p><p id="5254" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这样在下一集里，你就有足够的信心来制作我们自己的代码编辑器。</p><blockquote class="no np nq"><p id="84d3" class="jk jl nr jm b jn jo jp jq jr js jt ju ns jw jx jy nt ka kb kc nu ke kf kg kh ig bi translated"><strong class="jm io">我希望你喜欢它，并从这个故事中学到很多，如果你不想错过我发布另一个故事的任何时间，请确保关注我并订阅以获得电子邮件更新。</strong></p></blockquote><p id="c663" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nr">你可以关注我的</em><a class="ae lt" href="https://twitter.com/Guneetsingh02" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="nr">Twitter</em></strong></a><em class="nr">和</em><a class="ae lt" href="https://www.linkedin.com/in/guneetsinghtuli/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="nr">LinkedIn</em></strong></a><em class="nr">在我分享更多信息的地方。</em></p></div></div>    
</body>
</html>