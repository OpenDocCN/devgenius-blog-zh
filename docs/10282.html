<html>
<head>
<title>Select * … Too Costly!!!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">选择* …成本太高！！！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/select-too-costly-2ac99ad41cae?source=collection_archive---------4-----------------------#2022-10-20">https://blog.devgenius.io/select-too-costly-2ac99ad41cae?source=collection_archive---------4-----------------------#2022-10-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/8a53eb26547680c29170d78f186a9c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*44qZ5Ozo9pdqcM1YctVl1g.gif"/></div></div></figure><p id="a350" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<em class="kt">软件开发</em>的环境中，主要用于存储数据的<em class="kt">数据库</em>是非常重要的组件。<strong class="jx io"> <em class="kt"> MySQL </em> </strong>作为最<em class="kt">基础的数据库技术</em>，初学程序员一般都很清楚<em class="kt">基础</em>和一些<em class="kt">高级</em> <strong class="jx io"> <em class="kt"> SQL </em> </strong>查询。<strong class="jx io"><em class="kt">SELECT * FROM TABLE</em></strong>是最基本的<strong class="jx io"> <em class="kt"> SQL </em> </strong> <em class="kt">查询</em>，它返回那个<em class="kt">特定表</em>中的所有<em class="kt">行</em>(完整数据)<em class="kt"/>。但是使用<strong class="jx io"> <em class="kt">选择* </em> </strong>并不是<em class="kt">推荐的</em> <em class="kt">练习</em>，在这篇短文中我们将看到其背后的原因。</p><h2 id="85fb" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">表演</h2><figure class="lo lp lq lr gt jo gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/116bffcb8be2c7b960f575788a52973c.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*IZe6ziGRC10LiRzWJgMUeg.jpeg"/></div></figure><p id="f37c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="kt"> SELECT * </em> </strong>是一个<strong class="jx io"> <em class="kt"> SQL </em> </strong>查询，基本上<em class="kt">检索指定表中所有<em class="kt">行(元组)</em>的所有<em class="kt">列</em>。在该查询期间执行了完整的<em class="kt">表扫描</em>，其结果是<em class="kt">不需要的<em class="kt">列</em>对于<em class="kt">应用特定的</em>需求</em>也被获取，这是<em class="kt">非常低效的</em>。<em class="kt">大量</em>数据</em>通过<em class="kt">网络</em>从<em class="kt">数据库服务器</em>传输<em class="kt">到<em class="kt">应用服务器</em>或<em class="kt">客户端</em>从而导致<em class="kt">不必要的开销</em>。这最终导致<em class="kt">增加</em> <em class="kt">数据库访问时间</em>，从而影响<em class="kt">性能</em>。</em></p><h2 id="b109" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">连接中的问题</h2><figure class="lo lp lq lr gt jo gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/5577764354e614623c46f96a8c203232.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*6ZOD_JQF4ZOTqp_dIXg7Lg.jpeg"/></div></figure><p id="97ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<em class="kt">高级数据库查询</em>期间，需要在各种<em class="kt">表</em>之间执行<em class="kt">连接</em>，并以特定格式显示数据。一个<strong class="jx io"> <em class="kt"> SELECT * </em> </strong>查询在一个<strong class="jx io"> <em class="kt"> JOIN </em> </strong>中导致<em class="kt">冲突</em>当<em class="kt">参与<em class="kt"> join </em>的多个表</em>有一个<em class="kt">公共属性(列)</em>名称，从而导致<em class="kt">检索<em class="kt">列</em>的<em class="kt"/></em></p><h2 id="6d09" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">代码可读性</h2><figure class="lo lp lq lr gt jo gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/8ffb0451104875f37847a883b9fdd3db.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*BzGFUGzHWK4Iru-AXFzMcA.png"/></div></figure><p id="6790" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">维护可读代码</em>非常重要<em class="kt"/>，因为许多团队成员和新加入者为了获得<em class="kt">良好的逻辑理解</em>或者为了以更好的方式优化它而频繁地经历它。使用<em class="kt"> SELECT * </em>查询来检索<em class="kt">不必要的列</em>，对于一个正在检查或<em class="kt">审查代码</em>的人来说会产生疑问，并且很容易从<em class="kt">逻辑</em>的<em class="kt">实际流程</em>中误导他/她，因此被认为是<em class="kt">不良实践</em>。</p><h2 id="73a1" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">结论</h2><p id="fbcb" class="pw-post-body-paragraph jv jw in jx b jy lu ka kb kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks ig bi translated">与具有<em class="kt">大量</em>数据<em class="kt">的<em class="kt">企业应用数据库</em>相比，通过使用<strong class="jx io"><em class="kt"/></strong>选择* </em> 对<em class="kt">性能</em>的<em class="kt">影响可以非常小，因为<em class="kt">影响</em>更<em class="kt">显著</em>。</em></p><figure class="lo lp lq lr gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/907bdb29d466d06d06f6ac5e1e998651.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*vceVsUuJLK0y4GkMf4yiOg.png"/></div></figure><p id="853d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，<em class="kt">最佳实践</em>是通过<strong class="jx io"> <em class="kt"> SELECT SQL </em> </strong>查询明确指定您实际打算从表中检索的列。例如，让我们假设我们有一个名为<em class="kt">雇员</em>的表，其中有列(属性)<em class="kt">姓名、年龄、地址</em>和<em class="kt">薪水</em>。</p><p id="5c15" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这种情况下，如果我们只想检索姓名和薪水，我们的查询应该是:</p><pre class="lo lp lq lr gt ma mb mc md aw me bi"><span id="0d40" class="ku kv in mb b gy mf mg l mh mi">//Recommended<br/>SELECT name, salary FROM Employee;</span><span id="c2dc" class="ku kv in mb b gy mj mg l mh mi">//Not recommended<br/>SELECT * FROM Employee;</span></pre><p id="6071" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以要<em class="kt">小心</em>并指定<em class="kt">列中的</em>列表，在<strong class="jx io"> <em class="kt">中选择查询</em> </strong>比使用<em class="kt"/><strong class="jx io"><em class="kt">通配符选择</em> </strong>。</p><blockquote class="mk ml mm"><p id="3901" class="jv jw kt jx b jy jz ka kb kc kd ke kf mn kh ki kj mo kl km kn mp kp kq kr ks ig bi translated">一个轻松的说法是，我的一个学长总是说做一个 SELECT *来获取所有的列，然后只使用几个必需的列，就像邀请所有人吃饭，然后只提供几个必需的！！！</p></blockquote></div></div>    
</body>
</html>