<html>
<head>
<title>Exploratory data analysis on customer.csv file from Kaggle using Google Spreadsheets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Google 电子表格对 Kaggle 的 customer.csv 文件进行探索性数据分析</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/exploratory-data-analysis-on-customer-csv-file-from-kaggle-using-google-spreadsheets-f8239aa55c96?source=collection_archive---------5-----------------------#2022-10-19">https://blog.devgenius.io/exploratory-data-analysis-on-customer-csv-file-from-kaggle-using-google-spreadsheets-f8239aa55c96?source=collection_archive---------5-----------------------#2022-10-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="bf35" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嗨，在这篇文章中，我想做基本的探索性数据分析，通常称为 EDA。我希望通过阅读这篇文章，你可以知道当你在未来面对一些原始数据时，你可以做什么，你想探索它。</p><p id="40a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由于我的任务是为我周围的人提供人性化的数据分析，我将使用谷歌电子表格，假设它是一个比使用 R 或 Python 更常见的工具。我会在另一个机会使用另一个工具做类似的事情。现在，让我们继续吧！</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h1 id="89c5" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">首先要做的是，获取数据</h1><p id="a483" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">我们可以在<a class="ae ls" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>中获取数据，具体是在这个<a class="ae ls" href="https://www.kaggle.com/datasets/ylchang/coffee-shop-sample-data-1113" rel="noopener ugc nofollow" target="_blank">页面</a>上。下载之前，不要忘记登录您的帐户。或者，您可以直接进入<a class="ae ls" href="https://docs.google.com/spreadsheets/d/10j7K6T_bpE3ZOrdxO99XpFXKx_kIwORex2GhegiG4ec/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">这里</a>并复制文件，这样您就可以尝试进行自己的 EDA。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h1 id="2ad2" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">第二件事第二(bruh？)，定义了数据</h1><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lt"><img src="../Images/9a664a730f6dad36e342390d39d27345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uhdi5f45V2VAt7Oh4ogWKA.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图一。<a class="ae ls" href="https://docs.google.com/spreadsheets/d/10j7K6T_bpE3ZOrdxO99XpFXKx_kIwORex2GhegiG4ec/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">客户数据</a>前 10 行截图。</figcaption></figure><p id="2d46" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在开始研究数据之前，我们必须知道数据中每一列的定义是什么。</p><ol class=""><li id="f5ad" class="mj mk in jm b jn jo jr js jv ml jz mm kd mn kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">customer_id</code>注册的客户标识符，每行唯一。数据类型:整数。</li><li id="902e" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">home_store</code>客户注册的商店标识符，对于每一行可能不是唯一的(因为不同的客户可能在同一家商店注册)。类型:整数。</li><li id="61c2" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">customer_fist-name</code>注册客户的名字，每行可能不唯一(因为不同的客户可能有相同的名字)。数据类型:字符串。</li><li id="0258" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">customer_email</code>注册客户的电子邮件地址，每行唯一。数据类型:字符串。</li><li id="c7a9" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">customer_since</code>客户的注册日期，每行可能不唯一(因为不同的客户可能在同一天注册)。数据类型:日期。</li><li id="6ead" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">loyalty_card_number</code>注册客户的积分卡号，每行唯一。数据类型:字符串。</li><li id="dfa5" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">birthdate</code>注册客户的出生日期，每行可能不唯一(因为不同的客户可能有相同的出生日期)。数据类型:日期。</li><li id="bc92" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">gender</code>注册客户的性别，每行可能不唯一(因为不同的客户可能有相同的性别，在本文件中，只有 M 代表男性，F 代表女性，N 代表不可用)。数据类型:字符串。</li><li id="3490" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated"><code class="fe ms mt mu mv b">birthyear</code>注册客户的出生年份，可能不是每行唯一的(因为不同的客户可能有相同的出生年份)。数据类型:整数。</li></ol><p id="4ba1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在定义了数据之后，我们还必须定义我们想要研究的问题。假设我们想知道这个数据集的基本概要。</p><p id="3082" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将<code class="fe ms mt mu mv b">customer_id</code>与另一个专栏结合起来可以告诉我们:</p><ol class=""><li id="07fd" class="mj mk in jm b jn jo jr js jv ml jz mm kd mn kh mo mp mq mr bi translated">我们有多少注册客户？</li><li id="952f" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated">店铺分布怎么样，根据注册客户数有没有喜欢的店铺？</li><li id="68d1" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated">客户最常用的电子邮件域是什么？</li><li id="5cc1" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated">我们的注册客户数量的增长率是多少？</li><li id="1840" class="mj mk in jm b jn mw jr mx jv my jz mz kd na kh mo mp mq mr bi translated">来自我们注册客户的性别比例是多少？</li></ol><p id="5e25" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用类似的框架，我们可以为其他变量创建一些问题。但在这种情况下，我们希望根据我们的数据来确定是否存在任何问题。无论我们能发现什么问题，对我们的团队来说都是很好的额外信息。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h1 id="cb21" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">数据清理和操作</h1><p id="12e6" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">我对该数据集进行的一些数据清理和操作如下:</p><h2 id="7715" class="nb kq in bd kr nc nd dn kv ne nf dp kz jv ng nh ld jz ni nj lh kd nk nl ll nm bi translated"><code class="fe ms mt mu mv b">birth_year_interval</code></h2><p id="6054" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">通过使用<code class="fe ms mt mu mv b">birth_year</code>,我们可以很容易地创建一个新的变量，并使用“IF”公式对其进行分组。在我的例子中，我使用了这样一个公式:</p><blockquote class="nn no np"><p id="7524" class="jk jl nq jm b jn jo jp jq jr js jt ju nr jw jx jy ns ka kb kc nt ke kf kg kh ig bi translated">=IF(I2 &lt; 1960, ”1950s” , IF(I2 &lt; 1970, ”1960s”, IF(I2 &lt; 1980, ”1970s”, IF(I2 &lt; 1990, ”1980s”, IF(I2 &lt; 2000, ”1990s”, ”2000s”)))))</p></blockquote><h2 id="5bff" class="nb kq in bd kr nc nd dn kv ne nf dp kz jv ng nh ld jz ni nj lh kd nk nl ll nm bi translated"> 【T5】 </h2><p id="2ef5" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">By using  【T6】  we could easily create a new variable to group it by using the “IF” formula. In my case, I’m using a formula like this:</p><blockquote class="nn no np"><p id="dc11" class="jk jl nq jm b jn jo jp jq jr js jt ju nr jw jx jy ns ka kb kc nt ke kf kg kh ig bi translated">=IF(YEAR(E2) = 2017, 2017, IF(YEAR(E2) = 2018, 2018, 2019))</p></blockquote><h2 id="2263" class="nb kq in bd kr nc nd dn kv ne nf dp kz jv ng nh ld jz ni nj lh kd nk nl ll nm bi translated"> 【T7】 </h2><p id="1d77" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">By using  【T8】  we could easily create a new variable to group it by using the “SPLIT” formula. In my case, I’m using a formula like this:</p><blockquote class="nn no np"><p id="bf11" class="jk jl nq jm b jn jo jp jq jr js jt ju nr jw jx jy ns ka kb kc nt ke kf kg kh ig bi translated">=SPLIT(D2, ”@”)</p><p id="b8e7" class="jk jl nq jm b jn jo jp jq jr js jt ju nr jw jx jy ns ka kb kc nt ke kf kg kh ig bi translated">=SPLIT(M2, ”.”)</p></blockquote><blockquote class="nu"><p id="6a71" class="nv nw in bd nx ny nz oa ob oc od kh dk translated">We could do more than this. Any data manipulation you think is needed to explore our dataset better?</p></blockquote></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h1 id="e2c1" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">Data exploration and visualization</h1><p id="3289" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">Please check on the sheet with the name  【T9】 . The common thing to do is to create a pivot table. How to create a pivot table in Google Spreadsheets as simple as this:</p><blockquote class="nu"><p id="5813" class="nv nw in bd nx ny oe of og oh oi kh dk translated">Insert &gt;数据透视表&gt;数据区域&gt;新工作表&gt;创建</p></blockquote><p id="8bc2" class="pw-post-body-paragraph jk jl in jm b jn oj jp jq jr ok jt ju jv ol jx jy jz om kb kc kd on kf kg kh ig bi translated">旋转数据集后，我们可以进行一些数据聚合，直到我们可以在<a class="ae ls" href="https://docs.google.com/spreadsheets/d/10j7K6T_bpE3ZOrdxO99XpFXKx_kIwORex2GhegiG4ec/edit#gid=30196051&amp;range=A1:E6" rel="noopener ugc nofollow" target="_blank">这里</a>获得数据，然后像这样可视化它:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/16d437935687333bf24f5a368ba22fb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*FhidCxqg02slAABaxPSsGA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图二。按 home_store 和性别显示注册顾客的数量。</figcaption></figure><p id="1751" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">正如我们所看到的，在做了一点 EDA 和可视化之后，我们已经获得了可能对我们有用的见解，但我们仍然需要看得更深，也许我们可以找到原因或证明问题的存在。下面我们将使用我们的<code class="fe ms mt mu mv b">birth_year</code>数据来得到<code class="fe ms mt mu mv b">birthyear_interval</code>，这样我们就可以将<a class="ae ls" href="https://docs.google.com/spreadsheets/d/10j7K6T_bpE3ZOrdxO99XpFXKx_kIwORex2GhegiG4ec/edit#gid=30196051&amp;range=A20:E28" rel="noopener ugc nofollow" target="_blank">进行更简单的分组</a>。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi op"><img src="../Images/39865948476a050bbf6a32a77b53cf3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*tDypNgkD9VgyA2H179qMoA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 3。通过生日间隔和性别可视化注册客户的数量。</figcaption></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi op"><img src="../Images/f0238c6387868d1f0518ca7ab9bb0b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*0fSbbKDvaL42wSZb0GmzYw.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 4。通过 brithday_interval 和性别可视化注册客户的数量。由商店 5 过滤。</figcaption></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi op"><img src="../Images/71e1e1dd97ab5aac3825ba2f59bec8a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*CtkvJ66skznNT7VvdKzS7w.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 5。通过 brithday_interval 和性别可视化注册客户的数量。由商店 8 过滤。</figcaption></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/7e718bc5660f77831052d68f31f5ec9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*A1-6ggJB_wPjhb7zrsrLIw.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 6。通过 brithday_interval 和性别可视化注册客户的数量。由商店 3 过滤。</figcaption></figure><p id="0510" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">哇，我们正在做，我们得到了另一个信息，知道什么是主要原因。目前我们所知道的是 N 个性别数据，主要由在商店 5 和 8 注册的用户提供，标准<code class="fe ms mt mu mv b">birthday_interval</code>在 20 世纪 80 年代和 2000 年代之间。让我们看看从我们的数据集中，我们可以使用哪些其他变量来深入了解原因。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi or"><img src="../Images/df48b51e6570fcd0dfcc35402535f97a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*N86xUrQgKCALp6HWOkFysg.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 7。注册时按性别和年份可视化注册用户数。过滤器:仅存储 5 和 8。</figcaption></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/2649313b41331899ad941a0d3cd20d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*XMTSfLtpY1wE6_ToaxaCJQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 8。注册时按性别和年份可视化注册用户数。过滤器:仅存储 3。</figcaption></figure><blockquote class="nu"><p id="4f96" class="nv nw in bd nx ny nz oa ob oc od kh dk translated">我们可以假设商店 5 和 8 从一开始就有这个问题，但商店 3 是一个较新的商店，没有这个问题。可能是我们“旧”店的登记程序没有遵循新店实施的最新程序，导致顾客的性别没有正确记录。</p></blockquote><p id="f03a" class="pw-post-body-paragraph jk jl in jm b jn oj jp jq jr ok jt ju jv ol jx jy jz om kb kc kd on kf kg kh ig bi translated">但是，我们还有另一个问题，那就是:</p><blockquote class="nn no np"><p id="c428" class="jk jl nq jm b jn jo jp jq jr js jt ju nr jw jx jy ns ka kb kc nt ke kf kg kh ig bi translated">为什么只有出生年份在 20 世纪 80 年代和 21 世纪初之间的客户？</p></blockquote><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi os"><img src="../Images/f21bd2520c0bb0a97b67df66206c0b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*Dmima_xehC53ooIdOErxYA.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 9。可视化的注册客户数量，按性别和客户电子邮件域尾分组。筛选器:存储 5 和 8，birthyear _ interval 世纪 80 年代到 2000 年代。</figcaption></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/44cdc9036800b7dd6b0dbb5f31fd01ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*wIGx1xJQaNgnykj0IyePoA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">图 10。可视化的注册客户数量，按性别和客户电子邮件域尾分组。筛选器:store 3，birthyear _ interval 世纪 80 年代到 2000 年代。</figcaption></figure><p id="9402" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">正如我们所看到的，对于出生年份在 20 世纪 80 年代和 21 世纪初的客户来说，没有特定的客户电子邮件域尾部模式是他们首选的。这意味着我们必须寻找另一个可能是主要原因的变量。</p><blockquote class="nu"><p id="82bd" class="nv nw in bd nx ny oe of og oh oi kh dk translated">但是我们意识到我们还有其他变量没有检查，你会尝试做一些 EDA 来寻找主要原因吗？如果检查后我们仍然找不到它，在您看来，我们需要收集哪些数据来获得与此事相关的更多见解？</p></blockquote></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h1 id="fd40" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">数据显示</h1><p id="a77e" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">在与他人分享之前，我们可以使用谷歌幻灯片将我们所有的发现放入一个大的幻灯片演示中。请在这里找到我以前的帖子<a class="ae ls" href="https://ichkautzar.medium.com/basic-data-analysis-knowledge-you-have-to-understand-measures-of-central-tendencies-mct-4d4195a6859" rel="noopener">，它可能对你创建数据演示有用。</a></p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h1 id="4a0c" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">关闭</h1><p id="c5ec" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">这就是我现在的帖子。我希望你喜欢阅读这篇文章，直到完成，并从这个基本和简单的 EDA 中学到一些新的东西。如果您对我们如何做得更好有任何想法，请提出您的想法！下次见，数据分析专家们，再见！:D</p></div></div>    
</body>
</html>