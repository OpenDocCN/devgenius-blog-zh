<html>
<head>
<title>Less Known but very Useful kotlin functions [Part II]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">鲜为人知但非常有用的科特林函数[第二部分]</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/less-known-but-very-useful-kotlin-functions-part-ii-673c3457f5a2?source=collection_archive---------3-----------------------#2022-06-25">https://blog.devgenius.io/less-known-but-very-useful-kotlin-functions-part-ii-673c3457f5a2?source=collection_archive---------3-----------------------#2022-06-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/99e80ee3b13bfe7d76365b27f4dfa0b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LEr2-ipF9V2bAk3I8oNBXw.jpeg"/></div></div></figure><p id="e5f4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">虽然这篇文章是独立的，但我鼓励你去读读第一部分的<a class="ae kt" href="https://medium.com/@thegoldycopythat/less-known-but-very-useful-kotlin-functions-part-i-680fa6889d37" rel="noopener"><strong class="jx io"><em class="ku"/></strong>】</a>，如果你还没有的话，因为我也在研究这些函数的本质。</p><h2 id="51ae" class="kv kw in bd kx ky kz dn la lb lc dp ld kg le lf lg kk lh li lj ko lk ll lm ln bi translated"><a class="ae kt" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/join-to-string.html" rel="noopener ugc nofollow" target="_blank"> joinToString() </a></h2><p id="f390" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ls kq kr ks ig bi translated"><code class="fe lt lu lv lw b">joinToString()</code>用于将集合转换为字符串。该方法将前缀、后缀、分隔符等作为可选参数，阅读<a class="ae kt" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/join-to-string.html" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多信息。</p><p id="9296" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，你有一个股票市场应用程序，每当用户将一支股票添加到他们的观察列表中时，你就将其放入一个集合中，但你的后端不接受集合，他们希望你将股票作为一个 josn 数组字符串发送。</p><p id="5734" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不带<code class="fe lt lu lv lw b">joinToString()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="7de8" class="kv kw in lw b gy mf mg l mh mi">val builder = StringBuilder()<br/>builder.append("[")<br/>for (i in stocks.<em class="ku">indices</em>) {<br/>    builder.append(stocks[i])<br/>    if(i != stocks.size - 1) {<br/>        builder.append(", ")<br/>    }<br/>}<br/>builder.append("]")<br/>return builder.toString()</span></pre><p id="3f46" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">与<code class="fe lt lu lv lw b">joinToString()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="6a11" class="kv kw in lw b gy mf mg l mh mi">stocks.<em class="ku">joinToString</em>(prefix = "[", postfix = "]")</span></pre><h2 id="7b1f" class="kv kw in bd kx ky kz dn la lb lc dp ld kg le lf lg kk lh li lj ko lk ll lm ln bi translated"><a class="ae kt" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html" rel="noopener ugc nofollow" target="_blank"> groupBy() </a></h2><p id="f313" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ls kq kr ks ig bi translated"><code class="fe lt lu lv lw b">groupBy()</code>用于根据类别对集合的元素进行分组，它返回一个类别映射作为键，一个列表作为值。</p><p id="fc2e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，在你的股票市场应用程序中，你想把增值的股票和亏损的股票分别分组，你想定义一个类别:增值股票的获利者和亏损股票的亏损者。</p><p id="5381" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">没有<code class="fe lt lu lv lw b">groupBy()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="bab3" class="kv kw in lw b gy mf mg l mh mi">val mapByCategory = HashMap&lt;String, List&lt;Player&gt;&gt;()<br/>val gainers = <em class="ku">mutableListOf</em>&lt;Stock&gt;()<br/>val losers = <em class="ku">mutableListOf</em>&lt;Stock&gt;()<br/>for (i in 0..stocks.size - 1) {<br/>    if (stocks[i].gainedToday) {<br/>        gainers.add(stocks[i])<br/>    } else {<br/>        losers.add(stocks[i])<br/>    }<br/>}<br/>map.put("gainers", losers)<br/>map.put("losers", losers)<br/>return map</span></pre><p id="0637" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用<code class="fe lt lu lv lw b">groupBy()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="e52b" class="kv kw in lw b gy mf mg l mh mi">val mapbyCategory = stocks.<em class="ku">groupBy </em><strong class="lw io">{ </strong>if (<strong class="lw io">it</strong>.gainedToday) "gainers" else "losers" <strong class="lw io">}</strong></span></pre><h2 id="975f" class="kv kw in bd kx ky kz dn la lb lc dp ld kg le lf lg kk lh li lj ko lk ll lm ln bi translated"><a class="ae kt" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/subtract.html" rel="noopener ugc nofollow" target="_blank">减去()</a></h2><p id="ec90" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ls kq kr ks ig bi translated"><code class="fe lt lu lv lw b">subtract()</code>用于获取该集合中存在而其他集合中不存在的元素。</p><p id="5cd2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，在你的股票市场应用程序中，你想知道投资者 1 在交易什么股票，而投资者 2 没有，反之亦然</p><p id="4dab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不带<code class="fe lt lu lv lw b">subtract()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="6f48" class="kv kw in lw b gy mf mg l mh mi">val subtractedList = <em class="ku">mutableListOf</em>&lt;String&gt;()<br/>for (stock in investor1Stocks) {<br/>    if (!investor2Stocks.contains(stock)) {<br/>        subtractedList.add(stock)<br/>    }<br/>}<br/>return subtractedList</span></pre><p id="715e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用<code class="fe lt lu lv lw b">subtract()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="329f" class="kv kw in lw b gy mf mg l mh mi">val difference = investor1Stocks.<em class="ku">subtract</em>(investor2Stocks)</span></pre><h2 id="c0d4" class="kv kw in bd kx ky kz dn la lb lc dp ld kg le lf lg kk lh li lj ko lk ll lm ln bi translated"><a class="ae kt" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/intersect.html" rel="noopener ugc nofollow" target="_blank">相交()</a></h2><p id="70e0" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ls kq kr ks ig bi translated"><code class="fe lt lu lv lw b">intersect()</code>用于了解两个集合中的共同元素。</p><p id="4da7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，在你的股票市场应用程序中，你想知道两个投资者之间的普通股</p><p id="552c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不带<code class="fe lt lu lv lw b">intersect()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="e9dc" class="kv kw in lw b gy mf mg l mh mi">val commonStocks = <em class="ku">mutableListOf</em>&lt;String&gt;()<br/>for (stock in investor1Stocks) {<br/>    if(investor2Stocks.contains(stock)){<br/>        topStocks.add(stock)<br/>    }<br/>}<br/>return commonStocks</span></pre><p id="b581" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用<code class="fe lt lu lv lw b">intersect()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="eca4" class="kv kw in lw b gy mf mg l mh mi">val commonStocks = investor1Stocks.<em class="ku">intersect</em>(investor2Stocks)</span></pre><h2 id="8532" class="kv kw in bd kx ky kz dn la lb lc dp ld kg le lf lg kk lh li lj ko lk ll lm ln bi translated"><a class="ae kt" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/union.html" rel="noopener ugc nofollow" target="_blank">联盟()</a></h2><p id="a99b" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ls kq kr ks ig bi translated"><code class="fe lt lu lv lw b">union()</code>用于了解两个集合中的所有唯一元素，例如在您的股票市场应用程序中，您想要了解三个投资者交易的所有股票。</p><p id="541f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不带<code class="fe lt lu lv lw b">union()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="81e2" class="kv kw in lw b gy mf mg l mh mi">val unionList = <em class="ku">mutableListOf</em>&lt;String&gt;()<br/>for (stock in investor1Stocks) {<br/>    if (!unionList.contains(stock)) {<br/>        unionList.add(stock)<br/>    }<br/>}<br/>for (stock in investor2Stocks) {<br/>    if (!unionList.contains(stock)) {<br/>        unionList.add(stock)<br/>    }<br/>}<br/>for (stock in investor3Stocks) {<br/>    if (!unionList.contains(stock)) {<br/>        unionList.add(stock)<br/>    }<br/>}<br/>return unionList</span></pre><p id="1a8a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">与<code class="fe lt lu lv lw b">union()</code></p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="108e" class="kv kw in lw b gy mf mg l mh mi">val allShare = investor1Stocks.<em class="ku">union</em>(investor2Stocks).<em class="ku">union</em>(investor3Stocks)</span></pre><div class="mj mk gp gr ml mm"><a href="https://medium.com/@thegoldycopythat/less-known-but-very-useful-kotlin-functions-part-i-680fa6889d37" rel="noopener follow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd io gy z fp mr fr fs ms fu fw im bi translated">鲜为人知但非常有用的科特林函数[第一部分]</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">下面是一些可以让你的程序员生活轻松很多的函数，因为几乎所有的程序员都发现了它们的用处…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">medium.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na jt mm"/></div></div></a></div></div></div>    
</body>
</html>