<html>
<head>
<title>Migrating On-Premise Servers to the Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将本地服务器迁移到云</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/save-your-business-up-to-31-by-going-cloud-49a4237f9814?source=collection_archive---------8-----------------------#2022-12-13">https://blog.devgenius.io/save-your-business-up-to-31-by-going-cloud-49a4237f9814?source=collection_archive---------8-----------------------#2022-12-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="452e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">如何在 20 分钟或更短时间内在 AWS 上创建 EC2 实例</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kj"><img src="../Images/6b488e0c991dbb4ec93582147320e984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*xSlSnj00-zLZonu4NAq6qA.png"/></div></figure><p id="9041" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">老实说，做生意是一件既费钱又残酷的事。每个人都在寻找优势。如果我告诉你，通过迁移到云，你可以削减<a class="ae kr" href="https://technologyadvice.com/blog/information-technology/4-ways-cloud-computing-can-save-money/" rel="noopener ugc nofollow" target="_blank">15</a>–<a class="ae kr" href="https://aws.amazon.com/smart-business/savings/?smb-all.sort-by=item.additionalFields.sortDate&amp;smb-all.sort-order=desc&amp;awsf.location=location%23all&amp;events-cards-main.sort-by=item.additionalFields.startDateTime&amp;events-cards-main.sort-order=asc&amp;awsf.event-location=location%23namer" rel="noopener ugc nofollow" target="_blank">30%</a>的日常开支，会怎么样？</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ks"><img src="../Images/2d27b7d2897913f8d2f898ab91e3a908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*wspNa9DIDcp40DBk1X1nzw.jpeg"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">花更多时间处理业务，花更少时间维护服务器设备</figcaption></figure><p id="2921" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然而，即使在证明您的业务从内部迁移到云之后，您如何开始呢？不要烦恼！这就是我来这里的原因。</p><p id="9529" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">其实比你想象的简单。</p><p id="d92d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">非常简单，事实上，我将向您展示如何在 AWS 上创建您的第一个云服务器，即使您没有在云中构建系统的经验。</p><p id="bf65" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我打赌你能在 20 分钟或更短的时间内完成。</p><p id="ded4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们开始吧:</p><h1 id="d731" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">先决条件</h1><ul class=""><li id="0b27" class="lv lw in jm b jn lx jr ly jv lz jz ma kd mb kh mc md me mf bi translated">AWS 账户——注册是免费的，他们甚至会在第一年提供“免费”服务。</li><li id="37bb" class="lv lw in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">互联网接入、网络浏览器、电子邮件帐户和计算机</li></ul><h1 id="97d7" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 1:通过您的网络浏览器登录您的 AWS 帐户</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ml"><img src="../Images/0458e99757568692ab1b0b41e1fb44be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQ47oIdWWdSji9aaF7c9gQ.png"/></div></div></figure><h1 id="487a" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">第二步:选择你的地区</h1><p id="2fc8" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">由于我们将推出 EC2 实例，任何地区都可以。我建议选择离你最近的地区</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mt"><img src="../Images/7a478b385a395299cab3fe189ae3d846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YpjBZVbleVgZKyLlErTg4A.png"/></div></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">EC2 实例只存在于您构建它们的区域。如果切换区域，EC2 实例将只存在于创建它们的区域中</figcaption></figure><h1 id="2054" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 3:在搜索栏中搜索并选择 EC2</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mu"><img src="../Images/b032e6a5c639cfd510451b8b6093176b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SyA5Mfp-dXNdM31qBq4tuA.png"/></div></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mv"><img src="../Images/b392378951ae56aba8a49a6c82898e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OH_0u33RzYDo13NHox3j1A.png"/></div></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">此外，EC2 可能位于您仪表板上的这些位置，如果您过去导航到该应用程序的话</figcaption></figure><p id="1e33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">单击橙色的“启动实例”按钮</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mv"><img src="../Images/c65151cece6c2d272ddf9547fe71fc53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3XOxT00Hwcx76R8PdxMVog.png"/></div></div></figure><h1 id="aca2" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 4:创建 EC2 实例并设置默认设置(第 1 部分)</h1><p id="070d" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">当你听到 EC2 实例时，你会想到——我的企业的计算机资源在云中。它是您的本地服务器，但通过 AWS 进行了虚拟化。</p><p id="3ffb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通过将您的本地服务器迁移到云中，您可以利用 AWS 庞大的云网络和服务中更好的可访问性、灵活性、安全性、可扩展性、支持和共享计算资源。</p><p id="f33c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">命名您的实例。</p><p id="a735" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由于我们公司的原生操作系统是 Ubuntu Linux，我们将选择 Ubuntu 作为我们服务器的操作系统。</p><p id="4cd2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在此阶段，您需要确定<a class="ae kr" href="https://aws.amazon.com/ec2/instance-types/?trk=36c6da98-7b20-48fa-8225-4784bced9843&amp;sc_channel=ps&amp;s_kwcid=AL!4422!3!467723097967!p!!g!!amazon%20ec2&amp;ef_id=Cj0KCQiA4uCcBhDdARIsAH5jyUkwqUCjfCp00rUSM1bze9zo3CeaLbOfOorfGr_VYXDh7OhpvdJKVMsaAt46EALw_wcB:G:s&amp;s_kwcid=AL!4422!3!467723097967!p!!g!!amazon%20ec2" rel="noopener ugc nofollow" target="_blank">您的业务需要</a>多少计算资源。</p><p id="5d0e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天，我们将提供一个 t2.micro EC2 实例:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mw"><img src="../Images/db37dec23268d26878da46d704b0100f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Fs4CRjKAVVVvW9zK4qv7A.png"/></div></div></figure><h1 id="4926" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 5:创建新的密钥对</h1><p id="e39e" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">AWS 中的密钥对用于保护您的服务器，并允许您远程登录到您的服务器。从技术上讲，您不需要创建密钥对，但是没有它，任何拥有您的 IP 信息的人都可以远程登录到您的服务器来访问您的数据(不好)。</p><p id="8b7d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们创建一个新的密钥对。单击“创建新的密钥对”链接:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/735ecee36bc0f8f58d6430ea1dc6cbab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*UFUv3CAWCbkoqtQ_EmJzlQ.png"/></div></figure><p id="da19" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">命名您的密钥对，并使用以下默认设置。单击“创建密钥对”</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi my"><img src="../Images/5c82a91780a0adedb618f0fa7b6d0c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*aGHCpR1_8mnMa-tDNGTb7A.png"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">注意:您不能在密钥对名称中使用空格</figcaption></figure><p id="5fde" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当您单击“创建密钥对”时，a .pem vile 将下载到您的本地计算机:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/a1ced3e0dc02f4dbd42cc638b722377d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*ZEMX08Z82Z-0PBHeB3etjw.png"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">移动这个。pem 文件保存到您打算从中访问 AWS EC2 实例的工作目录中</figcaption></figure><p id="8922" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您将通过 CLI 登录到您的服务器，AWS 将检查以确保这个键在您当前的工作目录中。如果该文件不是，当您尝试登录时，将会出现“身份验证错误”。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi na"><img src="../Images/41327cd21472cc1e5eae3a81e746136a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B4yvjOgvauTvbN9tudhvdw.png"/></div></div></figure><h1 id="fa02" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 6:创建 EC2 实例并设置默认设置(第 2 部分)</h1><p id="c844" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">出于我们的目的，我们将网络设置主要保留为默认设置:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/705dd693beb15a59c6e6a968b4048548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*Q16kiJqgH0lvx1o4IYqbGA.png"/></div></figure><p id="82fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于配置存储，我建议使用您的企业当前使用的存储量+20%来适应增长。如果以后需要，您可以随时添加更多存储空间。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/9776e9b13676e5ac07e1a15b5151faf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*pOqh2MIL_198k0Nigx0c3A.png"/></div></figure><h1 id="c772" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 7:在高级详细菜单中创建脚本</h1><p id="7fa7" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">出于我们的目的，我们将把这些高级设置中的大部分保留为默认值。但是，在该子菜单底部附近，我们将使用一个脚本来填充“用户数据”字段，该脚本将在实例启动时为我们自动执行几个过程:</p><ul class=""><li id="ef47" class="lv lw in jm b jn jo jr js jv nd jz ne kd nf kh mc md me mf bi translated">更新我们的 Ubuntu 包</li><li id="2ecb" class="lv lw in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">安装 Apache web 服务器</li><li id="fbff" class="lv lw in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">启动我们的 Apache web 服务器</li></ul><p id="f1fe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你对这个脚本是如何工作的感到好奇，我邀请你阅读我以前写的一篇文章，我在这里详细解释了这个脚本<a class="ae kr" href="https://medium.com/@tait.hoglund/installing-a-web-server-in-4-simple-steps-ubuntu-18-04-apache-2-4-63a386fa6626" rel="noopener">。</a></p><p id="78f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将把脚本复制并粘贴到“用户数据”字段中:</p><pre class="kk kl km kn gt ng nh ni bn nj nk bi"><span id="207f" class="nl ky in nh b be nm nn l no np">#!/bin/bash<br/>sudo apt update -y<br/>sudo apt-get install apache2 -y<br/>sudo service apache2 start</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nq"><img src="../Images/70d56c4dd4be28df2e89eed57decdb27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zT7S79FKHFnIPQwGxa6I9Q.png"/></div></div></figure><p id="f8a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">AWS 将向您发送一个类似如下的确认屏幕:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mv"><img src="../Images/4df189d7e0728a056a1381dcdcfdcbca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_WluwvkZDSFZFKft1eL6qQ.png"/></div></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">单击“查看所有实例”继续</figcaption></figure><h1 id="df56" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 8:更新安全组入站规则，使我们的服务器可用于 Internet</h1><p id="4193" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">默认情况下，EC2 将限制对您的服务器的访问。如果您希望您的站点被公开访问，请确保更新安全组的入站规则</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nr"><img src="../Images/76d7a7c639988dae0293e78ae3801461.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BAjG-a6xGWihAV89Kqfadg.png"/></div></div></figure><h1 id="58fd" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤 9:通过公共 IP 地址验证我们的实例</h1><p id="6ded" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">最后，我们可以将公共 IP 地址从我们的 EC2 实例仪表板复制到一个新的浏览器窗口中，以验证我们的 EC2 实例是否正确启动:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ns"><img src="../Images/e60c44e22efcabf0ed4159c00f5bbfb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OaCPm2vUqIsFiNDCf3PLgQ.png"/></div></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">确保你的浏览器加载的是 http:// <ip_address>而不是 https:// <ip_address. you="" might="" have="" to="" manually="" type="" it="" into="" your="" address="" bar="" since="" many="" browsers="" default="" https.=""/></ip_address></figcaption></figure><p id="f734" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">If we see the default Apache2 page, we know that our script ran correctly once the EC2 instance was provisioned.</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ml"><img src="../Images/046098eb3c8f5be9e56bf3e2bffc556a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ja29U6g6AzwMP9hGAyLgsA.png"/></div></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">Gold star for you indeed cloud profession. :)</figcaption></figure><p id="3209" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">If you found this content helpful, I would appreciate a ‘follow’, a ‘clap’, or a comment.</p><p id="5f64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">If you enjoyed my writing in this article, you might enjoy these as well:</p><ul class=""><li id="cf5e" class="lv lw in jm b jn jo jr js jv nd jz ne kd nf kh mc md me mf bi translated"><a class="ae kr" href="https://medium.com/devops-dev/basic-automation-with-bash-scripts-for-absolute-beginners-d09d04d930f?source=your_stories_page-------------------------------------" rel="noopener">为绝对初学者准备的 Bash 脚本基本自动化</a></li><li id="0118" class="lv lw in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated"><a class="ae kr" href="https://medium.com/dev-genius/all-things-github-forking-cloning-pushing-pulling-d253bc71f5cf?source=your_stories_page-------------------------------------" rel="noopener">使用 Git w/GitHub——分叉、克隆、推送、&amp;拉取，实现有效协作</a></li></ul><p id="df49" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">直到下一次:前进！</p></div></div>    
</body>
</html>