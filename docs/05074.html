<html>
<head>
<title>Code Smell 78 — Callback Hell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味 78 —回调地狱</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-smell-78-callback-hell-aeb4a3010270?source=collection_archive---------6-----------------------#2021-06-11">https://blog.devgenius.io/code-smell-78-callback-hell-aeb4a3010270?source=collection_archive---------6-----------------------#2021-06-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="acf7" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">将算法作为一系列嵌套回调来处理并不明智。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/85c8e6fb819323130a0c212627459cba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FIYKr-SeGHMlOQHiE62HQ.jpeg"/></div></div></figure><blockquote class="ko kp kq"><p id="fcdb" class="kr ks kt ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">TL；DR:不要用回拨的方式处理电话。写一个序列。</p></blockquote><h1 id="70b8" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">问题</h1><ul class=""><li id="03ee" class="mg mh in ku b kv mi ky mj mk ml mm mn mo mp ln mq mr ms mt bi translated">可读性</li><li id="c712" class="mg mh in ku b kv mu ky mv mk mw mm mx mo my ln mq mr ms mt bi translated">很难调试。</li><li id="2fbb" class="mg mh in ku b kv mu ky mv mk mw mm mx mo my ln mq mr ms mt bi translated">复杂性</li></ul><h1 id="a181" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">解决方法</h1><p id="1066" class="pw-post-body-paragraph kr ks in ku b kv mi jo kx ky mj jr la mk mz ld le mm na lh li mo nb ll lm ln ig bi translated">1.将回调改为顺序调用。</p><p id="0773" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">2.提取重复代码</p><p id="c2d5" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">3.重构。</p><h1 id="e2fb" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">示例代码</h1><h2 id="d33e" class="nc lp in bd lq nd ne dn lu nf ng dp ly mk nh ni ma mm nj nk mc mo nl nm me nn bi translated">错误的</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div></figure><h2 id="ca5e" class="nc lp in bd lq nd ne dn lu nf ng dp ly mk nh ni ma mm nj nk mc mo nl nm me nn bi translated">对吧</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div></figure><h1 id="eb55" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">侦查</h1><p id="326f" class="pw-post-body-paragraph kr ks in ku b kv mi jo kx ky mj jr la mk mz ld le mm na lh li mo nb ll lm ln ig bi translated">这个问题肉眼可见。许多棉绒可以检测到这种复杂性，并警告我们。</p><h1 id="d8a3" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">标签</h1><ul class=""><li id="da6f" class="mg mh in ku b kv mi ky mj mk ml mm mn mo mp ln mq mr ms mt bi translated">可读性</li><li id="8ac0" class="mg mh in ku b kv mu ky mv mk mw mm mx mo my ln mq mr ms mt bi translated">复杂性</li></ul><h1 id="7091" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">结论</h1><p id="7692" class="pw-post-body-paragraph kr ks in ku b kv mi jo kx ky mj jr la mk mz ld le mm na lh li mo nb ll lm ln ig bi translated">回调地狱是有前途或承诺的编程语言中很常见的问题。</p><p id="7435" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">回调是以递增的方式添加的。刚开始没什么乱七八糟的。</p><p id="3d2e" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">没有重构的复杂性使得它们难以阅读和调试。</p><h1 id="674b" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">关系</h1><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-06-too-clever-programmer-bffec35daf0b"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd io gy z fp ny fr fs nz fu fw im bi translated">代码气味 06——太聪明的程序员</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">难以阅读的代码。没有语义的名字很棘手。有时使用语言的意外复杂性。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">blog.devgenius.io</p></div></div><div class="oc l"><div class="od l oe of og oc oh km nt"/></div></div></a></div></div><div class="ab cl oi oj hr ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ig ih ii ij ik"><blockquote class="ko kp kq"><p id="dcb4" class="kr ks kt ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">写代码有两种方法:写得非常简单，没有明显的错误；或者写得非常复杂，没有明显的错误。</p></blockquote><p id="1311" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated"><em class="kt">东尼·霍尔</em></p><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/software-engineering-great-quotes-3af63cea6782"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd io gy z fp ny fr fs nz fu fw im bi translated">软件工程名言</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">blog.devgenius.io</p></div></div><div class="oc l"><div class="op l oe of og oc oh km nt"/></div></div></a></div></div><div class="ab cl oi oj hr ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ig ih ii ij ik"><p id="8451" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">本文是 CodeSmell 系列的一部分。</p><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd io gy z fp ny fr fs nz fu fw im bi translated">如何找到你的代码中有问题的部分</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">blog.devgenius.io</p></div></div><div class="oc l"><div class="oq l oe of og oc oh km nt"/></div></div></a></div></div></div>    
</body>
</html>