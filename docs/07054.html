<html>
<head>
<title>Sequence Operators in Combine Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">组合框架中的序列运算符</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/sequence-operators-in-combine-framework-c942182150a?source=collection_archive---------15-----------------------#2022-02-21">https://blog.devgenius.io/sequence-operators-in-combine-framework-c942182150a?source=collection_archive---------15-----------------------#2022-02-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1e22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这篇文章中，我们将讨论 iOS 中的 Combine 框架的序列操作符，它可以让你在操作数据时变得简单。</p><p id="a90b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">用例:</strong>Combine Framework 提供的不同类型的序列操作符可以在数据订阅的非常早期使用，它可以避免我们在获得数据后进行额外的计算。</p><p id="6b80" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">先决条件:</strong></p><ul class=""><li id="fbaa" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">Xcode 11 及以上支持<code class="fe kr ks kt ku b">Combine framework</code></li><li id="4f3c" class="ki kj in jm b jn kv jr kw jv kx jz ky kd kz kh kn ko kp kq bi translated">出版商、订户和主题的基本知识。</li></ul><p id="6ec1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们开始吧:</p><h1 id="086e" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">最小和最大:</strong></h1><p id="7705" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">顾名思义，min 和 max 运算符用于从数据类型中获取最小值和最大值。让我们看下面的例子:</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">联合框架中的最小和最大序列算子。</figcaption></figure><p id="ae51" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的例子中，我们有一个 int 数组，它是一个发布者，当我们在第 4 行订阅它时，我们使用的是<strong class="jm io">。min() </strong>运算符，它将给出-90 的结果。对于<strong class="jm io">也是如此。max() </strong>我们得到的输出为 200。</p><h1 id="8a5c" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">减少:</h1><p id="e4aa" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">Reduce 可以帮助我们从诸如范围、数组、数据结构等元素的加、乘、减和删除操作中得到结果。</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">组合框架中的约简序列算子。</figcaption></figure><p id="cd67" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的例子中，我们制作了一个随机大小的数组，并将其发布在第 4 行。</p><p id="41bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在第 5 行，我们使用了<strong class="jm io"> reduce() </strong>操作符，初始值为“0”。它包含两个属性:</p><ul class=""><li id="a695" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">部分结果:存储每次循环后的运算结果。</li><li id="54a2" class="ki kj in jm b jn kv jr kw jv kx jz ky kd kz kh kn ko kp kq bi translated">Value:包含循环的当前索引上的元素值。</li></ul><p id="d95f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mo">循环只不过是在操作的特定索引上遍历实例。</em></p><h1 id="7443" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">计数:</strong></h1><p id="4ff9" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">Count 可以帮助我们获得已发布元素的数量。有两种方法可以使用 count:</p><ul class=""><li id="ff2d" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">一次发布所有元素，然后检查计数。</li><li id="b387" class="ki kj in jm b jn kv jr kw jv kx jz ky kd kz kh kn ko kp kq bi translated">一次发布一个元素，并在完成订阅后进行计数。</li></ul><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">组合框架中的计数序列算子。</figcaption></figure><p id="a93f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的例子中，我们可以看到 count 有两种用法。在第 6 行中，当我们有静态元素时，我们可以使用 count。</p><p id="8d99" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从第 9 行开始，我们创建了 passthrough 主题，在第 10 行，我们使用了 count 运算符。如果你看到第 14 行的评论，我们必须完成订阅才能得到总数。</p><h1 id="3ce3" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">包含:</h1><p id="76a7" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">Contains 运算符与 swift 的工作方式相同。它对对象使用===(指针比较),在确认等价时使用“==”。我们可以更早地使用它，直到我们得到订阅。我们可以避免额外的计算，而检查不同的条件，按照逻辑使用这个操作符。</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">在组合框架中包含序列运算符。</figcaption></figure><p id="a090" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个变量的实现非常简单，不言自明。第 4 行和第 6 行检查两个字符串，结果根据它们在已发布变量中的可用性而不同。</p><h1 id="7cb6" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">全部满足:</strong></h1><p id="df61" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">AllSatisfy 是组合序列操作符中我最喜欢的操作符之一，我们可以在订阅的早期阶段检查一个模式，这可以避免后期的许多额外计算。</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">联合框架中的全满足序列算子。</figcaption></figure><p id="a171" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的例子中，我们制作了一个 publisher，我们正在检查一个非常基本的模式，其中不同的元素被 2 和 3 除，余数应该是 0。</p><p id="53ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第 4 行将给出为真的结果，而在第 5 行，条件将失败。在这里，我们可以将上述变量/模式的用法与任何除以 3 的工作一起丢弃。</p><h1 id="7057" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">输出:</h1><p id="0edc" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">Output 运算符可用于获取索引处的元素，根据它们的用法在范围内。我们可以使用这个变量来获得我们的逻辑所需的唯一结果。</p><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">联合框架中的输出序列运算符。</figcaption></figure><p id="1f31" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的例子中，我们使用了两种类型的输出操作符来合并报价。</p><p id="7941" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第 3 行给出了索引为 3 的元素的输出，即 80。第 4 行给出了范围为 0…2 的输出，即“10，20，70”。</p><p id="3b50" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意:第一个和最后一个在序列操作符中也是可用的，但是我觉得它和组合的过滤操作符的第一个和最后一个是一样的，这将是我的下一篇文章。</p><h1 id="1381" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">何去何从:</h1><p id="4a67" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">当我们使用订阅者获取数据时，我们可以尝试使用这个序列操作符。您可以在我的<a class="ae mp" href="https://github.com/NilaakashSingh/CombineConcepts" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> GitHub </strong> </a>资源库中找到不同的联合运算符及其用法。</p><p id="1927" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">分享这个博客来传播知识|跟帖，喜欢就鼓掌！快乐编码:)</strong></p><p id="29c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">在</strong><a class="ae mp" href="https://www.linkedin.com/in/nilaakash-singh-79a386b2/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">Linkedin</strong></a><strong class="jm io">和</strong><a class="ae mp" href="https://twitter.com/NilaakashSingh" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">Twitter</strong></a><strong class="jm io">上加我。</strong></p></div></div>    
</body>
</html>