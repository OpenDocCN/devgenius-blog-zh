# Swift 中的可选绑定

> 原文：<https://blog.devgenius.io/optional-binding-in-swift-c069b80ebc4d?source=collection_archive---------3----------------------->

> IOS 开发和软件工程。

![](img/401058cdc2c4fcdca486fed94ec12810.png)

Swift 编程中什么是可选的，为什么它很重要？

在整个编程过程中，我们会遇到不同的使用变量的情况，变量的时刻没有赋值，或者可能包含一个值。我们称之为 swift 编程中的可选项目。所以让我们来讨论一下，并涵盖可选值和可选绑定。

# 场景一

> 让我们想象我们在门前发现一个盒子。我们今天没想到会收到任何东西，但很想看看里面有什么。它可能是一个提前送来的包裹，也可能只是一个留在门上的空盒子。昨天风很大，所以它可能正好扫过我们的门阶。但他们唯一能知道里面有没有东西的方法。所以我们打开盒子看了看里面。

1.  这个场景中的盒子将代表我们程序中的变量。如果盒子里有一个项目，我们的变量将被赋值。如果盒子里什么都没有，这将是我们的零值，意味着没有给变量赋值。那个“？”以下代码中的 mark 声明了 swift 编程中的可选值。

下面的例子表示字符串值包含在我们的盒子里面。

> 输出:“他们在里面是衬衫！”

下面的例子表示盒子里没有值。

> 输出:“无”

# **场景二**

> 我们在科学课上被问及宇宙中有多少颗恒星，但我们不知道，因为我们无法数清每一颗恒星！所以我们告诉教授，我们不知道银河系中有多少颗恒星，所以我们胡乱猜了 33 颗，最后猜了 66 颗。我们的老师对此很不高兴，但现在谁在乎呢。

2.在这个例子中，我们给出了银河系中有多少恒星的不确定性。对于宇宙中恒星的确切数量，我们显然无法提供 100%的答案。我们用“？”将它表示为可选声明。所以我们最初的猜测是 33 颗星，最后的猜测是 66 颗星。让我们用代码展示一个可视化的例子。

可选表达式用来表示星系中恒星数量的不确定性。

选项给我们的代码增加了一点不确定性。例如，我们可能有一个注册屏幕，要求用户输入特定的密码标准和用户名。

## 如果用户没有在注册屏幕中键入任何密码或用户名，该怎么办？我们通过注册屏幕提交它。我们的程序如何在不崩溃的情况下对空文本值做出反应？

> 需要声明可选表达式和一个条件语句，一旦打开可选值，就可以在程序中捕获 nil 值。我们将在本课中讲述可选绑定。例如，假设用户要键入密码和用户名。在这种情况下，当可选值被安全地打开时，我们的条件语句可以允许用户进入网站。但是如果他们的文本和密码块没有值，并且它被提交了，我们可以在解包后捕捉到这个零值，并向用户返回类似“你没有输入任何东西，请再试一次”的输出。

我们创建一个条件语句，强制展开 registerScreen 值，并将其赋给一个新变量。

你可能想知道什么是"！"意味着在上面 register.swift 示例中的代码示例中。"!"是一个强制解包声明，用于跳过可选绑定过程，而是强制解包可选值。强制展开不是处理可选值的安全方式，如果展开的值为零，会导致程序崩溃。

![](img/43bc18ac702692573c7efa386e8b8e76.png)

强制展开

# 可选绑定

我们一直在讨论可选绑定，所以让我们来看看它是如何工作的，为什么它是必不可少的。在安全地解开零值时，可选绑定是常见的做法。因此，让我们一步一步地了解绑定过程是如何工作的。

![](img/a50515d8dff0379cf6ed10b5ec4108ca.png)

可选绑定用于安全地解开可选值。

*   第一步:我们将可选值赋给临时常量&变量
*   **第二步:**如果可选变量包含一个值，它将被赋给我们的临时变量。
*   **第三步:**当程序执行时，它将执行第一个分支，并安全地打开我们的可选。

Swift 编程语言中的可选绑定示例。

> 输出:他们没有错误
> 
> 输出:你需要一些咖啡

# 结论

人生苦短，不能不冒险。明白几天的工作不会带来什么，并全身心地投入到这个过程中去。成功需要时间，而不是一夜之间。编码快乐！

[](https://www.linkedin.com/in/michael-balsa-9474431b0/) [## 迈克尔巴尔萨-技术作家-开发天才| LinkedIn

### 经验丰富的数据专家，负责监督维护美国的飞机数据和信息管理…

www.linkedin.com](https://www.linkedin.com/in/michael-balsa-9474431b0/)