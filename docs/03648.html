<html>
<head>
<title>Clean (PHP) Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">干净的(PHP)代码</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/clean-php-code-57da4cf75537?source=collection_archive---------0-----------------------#2020-11-29">https://blog.devgenius.io/clean-php-code-57da4cf75537?source=collection_archive---------0-----------------------#2020-11-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1a33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你问10个PHP开发人员什么是干净的代码，你会得到9个答案，一个非常生气的人会花半个小时向你解释WordPress插件必须是脏的，因为它就是这样工作的，如果你是一个更好的程序员，你就会明白。</p><p id="8164" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你远离了第十个人，并提交了必要的限制令，你将最终能够看到其他9个开发人员中只有一两个对干净代码有看法。</p><p id="25f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在过去几年的开发旅程中，我一直在试图弄清楚干净的代码对我来说意味着什么。那段旅程将我引向了诸如<a class="ae km" href="https://medium.com/swlh/software-development-is-the-scientific-method-b5edbf6dafc0" rel="noopener">测试驱动开发</a>、对象健美操、价值对象等主题。</p><p id="6869" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我最大的抱怨，也绝对是我个人的问题，是很少有人关注干净的<em class="kl"> PHP </em>代码。</p><h1 id="8c43" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">关于PHP的一点知识</h1><p id="1dd7" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">PHP在干净代码方面有着曲折的过去，你听说过吗？如果你在开发人员圈子里呆过一段时间，你会很难不听到关于PHP的负面消息。</p><p id="005f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我不会去探究人们说的所有事情，因为坦率地说，我认为他们大多是错的(现在)，但就像高中一样，PHP有一个坏名声。PHP不像高中，不能只穿个皮夹克假装不在乎。</p><p id="0de1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尽管PHP有很多缺点，但它多年来还是一个蹒跚学步的孩子，而<em class="kl">仍然成功地开发了互联网的大部分。</em></p><p id="d776" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如今，PHP已经成长为一门受人尊敬的年轻语言，随着PHP 8.0 的<a class="ae km" href="https://www.php.net/archive/2020.php" rel="noopener ugc nofollow" target="_blank">发布，它甚至显示出成熟的迹象。</a></p><h1 id="aadc" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">接下来:成熟的开发者</h1><p id="2dfc" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">现在，让我们从说有许多用PHP编写干净代码的成熟开发人员开始这一部分。我不是想说没有。</p><p id="49ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题是不同的，而且是双重的:</p><ol class=""><li id="1e02" class="lq lr iq jp b jq jr ju jv jy ls kc lt kg lu kk lv lw lx ly bi translated">有更多不成熟的开发者编写不干净的PHP代码；和</li><li id="44d1" class="lq lr iq jp b jq lz ju ma jy mb kc mc kg md kk lv lw lx ly bi translated">干净PHP和非干净PHP之间的距离比大多数其他语言都要大。</li></ol><p id="a84d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，这两个问题都有一个根本原因，就像PHP中的大多数事情一样，根本原因是已知的，也是语言的核心。</p><p id="2a00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">PHP作为一种语言，是非常宽容的。</p><p id="b1e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它并不强迫你做(许多)其他基于C语言默认做的事情——看看你，类型声明。正因为如此，许多PHP开发人员意外地陷入PHP，并发现他们的代码工作得很快。</p><p id="fdc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这对采用来说很好，但对干净代码的扩散来说就不那么好了。</p><h1 id="8480" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">你必须不怕麻烦地写出干净的PHP</h1><p id="f6b9" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">这并不是说编写干净的PHP很难，只是它需要你采取一些语言不强迫你采取的步骤。</p><p id="75f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，所有干净的代码都是如此，但我的观点是，对于PHP，需要采取更多的步骤。</p><p id="a267" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">出于这个原因，我将介绍几个你可以采取的步骤，这些步骤将立即帮助你提高PHP的整洁度。其中一些是鲍勃叔叔(罗伯特·马丁的)<a class="ae km" href="https://amzn.to/3fMW3LC" rel="noopener ugc nofollow" target="_blank">的干净代码书</a>【附属链接】提供的建议，其他的是我发现的帮助我写更干净代码的建议。</p><p id="0c13" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这并不是一个详尽的列表，我在这里只是简单地介绍一下，因为每个建议都可以很容易地成为它自己的文章。但是让我们开始吧。</p><p id="1e1f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将从所有其他事物存在所必需的一个开始:</p><h1 id="dfe8" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">全局作用域是用来调用你的主方法的，仅此而已</h1><p id="7e83" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">或者换句话说，你应该使用类——或者至少是函数——而不是自上而下地把代码写成一个文件。</p><p id="d498" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很少有程序可以从一个不使用任何自定义函数的脚本中长期运行。随着应用程序的增长，您应该会发现自己将块移动到它们自己的方法中，将方法移动到它们自己的类中。</p><p id="4e8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是接下来所有事情的必要方面，所以如果你还没有做到这一步，现在就停止阅读，去练习。如果你已经在做这一步了，那就继续吧。</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><p id="f7dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">喜欢这篇文章吗？</em> <a class="ae km" href="https://travisweston.com/membership" rel="noopener ugc nofollow" target="_blank"> <em class="kl">成为会员</em> </a> <em class="kl">和</em> <a class="ae km" href="https://travisweston.com/subscribe" rel="noopener ugc nofollow" target="_blank"> <em class="kl">订阅</em> </a> <em class="kl">获取更多类似这样的精彩内容！</em></p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="10a9" class="kn ko iq bd kp kq ml ks kt ku mm kw kx ky mn la lb lc mo le lf lg mp li lj lk bi translated">使用类型声明</h1><p id="9889" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">类型声明不是PHP的必需部分，我们在上面讨论过，但是它们让你的<a class="ae km" href="https://en.wikipedia.org/wiki/Code_smell" rel="noopener ugc nofollow" target="_blank">代码闻起来</a>更好。当你使用类型声明时，当一年后你被要求完全重写那部分脚本时，你不必猜测变量包含什么。</p><h1 id="792d" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">在私有/受保护的类成员前添加下划线</h1><p id="1819" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">这是我使用的一种习惯，我很想停止使用。问题是，在我们就我的下一点达成全行业一致之前，我觉得这一点是必要的。</p><p id="78b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一眼就知道你正在处理的变量的范围是很重要的。通过在参数名的开头添加一个简单的下划线，可以区分哪些是私有的和受保护的，哪些是公共的。如果您遵循以下建议，可以安全地忽略这一点:</p><h1 id="e425" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">零公共类参数</h1><p id="dc33" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">我们为什么要创建类？在类代码和应用程序的其余部分之间添加一个分离层。公共类参数打破了这一障碍。实际上，它们是传染媒介，其他人可以利用它们来扰乱你的课堂。</p><p id="4831" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">类应该有(有限的)公共API。这些公共API应该仅限于类方法，不应该包含getters或setters。是的，我说了。</p><p id="e5af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">跟我打。</p><p id="b89d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想要干净的代码，你需要限制你的类的范围。Getters和setters不会这样做。在某些情况下，Getters是可以被原谅的，但是setters应该被避免。</p><h1 id="7cc5" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">使用值对象实现不变性</h1><p id="2983" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">值对象给一个概念命名。它们封装了逻辑，无论概念是什么，它们允许您将处理逻辑的关注点与数据的使用分开。</p><p id="db78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我开发过很多基于浏览器的游戏，它们都有一个共同点，就是某种形式的金钱。传统上，这笔钱是作为整数在各个领域传递的。但是通过使用Value对象，您可以在清理代码的同时对代码的这一部分进行自文档化。</p><p id="18e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来看一个例子:</p><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="dcdc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个非常小的样本，并且有相当多的潜在缺陷。</p><p id="4fed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，<code class="fe mx my mz na b">addMoney</code>显然是一只名字很奇特的塞特犬。</p><p id="ba85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">其次，让我们花一分钟想想<code class="fe mx my mz na b">$_wallet</code>好吗？非常具体地说，钱包是什么？根据它的用法，我们可以假设它是一个整数，对吗？</p><p id="d2d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是，钱包是整数吗？我把它放在口袋里，它看起来像一块皮革。但我想我可以问它是否真的是自然数。</p><p id="9a7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你(希望)明白我的意思。钱包是自己的东西，包含自己的逻辑。所以我们应该这样对待他们。</p><p id="9951" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来看一个改进了这个想法的例子:</p><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="6635" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们创建Wallet值对象。这只是我整理的一个快速类，随着投入使用，它可能会随着时间的推移而改进。但是对于这个例子，它做了我们需要的一切。</p><blockquote class="nb nc nd"><p id="3dd6" class="jn jo kl jp b jq jr js jt ju jv jw jx ne jz ka kb nf kd ke kf ng kh ki kj kk ij bi translated"><em class="iq">注意:这里有一个吸气剂。我是个伪君子，对吗？嗯，不。在这种情况下，我更喜欢使用__toString()魔法方法，但是PHP没有等效的__toInt()魔法方法，我们可以使用这个方法代替在整个代码中使用(int)(string)$wallet。</em></p></blockquote><p id="89a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们来谈谈如何使用这个值对象。</p><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="d042" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我跳过了Wallet类，因为如果你正在阅读这篇文章，我假设你知道如何在PHP中连接不同的文件。</p><p id="8d69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">无论如何，现在我们有了两个类，我们在创建播放器时创建了一个空的钱包，然后我们可以通过调用播放器类上的<code class="fe mx my mz na b">addMoney</code>向这个钱包里添加钱。这很好地控制了一切。</p><p id="7d8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，这不是一个完美的例子。有更好的处理钱包的方式，你可能希望你的钱包是一个模型而不是一个价值对象，但在我们的例子中，这就是我们必须处理的。</p><p id="96ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">事实是，直到你真正使用了值对象，你才真正理解它们为可读性和可用性提供的价值。</p><p id="c596" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在值对象上花了太多时间，所以让我们继续。</p><h1 id="891a" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">使用提前返回最多1个缩进级别</h1><p id="29bf" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">缩进和setters一样邪恶。缩进会使代码难以理解，并使您更容易忘记关闭大括号。如果我听到你告诉我，这没关系，因为VS代码会为你关闭括号，所以帮助我，我将被迫打破你的键盘。</p><p id="3879" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">VS代码不是开发者。</p><p id="e144" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你是。</p><p id="8a1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">去吧。你的。工作。</p><p id="1a5a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看一个例子。</p><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="1e76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们都见过这个代码，不是吗？我们想要注册一个用户，所以我们将他们的详细信息传递给函数并完成这个任务。</p><p id="14da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有多少级缩进？嗯，使用零索引，我们从函数体中的缩进级别0开始。从那里，我们可以计算出3个if语句，这给了我们3个级别的缩进。</p><p id="0210" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们想把它降低到不超过1。</p><p id="98e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">超级简单。我们只需要颠倒这里的逻辑。</p><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="cfba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是和上面完全一样的代码，除了我们颠倒了逻辑和<em class="kl">立即</em>使它更可读。</p><p id="971f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">逻辑反转和提前返回可能是它自己的文章。这是处理太多缩进层次、去掉else关键字以及其他许多使代码更整洁的方法的核心策略。</p><p id="a02e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">说到…</p><h1 id="fe7e" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">不要用else…否则</h1><p id="22eb" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">在一个完美的世界里，我们可以完全摆脱条件句。我在干净代码的道路上还没有走多远，但是我可以被说服。然而，现在，我将死在这座山上:永远没有理由使用<em class="kl"> else </em>关键字。</p><p id="3276" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我从来没有发现一个else块是我无法移动和摆脱else关键字的。else关键字对我来说通常是一种代码味道，它告诉我你在那个方法或代码段中做了不止一件事。</p><p id="d99d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总之，还能是什么？如果我们看看上面关于逻辑反转的概念，我们可以看到，else相当于前面所有返回false的If语句。</p><p id="bae2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于上面的例子，这意味着每个else块成为if的主块，方法的主逻辑成为事实上的else块。</p><p id="918b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是如果你想运行的代码在一个else块中，并且到达那里的唯一方法是你的方法中的一切都正确运行，那么else块就没有必要了。</p><p id="204e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，这两个函数的性能相同:</p><figure class="mq mr ms mt gt mu"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="875e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是，请注意，第二个函数是如何非常清楚地描述流量的？没有必要使用else，因为如果第一个if为真，函数的执行就会停止。</p><p id="247d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果所有的if语句都是假的，那么事实上else将会运行，所以也不需要最后的else。</p><h1 id="c40f" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">就这些吗？</h1><p id="2872" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">不，那不是全部。PHP充满了肮脏的代码，包括语言本身——尽管所有语言都是如此——但这只是一个开始。</p><p id="c982" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您从这里开始，您的代码将更容易阅读，并且在重构时更容易理解。我不能在一篇文章中教会你成为一名干净的程序员，但是我可以让你开始成为一名干净的程序员。</p><p id="b1e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你真的有兴趣了解更多，我鼓励你拿起<a class="ae km" href="https://amzn.to/3fMW3LC" rel="noopener ugc nofollow" target="_blank">罗伯特·马丁的干净代码</a>[附属链接]，从头到尾读一遍。他的例子是用Java写的，但是Java和PHP非常相似，你应该能够理解。</p><p id="a7f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果没有，你真的应该学一点Java。</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><p id="a220" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">你喜欢这篇文章吗？</em> <a class="ae km" href="https://travisweston.com/membership" rel="noopener ugc nofollow" target="_blank"> <em class="kl">成为会员</em> </a> <em class="kl">准备好Travis Weston写的所有东西——以及媒体上所有其他可用的东西。</em></p><p id="e7f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">已经是会员了？</em> <a class="ae km" href="https://travisweston.com/subscribe" rel="noopener ugc nofollow" target="_blank"> <em class="kl">订阅得到通知</em> </a> <em class="kl">特拉维斯·韦斯顿写的每一篇文章。</em></p><p id="02ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">本故事包含附属链接。我从通过这些链接进行的购买中获得收入，无需您支付额外费用。</em></p></div></div>    
</body>
</html>