<html>
<head>
<title>How to Easily Detect the User Browser in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 React 中轻松检测用户浏览器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-easily-detect-the-user-browser-in-react-b4cd0290f257?source=collection_archive---------1-----------------------#2021-04-18">https://blog.devgenius.io/how-to-easily-detect-the-user-browser-in-react-b4cd0290f257?source=collection_archive---------1-----------------------#2021-04-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c266" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">React 设备检测简介</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/76bd03ddd589109901d52bc7e160b092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xiZCwpgrRorQKiAt"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@domenicoloia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Domenico Loia </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="25c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据 StatCounter.com 的数据，将近 65%的用户使用谷歌浏览器。我也是其中之一。</p><p id="1bfa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，这也意味着 35%的用户没有使用谷歌 Chrome。在开发的时候，你应该总是尽可能的了解更多的用户。</p><p id="a98e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有些功能在一种浏览器上运行良好，但如果你切换到另一种浏览器，事情就不会像我们预期的那样运行了。下面有一个方便的网站叫做<a class="ae kv" href="https://caniuse.com/" rel="noopener ugc nofollow" target="_blank">caniuse.com</a>，它可以检查一个功能是否能在浏览器上运行。</p><div class="ls lt gp gr lu lv"><a href="https://caniuse.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">我能用吗...HTML5、CSS3 等的支持表</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">测试功能我们与 BrowserStack 的合作现在可以让您测试您的网站在 2，000 多个真实的…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">caniuse.com</p></div></div></div></a></div><p id="d18b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我最近发现我添加到 React 项目中的一个特性与 IE11 不兼容。添加兼容 IE11 的特性需要做很多额外的工作。相反，如果用户使用 IE11，我决定禁用这个特性。我想找到一种简单的方法来查看我的用户正在使用什么浏览器。</p><p id="9a1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将研究一个名为 react-device-detect 的包，它可以完成这一任务以及更多其他任务。</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="c140" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">入门指南</h1><p id="88e1" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在我们进入 react-device-detect 库之前，让我们看看在没有任何第三方包的情况下，我们将如何做这件事。</p><p id="9bdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/navigator" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs </a>，我们可以使用 window.navigator API 检测用户浏览器。但是对我来说，他们给出的示例代码有点复杂和凌乱。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">来自 MDN Web 文档</figcaption></figure><p id="505d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更干净的方法是使用<a class="ae kv" href="https://www.npmjs.com/package/react-device-detect" rel="noopener ugc nofollow" target="_blank">反应设备检测</a>包。可以用 npm 或者 yarn 安装。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="6a7d" class="np mm iq nl b gy nq nr l ns nt">npm install react-device-detect --save<br/><br/>or<br/><br/>yarn add react-device-detect</span></pre><h1 id="c6df" class="ml mm iq bd mn mo nu mq mr ms nv mu mv jw nw jx mx jz nx ka mz kc ny kd nb nc bi translated">检查浏览器名称</h1><p id="9813" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">使用这个库很简单。我们可以导入许多道具。例如，为了获得浏览器名称和版本，我们将从库中导入<code class="fe nz oa ob nl b">browserName</code>和<code class="fe nz oa ob nl b">browserVersion</code>。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="216f" class="np mm iq nl b gy nq nr l ns nt">import { browserName, browserVersion } from "react-device-detect";</span></pre><p id="8a6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们将这两个值记录到控制台，我们将看到以下内容。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="6e9b" class="np mm iq nl b gy nq nr l ns nt">console.log(`${browserName} ${browserVersion}`);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/2a692869ad6a93ed92f72a56639cc9bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*pWjPxcbRnDJMrXm0Aro53A.png"/></div></figure><p id="7a6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样。这是一个非常方便的软件包，非常容易使用。</p><p id="6edd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以通过使用<code class="fe nz oa ob nl b">is~</code>属性得到一个布尔值。例如，您可以使用<code class="fe nz oa ob nl b">isChrome</code>、<code class="fe nz oa ob nl b">isFirefox</code>、<code class="fe nz oa ob nl b">isSafari</code>、<code class="fe nz oa ob nl b">isIE</code>等等，根据用户使用的浏览器返回 true 或 false 值。</p><h1 id="8db9" class="ml mm iq bd mn mo nu mq mr ms nv mu mv jw nw jx mx jz nx ka mz kc ny kd nb nc bi translated">其他用途</h1><p id="fd4f" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">除了检测用户浏览器，还可以检测 os 名称和版本，用<code class="fe nz oa ob nl b">osName</code>和<code class="fe nz oa ob nl b">osVersion</code>。也可以勾选<code class="fe nz oa ob nl b">isWindows</code>或者<code class="fe nz oa ob nl b">isMacOs</code>。</p><p id="7c03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个库的另一个好用途是检查用户在什么设备上。这可以帮助您提高应用程序的响应能力。他们有<code class="fe nz oa ob nl b">MobileView</code>、<code class="fe nz oa ob nl b">BrowserView</code>、<code class="fe nz oa ob nl b">TabletView</code>，甚至还有<code class="fe nz oa ob nl b">AndroidView</code>、<code class="fe nz oa ob nl b">IOSView</code>。根据用户使用的设备，您可以选择要渲染的内容。</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="d71c" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">包扎</h1><p id="8313" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">感谢阅读！这是一个非常好的库，可以很容易地检测出你的用户使用的是什么浏览器和操作系统。您还可以检测设备，以帮助您的应用程序做出响应。</p><p id="15de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然你可能觉得大家都用谷歌 Chrome，但事实绝对不是这样。因此，在创建应用程序时，记住这一点很重要。</p><p id="1ad9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想了解 React 的另一个有用的库，请查看下面的文章来了解 React 图标。</p><div class="ls lt gp gr lu lv"><a href="https://javascript.plainenglish.io/tutorial-and-beginners-guide-to-using-react-icons-77c614696301" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">使用 React 图标的初学者指南</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">在一个地方获得您需要的所有图标</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="od l"><div class="oe l of og oh od oi kp lv"/></div></div></a></div></div></div>    
</body>
</html>