# 学习构建端到端数据科学项目

> 原文：<https://blog.devgenius.io/learn-to-build-an-end-to-end-data-science-project-c9f79692191?source=collection_archive---------3----------------------->

不同数据科学职位的工作薪金估算器

![](img/cd70d861e1fe69f69742dedfeb545355.png)

> 数据科学家是所有统计学家中最好的程序员，也是所有程序员中最好的统计学家

每个数据科学家都需要高效的策略来解决数据科学问题。

数据科学职位在全国范围内都是独一无二的，因此我们可以尝试根据职位名称、公司和地理位置等来预测数据科学职位的薪酬。在这里，我已经建立了一个项目，任何用户都可以插入信息，它分为一系列的工资，所以如果有人试图谈判，那么这是一个非常酷的工具，供他们使用。

# 数据科学工作流程

![](img/9833a9154b54f4275c3ada2503847e92.png)

**业务理解**

这个阶段非常重要，因为它有助于明确客户的目标。任何项目的成功都取决于所提问题的质量。如果您正确理解了业务需求，它将帮助您收集正确的数据。问正确的问题有助于你缩小数据采集的范围。

**分析法**

在这个阶段，一旦清楚地陈述了业务问题，数据科学家就可以定义解决问题的分析方法。这一步包括在统计学和机器学习技术的意义上解释问题，这很重要，因为它有助于确定以最有效的方式解决问题需要什么样的趋势。如果问题是确定某事的概率，那么可以使用预测模型；如果问题是显示关系，可能需要一个描述性的方法，如果我们的问题需要计数，那么统计分析是解决它的最好方法。对于每种方法，我们可以使用不同的算法。

**数据要求**

我们为初始数据收集找出必要的数据内容、格式和来源，并在我们选择的方法的算法中使用这些数据。

> 数据揭示影响，有了数据，您可以为您的决策带来更多科学依据。

**数据收集**

我们识别与问题领域相关的可用数据资源。为了检索数据，我们可以在相关网站上应用网络抓取，或者我们可以使用一个带有现成数据集的存储库。如果您想从任何网站或存储库中收集数据，请使用 Pandas library，这是一个非常有用的下载、转换和修改数据集的工具。

为此，我调整了网页抓取器，从 glassdoor.com 抓取了 1000 份招聘信息。对于每份工作，我们得到以下信息:职称、工资估计、工作描述、评级、公司、地点、公司总部、公司规模、公司成立日期、所有权类型、行业、部门、收入、竞争对手。这些是决定一个在数据科学领域工作的人的工资的各种属性。

要查看网页刮刀文章，点击 [**此处**](https://towardsdatascience.com/selenium-tutorial-scraping-glassdoor-com-in-10-minutes-3d0915c6d905)

要查看 Web Scraper Github 代码，点击 [**此处**](https://github.com/arapfaik/scraping-glassdoor-selenium)

> 你可以有没有信息的数据，但你不能有没有数据的信息。

**数据理解**

数据科学家试图更多地了解之前收集的数据。我们必须检查每个数据的类型，并且必须了解更多关于属性及其名称的信息。

![](img/862b5972e2c80b58e5878da13c08d1b0.png)

很少有薪水包含-1，所以这些值对我们来说并不重要，所以让我们把它们去掉。因为薪金估计列现在是字符串形式，所以我们需要以字符串形式给出-1。

![](img/7fe5bb1956e78caca0c422c56593f089.png)

现在我们可以看到行数已经减少到了 742。我们观察到，我们的大多数变量是分类的，而不是数字的。该数据集包括 2 个数值变量和 12 个分类变量。但在现实中，我们的因变量工资估计必须是数字。所以我们需要把它转换成一个数值变量。

**数据准备**

数据可以是任何格式。为了分析它，你需要有某种格式的数据。数据科学家必须为建模准备数据，这是最关键的步骤之一，因为模型必须干净，不应包含任何错误或空值。

> 在现实世界的场景中，数据科学家花 80%的时间清理数据，只花 20%的时间给出见解和结论。

这是一个相当混乱的过程，所以你应该做好准备。

抓取数据后，我需要清理它，以便它可以用于我们的模型。我做了一些改变，并创建了新的变量。

![](img/4cc78fc56eba1e6a4cb066b21346b65b.png)

当我们在左括号上拆分时，发生的情况是，所有行的'('的左右两边进入两个不同的列表。这就是为什么我们需要包含[0]来获得薪水。获得薪水后，用空字符串替换' K '，' $ '。在一些条目中，工资是作为“雇主提供”和“每小时”给出的，所以这些是不一致的，应该注意。

![](img/2604107a6f0891fa55ee797d44e137d1.png)

现在我们不应该有雇主提供或每小时的工资。因此，我们返回 2 个列表，其中包含每个条目的最低和最高工资。这成为我们最后的因变量(预测一个人的平均工资)

## 探索性数据分析

EDA 在这一阶段起着非常重要的作用，因为干净数据的汇总有助于识别数据中的结构、异常值、异常和模式。这些见解可以帮助我们建立模型。然而，我将在另一篇文章中详细讨论 EDA，你可以在我的中等配置文件中找到它。

**模型建立**

数据科学家有机会了解他的工作是否准备就绪，或者是否需要评审。建模侧重于开发描述性或预测性的模型。因此，我们在这里执行预测建模，这是一个使用数据挖掘和概率来预测结果的过程。对于预测建模，数据科学家使用一个训练集，该训练集是一组结果已知的历史数据。这个步骤可以重复更多次，直到模型理解了问题和答案。

如果我们有分类数据，那么我们需要创建虚拟变量，这就是为什么我把分类变量转换成虚拟变量。我还将数据分为训练集和测试集，测试规模为 20%。我尝试了三种不同的模型，并用平均绝对误差对它们进行了评估。我选择 MAE 是因为它相对容易解释，并且离群值对于这种类型的模型来说不是特别糟糕。

![](img/eae2a4312e97bfbe80daa7eecec3054e.png)

经过这次转换后，我们的数据集中的列数从 14 增加到了 178！！

我实现了三种不同的模型:

*   多元线性回归-模型的基线
*   Lasso 回归-由于来自许多分类变量的数据稀疏，我认为像 lasso 这样的标准化回归将是有效的。
*   随机森林——同样，由于数据的稀疏性，我认为这是一个很好的选择。

![](img/f4432635c0e2933b503a56b02e8cc52d.png)

现在开始的时候，就差一点。因此，我们试图找到误差最小的最佳α值。

![](img/be0f2efa79786fdff1e5f5ce1f9bbc59.png)

这里我也选择了 i/10，但是误差仍然很大，所以我降低了α的值。

![](img/3ba5315890021c0542f73891086e6d9f.png)

绘制图表并检查α值后，我们发现α值为 0.13 时误差最大。现在我们的误差从 21.09 降到了 19.25(也就是 19.25K 美元)。我们还可以通过调整网格搜索来改进模型。

GridSearch 是执行超参数调整以确定给定模型的最佳值的过程。GridSearchCV 基本上就像你输入所有你想要的参数，然后它运行所有的模型并分离出最好的结果

![](img/7568a6c803a99a9dee843975501a6fd8.png)

我们甚至可以使用支持向量回归、XGBoost 或任何其他模型。
随机森林回归是一个基于树的决策过程，而且我们的数据集中有许多 0 和 1，所以我们希望它是一个更好的模型。这就是为什么我更喜欢这里的随机森林回归。

![](img/a8bb0ec7b9a8bc27abfcfa441a04bc04.png)

所以这里我们得到了一个比以前更小的误差值，所以随机森林模型比以前的模型更好。我把随机森林模型和线性回归模型结合起来做了一个预测。所以我取了两者的平均值，这意味着我给了每个模型 50%的权重。

大多数情况下，最好将不同的模型结合起来，然后进行预测，因为这很有可能提高我们的准确性。这些类型的模型被称为集合模型，它们被广泛使用。误差可能会增加，也可能不会增加，因为一个模型可能训练过度。

这里，优化的随机森林模型是最好的，因为与 Lasso 和线性回归相比，它的误差最小。因此，我们甚至可以将随机森林模型的 90%与任何其他模型的 10%合并，而不是取两者的平均值，并测试准确性/性能。通常，这些类型的集成模型更适合于分类问题。

该项目不应该是尝试所有的模型，但它应该是选择最有效的模型，并应该能够讲述一个故事，为什么我们选择了这些特定的模型。通常，Lasso 回归应该比线性回归具有更好的效果，因为它具有归一化效果，并且我们有一个稀疏矩阵，但是这里 Lasso 的表现不如线性回归。因此，这取决于不同的模型，我们不能一概而论。

## 模型评估

数据科学家可以用两种方式评估模型:拒绝和交叉验证。在保留方法中，数据集分为三个子集:训练集、验证集(用于评估在训练阶段建立的模型的性能的子集)和测试集(用于测试模型未来可能的性能的子集)。在大多数情况下，训练集:验证集:测试集的比率将是 3:1:1，这意味着 60%的数据属于训练集，20%的数据属于验证集，20%的数据属于测试集。

## 模型部署

所以我创建了一个简单的网页，这样就很容易理解了。给定雇员和公司的详细信息，该模型预测雇员的预期工资。

我已经使用 flask 在 Heroku 部署了我的机器学习模型。我已经使用线性回归训练了模型(因为它很容易理解)，但你总是可以使用任何其他机器学习模型训练你的模型，或者你甚至可以使用集成模型，因为它们提供了很好的准确性。

![](img/318bf55f6fc83554efdf6253b695ea25.png)

部署模型后，我尝试预测了一位机器学习工程师的工资，该公司的评级为 4，公司成立于 39 年前。所以根据我的模型，员工的期望工资是 117.31K 美元。

 [## ML API

### 这是我托管的 web 应用程序的链接

glassdoorsalaryprediction-api.herokuapp.com](https://glassdoorsalaryprediction-api.herokuapp.com/) 

在这篇文章中，我没有详细讨论每件事。但是你可以随时参考我的 [**GitHub 库**](https://github.com/mathangpeddi/Glassdoor-Job-Salaries) 了解整个项目。我从这篇文章得出的结论是，不要期待一个完美的模型，而是期待一些你今天可以在自己的公司/项目中使用的东西！这是我第一篇关于媒体的文章，我很想继续写关于数据科学和机器学习的文章。

非常感谢[肯·吉](https://www.youtube.com/channel/UCiT9RITQ9PW6BhXK0y2jaeg)对数据科学的惊人贡献和项目！

链接到他的回购:[**https://github.com/PlayingNumbers**](https://github.com/PlayingNumbers)

在 [**LinkedIn**](https://www.linkedin.com/in/mathang-peddi-23763317b/) 上与我联系

> "我们的目标是将数据转化为信息，将信息转化为洞察力."卡莉·菲奥莉娜

我希望你觉得这篇文章很有见地。我很乐意听到反馈，以便即兴创作，并带来更好的内容。

非常感谢您的阅读！

[](https://www.kdnuggets.com/2020/11/top-news-week-1109-1115.html) [## 热门故事，11 月 9 日至 15 日:如何获得最想要的数据科学技能；从 Y=X 到建立 a…

### 另外:学习构建端到端的数据科学项目；如何获得最想要的数据科学技能；正在移动…

www.kdnuggets.com](https://www.kdnuggets.com/2020/11/top-news-week-1109-1115.html)