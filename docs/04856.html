<html>
<head>
<title>Creating custom packages for use in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建在 Unity 中使用的自定义软件包</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/creating-custom-packages-for-use-in-unity-7dfbaa49e4b4?source=collection_archive---------1-----------------------#2021-05-13">https://blog.devgenius.io/creating-custom-packages-for-use-in-unity-7dfbaa49e4b4?source=collection_archive---------1-----------------------#2021-05-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="261e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用你的代码而不扰乱你的项目</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/df74419542f79eb472172cd2920ddb9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DBazZNstjn5c7xSllDDWIg.gif"/></div></div></figure><p id="3102" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你有在你的上一个项目中创建的代码，你想在你所有的包中容易地使用吗？你是否为一个在每个项目中都使用的基本代码集的公司工作？如果以上任何一个问题的答案是肯定的，那么你可能要考虑创建你自己的软件包，可以从 Unity 的软件包管理器安装。</p><p id="f1bd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">根据<a class="ae lk" href="https://docs.unity3d.com/Manual/CustomPackages.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">统一手工创建自定义套餐</strong> </a></p><blockquote class="ll lm ln"><p id="be03" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">Unity 软件包管理器是 Unity 的官方软件包管理系统。它执行以下操作:</p><p id="6168" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">允许 Unity 快速轻松地发布新功能和更新现有功能。</p><p id="8809" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">为用户提供一个发现和共享可重用组件的平台。</p><p id="b7c9" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">促进 Unity 成为一个可扩展的开放平台。</p><p id="b694" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">您可以使用包管理器来定义项目<strong class="kq io">依赖关系</strong>，解析包依赖关系，根据需要下载和添加包，并将内容集成到您的项目中。</p><p id="ba34" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">有关什么是软件包以及 Unity 软件包管理器如何工作的一般信息，请参见<a class="ae lk" href="https://docs.unity3d.com/Manual/Packages.html" rel="noopener ugc nofollow" target="_blank">软件包</a>文档。</p><p id="a9df" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">要创建新的包:</p><p id="ccc4" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">1.使用以下方法之一为包创建一个空壳:</p><p id="9ecb" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated"><a class="ae lk" href="https://docs.unity3d.com/Manual/CustomPackages.html#EmbedMe" rel="noopener ugc nofollow" target="_blank"> *设置一个嵌入式包</a>。</p><p id="8edc" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated"><a class="ae lk" href="https://docs.unity3d.com/Manual/CustomPackages.html#LocalMe" rel="noopener ugc nofollow" target="_blank"> *设置本地包</a>。</p><p id="5b8c" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">2.实现您的工具、库以及您的包需要的任何资产。</p><p id="4bab" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">3.确保您的软件包布局遵循 Unity 软件包的<a class="ae lk" href="https://docs.unity3d.com/Manual/cus-layout.html" rel="noopener ugc nofollow" target="_blank">软件包布局惯例</a>。</p><p id="22de" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">4.将<a class="ae lk" href="https://docs.unity3d.com/Manual/cus-tests.html" rel="noopener ugc nofollow" target="_blank">测试</a>添加到您的包中。测试对于确保软件包在不同情况下按预期工作至关重要:</p><p id="bd22" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">*在<code class="fe ls lt lu lv b">Tests/Editor</code>中编写所有编辑器测试。</p><p id="3a14" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">*在<code class="fe ls lt lu lv b">Tests/Runtime</code>中编写所有的 Playmode 测试。</p><p id="54b8" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">5.重命名并更新<a class="ae lk" href="https://docs.unity3d.com/Manual/cus-asmdef.html" rel="noopener ugc nofollow" target="_blank">装配定义文件</a>。</p><p id="58e3" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">6.您可以在每次发布新版本时更新<code class="fe ls lt lu lv b">CHANGELOG.md</code>文件。每个新特性或错误修复都应该在这个文件中有一个痕迹。有关所选变更日志格式的更多细节，请参见<a class="ae lk" href="http://keepachangelog.com/en/1.0.0/" rel="noopener ugc nofollow" target="_blank">保存变更日志</a>文档。</p><p id="462a" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">对于不共享的包，这是可选的，但是对于共享的包，强烈建议这样做，以便用户知道哪个版本最适合他们的需要。</p><p id="a3ca" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">7.您可以<a class="ae lk" href="https://docs.unity3d.com/Manual/cus-legal.html" rel="noopener ugc nofollow" target="_blank">将许可证和第三方通知</a>包含在<code class="fe ls lt lu lv b">LICENSE.md</code>和<code class="fe ls lt lu lv b">THIRD PARTY NOTICES.md</code>文件中。</p><p id="d81f" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">对于不共享的包，这是可选的，但是对于共享的包，强烈建议这样做，这样你的用户就不会误用你的包或者违反任何第三方许可。</p><p id="d86b" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated">8.<a class="ae lk" href="https://docs.unity3d.com/Manual/cus-share.html" rel="noopener ugc nofollow" target="_blank">分享</a>你的套餐。</p></blockquote><h1 id="8dd9" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">为包创建一个空壳</h1><p id="ede1" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">我已经创建了 ScriptableObject 变量和自定义属性，我希望在我的所有项目中使用它们，我将按照<a class="ae lk" href="https://docs.unity3d.com/Manual/CustomPackages.html#LocalMe" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">创建一个新的本地包</strong> </a>来创建我的包。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/bc4755f7d86d73c1087abd80dd80a396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*P-84Z1mqoaK15RFggfUcEw.gif"/></div></div></figure><h1 id="8a97" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">实现您的工具、库以及您的包需要的任何资产。</h1><p id="d2cd" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated"><a class="ae lk" href="https://docs.unity3d.com/Manual/cus-layout.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">包装布局</strong> </a></p><blockquote class="ll lm ln"><p id="7987" class="ko kp lo kq b kr ks jo kt ku kv jr kw lp ky kz la lq lc ld le lr lg lh li lj ig bi translated"><code class="fe ls lt lu lv b">&lt;root&gt;<br/> ├── Editor<br/> │ └── EditorExample.cs<br/> ├── Runtime<br/> │ └── RuntimeExample.cs</code></p></blockquote><p id="7327" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我将我想要的<strong class="kq io">行为/类</strong>复制到适当的文件夹中</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/cfe02bab15f9181fba961783eee0d75b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*ZTzsEV8SiYCOdUrXIcN1Kg.gif"/></div></figure><h1 id="f5f3" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">确保您的软件包布局遵循 Unity 软件包的软件包布局惯例。</h1><p id="5ecd" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">统一有其他需要满足的要求<a class="ae lk" href="https://docs.unity3d.com/Manual/cus-layout.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">包装布局</strong> </a></p><pre class="kd ke kf kg gt mv lv mw mx aw my bi"><span id="725b" class="mz lx in lv b gy na nb l nc nd">&lt;root&gt;<br/>  ├── <a class="ae lk" href="https://docs.unity3d.com/Manual/upm-manifestPkg.html" rel="noopener ugc nofollow" target="_blank">package.json</a><br/>  ├── README.md<br/>  ├── CHANGELOG.md(Optional)<br/>  ├── LICENSE.md(Optional)<br/>  ├── THIRD PARTY NOTICES.md(Optional)<br/>  ├── Editor<br/>  │   ├── Unity.[YourPackageName].Editor.asmdef<br/>  │   └── EditorExample.cs<br/>  ├── Runtime<br/>  │   ├── Unity.[YourPackageName].asmdef<br/>  │   └── RuntimeExample.cs<br/>  ├── Tests<br/>  │   ├── Editor<br/>  │   │   ├── Unity.[YourPackageName].Editor.Tests.asmdef<br/>  │   │   └── EditorExampleTest.cs<br/>  │   └── Runtime<br/>  │        ├── Unity.[YourPackageName].Tests.asmdef<br/>  │        └── RuntimeExampleTest.cs<br/>  └── Documentation~<br/>       └── [YourPackageName].md</span></pre><p id="98c7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://docs.unity3d.com/Manual/upm-manifestPkg.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> package.json </strong> </a>要求有名称和版本。</p><p id="6e29" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">显示名称、描述和 unity 都是可选的，但是<a class="ae lk" href="https://docs.unity3d.com/Manual/upm-manifestPkg.html#mandatory" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> Unity 声明这些是必需的</strong> </a>。</p><p id="9a03" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个文件中其余的属性都是<a class="ae lk" href="https://docs.unity3d.com/Manual/upm-manifestPkg.html#optional" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">可选</strong> </a>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ne"><img src="../Images/cf85bbfdb9f0fe90d1e67fcae2733684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nu-fxtJfgRFqJbOrdJgXHQ.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated"><code class="fe ls lt lu lv b"><a class="ae lk" href="https://docs.unity3d.com/Manual/upm-manifestPkg.html" rel="noopener ugc nofollow" target="_blank"><strong class="bd ly">package.json</strong></a></code></figcaption></figure><p id="cd0e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">自述文件是典型的自述文件。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nj"><img src="../Images/0891291f495b06cd0d810cfc5cf8eeea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PijuvtiGG8vQJbCNVe3TvQ.png"/></div></div></figure><h1 id="7d32" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">重命名并更新程序集定义文件。</h1><p id="d1fa" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">脚本必须与<a class="ae lk" href="https://docs.unity3d.com/Manual/cus-asmdef.html" rel="noopener ugc nofollow" target="_blank">装配定义文件</a>相关联。</p><h2 id="2f46" class="mz lx in bd ly nk nl dn mc nm nn dp mg kx no np mi lb nq nr mk lf ns nt mm nu bi translated">运行时脚本</h2><p id="0e80" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">运行时脚本必须在<code class="fe ls lt lu lv b">Runtime/MyCompany.MyFeature.Runtime.asmdef</code>中</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/2dc0417553f041ef6caf5f68e1829884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/1*ugPB_kktRaPN5gBxkpYPAQ.gif"/></div></figure><p id="1c45" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在我需要确保我引用了 Unity Mathematics 作为汇编引用。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nw"><img src="../Images/bd2e9e2e8062f402bec2d8def3a7d4ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mI6I6S62OwsjMqJmg8CuZg.gif"/></div></div></figure><p id="cff3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果需要，您可以更改这里其他设置。</p><h2 id="5a9b" class="mz lx in bd ly nk nl dn mc nm nn dp mg kx no np mi lb nq nr mk lf ns nt mm nu bi translated">编辑器脚本</h2><p id="670a" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">编辑脚本必须在<code class="fe ls lt lu lv b">Editor/MyCompany.MyFeature.Editor.asmdef</code></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/b8cfecdc0063db557afcbc728bba4f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/1*h_6JYxDeRvwCTwmF58L-KQ.gif"/></div></figure><p id="a57a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">不要忘记添加所需的程序集定义引用</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nx"><img src="../Images/dc6941aa02a3370b1260dc8ff7d8dd87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TFjVLFppI3TAogZ669irZA.gif"/></div></div></figure><h1 id="3961" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">共享您的包。</h1><p id="532e" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated"><a class="ae lk" href="https://docs.unity3d.com/Manual/cus-share.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">分享</strong> </a>你的套餐有几种方式。取决于它如何共享，取决于您如何将它添加到您的项目中。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/8cb377751c047245c3d0262ce36236ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*tLObfS9winGMhuuu0C806g.png"/></div></figure><p id="4f21" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要将它从硬盘添加到您的项目中，请使用包管理器中的从磁盘添加包。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/50321dc9a3c153ca683a4b09217955e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sbcysWFeYr-amhyeiX6SxA.gif"/></div></div></figure><p id="c10d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果您已经使用 Git 共享了它，您可以通过从 git URL  添加它来安装它。你可以通过使用<a class="ae lk" href="https://github.com/JamesLaFritz/CoreFrameWork" rel="noopener ugc nofollow" target="_blank">https://github.com/JamesLaFritz/CoreFrameWork</a>进行测试</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/7c26309fcac4f5c185c76297c215bf0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/1*ENKyxYp5Zp7MuvotaAaymg.gif"/></div></figure></div></div>    
</body>
</html>