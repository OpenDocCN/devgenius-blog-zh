<html>
<head>
<title>My Choice of Global State management for React in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我对 2022 年 React 全球状态管理的选择</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/my-choice-of-global-state-management-for-react-in-2022-84b6f25008e9?source=collection_archive---------4-----------------------#2022-02-05">https://blog.devgenius.io/my-choice-of-global-state-management-for-react-in-2022-84b6f25008e9?source=collection_archive---------4-----------------------#2022-02-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b36509a844a64975935a922add53e5a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sAIPQqoBzCJcUZRt"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com/@petrebels?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">海燕</a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="bed1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Redux 不错，但这个更好</p><p id="b230" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Redux 作为 React 的全局状态管理经过了反复测试。它有很多特性，redux 的完整生态系统经过了微调，使开发和状态管理变得更加容易。</p><p id="af51" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我已经在 react 工作了 5 年多，在这个过程中，许多事情都发生了变化，但有一点是不变的，那就是 redux。</p><p id="c582" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是有一件事我们没有注意到，直到它变得很明显，那就是为了实现最简单的功能而要做的大量样板文件。</p><p id="64bb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一个正常的 redux 架构包括一个动作和缩减器，它修改状态作为函数式编程启发的 redux。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ky"><img src="../Images/c6f4365f00f922faf01d74202c302e2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yYkitaR24SuFNXYyTxL1xA.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">来自官方网站</figcaption></figure></div><div class="ab cl ld le hr lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ig ih ii ij ik"><h1 id="2ee7" class="lk ll in bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated"><strong class="ak"> Redux 工具包</strong></h1><p id="886a" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">Redux toolkit 是一款<strong class="kc io">电池供电的 Redux。</strong></p><p id="53a8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">官方的、固执己见的、包含电池的高效 Redux 开发工具集</p><p id="591b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">redux 工具包的好处。</p><h2 id="1881" class="mn ll in bd lm mo mp dn lq mq mr dp lu kl ms mt ly kp mu mv mc kt mw mx mg my bi translated">简单的</h2><p id="146c" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">将你的应用程序连接到 redux，创建动作，并以定制钩子的形式使用这些动作，非常简单。</p><h2 id="358d" class="mn ll in bd lm mo mp dn lq mq mr dp lu kl ms mt ly kp mu mv mc kt mw mx mg my bi translated">固执己见的</h2><p id="6139" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">它给了你一个使用 redux 的标准，因此减少了犯错的空间。</p><h2 id="ca81" class="mn ll in bd lm mo mp dn lq mq mr dp lu kl ms mt ly kp mu mv mc kt mw mx mg my bi translated">强大的</h2><p id="ebaa" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">你的动作无缝地像定制钩子一样工作，你有<strong class="kc io"> immer </strong>的能力，所以你不需要担心保持你的状态功能正常，没有隐藏的错误，因为不可变或者状态没有像预期的那样改变。根据你的用例，你有懒惰和正常的钩子，并且给你一个编写 API 的标准。</p><h2 id="9d4a" class="mn ll in bd lm mo mp dn lq mq mr dp lu kl ms mt ly kp mu mv mc kt mw mx mg my bi translated">有效的</h2><p id="3dac" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">它们的亮点都是用更少的代码做更多的工作，因为所有的东西都已经为你配置好了，而且 actions/reducer 的样板文件也减少了一半。</p><h1 id="0c39" class="lk ll in bd lm ln mz lp lq lr na lt lu lv nb lx ly lz nc mb mc md nd mf mg mh bi translated">Redux 工具包配置</h1><p id="7b0a" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">商店. js</p><pre class="kz la lb lc gt ne nf ng nh aw ni bi"><span id="bf9a" class="mn ll in nf b gy nj nk l nl nm">import { configureStore } from '<a class="ae jz" href="http://twitter.com/reduxjs/toolkit" rel="noopener ugc nofollow" target="_blank">@reduxjs/toolkit</a>'<br/>import counterReducer from '../features/counter/counterSlice'</span><span id="3177" class="mn ll in nf b gy nn nk l nl nm">export const store = configureStore({<br/>  reducer: {<br/>    counter: counterReducer,<br/>  }<br/>)</span></pre><p id="515f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">主 app.js</p><pre class="kz la lb lc gt ne nf ng nh aw ni bi"><span id="c428" class="mn ll in nf b gy nj nk l nl nm">import React from 'react'<br/>import ReactDOM from 'react-dom'<br/>import './index.css'<br/>import App from './App'<br/>import { store } from './app/store'<br/>import { Provider } from 'react-redux'</span><span id="afad" class="mn ll in nf b gy nn nk l nl nm">ReactDOM.render(<br/>  &lt;Provider store={store}&gt;<br/>    &lt;App /&gt;<br/>  &lt;/Provider&gt;,<br/>  document.getElementById('root')<br/>)</span></pre><p id="342d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">计数器切片(动作+减速器)</p><pre class="kz la lb lc gt ne nf ng nh aw ni bi"><span id="3d89" class="mn ll in nf b gy nj nk l nl nm">import { createSlice } from '<a class="ae jz" href="http://twitter.com/reduxjs/toolkit" rel="noopener ugc nofollow" target="_blank">@reduxjs/toolkit</a>'</span><span id="9fcc" class="mn ll in nf b gy nn nk l nl nm">const initialState = {<br/>  value: 0,<br/>}</span><span id="edfa" class="mn ll in nf b gy nn nk l nl nm">export const counterSlice = createSlice({<br/>  name: 'counter',<br/>  initialState,<br/>  reducers: {<br/>    increment: (state) =&gt; {<br/>      // Redux Toolkit allows us to write "mutating" logic in reducers. It<br/>      // doesn't actually mutate the state because it uses the Immer library,<br/>      // which detects changes to a "draft state" and produces a brand new<br/>      // immutable state based off those changes<br/>      state.value += 1<br/>    },<br/>    decrement: (state) =&gt; {<br/>      state.value -= 1<br/>    },<br/>    incrementByAmount: (state, action) =&gt; {<br/>      state.value += action.payload<br/>    },<br/>  },<br/>})</span><span id="decd" class="mn ll in nf b gy nn nk l nl nm">// Action creators are generated for each case reducer function<br/>export const { increment, decrement, incrementByAmount } = counterSlice.actions</span><span id="deca" class="mn ll in nf b gy nn nk l nl nm">export default counterSlice.reducer</span></pre><p id="e448" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用这些操作的组件</p><pre class="kz la lb lc gt ne nf ng nh aw ni bi"><span id="7587" class="mn ll in nf b gy nj nk l nl nm">import React from 'react'<br/>import { useSelector, useDispatch } from 'react-redux'<br/>import { decrement, increment } from './counterSlice'</span><span id="0626" class="mn ll in nf b gy nn nk l nl nm">export function Counter() {<br/>  const count = useSelector((state) =&gt; state.counter.value)<br/>  const dispatch = useDispatch()</span><span id="e6b1" class="mn ll in nf b gy nn nk l nl nm">return (<br/>    &lt;div&gt;<br/>      &lt;div&gt;<br/>        &lt;button<br/>          aria-label="Increment value"<br/>          onClick={() =&gt; dispatch(increment())}<br/>        &gt;<br/>          Increment<br/>        &lt;/button&gt;<br/>        &lt;span&gt;{count}&lt;/span&gt;<br/>        &lt;button<br/>          aria-label="Decrement value"<br/>          onClick={() =&gt; dispatch(decrement())}<br/>        &gt;<br/>          Decrement<br/>        &lt;/button&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="3f6d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就像您拥有 redux 的强大功能和轻松/优化的体验一样简单。</p><p id="2139" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">参考资料:</p><div class="no np gp gr nq nr"><a href="https://redux-toolkit.js.org/tutorials/quick-start" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">快速入门| Redux 工具包</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">欢迎来到 Redux Toolkit 快速入门教程！本教程将简要介绍你 Redux 工具包，并教…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">redux-toolkit.js.org</p></div></div><div class="oa l"><div class="ob l oc od oe oa of jt nr"/></div></div></a></div><p id="009a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2022 年，我认为 RTK 是在 React 应用中编写状态管理的方式。</p><p id="d857" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">继续努力学习。和平！！</p></div></div>    
</body>
</html>