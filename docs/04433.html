<html>
<head>
<title>Useful Linux Commands — Files and Histories</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的Linux命令—文件和历史</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/useful-linux-commands-files-and-histories-52b31a4191d1?source=collection_archive---------9-----------------------#2021-03-16">https://blog.devgenius.io/useful-linux-commands-files-and-histories-52b31a4191d1?source=collection_archive---------9-----------------------#2021-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fcb4628b78fc5952d64709a548181fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0K9k6_HDGMDY5gmK"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@foxfox?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">娜塔莉亚Y </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7fd8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Linux是许多开发人员都会使用的操作系统。</p><p id="18cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，学习一些Linux命令是个不错的主意。</p><p id="4017" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些我们应该知道的有用的Linux命令。</p><h1 id="c483" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">乌梅</h1><p id="8f72" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">uname</code>命令让我们打印当前机器和其上运行的操作系统的详细信息。</p><p id="c154" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">-m</code>开关来显示硬件名称。</p><p id="b28f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-p</code>开关打印处理器架构。</p><p id="9859" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-s</code>开关打印操作系统名称。</p><p id="af33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-r</code>打印版本，<code class="fe me mf mg mh b">-v</code>打印版本。</p><p id="15dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-n</code>打印节点网络名称。</p><p id="bd45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-a</code>打印打印一切。</p><h1 id="3107" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">男人</h1><p id="3419" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">man</code>让我们打开给定命令的帮助页面。</p><p id="b4e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们运行<code class="fe me mf mg mh b">man &lt;command&gt;</code>来获得命令帮助。</p><p id="051a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">手册页分为7个不同的组，由一个数字标识:</p><ul class=""><li id="ed7a" class="mi mj iq kf b kg kh kk kl ko mk ks ml kw mm la mn mo mp mq bi translated"><code class="fe me mf mg mh b">1</code>是用户命令</li><li id="02b4" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">2</code>是内核系统调用</li><li id="2f45" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">3</code>是C库函数</li><li id="67e4" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">4</code>是设备</li><li id="f5ba" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">5</code> is文件格式和文件系统</li><li id="e657" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">6</code>是游戏</li><li id="d5b1" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">7</code>是杂项命令、约定和概述</li><li id="3f5a" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">8</code>是超级用户和系统管理员的命令</li></ul><h1 id="671a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">可做文件内的字符串查找</h1><p id="de10" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">grep</code>命令让我们搜索带有模式/的文本</p><p id="e74c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们运行:</p><pre class="mw mx my mz gt na mh nb nc aw nd bi"><span id="166b" class="ne lc iq mh b gy nf ng l nh ni">grep -n document index.md</span></pre><p id="00d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">index.md</code>文件中搜索<code class="fe me mf mg mh b">document</code>关键字。</p><p id="6750" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-n</code>开关让我们显示结果的行号。</p><p id="2a29" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以使用<code class="fe me mf mg mh b">grep</code>来过滤另一个命令的输出。</p><p id="e486" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们运行:</p><pre class="mw mx my mz gt na mh nb nc aw nd bi"><span id="261f" class="ne lc iq mh b gy nf ng l nh ni">less index.md | grep -n document</span></pre><p id="5c56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">less</code>打开<code class="fe me mf mg mh b">index.md</code>文件，然后我们通过管道将大纲发送给<code class="fe me mf mg mh b">grep</code>命令，在<code class="fe me mf mg mh b">index.md</code>中搜索单词<code class="fe me mf mg mh b">document</code>。</p><p id="7fd7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以用<code class="fe me mf mg mh b">-v</code>选项反转结果，以排除特定的字符串。</p><h1 id="8660" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">umask</h1><p id="4b10" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">命令让我们为文件设置默认权限。</p><p id="dd64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不带参数运行<code class="fe me mf mg mh b">umask</code>将显示当前掩码。</p><p id="fddb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">掩码是代表当前权限的八进制数字。</p><p id="bb90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">umask -S</code>用人类可读的符号向我们展示了权限。</p><p id="7a19" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">返回的数字含义如下:</p><ul class=""><li id="947c" class="mi mj iq kf b kg kh kk kl ko mk ks ml kw mm la mn mo mp mq bi translated"><code class="fe me mf mg mh b">0</code> —读、写、执行</li><li id="8247" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">1</code> —读写</li><li id="6b36" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">2</code> —阅读并执行</li><li id="74de" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">3</code> —只读</li><li id="4a7e" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">4</code> —编写并执行</li><li id="7c67" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">5</code> —只写</li><li id="cefa" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">6</code> —仅执行</li><li id="eab0" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><code class="fe me mf mg mh b">7</code> —无权限</li></ul><p id="7719" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过将它作为参数传入来设置新值:</p><pre class="mw mx my mz gt na mh nb nc aw nd bi"><span id="0e73" class="ne lc iq mh b gy nf ng l nh ni">umask 002</span></pre><p id="f185" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以按角色指定权限:</p><pre class="mw mx my mz gt na mh nb nc aw nd bi"><span id="e814" class="ne lc iq mh b gy nf ng l nh ni">umask g+r</span></pre><h1 id="6d0c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">杜（姓氏）</h1><p id="7deb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以运行<code class="fe me mf mg mh b">du</code>命令来计算文件和目录的空间使用情况。</p><p id="b040" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们运行它来测试项目列表及其字节大小。</p><p id="e74e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-a</code>开关让我们打印目录中每个文件的大小。</p><p id="ec2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">sort</code>对结果进行排序:</p><pre class="mw mx my mz gt na mh nb nc aw nd bi"><span id="ba06" class="ne lc iq mh b gy nf ng l nh ni">du -h &lt;directory&gt; | sort -nr</span></pre><h1 id="8d1d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">历史</h1><p id="09b5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">history</code>命令让我们查看命令行历史。</p><p id="9980" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以使用<code class="fe me mf mg mh b">!&lt;commnand number&gt;</code>从<code class="fe me mf mg mh b">history</code>输出中用给定的数字重复命令。</p><p id="f9f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了清除命令历史，我们运行<code class="fe me mf mg mh b">history -c</code>。</p><h1 id="ad47" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7e89" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用各种Linux命令列出文件、搜索输出和命令历史。</p></div></div>    
</body>
</html>