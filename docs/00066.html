<html>
<head>
<title>How to Make a Movie Reviews Sentiment Analyzer in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Swift中制作电影评论情感分析器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-make-a-movie-reviews-sentiment-analyzer-in-swift-ab659fabaecf?source=collection_archive---------3-----------------------#2019-09-25">https://blog.devgenius.io/how-to-make-a-movie-reviews-sentiment-analyzer-in-swift-ab659fabaecf?source=collection_archive---------3-----------------------#2019-09-25</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="417e" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">用机器学习理解影评情绪！</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/577b4cd170ec66d68798859e6b2d8ea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tOhDXuh-jDSSvyrU"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">照片由<a class="ae kw" href="https://unsplash.com/@lucabravo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢卡·布拉沃</a>在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="8bee" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在这篇文章中，我们将从头开始创建一个iOS应用程序和一个机器学习模型，它能够<strong class="kz is">理解人们对一部电影的情感</strong>，仅仅通过评论文本。你认为很难吗？多亏了最新的苹果ML框架，它将只需要10分钟！</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="cba5" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">模型创建</h1><p id="50a2" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">首先，我们的app需要一个机器学习模型！您可能知道，要创建一个<strong class="kz is">好的模型，我们需要大量的数据</strong>，因此，我们将使用<a class="ae kw" href="https://www.kaggle.com/oumaimahourrane/imdb-reviews" rel="noopener ugc nofollow" target="_blank">来自<strong class="kz is"> Kaggle </strong>的这个</a>数据集。该数据集包含一组25，000条电影评论，基本上有两列:用户评论和二元(负面或正面)情感分类。然后，我们的<a class="ae kw" href="https://developer.apple.com/documentation/createml/mltextclassifier" rel="noopener ugc nofollow" target="_blank"><strong class="kz is">mltext classifier</strong></a>算法学习<strong class="kz is">将标签</strong>(在我们的情况下是负面/正面情绪)与输入文本的特征(我们将从我们的应用程序插入的新评论)相关联，输入文本可以是<strong class="kz is">句子、段落，甚至是整个文档</strong>。</p><p id="88fd" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下载该文件，并使用类似于<a class="ae kw" href="https://www.csvjson.com/csv2json" rel="noopener ugc nofollow" target="_blank">的网站将<code class="fe mx my mz na b"><em class="nb">.csv</em></code>转换成<code class="fe mx my mz na b"><em class="nb">.json</em></code>文件，我们将在下一步中需要它来<strong class="kz is">训练</strong>我们的机器学习模型！</a></p><p id="1895" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在打开Xcode Playground，选择<strong class="kz is"> macOS </strong>然后<strong class="kz is">空白项目</strong>。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nc"><img src="../Images/a2dcc39bd40a67c63e501e32b9d518c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1MIcrL69eJDpuSq3G1SycQ.png"/></div></div></figure><p id="852d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">粘贴下面的代码，我们将使用它来训练我们的模型，并将<strong class="kz is"> ##PATH## </strong>替换为您之前保存<code class="fe mx my mz na b"><em class="nb">.json</em></code>文件的路径。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="2408" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在执行<strong class="kz is">操场</strong>上的代码。如果一切按预期进行，你应该在<strong class="kz is">输出控制台</strong>上看到以下信息:</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nf"><img src="../Images/363f6fb5f22c9befe65271f79db6c727.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WEBQDo0tRxT0IrwQolOQDQ.png"/></div></div></figure><p id="ca42" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">此外，现在应该创建新的<code class="fe mx my mz na b"><strong class="kz is">SentimentClassifier.mlmodel</strong></code>。</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="f5c8" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">应用程序创建</h1><p id="6b58" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">现在在Xcode上创建一个新的单视图应用程序项目。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ng"><img src="../Images/947d6aaea6da7dd2b8cdba2b69837a38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7dwyi7wsawBTrNJgZpOdpw.png"/></div></div></figure><p id="0014" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在您的项目上导入<code class="fe mx my mz na b"><strong class="kz is">SentimentClassifier.mlmodel</strong></code> <em class="nb"> </em>。</p><p id="548f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">创建一个简单的接口，<strong class="kz is">将得到一个评论作为输入</strong>和<strong class="kz is">返回一个图像</strong>用于负/正预测。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nh"><img src="../Images/328c71c6a5db41644b29983d441158ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PdqVEpdIN_MqIN0jdCQBgg.png"/></div></div></figure><p id="611e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在将下面的代码复制到您的<code class="fe mx my mz na b"><strong class="kz is">ViewController.swift</strong></code>文件中。在详细的这段代码中，当你点击<strong class="kz is"> Validate </strong>按钮时，它调用自然语言<strong class="kz is"/><a class="ae kw" href="https://developer.apple.com/documentation/naturallanguage/nlmodel/2980910-predictedlabel" rel="noopener ugc nofollow" target="_blank"><strong class="kz is">predicted label方法</strong></a><strong class="kz is">返回正/负预测</strong>，然后我们的代码<strong class="kz is">更新图像</strong>。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="381d" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">准备好了吗</h1><p id="6a60" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">我们做到了！最后一步是<strong class="kz is">跑项目，试着写一篇综述</strong>！</p><p id="5f51" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下面你可以找到一些结果作为例子:</p><div class="kh ki kj kk gu ab cb"><figure class="ni kl nj nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/fb25c86f62995545db173cde83fc7bc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*CTYkpZKqTixiUvqeo6Q4Gw.png"/></div></figure><figure class="ni kl nj nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/b64c315e9029ba48e95828a7bada974d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*P8PYeX-mRcL17bEfT8MpyQ.png"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk no di np nq translated">第一屏为负预测，第二屏为正预测</figcaption></figure></div></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><figure class="kh ki kj kk gu kl gi gj paragraph-image"><a href="https://www.buymeacoffee.com/nicolidomenico"><div class="gi gj nr"><img src="../Images/2a5f4681ef2bdba5652dc9b023b668a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D-JJemrcn63kKj3lPBwZ5w.png"/></div></a></figure><p id="5d70" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">你可以在这里</strong>  <strong class="kz is">找到完整的代码</strong> <a class="ae kw" href="https://github.com/domeniconicoli/SentimentClassifier/tree/master" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is">。</strong></a></p><p id="28cb" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">如有任何问题或建议，请在</strong>下方留言评论！</p></div></div>    
</body>
</html>