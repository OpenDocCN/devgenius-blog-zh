<html>
<head>
<title>[Solution]Happy Number[IBM]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[解决方案]快乐数字[IBM]</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/solution-happy-number-ibm-c5c6974c1515?source=collection_archive---------12-----------------------#2022-11-24">https://blog.devgenius.io/solution-happy-number-ibm-c5c6974c1515?source=collection_archive---------12-----------------------#2022-11-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="4039" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">这个 Leetcode 问题的 Python 代码</h2></div><p id="e0c0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">以下是我对 Leetcode 问题的解决方案，快乐数字。这是从我的时事通讯《技术变得简单》中摘录的。更多信息在最后。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/2d19bcad281b2a35132d278f4a738b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/0*1YRNo-Dl1V2bu0lw.png"/></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">这个问题可以被发现为问题<strong class="bd lk"> 202。</strong> Leetcode 上的快乐数字。</figcaption></figure></div><div class="ab cl ll lm hr ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ig ih ii ij ik"><h1 id="8dfd" class="ls lt in bd lk lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">问题</h1><p id="d03b" class="pw-post-body-paragraph kc kd in ke b kf mj jo kh ki mk jr kk kl ml kn ko kp mm kr ks kt mn kv kw kx ig bi translated">写一个算法，判断一个数字<code class="fe mo mp mq mr b">n</code>是否快乐。</p><p id="c805" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一个<strong class="ke io">快乐数字</strong>是由以下过程定义的数字:</p><ul class=""><li id="b230" class="ms mt in ke b kf kg ki kj kl mu kp mv kt mw kx mx my mz na bi translated">从任意正整数开始，用数字的平方和替换数字。</li><li id="a81a" class="ms mt in ke b kf nb ki nc kl nd kp ne kt nf kx mx my mz na bi translated">重复这个过程，直到数字等于 1(它将停留在那里)，或者它<strong class="ke io">在不包括 1 的循环</strong>中无休止地循环。</li><li id="6592" class="ms mt in ke b kf nb ki nc kl nd kp ne kt nf kx mx my mz na bi translated">这个过程<strong class="ke io">以 1 </strong>结束的那些数字是快乐的。</li></ul><p id="fc56" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果 <code class="fe mo mp mq mr b">n</code> <em class="ng">是喜数则返回<code class="fe mo mp mq mr b">true</code> <em class="ng">，如果不是</em>则返回</em> <code class="fe mo mp mq mr b">false</code>。</p><p id="9404" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">例 1: </strong></p><pre class="kz la lb lc gt nh mr ni bn nj nk bi"><span id="8ccd" class="nl lt in mr b be nm nn l no np">Input: n = 19<br/>Output: true<br/>Explanation:<br/>1^2 + 9^2 = 82<br/>8^2 + 2^2 = 68<br/>6^2 + 8^2 = 100<br/>1^2 + 0^2 + 0^2 = 1</span></pre><p id="ee02" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">例二:</strong></p><pre class="kz la lb lc gt nh mr ni bn nj nk bi"><span id="9929" class="nl lt in mr b be nm nn l no np">Input: n = 2<br/>Output: false</span></pre><p id="b560" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">约束:</strong></p><ul class=""><li id="cb31" class="ms mt in ke b kf kg ki kj kl mu kp mv kt mw kx mx my mz na bi translated"><code class="fe mo mp mq mr b">1 &lt;= n &lt;= 2^(31) - 1</code></li></ul><p id="e3cf" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以在这里测试你的解决方案</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nr"><img src="../Images/b1bc83d82651663392d5fdd7a384d580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8Am9IshqKFggWmG2"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">照片由<a class="ae nq" href="https://unsplash.com/@mikitayo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mikita Yo </a>在<a class="ae nq" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="f747" class="ls lt in bd lk lu nw lw lx ly nx ma mb jt ny ju md jw nz jx mf jz oa ka mh mi bi translated">步骤 1:分析定义</h1><p id="e177" class="pw-post-body-paragraph kc kd in ke b kf mj jo kh ki mk jr kk kl ml kn ko kp mm kr ks kt mn kv kw kx ig bi translated">在这种情况下，我认为最好是通过尝试分解问题中给出的定义来进行攻击。通过清楚地定义问题和所有的定义，我们可以获得许多对问题的洞察力。在许多情况下，它可以帮助你想出数学规则和公式，让你比一般人更快地解决问题。这可能只是我的数学学位，并在人工智能领域工作，但这种方法绝对是一种竞争优势。没有多少软件人员积极尝试寻找模式或数学/算法语句。即使你不能想出完整的函数来生成输出，你也会对如何解决/优化这个问题有所了解。</p><p id="e8c8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当攻击定义时，我喜欢自下而上，从最简单的开始。经常阅读的人都知道低挂水果有多强大，尤其是在像面试这样的场合，你需要以连贯的方式交流你的想法。所以我们来攻击一下我们能看到的最小定义——<em class="ng">一个数无休止的循环是什么意思？</em></p><p id="1cf4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这对你们来说似乎是显而易见的，但是请后退一步。你如何定义一个无限循环？有些数字可能需要很长很长的时间才能收敛到快乐，但他们并不快乐。称他们不开心是错误的，可能会伤害他们的感情。</p><p id="d6fa" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以，让我们绞尽脑汁，看看是否能想出点什么来。回想一下你如何判断我们是否陷入了一个循环。常用的定义有哪些？</p><h1 id="7853" class="ls lt in bd lk lu nw lw lx ly nx ma mb jt ny ju md jw nz jx mf jz oa ka mh mi bi translated">骑自行车</h1><p id="b24e" class="pw-post-body-paragraph kc kd in ke b kf mj jo kh ki mk jr kk kl ml kn ko kp mm kr ks kt mn kv kw kx ig bi translated">请注意这个问题。给定一个数 x，只能去另外一个 y，比如给定 2，只能生成 4。由于给定的规则，我们不能在给定一个输入的情况下找到不同的数字。<strong class="ke io">我们的解决方案是确定性的</strong>(这只是一个花哨的数学术语，适用于那些真正想在面试官面前展现自己优势的人)。</p><p id="52a3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这意味着，如果我们在一次运行中已经看到一个数字，我们就陷入了一个循环。我们已经知道我们将何去何从，我们最终会回到这一点。我们会在原地打转。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/94996eef9943214467ed77f28b3bd11c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*xtZKWw0fMD-9IWdA.gif"/></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">顺便说一下，注意这是一个非常简单的图循环检测问题。很漂亮吧？<a class="ae nq" href="https://inginious.org/course/competitive-programming/graphs-dfs?lang=fr" rel="noopener ugc nofollow" target="_blank">图片来源</a></figcaption></figure><p id="2a5f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你在这之前发现了这一点，给自己一个鼓励。很有洞察力。如果你做不到，不要太自责。做好这一点需要时间和努力。既然你来了，就去工作吧。你的结果是有保证的。现在让我们回到问题上来。</p><p id="74bc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，我们可以应用标准的循环检测算法来快速完成任务。最好的方法是保存一个集合来跟踪被访问的节点。虽然使用弗洛伊德的算法可以做到这一点，但这种方法在实践中似乎表现不太好。这是因为，对于大周期，收敛相对较慢。我们的解决方案使用了更多一点的内存，但是将总是在第一个公共节点处停止。弗洛伊德的循环检测不会这样做(但需要更少的内存)。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/1e4330fc838e4f5af3a5fdec073e7917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/0*Uy60W4FOmR8WQugB.gif"/></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">使用快速指针和慢速指针是一项非常方便的技能。走过这段路没什么不好。<a class="ae nq" href="https://www.codesdope.com/blog/article/detect-a-loop-in-linked-list-using-floyds-cycle/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="f0f9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">确保你在面试中探索这种权衡。两种解决方案都有相同的时间复杂度，但是使用集合通常会更快。问你的面试官他们更喜欢哪一个(这真的显示了你的知识和考虑选择的能力)。我将使用一套来分享解决方案，但请确保您两者都练习了。如果你们中的任何人想要其他的解决方案，只要回复这封邮件(或者使用下面的链接)让我知道。然而，首先我建议你自己建立一个替代方案来获得最大的收益。</p><h1 id="9c01" class="ls lt in bd lk lu nw lw lx ly nx ma mb jt ny ju md jw nz jx mf jz oa ka mh mi bi translated">密码</h1><p id="d926" class="pw-post-body-paragraph kc kd in ke b kf mj jo kh ki mk jr kk kl ml kn ko kp mm kr ks kt mn kv kw kx ig bi translated">一旦我们知道检测周期，代码就相对简单了。看看下面。</p><pre class="kz la lb lc gt nh mr ni bn nj nk bi"><span id="99fb" class="nl lt in mr b be nm nn l no np">class Solution:<br/>    def isHappy(self, n: int) -&gt; bool:<br/>        <br/>        def squareDigits(old_n):<br/>            new_n = 0<br/>            while old_n &gt; 0:<br/>                digit = old_n % 10<br/>                new_n += pow(digit, 2)<br/>                old_n //= 10<br/>            return new_n<br/>            <br/>        seen = set()<br/>        while n!=1 and n not in seen:<br/>            seen.add(n)<br/>            n = squareDigits(n)<br/>            <br/>        return n==1</span></pre><h2 id="9fdd" class="od lt in bd lk oe of dn lx og oh dp mb kl oi oj md kp ok ol mf kt om on mh oo bi translated">时间复杂度- O(n)。</h2><h2 id="d0ab" class="od lt in bd lk oe of dn lx og oh dp mb kl oi oj md kp ok ol mf kt om on mh oo bi translated">空间复杂度- O(n)</h2><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi op"><img src="../Images/90b96e67e59f7c9502f4088d37f790f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*S5toV4h3a7MEDWDGYn-iYw.png"/></div></figure><p id="637f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你喜欢这篇文章，你会喜欢我的每日电子邮件简讯<a class="ae nq" href="https://codinginterviewsmadesimple.substack.com/" rel="noopener ugc nofollow" target="_blank">技术使之变得简单</a>。它涵盖了算法设计、数学、人工智能、数据科学、最近的技术事件、软件工程等主题，让你成为更好的开发人员。<a class="ae nq" href="https://codinginterviewsmadesimple.substack.com/subscribe?coupon=1e0532f2" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io">我目前正在进行全年八折优惠，所以一定要去看看。</strong> </a> <strong class="ke io"> </strong>使用此折扣会降低价格-</p><p id="58a6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ng">每月 800 印度卢比(10 美元)→ 533 印度卢比(8 美元)</em> </strong></p><p id="ee2f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ng">每年 8000 印度卢比(100 美元)→6400 印度卢比(80 美元)</em> </strong></p><p id="fde2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae nq" href="https://codinginterviewsmadesimple.substack.com/about" rel="noopener ugc nofollow" target="_blank">你可以在这里了解更多关于时事通讯的信息</a></p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/6ff3a2e5a11613bbb2ee4b1cb22fb543.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*2V-XhZqFBvJoJ_Mg53jodQ.png"/></div></figure><h1 id="1378" class="ls lt in bd lk lu nw lw lx ly nx ma mb jt ny ju md jw nz jx mf jz oa ka mh mi bi translated">向我伸出手</h1><p id="b90e" class="pw-post-body-paragraph kc kd in ke b kf mj jo kh ki mk jr kk kl ml kn ko kp mm kr ks kt mn kv kw kx ig bi translated">使用下面的链接查看我的其他内容，了解更多关于辅导的信息，或者只是打个招呼。另外，查看免费的罗宾汉推荐链接。我们都得到一个免费的股票(你不用放任何钱)，对你没有任何风险。<strong class="ke io">所以不使用它只是失去免费的钱。</strong></p><p id="2a82" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了帮助我了解你<a class="ae nq" href="https://forms.gle/7MfQmKhEhyBTMDUD7" rel="noopener ugc nofollow" target="_blank">填写这份调查(匿名)</a></p><p id="506e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">查看我在 Medium 上的其他文章。https://rb.gy/zn1aiu</p><p id="8eae" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我的 YouTube:<a class="ae nq" href="https://rb.gy/88iwdd" rel="noopener ugc nofollow" target="_blank">https://rb.gy/88iwdd</a></p><p id="7444" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在 LinkedIn 上联系我。我们来连线:<a class="ae nq" href="https://rb.gy/f7ltuj" rel="noopener ugc nofollow" target="_blank">https://rb.gy/m5ok2y</a></p><p id="1bf1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我的 insta gram:<a class="ae nq" href="https://rb.gy/gmvuy9" rel="noopener ugc nofollow" target="_blank">https://rb.gy/gmvuy9</a></p><p id="3510" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我的推特:<a class="ae nq" href="https://twitter.com/Machine01776819" rel="noopener ugc nofollow" target="_blank">https://twitter.com/Machine01776819</a></p><p id="e09e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你想在科技领域发展事业:<a class="ae nq" href="https://codinginterviewsmadesimple.substack.com/" rel="noopener ugc nofollow" target="_blank">https://codinginterviewsmadesimple.substack.com/</a></p><p id="2f73" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">获得罗宾汉的免费股票:<a class="ae nq" href="https://join.robinhood.com/fnud75/" rel="noopener ugc nofollow" target="_blank">https://join.robinhood.com/fnud75</a></p></div></div>    
</body>
</html>