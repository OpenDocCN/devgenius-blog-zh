<html>
<head>
<title>Reduce Intel Laptop CPU Temperature Overheating In Linux — ansible module package and Thermald</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">降低 Linux 中英特尔笔记本电脑 CPU 温度过热— ansible 模块封装和 Thermald</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/reduce-intel-laptop-cpu-temperature-overheating-in-linux-ansible-module-package-and-thermald-382e89007679?source=collection_archive---------11-----------------------#2022-07-19">https://blog.devgenius.io/reduce-intel-laptop-cpu-temperature-overheating-in-linux-ansible-module-package-and-thermald-382e89007679?source=collection_archive---------11-----------------------#2022-07-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7324" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用带封装模块的 Ansible Playbook 和零配置 Linux 热守护程序(thermald)来降低英特尔笔记本电脑 CPU 温度过热。</h2></div><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="kk kl l"/></div></figure><h1 id="de43" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">Linux 下如何降低笔记本电脑 CPU 温度过热？</h1><p id="a733" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我将向您展示一个现场演示和一些简单的 Ansible 代码。</p><p id="df4b" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">我是卢卡·伯尔顿，欢迎来到今天的《神秘飞行员》节目。</p><h1 id="935d" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">降低 Linux 中英特尔笔记本电脑 CPU 的过热温度</h1><p id="c1f9" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">今天我们讨论的是开源项目“Linux thermal daemon”(<code class="fe mf mg mh mi b">thermald</code>)，该项目使用最新的英特尔 sandy bridge 和最新的英特尔 CPU 版本来监控笔记本电脑和平板电脑的温度。</p><p id="6d6a" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated"><code class="fe mf mg mh mi b">thermald</code>工具以两种模式运行:</p><ul class=""><li id="5b95" class="mj mk iq lg b lh ma lk mb ln ml lr mm lv mn lz mo mp mq mr bi translated">零配置模式</li></ul><p id="aecc" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">对于大多数用户来说，这应该足以控制系统的 CPU 温度。它使用 DTS 温度传感器，并使用英特尔 P 状态驱动程序、电源箝位驱动程序、运行平均功率限制控制和<code class="fe mf mg mh mi b">cpufreq</code>作为冷却方法。</p><ul class=""><li id="11a9" class="mj mk iq lg b lh ma lk mb ln ml lr mm lv mn lz mo mp mq mr bi translated">用户定义的配置模式</li></ul><p id="811f" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">这允许在热 XML 配置文件中进行 ACPI 风格的配置。这可以用来修复漏洞百出的 ACPI 配置，或者通过添加更多的传感器和冷却设备对其进行微调。这是在用户模式下实现闭环热控制的第一步，可以根据社区反馈和建议进行改进。</p><p id="6fba" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">它作为一个包“<code class="fe mf mg mh mi b">thermald</code>”提供给今天最常用的发行版。</p><p id="0732" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">请注意，此服务可能会降低笔记本电脑的性能。</p><h1 id="86f2" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">Ansible 在 Linux 中安装一个包</h1><ul class=""><li id="1f15" class="mj mk iq lg b lh li lk ll ln ms lr mt lv mu lz mo mp mq mr bi translated"><code class="fe mf mg mh mi b">ansible.builtin.package</code></li><li id="08a1" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated">通用操作系统软件包管理器</li></ul><p id="a004" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">今天我们讨论的是 Ansible 模块包。</p><p id="024e" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">全名是 ansible.builtin.package，这意味着它是 ansible“内置”并附带的模块集合的一部分。</p><p id="9a9a" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">这些模块相当稳定，已经发布多年了。</p><p id="31cc" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">它的目的是作为一个通用的操作系统包管理器。</p><h1 id="8753" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">因素</h1><ul class=""><li id="42df" class="mj mk iq lg b lh li lk ll ln ms lr mt lv mu lz mo mp mq mr bi translated">name <em class="na"> string — n </em>名称或特定于包的名称</li><li id="c558" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated">状态<em class="na">字符串— </em>存在/安装/不存在/移除/最新</li></ul><p id="8ce3" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">最重要的参数是“名称”和“状态”。</p><p id="f293" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">在“<code class="fe mf mg mh mi b">name</code>”参数中，您将指定软件包的名称或您想要安装的特定版本。</p><p id="501b" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">`<code class="fe mf mg mh mi b">state</code>'指定了我们想要执行的操作。在我们的例子中，install 是“存在或已安装”。</p><h1 id="afe6" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">链接</h1><ul class=""><li id="fcd2" class="mj mk iq lg b lh li lk ll ln ms lr mt lv mu lz mo mp mq mr bi translated"><a class="ae nb" href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/package_module.html" rel="noopener ugc nofollow" target="_blank">https://docs . ansi ble . com/ansi ble/latest/collections/ansi ble/builtin/package _ module . html</a></li><li id="28b7" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.phoronix.com/scan.php?page=article&amp;item=intel-thermald-tgl&amp;num=1" rel="noopener ugc nofollow" target="_blank">https://www.phoronix.com/scan.php?page=article&amp;item =英特尔-thermald-tgl &amp; num=1 </a></li><li id="a520" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://wiki.debian.org/thermald" rel="noopener ugc nofollow" target="_blank">https://wiki.debian.org/thermald</a></li></ul><h1 id="51ac" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">演示</h1><p id="1284" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">让我们跳到现实生活的剧本中，安装<code class="fe mf mg mh mi b">thermald</code>包，并使用 Ansible 剧本在 Linux 中启动零配置服务。</p><h2 id="2e2d" class="nc kn iq bd ko nd ne dn ks nf ng dp kw ln nh ni ky lr nj nk la lv nl nm lc nn bi translated">密码</h2><pre class="kf kg kh ki gt no mi np nq aw nr bi"><span id="49b4" class="nc kn iq mi b gy ns nt l nu nv">---<br/>- name: thermald demo<br/>  hosts: all<br/>  become: true<br/>  tasks:<br/>    - name: thermald installed<br/>      ansible.builtin.package:<br/>        name: thermald<br/>        state: present</span><span id="8af7" class="nc kn iq mi b gy nw nt l nu nv">    - name: thermald running<br/>      ansible.builtin.service:<br/>        name: thermald<br/>        state: started<br/>        enabled: true</span></pre><h2 id="e008" class="nc kn iq bd ko nd ne dn ks nf ng dp kw ln nh ni ky lr nj nk la lv nl nm lc nn bi translated">执行</h2><pre class="kf kg kh ki gt no mi np nq aw nr bi"><span id="1438" class="nc kn iq mi b gy ns nt l nu nv">ansible-pilot $ ansible-playbook -i virtualmachines/demo/inventory thermald.yml</span><span id="d9c1" class="nc kn iq mi b gy nw nt l nu nv">PLAY [thermald demo] **************************************************************************************</span><span id="8337" class="nc kn iq mi b gy nw nt l nu nv">TASK [Gathering Facts] ************************************************************************************<br/>ok: [demo.example.com]</span><span id="2726" class="nc kn iq mi b gy nw nt l nu nv">TASK [thermald installed] *********************************************************************************<br/>changed: [demo.example.com]</span><span id="0ebd" class="nc kn iq mi b gy nw nt l nu nv">TASK [thermald running] ***********************************************************************************<br/>changed: [demo.example.com]</span><span id="73ae" class="nc kn iq mi b gy nw nt l nu nv">PLAY RECAP ************************************************************************************************<br/>demo.example.com           : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0</span></pre><h2 id="85c4" class="nc kn iq bd ko nd ne dn ks nf ng dp kw ln nh ni ky lr nj nk la lv nl nm lc nn bi translated">幂等性</h2><pre class="kf kg kh ki gt no mi np nq aw nr bi"><span id="cb69" class="nc kn iq mi b gy ns nt l nu nv">ansible-pilot $ ansible-playbook -i virtualmachines/demo/inventory thermald.yml</span><span id="8123" class="nc kn iq mi b gy nw nt l nu nv">PLAY [thermald demo] **************************************************************************************</span><span id="80b0" class="nc kn iq mi b gy nw nt l nu nv">TASK [Gathering Facts] ************************************************************************************<br/>ok: [demo.example.com]</span><span id="3896" class="nc kn iq mi b gy nw nt l nu nv">TASK [thermald installed] *********************************************************************************<br/>ok: [demo.example.com]</span><span id="6ce6" class="nc kn iq mi b gy nw nt l nu nv">TASK [thermald running] ***********************************************************************************<br/>ok: [demo.example.com]</span><span id="4c92" class="nc kn iq mi b gy nw nt l nu nv">PLAY RECAP ************************************************************************************************<br/>demo.example.com           : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0</span></pre><h2 id="3959" class="nc kn iq bd ko nd ne dn ks nf ng dp kw ln nh ni ky lr nj nk la lv nl nm lc nn bi translated">执行前</h2><pre class="kf kg kh ki gt no mi np nq aw nr bi"><span id="7981" class="nc kn iq mi b gy ns nt l nu nv">[root@demo devops]# dnf list thermald<br/>Updating Subscription Management repositories.<br/>Available Packages<br/>thermald.x86_64                    2.4.6-1.el8                     rhel-8-for-x86_64-appstream-rpms<br/>[root@demo devops]#</span></pre><h2 id="acbf" class="nc kn iq bd ko nd ne dn ks nf ng dp kw ln nh ni ky lr nj nk la lv nl nm lc nn bi translated">执行后</h2><pre class="kf kg kh ki gt no mi np nq aw nr bi"><span id="f6fa" class="nc kn iq mi b gy ns nt l nu nv">[root@demo devops]# dnf list thermald<br/>Updating Subscription Management repositories.<br/>Installed Packages<br/>thermald.x86_64                        2.4.6-1.el8                        <a class="ae nb" href="http://twitter.com/rhel" rel="noopener ugc nofollow" target="_blank">@rhel</a>-8-for-x86_64-appstream-rpms</span></pre><div class="nx ny gp gr nz oa"><a href="https://github.com/lucab85/ansible-pilot" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">GitHub-lucab 85/ansi ble-Pilot:ansi ble Pilot YouTube 频道代码库</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">github.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo op oa"/></div></div></a></div><h1 id="3895" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">概述</h1><p id="602a" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在，您已经知道如何使用 ansible 模块包和 Thermald 在 Linux 中降低英特尔笔记本电脑 CPU 温度过热。</p><p id="1846" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">我希望你喜欢读这篇文章。如果你愿意支持我成为一名作家，可以考虑注册<a class="ae nb" href="https://ansiblepilot.medium.com/membership" rel="noopener">成为一名媒体成员</a>。每月只需 5 美元，你就可以无限制地使用 Medium。</p><p id="0240" class="pw-post-body-paragraph le lf iq lg b lh ma jr lj lk mb ju lm ln mc lp lq lr md lt lu lv me lx ly lz ij bi translated">订阅<a class="ae nb" href="https://www.youtube.com/channel/UC5MNbTYRHSCu9vAki3z9SmA" rel="noopener ugc nofollow" target="_blank"> YouTube 频道</a>、<a class="ae nb" href="https://ansiblepilot.medium.com/" rel="noopener"> Medium </a>和<a class="ae nb" href="https://www.ansiblepilot.com/" rel="noopener ugc nofollow" target="_blank">网站</a>，不要错过 Ansible 试播的下一集。</p><h1 id="82c5" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">Ansible 的最佳资源</h1><h1 id="b6f1" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">视频课程</h1><ul class=""><li id="5e73" class="mj mk iq lg b lh li lk ll ln ms lr mt lv mu lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.udemy.com/course/ansible-by-examples-devops/?referralCode=8E065F6D6F8622A3DEC8" rel="noopener ugc nofollow" target="_blank">在 200 多个示例中学习 Ansible Automation&amp;实践课程:通过一些关于如何使用最常见模块的真实示例和 ansi ble 行动手册来学习 ansi ble</a></li></ul><h1 id="1d2e" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">书</h1><ul class=""><li id="98be" class="mj mk iq lg b lh li lk ll ln ms lr mt lv mu lz mo mp mq mr bi translated"><a class="ae nb" href="https://leanpub.com/ansiblebyexamples" rel="noopener ugc nofollow" target="_blank">可通过示例回答:针对 Linux 和 Windows 系统管理员和开发人员的 200 多个自动化示例</a></li><li id="cb07" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B09VCTP1L4" rel="noopener ugc nofollow" target="_blank">适用于 Windows 的示例:针对 Windows 系统管理员和开发人员的 30 多个自动化示例</a></li><li id="87f8" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B09VCX4CVD" rel="noopener ugc nofollow" target="_blank"> Ansible For Linux by Examples:针对 Linux 系统管理员和开发人员的 100 多个自动化示例</a></li><li id="9925" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B09X4TF8P8" rel="noopener ugc nofollow" target="_blank"> Ansible Linux 文件系统示例:30 多个针对现代 IT 基础设施的 Linux 文件和目录操作自动化示例</a></li><li id="1228" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B09XVDWD4W" rel="noopener ugc nofollow" target="_blank">通过示例负责容器和 Kubernetes:10 多个自动化示例来自动化容器、Kubernetes 和 OpenShift </a></li><li id="2013" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B09VHFLSPP" rel="noopener ugc nofollow" target="_blank">负责安全示例:100 多个自动化示例，用于自动化安全和验证 IT 现代化基础设施的合规性</a></li><li id="fc44" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B09ZJ4GYM2" rel="noopener ugc nofollow" target="_blank">可行的技巧和诀窍:10 多个可行的例子来节省时间和自动化更多的任务</a></li><li id="560f" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B09X6BYY8W" rel="noopener ugc nofollow" target="_blank"> Ansible Linux 用户&amp;按示例分组:20 多个关于现代 IT 基础设施的 Linux 用户和分组操作的自动化示例</a></li><li id="356a" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B0B18QG44S" rel="noopener ugc nofollow" target="_blank">ansi ble For VMware by Examples:10 多个自动化您的 VMware 基础架构的示例(Ansible by Examples) </a></li><li id="4acc" class="mj mk iq lg b lh mv lk mw ln mx lr my lv mz lz mo mp mq mr bi translated"><a class="ae nb" href="https://www.amazon.com/dp/B0B3RZZQVG" rel="noopener ugc nofollow" target="_blank">Ansible For PostgreSQL by Examples:10 多个自动化 PostgreSQL 数据库的示例</a></li></ul><h1 id="3ca7" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">捐赠</h1><div class="nx ny gp gr nz oa"><a href="https://patreon.com/lucaberton" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">卢卡·伯尔顿正在为 Ansible | Patreon 创建软件开源</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">今天就成为卢卡·伯尔顿的赞助人:获得世界上最大会员的独家内容和体验…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">patreon.com</p></div></div><div class="oj l"><div class="oq l ol om on oj oo op oa"/></div></div></a></div><div class="nx ny gp gr nz oa"><a href="https://github.com/sponsors/lucab85" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">GitHub 赞助商上的赞助商@lucab85</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">我是一个活跃的开源贡献者，参与到了 Ansible 社区中，尽管我到处都是。@lucab85 的…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">github.com</p></div></div><div class="oj l"><div class="or l ol om on oj oo op oa"/></div></div></a></div><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="ot ou di ov bf ow"><div class="gh gi os"><img src="../Images/7a9d66d627c190052e122bb050c6bf07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iTuq2FujfUZxwcBJP6YP_g.png"/></div></div></figure></div></div>    
</body>
</html>