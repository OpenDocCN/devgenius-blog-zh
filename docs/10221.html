<html>
<head>
<title>PHP — P75: GET and POST Request Methods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P75: GET 和 POST 请求方法</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-p75-get-and-post-request-methods-dafdb0a86562?source=collection_archive---------8-----------------------#2022-10-16">https://blog.devgenius.io/php-p75-get-and-post-request-methods-dafdb0a86562?source=collection_archive---------8-----------------------#2022-10-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bb6a1ab649e47bf2f8429dff870b8d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ujIx8oQ_ZBhuaDYvvA42Q.jpeg"/></div></div></figure><p id="b2e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">GET 和 POST 请求并不是 PHP 独有的，但它仍然是您需要理解的东西。HTTP 请求允许客户端和服务器之间的通信。在前一篇文章中，我们在提交表单时看到了这种交流。表单数据在客户端(用户的计算机)输入，当按下提交按钮时，数据被发送到服务器。</p><p id="58af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于我们的服务器运行在我们的计算机上，这可能还不完全清楚，但是想象一下，您将代码部署到 AWS EC2 实例。那个服务器已经不在我们的机器上了，所以这个过程更加清晰。我们将很快浏览一个例子，但让我们看看各种通信方法。</p><div class="kw kx gp gr ky kz"><a rel="noopener  ugc nofollow" target="_blank" href="/php-p74-forms-introduction-6f8838e0d16"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">PHP — P74:表单简介</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">我们成功了。我们已经学习了足够多的语法，可以开始看一些实际的例子了，比如…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">blog.devgenius.io</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><h1 id="edc7" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">常见请求方法</h1><p id="6290" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">有几个请求方法，但是我想介绍几个可以作为开发人员应用到您日常生活中的方法:</p><p id="468f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mr ms mt mu b">GET</code>:用于向服务器请求数据。数据可以通过地址栏作为键/值对发送到服务器。你可能见过这样一个地址:<a class="ae mv" href="https://www.dinocajic.com/?p=123" rel="noopener ugc nofollow" target="_blank">https://www.dinocajic.com/?p=123</a>。在这种情况下，<code class="fe mr ms mt mu b">p</code>是键，<code class="fe mr ms mt mu b">123</code>是值。它只是返回一个图像。</p><p id="f7df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mr ms mt mu b">POST</code>:用于向服务器发送数据。无需过多讨论细节，数据将被发送到服务器，并通过<code class="fe mr ms mt mu b">$_POST</code>数组提供给服务器。大多数时候，通过<code class="fe mr ms mt mu b">post</code>发送到服务器的数据是通过一个表单完成的。表单字段将有一个<code class="fe mr ms mt mu b">name</code>属性，它将是键，用户输入的数据将是值。例如，<code class="fe mr ms mt mu b">&lt;input type="text" name="full_name"&gt;</code>将有一个键<code class="fe mr ms mt mu b">full_name</code>，用户输入的数据，即<code class="fe mr ms mt mu b">Dino Cajic</code>，将是值。如果你在服务器端<code class="fe mr ms mt mu b">echo $_POST['full_name']</code>，你会收到<code class="fe mr ms mt mu b">Dino Cajic</code>。与<code class="fe mr ms mt mu b">get</code>方法不同，通过<code class="fe mr ms mt mu b">post</code>请求提交的数据在 URL 中对用户是不可见的。</p><p id="e4fa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mr ms mt mu b">PUT/PATCH</code>:向服务器发送数据，通知它资源将被更新。在什么时候使用一个而不是另一个方面有一些不同，但是它们都更新资源。大多数时候，使用哪一个只是基于开发人员的偏好。像 Laravel 这样的框架允许通过简单地传递这样的请求来进行资源管理。可以使用<code class="fe mr ms mt mu b">post</code>请求来更新数据库中的内容吗？当然了。你还在向服务器发送数据。这只是更加明确。</p><p id="f6dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mr ms mt mu b">DELETE</code>:类似于<code class="fe mr ms mt mu b">put/patch</code>请求，这是另一个显式请求，允许将数据发送到服务器。在本例中，我们指定要删除一个资源。</p><h1 id="fff5" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">浏览表单示例</h1><p id="23dd" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">在前一篇文章中，我们创建了一个允许用户提交全名的表单。</p><figure class="mw mx my mz gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><figure class="mw mx my mz gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="4e3e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看数据是如何移动的。</p><ul class=""><li id="516c" class="nc nd iq ka b kb kc kf kg kj ne kn nf kr ng kv nh ni nj nk bi translated">用户在浏览器中输入一个 url。因为我们在自己的机器上托管服务器，所以 url 是<code class="fe mr ms mt mu b">https://0.0.0.0/form_example.php</code>或<code class="fe mr ms mt mu b">https://127.0.0.1/form_example.php</code>。</li><li id="0e9a" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">当用户按 Enter 键时，一个<code class="fe mr ms mt mu b">get</code>请求被发送到服务器以返回<code class="fe mr ms mt mu b">form_example.php</code>的内容。服务器可以访问<code class="fe mr ms mt mu b">$_GET</code>变量，但是没有数据通过 url 字符串传递。我们也没有对来自<code class="fe mr ms mt mu b">$_GET</code>变量的内容做任何事情。</li><li id="4d1c" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">服务器收到请求，进入<code class="fe mr ms mt mu b">form_example.php</code>，看到要返回 html 数据，然后返回 html 数据。</li><li id="e39a" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">浏览器接收 html 数据，并将其转换为用户可以看到的内容。在这种情况下，用户会看到一个表单，允许他们输入全名并按 Submit 按钮。</li><li id="2769" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">用户输入他们的全名，然后点击提交按钮。</li><li id="2a67" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">表单<code class="fe mr ms mt mu b">action</code>指定数据应该发送到<code class="fe mr ms mt mu b">https://127.0.0.1/form_processor.php</code>并且应该发送到服务器的方式是用等于<code class="fe mr ms mt mu b">post</code>的表单方法定义的。</li><li id="f27c" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">一个<code class="fe mr ms mt mu b">post</code>请求被发送到服务器。服务器可以访问<code class="fe mr ms mt mu b">$_POST</code>变量。我们知道<code class="fe mr ms mt mu b">$_POST</code>变量将有一个<code class="fe mr ms mt mu b">full_name</code>键。</li><li id="588a" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">服务器处理我们的代码，也就是到<code class="fe mr ms mt mu b">echo $_POST['full_name']</code>。数据一旦生成，就会被发送回客户端。</li><li id="6dce" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">用户会看到他们刚刚输入的内容。</li></ul><h1 id="f2ad" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">将表单的方法从 POST 更改为 GET</h1><p id="dcec" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">如果我们把表单方法从<code class="fe mr ms mt mu b">post</code>改成<code class="fe mr ms mt mu b">get</code>会怎么样。表单数据可以发送到服务器吗？让我们看看。</p><figure class="mw mx my mz gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="051b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为数据是通过<code class="fe mr ms mt mu b">get</code>请求发送的，所以我们的<code class="fe mr ms mt mu b">$_POST</code>数组中不会有任何数据。它应该在我们的<code class="fe mr ms mt mu b">$_GET</code>阵中。在<code class="fe mr ms mt mu b">form_processor.php</code>文件中，让我们<code class="fe mr ms mt mu b">var_dump</code>我们的<code class="fe mr ms mt mu b">$_GET</code>变量。</p><figure class="mw mx my mz gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ed13" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们提交表单，我们会看到它是有效的。我们得到以下数据。</p><pre class="mw mx my mz gt nq mu nr ns aw nt bi"><span id="3a1b" class="nu lp iq mu b gy nv nw l nx ny">/app/74 Form Requests/form_processor.php:3:<br/><strong class="mu ir">array</strong> <em class="nz">(size=1)</em><br/>  'full_name' =&gt; string 'Dino Cajic' <em class="nz">(length=10)</em></span></pre><p id="6096" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有趣的是，当我们点击提交时，数据被转移到了 URL。看看你的网址。您应该会看到类似这样的内容:</p><pre class="mw mx my mz gt nq mu nr ns aw nt bi"><span id="da0b" class="nu lp iq mu b gy nv nw l nx ny">https://0.0.0.0/form_processor.php?full_name=Dino+Cajic</span></pre><p id="f9b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">变量被附加到 url 字符串中。这有时是需要的，例如当您希望能够为表单结果添加书签时，但也可能是不需要的，例如当您提交用户名和密码时。</p><p id="45c7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">需要注意的一点是，当您提交带有<code class="fe mr ms mt mu b">post</code>请求的表单时，浏览器中的后退按钮会询问您是否要重新提交表单。使用<code class="fe mr ms mt mu b">get</code>请求，您只需获得正常的后退按钮功能。</p><h1 id="4cc4" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">传递没有表单的数据</h1><p id="366f" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我相信你已经把这些线索联系起来了。你需要表格吗？你能不能不通过 URL 字符串发送变量？是的，你可以！让我们创建一个新文件。我们将声明我们接受 URL 字符串中存在的<code class="fe mr ms mt mu b">first_name</code>和<code class="fe mr ms mt mu b">last_name</code>键。</p><figure class="mw mx my mz gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="5416" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，键入带有这些键的 URL，并传递一个您想要的值。</p><pre class="mw mx my mz gt nq mu nr ns aw nt bi"><span id="5b3a" class="nu lp iq mu b gy nv nw l nx ny">https://0.0.0.0/get_request_example.php?first_name=Dino&amp;last_name=Cajic</span></pre><p id="776f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe mr ms mt mu b">?</code>符号后开始第一个变量。<code class="fe mr ms mt mu b">?first_name=Dino</code>。您的第二个变量及以后的变量将附加在<code class="fe mr ms mt mu b">&amp;</code>符号之后:<code class="fe mr ms mt mu b">&amp;last_name=Cajic</code>。</p><p id="b2c8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦我们点击了 Enter，get 请求就和我们刚刚在 url 字符串中输入的数据一起被发送，服务器通过回显<code class="fe mr ms mt mu b">first_name</code>和<code class="fe mr ms mt mu b">last_name</code>中的数据来处理它。</p><p id="1260" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们没有传递这些值，您会得到警告消息:</p><pre class="mw mx my mz gt nq mu nr ns aw nt bi"><span id="ec0f" class="nu lp iq mu b gy nv nw l nx ny">Warning: Undefined array key "first_name" in /home/user/scripts/code.php on line 2</span><span id="6b9d" class="nu lp iq mu b gy oa nw l nx ny">Warning: Undefined array key "last_name" in /home/user/scripts/code.php on line 2</span></pre><p id="5eb2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在回显数据之前，您总是可以检查数据是否存在。您将使用<code class="fe mr ms mt mu b">isset()</code>函数来完成这项工作，该函数检查一个数组键是否存在，而不是<code class="fe mr ms mt mu b">null</code>。</p><figure class="mw mx my mz gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="c3cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这种情况下，只有当<code class="fe mr ms mt mu b">first_name</code>和<code class="fe mr ms mt mu b">last_name</code>参数都被定义并且数据被传递时，数据才会被显示，否则用户会看到<code class="fe mr ms mt mu b">You must have both the first_name and last_name defined</code>消息。</p><div class="kw kx gp gr ky kz"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">GitHub-dinocajic/PHP-YouTube-tutorials:PHP YouTube 教程的代码</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">PHP YouTube 教程的代码确保你已经安装了 Docker。克隆回购。运行以下命令…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">github.com</p></div></div><div class="li l"><div class="ob l lk ll lm li ln jw kz"/></div></div></a></div></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><figure class="mw mx my mz gt jr gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/65e5a0a75bd84fe497904b644917c604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*B_84-p-nd2hpjLHA.jpeg"/></div></figure><p id="1c88" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡伊奇目前是<a class="ae mv" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(生命周期生物科学公司)</a>、<a class="ae mv" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae mv" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae mv" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物</a>、<a class="ae mv" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae mv" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="df70" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae mv" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae mv" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae mv" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="a149" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae mv" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="nz">阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。</em> </a></p></div></div>    
</body>
</html>