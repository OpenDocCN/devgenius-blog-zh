<html>
<head>
<title>Git Developer Workflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git开发人员工作流程</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/git-developer-workflow-a0956e70972?source=collection_archive---------1-----------------------#2021-06-28">https://blog.devgenius.io/git-developer-workflow-a0956e70972?source=collection_archive---------1-----------------------#2021-06-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e525" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为了支持协作环境</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f18e907b4a0d2abc1995bbc736cd5870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pUi3vkj06Vqp_sXeiI-UbQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">詹姆斯·哈里森在<a class="ae kv" href="https://unsplash.com/photos/vpOeXr5wmR4" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="1d07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在有多个参与者的项目中工作时，拥有一致且高效的开发人员工作流是至关重要的。如果没有结构化的工作方式，如果多个开发人员将代码提交给同一个git存储库，代码可能会陷入混乱的状态。如果团队没有相同的工作方式，通常很难判断其他人的工作状态并简单地保持最新的稳定版本。本文概述了当有多个开发人员在一个项目上工作时，git开发人员的基本工作流程。本文假设读者对git和分支有基本的了解。</p><h1 id="a014" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">主线分支</h1><p id="871b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当使用Git时，<code class="fe mp mq mr ms b">mainline</code>分支通常被认为是包含项目稳定版本的分支。检验这个分支意味着开发人员可以期望软件工作，已经测试，并且可以在所有支持的目标上构建和运行。</p><p id="7bce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">开发人员不应该直接在主线分支上工作。相反，所有开发都应该在一个特性分支中完成，并在代码评审完成后合并到主线分支中。推荐的开发工作流程概述如下。</p><h1 id="3404" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.创建特征分支</h1><p id="a139" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当开发人员开始一项新任务时，他们应该创建一个从主分支创建的特性分支。特性的所有相关开发都应该在这个特性分支上完成。</p><p id="5e0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从主分支获取最新信息:</p><p id="45a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">&gt; git pull origin master</code></p><p id="f91f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建特征分支:</p><p id="c454" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">&gt; git checkout -b FeatureBranch</code></p><h1 id="2d2f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.压缩提交</h1><p id="5cdf" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">给定特性的开发完成后，开发人员可能希望清理提交历史。根据特性的范围和开发风格，变更可能由带有无信息提交消息的多次提交组成。例如，你见过多少次像“填充”、“修改”、“修正打字错误”这样的提交？这些提交可以从git历史中删除。</p><p id="2a45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，记下有多少提交应该被压缩。这可以通过查看日志来验证。</p><p id="ca65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">&gt; git log</code></p><p id="7161" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想要压缩最后3个提交。压缩提交并编写新的提交消息:</p><p id="3a43" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">&gt; git reset --soft HEAD~3 &amp;&amp; git commit</code></p><h1 id="ac35" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.重设主线的基础</h1><p id="e61f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在推送和创建一个合并请求之前，建议对主线的变更进行调整。将主线分支的最新变更合并到特征分支是必要的，以避免将特征分支合并到主线分支时的合并冲突。</p><p id="8f50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重定基础而不是合并的主要优点是在主线分支上创建一个清晰的线性历史。</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="0c96" class="mx lt iq ms b gy my mz l na nb"># Pull the latest changes from mainline<br/>&gt; git checkout mainline<br/>&gt; git pull origin mainline</span><span id="9960" class="mx lt iq ms b gy nc mz l na nb"># Rebase to mainline<br/>&gt; git checkout <!-- -->FeatureBranch<br/>&gt; git rebase mainline</span></pre><h1 id="7f69" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.推送特征分支</h1><p id="afe2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">既然feature分支已经更新了，那么就推送分支，以便其他开发人员和远程网络可以使用它。</p><p id="0c27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">git push origin FeatureBranch</code></p><h1 id="a13a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">5.创建拉式请求</h1><p id="ccf1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">项目中的合作者审查所有代码变更是最佳实践。这对于识别任何潜在的bug以及让参与项目的其他开发人员意识到变更是很重要的。</p><p id="ff6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦特性分支被推送到回购，GitHub中就会出现<strong class="ky ir">比较&amp;拉取请求</strong>按钮选项。点击此按钮将引导您完成创建拉取请求的提示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/525a57310a46eae0ffd094c2dcfa36e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cyTqTtLFCgQSfa3E0nQClQ.png"/></div></div></figure><h1 id="0375" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">6.将功能分支合并到主线中</h1><p id="ec0d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">一旦拉取请求被批准，分支就可以合并到主线中了！这意味着添加到特性分支的变更将会出现在主线分支中。其他开发人员下次从主线分支提取变更时，将会收到来自特性分支的更新。</p><p id="f853" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过选择<strong class="ky ir">合并拉取请求</strong>按钮，可以将特征分支合并到主线中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/88d6487b724f50dbaeb6c40d2e88334a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSVwcxtYo9VzDR46VT-BNg.png"/></div></div></figure><h1 id="ed96" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">7.删除特征分支</h1><p id="f741" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">既然特性的开发已经完成，并且变更已经被合并，那么特性分支就可以被删除了。</p><p id="9ef2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以通过运行以下命令删除远程分支:</p><p id="c617" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">git push origin :FeatureBranch</code></p><p id="e317" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以通过运行以下命令删除本地特征分支:</p><p id="704c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">git branch -D FeatureBranch</code></p><h1 id="5ef9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="0762" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">实施一致的开发人员工作流将有助于保持代码的组织性，并提供更快、更易维护的开发环境。上述工作流是提供一种环境的一种方法，在这种环境中，开发人员可以专注于代码的质量，而不会因为在协作环境中工作而受到阻碍。</p></div></div>    
</body>
</html>