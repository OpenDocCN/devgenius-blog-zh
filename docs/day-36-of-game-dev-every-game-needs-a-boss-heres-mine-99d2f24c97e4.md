# 游戏开发的第 36 天:每个游戏都需要一个老板——这就是我的老板！

> 原文：<https://blog.devgenius.io/day-36-of-game-dev-every-game-needs-a-boss-heres-mine-99d2f24c97e4?source=collection_archive---------11----------------------->

**目标**:给我的游戏加一波 boss。boss 会需要特殊攻击，UI，sfx 等。

最后，这是我的老板:

![](img/8d5fe6910bef8f95e92ec8cce6c4d461.png)

—老板必须到达屏幕的某个部分才能“在游戏中”

—当生命值达到 50%时，老板的攻击模式会改变

—被击中时，老板闪红光

—老板有健康吧

—2 个静止的敌人在它旁边产卵。虽然每 10 秒左右会有一个随机的敌人出现来保持有趣

最终的结果是一个非常基本的老板，可以很容易地添加到和推断到更多的东西。对于这个项目，我很满意。

我必须学会如何让第二次三连击有效，让敌人闪红光，设置生命值，并设置代码直到老板死了才开始下一波攻击。

我将简要地向您介绍几个这样的设置。

**——老板必须到达屏幕的某一部分才能“在游戏中”**

你可能没有注意到，但在视频中，敌人的老板并不真的做什么，直到他到达屏幕的某一部分。我有一个空的游戏对象，标记为“BossStopPoint”。每当 boss 碰到它，boss 就开始射击，boss 的爪牙就会出现，boss 会受到伤害，boss 的生命值会显示出来。简单，完成工作！

![](img/d20fdebbddf2728e3d7969fc2c8be5bd.png)

**——当生命值达到 50%时，bosses 的攻击模式改变**

让老板在某一健康状态下改变攻击模式包括几个布尔、协程和一个 switch 语句。如果真的发生了，不要害怕。我会尽力解释的。首先，我有两个不同的协程，一个触发默认的 boss 镜头，另一个触发三重镜头。

![](img/66f111b1884cb401891d130383cb3ab8.png)

StandardFireRoutine()在 boss 达到我在上一部分谈到的那个点时开始。只有当 _defaultFire 布尔值为真时，它才会继续触发默认快照。正如您在 EnergyShotFireRoutine()中看到的，当它被调用时，它将 _defaultFire 布尔值设置为 false，这意味着只有能量三倍发射会被触发。但是当敌人只有 50%的生命值时，我如何调用第二个协程呢？我用的是 switch 语句！

![](img/598740d5849f7d26885911bdf9bfc6a5.png)

在这个开关中，我调用了基于敌人当前生命值的代码。我可以从任何我想要的健康值调用第二个协程。我选择了 10 点，因为我的老板有 20 点的健康值，我认为中途切换会很好。做完了！

**—点击**时，boss 闪烁红色

每当 boss 受到伤害时，我使用一个布尔和协程将它的颜色改为红色，持续 0.25 秒，如下所示:

![](img/fe39f8f45fcbb066f3f095a0f36cbd13.png)![](img/e75c5a7ff61a63756a3a441b0d80bb9d.png)

**—老板有健康吧**

![](img/ff50ba4efee9c30ccf6a98102f3d1bd8.png)

我在画布上添加了一个图像 UI 元素，并将源图像设置为 unity 拥有的默认图像之一，在我的例子中是“实心”图像。然后设置图像类型为填充，填充方式为水平。你会注意到有一个“填充量”选项。通过代码获取对图像的引用并改变其填充量。像这样:

![](img/353a78b6ecd66dc93683faccdb07c095.png)![](img/509f0150c90f4e5da90f36e10db82afb.png)

我在我的 UIManager 脚本中这样做，所以我将使它成为一个公共方法，每当老板受到损害时我都会调用它。

![](img/202d5f8c35b61b682e760485a0f9ca74.png)

填充量从 100 开始。我的老板有 20 点生命值，玩家每次射击对它造成 1 点伤害。算算，最后我需要在每次 boss 受到伤害时减去 0.05 的填充量。你也可以设置这个方法来接受一些参数，让数学变得简单一点，但是这个也可以！

2 个静止的敌人在它旁边产卵。虽然每 10 秒左右会有一个随机的敌人产生，以保持有趣

每当老板点击我前面提到的停止点时，我就调用这个方法来产生由两个标准敌人组成的预置，他们的移动是关闭的。

![](img/8035109e800e7e8336271cc03707144f.png)![](img/81b0bd2c7c9dbb81c1c88aaad15356e3.png)

我在创建这个老板的过程中得到了很多乐趣，老实说，我在一个充满免费 png 的随机网站上发现了这个老板的形象。我很高兴在我的游戏中找到了一个有点用的！

***如有任何问题或建议欢迎评论！让我们做一些很棒的游戏吧！***