<html>
<head>
<title>How to Install Wordpress with Nginx Server</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Nginx 服务器安装 Wordpress</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-install-wordpress-with-nginx-server-249566fce121?source=collection_archive---------1-----------------------#2020-05-24">https://blog.devgenius.io/how-to-install-wordpress-with-nginx-server-249566fce121?source=collection_archive---------1-----------------------#2020-05-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/10f6aaa20da9eef53f82b3f41f76744b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hm0nfy7xtfXW1Mff"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">克里斯托夫·高尔在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="576b" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">下载 WordPress</h1><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="582a" class="lh kb in ld b gy li lj l lk ll">mkdir workspace &amp;&amp; cd workspace<br/>curl -LO <a class="ae jz" href="https://wordpress.org/latest.tar.gz" rel="noopener ugc nofollow" target="_blank">https://wordpress.org/latest.tar.gz</a><br/>tar xzvf latest.tar.gz<br/>mkdir example<br/>cp -rf workspace/wordpress/* example<br/>cp workspace/example/wp-config-sample.php workspace/example/wp-config.php</span></pre><p id="3a05" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">找到你的 WordPress 目录，我的是/home/ajay/workspace/example。通过从工作区目录执行以下命令来更改该目录的所有权和权限。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="d14f" class="lh kb in ld b gy li lj l lk ll">sudo chown -R www-data:www-data example/*<br/>sudo chmod 777 example/*</span></pre><h1 id="5f7d" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">安装 MySQL 并创建数据库和数据库用户</h1><p id="609f" class="pw-post-body-paragraph lm ln in lo b lp mk lr ls lt ml lv lw lx mm lz ma mb mn md me mf mo mh mi mj ig bi translated">你需要确保你的系统中安装了 MySQL。如果没有，那么通过下面的命令安装它</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="4c2d" class="lh kb in ld b gy li lj l lk ll">sudo apt-get update<br/>sudo apt-get install mysql-server</span></pre><p id="8f3c" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">现在，通过以下命令创建一个数据库及其用户</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="88d6" class="lh kb in ld b gy li lj l lk ll">sudo mysql<br/>CREATE DATABASE wordpress;<br/>GRANT ALL ON wordpress.* TO 'wordpressuser'@'localhost' IDENTIFIED BY 'password'; <br/>FLUSH PRIVILEGES;<br/>EXIT;</span></pre><h1 id="78f3" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">设置 WordPress 配置文件</h1><p id="5d7b" class="pw-post-body-paragraph lm ln in lo b lp mk lr ls lt ml lv lw lx mm lz ma mb mn md me mf mo mh mi mj ig bi translated">现在，打开 WordPress 配置文件:</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="48be" class="lh kb in ld b gy li lj l lk ll">sudo nano workspace/example/wp-config.php</span></pre><p id="9599" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">该文件将如下所示，</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="e8a3" class="lh kb in ld b gy li lj l lk ll">define('DB_NAME', 'wordpress'); # replace it with your database name<br/><br/>/** MySQL database username */<br/>define('DB_USER', 'wordpressuser'); # replace it with your db user name<br/><br/>/** MySQL database password */<br/>define('DB_PASSWORD', 'password'); # # replace it with your db password</span></pre><p id="49c0" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">保存文件，然后按 ctrl+X 和 y 退出。</p><h1 id="bf5a" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">配置 Nginx</h1><p id="1390" class="pw-post-body-paragraph lm ln in lo b lp mk lr ls lt ml lv lw lx mm lz ma mb mn md me mf mo mh mi mj ig bi translated">要安装 Nginx，你首先要在你的系统上安装 Nginx。所以你可以在 ubuntu 上安装它</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="ab22" class="lh kb in ld b gy li lj l lk ll">sudo apt-get update<br/>sudo apt-get install nginx</span></pre><p id="9af9" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">现在转到/etc/nginx/sites-available 并创建您的网站 conf 文件，例如，我正在创建 example.conf</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="7871" class="lh kb in ld b gy li lj l lk ll">server {<br/>    listen 80;<br/>    listen [::]:80;<br/>    root   /home/ajay/workspace/example; # this is the root folder of wordpress<br/>    index  index.php index.html index.htm;<br/>    server_name  example.com <a class="ae jz" href="http://www.gsefdmit.test" rel="noopener ugc nofollow" target="_blank">www.example.c</a>om; # replace it with your website name</span><span id="bd91" class="lh kb in ld b gy mp lj l lk ll">location / {<br/>        #try_files $uri $uri/ =404;<br/> try_files $uri $uri/ /index.php$is_args$args;<br/>    }</span><span id="b9cb" class="lh kb in ld b gy mp lj l lk ll">location ~ [^/]\.php(/|$) {<br/>        include snippets/fastcgi-php.conf;<br/>        fastcgi_pass unix:/var/run/php/php7.2-fpm.sock; # using php7.2<br/>        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;<br/>        include fastcgi_params;<br/>    }</span><span id="e65d" class="lh kb in ld b gy mp lj l lk ll">}</span></pre><p id="4494" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">现在通过以下命令检查 Nginx 配置</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="b9b2" class="lh kb in ld b gy li lj l lk ll">sudo nginx -t</span></pre><p id="b56f" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">如果一切正常，它将向您显示以下输出</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="6bca" class="lh kb in ld b gy li lj l lk ll">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok<br/>nginx: configuration file /etc/nginx/nginx.conf test is successful</span></pre><p id="e550" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">现在创建一个软链接，使您的网站将被启用。为此，只需键入</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="7b35" class="lh kb in ld b gy li lj l lk ll">sudo ln -s /etc/nginx/sites-available/example.conf /etc/nginx/sites-enabled/</span></pre><p id="3860" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">现在，通过以下命令重启 Nginx 服务器</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="761d" class="lh kb in ld b gy li lj l lk ll">sudo systemctl restart nginx</span></pre><p id="53d9" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">注意:在/etc/hosts 中添加域名。</p><h1 id="c143" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">安装附加的 PHP 扩展</h1><p id="efcc" class="pw-post-body-paragraph lm ln in lo b lp mk lr ls lt ml lv lw lx mm lz ma mb mn md me mf mo mh mi mj ig bi translated">需要注意的一点是，我们使用的是 php7.2-fpm。所以你需要确保你已经在你的系统中安装了它。如果您没有它，那么通过下面的命令安装它</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="ab41" class="lh kb in ld b gy li lj l lk ll">sudo apt install php7.2-cli php7.2-fpm php7.2-curl php7.2-gd php7.2-mysql php7.2-mbstring zip unzip</span></pre><p id="6c05" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">如果安装成功，重启 php7.2-fpm</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="fd4f" class="lh kb in ld b gy li lj l lk ll">sudo systemctl restart php7.2-fpm.service</span></pre><p id="b546" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">为了检查一切是否正常，我们检查了 Nginx 和 php7.2-fpm 的状态</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="8b96" class="lh kb in ld b gy li lj l lk ll">sudo systemctl status php7.2-fpm.service<br/>sudo systemctl status nginx</span></pre><h1 id="fbb5" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">通过 Web 界面完成安装</h1><p id="6cd7" class="pw-post-body-paragraph lm ln in lo b lp mk lr ls lt ml lv lw lx mm lz ma mb mn md me mf mo mh mi mj ig bi translated">在 web 浏览器中，导航到服务器的域名或公共 IP 地址(www.example.com)。接下来的步骤不言自明。</p><p id="805a" class="pw-post-body-paragraph lm ln in lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ig bi translated">你喜欢这篇文章吗？如果有，通过<a class="ae jz" href="https://www.youtube.com/channel/UCvEB7wXUEXGFE9lCx0USR3Q" rel="noopener ugc nofollow" target="_blank"> <strong class="lo io">订阅获取更多类似内容解码，我们的 YouTube 频道</strong> </a> <strong class="lo io">！</strong></p></div></div>    
</body>
</html>