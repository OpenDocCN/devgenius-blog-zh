<html>
<head>
<title>Access MongoDB With Node.JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Node 访问 MongoDB。射流研究…</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/access-mongodb-with-node-js-8645494f3101?source=collection_archive---------10-----------------------#2022-09-26">https://blog.devgenius.io/access-mongodb-with-node-js-8645494f3101?source=collection_archive---------10-----------------------#2022-09-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/44847e4c1f4774eeb4d34ee15e725d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YuNIB2i98YCVckxOCkIlag.png"/></div></div></figure><p id="34ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">MongoDB 是一个数据库，开发者可以使用它来创建结构化的应用程序和网站。MongoDB 是使用 C++语言构建的。从数据库发出的结果是 JSON 格式的。MongoDB 一般不需要像 SQL 那样的表间关系，因为 MongoDB 是 noSql 数据库。以下是不同之处。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi kt"><img src="../Images/5da6ee2693a6e3114ab736a9908016a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6UM87qb5SdOkaQOv"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae lc" href="https://www.dewaweb.com/blog/mongodb-adalah/" rel="noopener ugc nofollow" target="_blank">https://www.dewaweb.com/blog/mongodb-adalah/</a></figcaption></figure><p id="b7b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">节点。JS 是一种取自 JavaScript 的编程语言，可以使用 V8 JavaScript 引擎运行，该引擎可以在浏览器之外运行。节点。JS 是开源的，类平台的。</p><p id="a68e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">好的，让我们直接进入我们将要讨论的材料。</p><ol class=""><li id="9506" class="ld le in jx b jy jz kc kd kg lf kk lg ko lh ks li lj lk ll bi translated">安装 MongoDB</li><li id="bebc" class="ld le in jx b jy lm kc ln kg lo kk lp ko lq ks li lj lk ll bi translated">创建项目</li><li id="ec34" class="ld le in jx b jy lm kc ln kg lo kk lp ko lq ks li lj lk ll bi translated">创建数据库</li><li id="dc77" class="ld le in jx b jy lm kc ln kg lo kk lp ko lq ks li lj lk ll bi translated">创建收藏</li><li id="2154" class="ld le in jx b jy lm kc ln kg lo kk lp ko lq ks li lj lk ll bi translated">插入数据</li><li id="3919" class="ld le in jx b jy lm kc ln kg lo kk lp ko lq ks li lj lk ll bi translated">查找数据</li><li id="6e24" class="ld le in jx b jy lm kc ln kg lo kk lp ko lq ks li lj lk ll bi translated">更新数据</li><li id="d0de" class="ld le in jx b jy lm kc ln kg lo kk lp ko lq ks li lj lk ll bi translated">删除数据</li></ol><p id="342c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在此了解更多教程:</p><p id="d90e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lc" href="https://temanngoding.com/en/web-crud-localstorage-using-javascript/" rel="noopener ugc nofollow" target="_blank">使用 JavaScript 的 WEB CRUD LocalStorage】</a></p><p id="a728" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lc" href="https://temanngoding.com/en/difference-between-bom-and-dom-in-javascript/" rel="noopener ugc nofollow" target="_blank">JavaScript 中 BOM 和 DOM 的区别</a></p><p id="3008" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lc" href="https://temanngoding.com/en/basic-javascript-part-6-if-else-javascript/" rel="noopener ugc nofollow" target="_blank">基础 JavaScript 第 6 部分:If Else JavaScript </a></p><h1 id="dbb6" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">安装 MongoDB</h1><p id="9b20" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">请先在这里下载 MongoDB<a class="ae lc" href="https://www.mongodb.com/download-center" rel="noopener ugc nofollow" target="_blank">https://www.mongodb.com/download-center</a>。您将获得如下所示的 MongoDB 应用程序:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/8ee6f52b655ef6cf9e82fa6c51dbffc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mcCkLUdhEBkQMAOL"/></div></div></figure><p id="c699" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装后，您必须进行如下配置:</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="285e" class="na ls in mw b gy nb nc l nd ne">C:\Users\XYZ&gt;d:cd C:\Program Files\MongoDB\Server\6.0\bin<br/>C:\Program Files\MongoDB\Server\6.0\bin&gt;mongod.exe --dbpath "C:\data" <br/>C:\Program Files\MongoDB\Server\4.2\bin&gt;mongo.exe<br/>MongoDB shell version v4.2.1<br/>connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&amp;gssapiServiceName=mongodb<br/>Implicit session: session { "id" : UUID("4260beda-f662-4cbe-9bc7-5c1f2242663c") }<br/>MongoDB server version: 4.2.1<br/>&gt;</span></pre><p id="4b40" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装过程已经完成，我们继续 Node.Js。</p><h1 id="1aca" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">创建项目</h1><p id="9533" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">您在项目文件夹中创建 main.js 文件。接下来在 Node.JS 中安装 MongoDB。</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="125c" class="na ls in mw b gy nb nc l nd ne">C:\Users\Your Name&gt;npm install mongodb</span></pre><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/5d6d9a9c85a2781fe515d391c4eeb8b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/0*xtKplfD1jVJwcknh"/></div></figure><h1 id="74f1" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">创建数据库</h1><p id="9b00" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">使用节点创建数据库。JS 代码如下:</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="38d8" class="na ls in mw b gy nb nc l nd ne">var MongoClient = require('mongodb').MongoClient;<br/>var url = "mongodb://localhost:27017/mydb";</span><span id="2cfb" class="na ls in mw b gy ng nc l nd ne">MongoClient.connect(url, function(err, db) {<br/>  if (err) throw err;<br/>  console.log("Database created!");<br/>  db.close();<br/>});</span></pre><p id="26db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/64598377bdee3c9ec46b4702a5c58bca.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/0*dC-5w7KdR0z8mJO5"/></div></figure><p id="308f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要运行它，您只需在终端上使用 node。</p><h1 id="62a4" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">创建收藏</h1><p id="7803" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">接下来，如果您使用 SQL，我们将创建一个功能类似于表的集合。我们创建的代码如下:</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="5545" class="na ls in mw b gy nb nc l nd ne">var MongoClient = require('mongodb').MongoClient;<br/>var url = "mongodb://localhost:27017/";</span><span id="54e5" class="na ls in mw b gy ng nc l nd ne">MongoClient.connect(url, function(err, db) {<br/>  if (err) throw err;<br/>  var dbo = db.db("mydb");<br/>  dbo.createCollection("customers", function(err, res) {<br/>    if (err) throw err;<br/>    console.log("Collection created!");<br/>    db.close();<br/>  });<br/>});</span></pre><p id="cfcd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/db56976e3776d5a9f455ca56d4573f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/0*QPHhJwnJSLQGPHn9"/></div></figure><p id="ffa0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们已经成功创建了一个集合。我们可以在 MongoDB GUI 应用程序中看到它。然后我们会得到一个集合(客户)。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/9f9d5e084e19122f03473fe5cdea9561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2aCWzKXeovsnfCyE"/></div></div></figure><h1 id="1e80" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">插入数据</h1><p id="d661" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">创建集合后，我们将尝试创建代码，向我们创建的集合中添加数据。</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="9428" class="na ls in mw b gy nb nc l nd ne">var MongoClient = require('mongodb').MongoClient;<br/>var url = "mongodb://localhost:27017/";</span><span id="be67" class="na ls in mw b gy ng nc l nd ne">MongoClient.connect(url, function(err, db) {<br/>  if (err) throw err;<br/>  var dbo = db.db("mydb");<br/>  var myobj = {name: "Teman Ngoding", address: "Jakarta"};<br/>  dbo.collection("customers").insertOne(myobj, function(err, res) {<br/>    if (err) throw err;<br/>    console.log("1 data inserted");<br/>    db.close();<br/>  });<br/>});</span></pre><p id="56e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/2441ceec379fd54374427fddb08af169.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/0*APC5Y2IMo2X45UsB"/></div></figure><p id="fbba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们检查一下 MongoDB GUI，结果如下:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/48aab584d8a518cdf192a81f704066f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*h93F9GpoAY6kECre"/></div></figure><h1 id="bd4d" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">查找数据</h1><p id="27f2" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">现在我们尝试使用 Node.JS 显示数据名称。</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="6148" class="na ls in mw b gy nb nc l nd ne">var MongoClient = require('mongodb').MongoClient;<br/>var url = "mongodb://localhost:27017/";</span><span id="a6fe" class="na ls in mw b gy ng nc l nd ne">MongoClient.connect(url, function(err, db) {<br/>  if (err) throw err;<br/>  var dbo = db.db("mydb");<br/>  dbo.collection("customers").findOne({}, function(err, res) {<br/>    if (err) throw err;<br/>    console.log(res.name);<br/>    db.close();<br/>  });<br/>});</span></pre><p id="b1de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/d8f42005592ecdf943790f8e359eaf66.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/0*pr18bMJXlACqf9YL"/></div></figure><h1 id="6d47" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">更新数据</h1><p id="3e90" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">我们继续根据我们选择的查询更改数据，在下面的示例中，我们将更改地址:雅加达到万隆。</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="7679" class="na ls in mw b gy nb nc l nd ne">var MongoClient = require('mongodb').MongoClient;<br/>var url = "mongodb://127.0.0.1:27017/";</span><span id="3a70" class="na ls in mw b gy ng nc l nd ne">MongoClient.connect(url, function(err, db) {<br/>  if (err) throw err;<br/>  var dbo = db.db("mydb");<br/>  var myquery = { address: "Jakarta" };<br/>  var newvalues = { $set: {name: "Teman Ngoding", address: "Bandung" } };<br/>  dbo.collection("customers").updateOne(myquery, newvalues, function(err, res) {<br/>    if (err) throw err;<br/>    console.log("1 document updated");<br/>    db.close();<br/>  });<br/>});</span></pre><p id="9cb5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/13abc36b11b77e456c483d89c503d991.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/0*t_SsCEIr-2Oc0nue"/></div></figure><h1 id="9bf5" class="lr ls in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">删除数据</h1><p id="70fc" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">我们将从集合中缩进删除数据。下面的代码将删除地址为:Bandung 的数据。</p><pre class="ku kv kw kx gt mv mw mx my aw mz bi"><span id="4557" class="na ls in mw b gy nb nc l nd ne">var MongoClient = require('mongodb').MongoClient;<br/>var url = "mongodb://localhost:27017/";</span><span id="353c" class="na ls in mw b gy ng nc l nd ne">MongoClient.connect(url, function(err, db) {<br/>  if (err) throw err;<br/>  var dbo = db.db("mydb");<br/>  var myquery = { address: 'Bandung' };<br/>  dbo.collection("customers").deleteOne(myquery, function(err, obj) {<br/>    if (err) throw err;<br/>    console.log("1 document deleted");<br/>    db.close();<br/>  });<br/>});</span></pre><p id="498b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所有带有地址:万隆的代码将被删除。那么客户集合中的所有数据都将被删除。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/ad646b5a898bd69c487a1d86412875f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Nw0ArW9euCtF7rw4"/></div></div></figure><p id="99aa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是如何使用 Node 访问 MongoDB 数据库。JS，希望有用。</p><p id="8d9e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="np">谢了。</em>T3】</strong></p><p id="2a93" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">标签:</strong><a class="ae lc" href="https://temanngoding.com/en/teman%20ngoding/mongodb-en/" rel="noopener ugc nofollow" target="_blank">MongoDB</a><a class="ae lc" href="https://temanngoding.com/en/teman%20ngoding/nodejs-en/" rel="noopener ugc nofollow" target="_blank">nodejs</a></p></div></div>    
</body>
</html>