# 干净的代码

> 原文：<https://blog.devgenius.io/clean-code-b1fed462faa8?source=collection_archive---------3----------------------->

第 2 章:-命名

![](img/570ab0173fe76048c082d86db3daabe6.png)

> 你花多少时间写代码和读代码？！的确，花在阅读和写作上的时间比远远超过 10 比 1
> “鲍勃叔叔”

名字在软件中随处可见。
我们给变量、函数、参数、类和包命名。我们命名我们的源文件和包含它们的目录。
我们将 jar 文件、war 文件和 ear 文件命名为。
我们名而名而名。因为我们做了这么多，我们最好把它做好。以下是一些创造好名字的简单规则。

# 使用透露意图的名字

基本上，不要在注释中命名需要解释的变量、类或方法。

例如:

```
var d: Int? // elapsed time in days  
var s: Int?  // elapsed time in seconds
```

可以命名为:

```
var timeInDays: Int? // elapsed time in days  
var timeInseconds: Int?  // elapsed time in seconds
```

# 避免虚假信息和编码

不要将一组帐户称为“帐户列表”，因为它实际上不是一个列表。相反，将其命名为“帐户组”、“帐户”或“帐户群”
避免数据类型和变量名的不必要编码。

```
var accountGroup: String?
var bunchOfAccounts: String
```

如果全世界都知道在雇员上下文中，姓名将包含一系列字符，那么这可能是不必要的。工资也是一样，十进制/浮动制。

# 进行有意义的区分

如果在同一个作用域中有两个不同的东西，您可能会试图以任意的方式更改其中一个名称。
EMP 中存储了哪些与员工或雇主不同的内容？

```
var emp: String?
var employee: String?
var employer: String?
```

这些类有什么不同？

```
class ProductInfo  
class ProductData
```

如何区分同一个类中的这些方法？

```
func getActiveAccount()
func getActiveAccounts()
func getActiveAccountsInfo()
```

所以，这里的建议是做出有意义的区分。

# 使用易发音的名字

确保名称是可发音的。没人想要绕口令。
这个

```
var absdegpoi123: Date?
var  modymdhms: AccountGroup?
Int pszqint;
```

相对

```
var generationTimeStamp: Date?
var employeeAccount: AccountGroup?
var employeeAccessCount: Int?
```

# 使用可搜索的名称

听起来很蠢？编号
您需要搜索代码，查看使用的不同字段。
是的，新的 IDE 确实可以为我们做这项工作，
但是我们仍然必须使用易于搜索的名称。
例如，找到“I”或“j”用在哪里有多容易。同样的事情也发生在内联使用的魔法单词上，没有将它们提取为常量。
例如，如果在不同的用例中使用相同的值，那么在应用程序中搜索和替换一个数值可能是一场噩梦
。

# 不要可爱/不要使用攻击性的词语

给物品命名时，不要使用有趣的名字或任何俚语。不要使用依赖文化的笑话。
再次强调清晰度。说你的意思，说话算数。

```
deleteAllItems()
```

相对

```
whack()
```

相对

```
kill()
```

相对

```
eatMyShorts()
```

相对

```
abort()
```

# 为每个概念选择一个词

在代码库中使用相同的概念。

```
FetchValue() vs GetValue() vs RetrieveValue()
```

如果使用 fetchValue()返回值，使用相同的概念；而不是在所有代码中使用 fetchValue()，使用 getValue()，retrieveValue()会让读者感到困惑。

```
dataFetcher() vs dataGetter() vs dataFetcher()
```

如果这三种方法都做同样的事情，不要在代码库中混合搭配。而是坚持一个。

```
FeatureManager vs FeatureController
```

忠于经理或财务总监。同样，同一件事的代码库之间的一致性。

# 不要一语双关

这与先前的规则正好相反。避免将同一个词用于两个不同的目的。将同一个术语用于两种不同的想法，本质上是一语双关。
例如，假设您有两个具有相同 add()方法的类。在一个类中，它执行两个值的相加，在另一个类中，它将一个元素插入到一个列表中。
所以，明智地选择；在第二个类中，使用 insert()或 append()而不是 add()。

# 解决方案域名与问题域名

干净代码哲学建议在任何需要的时候使用解决方案域名，比如算法的名字或者设计模式的名字
，并且使用问题域名作为第二选择。例如，accountVisitor 对于熟悉访问者设计模式的程序员来说意义重大。“作业队列”对程序员来说更有意义。

# 添加有意义的上下文是最后的手段

虽然有一些名字本身是有意义的，但大多数不是。相反，你必须把名字放在你的读者的上下文中，方法是把它们封装在命名良好的类、函数或名称空间中。
如果不可能，作为最后的手段，可能有必要在名称前加上前缀。
例如，address 类中名为“state”的成员变量显示了它包含的内容。
但是，如果在没有上下文的情况下使用相同的“州”来存储“州名”,则可能会产生误导。
因此，在这个场景中，将其命名为“addressState”或“StateName”当命名为“addrState”时，在编码地址的上下文中,“state”可能更有意义

# 避免编码

不要试图重新发明轮子，为已经定义和标准化的东西定义自己的编码。你最不想要的就是你自己的定制语言。因此，尽量对接口使用前缀“I ”,对抽象类使用后缀“Base”。不要对类实现使用“C”前缀或对变量使用“m_”。如果您最终使用了自定义编码，请后退一步，尝试看看为什么会出现这种情况。根据这个回答，你应该做出决定。

# 避免心理映射

让我们从一个例子开始:

```
r
t
p
```

即使我们是开发人员，我们也不想学习和记住“r”表示罗马尼亚 Dacia 服务器的完整 url，
“t”是没有协议信息的相同 url，而“p”表示我们需要发送到服务器以便能够登录的查询参数
。
就算心理映射不好，也有一些名字在我们这个时代是标准的。
例如，当我们看到“I”或“j”时，我们从一开始就知道我们在谈论一个迭代。

# 类和方法命名

当我们需要为我们的类或方法找到一个好名字时，有两个简单的规则可以帮助我们:

*   类名应该有一个名词或名词短语
*   方法名应该有一个动词短语
    的动词，尽量避免用前缀/后缀命名类，比如“服务”、“工厂”、“处理器”、“数据”、“信息”。这些类名被滥用了(尤其是当我们找不到更好的名字时)。

# 使用解决方案和问题域名中的名称

不要使用脱离上下文和不来自特定域的名称。对于在汽车行业工作的人来说，使用“发动机”而不是“动力源”更为自然。你应该使用具体的域名，而不是开发商命名，这可能是错误的。这可能会导致客户和开发人员之间的误解。

# 不要添加不必要的上下文

给已经很清楚的事情加上背景是很容易的。
例如，在一个名为“Car”的类中，你不需要将类的颜色字段命名为“carColor”或“colorCar”。
您已经在汽车类中，该类中的所有信息都与“汽车”相关。