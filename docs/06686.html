<html>
<head>
<title>Using Object.freeze() in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 JavaScript 中使用 Object.freeze()</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/using-object-freeze-in-javascript-b1824fd36b6f?source=collection_archive---------7-----------------------#2022-01-25">https://blog.devgenius.io/using-object-freeze-in-javascript-b1824fd36b6f?source=collection_archive---------7-----------------------#2022-01-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a004e2d835c8d9acdc36175d0992412d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e4jytqvFu7iGo7Ap36Xn7g.jpeg"/></div></div></figure><p id="875a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是这篇文章的视频演示。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="5eca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ES6 引入了<em class="lc"> let </em>和<em class="lc"> const </em>来声明变量。当你使用 const 声明一个变量时，你不能像下面的例子那样重新分配这个变量。</p><pre class="kw kx ky kz gt ld le lf lg aw lh bi"><span id="8db3" class="li lj iq le b gy lk ll l lm ln">const aValue = 1;<br/>aValue = 2;<br/>//Returns ---&gt; Uncaught TypeError: Assignment to constant variable.<br/>    at &lt;anonymous&gt;:1:3</span></pre><p id="b423" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的例子中，我们使用 const 声明了一个名为<em class="lc">的变量，并赋值为 1。接下来，我们尝试将值 2 重新赋给变量，并抛出一个<em class="lc">类型错误</em>。</em></p><pre class="kw kx ky kz gt ld le lf lg aw lh bi"><span id="39a5" class="li lj iq le b gy lk ll l lm ln">const ourObject = {<br/>  animalOne: "Cat",<br/>  animalTwo: "Dog",<br/>  animalThree: "Sheep"<br/>};</span><span id="8f18" class="li lj iq le b gy lo ll l lm ln"><br/>ourObject = {}<br/>VM178:1 Uncaught TypeError: Assignment to constant variable.<br/> at &lt;anonymous&gt;:1:4</span></pre><p id="1ff1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们再次尝试这样做，但是这次使用一个名为<em class="lc"> ourObject </em>的对象，我们遇到了同样的错误。</p><p id="0439" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们使用术语“可变的”时，我们描述的是某些东西是可以改变的。JavaScript 中使用 const 赋给变量的对象(包括对象、数组和函数)是可变的。理解这一点很重要，因为使用 const 只是阻止变量名(标识符)被重新分配，而不是对象本身。如果我们想将<em class="lc"> animalOne </em>属性更改为 cow，我们可以执行以下操作:</p><pre class="kw kx ky kz gt ld le lf lg aw lh bi"><span id="3b6e" class="li lj iq le b gy lk ll l lm ln">const ourObject = {<br/>  animalOne: "Cat",<br/>  animalTwo: "Dog",<br/>  animalThree: "Sheep"<br/>};</span><span id="a00e" class="li lj iq le b gy lo ll l lm ln">ourObject.animalOne = "Cow";</span><span id="dc32" class="li lj iq le b gy lo ll l lm ln">console.log(ourObject);<br/>//Returns ---&gt; <br/>// {animalOne: 'Cow', animalTwo: 'Dog', animalThree: 'Sheep'}</span></pre><p id="4057" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">明确地说，这对于诸如字符串(不可变的)之类的原始数据类型是不起作用的。如下例所示:</p><pre class="kw kx ky kz gt ld le lf lg aw lh bi"><span id="284a" class="li lj iq le b gy lk ll l lm ln">const ourString = "Hi";<br/>ourString[1] = "o";</span><span id="38a7" class="li lj iq le b gy lo ll l lm ln">console.log(ourString);<br/>//Returns ---&gt; 'Hi'</span></pre><p id="c562" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">总而言之，你可以改变或变异对象本身，但是你不能改变存储对象的变量的名字或标识符。这就好比说，你可以改变你房子的装修，但你不能改变你的地址。</p><p id="124b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">我们如何阻止物体变异？</strong></p><p id="6fff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经阐明，你不能仅仅通过使用 const 来阻止. object 中的数据变异。可以使用 JavaScript 提供的名为<em class="lc"> freeze </em>的方法。此方法是对象标准内置对象的一部分。一旦你使用了这个函数，你将不能改变对象，如果你使用严格模式运行你的代码，将会抛出一个错误。函数的返回值将是传递给函数的对象。该函数的语法如下:</p><pre class="kw kx ky kz gt ld le lf lg aw lh bi"><span id="ed5a" class="li lj iq le b gy lk ll l lm ln">Object.freeze(objectname);</span></pre><p id="798d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们在<em class="lc">我们的对象</em>上试试这个函数。</p><pre class="kw kx ky kz gt ld le lf lg aw lh bi"><span id="6c75" class="li lj iq le b gy lk ll l lm ln">const ourObject = {<br/>  animalOne: "Cat",<br/>  animalTwo: "Dog",<br/>  animalThree: "Sheep"<br/>};</span><span id="e961" class="li lj iq le b gy lo ll l lm ln">Object.freeze(ourObject);</span><span id="9af2" class="li lj iq le b gy lo ll l lm ln">/* <br/>Returns ---&gt;</span><span id="6f48" class="li lj iq le b gy lo ll l lm ln">const ourObject = { animalOne: "Cat",<br/>  animalTwo: "Dog",<br/>  animalThree: "Sheep"<br/>};<br/>*/</span><span id="4bb7" class="li lj iq le b gy lo ll l lm ln">ourObject.animalOne = "Cow";</span><span id="0b6b" class="li lj iq le b gy lo ll l lm ln">console.log(ourObject);</span><span id="961d" class="li lj iq le b gy lo ll l lm ln">/* <br/>Returns ---&gt;</span><span id="1419" class="li lj iq le b gy lo ll l lm ln">const ourObject = { animalOne: "Cat",<br/>  animalTwo: "Dog",<br/>  animalThree: "Sheep"<br/>};<br/>*/</span></pre><p id="8edf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的例子中，我们声明了变量 ourObject，并给一个对象分配了三个属性，<em class="lc"> animalOne </em>、<em class="lc"> animalTwo </em>和<em class="lc"> animalThree </em>。然后我们继续冻结返回我们的对象的对象。当我们试图将第一个属性值更改为字符串<em class="lc"> cow </em>和 console.log 对象时。什么都没有改变，原始对象被返回。</p><p id="97f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您也可以在不想更改的数组(数组是一种对象)上使用此选项，如下例所示:</p><pre class="kw kx ky kz gt ld le lf lg aw lh bi"><span id="369d" class="li lj iq le b gy lk ll l lm ln">const ourArray = [1, 2, 3];<br/>Object.freeze(ourArray);</span><span id="626d" class="li lj iq le b gy lo ll l lm ln">//Returns ---&gt; [1, 2, 3]</span><span id="248c" class="li lj iq le b gy lo ll l lm ln">ourArray[0] = 100;</span><span id="27c4" class="li lj iq le b gy lo ll l lm ln">console.log(ourArray);<br/>//Returns ---&gt; [1, 2, 3]</span></pre><p id="28fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望你喜欢这篇文章，请随时发表任何意见，问题或反馈，并关注我的更多内容！</p></div></div>    
</body>
</html>