<html>
<head>
<title>Flux Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通量架构</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/flux-architecture-43be66fcfa46?source=collection_archive---------9-----------------------#2020-10-27">https://blog.devgenius.io/flux-architecture-43be66fcfa46?source=collection_archive---------9-----------------------#2020-10-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="0a85" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">概观</h1><p id="01c0" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Flux 在脸书用于他们的前端 web 应用程序。与其说它是一个框架，不如说它是一个模式。Flux 的三个主要部分是动作、调度器和存储。数据流是单向的，这使得调试更加容易。Redux 是一个使用 Flux 的库。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/3f038d62193a127466e85b9079412369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*66cRDTdMSInYbDUM.png"/></div></div></figure><h1 id="9fde" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">行动</h1><p id="09e1" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">当用户与应用程序交互时，就会调用这个动作。例如，如果您想在待办事项列表中添加一个新任务，您可以为此创建一个操作。当定义一个动作时，它应该包含有效负载或数据，以及在存储中被解释的类型。</p><pre class="lh li lj lk gt ls lt lu lv aw lw bi"><span id="e326" class="lx jl in lt b gy ly lz l ma mb">export function addTodo(text) {</span><span id="1588" class="lx jl in lt b gy mc lz l ma mb">  return {</span><span id="ef70" class="lx jl in lt b gy mc lz l ma mb">    type: 'ADD_TODO',</span><span id="84cd" class="lx jl in lt b gy mc lz l ma mb">    text</span><span id="ec97" class="lx jl in lt b gy mc lz l ma mb">  }</span><span id="cc9c" class="lx jl in lt b gy mc lz l ma mb">}</span></pre><h1 id="d49f" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">分配器</h1><p id="f013" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">调度程序处理不断变化的数据流。调度员的唯一任务是将动作分配给商店。商店将有登记在调度程序中的回调。当一个动作被调用时，调度程序会将该动作发送到所有商店。在 Redux 中，用户不是定义调度程序的人。</p><h1 id="68fd" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">商店</h1><p id="3253" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">存储包含数据和逻辑。状态是存储所有实际数据的地方，修改数据的逻辑是回调。switch 语句用于解释调用适当回调的动作。</p><pre class="lh li lj lk gt ls lt lu lv aw lw bi"><span id="92f1" class="lx jl in lt b gy ly lz l ma mb">function todos(state = [], action) {<br/>    switch (action.type) {<br/>        case ADD_TODO:<br/>            return [<br/>                ...state,<br/>                {<br/>                    text: action.text,<br/>                    completed: false<br/>                 }<br/>             ]<br/>        case REMOVE_TODO:<br/>            return [<br/>                ...state.filter(todo =&gt; todo.text !== action.text)<br/>             ]<br/>        default:<br/>            return state<br/>        }<br/>    }<br/>}</span></pre><h1 id="dde2" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论</h1><p id="d949" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Redux 是 Flux 架构的最好例子，但是不使用 Redux 也可以实现它。使用 Flux 通过使用单向数据绑定而不是双向数据绑定，使调试更容易。通过使用单向，当操作更新数据时，使用该数据的所有页面都将被更新。</p></div></div>    
</body>
</html>