<html>
<head>
<title>Cleaner React code - part 1: DRY principle vs Component props</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ¸…æ´å‰‚ååº”ä»£ç .ç¬¬ 1 éƒ¨åˆ†:å¹²ç‡¥åŸç†ä¸ç»„ä»¶é“å…·</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/cleaner-react-code-part-1-dry-principle-and-component-props-a308d22d232d?source=collection_archive---------2-----------------------#2022-06-19">https://blog.devgenius.io/cleaner-react-code-part-1-dry-principle-and-component-props-a308d22d232d?source=collection_archive---------2-----------------------#2022-06-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/2e271c63d54ef5d4a01903a0e8d0d62b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iFLc_NTWcJfIGZLZ"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><a class="ae jz" href="https://unsplash.com/@carrier_lost?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ä¼Šæ©Â·æ³°å‹’</a>åœ¨<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹ç…§</figcaption></figure><h2 id="923f" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">ä»‹ç»</h2><p id="32d2" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">å¤§å®¶å¥½ï¼Œæˆ‘ä» 2017 å¹´å¼€å§‹ä½¿ç”¨ ReactJSï¼Œç¬é—´æˆä¸ºå®ƒçš„å‘çƒ§å‹ã€‚å®ƒæä¾›äº†éå¸¸ç®€å•çš„æ„å»ºæ¨¡å—(VDomï¼ŒComponent ),è®©æˆ‘ä»¬ä»¥å£°æ˜çš„æ–¹å¼è€ƒè™‘ UI å¼€å‘ã€‚ä½†æ˜¯å› ä¸º React æœ¬èº«åªæ˜¯ä¸€ä¸ªè§†å›¾åº“ï¼Œå®ƒå‡ ä¹æ²¡æœ‰å…³äº(æ–‡ä»¶å¤¹ç»“æ„ã€çŠ¶æ€ç®¡ç†ã€å¥æŸ„å‰¯ä½œç”¨)çš„å®˜æ–¹çº¦å®šæˆ–æŒ‡å¯¼â€¦æ‰€ä»¥å¦‚æœæ²¡æœ‰ä¸¥æ ¼åº”ç”¨çš„è§„åˆ™å’Œçº¦å®šã€æ€ç»´æ¨¡å¼ï¼Œæˆ‘ä»¬çš„ä»£ç å°†å¾ˆå®¹æ˜“è½¬æ¢æˆæ„å¤§åˆ©é¢æ¡ä»£ç (è‡ªä»æˆ‘å­¦ä¹  React ä»¥æ¥ï¼Œè¿™ç§æƒ…å†µåœ¨æˆ‘èº«ä¸Šä¹Ÿå‘ç”Ÿè¿‡å‡ æ¬¡ğŸ¤ª).æˆ‘å†™è¿™ç¯‡æ–‡ç« æ˜¯å¸Œæœ›èƒ½åˆ†äº«æˆ‘åœ¨ä½¿ç”¨ React æ—¶çš„ä¸€äº›ç—›è‹¦çš„é”™è¯¯ä»¥åŠæˆ‘æ˜¯å¦‚ä½•è§£å†³çš„ã€‚</p><h2 id="a0b9" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">æˆ‘ç¬¬ä¸€ä¸ªç—›è‹¦çš„é”™è¯¯:</h2><p id="fe94" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">æˆ‘ä»¥å‰åœ¨ä¸€å®¶å¤šåœ°åŒºå…¬å¸æ‹…ä»»å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬æ¯ä¸ªåœ°åŒºéƒ½æœ‰å››åˆ°äº”ä¸ªç½‘ç«™ã€‚å®ƒä»¬çœ‹èµ·æ¥å‡ ä¹å®Œå…¨ç›¸åŒï¼Œåªæœ‰å¤§çº¦ 30%çš„ç”¨æˆ·ç•Œé¢å’ŒåŠŸèƒ½å˜åŒ–ï¼Œä»¥é€‚åº”è¯¥åœ°åŒºçš„ä¸šåŠ¡éœ€æ±‚â€¦ä¸€å¤©ï¼Œæˆ‘çš„è€æ¿è®©æˆ‘åšä¸€ä¸ªå¯é‡ç”¨çš„è¡¨æ ¼ç»„ä»¶ï¼Œå¯ä»¥åœ¨æ‰€æœ‰åœ°åŒºä½¿ç”¨ã€‚</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lr"><img src="../Images/d151f79c85e448e645b4045299858299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EjKD2VLW452b0L68dJTkNw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">4 ä¸ªåŒºåŸŸ Aã€Bã€Cã€D ä½¿ç”¨ç›¸åŒçš„è¡¨ç»„ä»¶</figcaption></figure><p id="df3b" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">è¿‡äº†ä¸€ä¼šå„¿ï¼Œæˆ‘å¾—åˆ°äº†è¿™æ ·çš„ç»“æœ:</p><pre class="ls lt lu lv gt mb mc md me aw mf bi"><span id="d382" class="ka kb in mc b gy mg mh l mi mj">Table.js</span><span id="5f9e" class="ka kb in mc b gy mk mh l mi mj">const TableComponent = ({ data, columns }) =&gt; (...render table here);</span><span id="b6b2" class="ka kb in mc b gy mk mh l mi mj">Region's page.js</span><span id="3cce" class="ka kb in mc b gy mk mh l mi mj">&lt;Root&gt;<br/>  &lt;Navbar items={items} /&gt;<br/>  &lt;Container&gt;<br/>    &lt;Table data={data} columns={columns} /&gt;<br/>  &lt;/Container&gt;<br/>&lt;/Root&gt;</span></pre><p id="846e" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">çœ‹èµ·æ¥ä¸é”™ï¼Œä¸æ˜¯å—ï¼Ÿ(å¯é‡å¤ä½¿ç”¨ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è¿›è¡Œæ›´æ”¹ï¼Œåªéœ€åœ¨ä¸€ä¸ªåœ°æ–¹ç¼–è¾‘)ã€‚å¼€å‘å›¢é˜Ÿå¯¹æˆ‘çš„ç»„ä»¶éå¸¸æ»¡æ„ï¼Œæˆ‘ä»¬å°†å®ƒéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå®ƒè¿è¡Œå¾—éå¸¸å®Œç¾ï¼ï¼è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæ¯ä¸ªå›½å®¶éƒ½æœ‰ä¸€äº›ç‰¹å®šçš„éœ€æ±‚ï¼Œå›¢é˜Ÿå¼€å§‹ä¿®æ”¹è¡¨ç»„ä»¶ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥å¤„ç†è¿™äº›éœ€æ±‚ï¼ŒåŒæ—¶ä»ç„¶å¯ä»¥é‡ç”¨ã€‚</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ml"><img src="../Images/e1aefe365be2d54dfaf6881b99c8a00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xj7olzm3-RaQepVRCM1G1A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">å…·æœ‰åœ°åŒºç‰¹å®šè¦æ±‚çš„æ–°è¡¨æ ¼ç»„ä»¶</figcaption></figure><p id="a970" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">ä¸€ä¸¤ä¸ªæœˆåï¼Œæ–°çš„éœ€æ±‚ä¸æ–­åˆ°æ¥ã€‚æˆ‘ä»¬çš„ç»„ä»¶ä»£ç å¦‚ä¸‹æ‰€ç¤º:</p><pre class="ls lt lu lv gt mb mc md me aw mf bi"><span id="d709" class="ka kb in mc b gy mg mh l mi mj">Table.js</span><span id="c509" class="ka kb in mc b gy mk mh l mi mj">const TableComponent = ({<br/>  data,<br/>  columns,<br/>  renderBeforeHeader,<br/>  renderAfterHeader,<br/>  isUserLogin,<br/>  userRole,<br/>  renderAfterBody,<br/>  renderBeforeBody,<br/>  tooltipContent,<br/>  renderTooltip,<br/>  isByPassPermissionAllowed,<br/>  allowedPermissions,<br/>  onRowClick,<br/>  onTableClick,<br/>  onCellClick<br/>}) =&gt; {<br/>  if (!isUserLoggedin &amp;&amp; !== isByPassPermissionAllowed) {<br/>    return null;<br/>  }</span><span id="65c9" class="ka kb in mc b gy mk mh l mi mj">if (useRole) {<br/>    switch(userRole):<br/>    ...a bunch ui and logic base on roles<br/>  }</span><span id="0a7b" class="ka kb in mc b gy mk mh l mi mj">if (tooltipContent || renderTooltip) {<br/>    ... a really long if else codition here(200 -&gt; 300 lines)<br/>  }</span><span id="8ac3" class="ka kb in mc b gy mk mh l mi mj">const checkIfUserAllowedToViewThisTable = () =&gt; {<br/>    ... really long logic (200 lines)<br/>  }</span><span id="e297" class="ka kb in mc b gy mk mh l mi mj">return (<br/>    &lt;Table&gt;<br/>      &lt;THead&gt;<br/>        {renderBeforeHeader()}<br/>        {...header render code here}<br/>        {renderAfterHeader()}<br/>      &lt;THead&gt;<br/>      &lt;TBody&gt;<br/>        {renderBeforeBody()}<br/>        {...body render code here}<br/>        {renderAfterBody()}<br/>      &lt;/TBody&gt;<br/>      {renderTooltip &amp;&amp; renderTooltip()}<br/>    &lt;/Table&gt;<br/>  );<br/>}</span><span id="ddf5" class="ka kb in mc b gy mk mh l mi mj">Region's page.js</span><span id="7a72" class="ka kb in mc b gy mk mh l mi mj">&lt;Root&gt;<br/>  &lt;Navbar items={items} /&gt;<br/>  &lt;Container&gt;<br/>    &lt;Table<br/>      data,<br/>      columns,<br/>      renderBeforeHeader,<br/>      renderAfterHeader,<br/>      isUserLogin,<br/>      userRole,<br/>      renderAfterBody,<br/>      renderBeforeBody,<br/>      tooltipContent,<br/>      renderTooltip,<br/>      isByPassPermissionAllowed,<br/>      allowedPermissions,<br/>      onRowClick,<br/>      onTableClick,<br/>      onCellClick<br/>    /&gt;<br/>  &lt;/Container&gt;<br/>&lt;/Root&gt;</span></pre><p id="0d59" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">æ–°ä»£ç â€¦è¿˜æ˜¯ä¸é”™çš„ï¼Œä¸æ˜¯å—ï¼Ÿ(ç†è®ºä¸Šï¼Œå®ƒä»ç„¶æ˜¯å¯é‡å¤ä½¿ç”¨çš„ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è¿›è¡Œæ›´æ”¹ï¼Œåªéœ€åœ¨å•ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œç¼–è¾‘ğŸ¤ª)â€¦ç­”æ¡ˆæ˜¯:<strong class="ky io">å¦</strong>ï¼Œä¸Šé¢çš„ä»£ç æœ‰å‡ ä¸ªé—®é¢˜:</p><ul class=""><li id="43b6" class="mm mn in ky b kz lw ld lx kj mo kn mp kr mq lq mr ms mt mu bi translated">ä¸å¯é¢„æµ‹:å®ƒè¯•å›¾åŒæ—¶è§£å†³è®¸å¤šé—®é¢˜ï¼Œå¯¼è‡´åœ¨è°ƒè¯•å’Œè¿›è¡Œæ›´æ”¹æ—¶å‡ºç°ä¸å¯é¢„æµ‹çš„é—®é¢˜ã€‚</li><li id="0479" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">å¯é‡ç”¨ä½†ä¸çµæ´»:å®ƒä¸ä¸šåŠ¡é€»è¾‘ç´§å¯†è€¦åˆï¼Œå°†æ¥åœ¨å¦ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨å®ƒæ˜¯ä¸€ä¸ªçœŸæ­£çš„å¤§æŒ‘æˆ˜ï¼Œå› ä¸ºå¼€å‘äººå‘˜éœ€è¦å®Œå…¨ç†è§£<strong class="ky io"> 15 props </strong>ä»¥ç¡®ä¿å®ƒæ­£å¸¸å·¥ä½œã€‚</li><li id="ecbf" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">å¯ç»´æŠ¤æ€§æ˜¯ä¸€ä¸ªå¤§é—®é¢˜:è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œè€å‘˜å·¥è¾èŒï¼Œæ–°å‘˜å·¥åŠ å…¥å…¬å¸ï¼Œæ²¡æœ‰äººå®Œå…¨ç†è§£è¿™ä¸ªç»„ä»¶é€»è¾‘ï¼Œæ²¡æœ‰äººæœ‰è¶³å¤Ÿçš„ä¿¡å¿ƒ<strong class="ky io">ç¼–è¾‘</strong>æˆ–<strong class="ky io">åˆ é™¤</strong>ä¸€ä¸ªå•ç‹¬çš„<strong class="ky io">é“å…·</strong>ï¼Œç»§ç»­çš„å”¯ä¸€æ–¹æ³•æ˜¯ä¸æ–­æ·»åŠ æ–°é“å…·ï¼Œä¿®å¤è¿™ä¸ªç»„ä»¶çš„ bug ä¹Ÿæ˜¯ä¸€ä¸ª<strong class="ky io">å™©æ¢¦</strong>ï¼Œå› ä¸º<strong class="ky io">ä¸€ä¸ªå˜åŒ–</strong>å¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–åœ°åŒºã€‚</li><li id="7c00" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">å¯è¯»æ€§:å› ä¸ºç»„ä»¶éå¸¸å¤æ‚ï¼Œæ‰€ä»¥äººä»¬æ— æ³•ç†è§£èƒŒåçš„é€»è¾‘</li></ul><p id="e307" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">çœ‹åˆ°è¿™äº›é—®é¢˜ï¼Œæˆ‘å†³å®šå¯¹è¿™ä¸ªç»„ä»¶è¿›è¡Œé‡æ„ã€‚</p><h2 id="02fb" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">æˆ‘å¦‚ä½•é‡æ„è¿™ä¸ªç»„ä»¶:</h2><p id="14e7" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">é¦–å…ˆï¼Œåœ¨å¯¹æºä»£ç åšä»»ä½•ä¿®æ”¹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ ¹æœ¬åŸå› ã€‚è¿™é‡Œçš„æ ¹æœ¬åŸå› æ˜¯:</p><ul class=""><li id="60ed" class="mm mn in ky b kz lw ld lx kj mo kn mp kr mq lq mr ms mt mu bi translated">å½“æˆ‘ä»¬è®¾è®¡ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬çš„æ€ç»´æ–¹å¼é™·å…¥äº†ä¸€ä¸ªé™·é˜±ï¼Œå³ä»£ç è¶Šå¹²ç‡¥è¶Šå¥½ã€‚ä¸å…¶è€ƒè™‘æˆ‘ä»¬å°†å¦‚ä½•ä½¿ç”¨ç»„ä»¶ä»¥åŠç†æƒ³çš„ API/props çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œæˆ‘ä»¬ä¸å¦‚å…³æ³¨å¦‚ä½•ä½¿ç»„ä»¶å¯é‡ç”¨/å¹²ç‡¥ã€‚æˆ‘ä»¬åˆ©ç”¨ DRY åŸåˆ™ï¼Œå´æ²¡æœ‰æ„è¯†åˆ°çµæ´»æ€§/å¯è¯»æ€§å’Œå¯é‡ç”¨æ€§ä¹‹é—´çš„æƒè¡¡</li><li id="8f6b" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">æˆ‘ä»¬è¯•å›¾å°†å¤ªå¤šçš„é—®é¢˜æ··åˆåœ¨ä¸€èµ·ï¼Œè¿™å¯¼è‡´äº†ä»£ç çš„æ··ä¹±ã€‚</li><li id="4d5e" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">æˆ‘ä»¬è¯•å›¾å°½å¯èƒ½åœ°é»‘æ‰è¿™ä¸ªç»„ä»¶ï¼Œæ¯æ¬¡æœ‰æ–°çš„éœ€æ±‚è¿›æ¥ï¼Œæˆ‘ä»¬å°±åˆ›å»ºä¸€ä¸ªæ–°çš„é“å…·ã€‚</li><li id="b20b" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">æˆ‘ä»¬çš„ç»„ä»¶ä¸­æœ‰ä¸šåŠ¡ï¼Œå®ƒä¸ä¸šåŠ¡ç´§å¯†è€¦åˆã€‚</li></ul><p id="fed9" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†ä¸Šé¢çš„æ ¹æœ¬åŸå› ï¼Œè®©æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€æ­¥:</p><ul class=""><li id="756f" class="mm mn in ky b kz lw ld lx kj mo kn mp kr mq lq mr ms mt mu bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä»¥å£°æ˜çš„æ–¹å¼æ€è€ƒï¼Œå¹¶å®šä¹‰ç†æƒ³çš„ç»„ä»¶ props/API:æˆ‘ä»¬çš„ç»„ä»¶æ˜¯ä¸€ä¸ªæ˜¾ç¤ºæ•°æ®çš„è¡¨ï¼Œå› æ­¤å®ƒåœ¨è¿™é‡Œå”¯ä¸€çš„èŒè´£æ˜¯è·å–æ•°æ®å’Œåˆ—é…ç½®ä»¥æ˜¾ç¤ºåœ¨è¡¨ä¸­ã€‚</li></ul><pre class="ls lt lu lv gt mb mc md me aw mf bi"><span id="2778" class="ka kb in mc b gy mg mh l mi mj">&lt;Table data={data} column={columns} /&gt;</span></pre><ul class=""><li id="a681" class="mm mn in ky b kz lw ld lx kj mo kn mp kr mq lq mr ms mt mu bi translated">åœ¨æˆ‘ä»¬ä¸ºè¿™ä¸ªç»„ä»¶æ‰¾åˆ°ç†æƒ³çš„ props/API ä¹‹åï¼Œæˆ‘ä»¬å°è¯•åˆ—å‡ºæˆ‘ä»¬è¯•å›¾è§£å†³çš„é—®é¢˜:</li></ul><pre class="ls lt lu lv gt mb mc md me aw mf bi"><span id="3a1d" class="ka kb in mc b gy mg mh l mi mj">- Customize event handler<br/>- Customize UI for each region by adding more content to the base table.<br/>- Handle UI and business logic based on the user's role</span></pre><ul class=""><li id="c0d9" class="mm mn in ky b kz lw ld lx kj mo kn mp kr mq lq mr ms mt mu bi translated">æŸ¥çœ‹ä¸Šé¢çš„åˆ—è¡¨ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ç»„ä»¶éœ€è¦æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥å…¬å¼€æˆ‘ä»¬çš„<strong class="ky io">ç»„ä»¶æ•°æ®</strong>å’Œ<strong class="ky io">å‘ˆç°è¿‡ç¨‹</strong>ï¼Œä»¥ä¾¿å…¶ä»–å¼€å‘äººå‘˜å¯ä»¥å°†ä¸šåŠ¡é€»è¾‘é“å…·å’Œäº‹ä»¶å¤„ç†ç¨‹åºä»æˆ‘ä»¬çš„ç»„ä»¶ä¸­ç§»èµ°ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨<strong class="ky io">å­ç»„ä»¶</strong>æ¨¡å¼ï¼Œå°†æ•°æ®ä» props è½¬ç§»åˆ°åä¸º<strong class="ky io"> useTable </strong>çš„å®šåˆ¶é’©å­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é»‘ç›’<strong class="ky io">ç»„ä»¶</strong>ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬æœ€ç»ˆçš„ä»£ç </li></ul><pre class="ls lt lu lv gt mb mc md me aw mf bi"><span id="b3a8" class="ka kb in mc b gy mg mh l mi mj">Table.js</span><span id="700e" class="ka kb in mc b gy mk mh l mi mj">export const Table = () =&gt; ...<br/>export const THead = () =&gt; ...<br/>export const TBody = () =&gt; ...</span><span id="ad71" class="ka kb in mc b gy mk mh l mi mj">export const useTable = ({ columns, data }) =&gt; {<br/>  const [tableData, setTableData] = useState({ columns, data });</span><span id="c69c" class="ka kb in mc b gy mk mh l mi mj">return {<br/>    data,<br/>    ...handler here,<br/>  }<br/>}</span><span id="7c5c" class="ka kb in mc b gy mk mh l mi mj">const TableComponent = ({<br/>  children,<br/>}) =&gt; {<br/>  <br/>return (<br/>    &lt;Table className="table-component"&gt;<br/>      {children}<br/>    &lt;/Table&gt;<br/>  );<br/>};</span><span id="722e" class="ka kb in mc b gy mk mh l mi mj">Region's page.js</span><span id="c37c" class="ka kb in mc b gy mk mh l mi mj">import Table, { THead,TBody, TRow, TCell } from './table';</span><span id="a0cb" class="ka kb in mc b gy mk mh l mi mj">const { data, columns, handler } = useTable({ data: rawData, columns: rawColumnsConfig })</span><span id="92fd" class="ka kb in mc b gy mk mh l mi mj">...business logic and handle user role can put here</span><span id="91e0" class="ka kb in mc b gy mk mh l mi mj">&lt;Root&gt;<br/>  &lt;Navbar items={items} /&gt;<br/>  &lt;Container&gt;<br/>    &lt;Table&gt;<br/>      &lt;TRow&gt;<br/>        {columns.map((column) =&gt; (<br/>          &lt;THead onClick={handler.onHeaderCellClicked}&gt;<br/>            {renderBeforeHeader()}<br/>            {column.title}<br/>            {renderAfterHeader()}<br/>          &lt;/THead&gt;<br/>        ))}<br/>      &lt;/TRow&gt;<br/>      data.map((row) =&gt; (<br/>        &lt;TRow onClick={() =&gt; {<br/>          handler.onRowClicked();<br/>          customOnRowClicked();<br/>        }}&gt;<br/>          {columns.map(column =&gt; (<br/>            &lt;TCell onClick={(c) =&gt; {<br/>              handler.onCellClicked();<br/>              customOnCellClicked();<br/>            }}&gt;<br/>              {row[column.index]}<br/>            &lt;/TCell&gt;<br/>          ))}<br/>        &lt;/TRow&gt;<br/>        {renderTooltip()}<br/>      ))<br/>    &lt;/Table&gt;<br/>  &lt;/Container&gt;<br/>&lt;/Root&gt;</span></pre><ul class=""><li id="ac31" class="mm mn in ky b kz lw ld lx kj mo kn mp kr mq lq mr ms mt mu bi translated">å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€ä¸ªæ–°çš„è¡¨æ ¼ç»„ä»¶ï¼Œå®ƒéœ€è¦å¤šä¸€ç‚¹ä»£ç æ¥å‘ˆç°ï¼Œä½†å¯å®šåˆ¶ã€å¯è¯»ã€å¯ç»´æŠ¤ï¼Œå¹¶ä¸ä¸šåŠ¡é€»è¾‘æ¾æ•£è€¦åˆ</li></ul><p id="b2b9" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated"><strong class="ky io">ç»“è®º</strong></p><ul class=""><li id="e954" class="mm mn in ky b kz lw ld lx kj mo kn mp kr mq lq mr ms mt mu bi translated">å½“ä½ è®¾è®¡ react ç»„ä»¶æ—¶ï¼Œè¯•ç€ä»¥ä¸€ç§å£°æ˜æ€§æ–¹å¼æ¥æ€è€ƒï¼Œè€Œä¸æ˜¯ä»…ä»…å…³æ³¨äºæˆ‘ä»¬å°†å¦‚ä½•é‡ç”¨ç»„ä»¶(å‘½ä»¤å¼)ã€‚</li><li id="6a88" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">æˆ‘å–œæ¬¢æ¯ç‡¥çš„åŸåˆ™ï¼Œä½†æ˜¯â€¦ä»»ä½•äº‹æƒ…éƒ½æœ‰ä¸€ä¸ªæƒè¡¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ„è¯†åˆ°è¿™äº›åˆ©å¼Šï¼Œå¹¶åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚</li><li id="1783" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»å­ç»„ä»¶:<a class="ae jz" href="https://medium.com/@marioserano55/cleaner-codes-react-subcomponents-1c2ebe178566" rel="noopener">https://medium . com/@ marioserano 55/cleaner-codes-react-sub components-1c 2e be 178566</a>ã€‚</li><li id="9431" class="mm mn in ky b kz mv ld mw kj mx kn my kr mz lq mr ms mt mu bi translated">æˆ‘çš„æ¯è¯­ä¸æ˜¯è‹±è¯­ï¼Œæ‰€ä»¥å¦‚æœæœ‰ä»€ä¹ˆé”™è¯¯æˆ–ä¸å¤ªå¥½çš„åœ°æ–¹ï¼Œè¯·ç»™æˆ‘åé¦ˆã€‚æˆ‘çœŸçš„å¾ˆæ„Ÿæ¿€ã€‚</li></ul></div></div>    
</body>
</html>