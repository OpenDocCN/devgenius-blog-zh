<html>
<head>
<title>Setting up a Python Django project with MySQL DB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 MySQL DB 设置 Python Django 项目</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/setting-up-a-python-django-project-with-mysql-db-f6605e7273d3?source=collection_archive---------4-----------------------#2022-04-11">https://blog.devgenius.io/setting-up-a-python-django-project-with-mysql-db-f6605e7273d3?source=collection_archive---------4-----------------------#2022-04-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c039d931506fe382cb6d12cabe833ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wIp4OUfFfhG2YY8O40mcgw.png"/></div></div></figure><p id="90ab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如何建立一个以 MySQL 为数据库的 Python Django 项目？<br/>请按照以下步骤了解更多信息。</p><h1 id="0567" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">入门指南</h1><p id="c151" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">您需要安装最新版本的 python。皮普也是。</p><p id="446d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lw" href="https://docs.python-guide.org/starting/install3/linux/" rel="noopener ugc nofollow" target="_blank">安装 python</a>T5<a class="ae lw" href="https://linuxize.com/post/how-to-install-pip-on-ubuntu-20.04/" rel="noopener ugc nofollow" target="_blank">安装 pip </a></p><p id="ecc4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为您的项目创建一个目录，并放入 cd 中</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="2e61" class="mg ku in mc b gy mh mi l mj mk">mkdir amal<br/>cd amal</span></pre><h1 id="b13c" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">创建一个虚拟环境。</h1><p id="af65" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">为了创建一个虚拟环境，您需要有 python 包 virtualenv。您可以使用下面的命令安装它。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="fec4" class="mg ku in mc b gy mh mi l mj mk">pip install virtualenv</span></pre><p id="ff52" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要创建 virtualenv，您可以运行下面的命令</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="af99" class="mg ku in mc b gy mh mi l mj mk">virtualenv env</span></pre><p id="350a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要激活 virtualenv，请运行以下命令。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="5bdf" class="mg ku in mc b gy mh mi l mj mk">source env/bin/activate</span></pre><p id="5446" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这之后，env 的名称将显示在终端中</p><h1 id="8e51" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">安装 Django。</h1><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="5cd8" class="mg ku in mc b gy mh mi l mj mk">pip install django</span></pre><p id="9b07" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要验证 django 安装是否成功，请运行下面的命令。如果安装成功，它会显示命令列表。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4f50" class="mg ku in mc b gy mh mi l mj mk">django-admin</span></pre><p id="95c3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">若要启动项目，请运行下面的命令。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="cb09" class="mg ku in mc b gy mh mi l mj mk">django-admin startproject devsearchlive</span></pre><p id="2000" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果需要，可以将 env 文件夹复制到项目文件夹中。您应该在启动 django 服务器之前启动虚拟环境。</p><p id="7fc6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要在项目中创建应用程序，请运行以下命令。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="f936" class="mg ku in mc b gy mh mi l mj mk">python3 manage.py startapp projects</span></pre><p id="3c7d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建应用程序后，在<code class="fe ml mm mn mc b">INSTALLED_APPS</code>部分下面的<code class="fe ml mm mn mc b">settings.py</code>文件中列出下面一行。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="31c0" class="mg ku in mc b gy mh mi l mj mk">projects.apps.ProjectsConfig</span></pre><p id="acca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">若要运行该项目，请运行以下命令</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="d56b" class="mg ku in mc b gy mh mi l mj mk">python3 manage.py runserver</span></pre><p id="87de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">附加命令</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="1070" class="mg ku in mc b gy mh mi l mj mk">python3 manage.py createsuperuser<br/>python3 manage.py migrate<br/>python3 manage.py makemigrations</span></pre><h1 id="0e90" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">安装和配置 MySQL</h1><p id="89c1" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">安装 MySQL</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="043d" class="mg ku in mc b gy mh mi l mj mk">sudo apt update<br/>sudo apt install mysql-server</span></pre><p id="3f19" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">检查状态</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="5d61" class="mg ku in mc b gy mh mi l mj mk">sudo systemctl start mysql.service<br/>sudo systemctl status mysql</span></pre><p id="2086" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建新用户并添加权限</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="cb53" class="mg ku in mc b gy mh mi l mj mk">sudo mysql_secure_installation<br/>sudo mysql<br/>CREATE USER 'username'@'localhost' IDENTIFIED BY 'password';<br/>GRANT ALL PRIVILEGES ON *.* TO 'username'@'localhost' WITH GRANT OPTION;<br/>FLUSH PRIVILEGES;</span></pre><p id="a336" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用新创建的用户登录 MySQL</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="83c0" class="mg ku in mc b gy mh mi l mj mk">mysql -u username -p<br/>CREATE DATABASE DB_NAME<br/>USE DB_NAME<br/>SHOW TABLES</span></pre><p id="220e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果将来出现任何问题，请运行下面的命令</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4aa7" class="mg ku in mc b gy mh mi l mj mk">ALTER USER 'username'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';</span></pre><h1 id="2092" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">用 Django 配置 MySQL</h1><p id="eb20" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">安装 MySQL 客户端。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="d4b8" class="mg ku in mc b gy mh mi l mj mk">pip install mysqlclient</span></pre><p id="268f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果失败，运行以下命令。<br/>根据你的版本改变 python 版本。(python3 —版本)</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="d919" class="mg ku in mc b gy mh mi l mj mk">sudo apt-get install python3.8-dev<br/>sudo apt-get install mysql-client<br/>sudo apt-get install libmysqlclient-dev<br/>sudo apt-get install libssl-dev</span></pre><p id="b7ff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">尝试使用以下命令重新安装 mysqlclient。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="fe9c" class="mg ku in mc b gy mh mi l mj mk">pip install mysqlclient</span></pre><p id="f47c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">成功安装 mysqlclient 后，在 settings.py 中，更改如下所示的行。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="d07d" class="mg ku in mc b gy mh mi l mj mk">DATABASES = {<br/>'default': {<br/>'ENGINE': 'django.db.backends.mysql',<br/>'NAME': 'database_name',<br/>'USER': 'username',<br/>'PASSWORD': 'password',<br/>'HOST': 'localhost',<br/>'PORT': '3306',<br/>}<br/>}</span></pre><h1 id="11b2" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">激活 phpmyadmin</h1><p id="ffc4" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">首先，<a class="ae lw" href="https://vitux.com/ubuntu-xampp/" rel="noopener ugc nofollow" target="_blank">在你的机器上安装 XAMPP </a></p><p id="2983" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后按照下面的步骤，修改下面提到的 config.inc.php 文件中的行</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="dde9" class="mg ku in mc b gy mh mi l mj mk">sudo nano /opt/lampp/phpmyadmin/config.inc.php<br/>$cfg['Servers'][$i]['auth_type'] = 'cookie';<br/>$cfg['Servers'][$i]['user'] = 'root';<br/>$cfg['Servers'][$i]['password'] = 'password';<br/>$cfg['Servers'][$i]['host'] = '127.0.0.1';<br/>$cfg['Servers'][$i]['controluser'] = 'root';<br/>$cfg['Servers'][$i]['controlpass'] = 'password';</span></pre><p id="d1ac" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">重新启动 xampp</p><h1 id="78da" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">停止 Nginx 并启动 xampp</h1><p id="b17a" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">如果您的系统上运行着 Nginx 服务器，那么使用下面的命令停止它并启动 lamp 服务器。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="3579" class="mg ku in mc b gy mh mi l mj mk">sudo service nginx stop<br/>sudo /opt/lampp/lampp start</span></pre><p id="b1ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Gitlab 项目回购:<a class="ae lw" href="https://gitlab.com/amalragc/django-template" rel="noopener ugc nofollow" target="_blank">https://gitlab.com/amalragc/django-template</a></p></div></div>    
</body>
</html>