<html>
<head>
<title>QR code Generator and Scanner in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的二维码生成器和扫描器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/qr-code-generator-and-scanner-in-python-75fc21e554a8?source=collection_archive---------5-----------------------#2022-12-11">https://blog.devgenius.io/qr-code-generator-and-scanner-in-python-75fc21e554a8?source=collection_archive---------5-----------------------#2022-12-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="ccbc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如今，从分享应用到营销和支付，二维码几乎被用于所有领域。Python 使得生成你的<strong class="jm io">二维码</strong>和扫描仪变得很容易。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4eb089aac2f8403e554b19a3b557fba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-QbdcTZRdrKJX45GJNJhTg.png"/></div></div></figure><p id="1fb7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将在这个项目中使用<a class="ae ku" href="https://www.python.org/downloads/release/python-397/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> Python 3.9.7 </strong> </a>和<a class="ae ku" href="https://opencv.org/opencv-4-6-0/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> OpenCV 4.6.0 </strong> </a>。</p><h1 id="0fa3" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">QR 码生成器</h1><p id="8fcd" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">让我们看看如何创建您的二维码。我们将使用一个名为<a class="ae ku" href="https://pypi.org/project/PyQRCode/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">py QR code</strong></a><strong class="jm io"/>的 python 包，它允许我们从任何文本片段创建 QR 码。我们还准备使用<a class="ae ku" href="https://pypi.org/project/pypng/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">pypng</strong></a><strong class="jm io"/>将我们的二维码保存为<strong class="jm io"> PNG </strong>。</p><p id="7799" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装这两个软件包。</p><pre class="kj kk kl km gt ly lz ma bn mb mc bi"><span id="126a" class="md kw in lz b be me mf l mg mh">pip install PyQRCode pypng</span></pre><p id="3906" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在创建一个新的 python 文件并导入两个包，用它们来创建一个 QR 码。这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="a703" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">pyqrcode 有一个函数 create，它可以获取任何文本并从中创建一个 QR 码。</p><p id="9d41" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> png </strong>采用多个参数，如<strong class="jm io">名称、比例、模块颜色和背景</strong>来创建一个 png 图像。</p><p id="1aa1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是您将获得的<strong class="jm io"> PNG 图像</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/3f8653caacac8a2023a5a3e2efff219c.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*68aWEiaQP3XAiHOgm-3iXg.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">code.png</figcaption></figure><h1 id="2369" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">二维码扫描仪</h1><p id="7df0" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">要扫描二维码，首先需要接入摄像头。<strong class="jm io"> OpenCV，</strong>打开我们的相机，从中拍摄照片和视频。</p><p id="4358" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是我们打开相机的方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="465e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> cv2.imshow() </strong>显示从您的相机拍摄的一帧图像。按下<strong class="jm io"> Q </strong>将关闭相机。</p><p id="53f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们现在想知道摄像头是否正对着二维码。为此 python 有一个名为<a class="ae ku" href="https://pypi.org/project/pyzbar/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> pyzbar </strong> </a>的包。这个包可以<strong class="jm io">解码<strong class="jm io">条码</strong>在帧中的位置</strong>。</p><p id="0016" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将这个包导入到我们的 Scanner.py 文件中，并创建一个名为<strong class="jm io">解码器</strong>的新函数。这个函数将在 cv2.imshow()之前被调用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="5ea4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该解码器功能接收帧并将其转换为灰度图像，因为在灰度图像中检测 QR 码很容易。然后，从<strong class="jm io"> pyzbar </strong>导入的解码器接收灰度图像，并给出一些输出，如<strong class="jm io">多边形、矩形、数据</strong>和<strong class="jm io">类型</strong>。</p><ul class=""><li id="4761" class="mp mq in jm b jn jo jr js jv mr jz ms kd mt kh mu mv mw mx bi translated"><strong class="jm io"> Polygon </strong>将为我们提供点，这些点将有助于在 QR 码周围创建一个框。</li><li id="7c6d" class="mp mq in jm b jn my jr mz jv na jz nb kd nc kh mu mv mw mx bi translated"><strong class="jm io"> Rect </strong>将给我们 X 轴、Y 轴、高度和宽度。</li><li id="46fe" class="mp mq in jm b jn my jr mz jv na jz nb kd nc kh mu mv mw mx bi translated"><strong class="jm io"> Data.decode </strong>会返回附加在二维码上的文字/链接。</li><li id="5dcb" class="mp mq in jm b jn my jr mz jv na jz nb kd nc kh mu mv mw mx bi translated"><strong class="jm io"> Type </strong>将返回它是什么类型的代码。</li></ul><p id="2011" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，我们将创建一个将在<strong class="jm io"> cv2.putText() </strong>中使用的字符串。我们还会在终端上打印出来。</p><p id="a104" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是最终文件的样子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="62ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">最终结果。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/a5c52a0389a4b200b3eddba9371f57d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wkSWXNjkOs4M629fH0sk6A.png"/></div></div></figure><p id="8d98" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里你可以看到一个<strong class="jm io">框</strong>围绕着二维码、<strong class="jm io">文字、</strong>和<strong class="jm io">类型。</strong></p><h1 id="b443" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">附加动作</h1><p id="7d79" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">QR 码生成器和扫描仪的创建已经完成。但是，如果您想为您的扫描仪添加更多的功能，比如在扫描时打开链接，那么在 decoder 函数中添加以下代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mi mj l"/></div></figure><h1 id="b26f" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated"><strong class="ak">结论</strong></h1><p id="e0ba" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">Python 使得创建和扫描二维码变得很容易。你可以在很多方面利用它来改进你的网站和应用。源代码(<a class="ae ku" href="https://github.com/Priyank010/QR-code-Generator-and-Scanner" rel="noopener ugc nofollow" target="_blank">【https://github.com/Priyank010/QR-code-Generator-and-Scanner】T21</a>)</p></div></div>    
</body>
</html>