<html>
<head>
<title>Add Charts into Our React App with Victory â€” Custom Labels and Points</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Victoryå°†å›¾è¡¨æ·»åŠ åˆ°æˆ‘ä»¬çš„Reactåº”ç”¨ç¨‹åºä¸­â€”è‡ªå®šä¹‰æ ‡ç­¾å’Œç‚¹æ•°</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-custom-labels-and-points-7e7cbb44d89f?source=collection_archive---------5-----------------------#2021-04-11">https://blog.devgenius.io/add-charts-into-our-react-app-with-victory-custom-labels-and-points-7e7cbb44d89f?source=collection_archive---------5-----------------------#2021-04-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/12d456122c1a3bab4ada06a8c6b43619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*59OkH2dDceD7muEU"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae kc" href="https://unsplash.com/@capstoneeventgroup?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">é¡¶çŸ³äº‹ä»¶</a>åœ¨<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</figcaption></figure><p id="6e8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">èƒœåˆ©è®©æˆ‘ä»¬èƒ½å¤Ÿå°†å›¾è¡¨å’Œæ•°æ®å¯è§†åŒ–æ·»åŠ åˆ°Reactåº”ç”¨ç¨‹åºä¸­ã€‚</p><p id="35db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•ä½¿ç”¨Victoryå°†å›¾è¡¨æ·»åŠ åˆ°Reactåº”ç”¨ç¨‹åºä¸­ã€‚</p><h1 id="bc15" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">æ›´æ”¹é»˜è®¤æ ‡ç­¾ç»„ä»¶</h1><p id="874e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥è¦†ç›–ä¼´éšèƒœåˆ©è€Œæ¥çš„ç»„ä»¶çš„å¤–è§‚ã€‚</p><p id="b9c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™ä»¥ä¸‹ä»£ç æ¥æ›´æ”¹æ¡å½¢å›¾æ˜¾ç¤ºçš„æ ‡ç­¾:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5e55" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { VictoryBar, VictoryLabel } from "victory";</span><span id="e9e2" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;VictoryBar<br/>      data={[<br/>        { x: 1, y: 3, label: "Alpha" },<br/>        { x: 2, y: 4, label: "Bravo" },<br/>        { x: 3, y: 6, label: "Charlie" },<br/>        { x: 4, y: 3, label: "Delta" },<br/>        { x: 5, y: 7, label: "Echo" }<br/>      ]}<br/>      labelComponent={<br/>        &lt;VictoryLabel angle={90} verticalAnchor="middle" textAnchor="end" /&gt;<br/>      }<br/>    /&gt;<br/>  );<br/>}</span></pre><p id="9f85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬è®¾ç½®<code class="fe mt mu mv mj b">VictoryLabel</code>çš„<code class="fe mt mu mv mj b">angle</code>æ¥å‚ç›´æ˜¾ç¤ºæ ‡ç­¾ã€‚</p><p id="1bd9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">textAnchor</code>è®¾ç½®ä¸º<code class="fe mt mu mv mj b">end</code>å°†å®ƒä»¬å‘å³ç§»åŠ¨ã€‚</p><h1 id="bf62" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">åŒ…è£…ç»„ä»¶</h1><p id="8e52" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥åŒ…è£…ç»„ä»¶æ¥æ˜¾ç¤ºæˆ‘ä»¬æƒ³è¦çš„ã€‚</p><p id="53b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„åŒ…è£…å™¨ç»„ä»¶æ¥å‘å›¾è¡¨æ·»åŠ æ ‡ç­¾:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5574" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { VictoryChart, VictoryLabel, VictoryScatter } from "victory";</span><span id="fea4" class="mn lc iq mj b gy ms mp l mq mr">const WrapperComponent = (props) =&gt; {<br/>  const renderChildren = () =&gt; {<br/>    const children = React.Children.toArray(props.children);<br/>    return children.map((child) =&gt; {<br/>      const style = { ...child.props.style, ...props.style };<br/>      return React.cloneElement(<br/>        child,<br/>        Object.assign({}, child.props, props, { style })<br/>      );<br/>    });<br/>  };</span><span id="f449" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;g transform="translate(20, 40)"&gt;<br/>      &lt;VictoryLabel text={"add labels"} x={110} y={30} /&gt;<br/>      &lt;VictoryLabel text={"offset data from axes"} x={70} y={150} /&gt;<br/>      &lt;VictoryLabel text={"alter props"} x={280} y={150} /&gt;<br/>      {renderChildren()}<br/>    &lt;/g&gt;<br/>  );<br/>};</span><span id="8188" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;VictoryChart&gt;<br/>      &lt;WrapperComponent&gt;<br/>        &lt;VictoryScatter<br/>          y={(d) =&gt; Math.sin(2 * Math.PI * d.x)}<br/>          samples={15}<br/>          symbol="square"<br/>          size={6}<br/>          style={{ data: { stroke: "tomato", strokeWidth: 3 } }}<br/>        /&gt;<br/>      &lt;/WrapperComponent&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><p id="c8ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">WrapperComponent</code>ä»<code class="fe mt mu mv mj b">children</code>é“å…·ä¸­å–å‡ºå­ç»„ä»¶ï¼Œç”¨<code class="fe mt mu mv mj b">React.cloneElement</code>æ¸²æŸ“ã€‚</p><p id="42dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ä¹Ÿé€šè¿‡åˆå¹¶æ¥è‡ª<code class="fe mt mu mv mj b">child</code>å’Œé“å…·çš„æ ·å¼æ¥åˆå¹¶æ ·å¼ã€‚</p><p id="0788" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨<code class="fe mt mu mv mj b">return</code>è¯­å¥ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code class="fe mt mu mv mj b">VictoryLabel</code>å¹¶è°ƒç”¨<code class="fe mt mu mv mj b">renderChildren</code>å‡½æ•°æ¥å‘ˆç°å­é¡¹ã€‚</p><p id="3d07" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶ååœ¨<code class="fe mt mu mv mj b">App</code>ä¸­ï¼Œæˆ‘ä»¬æ¸²æŸ“<code class="fe mt mu mv mj b">WrapperComponent</code>ä¸­çš„<code class="fe mt mu mv mj b">VictoryScatter</code>æ¥æ¸²æŸ“å¸¦æœ‰<code class="fe mt mu mv mj b">VictoryLabel</code> sçš„æ­£å¼¦æ›²çº¿ã€‚</p><h1 id="3421" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">è‡ªå®šä¹‰ç‚¹æ•°</h1><p id="bfe8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»º<code class="fe mt mu mv mj b">CatPoint</code>ç»„ä»¶ï¼Œå¹¶å°†å…¶ä½œä¸º<code class="fe mt mu mv mj b">VictoryScatter</code>ç»„ä»¶ä¸­<code class="fe mt mu mv mj b">dataComponent</code>çš„å€¼è¿›è¡Œä¼ é€’:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="82dc" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { VictoryChart, VictoryScatter } from "victory";</span><span id="09e1" class="mn lc iq mj b gy ms mp l mq mr">const CatPoint = (props) =&gt; {<br/>  const { x, y, datum } = props;<br/>  const cat = datum._y &gt;= 0 ? "ğŸ˜€" : "ğŸ˜¹";<br/>  return (<br/>    &lt;text x={x} y={y} fontSize={30}&gt;<br/>      {cat}<br/>    &lt;/text&gt;<br/>  );<br/>};</span><span id="58c4" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;VictoryChart&gt;<br/>      &lt;VictoryScatter<br/>        y={(d) =&gt; Math.sin(2 * Math.PI * d.x)}<br/>        samples={25}<br/>        dataComponent={&lt;CatPoint /&gt;}<br/>      /&gt;<br/>    &lt;/VictoryChart&gt;<br/>  );<br/>}</span></pre><p id="8e5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ä»<code class="fe mt mu mv mj b">datum</code>å±æ€§ä¸­è·å–æ•°æ®æ¡ç›®ï¼Œå¹¶ä¸”<code class="fe mt mu mv mj b">_y</code>å±æ€§å…·æœ‰yå€¼ã€‚</p><p id="e480" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">x</code>å’Œ<code class="fe mt mu mv mj b">y</code>éƒ½æœ‰è¿™ä¸ªä½ç½®ã€‚</p><h1 id="b261" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ç»“è®º</h1><p id="07a4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥åœ¨Reactåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨Victoryåˆ›å»ºçš„å›¾è¡¨å®šåˆ¶æ ‡ç­¾å’Œç‚¹æ•°ã€‚</p></div></div>    
</body>
</html>