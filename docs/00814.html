<html>
<head>
<title>Building a low-code platform with Neo4j (4/4) — The Rabbit Hole</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Neo4j (4/4)构建低代码平台—兔子洞</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/building-a-low-code-platform-with-neo4j-4-4-the-rabbit-hole-1dbf376c452?source=collection_archive---------8-----------------------#2020-06-17">https://blog.devgenius.io/building-a-low-code-platform-with-neo4j-4-4-the-rabbit-hole-1dbf376c452?source=collection_archive---------8-----------------------#2020-06-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/277556c3b1d4292a14a0f76253fc3709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hKp8GwJ_mE8mu7wxWtUCkQ.png"/></div></div></figure><div class=""/><p id="cadf" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个迷你系列的最后一部分，你会发现兔子洞有你想要的那么深。这完全是关于模块化和你的想象力能为平台想出什么。</p><p id="866a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您还没有查看github 上的<a class="ae kt" href="https://github.com/sfdreverman/infonotion" rel="noopener ugc nofollow" target="_blank">info concept存储库，现在是时候了。对于这最后一篇文章，遵循安装说明并加载“in _ Questionnaire _ example”-示例。</a></p><h2 id="4466" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">功能模块</h2><p id="a0b5" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">虽然功能模块在前面的文章中不是元模型的概念，但是它包含信息。它为低代码开发人员提供了一个特定功能的链接。</p><p id="8ee5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在PoC中，功能模块包括:</p><ul class=""><li id="27d7" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">元模型(低代码开发人员指定如何使用逻辑的模型)</li><li id="fb73" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">Symfony控制器(该模块的通用代码和逻辑)</li><li id="f2ae" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">Twig/html模板(UI部分)</li></ul><p id="5fe6" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这些不同的概念是用三种完全不同的语言编写的，但是它们通过平台粘在一起。一旦就位，它们允许低代码开发人员为最终用户指定行为。</p><p id="b0a3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在前面的文章中，您已经看到了三个功能模块:</p><ul class=""><li id="98dd" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">数据浏览器</li><li id="8fba" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">数据编辑器</li><li id="e4d0" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">视角</li></ul><p id="d463" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这些是平台自带的，提供了我们大多数人认为的标准行为:浏览和编辑数据。使用PoC时，请考虑如何对检索/显示/存储的每个数据结构使用相同的逻辑。</p><p id="8e63" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们创建一个新模块，看看创建一个新模块需要什么。</p><h2 id="7237" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">要求</h2><p id="fb85" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">让我们根据以前的文章创建功能:<a class="ae kt" href="https://medium.com/@stefan.dreverman/building-a-questionnaire-in-neo4j-part-2-3-a-static-list-7303839eee67" rel="noopener">回答一系列问题</a>。这些文章是解释创建元模型的决策的例子。现在，让我们将其构建到PoC中。</p><p id="e125" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们需要能够:</p><p id="e417" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">低代码开发者</strong></p><ul class=""><li id="c23d" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">指定问题、答案和问题列表</li></ul><p id="5805" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是通过元模型来完成的，以确保我们实际使用的是“低代码”部分。如果没有，我们就是普通编程。</p><p id="27d0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">用户</strong></p><ol class=""><li id="eaea" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks mg ly lz ma bi translated">加载一个屏幕，让用户输入其回答者姓名</li><li id="fb12" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks mg ly lz ma bi translated">(系统)加载问题列表(作为URL中的参数传递)</li><li id="49e6" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks mg ly lz ma bi translated">出现一个可以回答第一个未回答问题(按顺序)的屏幕</li><li id="eaa0" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks mg ly lz ma bi translated">将回答的问题写入数据库。</li><li id="21f4" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks mg ly lz ma bi translated">如果还有其他问题，请转到2。</li></ol><p id="1628" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，让我们称之为MVP，您可以在此基础上进行构建。:-)</p><h2 id="2140" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">元模型</h2><p id="c437" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">我们的问题列表的元模型如下所示:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/d34992d1fc94e2d64256302fe7073a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*Dpe7onkacmu7AJFJIiY-JA.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">是的，它工作得很好，虽然它与以前的问卷文章有些不同。</figcaption></figure><p id="8af4" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该模型可以通过平台的数据浏览器/编辑器完全定义。为了将该模型与其他模型分开，将其放入一个新的域中。<em class="mq">比如提问</em>。</p><p id="4d39" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">怎么会？要添加域，请转到<em class="mq"> FunctionalType </em>，在左侧列表中选择<em class="mq">域</em>类型。并按下域名列表下的<em class="mq">添加</em>-按钮(中间一个)。创建域后，通过选择<em class="mq"> DomainNavTree </em>类型并编辑TopNavTree实例，可以在域菜单(定义为导航树)中看到它。您可以通过按住<strong class="jx iz"> ctrl </strong>并单击来选择FunctionalType和Questions域。在保存之前，编辑屏幕应该如下所示:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mr"><img src="../Images/ed560012498f769ff1418d552507d4e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vo-N-kPLG1eELzUY86lodw.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">将问题域添加到导航树中</figcaption></figure><p id="1545" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">回到网站的根目录，现在将显示两个域，允许点击新的域。点击<em class="mq">问题</em>-域，会出现一个没有任何类型(不知什么原因在这里称为Subject)或实例的域。这是正确的。</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/daf8e609d482aa97622fcbf6c748f4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*rKnQOZQFl8hOAMgTQNS1Ng.png"/></div></figure><p id="9a2b" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从这里开始，我们可以通过点击右边菜单中的add按钮并输入类型来添加完整的元模型。要成功做到这一点，从没有向外箭头的类型开始，向外工作。对于这个元模型，创建顺序是:问题、问题列表、答案、回应者。</p><p id="09d4" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您想自己动手，请记住:</p><ul class=""><li id="3fd3" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">向问题添加订单属性</li></ul><p id="9e34" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将<em class="mq">多答案</em>属性设置为<strong class="jx iz">是</strong>开</p><ul class=""><li id="b66f" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated"><strong class="jx iz">包含从问题列表到问题的</strong>关系，</li><li id="9a35" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated"><strong class="jx iz">响应</strong>和<strong class="jx iz">响应</strong>从回答者到问题/答案的关系</li></ul><p id="8bb6" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">关系上的<em class="mq">多答案</em>-属性指定了关系的基数。该属性指定“1..n "当是和" 1..1“当否</p><p id="e9ed" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">结果是一组类型(主题):</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/4a50a5b7bbd3a54572d1ab4a3da3d35a.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*L3uVL2eNvM3GtRqNJUPPNw.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">问题域中的类型</figcaption></figure><p id="9de3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在元模型完成了，实例(实际的问题、问题和答案列表)本身也可以通过标准数据编辑器创建。(顺便说一句，创建一个专用的屏幕来在一个屏幕中输入列表的所有数据会对用户更友好，但现在这样就可以了。)</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mu"><img src="../Images/d24d881b3c7366e214e64e7b48ba52e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dtv1A6V00sD39EnS1mm8WA.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">一个迷你系列的调查问卷。；-)</figcaption></figure><p id="8fc9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Neo4j数据如下所示:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/34cecc4fad650a37197e5fcf8e570c5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*yyJvVeiyr_0QnnBjN8gUmg.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">引擎盖下…</figcaption></figure><p id="2953" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这包括输入元模型和实例数据来创建应用程序逻辑。注意到这一点，<strong class="jx iz">没有代码需要编写？！</strong></p><h2 id="fa54" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">应用程序逻辑</h2><p id="3cb9" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">为了让这个元模型做些什么，我们需要编写一次代码。因为这个PoC是用php/Symfony编写的，所以问题功能需要一个新的控制器。</p><p id="d787" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">UI需要两个部分。一:</p><ul class=""><li id="db20" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">UI:可以识别回答者(并显示回答者信息)的部分。</li><li id="db1a" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">后端:接收回应者姓名并向UI提供回应者信息的调用</li></ul><p id="2a78" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">二:</p><ul class=""><li id="5a76" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">UI:一个区域，用户可以在其中提出后续问题并进行回答</li><li id="19fe" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">后端:向UI发送答案并提供下一个问题(如果有的话)的调用</li></ul><h2 id="0086" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">1.确定被调查者并获取信息</h2><p id="980d" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">通常，您会从会话中获取用户信息。这个PoC没有，所以我们需要创建一些替换功能。我做了一个框架，用户可以在那里输入姓名。该名称必须作为回答者存在于数据库中。如果是，则检索并显示以下文本:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/95db5f0f57d8a712228fe3e0fed8f46c.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*KrTc87I4ZBtW81LT-J-cPw.png"/></div></figure><p id="472a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用户按下提交按钮后会发生什么:</p><ul class=""><li id="d043" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">UI:调用ajax来检索响应者信息</li><li id="2d4e" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">后端:执行查询并返回结果</li><li id="e9d5" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">UI:呈现回答者信息(如果有)</li></ul><p id="4218" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了找到回答者，我使用以下查询:</p><pre class="mi mj mk ml gt mx my mz na aw nb bi"><span id="201f" class="ku kv iy my b gy nc nd l ne nf">MATCH (q:Question)&lt;-[:contains]-(loq:ListOfQuestions) <br/>WHERE loq.in_id={LoQID} <br/>WITH loq,q<br/>MATCH (r:Respondent) where r.name={RespondentName} <br/>OPTIONAL MATCH (r)-[rw:respondedWith]-&gt;(a:Answer)-[:isAnswerTo]-&gt;(q) RETURN r.in_id as RespondentID, <br/>       r.name as RespondentName, <br/>       count(rw) as QuestionsAnswered, <br/>       count(q) as TotalQuestions</span></pre><p id="8566" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该查询检索列表中的问题总数和该回答者给出的答案数，因此我们可以将此用于回答者信息中的文本。</p><h2 id="725c" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">2.获取并显示下一个问题</h2><p id="d3b6" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">当在步骤1中返回应答者时，可以进行新的调用来检索下一个问题。这样做需要两个参数:ListOfQuestionsID和RespondentID:</p><pre class="mi mj mk ml gt mx my mz na aw nb bi"><span id="36a0" class="ku kv iy my b gy nc nd l ne nf">MATCH (n:ListOfQuestions)-[:contains]-&gt;(q:Question),(r:Respondent) WHERE r.in_id={RespondentID} AND n.in_id={LoQID} and NOT (q)&lt;-[:isAnswerTo]-(:Answer)&lt;-[:respondedWith]-(r)<br/>WITH q,r<br/>ORDER BY q.order<br/>LIMIT 1<br/>MATCH (q:Question)&lt;-[:isAnswerTo]-(a:Answer)<br/>RETURN q as Question, COLLECT(a) as Answers</span></pre><p id="9044" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如您所见，该查询仅检索回答者尚未回答的问题列表中的第一个问题。以及这个问题的所有答案。</p><p id="0e38" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了显示下一个问题，我创建了一个视图。它返回问题的完整形式:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/76b2fabb09e61023af00821817682313.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*9Ne3inrXlk3kfph5hFTaaA.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">嘿，这个问卷是关于这些文章的吗？</figcaption></figure><p id="fb88" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">单击其中一个答案会将AnswerID设置为该答案。点击提交按钮将再次发送下一个问题的呼叫，这次是AnswerID…所以…</p><h2 id="f19d" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">存储答案</h2><p id="e1ee" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">…在下一次提问中，我们还有更多的事情要做。如果给出了答案，则需要将其存储在数据库中。这可以通过调用:</p><pre class="mi mj mk ml gt mx my mz na aw nb bi"><span id="dd20" class="ku kv iy my b gy nc nd l ne nf">MATCH (r:Respondent),(a:Answer) <br/>WHERE r.in_id={RespondentID} AND a.in_id={AnswerID} <br/>MERGE (r)-[:respondedWith]-&gt;(a)</span></pre><p id="8a28" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请注意，在检索到新的下一个问题之前做这件事<em class="mq">很重要，因为在进入下一个问题之前，同一个问题会出现两次。</em></p><p id="dcf0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">存储答案后，您的Neo4j数据将如下所示:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/b98d11866155af12f8478adac3ccc64b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*AziaWRPW2eVzLHaMK9LKKw.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">受访者“测试”喜欢该系列。是啊！:-)</figcaption></figure><h2 id="5c6e" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">无国籍的</h2><p id="7f74" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">由于模型和查询不需要存储状态，下一个问题可以随时加载。重启浏览器/设备并再次加载问卷将显示:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ni"><img src="../Images/340187166236b4251ad08f6c63b53cf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gedHUU_4I75YQzX5iSZM3g.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">代码是无状态的，所以下一个问题可以随时加载…</figcaption></figure><p id="c7b4" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成最后几个问题后，系统会通知您已经完成:</p><figure class="mi mj mk ml gt ip gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/28674e6f4280ba479a38ca563b70a1df.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*hgE3wBbZivupXWOHkpg0EQ.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">你完了！</figcaption></figure><h2 id="af69" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">为调查问卷添加的内容</h2><p id="5966" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">那么是什么使得这成为可能呢？我添加了以下内容:</p><ol class=""><li id="7783" class="ls lt iy jx b jy jz kc kd kg lu kk lv ko lw ks mg ly lz ma bi translated">数据库中的元模型和一些新内容(从低代码开发人员的角度创建所需的信息和行为)</li><li id="3e91" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks mg ly lz ma bi translated">一个具有3个功能的控制器:一个从不同的URL重定向，上面的2个ajax调用(从开发人员的角度执行行为)</li><li id="1845" class="ls lt iy jx b jy mb kc mc kg md kk me ko mf ks mg ly lz ma bi translated">一个框架和一个视图(收集和显示信息)</li></ol><p id="68e0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它不需要太多的编程就可以用于任何问题列表。不过，在未来的版本中，添加的四个文件可以整齐地打包在一个包中。</p><p id="b9ae" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">整理元模型需要小心和努力(见<a class="ae kt" href="https://medium.com/@stefan.dreverman/building-a-questionnaire-in-neo4j-part-2-3-a-static-list-7303839eee67" rel="noopener">问卷文章</a>)。一旦完成了这些，剩下的就很容易了，因为真正的工作在于何时/如何收集/显示信息。</p><h1 id="d0ab" class="nk kv iy bd kw nl nm nn kz no np nq lc nr ns nt lf nu nv nw li nx ny nz ll oa bi translated">结论</h1><p id="6c0b" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">由于这是一个概念验证，它还远远没有完成。虽然这是一个有趣的学习练习，引发了许多新问题。从这里可以做和探索很多事情。最重要的是，我想建立一个基于这些原则的实际平台，因为我已经看到它可以不费吹灰之力就非常强大。</p><p id="61e9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">总结一下我学到的东西:</p><h2 id="5534" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">Neo4j和低码是一对好姻缘</h2><p id="1633" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">Neo4j是用于低代码平台的非常好的候选。它的元模型的简单性很好地混合了它的可能性很好地混合了构建低代码平台所需的抽象和元模型。此外，Neo4j数据库的工具可以用于平台，因为它使用了简单而强大的Cypher查询语言。</p><p id="8c72" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我看来，一个采用Neo4j作为数据库的低代码平台将在通用性和实现速度方面击败竞争对手。</p><h2 id="ee1d" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">小枝和低码<strong class="ak">T3也是好姻缘！:-)</strong></h2><p id="a558" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">Twig的多功能性正是交付低代码平台所需的各种网页所需要的。</p><h2 id="f445" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">有趣:低代码和标准开发的混合体</h2><p id="2977" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">不喜欢低代码？没问题。考虑一下:可以采用本系列中的编程风格来形成低代码平台和普通编码的混合体。开发人员可以选择哪些部分用低代码编写，哪些部分用编程编写。这扩展了您的实现的“可配置性”和“设计速度”(或快速原型)。</p><p id="cd1f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">作为一名IT架构师，我非常喜欢这一点，因为它允许使用一套完整的工具和快速的信息分析进行快速原型开发！</p><h2 id="acb5" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">缺点</h2><p id="edef" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated"><strong class="jx iz">开源最坏情况场景— </strong>我选择Php/Symfony作为这个PoC的基础。同时，Neo4j已经升级到4.0。好事？不适用于php爱好者:升级到这个版本是不可能的，因为我用来与数据库通信的Graphaware客户端已经在Github中“存档”,这意味着它不会被更新。永远不会。然而，由于Graphaware是一家公司，它可能会有一个付费版本？</p><p id="e3c1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">功能模块还不是模块— </strong>是的，我知道。:-/对于问卷，我刚刚添加了一个Symfony控制器和几个模板。很快，但不是modulra。这些应该以某种方式在平台中以一种简洁的方式被导入和导出。</p><p id="c7b7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">建得太快了— 这并不奇怪，但绝对值得一提:这里面有很多缺陷。:PoC的构建没有考虑安全性、生产环境、会话/用户或国际化等因素。虽然有可能，但需要以此为基础建立一个网站。</p><h1 id="189f" class="nk kv iy bd kw nl nm nn kz no np nq lc nr ns nt lf nu nv nw li nx ny nz ll oa bi translated">后续步骤</h1><p id="c94b" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">如前所述，我下一步要做的事情之一是探索在本系列中展示的原则基础上构建一个低代码平台的可能性。从上面提到的缺点开始。也许用php/Symfony，但肯定用Neo4j和twig。</p><p id="3e27" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">任何方法都值得探索，因为它给作为架构师的我带来了好处，并且它可以给需要快速交付结果的开发团队带来优势。</p><p id="c84c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">希望这是一个有用的阅读，也是你的学习经历。如果你想进一步讨论这个话题，或者想和我一起建立，请留言。</p><p id="b611" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">编码快乐！</p><p id="279b" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">斯蒂芬</p></div></div>    
</body>
</html>