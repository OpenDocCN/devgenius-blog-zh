<html>
<head>
<title>BootstrapVue — Table Customizations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BootstrapVue —表定制</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/bootstrapvue-table-customizations-c351b927e239?source=collection_archive---------13-----------------------#2020-07-13">https://blog.devgenius.io/bootstrapvue-table-customizations-c351b927e239?source=collection_archive---------13-----------------------#2020-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4c44a673047ee0751d1530e0efbc8f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Mje-JKGodv6-wCqE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@bepnamanh?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">南安</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="30f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了制作好看的Vue应用，我们需要设计组件的样式。</p><p id="4049" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使我们的生活更容易，我们可以使用内置样式的组件。</p><p id="69e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们来看看如何定制表格内容。</p><h1 id="2fcd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">列组</h1><p id="1b7f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将表格列分组到列组中。</p><p id="6e80" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2383" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table :items="items"&gt;<br/>      &lt;template v-slot:table-colgroup="scope"&gt;<br/>        &lt;col<br/>          v-for="field in scope.fields"<br/>          :key="field.key"<br/>          :style="{ width: field.key === 'firstName' ? '120px' : '180px' }"<br/>        &gt;<br/>      &lt;/template&gt;<br/>    &lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="eeea" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      items: [<br/>        { firstName: "alex", lastName: "green" },<br/>        {<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="c0f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有填充<code class="fe mt mu mv mj b">table-colgroup</code>槽的<code class="fe mt mu mv mj b">col</code>组件来遍历字段。</p><p id="b981" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以用<code class="fe mt mu mv mj b">style</code>道具来设计每一列的样式。</p><h1 id="12e4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">忙碌状态</h1><p id="7b2a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe mt mu mv mj b">b-table</code>如果桌子忙，让我们传入<code class="fe mt mu mv mj b">busy</code>道具来标记桌子。</p><p id="0d30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，如果表很忙，我们可以显示一些内容。</p><p id="bff2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="876f" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table :items="items" busy&gt;<br/>      &lt;template v-slot:table-busy&gt;<br/>        &lt;div&gt;<br/>          &lt;b-spinner&gt;&lt;/b-spinner&gt;<br/>          &lt;strong&gt;Loading...&lt;/strong&gt;<br/>        &lt;/div&gt;<br/>      &lt;/template&gt;<br/>    &lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="84d2" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      items: [<br/>        { firstName: "alex", lastName: "green" },<br/>        {<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="8ea5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe mt mu mv mj b">b-table</code>上安装了<code class="fe mt mu mv mj b">busy</code>道具，并用一个微调器和“加载”文本填充了<code class="fe mt mu mv mj b">table-busy</code> slow。</p><p id="f575" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们将看到槽中的内容，而不是表的内容。</p><h1 id="e5e1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">自定义数据呈现</h1><p id="88bd" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用自定义的方式呈现数据。</p><p id="ce53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fbf5" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table :items="items"&gt;<br/>      &lt;template v-slot:cell(firstName)="data"&gt;{{ data.value }}&lt;/template&gt;</span><span id="8bd4" class="mn lc iq mj b gy ms mp l mq mr">&lt;template v-slot:cell(lastName)="data"&gt;<br/>        &lt;b&gt;{{ data.value }}&lt;/b&gt;<br/>      &lt;/template&gt;<br/>    &lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="60d6" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      items: [<br/>        { firstName: "alex", lastName: "green" },<br/>        {<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="8233" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们填充列的槽。</p><p id="e624" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe mt mu mv mj b">data</code>可以获得该列的数据。</p><p id="7d83" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">v-slot:cell(firstName)=”data”</code>获取<code class="fe mt mu mv mj b">firstName</code>属性并将其分配给<code class="fe mt mu mv mj b">data</code>。</p><p id="7bc4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">v-slot:cell(lastName)=”data”</code>对<code class="fe mt mu mv mj b">lastName</code>进行同样的操作。</p><p id="3568" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe mt mu mv mj b">value</code>属性有每个属性的值。</p><p id="dc4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们可以按照自己的方式呈现每一段数据。</p><p id="5226" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">data</code>上例中有许多属性。</p><p id="2bca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">index</code>有行号。</p><p id="f2f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">item</code>有每个条目的原始记录。</p><p id="7906" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">value</code>是给定键的值。</p><p id="ade9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">unformatted</code>在通过<code class="fe mt mu mv mj b">formatter</code>函数之前有原始值。</p><p id="96a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">field</code>有规范化的字段定义对象。</p><p id="1078" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe mt mu mv mj b">row-details</code>作用域插槽可见，则<code class="fe mt mu mv mj b">detailsShowing</code>为<code class="fe mt mu mv mj b">true</code>。</p><p id="ccd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以调用<code class="fe mt mu mv mj b">toggleDetails</code>来切换<code class="fe mt mu mv mj b">row-details</code>范围槽的可见性。</p><p id="8c14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果行被选中，则<code class="fe mt mu mv mj b">rowSelected</code>为<code class="fe mt mu mv mj b">true</code>。</p><p id="523d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">selectRow</code>调用时选择当前行。</p><p id="8227" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">unselectRow</code>调用时取消选择当前行。</p><h1 id="44d5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">显示原始HTML</h1><p id="8561" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以显示原始的HTML。</p><p id="589d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要做到这一点，我们只需用一个有<code class="fe mt mu mv mj b">v-html</code>指令的元素填充插槽。</p><p id="153f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fe74" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table :items="items"&gt;<br/>      &lt;template v-slot:cell(lastName)="data"&gt;<br/>        &lt;span v-html="data.value"&gt;&lt;/span&gt;<br/>      &lt;/template&gt;<br/>    &lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="90bc" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      items: [{ firstName: "alex", lastName: "&lt;b&gt;green&lt;/b&gt;" }]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="0eda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个span，它将<code class="fe mt mu mv mj b">v-html</code>指令设置为<code class="fe mt mu mv mj b">data.value</code>，其中包含了我们的<code class="fe mt mu mv mj b">lastName</code>值。</p><p id="203b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此HTML代码将在没有净化的情况下呈现。</p><p id="2572" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，我们必须小心，以免受到跨站点脚本攻击。</p><h1 id="d1bc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">格式化程序回调</h1><p id="230b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以添加一个格式化的to out <code class="fe mt mu mv mj b">fields</code>数组条目来格式化我们的单元格。</p><p id="a326" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dca0" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table :items="items" :fields="fields"&gt;&lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      fields: [<br/>        {<br/>          key: "name",<br/>          label: "Full Name",<br/>          formatter: "fullName"<br/>        }<br/>      ],<br/>      items: [<br/>        { firstName: "alex", lastName: "green" },<br/>        {<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  },<br/>  methods: {<br/>    fullName(value, key, item) {<br/>      return `${item.firstName} ${item.lastName}`;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="665a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe mt mu mv mj b">fullName</code>方法。</p><p id="9087" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它接受<code class="fe mt mu mv mj b">item</code>参数，该参数包含<code class="fe mt mu mv mj b">items</code>中的对象，并返回组合在一起的<code class="fe mt mu mv mj b">firstName</code>和<code class="fe mt mu mv mj b">lastName</code>属性。</p><p id="61ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它的名称被设置为我们字段的数组条目中的值<code class="fe mt mu mv mj b">formatter</code>。</p><p id="92e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，现在我们有了一个全名列，同时显示了两个字段的值。</p><p id="79af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b8b2" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table :items="items" :fields="fields"&gt;&lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      fields: [<br/>        {<br/>          key: "name",<br/>          label: "Full Name",<br/>          formatter(value, key, item) {<br/>            return `${item.firstName} ${item.lastName}`;<br/>          }<br/>        }<br/>      ],<br/>      items: [<br/>        { firstName: "alex", lastName: "green" },<br/>        {<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="9186" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将格式化的函数移到了<code class="fe mt mu mv mj b">fields</code>入口对象中，而不是放在<code class="fe mt mu mv mj b">methods</code>中。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/9778dae560d5decdf9383ed3a3e495ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IEH88C3XAlOgrC9O"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@rylouma?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Marylou Fortier </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="656b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="283b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用格式化的函数来格式化表格单元格。</p><p id="f2bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以用slots或raw HTML定制单元格布局和格式。</p><p id="fc58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将busy状态设置为在加载表数据时显示一些内容。</p></div></div>    
</body>
</html>