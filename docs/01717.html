<html>
<head>
<title>Johnson’s Algorithm Visually Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">约翰逊的算法形象地解释了</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/johnsons-algorithm-visually-explained-188dbd51ce5c?source=collection_archive---------2-----------------------#2020-07-10">https://blog.devgenius.io/johnsons-algorithm-visually-explained-188dbd51ce5c?source=collection_archive---------2-----------------------#2020-07-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3adb479bb89e8b48c9fc918e8c01e75c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4GUsDG0UiDHszGKgthZTw.jpeg"/></div></div></figure><p id="2404" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi kw translated"><span class="l kx ky kz bm la lb lc ld le di"> J </span> ohnson 的算法寻找有向图中所有顶点对之间的最短路径。它将负边权重转换为非负边链接。它通过使用贝尔曼-福特算法移除所有负权重来实现这一点。然后，它允许 Dijkstra 的算法用于新的图表。</p><p id="1120" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">先说个例子。由于这个图包含负边，Dijkstra 的算法还不能应用于它。首先，必须将边链接转换为包含非负数。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/893cc1995b406e3a83a5e29e1f65d6a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*k-s-BU-1QPQ0z7olUFY-4g.png"/></div></figure><p id="230a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">约翰逊的算法从选择一个源顶点开始。选择现有顶点的问题是，它可能无法到达图中的所有顶点。为了保证单个源顶点可以到达图中的所有顶点，引入了一个新的顶点。新的顶点 S 被引入到图中的所有顶点。尽管从源到每个顶点的权重并不重要，只要它们都是一致的，但是按照惯例，权重 0 被应用到来自源的每条边。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/01c5e644a248826acd9ca7fc8c24526e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*xJOMxfd38oSZl7p9W6rq6g.png"/></div></figure><p id="66e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Johnson 的算法计算从顶点 S 到图上所有顶点的最短路径。Johnson 的算法利用单源最短路径算法来获得新值。由于在有向图中有负的边权重，Bellman-Ford 是用来处理这种计算的算法。</p><p id="f8fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，所有出站边都按字母顺序记录在一个表中。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ll"><img src="../Images/7990d61cd024cf421ff3b1e791b7e67b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jXp5VyhHaTsqeytZJinJQ.png"/></div></div></figure><p id="5b87" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">到每个顶点的距离被初始化为无穷大，除了源顶点被初始化为 0。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/a3914b3c4dea95b2c7e418db1b171378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vFi_9HfOqP2njQ95uQi7Og.png"/></div></div></figure><p id="49b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">边缘按顺序放松。边 A-D，B-A，B-D，B-F，C-A，C-B，D-F，D-G，E-C，F-C，F-E 和 G-E 的当前距离为无穷大。如果你把任何一个数加到无穷大，这个数仍然是无穷大。从源顶点 S 开始的边的距离为 0 到 S，因此可以计算到 S 的距离。在第一次迭代中，边 S-A、S-B、S-C、S-D、S-E、S-F 和 S-G 是唯一重要的边。查看该图，从源到所有顶点的距离为 0。第一次迭代后所有顶点的前身是 s。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ln"><img src="../Images/dd3f69b4c55617b8e473bd215688c9a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l52Ghj2kjCrKxpJxhBNHug.png"/></div></div></figure><p id="a592" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">开始第二次迭代，所有的边再次放松。因为我有一篇关于贝尔曼-福特算法的详细文章，我们将快速浏览一下这个算法的贝尔曼-福特部分。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lo"><img src="../Images/fe69f66a4e26bd2f5715d354cf970be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lrLpnF0GUff1ASUdqd5QQ.png"/></div></div></figure><p id="6d1f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下表列出了第二次迭代后到每个顶点的最短距离。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/72ed2a379990730e7ff192e1f5836241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V5zJh6jx-KQjzUg9dmVgQQ.png"/></div></div></figure><p id="1ad3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可能已经注意到，从 S 直接计算的所有距离都不会改变，因此在第三次和后续迭代中，从 S 开始的边将不包括在表中。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lq"><img src="../Images/9fea93ade357969b8b8d299c9c170ed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BJFTlGiLDKebeL24ImQDqA.png"/></div></div></figure><p id="e180" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下表列出了第三次迭代后到每个顶点的最短距离。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lr"><img src="../Images/c0f2f2e3e016c32f1d5f351a0e794fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLOyA3KA_FGsBcoLh8DcXQ.png"/></div></div></figure><p id="7ec0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">贝尔曼-福特从第四次迭代开始。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/c0cbbf3c59a0aebf1bde6d74b1e5efaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kNBNohK3Ykq_JnM02xqOYg.png"/></div></div></figure><p id="c0df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下表列出了第四次迭代后到每个顶点的最短距离。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ls"><img src="../Images/d615f96716d0084ad0de4016ba7dae2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JLSsBVoNr5Z6In51HanXFg.png"/></div></div></figure><p id="e821" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">贝尔曼-福特从第五次迭代开始。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/68d8d80bc371ca98d3ba8e87a9852ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TaoHqLDVlw1vpcZqb1ap7Q.png"/></div></div></figure><p id="b0ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下表列出了第五次迭代后到每个顶点的最短距离。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lq"><img src="../Images/383a00610923d7cbd0d21807d2c987a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C7ff4pmaAMx8ZZM08Zfwyg.png"/></div></div></figure><p id="206e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在第五次迭代之后，没有变化，所以我们可以结束约翰逊算法的贝尔曼-福特部分。从顶点 S 到每个顶点的距离已经在图上更新。最初，到 S-A 的最短距离是 0，但运行贝尔曼-福特算法后，通过<br/> S-F-C-B-A 到 A 的最短距离是-9。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lt"><img src="../Images/b01e2683d7e41075b090860bb3f8ff09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*KE8QHetxmnQ9HjrGTWZakA.png"/></div></div></figure><p id="f154" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">源顶点对于这个例子的剩余部分是不必要的，所以我们将删除 S 和它的边。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/841669fe0c51e82b037b54eb14b395c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*mK9GPcRjqXRklw7oCgBHEA.png"/></div></figure><p id="c072" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，Johnson 的算法应用以下公式进行重新加权计算:</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/ca3f4eb527b38ba997d46affaadc6b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*4prZMQ9ggqUCT3LvjtyO3Q.png"/></div></figure><p id="70b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在英语中，新的长度(C'e)等于原来的长度(Ce)加上它尾巴的重量(p <em class="lw"> u </em>)减去它头的重量(p <em class="lw"> v </em>)。约翰逊的算法对每条边都这样做。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lq"><img src="../Images/2458e3425fa65ed5b38dbde7ab21a39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LznETBvxcLDp7PaqDTF0yA.png"/></div></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ln"><img src="../Images/a07ff9db482b4dd92dedddd9a8ca9c24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5d6Eae0XmsLmwDfCO7FxUQ.png"/></div></div></figure><p id="7740" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于 A-D，Johnson 的算法从其原始长度 11 开始，加上算法确定为-9 的尾部权重(A ),减去算法确定为-7 的头部权重(D)。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/cfda4e8a18f921a3be349137e60916be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*eiWUMbRr4V1co0uG2HyiqA.png"/></div></figure><p id="23f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对所有边缘重复该过程。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/009ccb732307853d3512bc5e9f2257bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*39Fu2exBYBSMIQwcG143jQ.png"/></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lz"><img src="../Images/5b76c5a825ca3dfc30d111a4fa4b7492.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpVjRo6Va8JvQmpF9d4rYw.png"/></div></div></figure><p id="2f91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">图表将使用新的权重进行更新。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/c8be96acef741cbf15a9cd67fdd6e5e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XAV_-ty6fsWCy8tIMcURhA.png"/></div></div></figure><p id="efb3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在所有的权重都是非负的，Dijkstra 的算法可以应用到每个顶点来计算所有的最短路径。请参阅我关于 Dijkstra 算法的文章，了解它的实际应用。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="0723" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">如果你喜欢你所读的，看看我的书，</em><a class="ae mi" href="https://www.amazon.com/Illustrative-Introduction-Algorithms-Dino-Cajic-ebook-dp-B07WG48NV7/dp/B07WG48NV7/ref=mt_kindle?_encoding=UTF8&amp;me=&amp;qid=1586643862" rel="noopener ugc nofollow" target="_blank"><em class="lw"/></a><em class="lw">算法说明性介绍。</em></p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6d5d4960ecf7a1e260a1a66ce6f5dd60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RtWvOcRWVGpMOcZP.jpeg"/></div></div></figure><p id="696c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡希奇目前是<a class="ae mi" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(寿命生物科学公司)</a>、<a class="ae mi" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae mi" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae mi" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物科技</a>、<a class="ae mi" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae mi" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank">艾阿尔法</a>的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="beb3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae mi" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae mi" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae mi" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="da36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">阅读迪诺·卡吉克(以及媒体上成千上万的其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。T9】</p></div></div>    
</body>
</html>