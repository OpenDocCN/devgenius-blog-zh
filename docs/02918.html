<html>
<head>
<title>QUARKUS: Container Native Java Apps in 5mins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">QUARKUS:在 5 分钟内容器原生 Java 应用</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/quarkus-container-native-java-apps-in-5mins-1a374705e72f?source=collection_archive---------4-----------------------#2020-09-11">https://blog.devgenius.io/quarkus-container-native-java-apps-in-5mins-1a374705e72f?source=collection_archive---------4-----------------------#2020-09-11</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div class="gi gj jo"><img src="../Images/fa522f3a15dcae0dfcea6ea46291a01e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*YNVz1p7jte1TQkps42S0tA.jpeg"/></div><figcaption class="jv jw gk gi gj jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com/@erickzajac?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">埃里克·扎亚茨</a>在<a class="ae jz" href="https://unsplash.com/photos/PssemCRAQLQ?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="4431" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi ky translated">当你想到原生 Java 应用时，你会想到一个可执行的 jar，自从 Google 开始索引我们，我指的是 web 以来，情况一直如此。有大量的平台和框架可以让你快速地编写 java 应用程序，Quarkus 就是其中之一。但是夸库斯也不止如此。您专注于解决问题，而 Quarkus 会做所有其他事情，包括管理依赖关系、捆绑和构建您选择的本机映像。所以一旦你写完了你的应用程序，理论上你应该能够在 Docker 容器中运行它。所以让我们看看它是否有效。</p><p id="2a36" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated"><strong class="kc is">第 1 步</strong>:转到<a class="ae jz" href="https://code.quarkus.io" rel="noopener ugc nofollow" target="_blank"> https://code.quarkus.io </a>，如果你用过 Spring Initializr，这个差不多。填写信息，选择您需要的扩展，我将创建一个名为“<strong class="kc is"> hello-quarkus </strong>的工件，并选择 RESTEasy、Docker 并单击“生成您的应用程序”，然后直接将应用程序推送到 github(我更喜欢这个选项)，您也可以以 zip 文件的形式下载它。</p><p id="7eb0" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated"><strong class="kc is">第二步</strong>:昂首阔步，勇往直前。您可以开始构建您的应用程序。我不打算在这里做任何花哨的事情，让默认应用程序保持原样。</p><figure class="lh li lj lk gu js"><div class="bz fq l di"><div class="ll lm l"/></div></figure><p id="a3be" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">转到您的应用程序所在的文件夹并运行</p><blockquote class="ln lo lp"><p id="c05a" class="ka kb lq kc b kd ke kf kg kh ki kj kk lr km kn ko ls kq kr ks lt ku kv kw kx ik bi translated"><code class="fe lu lv lw lx b">./mvnw compile quarkus:dev</code></p></blockquote><p id="9002" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">这将在开发模式下启动应用程序，您可以在构建的同时开始测试。在这种模式下，Quarkus 将热部署您的更改。</p><p id="a2f4" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated"><strong class="kc is">步骤 3 </strong>:让我们用一个容器运行时来打包我们的 hello API，我这里用的是 docker，我要指定它。</p><blockquote class="ln lo lp"><p id="550b" class="ka kb lq kc b kd ke kf kg kh ki kj kk lr km kn ko ls kq kr ks lt ku kv kw kx ik bi translated">。/mvnw package-PNA native-dquarkus . native . container-runtime = docker</p></blockquote><p id="42bb" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">这一步成功完成后，运行以下命令来构建 docker 映像。</p><blockquote class="ln lo lp"><p id="48a6" class="ka kb lq kc b kd ke kf kg kh ki kj kk lr km kn ko ls kq kr ks lt ku kv kw kx ik bi translated">docker build-f src/main/docker/docker file . native-t hello-quar kus。</p></blockquote><p id="a0cb" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">理论上，当这个完成后，您就有了一个容器化的 hello API。</p><p id="ee6a" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated"><strong class="kc is">第四步</strong>:启动 Docker 镜像，测试 API。</p><blockquote class="ln lo lp"><p id="397a" class="ka kb lq kc b kd ke kf kg kh ki kj kk lr km kn ko ls kq kr ks lt ku kv kw kx ik bi translated">docker run-I-RM-p 8080:8080 hello-quarkus</p></blockquote><figure class="lh li lj lk gu js gi gj paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gi gj ly"><img src="../Images/0591aea509a1022e346db8b5f33bb48c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xgRHJ77BL864aos_pXMKww.png"/></div></div></figure><p id="a7dc" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">使用 Postman 或浏览器访问位于<a class="ae jz" href="http://localhost:8080/hello" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/hello</a>的 hello api，您应该会得到一个问候的响应。</p><figure class="lh li lj lk gu js gi gj paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gi gj md"><img src="../Images/3936d37b4e63dbc29d437d53f6fefe21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n7Pq4drx24Nw7sQF_GFTVQ.png"/></div></div></figure><p id="2ac0" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">步骤 5 :现在让我们更进一步，创建一个 Docker 服务，并尝试扩展我们的 hello API。“published”是 docker 将对外公开服务的端口，target 是 hello API 在容器中公开的端口。</p><figure class="lh li lj lk gu js gi gj paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gi gj me"><img src="../Images/f902601760af41af8a79ce439584e0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-G_3ser81VPi31KczAVBNQ.png"/></div></div></figure><p id="c050" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">这将在端口 8080 上启动我们的 hello API 的两个副本。使用下面的链接，你可以看到它是如何愈合和扩展的。</p></div><div class="ab cl mf mg hv mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ik il im in io"><p id="736f" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">只需 5 个步骤，您就可以立即编写出一个自动修复的可伸缩 API。Quarkus 支持大量的扩展，包括 openshift 到 aws lamba 到 hibernate 等等。它的美妙之处在于，您可以专注于解决您的业务问题，而 Quarkus 会做其他一切事情。</p><p id="650c" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">如果您时间紧迫，需要构建一个容器或平台原生服务，那么 Quarkus 是最好的解决方案之一。</p></div><div class="ab cl mf mg hv mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ik il im in io"><p id="3794" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">[1]自愈，【https://www.youtube.com/watch?v=CokSeoeZM04】T2</p><p id="cb9b" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">[2]缩放，【https://www.youtube.com/watch?v=34EKPJ9ovXg】T4</p></div></div>    
</body>
</html>