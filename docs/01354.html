<html>
<head>
<title>Navigating React Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">导航反应路由器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/navigating-react-router-9f74c4c2df4c?source=collection_archive---------1-----------------------#2020-07-01">https://blog.devgenius.io/navigating-react-router-9f74c4c2df4c?source=collection_archive---------1-----------------------#2020-07-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ce89" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用react-router-dom更改URL路径并呈现组件</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a735aefe64b08e6d8e6ea79ee8950913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jDXnr7qtHjOohRbV"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@leliejens?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Jens Lelie </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9e71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">react-router-dom包非常适合基于url路径呈现不同的react组件。因此，React组件可以通过更改url路径来引导其他组件。本文涵盖了我们可以轻松做到这一点的方法，但首先它可能有助于快速了解React路由器的基础知识。</p><h1 id="7f3e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">React路由器基础知识</h1><p id="b9ac" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，我们使用下面的命令在react应用程序中安装这个包:<code class="fe mp mq mr ms b">npm i react-router-dom</code>。现在，我们可以将react-router-dom中的工具导入到我们计划使用它们的任何组件中。我用命令从我的‘app . js’文件中的react-router-dom导入三个工具:<code class="fe mp mq mr ms b">import { BrowserRouter, Route, Switch } from ‘react-router-dom’;</code>。现在我可以访问一个<code class="fe mp mq mr ms b">&lt;BrowserRouter&gt;</code>组件、一个<code class="fe mp mq mr ms b">&lt;Route/&gt;</code>组件和一个<code class="fe mp mq mr ms b">&lt;Switch&gt;</code>组件。BrowserRouter包围其他组件，并使它们与url保持同步。切换组件确保将呈现匹配url位置的第一个路由组件子组件。</p><p id="dfde" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">路由组件至少需要一个属性，即“路径”属性。当Route组件与url路径匹配时，它将呈现。当路由路径与url路径匹配时，我们有两种方法来确定呈现的内容；我们可以为Route提供一个“组件”属性，或者我们可以将组件标签嵌套在开始和结束Route标签中。我们用路线渲染的任何组件都必须被导入。下面是这三个react-router-dom组件一起工作的例子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/f3bde8be0b1fe843cbd0287d2102dede.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lQJ6fsuTZ5H_SQuv8t33XA.png"/></div></div></figure><p id="a37c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有各种各样的react-router-dom组件，但是这三个都工作得很好。如果您是react-router-dom的新手，这里是一个很好的起点，可以帮助您了解可用的组件和工具。</p><div class="mu mv gp gr mw mx"><a href="https://reacttraining.com/react-router/web/guides/quick-start" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">React路由器:React的声明式路由</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">学习一次，路线无处不在</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">reacttraining.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl kp mx"/></div></div></a></div><p id="d502" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们知道了React路由器如何基于url路径呈现不同的组件，是时候讨论如何导航这些url路径以从一个组件到达下一个组件了。</p><h1 id="23e9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">改变路径</h1><p id="2834" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">react-router-dom为我们提供了几种方法。</p><h2 id="7c5c" class="nm lt iq bd lu nn no dn ly np nq dp mc lf nr ns me lj nt nu mg ln nv nw mi nx bi translated">链接标签</h2><p id="74e2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以导入一个<code class="fe mp mq mr ms b">&lt;Link&gt;</code>标签；它需要一个“to”属性，这是我们要更改的url路径。在链接标签中，我们包含了将作为链接的任何元素。链接标签必须在BrowserRouter内。这个工具对于简单的应用程序来说工作得很好，但是对于更大、更复杂的React应用程序来说效率很低。</p><h2 id="06b3" class="nm lt iq bd lu nn no dn ly np nq dp mc lf nr ns me lj nt nu mg ln nv nw mi nx bi translated">推送至浏览器历史记录</h2><p id="6e10" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我首选的导航url路径的方法是使用react-router-dom提供的“历史”对象。如果我们直接从一个Route标记中的一个组件导航，该组件已经可以访问history对象。另一方面，如果我们的组件没有直接嵌套在路由标签中，或者甚至位于BrowserRouter之外，那么我们必须调用‘with router’来赋予我们改变历史的能力！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="5d15" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这不是DeLorean，但是“withRouter”确实给了我们改变浏览器历史的能力。无论我们在何处发现BrowserRouter影响之外的组件，我们都可以通过从react-router-dom导入withRouter来赋予它历史对象。“withRouter”是一个高阶组件，所以我们将组件包装在它里面，如下所示:<code class="fe mp mq mr ms b">export default withRouter(MovieCard);</code>。</p><p id="2946" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦我们知道我们的组件可以访问“历史”对象，就该访问历史，并最终使用它来更改url路径。如果组件是一个类组件，我们用<code class="fe mp mq mr ms b">this.props.history</code>访问历史，而不是用<code class="fe mp mq mr ms b">props.history</code>访问功能组件的历史。history对象有一个“push”方法，该方法将目标路径作为参数。</p><p id="5ebe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个工具的最大好处是我们可以把它放在任何需要的地方，而不用在不必要的标签中嵌套任何东西。一个用例可能是我们有一个出现在每一页的菜单。该菜单将位于浏览器之外，因为它的出现与url路径无关。我们的菜单项需要更改url路径并呈现不同的组件。下面是一个带有“onClick”属性的“登录”菜单项的示例，该属性可推送历史记录:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/44a1b67229775a54f1789c75c765cb92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TwmgrXw2E6_FR2_V1fsiwQ.png"/></div></div></figure><p id="7ecd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢react-router-dom提供的工具，我们可以基于url路径呈现组件，并从react应用程序中的任何组件更改url路径。</p><div class="mu mv gp gr mw mx"><a href="https://www.npmjs.com/package/react-router-dom" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">反应-路由器-dom</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">React路由器的DOM绑定。$ NPM install-save react-router-DOM然后用一个像webpack这样的模块捆绑器，用作…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.npmjs.com</p></div></div><div class="ng l"><div class="ob l ni nj nk ng nl kp mx"/></div></div></a></div><div class="mu mv gp gr mw mx"><a href="https://reacttraining.com/react-router/web/api/withRouter" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">React路由器:React的声明式路由</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">学习一次，路线无处不在</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">reacttraining.com</p></div></div><div class="ng l"><div class="oc l ni nj nk ng nl kp mx"/></div></div></a></div></div></div>    
</body>
</html>