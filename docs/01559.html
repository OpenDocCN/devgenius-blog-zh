<html>
<head>
<title>JavaScript Problems — Bootstrap Modal, Padding Strings, and Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript 问题—引导模式、填充字符串和函数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/javascript-problems-bootstrap-modal-padding-strings-and-functions-9383ee9ae703?source=collection_archive---------20-----------------------#2020-07-06">https://blog.devgenius.io/javascript-problems-bootstrap-modal-padding-strings-and-functions-9383ee9ae703?source=collection_archive---------20-----------------------#2020-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4d46a12d2294b55350205aa861ed1772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RcO6rne8fw3JfBn_"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@meghankannan4?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">梅格·坎南</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="5029" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，当我们编写 JavaScript 应用程序时，有一些困难的问题需要解决。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究一些常见 JavaScript 问题的解决方案。</p><h1 id="17eb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在打开时动态设置引导模式的内容</h1><p id="1247" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以监听用于打开模态的按钮的 click 事件。</p><p id="7b29" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在监听器回调中，我们可以设置我们想要的内容。</p><p id="d0ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0386" class="mn lc iq mj b gy mo mp l mq mr">$(document).on("click", ".open-modal", function () {<br/>  const myBookId = $(this).data('id');<br/>  $(".modal-body #bookId").val( myBookId );<br/>  $('#dialog').modal('show');<br/>});</span></pre><p id="dc2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么带有<code class="fe ms mt mu mj b">open-modal</code>类的元素就是我们用来打开引导程序的元素，看起来像这样:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d8d3" class="mn lc iq mj b gy mo mp l mq mr">&lt;a data-toggle="modal" data-id="123" class="open-modal btn btn-primary" href="#"&gt;open modal&lt;/a&gt;</span></pre><p id="02ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在回调中，我们用<code class="fe ms mt mu mj b">data</code>方法获得了<code class="fe ms mt mu mj b">data-id</code>属性的值。</p><p id="b72d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">'id'</code>是不带<code class="fe ms mt mu mj b">data-</code>前缀的属性名。</p><p id="d75a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将值设置为我们想要的值。</p><p id="f2d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe ms mt mu mj b">modal</code>方法显示模态对话框。</p><h1 id="56d7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用 JavaScript 检测退出键的按下</h1><p id="2c2d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过监听<code class="fe ms mt mu mj b">keydown</code>事件来检测 escape 按键，方法是给它附加一个监听器。</p><p id="4a80" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a896" class="mn lc iq mj b gy mo mp l mq mr">document.onkeydown = (evt) =&gt; {<br/>  const isEscape = (evt.key === "Escape" || evt.key === "Esc");<br/>  //....<br/>};</span></pre><p id="adf2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们键入<code class="fe ms mt mu mj b">key</code>属性的值，根据浏览器的不同，可以是<code class="fe ms mt mu mj b">'Escape'</code>或<code class="fe ms mt mu mj b">'Esc'</code>。</p><p id="cfb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe ms mt mu mj b">isEscape</code>是<code class="fe ms mt mu mj b">true</code>的话，我们可以做一些事情。</p><h1 id="5bf7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">如何输出带前导零的数字</h1><p id="4819" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以调用<code class="fe ms mt mu mj b">padStart</code>在一个字符串前添加零，直到该字符串满足给定的长度。</p><p id="aef6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d001" class="mn lc iq mj b gy mo mp l mq mr">str.padStart(5, '0')</span></pre><p id="a874" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，前导零将被添加到字符串中，直到<code class="fe ms mt mu mj b">str</code>为 5 个字符长。</p><h1 id="51b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用一个选择器切换多个元素</h1><p id="2cb2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用 jQuery <code class="fe ms mt mu mj b">fadeToggle</code>方法用给定的 select 同时切换多个元素。</p><p id="f2f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8279" class="mn lc iq mj b gy mo mp l mq mr">$('div').fadeToggle('fast');</span></pre><p id="da74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将所有 div 元素切换到淡入淡出效果。</p><h1 id="d85d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将数组元素从一个数组位置移动到另一个位置</h1><p id="589d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要将一个数组元素从一个数组位置移动到另一个位置，我们可以使用<code class="fe ms mt mu mj b">splice</code>方法来完成。</p><p id="42c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d32e" class="mn lc iq mj b gy mo mp l mq mr">const move = (arr, fromIndex, toIndex) =&gt; {<br/>  const element = arr[fromIndex];<br/>  arr.splice(fromIndex, 1);<br/>  arr.splice(toIndex, 0, element);<br/>}</span></pre><p id="58e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过使用<code class="fe ms mt mu mj b">fromIndex</code>来获取元素。</p><p id="784f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们使用<code class="fe ms mt mu mj b">splice</code>方法从现有索引中删除该元素。</p><p id="12e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以在我们想要的索引处插入元素，方法是用<code class="fe ms mt mu mj b">toIndex</code>调用<code class="fe ms mt mu mj b">splice</code>在那里插入一个项目，0 表示我们不删除任何东西，而<code class="fe ms mt mu mj b">element</code>是我们正在插入的元素。</p><p id="df7f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">element</code>之后的项目会自动移过去。</p><h1 id="628d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">遍历一个 JSON 数组</h1><p id="ec8b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们想迭代一个 JSON 数组，我们应该用<code class="fe ms mt mu mj b">JSON.parse</code>将字符串解析成一个 JavaScript 数组。</p><p id="cfed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用 for-of 循环遍历它。</p><p id="333c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="90f3" class="mn lc iq mj b gy mo mp l mq mr">for (const car of cars) {<br/>  console.log(car.name);<br/>}</span></pre><h1 id="0b6f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">从抛出的异常中获取堆栈跟踪</h1><p id="254b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">堆栈跟踪在<code class="fe ms mt mu mj b">Error</code>实例的<code class="fe ms mt mu mj b">stack</code>属性中。</p><p id="67b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c192" class="mn lc iq mj b gy mo mp l mq mr">const err = new Error();</span></pre><p id="e6d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下内容来获得堆栈跟踪:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="eec5" class="mn lc iq mj b gy mo mp l mq mr">err.stack;</span></pre><p id="73e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用<code class="fe ms mt mu mj b">console.trace</code>方法来获取堆栈跟踪。</p><p id="9b2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以把它放在任何地方来获得堆栈跟踪。</p><h1 id="c2d7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">“箭头功能”和“功能”是否等价/可互换</h1><p id="eae7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">箭头函数和函数是不等价或不可交换的。</p><p id="1e13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">箭头函数是具有特殊特征的 JavaScript 函数的子集。</p><p id="a0af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们没有自己的<code class="fe ms mt mu mj b">this</code>值。</p><p id="d3e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们也不绑定到<code class="fe ms mt mu mj b">arguments</code>对象。</p><p id="cbf3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，它们不能用作构造函数，因为它们没有绑定到自己的值<code class="fe ms mt mu mj b">this</code>。</p><p id="00bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，它们也不能用作实例方法。</p><p id="0f26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">常规函数绑定到自己的值<code class="fe ms mt mu mj b">this</code>。</p><p id="f8dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们也绑定到<code class="fe ms mt mu mj b">arguments</code>对象。</p><p id="dbd1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且它们可以被用作构造函数。</p><p id="8dd5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">箭头功能是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7c0d" class="mn lc iq mj b gy mo mp l mq mr">const foo = () =&gt; {<br/>  //...<br/>}</span></pre><p id="3eb6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而常规函数有<code class="fe ms mt mu mj b">function</code>关键字:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="24b5" class="mn lc iq mj b gy mo mp l mq mr">function foo(){<br/>  //...<br/>}</span></pre><p id="1e01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3eba" class="mn lc iq mj b gy mo mp l mq mr">function Foo(){<br/>  //...<br/>}</span></pre><p id="5362" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于构造函数。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/15933c97f0f57066e3e107ca58a2640a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FSw2hRv1n4rWvUfA"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">托马斯·博诺梅蒂在 Unsplash 上的照片</figcaption></figure><h1 id="0e65" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="5263" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以打开 Bootstrap 模型并用它设置数据。</p><p id="15e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">箭头函数和函数是不等价的。</p><p id="9696" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe ms mt mu mj b">splice</code>将一个项目从一个索引移动到另一个索引。</p><p id="9927" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">for-of 循环非常适合循环遍历项目。</p></div></div>    
</body>
</html>