<html>
<head>
<title>3 Tips To Avoid Bad Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">避免不良代码的 3 个技巧</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/3-tips-to-avoid-bad-code-7e25fe8e24c7?source=collection_archive---------4-----------------------#2021-01-23">https://blog.devgenius.io/3-tips-to-avoid-bad-code-7e25fe8e24c7?source=collection_archive---------4-----------------------#2021-01-23</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="84f1" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">你不知道的坏代码</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/3e23d59237f82f798554b89c54e5139a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AA-nrEbMcSwWDy43"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">布里塔尼·伯恩斯在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="3690" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">我们都写过糟糕的代码。截止日期越来越近，经理们四处追逐我们。我们忽略边缘情况，我们不测试代码。</strong></p><blockquote class="lt lu lv"><p id="3d77" class="kx ky lw kz b la lb js lc ld le jv lf lx lh li lj ly ll lm ln lz lp lq lr ls ik bi translated">你是不是陷入这种境地了？</p></blockquote><p id="be85" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我写了几十万行 Java 代码，读了两倍。即使有这样的经历，糟糕的代码似乎总能找到自己的出路。</p><p id="d167" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们追捕臭虫，不考虑后果。编写未经测试且难以维护的代码每天都在发生。</p><p id="7b7d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我收集了三个关于如何对抗不良代码的技巧。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><h1 id="dad5" class="mh mi ir bd mj mk ml mm mn mo mp mq mr jx ms jy mt ka mu kb mv kd mw ke mx my bi translated">你写可扩展的代码吗？</h1><p id="aab1" class="pw-post-body-paragraph kx ky ir kz b la mz js lc ld na jv lf lg nb li lj lk nc lm ln lo nd lq lr ls ik bi translated">人们应该始终牢记<a class="ae kw" href="https://drive.google.com/file/d/0BwhCYaYDn8EgN2M5MTkwM2EtNWFkZC00ZTI3LWFjZTUtNTFhZGZiYmUzODc1/view" rel="noopener ugc nofollow" target="_blank">开合原理</a>。您应该始终创建泛型类。根据您的特定需求创建扩展后。</p><blockquote class="ne"><p id="89ac" class="nf ng ir bd nh ni nj nk nl nm nn ls dk translated">它们是“开放扩展”的。<br/>这意味着模块的行为可以扩展。随着应用程序需求的变化，或者为了满足新应用程序的需求，我们可以使模块以新的和不同的方式运行。</p><p id="ee8a" class="nf ng ir bd nh ni nj nk nl nm nn ls dk translated">它们“关闭以进行修改”。这样一个模块的源代码是不可侵犯的。不允许任何人对它进行源代码更改。罗伯特·马丁</p></blockquote><p id="c5d8" class="pw-post-body-paragraph kx ky ir kz b la no js lc ld np jv lf lg nq li lj lk nr lm ln lo ns lq lr ls ik bi translated">我们常犯的一个错误是创建特定的代码。这导致了重复和难以维护。</p><p id="25d5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">一个例子是创建客户处理程序。假设我们需要对不同类型的客户应用折扣。</p><p id="3656" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">虚拟方法是为每个客户创建特定的方法。更好的方法是基于客户类型创建通用处理程序。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><h1 id="fc03" class="mh mi ir bd mj mk ml mm mn mo mp mq mr jx ms jy mt ka mu kb mv kd mw ke mx my bi translated">你写可测试的代码吗？</h1><p id="810f" class="pw-post-body-paragraph kx ky ir kz b la mz js lc ld na jv lf lg nb li lj lk nc lm ln lo nd lq lr ls ik bi translated">可测试的代码对于避免错误是至关重要的。坏代码存在于不可测试的代码中。</p><p id="027d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">编写小函数，没有任何副作用，导致可测试的代码。将思维块提取到函数中，并给它们取一个有意义的名字。</p><p id="aff5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了更好地测试代码，编写纯函数。<a class="ae kw" href="https://en.wikipedia.org/wiki/Pure_function" rel="noopener ugc nofollow" target="_blank">纯函数</a>是没有任何副作用的函数。这些函数不改变输入参数，总是产生新的值。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><p id="983e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">让我们尝试开发一个函数，将 CSV 单元格解析为链接，并从这些链接下载图像。</p><p id="ce45" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">函数错误命名的一个例子是:</p><pre class="kh ki kj kk gu nt nu nv nw aw nx bi"><span id="ec2c" class="ny mi ir nu b gz nz oa l ob oc">convertCSVToImages(filePath) { ... }</span></pre><p id="1153" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">想象一下测试这个方法。什么会出错？会有多少副作用？这个方法实际上是做什么的？</p><p id="a677" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">函数的良好命名示例如下:</p><pre class="kh ki kj kk gu nt nu nv nw aw nx bi"><span id="f0d5" class="ny mi ir nu b gz nz oa l ob oc">readCSV(filePath) {...}</span><span id="cd9a" class="ny mi ir nu b gz od oa l ob oc">getLinksFromColumn(column, cells) {...}</span><span id="ecdf" class="ny mi ir nu b gz od oa l ob oc">downloadImages(links, downloadPath) {...}</span></pre><p id="c814" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">将功能分解成更小的部分要好得多</strong>。你现在可以把它放在你的脑海里，因为它的尺寸变小了。</p><p id="f573" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">测试变得更容易，因为你不必担心副作用。由于您使用的是小函数，测试有时是不必要的。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><p id="b0c7" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">写完可测试的代码后，测试它。尝试所有可能的场景，用单元测试和集成测试进行测试。<a class="ae kw" href="https://medium.com/javascript-scene/behavior-driven-development-bdd-and-functional-testing-62084ad7f1f2" rel="noopener">行为测试</a>可以作为测试工具提供帮助。</p><p id="4e4f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">创建一个可测试的代码将会提高你的编码技能。</strong>涵盖所有场景，包括正面和负面的，你将减少科技债务。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><p id="7269" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">测试如何减少未完成的工作？简单。您为所有可能的流程创建测试。你需要写代码让它们通过。</p><p id="36d1" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">测试软件意味着创建文档。测试应作为文件。通过查看测试，任何人都可以看到你在做什么。这样你就可以确定代码是完整的。</p><p id="a05d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">BDD 是进行开发的另一种方式。您定义代码需要满足的行为。</p><p id="a7bd" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">行为测试类似于集成测试。使用 Gherkin 语法，您可以创建场景。场景包含步骤，这些步骤在解析时执行代码。</p><p id="0f65" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">有了定义的票证，您可以提前获得接受标准。使用这些来创建您的测试。</p><p id="f343" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">编写测试增加了更多的代码价值。你看到的是小细节，没有测试是看不到的。BDD 清理代码，删除死代码，留下漂亮的文档。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><h1 id="4ccb" class="mh mi ir bd mj mk ml mm mn mo mp mq mr jx ms jy mt ka mu kb mv kd mw ke mx my bi translated">你了解你自己的代码吗？</h1><p id="136d" class="pw-post-body-paragraph kx ky ir kz b la mz js lc ld na jv lf lg nb li lj lk nc lm ln lo nd lq lr ls ik bi translated">复杂的代码会导致混乱。确定你输入的内容，并准备好简单地解释它。</p><p id="9b4c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">先给自己解释一下解决方案。我为什么要那样做？会有延期的可能吗？这种方法可能的论据是什么？</strong></p><p id="bba8" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我在编写复杂代码时遵循的一个标准是<a class="ae kw" href="https://en.wikipedia.org/wiki/Cyclomatic_complexity" rel="noopener ugc nofollow" target="_blank">圈复杂度</a>。Complexity 做静态分析，考虑所有可能的流程。拥有大量 if 分支会增加度量。</p><p id="ba92" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><a class="ae kw" href="https://levelup.gitconnected.com/3-code-metrics-every-great-developer-must-measure-499b0b2b31ad" rel="noopener ugc nofollow" target="_blank">阅读更多关于指标的信息</a>。</p><p id="ffc3" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">避免分支的一个简单技巧是创建一个通用的解决方案。然后指定。这将根除 if 分支。如果你有很多 if 分支，这是适用的。</p><p id="ac5d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">对于更大的逻辑块，使用<a class="ae kw" href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)" rel="noopener ugc nofollow" target="_blank">多态</a>会有所帮助。创建一个通用接口，然后针对特定场景实现它。这将分解代码，使其更易于阅读和测试。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><h1 id="a2a6" class="mh mi ir bd mj mk ml mm mn mo mp mq mr jx ms jy mt ka mu kb mv kd mw ke mx my bi translated">额外收获:你得到代码评审评论了吗？</h1><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj oe"><img src="../Images/ebccf2294609d12108447cbc7ff3cd56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*HFjX6rGG5DUnAjT4.png"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="http://reviewthecode.blogspot.com/2016/01/wtf-per-minute-actual-measurement-for.html" rel="noopener ugc nofollow" target="_blank">http://reviewthecode . blogspot . com/2016/01/wtf-per-minute-actual-measurement-for . html</a></figcaption></figure><p id="afd9" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">给你一个额外的提示，因为你已经通读了整篇文章。</p><p id="567c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">正如链接文章所说，<strong class="kz is"> wtf /min </strong>是代码质量的度量。度量随着复杂代码而增加。确保你的代码简单，并且有好的命名。</p><p id="c8c7" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><a class="ae kw" href="https://levelup.gitconnected.com/how-to-become-a-high-quality-code-reviewer-230b007ea339" rel="noopener ugc nofollow" target="_blank">阅读更多关于更好的代码评审的</a>。</p><p id="ed1b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">与团队成员讨论其中的逻辑。您可以在代码审查期间对不清楚的代码进行评论。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><p id="8f78" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">审查代码。审查代码让你意识到。意识到整个环境。</p><p id="6d9b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">假设您正在处理结账流程。您需要获取当前用户。您创建了一个获取当前用户的方法。</p><p id="49f5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这是常见的逻辑。在你之前有人实现了这个。可能在一个共享模块中，供您使用。</p><p id="1d65" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">做代码审查，留下不好的代码。代码审查使您的代码更加整洁，有助于知识的转移，并提高项目意识。</p></div><div class="ab cl ma mb hv mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ik il im in io"><p id="c332" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">感谢阅读！相关文章:</p><div class="of og gq gs oh oi"><a href="http://reviewthecode.blogspot.com/2016/01/wtf-per-minute-actual-measurement-for.html" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd is gz z fq on fs ft oo fv fx iq bi translated">每分钟 WTF 代码质量的实际度量</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">汽车有 MPH(英里每小时)来衡量它们行驶的速度。车越好，时速就越快，或者…</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">reviewthecode.blogspot.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow kq oi"/></div></div></a></div><div class="of og gq gs oh oi"><a href="https://medium.com/better-programming/3-tips-to-become-a-better-code-reader-c84fcb4cedc3" rel="noopener follow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd is gz z fq on fs ft oo fv fx iq bi translated">成为更好的代码阅读者的 3 个技巧</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">阅读代码和编写代码一样重要。以下是如何成为一个更好的读者</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">medium.com</p></div></div><div class="or l"><div class="ox l ot ou ov or ow kq oi"/></div></div></a></div><div class="of og gq gs oh oi"><a href="https://levelup.gitconnected.com/how-to-become-a-high-quality-code-reviewer-230b007ea339" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd is gz z fq on fs ft oo fv fx iq bi translated">如何成为一名高质量的代码评审员</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">下面是您应该为质量代码审查做的事情</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">levelup.gitconnected.com</p></div></div><div class="or l"><div class="oy l ot ou ov or ow kq oi"/></div></div></a></div><div class="of og gq gs oh oi"><a href="https://levelup.gitconnected.com/3-code-metrics-every-great-developer-must-measure-499b0b2b31ad" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fp"><div class="ok ab ol cl cj om"><h2 class="bd is gz z fq on fs ft oo fv fx iq bi translated">每个开发人员都应该知道的 3 个代码标准</h2><div class="op l"><h3 class="bd b gz z fq on fs ft oo fv fx dk translated">这里有 3 个高质量的代码指标。</h3></div><div class="oq l"><p class="bd b dl z fq on fs ft oo fv fx dk translated">levelup.gitconnected.com</p></div></div><div class="or l"><div class="oz l ot ou ov or ow kq oi"/></div></div></a></div></div></div>    
</body>
</html>