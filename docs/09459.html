<html>
<head>
<title>Pandas Series: From Novice to Professional— Part 01</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫系列:从新手到专家——第一集</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/pandas-series-from-novice-to-professional-part-01-94537eb7c409?source=collection_archive---------9-----------------------#2022-08-22">https://blog.devgenius.io/pandas-series-from-novice-to-professional-part-01-94537eb7c409?source=collection_archive---------9-----------------------#2022-08-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f043" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">创建和转换熊猫系列的数据类型</h2></div><p id="d7de" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated"><span class="l kz la lb bm lc ld le lf lg di"/>系列是一维的索引数据结构，用于保存任何类型的数据(整数、浮点、字符串、对象、布尔等)。它就像 excel 数据表中的一列。系列是熊猫数据框的基础，熊猫数据框是一个二维数据结构，用于存储像 excel 表一样的平面文件。在本文中，我们将讨论以下主题。</p><ul class=""><li id="f3de" class="lh li in ke b kf kg ki kj kl lj kp lk kt ll kx lm ln lo lp bi translated">从 python 列表、元组和字典创建熊猫系列</li><li id="81b4" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">创建带有自定义索引的序列</li><li id="5a13" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">使用深层复制和浅层复制从 Numpy 数组创建序列</li><li id="ee0d" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">创建分类系列</li><li id="2210" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">熊猫系列的属性</li><li id="2217" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">熊猫系列的内存使用</li><li id="b870" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">检查序列是否有缺失值</li><li id="a42a" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">推断序列的数据类型</li><li id="e9f4" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">推断并将序列转换为正确的数据类型</li><li id="d657" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">将序列转换为数字数组</li></ul><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lv"><img src="../Images/9de7b9af0219d017fbbfce42745c0113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*50lM7caMez0VE0FC-cfaaA.png"/></div></div></figure><h1 id="6b6f" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">创建熊猫系列的模板</h1><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="9c1c" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">创作熊猫系列</h1><p id="90cd" class="pw-post-body-paragraph kc kd in ke b kf nb jo kh ki nc jr kk kl nd kn ko kp ne kr ks kt nf kv kw kx ig bi translated">Pandas 系列可以使用 python list、tuple 或 dictionary 数据结构创建，遵循代码片段显示三种方法。</p><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi ng"><img src="../Images/fe3185d21c43a73d4330a6ba4b6ced88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hyCvx5GtWnvwtP1z0p0Dtg.png"/></div></div></figure><h2 id="2e0c" class="nh mi in bd mj ni nj dn mn nk nl dp mr kl nm nn mt kp no np mv kt nq nr mx ns bi translated">使用列表</h2><ul class=""><li id="5936" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">python 中的列表可以使用括号<code class="fe nw nx ny nz b">[]</code>作为<code class="fe nw nx ny nz b">[‘USA’, ‘UK’, ‘China’]</code>来创建。</li><li id="8f1b" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">列表是一种可变的数据结构，可以保存任何类型的数据，如文本、数字、布尔值等。</li><li id="77cf" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">数字数据元素应该用逗号分隔，不带单引号或双引号，而文本数据应该用逗号分隔，带单引号或双引号。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="4c6f" class="nh mi in bd mj ni nj dn mn nk nl dp mr kl nm nn mt kp no np mv kt nq nr mx ns bi translated">使用元组</h2><ul class=""><li id="e09d" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">python 中的元组可以使用<code class="fe nw nx ny nz b">()</code>括号作为<code class="fe nw nx ny nz b">(2, 5, 8)</code>来创建。</li><li id="eeb7" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">元组是不可变的数据结构，这意味着我们不能在创建元组之后改变它的元素。</li><li id="5693" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">元组可以保存任何类型的数据，如文本、数字、布尔值等。</li><li id="1f19" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">数字数据元素应该用逗号分隔，不带单引号或双引号，而文本数据元素应该用逗号分隔，带单引号或双引号。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="b8cd" class="nh mi in bd mj ni nj dn mn nk nl dp mr kl nm nn mt kp no np mv kt nq nr mx ns bi translated">使用字典</h2><ul class=""><li id="3723" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">键值对类型的数据可以存储在 python 字典中。</li><li id="2eba" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">键是索引，值是序列的数据元素。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="1759" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">创建带有自定义索引的序列</h1><ul class=""><li id="6279" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">默认情况下，序列索引以<code class="fe nw nx ny nz b">0.</code>开头</li><li id="78cc" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">我们可以通过给出索引列表来屏蔽序列的默认行为。</li><li id="caa9" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">索引可以是数字，也可以是文本类型。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><ul class=""><li id="1281" class="lh li in ke b kf kg ki kj kl lj kp lk kt ll kx lm ln lo lp bi translated">在字典数据结构的情况下，<code class="fe nw nx ny nz b">index</code>参数列表与字典的<code class="fe nw nx ny nz b">keys</code>匹配，如果匹配，则值将是结果序列的一部分，否则<code class="fe nw nx ny nz b">NULL</code>将是结果序列的一部分。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="e7ab" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">使用深层复制和浅层复制从 Numpy 数组创建序列</h1><ul class=""><li id="278c" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">创建一个名为<code class="fe nw nx ny nz b">array_data</code>的 NumPy 数组</li><li id="7fb8" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">用<code class="fe nw nx ny nz b">copy = True</code>从<code class="fe nw nx ny nz b">array_data</code>创建系列<code class="fe nw nx ny nz b">ser</code></li><li id="babe" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">copy = True</code>表示<code class="fe nw nx ny nz b">array_data</code>到<code class="fe nw nx ny nz b">ser</code>对象的深层复制</li><li id="aa8b" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">深度复制意味着<code class="fe nw nx ny nz b">array_data</code>不会因改变系列(<code class="fe nw nx ny nz b">ser</code>)数据而改变。</li><li id="9872" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">copy = False</code>表示<code class="fe nw nx ny nz b">array_data</code>到<code class="fe nw nx ny nz b">ser</code>对象的浅层拷贝</li><li id="7d7a" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">浅拷贝意味着<code class="fe nw nx ny nz b">array_data</code>将通过改变系列(<code class="fe nw nx ny nz b">ser</code>)数据而改变。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="b4ac" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">创建分类系列</h1><p id="40a8" class="pw-post-body-paragraph kc kd in ke b kf nb jo kh ki nc jr kk kl nd kn ko kp ne kr ks kt nf kv kw kx ig bi translated">Pandas 继承了 R 编程语言的大部分功能。r 编程有一个 factor 数据结构，用于存储有限数值集中的分类数据。例如，<code class="fe nw nx ny nz b">gender</code>列值应该是<code class="fe nw nx ny nz b">male</code>或<code class="fe nw nx ny nz b">female</code>。<code class="fe nw nx ny nz b">marital status</code>列值来自集合<code class="fe nw nx ny nz b">married</code>或<code class="fe nw nx ny nz b">divorced</code>。熊猫也有同样的数据结构<code class="fe nw nx ny nz b">pd.Categorical(list_data).</code></p><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><ul class=""><li id="b1a3" class="lh li in ke b kf kg ki kj kl lj kp lk kt ll kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">pd.Series(pd.Categorical(list_data))</code>显示关于该系列的大量信息，使其具有<code class="fe nw nx ny nz b">3</code>对象，并且该系列的所有值都来自<code class="fe nw nx ny nz b">{C++, Python, R}</code></li></ul><h1 id="7778" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">熊猫系列的属性</h1><ul class=""><li id="d50f" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">name_series.index</code>收益指数系列</li><li id="f4ed" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">name_series.values</code>返回序列的值</li><li id="9e7f" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">name_series.dtype or name_series.dtypes</code>返回系列的数据类型</li><li id="8c44" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">dtype(‘O’)</code>是对象数据类型</li><li id="c5f9" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">name_series.shape</code>返回数列的形状</li><li id="2e38" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">(4, )</code>表示数列中有四个元素。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="a26d" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">熊猫系列的内存使用</h1><ul class=""><li id="6624" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">range(1, 1000)</code>创建一个列表的第一个<code class="fe nw nx ny nz b">999</code>自然数</li><li id="36be" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">从第一个<code class="fe nw nx ny nz b">999</code>自然数创建一个序列<code class="fe nw nx ny nz b">ser</code></li><li id="22b7" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.nbytes</code>用于返回<code class="fe nw nx ny nz b">bytes</code>的编号，用于存储<code class="fe nw nx ny nz b">int64</code>类型的底层数据。</li><li id="a3c6" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.memory_usage()</code>用于返回存储序列的内存使用情况。</li><li id="5c4b" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.astype(‘int32’)</code>用于改变系列的数据类型。</li><li id="8feb" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">现在只需要<code class="fe nw nx ny nz b">3996</code>个字节来存储底层数据，大约是<code class="fe nw nx ny nz b">int64 </code>数据类型的一半。</li><li id="187a" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">通过将系列的数据类型从<code class="fe nw nx ny nz b">int64</code>更改为<code class="fe nw nx ny nz b">int32</code>，内存使用量也从<code class="fe nw nx ny nz b">8120</code>减少到了<code class="fe nw nx ny nz b">4124</code>字节</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="cf2e" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">检查序列是否有缺失值</h1><ul class=""><li id="0815" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">创建一个空系列<code class="fe nw nx ny nz b">ser</code></li><li id="2652" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.empty</code>如果系列中没有元素，则返回 true</li><li id="c3e9" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.hasnans</code>如果序列中缺少值元素，则返回 true</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="a30b" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">推断序列的数据类型</h1><ul class=""><li id="55de" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">我们创建了一个序列，前 4 个元素是文本数据类型</li><li id="073a" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">从第 5 个数据成员到第 8 个数据成员的元素是整数。</li><li id="01b9" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated">从第 9 个数据成员到第 12 个数据成员的元素是布尔值。</li><li id="0fbf" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.iloc[:4].infer_objects().dtypes</code>推断并返回<code class="fe nw nx ny nz b">ser</code>系列前四个元素的数据类型。</li><li id="6937" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.iloc[4:8].infer_objects().dtypes</code>推断并返回<code class="fe nw nx ny nz b">ser</code>系列接下来四个元素的数据类型。</li><li id="d8fd" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.iloc[8:12].infer_objects().dtypes</code>推断并返回<code class="fe nw nx ny nz b">ser</code>系列的下四个元素的数据类型。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="8a34" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">推断并将序列转换为正确的数据类型</h1><ul class=""><li id="caa3" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">创建一系列<code class="fe nw nx ny nz b">object</code>数据类型的<code class="fe nw nx ny nz b">ser1</code></li><li id="930c" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser1.dtype</code>返回<code class="fe nw nx ny nz b">ser1</code>系列的数据类型</li><li id="d2e2" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser1 = ser1.convert_dtype()</code>推断并为序列分配正确的数据类型，并分配给<code class="fe nw nx ny nz b">ser1</code>。</li><li id="72b9" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser2</code>和<code class="fe nw nx ny nz b">ser3</code>的程序相同</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="a038" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">将序列转换为数字数组</h1><ul class=""><li id="7c6e" class="lh li in ke b kf nb ki nc kl nt kp nu kt nv kx lm ln lo lp bi translated">创建一个系列<code class="fe nw nx ny nz b">ser.</code></li><li id="54d7" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.to_numpy()</code>返回 NumPy 数组中系列的值。</li><li id="d92e" class="lh li in ke b kf lq ki lr kl ls kp lt kt lu kx lm ln lo lp bi translated"><code class="fe nw nx ny nz b">ser.values</code>返回 NumPy 数组中系列的值。</li></ul><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="603b" class="mh mi in bd mj mk ml mm mn mo mp mq mr jt ms ju mt jw mu jx mv jz mw ka mx my bi translated">结论</h1><p id="5b44" class="pw-post-body-paragraph kc kd in ke b kf nb jo kh ki nc jr kk kl nd kn ko kp ne kr ks kt nf kv kw kx ig bi translated">在本文中，我们学习了如何使用不同的 python 和 NumPy 数据结构创建一个系列。我们学习了将序列从一种数据类型转换为另一种数据类型，序列和类型推断的内存使用，以及转换为适当的数据类型。</p></div></div>    
</body>
</html>