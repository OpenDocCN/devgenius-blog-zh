<html>
<head>
<title>Ruby Hash</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ruby 哈希</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/ruby-hash-14e64d33a3c4?source=collection_archive---------3-----------------------#2020-10-08">https://blog.devgenius.io/ruby-hash-14e64d33a3c4?source=collection_archive---------3-----------------------#2020-10-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="e8ba" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">概观</h1><p id="9d66" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">ruby 中的 hash 是一个键值对，类似于 python 中的字典。它像字典一样无序、多变、有索引。键和值没有以任何特定的顺序存储，您可以更改键的值，并且它是索引的，因为每个键都有一个值，并且通过传递键值来访问它。</p><h1 id="c88c" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">新散列</h1><p id="6b47" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">创建散列有不同的方法。一种方法是使用构造函数并传入单个值或不传入值。如果你传递一个值给构造函数，缺省值将是键不存在时传递的值。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="2998" class="lp jl in ll b gy lq lr l ls lt">hash = Hash.new("hello")<br/>puts hash[0]<br/>&gt;&gt; hello<br/>puts hash["a"]<br/>&gt;&gt; hello</span></pre><p id="eff0" class="pw-post-body-paragraph ki kj in kk b kl lu kn ko kp lv kr ks kt lw kv kw kx lx kz la lb ly ld le lf ig bi translated">要用现有的键和值创建一个散列，你可以使用散列和括号，或者只使用花括号。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="acc0" class="lp jl in ll b gy lq lr l ls lt">hash = Hash["a"=&gt;1, "b"=&gt;2]<br/>hash2 = {"a"=&gt;1, "b"=&gt;2}<br/>puts hash["a"]<br/>&gt;&gt; 1<br/>puts hash["b"]<br/>&gt;&gt; 2<br/>puts hash2["a"]<br/>&gt;&gt; 1<br/>puts hash2["b"]<br/>&gt;&gt; 2<br/>puts hash == hash2<br/>&gt;&gt; true</span></pre><h1 id="1c9d" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">阅读</h1><p id="e7ab" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要从 hash 中访问值，需要将键传递给方括号内的 hash。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="56f6" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>puts hash["a"]<br/>&gt;&gt; 1<br/>puts hash["b"]<br/>&gt;&gt; 2</span></pre><h1 id="ba6f" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">更新</h1><p id="a60f" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要添加新的键值对或更新现有的键，您需要访问该键并为其提供一个值。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="8d79" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>hash["a"] = 3<br/>hash["c"] = 4<br/>puts hash["a"]<br/>&gt;&gt; 3<br/>puts hash["c"]<br/>&gt;&gt; 4</span></pre><h1 id="fe69" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">循环</h1><p id="cbc0" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要遍历散列的所有键和值，可以使用 each 方法。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="4da3" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>hash.each do |key,value|<br/>    puts "#{key}-#{value}"<br/>end<br/>&gt;&gt; a-1<br/>&gt;&gt; b-2</span></pre><h1 id="9547" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">长度</h1><p id="909f" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要获得散列的长度，可以使用 length 方法。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="8e45" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>puts hash.length<br/>&gt;&gt; 2</span></pre><h1 id="cbac" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">键和值</h1><p id="c372" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要获得散列中的所有键，可以使用 keys 方法获得所有键的数组。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="03b2" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>puts hash.keys<br/>&gt;&gt; a<br/>&gt;&gt; b</span></pre><p id="6bcb" class="pw-post-body-paragraph ki kj in kk b kl lu kn ko kp lv kr ks kt lw kv kw kx lx kz la lb ly ld le lf ig bi translated">类似地，要获得散列中的所有值，可以使用 values 方法来获得所有值的数组。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="f689" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>puts hash.values<br/>&gt;&gt; 1<br/>&gt;&gt; 2</span></pre><h1 id="1c6b" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">删除</h1><p id="7201" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要删除散列中的键和值，可以使用 delete 方法并向其传递键。如果该项不存在，则不会引发错误。如果键值存在，它将返回键值。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="12e2" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>puts hash.delete("c")<br/>&gt;&gt;<br/>puts hash.delete("a")<br/>&gt;&gt; 1<br/>puts hash["a"]<br/>&gt;&gt;</span></pre><h1 id="256f" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">复制</h1><p id="5add" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要获得散列的副本，可以使用 dup 或 clone 方法。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="9f0f" class="lp jl in ll b gy lq lr l ls lt">hash = {"a"=&gt;1, "b"=&gt;2}<br/>hash2 = hash.dup<br/>hash3 = hash.clone<br/>puts hash == hash2<br/>&gt;&gt; true<br/>puts hash == hash3<br/>&gt;&gt; true<br/>puts hash2 == hash3<br/>&gt;&gt; true</span></pre><h1 id="024e" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论</h1><p id="3b4e" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Hash 类似于 Pythons 字典和 Javas Hashmap，两者都支持键值对，没有重复的键，是无序的、可变的和有索引的。当您想要将某些值与键相关联时，可以使用 hash。</p></div></div>    
</body>
</html>