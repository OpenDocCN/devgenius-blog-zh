<html>
<head>
<title>AWS Lambda pricing model explained with examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS Lambda定价模型举例说明</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/aws-lambda-pricing-model-explained-with-examples-79193e67c6da?source=collection_archive---------2-----------------------#2021-11-22">https://blog.devgenius.io/aws-lambda-pricing-model-explained-with-examples-79193e67c6da?source=collection_archive---------2-----------------------#2021-11-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e2de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我们将介绍AWS Lambda定价模式的来龙去脉，它是如何工作的，您可能会考虑哪些额外费用，以及细则中有哪些内容。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/2d542eef989f5ce31a2a569603fc580c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RfKh_Urjx1nfogJXs9oGRA.png"/></div></div></figure><p id="37c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">金钱使世界运转。不幸的是，它是生活中几乎所有领域的必需品。你可以不喝或少喝一点，但这会让一切变得更难。如果你希望拥有它，首先，你需要一如既往地给予它。就连AWS Lambda也不是免费的。</p><p id="1488" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简而言之，你有了一个想法，并且正在突破实现它。你需要使用AWS Lambda让它更容易、更漂亮，或者出于某种原因，更容易维护。你需要为AWS Lambda付费。那样的话，你的产品就会有出头之日，最终会把钱还给你。要想能够赚到，首先需要投资。</p><p id="cb1d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">AWS Lambda价格的一个好处是，你将<strong class="jm io">只为你使用的东西</strong>付费。他们的服务没有预先设定好的套餐，你最终会为你可能根本用不到的东西付费。这就是为什么AWS Lambda决定让它尽可能简单，这是一个非常棒的功能。</p><h1 id="7c9e" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">AWS Lambda的服务如何收费？</h1><p id="8d41" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">AWS Lambda根据用户对其功能的<strong class="jm io">请求数量</strong>和<strong class="jm io">持续时间</strong>向用户收费，持续时间是代码需要执行的时间。当您的代码开始运行以响应一个事件时，<a class="ae ly" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>计算一个请求。它将对<strong class="jm io">使用的所有函数的请求总数</strong>收费。<strong class="jm io">持续时间的计算方式是</strong>从代码开始执行到返回或终止，四舍五入到最接近的<strong class="jm io"> 1毫秒</strong>。AWS <strong class="jm io"> Lambda定价</strong>取决于用户用来分配给函数的<a class="ae ly" href="https://dashbird.io/blog/lower-aws-lambda-bill-increasing-memory/" rel="noopener ugc nofollow" target="_blank">内存量。</a></p><h1 id="5e36" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">解释AWS Lambda定价模型</h1><p id="45f3" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">通常，Lambda调用不是独立的。一个Lambda函数由来自一个<a class="ae ly" href="https://dashbird.io/knowledge-base/api-gateway/what-is-aws-api-gateway/" rel="noopener ugc nofollow" target="_blank"> API网关</a>、S3桶或者几乎任何其他AWS服务的事件触发<strong class="jm io">。这些服务都有额外的费用，其中一些还附带免费等级。</strong></p><h1 id="5dc9" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">AWS Lambda自由层</h1><p id="0b2f" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">Lambda自由层包括每月400，000 GB秒的计算时间<strong class="jm io">。它不会在年度AWS免费层期限结束时自动过期。现有的和新的AWS客户都可以无限期地使用它。</strong></p><p id="7321" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">400，000秒相当于每月110个小时的Lambda计算时间，而且这只是在您为它们配置了1 GB内存的情况下。</p><p id="58a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于128 MB的默认配置，您将获得880小时，而256 MB每月仍有440小时。</p><p id="34f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是请记住，这也是反过来的。如果您配置10 GB的内存，您只能在空闲层获得十分之一的时间，即每月11个小时。</p><p id="a09b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们来看一些计算示例:</p><p id="3525" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们忽略空闲层节省，运行一个函数一秒钟(1000毫秒)和128 MB内存一百万次，将花费您2.10美元。在128 MB内存中，1毫秒的成本为0.0000000021美元，乘以千得出第二个价格为0.0000021美元，乘以一百万得出2.10美元。</p><p id="9221" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，让我们看看我们会为免费层支付多少钱。首先，我们必须将(1) GB秒转换为128 MB秒，因为在本例中我们没有使用1 GB的内存。128 MB是1 GB的八分之一，因此我们可以简单地将该值乘以8。</p><p id="81eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">400，000千兆位秒= 3，200，000 128兆位秒</p><p id="157e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的功能每月运行1，000，000个128兆秒，因此在免费层允许运行的3，200，000个以内，我们不为此支付一分钱。</p><p id="8574" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您的函数使用10.240 MB的最大内存配置，同样的<strong class="jm io">一秒*一百万次调用</strong>示例将花费$166.70，因为现在您将为每毫秒支付更多的费用，而不是$0.0000000021，一毫秒花费$0.0000001667。</p><p id="3f51" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们还可以通过将(1) GB秒到10GB秒除以10来检查空闲层将为我们节省多少。</p><p id="7a1c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">400，000千兆秒= 40，000 10GB秒</p><p id="3ceb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">1，000，000 10GB秒— 40，000 10GB秒= 960，000 10GB秒</p><p id="71f0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">免费层在这里为我们节省了40，000 10GB秒，约合6.5美元。</p><h1 id="4873" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">API网关自由层</h1><p id="61e8" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">API网关免费层，用于API网关请求触发的Lambda函数，包括每月<strong class="jm io">100万个免费请求</strong>。在花费之后，每100万次请求将花费0.20美元，或者每一次请求将花费0.0000002美元。API网关免费层在12个月后到期。</p><p id="7c07" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于我们之前的例子，如果我们假设事件源是API Gateway，我们在前12个月不需要改变计算，因为我们只发出100万个免费请求。之后，我们需要在最终价格上增加0.20美元。</p><p id="7bfb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在10 GB内存的例子中，这并没有改变太多的账单，但第一个128 MB的例子仍然会花费我们的钱，即使我们不离开Lambda空闲层。</p><h1 id="10a9" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">Dashbird的Lambda成本计算器</h1><p id="6717" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">如果这些信息是有帮助的，但它仍然让你很难计算你需要支付的价格，<a class="ae ly" href="https://dashbird.io/lambda-cost-calculator/" rel="noopener ugc nofollow" target="_blank">使用我们的AWS Lambda成本计算器</a>。这可能有助于<strong class="jm io">根据个人使用情况确定你需要为AWS Lambda服务</strong>支付的费用。点击此链接，计算你自己的AWS Lambda价格。</p><h1 id="4f03" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">AWS Lambda定价范围内的额外费用</h1><p id="c78d" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">人们大多不喜欢<strong class="jm io">的小字</strong>，通常他们不会通读。这就是为什么我们在<a class="ae ly" href="https://dashbird.io/" rel="noopener ugc nofollow" target="_blank"> Dashbird </a>已经阅读了全部内容，我们希望将它传递给你们。这样，你将避免任何不必要的和不愉快的经历。</p><p id="22f8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了避免不必要的情况，你需要知道关于定价模式、额外费用等的一切。<strong class="jm io">AWS Lambda定价车型是否有任何额外收费？</strong>有，有。仔细看完这个，就不会有不愉快的惊喜了。</p><p id="3a9d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您使用了任何其他AWS服务或数据传输，发生额外费用的可能性会显著增加。无论选择哪一级，都将向您收费。在这个例子中，如果你的功能是从亚马逊S3 读取和写入数据，你将为读取/写入请求和存储在亚马逊S3的所有数据付费。</p><p id="118a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将列出一些将被追加费用的<strong class="jm io">案例，这样，您就可以跟进所做的所有更改。如果您的Lambda函数开始外部数据传输，您将按<a class="ae ly" href="https://aws.amazon.com/ec2/" rel="noopener ugc nofollow" target="_blank"> EC2 </a>数据传输速率付费。</strong></p><p id="2767" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">另外值得一提的是<a class="ae ly" href="https://aws.amazon.com/dynamodb/" rel="noopener ugc nofollow" target="_blank">亚马逊DynamoDB </a> <strong class="jm io">对数据存储</strong><strong class="jm io">吞吐能力</strong><strong class="jm io">数据传输</strong>收费。另一方面，亚马逊S3对<strong class="jm io">存储</strong>、<strong class="jm io">请求</strong>、数据<strong class="jm io">传输</strong>收费。</p><h1 id="d160" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">AWS Lambda定价示例</h1><p id="f401" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">AWS Lambda定价示例将在本节中介绍，由已经提到的AWS Lambda价格构成。</p><p id="91f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你给你的函数分配了<strong class="jm io"> 512 MB的内存</strong>，并在一个月内执行了<strong class="jm io">300万次</strong>。考虑到它每次运行1秒钟，您将按每月计算时间(在本例中为18.34美元)和每月请求(在本例中为0.40美元)计费。因此，<strong class="jm io">的总账单金额将为每月18.74美元</strong>。</p><p id="f8ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">也就是说，<a class="ae ly" href="https://dashbird.io/blog/serverless-survey-results-benefits/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda在削减成本方面令人惊叹</a>，我们有很多公司通过<a class="ae ly" href="https://dashbird.io/blog/migrating-to-serverless-making-it-work/" rel="noopener ugc nofollow" target="_blank">转向无服务器</a>而成功节省大笔资金的例子。<a class="ae ly" href="https://dashbird.io/blog/serverless-case-study-coca-cola/" rel="noopener ugc nofollow" target="_blank">可口可乐北美公司</a>已经从自动售货机部门的无服务器化中获益良多，以至于他们已经将无服务器化作为开发部门的一项要求。</p><p id="740b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">知道你需要什么和它的价格是实现你的想法并把它们变成现实的第一步。</p></div><div class="ab cl lz ma hr mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ig ih ii ij ik"><p id="327d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">延伸阅读:</em></p><p id="ee7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ly" href="https://dashbird.io/blog/aws-lambda-cost-optimization-strategies/" rel="noopener ugc nofollow" target="_blank"> 6尝试并测试了有效的Lambda成本优化策略</a></p><p id="6e22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ly" href="https://dashbird.io/blog/test-javascript-lambda-functions/" rel="noopener ugc nofollow" target="_blank">如何测试JavaScript Lambda函数？</a></p><p id="ccd3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ly" href="https://dashbird.io/blog/task-timed-out-after-x-seconds/" rel="noopener ugc nofollow" target="_blank">使用Dashbird进行调试:λ任务在X秒后超时</a></p><p id="eefd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ly" href="https://dashbird.io/observability/serverless-observability-real-time-debugging/" rel="noopener ugc nofollow" target="_blank">无服务器可观测性和实时调试</a></p></div></div>    
</body>
</html>