<html>
<head>
<title>Cloud native deployment for a high-performance data gateway + new API driver: Apache ShardingSphere 5.1.2 is released</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高性能数据网关的云原生部署+新的 API 驱动程序:Apache ShardingSphere 5.1.2 发布</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/cloud-native-deployment-for-a-high-performance-data-gateway-new-api-driver-apache-fdfd2839846?source=collection_archive---------6-----------------------#2022-06-28">https://blog.devgenius.io/cloud-native-deployment-for-a-high-performance-data-gateway-new-api-driver-apache-fdfd2839846?source=collection_archive---------6-----------------------#2022-06-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="73bc" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi kk translated">随着 Apache ShardingSphere 5.1.1 的发布，我们的社区整合了来自世界各地贡献者的 1028 个 pr，为您带来了最新的 5.1.2 版本。新版本在功能、性能、测试、文档、示例等方面做了很多改进。</p><p id="e80b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">突出的新功能包括:</p><ul class=""><li id="9350" class="kt ku in jo b jp jq jt ju jx kv kb kw kf kx kj ky kz la lb bi translated">代理掌舵图。</li><li id="5a5c" class="kt ku in jo b jp lc jt ld jx le kb lf kf lg kj ky kz la lb bi translated">SQL 方言翻译。</li><li id="a73d" class="kt ku in jo b jp lc jt ld jx le kb lf kf lg kj ky kz la lb bi translated">使用 JDBC 作为驱动程序。</li></ul><p id="ba30" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">这些新功能增强了 ShardingSphere 的数据网关功能，使 ShardingSphere 能够部署在云上，同时优化用户体验。</p><p id="0ebf" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">除了上面提到的新特性，本次更新还在用户体验方面改进了对<a class="ae lh" href="https://www.postgresql.org" rel="noopener ugc nofollow" target="_blank">PostgreSQL</a>/<a class="ae lh" href="https://opengauss.org/en/" rel="noopener ugc nofollow" target="_blank">open gauss</a>schema、自动伸缩、事务和<a class="ae lh" href="https://medium.com/nerd-for-tech/intro-to-distsql-an-open-source-more-powerful-sql-bada4099211" rel="noopener"> DistSQL </a>的 SQL 解析支持、内核、运行时模式和弹性伸缩支持。</p><p id="4597" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">这篇文章将向你概述 ShardingSphere 5.1.2 的更新。</p><h1 id="d8f1" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">新功能</h1><h2 id="85ae" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">使用 Helm 的 sharding sphere-代理配置</h2><p id="4da0" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">ShardingSphere-Proxy 为容器中的部署提供了 Docker 映像。但是对于需要在<a class="ae lh" href="https://kubernetes.io" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>上部署 ShardingSphere-Proxy 的人来说，你要经历一些数据库驱动挂载、配置挂载、自定义算法挂载等程序。，这使得部署过程相对繁琐，并导致较高的操作&amp;维护成本。</p><p id="40d3" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">此次更新带来了新的 ShardingSphere-Proxy Helm Chart，这是由企业级云原生数据增强计算产品和解决方案提供商<a class="ae lh" href="https://www.sphere-ex.com" rel="noopener ugc nofollow" target="_blank"> SphereEx </a>捐赠给 Apache ShardingSphere 社区的一项新功能。这一发展允许 Apache ShardingSphere 拥抱云计算。</p><figure class="my mz na nb gt nc gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi mx"><img src="../Images/d0cc50cb3f6e3174c8a27350873deeda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Zd4Kr9AS6Z3Hx5Tk"/></div></div></figure><p id="373c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">ShardingSphere 依靠注册表以集群模式存储元数据，ShardingSphere-Proxy 的 Helm Chart 可以自动部署 ZooKeeper 集群，允许您快速构建 ShardingSphere-Proxy 集群。</p><p id="d869" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">由于开源协议的限制，ShardingSphere-Proxy 的二进制分发包和 Docker 镜像没有与 MySQL JDBC 驱动打包在一起，因此用户需要手动将 MySQL JDBC 驱动添加到类路径中，以使用 MySQL 作为 ShardingSphere 的存储节点。</p><p id="ec8b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">对于这种情况，ShardingSphere-Proxy Helm Chart 可以自动获取 Pod 的 Init 容器中的 MySQL JDBC 驱动程序，从而降低您的部署操作成本。</p><h2 id="de37" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">SQL 方言翻译</h2><p id="64d5" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">随着数据库多样化的增加，多种类型的数据库共存已经成为常态。使用一种 SQL 方言访问异构数据库的场景正在成为一种趋势。</p><p id="8e3c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">多个多样化数据库的存在，使得访问数据库的 SQL 方言难以标准化，意味着工程师需要针对不同类型的数据库使用不同的方言——缺乏统一的查询平台。</p><p id="7820" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">将不同类型的数据库方言自动翻译成后端数据库可以使用的一种方言，使工程师可以使用任何一种数据库方言访问所有后端异构数据库，从而大大降低了开发和维护成本。</p><p id="fa28" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">Apache ShardingSphere 5.1.2 是构建高效数据网关的重要一步。此更新启用了新的 SQL 方言翻译功能，支持主要开源数据库之间的方言转换。</p><p id="bdf5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">比如可以用一个<a class="ae lh" href="https://www.mysql.com" rel="noopener ugc nofollow" target="_blank"> MySQL </a>客户端连接 ShardingSphere-Proxy，发送基于 MySQL 方言的 SQL，ShardingSphere 可以自动识别用户协议和存储节点类型完成 SQL 方言翻译，访问 PostgreSQL 等异构存储节点，反之亦然。</p><figure class="my mz na nb gt nc gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nj"><img src="../Images/23921a8d186b951c85d0394557f4c342.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Tkk5LXOnK7Ekf4C1HSs0Q.jpeg"/></div></div></figure><h2 id="3178" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">使用 JDBC 作为驱动程序</h2><p id="bfd1" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">在过去的版本中，ShardingSphere-JDBC 以<code class="fe nk nl nm nn b">Datasource</code>的形式提供给用户。以前不使用<code class="fe nk nl nm nn b">Datasource</code>的项目或工具需要首先进行修改，以便能够引入 ShardingSphere-JDBC，这增加了开发成本。</p><p id="718c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">在 Apache ShardingSphere 5.1.2 中，ShardingSphere-JDBC 实现了标准化的 JDBC 驱动程序接口，该接口允许您引入 ShardingSphere-JDBC 作为驱动程序。</p><p id="5c0e" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">用户可以通过<code class="fe nk nl nm nn b">DriverManager</code>直接获得<code class="fe nk nl nm nn b">Connection</code>:</p><pre class="my mz na nb gt no nn np nq aw nr bi"><span id="30e6" class="mg lj in nn b gy ns nt l nu nv">Class.forName("org.apache.shardingsphere.driver.ShardingSphereDriver");<br/>Connection conn = DriverManager.getConnection("jdbc:shardingsphere:classpath:config.yaml");</span></pre><p id="cd3c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">或者使用<code class="fe nk nl nm nn b">Datasource</code>获得<code class="fe nk nl nm nn b">Connection</code>:</p><pre class="my mz na nb gt no nn np nq aw nr bi"><span id="e85a" class="mg lj in nn b gy ns nt l nu nv"><em class="nw">// Take HikariCP as an example</em><br/>HikariDataSource dataSource = new HikariDataSource();<br/>dataSource.setDriverClassName("org.apache.shardingsphere.driver.ShardingSphereDriver");<br/>dataSource.setJdbcUrl("jdbc:shardingsphere:classpath:config.yaml");<br/>Connection conn = dataSource.getConnection();</span></pre><h1 id="db65" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">现有功能的优化</h1><h2 id="ca92" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">核心</h2><p id="a885" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">在这次更新中，ShardingSphere 合并了许多 PRs 来改进 SQL 解析支持。SQL 解析优化占据了更新日志的很大一部分。</p><p id="edca" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">ShardingSphere 在 5.1.1 中提供了对 PostgreSQL / openGauss schema 的初步支持。</p><p id="5629" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">在 5.1.2 更新中，对 PostgreSQL / openGauss 模式的内核、集群模式和自动伸缩支持得到了改进。例如，元数据对中增加了对模式结构的支持，内核和自动伸缩中也支持模式定制。</p><h2 id="22fc" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">sharding sphere-代理</h2><p id="5840" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">随着使用 ARM CPUs 的服务器市场越来越受欢迎，ShardingSphere-Proxy 也在 Docker 上提供了 arm64 架构的图像。</p><p id="e37a" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">谈到 MySQL，ShardingSphere-Proxy 修复了无法接收大于 8 MB 的数据包的问题，并进一步支持接收总计大于 16 MB 的数据。</p><h2 id="454d" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">自动缩放</h2><p id="962d" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">除了支持 PostgreSQL 模式定制，自动缩放还实现了迁移 PostgreSQL 时自动创建表，并修复了 PostgreSQL 增量迁移遇到<code class="fe nk nl nm nn b">null</code>字段值时会报告错误的问题。除了这些特性之外，自动伸缩还减少了迁移过程中的资源消耗，并在 openGauss 3.0 中提供了对增量迁移的支持。</p><h1 id="bbc5" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">发布说明</h1><p id="8048" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">ShardingSphere 5.1.2 的完整发行说明可以在以下章节中找到。请注意，本次更新调整了少量 API，因此请参考 API 调整部分了解更多详细信息。</p><h2 id="5b08" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">新功能</h2><p id="4cb9" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">内核:MySQL 和 PostgreSQL 的 SQL 方言转换的 alpha 版本。</p><p id="4225" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 PostgreSQL 和 openGauss 定制模式。</p><p id="20f9" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 PostgreSQL 和 openGauss <code class="fe nk nl nm nn b">create</code> / <code class="fe nk nl nm nn b">alter</code> / <code class="fe nk nl nm nn b">drop</code>视图语句。</p><p id="0a67" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 openGauss 游标语句。</p><p id="af43" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持使用系统库定制。</p><p id="a473" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持获取 openGauss 和 MySQL create table 语句。</p><p id="1fe6" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持获取 PostgreSQL create table 语句。</p><p id="9d77" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">访问终端:使用 Helm 正式支持 ShardingSphere-Proxy 集群的快速部署，其中包括 Kubernetes 中的 ZooKeeper 集群。</p><p id="889b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">访问终端:支持 ShardingSphere JDBC 驱动程序。</p><p id="a4b9" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:支持 PostgreSQL 自动建表。</p><p id="04e5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:支持 PostgreSQL 和 openGauss 自定义模式表迁移。</p><p id="0895" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:支持字符串主键表的迁移。</p><p id="7773" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">运营模式:治理中心支持 PG/openGauss 三级架构。</p><p id="0838" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">运行模式:治理中心支持数据库级分布式锁定。</p><h2 id="9412" class="mg lj in bd lk mh mi dn lo mj mk dp ls jx ml mm lw kb mn mo ma kf mp mq me mr bi translated">最佳化</h2><p id="60ed" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">内核:支持 PostgreSQL 和 openGauss copy 语句。</p><p id="5fbe" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 PostgreSQL alter/ drop index 语句。</p><p id="c816" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 MySQL 更新强制索引语句。</p><p id="9c05" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 openGauss <code class="fe nk nl nm nn b">create</code> / <code class="fe nk nl nm nn b">alter</code> / <code class="fe nk nl nm nn b">drop</code>模式语句。</p><p id="6dc3" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:优化<code class="fe nk nl nm nn b">RoundRobinReplicaLoadBalanceAlgorithm</code>和<code class="fe nk nl nm nn b">RoundRobinTrafficLoadBalanceAlgorithm</code>算法逻辑。</p><p id="3e4e" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:优化前端驱动数据库类型和后端不匹配时的元数据加载逻辑。</p><p id="5377" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:重构元数据加载逻辑。</p><p id="3090" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:show processlist 语句函数的优化。</p><p id="b1ae" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:改进了涉及大量表的场景中的加载性能。</p><p id="599c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持注释语句执行</p><p id="2f29" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 PostgreSQL 和 openGauss 分片场景中的视图语句执行。</p><p id="dea5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持 Oracle <code class="fe nk nl nm nn b">CREATE ROLLBACK SEGMENT</code>语句。</p><p id="6c77" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">DROP TYPE</code></p><p id="a16b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">ALTER TYPE</code></p><p id="b401" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">DROP DISKGROUP</code></p><p id="a107" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析甲骨文<code class="fe nk nl nm nn b">CREATE DISKGROUP</code></p><p id="39d9" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">DROP FLASHBACK ARCHIVE</code></p><p id="a539" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">CHECKPOINT</code></p><p id="3fa5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE FLASHBACK ARCHIVE</code></p><p id="6492" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">Close</code></p><p id="fb77" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">DROP CAST</code></p><p id="171c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">CREATE CAST</code></p><p id="35a2" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE CONTROL FILE</code></p><p id="af6f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">DROP DIRECTORY</code></p><p id="fe13" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">ALTER DIRECTORY</code></p><p id="cf7c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">CREATE DIRECTORY</code></p><p id="be65" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL 检查点</p><p id="48d8" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">DROP SYNONYM</code></p><p id="19dc" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">CREATE SYNONYM</code></p><p id="b406" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 openGauss <code class="fe nk nl nm nn b">ALTER SYNONYM</code></p><p id="fdef" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">CALL</code>语句</p><p id="38b5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE PFILE</code></p><p id="0745" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE SPFILE</code></p><p id="0b3f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析甲骨文<code class="fe nk nl nm nn b">ALTER SEQUENCE</code></p><p id="1b90" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE CONTEXT</code></p><p id="9aab" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">ALTER PACKAGE</code></p><p id="b022" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE SEQUENCE</code></p><p id="acfe" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">ALTER ATTRIBUTE DIMENSION</code></p><p id="5438" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">ALTER ANALYTIC VIEW</code></p><p id="64bc" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:用 ShardingSphere Spi 加载<code class="fe nk nl nm nn b">SQLVisitorFacade</code></p><p id="ddf0" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:用 ShardingSphere Spi 加载<code class="fe nk nl nm nn b">DatabaseTypedSQLParserFacade</code></p><p id="6011" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">ALTER OUTLINE</code></p><p id="1d6d" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b"> DROP OUTLINE</code></p><p id="60fa" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">drop edition</code></p><p id="4214" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 SQLServer <code class="fe nk nl nm nn b">WITH</code>公共表表达式</p><p id="6241" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:在 with 语句中优化 SubquerySegment 的开始和结束索引</p><p id="b007" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:重构<code class="fe nk nl nm nn b">JoinTableSegment</code></p><p id="7cc5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">DROP SYNONYM</code></p><p id="9623" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析甲骨文<code class="fe nk nl nm nn b">CREATE DIRECTORY</code></p><p id="9152" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE SYNONYM</code></p><p id="4859" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 SQLServer <code class="fe nk nl nm nn b">XmlNamespaces</code>子句</p><p id="34fc" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">Alter Database Dictionary</code></p><p id="8803" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析<code class="fe nk nl nm nn b">SELECT</code>语句的 SQLServer 子句</p><p id="375f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">ALTER DATABASE LINK</code></p><p id="4732" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">CREATE EDITION</code></p><p id="e08e" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">ALTER TRIGGER</code></p><p id="18e1" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 SQLServer <code class="fe nk nl nm nn b"> REVERT</code>语句</p><p id="a93d" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP TEXT SEARCH</code></p><p id="9841" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">drop server</code></p><p id="ed69" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">ALTER VIEW</code></p><p id="ca8f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">drop access method</code></p><p id="4c03" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP ROUTINE</code></p><p id="9124" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 SQLServer <code class="fe nk nl nm nn b">DROP USER</code></p><p id="2a5d" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">DROP TRIGGER</code></p><p id="f07c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">drop subscription</code></p><p id="bbc8" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">drop operator class</code></p><p id="a4ea" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP PUBLICATION</code></p><p id="172a" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析甲骨文<code class="fe nk nl nm nn b">DROP VIEW</code></p><p id="1471" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP TRIGGER</code></p><p id="4793" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 Oracle <code class="fe nk nl nm nn b">DROP DIRECTORY</code></p><p id="490b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP STATISTICS</code></p><p id="546e" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">drop type</code></p><p id="4c6f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP RULE</code></p><p id="a986" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 SQLServer <code class="fe nk nl nm nn b">ALTER LOGIN</code></p><p id="83b0" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP FOREIGN DATA WRAPPER</code></p><p id="c9a1" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:支持解析 PostgreSQL <code class="fe nk nl nm nn b">DROP EVENT TRIGGER</code>语句。</p><p id="059e" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">访问终端:ShardingSphere-Proxy MySQL 支持接收大小超过 16 MB 的请求包。</p><p id="1c2c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">接入终端:ShardingSphere-Proxy 增加<code class="fe nk nl nm nn b">SO_BACKLOG</code>配置项。</p><p id="69fe" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">接入终端:ShardingSphere-Proxy <code class="fe nk nl nm nn b">SO_REUSEADDR</code>默认启用。</p><p id="581b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">访问终端:支持 aarch64 的 sharding sphere-代理 Docker 映像。</p><p id="d3ce" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">接入终端:ShardingSphere-Proxy MySQL 支持默认 MySQL 版本号。</p><p id="b000" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">访问终端:sharding sphere-Proxy PostgreSQL/open gauss 支持更多字符集。</p><p id="d6fe" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">接入终端:ShardingSphere-Proxy 添加默认端口配置项。</p><p id="ff23" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动伸缩:在 openGauss 3.0 中启用 thread_pool 时，伸缩与 HA 端口兼容，用于数据同步。</p><p id="c7ce" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:优化<code class="fe nk nl nm nn b">PipelineJobExecutor</code>中 Zookeeper 事件处理的逻辑，避免 zk 阻塞事件。</p><p id="3185" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:对于表名，缩放数据同步不区分大小写。</p><p id="eb9a" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动伸缩:改进的 PostgreSQL/openGauss 复制槽清理。</p><p id="d9d8" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:改进了准备阶段的锁定保护</p><p id="35db" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:改进删除相同记录后 PostgreSQL 重建场景中的数据同步。</p><p id="49a8" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:通过缩放创建的数据源不会在底部缓存。</p><p id="4838" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">弹性伸缩:尽可能重用数据源，减少数据库连接占用。</p><p id="cbdf" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL: <code class="fe nk nl nm nn b">REFRESH TABLE METADATA</code>支持指定的 PostgreSQL 的模式。</p><p id="f4d3" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL:在<code class="fe nk nl nm nn b">ALTER SHARDING TABLE RULE</code>下添加绑定表检查</p><p id="ab7c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">操作模式:ShardingSphere-JDBC 支持配置数据库连接名。</p><p id="27c5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">分布式事务:禁止在事务中执行 DistSQL。</p><p id="20d8" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">分布式事务:autocommit = 0，DML 将自动打开 DDL 部分中的事务。</p><h1 id="ddf7" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">错误修复</h1><p id="8a39" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">内核:修复 PostgreSQL 和 openGauss show 语句解析异常。</p><p id="c5c0" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:修复 PostgreSQL 和 openGauss 时间提取函数解析异常。</p><p id="ad38" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:修复 PostgreSQL 和 openGauss select mod 函数解析异常。</p><p id="5153" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:修复读/写分离场景下多个 schema <code class="fe nk nl nm nn b">join</code>语句的执行异常。</p><p id="d3e2" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:修复了在加密场景中执行 create schema 语句时出现的异常。</p><p id="1d0b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:如果 exist 语句异常，修复删除模式。</p><p id="8c0d" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:用<code class="fe nk nl nm nn b">LAST_INSERT_ID()</code>修复路由错误</p><p id="b4c3" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:修复在无数据源状态下使用数据库执行异常。</p><p id="e252" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">内核:用 set var 修复函数创建语句。</p><p id="0efb" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">访问:修复由 sharding sphere-Proxy PostgreSQL/open gauss 中的字段大小写不匹配导致的空指针<code class="fe nk nl nm nn b">Describe PreparedStatement</code></p><p id="3e69" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">Access:修复 sharding sphere-代理 PostgreSQL /openGauss 在模式 DDL 执行后未返回正确的标记。</p><p id="0993" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:修复 MySQL 在缩放过程中的无符号类型错误。</p><p id="4c39" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:修复一致性检查无法创建数据源时的连接泄漏问题。</p><p id="476f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:修复了<code class="fe nk nl nm nn b">ShardingSphereDataSource</code>初始化过程忽略除分片以外的规则的问题。</p><p id="9dd0" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:支持在准备阶段关闭的作业。</p><p id="2fee" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:修复数据源 url 和 jdbcurl 兼容性问题。</p><p id="2189" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:修复 openGauss 数据复制的创建时间问题，以避免可能的增量数据丢失。</p><p id="6f02" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动伸缩:改善作业状态的持久性，以确保特殊情况不会被旧状态覆盖。</p><p id="b41c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">自动缩放:修复 PostgreSQL 在使用 TestDecoder 进行增量迁移时无法正确解析<code class="fe nk nl nm nn b">null</code>的问题。</p><p id="a03c" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL: fix <code class="fe nk nl nm nn b">SET VARIABLE</code>更改在独立模式和内存模式下不生效。</p><p id="b763" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL:修复<code class="fe nk nl nm nn b">SHOW INSTANCE LIST</code>与实际数据不一致的问题。</p><p id="cd26" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL:修复分片规则中区分大小写的问题。</p><p id="26ca" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">运行模式:修复缩放功能改变分表规则后，新版本中元数据缺失的问题。</p><p id="580f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">分布式事务:修复根据<code class="fe nk nl nm nn b">catalog</code>得到的<code class="fe nk nl nm nn b">indexinfo</code>为空的问题。</p><h1 id="4f66" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">重构</h1><p id="dff5" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">自动扩展:重构<code class="fe nk nl nm nn b">jobConfig</code>以促进新类型工作的重用和扩展。</p><p id="1883" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">运行模式:优化注册表中心计算节点的存储结构。</p><p id="35ae" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">运行模式:使用<code class="fe nk nl nm nn b">uuid</code>替换<code class="fe nk nl nm nn b">ip@port</code>作为唯一的实例标识符。</p><h1 id="fd7b" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">API 调整</h1><p id="c922" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">DistSQL: <code class="fe nk nl nm nn b">EXPORT SCHEMA CONFIG</code>调整为<code class="fe nk nl nm nn b">EXPORT DATABASE CONFIG</code></p><p id="1966" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL: <code class="fe nk nl nm nn b">IMPORT SCHEMA CONFIG</code>调整为<code class="fe nk nl nm nn b">IMPORT DATABASE CONFIG</code></p><p id="d56a" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">运行模式:调整<code class="fe nk nl nm nn b">db-discovery</code>算法配置。</p><p id="ff46" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL: <code class="fe nk nl nm nn b">SHOW SCHEMA RESOURCES</code>调整为<code class="fe nk nl nm nn b">SHOW DATABASE RESOURCES</code></p><p id="446f" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">DistSQL: <code class="fe nk nl nm nn b">COUNT SCHEMA RULES</code>调整为<code class="fe nk nl nm nn b">COUNT DATABASE RULES</code></p><p id="f36b" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">权限:权限提供者<code class="fe nk nl nm nn b">ALL_PRIVILEGES_PERMITTED</code>更新为<code class="fe nk nl nm nn b">ALL_PERMITTED</code></p><p id="b7f5" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">权限:权限提供者<code class="fe nk nl nm nn b">SCHEMA_PRIVILEGES_PERMITTED </code>更新为<code class="fe nk nl nm nn b">DATABASE_PERMITTED</code></p><h1 id="b66e" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">社区大喊</h1><p id="693b" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated">感谢 54 位 ShardingSphere 贡献者的努力，他们总共提交了 1028 份 pr，使 ShardingSphere 5.1.2 版本成为可能。</p><figure class="my mz na nb gt nc gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi mx"><img src="../Images/34c15a2dca6d58f41df47686c7c456ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pZTGky6t07xuZFXE"/></div></div></figure><h1 id="788a" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">相关链接:</h1><p id="a117" class="pw-post-body-paragraph jm jn in jo b jp ms jr js jt mt jv jw jx mu jz ka kb mv kd ke kf mw kh ki kj ig bi translated"><a class="ae lh" href="https://github.com/apache/shardingsphere/issues?page=1&amp;q=is%3Aopen+is%3Aissue+label%3A%22project%3A+OpenForce+2022%22" rel="noopener ugc nofollow" target="_blank"> ShardingSphere Github </a></p><p id="5101" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated"><a class="ae lh" href="https://twitter.com/ShardingSphere" rel="noopener ugc nofollow" target="_blank"> ShardingSphere Twitter </a></p><p id="40d0" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated"><a class="ae lh" href="https://join.slack.com/t/apacheshardingsphere/shared_invite/zt-sbdde7ie-SjDqo9~I4rYcR18bq0SYTg" rel="noopener ugc nofollow" target="_blank">切割球松弛度</a></p><p id="4b40" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated"><a class="ae lh" href="https://shardingsphere.apache.org/community/cn/contribute/" rel="noopener ugc nofollow" target="_blank">投稿指南</a></p><p id="d143" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated"><a class="ae lh" href="https://shardingsphere.apache.org/document/current/cn/downloads/" rel="noopener ugc nofollow" target="_blank">下载链接</a></p><p id="a84a" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated"><a class="ae lh" href="https://github.com/apache/shardingsphere/blob/master/RELEASE-NOTES.md" rel="noopener ugc nofollow" target="_blank">发行说明</a></p><h1 id="20f7" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">作者</h1><blockquote class="nx ny nz"><p id="ef0e" class="jm jn nw jo b jp jq jr js jt ju jv jw oa jy jz ka ob kc kd ke oc kg kh ki kj ig bi translated"><strong class="jo io">吴伟杰</strong></p><p id="f3a5" class="jm jn nw jo b jp jq jr js jt ju jv jw oa jy jz ka ob kc kd ke oc kg kh ki kj ig bi translated"><strong class="jo io"> SphereEx 基础设施研发工程师，Apache ShardingSphere PMC </strong></p></blockquote><p id="96ec" class="pw-post-body-paragraph jm jn in jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ig bi translated">韦杰重点关注 Apache ShardingSphere 的接入终端 R&amp;D 和 ShardingSphere 的子项目<a class="ae lh" href="https://shardingsphere.apache.org/elasticjob/" rel="noopener ugc nofollow" target="_blank"> ElasticJob </a>。</p></div></div>    
</body>
</html>