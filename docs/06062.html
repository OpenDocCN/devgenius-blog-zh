<html>
<head>
<title>GiraffeQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">长颈鹿</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/giraffeql-260d5f63a249?source=collection_archive---------12-----------------------#2021-12-09">https://blog.devgenius.io/giraffeql-260d5f63a249?source=collection_archive---------12-----------------------#2021-12-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="5632" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我试图以一种更加 JSON 友好的格式复制 GraphQL 特性</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/237410ea5a58e29610922c79920bc5b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ookgl-lDiEJfEDiOLksBcg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来源:https://unsplash.com/photos/yB4U2crh-mU</figcaption></figure><p id="3076" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">背景</strong>几年前，我在学习 web 开发时，偶然发现了 GraphQL。我认为与 REST APIss 相比，这是一种非常好的高效的 API 查询方式，REST API 会一次返回所有字段，甚至是您并不特别需要的字段。</p><p id="c080" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">随着我开始熟悉 GraphQL，我开始意识到它在许多方面与 JSON 相似。然而，GraphQL 请求的格式肯定不是 JSON——它是作为字符串发送的，然后由服务器解析。作为一个初学者，这对我来说是一个挫折。我想使用原始的 JSON 来提交我的查询，看起来 GraphQL 差不多是 JSON，但又不完全是。</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="907d" class="le lf in la b gy lg lh l li lj">{<br/>  hero {<br/>    name<br/>    friends {<br/>      name<br/>    }<br/>  }<br/>}</span></pre><p id="7312" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为一名相对较新的开发人员，我想尝试提出自己的解决方案，并在此过程中学习一些东西。多年来，在我的编码冒险中，我一次又一次地实现解决方案。每次我重新实现它，我都试图改进我以前的尝试。</p><p id="9e5e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就把我们带到了长颈鹿。</p><p id="8761" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">关于 GiraffeQL<br/>GiraffeQL 的主要思想是本质上成为一种发送 GraphQL 式查询的 JSON 友好方式。对于那些从事 JavaScript/TypeScript 工作的人来说，我相信这提供了更好的开发体验，因为 JSON 在这些语言以及许多其他语言中都得到了本地支持。</p><p id="ddee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">GiraffeQL 是一个开源项目，到目前为止都是我一个人开发和维护的。我在我的个人项目中相当广泛地使用了它，但是我认为它已经发展到了可以向公众公开的程度。希望其他开发人员会发现它很有用，并有助于这个项目，并进一步开发它以适应他们的用例。</p><p id="55fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">核心功能</strong></p><ul class=""><li id="8f77" class="lk ll in jm b jn jo jr js jv lm jz ln kd lo kh lp lq lr ls bi translated">以更加 JSON 友好的格式向服务器发送查询</li><li id="0421" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated">仅返回您请求的字段</li><li id="c536" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated">可作为 NPM 包。</li><li id="d741" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated">构建在 Express.js 框架之上</li><li id="7d51" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated">无需太多额外工作即可公开 REST API 的能力</li><li id="784f" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated">为查询生成类型脚本定义文件的能力</li></ul><p id="6bda" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">示例</strong> <br/>使用 JSON 主体发送以下 POST 请求:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="66b5" class="le lf in la b gy lg lh l li lj">POST <a class="ae ky" href="https://api.cubepb.com/giraffeql" rel="noopener ugc nofollow" target="_blank">https://api.cubepb.com/giraffeql</a><br/>{<br/>  "getUser": {<br/>    "id": true,<br/>    "name": true,<br/>    "createdBy": {<br/>      "id": true,<br/>      "name": true<br/>    },<br/>    "__args": {<br/>      "id": 9<br/>    }<br/>  }<br/>}</span></pre><p id="720e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将得到以下响应:</p><pre class="kj kk kl km gt kz la lb lc aw ld bi"><span id="be64" class="le lf in la b gy lg lh l li lj">{<br/>  "data": {<br/>    "id": 9,<br/>    "name": "John Doe",<br/>    "createdBy": {<br/>      "id": 9,<br/>      "name": "John Doe"<br/>    }<br/>  }<br/>}</span></pre><p id="ca25" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于 TypeScript 用户，您可以通过转到<a class="ae ky" href="https://api.cubepb.com/schema.ts" rel="noopener ugc nofollow" target="_blank"> schema.ts </a>文件来获取查询的类型定义，然后您可以获得定义文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/92c8041199b00924e24b4ce076e75f5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*uEBZTf_U-08YIrQ34bWBvg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">生成的 schema.ts 文件如何帮助您填充 GiraffeQL 查询的示例</figcaption></figure><p id="0958" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">路线图和贡献</strong> <br/> GiraffeQL 是一个相对较新的项目，它正在积极寻找贡献者来帮助它做得更好。请随时提供反馈、提出拉动请求或以其他方式参与进来。查看<a class="ae ky" href="https://github.com/big213/giraffeql" rel="noopener ugc nofollow" target="_blank"> Github 库</a>了解详情。也请随时加入<a class="ae ky" href="https://discord.gg/CpSWfub9y6" rel="noopener ugc nofollow" target="_blank">不和谐频道</a>。</p><p id="79b6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">使用 GiraffeQL 的项目</strong> <br/>这些开源项目是我自己开发的，但是可以随时查看并参与进来:</p><ul class=""><li id="b246" class="lk ll in jm b jn jo jr js jv lm jz ln kd lo kh lp lq lr ls bi translated"><a class="ae ky" href="https://cubepb.com" rel="noopener ugc nofollow" target="_blank">CubePB.com</a>——开源网站，用于追踪速度竞赛相关项目的个人最佳成绩</li><li id="4af0" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated"><a class="ae ky" href="https://osrsrecords.com" rel="noopener ugc nofollow" target="_blank">OSRSRecords.com</a>—开源网站，用于追踪老学校 Runescape 社区中的 speedrun 记录。目前处于测试阶段，还没有上线。</li></ul><p id="a3dc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">有用链接</strong></p><ul class=""><li id="2500" class="lk ll in jm b jn jo jr js jv lm jz ln kd lo kh lp lq lr ls bi translated">Github 库:<a class="ae ky" href="https://github.com/big213/giraffeql" rel="noopener ugc nofollow" target="_blank">https://github.com/big213/giraffeql</a></li><li id="37aa" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated">不和频道:<a class="ae ky" href="https://discord.gg/CpSWfub9y6" rel="noopener ugc nofollow" target="_blank">https://discord.gg/CpSWfub9y6</a></li><li id="d035" class="lk ll in jm b jn lt jr lu jv lv jz lw kd lx kh lp lq lr ls bi translated">你好世界举例:<a class="ae ky" href="https://github.com/big213/giraffeql/wiki/Getting-Started" rel="noopener ugc nofollow" target="_blank">https://github.com/big213/giraffeql/wiki/Getting-Started</a></li></ul></div><div class="ab cl lz ma hr mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ig ih ii ij ik"><p id="ef6c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mg">更多内容请看</em><a class="ae ky" href="http://blog.devgenius.io" rel="noopener ugc nofollow" target="_blank"><em class="mg">blog . dev genius . io</em></a><em class="mg">。</em></p></div></div>    
</body>
</html>