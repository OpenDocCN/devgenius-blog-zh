<html>
<head>
<title>Deploying an EC2 instance in AWS and installing Apache</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 AWS 中部署 EC2 实例并安装 Apache</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/deploying-an-ec2-instance-in-aws-and-installing-apache-81d3c3670b9?source=collection_archive---------4-----------------------#2022-12-02">https://blog.devgenius.io/deploying-an-ec2-instance-in-aws-and-installing-apache-81d3c3670b9?source=collection_archive---------4-----------------------#2022-12-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6cd2" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">亚马逊网络服务和 Apache</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b6d8c7baffe4f17f6c2aeed76890b856.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oaSfOR_s3H0iQRUCtqAxLA.png"/></div></div></figure><h1 id="0c75" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">场景:</h1><p id="b4d3" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">您的公司希望开始从使用本地服务器转向使用云中的服务器。他们要求您在 AWS 中创建一个 EC2 实例来托管他们的新网站，而不是购买数据中心的所有基础设施。</p><h1 id="a39c" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">要求</h1><ul class=""><li id="e6fb" class="mc md in li b lj lk lm ln lp me lt mf lx mg mb mh mi mj mk bi translated">AWS 自由层帐户</li></ul><h1 id="4387" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">步骤 1:部署 EC2 实例</h1><p id="b423" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">通过您的 AWS 帐户访问 EC2 服务。如果服务没有列在您的主页上，请使用左上角的搜索栏查找服务。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ml"><img src="../Images/a39fd3f539fe616be7022af0ff5fc7dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e20yKcrL7PMPwdxrnS14Vg.png"/></div></div></figure><p id="4bee" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">点击<strong class="li io">“启动实例”</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/e9940a0bcdbd610a01722766a46476b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KxWYIhAuYP9mZnEzKuurgg.png"/></div></div></figure><p id="dbe3" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">现在我们可以命名它并选择想要的<strong class="li io"> AMI </strong>和<strong class="li io">实例</strong>类型。我将选择保留在空闲层中的实例类型。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ms"><img src="../Images/225425ef0b0a48ab650e7d972f335b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uAiEoHk4z9wJc0DnKjDcBg.png"/></div></div></figure><p id="01b2" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">接下来，我们需要创建一个<strong class="li io">密钥对</strong>。这将发出一组 SSH 密钥，使我们能够通过 SSH 远程访问我们的实例。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/9d4a2863e12dade63f379ec8f87c1938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*srukixJXx-2A5L4PZWIv-w.png"/></div></figure><p id="8ec6" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">接下来，我们需要创建一个新的安全组，允许公众访问网页，并允许我们通过 ssh 进入服务器。选中所有复选框，并在“<strong class="li io">允许来自</strong>的 SSh 流量”下拉菜单中输入您的 IP 地址。这将只允许来自您的 IP 的访问能够 SSH 到服务器。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/46862bf089b69acbcc6c554d6683537d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7I-qTTHaEtqaWivZm4_WWA.png"/></div></div></figure><p id="651b" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">点击<strong class="li io">启动实例</strong>部署实例。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/57d11240274c5c1b661a5b1fd0ac28e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*ZdpgvFl6RfON3h7V0HbiDA.png"/></div></figure><h1 id="fac8" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">步骤 2: SSH 进入实例</h1><p id="ea66" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">现在将 SSh 导入实例。在 EC2 服务页面中，找到并单击您的实例。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/35945d1e2580f4d5d40ef73530e97353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gIYwhbeS85reD9rOGcGNg.png"/></div></div></figure><p id="e543" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">点击“<strong class="li io">连接</strong>按钮，然后点击“<strong class="li io"> SSH 客户端选项卡</strong>”。这将显示我们将用于远程输入的必要信息和命令。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/a6531b9282b4112859d4c64ffc93d858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BokbnVrrKxvjiaWK70OOeA.png"/></div></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi my"><img src="../Images/481a5512e91d0d9005c34df67f3c676d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TktftANGjrmWs98SLrIP3Q.png"/></div></div></figure><p id="4900" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">在您的本地机器上打开一个终端，并按照概述的说明进行操作。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/c1ac06e687060d84fa05416fcc2ebf27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m_wXfb6eX8Dt_k5dlCNlQg.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">显示成功登录</figcaption></figure><h1 id="f74d" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">步骤 3:安装 Apache</h1><p id="ba52" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">让我们为安装创建一个 BASH 脚本。打开您最喜欢的编辑器，输入以下代码。</p><pre class="kd ke kf kg gt ne nf ng bn nh ni bi"><span id="fbb9" class="nj kp in nf b be nk nl l nm nn">#!/bin/bash<br/>sudo yum update -y<br/>yum install -y httpd<br/>sudo systemctl start httpd<br/>sudo systemctl enable httpd<br/>sudo echo '&lt;center&gt;&lt;h1&gt;This Apache Web Server is Running on an AWS EC2 Instance &lt;/h1&gt;&lt;/center&gt;' &gt; /var/www/html/index.html</span></pre><p id="873b" class="pw-post-body-paragraph lg lh in li b lj mm jo ll lm mn jr lo lp mo lr ls lt mp lv lw lx mq lz ma mb ig bi translated">将文件保存为“<strong class="li io">install . sh”</strong>并赋予其执行权限，运行脚本。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi no"><img src="../Images/00dd711804473c68e36dc27bf701a918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tJQnKzgFWIGlQgn_gyT5tg.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">运行 BASH 脚本</figcaption></figure><h1 id="a5e8" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">最后一步:访问网站</h1><p id="ae03" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">既然服务已经安装并正在运行。在 web 浏览器中输入实例的公共 IP 进行确认。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi np"><img src="../Images/3d1a5dbfaae7b40f4a94e9af66f14c52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*puOowxRO4GI1agC9xJPN0Q.png"/></div></div></figure></div></div>    
</body>
</html>