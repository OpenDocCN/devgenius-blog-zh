<html>
<head>
<title>Part One Dockerizing the TypeScript React App with NodeJS Vs NGINX with WSL2 Alpine Linux on Windows 10</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第一部分在 Windows 10 上用 NodeJS 与 NGINX 对接 TypeScript React 应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/dockerizing-the-typescript-react-app-with-nodejs-vs-nginx-with-wsl2-alpine-linux-on-windows-10-8dddd447f43a?source=collection_archive---------3-----------------------#2022-07-04">https://blog.devgenius.io/dockerizing-the-typescript-react-app-with-nodejs-vs-nginx-with-wsl2-alpine-linux-on-windows-10-8dddd447f43a?source=collection_archive---------3-----------------------#2022-07-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e25c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第一部分:</strong> <strong class="jm io">与<strong class="jm io"> NodeJS </strong>一个<strong class="jm io">类型脚本 React </strong>应用程序由<strong class="jm io"> Keycloak 使用 WSL2 和发行版 Alpine Linux </strong>保护</strong></p><p id="a3a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">版本 1.0 <br/>日期 2022/07/04 <br/>作者 Nicolas Barlatier</p><p id="ff97" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">重要提示:</strong>本文也可以用于你的任何 React App。<br/>所以请继续阅读<strong class="jm io">😎</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/783a911006daa6c48466768c648c1227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9wM8KEoxxmqJzUkd02EKLQ.png"/></div></div></figure><h1 id="548b" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">简介</strong></h1><p id="54d7" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">这是<strong class="jm io">第一部分</strong>:<strong class="jm io">dockering</strong>a<strong class="jm io">TypeScript React App</strong>with<strong class="jm io">Node</strong>使用<strong class="jm io">Alpine Linux</strong>with<strong class="jm io">Windows 10 通过 WSL2 </strong>。</p><p id="7e51" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我们将重点关注如何使用<strong class="jm io"> NodeJS 从我们的<strong class="jm io"> React 应用程序</strong>代码库制作一个<strong class="jm io"> docker 映像</strong>。</strong></p><p id="b91a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">为什么使用节点？</strong>有了 Node，我们将能够从 Docker 容器中使用我们的<strong class="jm io"> VS 代码 IDE </strong>和<strong class="jm io">处理我们的代码</strong>，这将实时反映我们的代码变化！</p><p id="cdaf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通过 Docker 映像开发 React 应用程序是一种非常方便的方式，你不觉得吗？:) 👌😎</p><p id="f1d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文将分为以下几个部分:</p><ul class=""><li id="b50b" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">如何启动我们的开发环境:<strong class="jm io"> WSL 2 </strong>使用<strong class="jm io"> Linux Alpine 发行版</strong>然后使用来自 Linux Alpine 的<strong class="jm io"> Windows VS Code IDE </strong>打开 React 项目</li><li id="1f00" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">解释为什么使用<strong class="jm io"> Docker </strong>以及如何使用<strong class="jm io"> Dockerfile </strong>创建我们的 React 应用程序 Docker 映像</li><li id="bc8d" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">如何通过 Windows docker 桌面用 WSL2 Alpine Linux 中的 Docker 文件构建我们的 React <strong class="jm io"> docker 映像</strong></li><li id="175b" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">如何<strong class="jm io">运行</strong>我们的<strong class="jm io">将 Docker 映像</strong>与<strong class="jm io">节点</strong>和<strong class="jm io">同步</strong>与<strong class="jm io">VS 代码</strong>中的任何代码变化</li></ul><p id="44f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">唷！我相信你会学到很多东西😁👍</p><p id="82e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">也许一开始我们会像这只可怜的狗一样！😂😁</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/d60cdab509d0bc513068a7145c73f195.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*WLNcfR9skHg1Cv8F.gif"/></div></figure><p id="f822" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是你不要担心，我们所要做的就是从头到尾沿着这条路走下去。就像我们滑雪时的一个很长的斜坡，完美的图像说明了这一点:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/69271f244cddda1ab6f7569ef9c90771.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*NpJh7zAh9M0MisuV.png"/></div></figure><p id="ed9b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你不必阅读所有的链接，但它们有助于你理解我们为什么这样做。</p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="0390" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我们将继续构建我们的解决方案，它由一个由<strong class="jm io"> Keycloak </strong>保护的<strong class="jm io"> React 应用程序组成，并使用一个<strong class="jm io">访问 JWT </strong>来访问由 JWT </strong>保护的<strong class="jm io"> REST Web API。</strong></p><p id="751e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">👀重要提示:</strong>本文也可用于任何用 Javascript 或 TypeScript 制作的 React App。所以请继续读下去😎我会用这双眼睛来突出👀当它告诉你细节的时候👀</p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="f10c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要使用由 Keycloak 保护的 React 应用程序，请找到文章和 github 源代码:</p><p id="775a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae mu" href="https://medium.com/p/1d076777a979" rel="noopener">第一部分:用 Docker 和 Administration 安装 key cloak</a></p><p id="4793" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae mu" href="https://medium.com/@barlatiernicolas/security-in-react-and-webapi-in-asp-net-core-c-with-authentification-and-authorization-by-keycloak-89ba14be7e5a" rel="noopener">第二部分:保护前端 React 应用</a></p><p id="ebd3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae mu" href="https://medium.com/@barlatiernicolas/security-in-react-and-webapi-in-asp-net-core-c-with-authentification-and-authorization-by-keycloak-f890d340d093" rel="noopener">第三部分:保护 ASP.NET 核心 C# REST Web </a></p><p id="b227" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae mu" href="https://medium.com/@barlatiernicolas/part-four-security-in-react-and-webapi-in-asp-net-b6dffd3b7624" rel="noopener">第四部分:使用访问 JWT 令牌载体授权从 React SPA 调用受保护的 Web API</a></p><p id="43ca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">包含 React 和 Web API 项目的 GitHub 存储库</p><ul class=""><li id="825c" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated"><strong class="jm io">使用类型脚本对 18.1.0 版做出反应</strong></li><li id="49e4" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated"><strong class="jm io">采用 ASP.NET 核心 5.0 的网络应用编程接口</strong></li></ul><div class="mv mw gp gr mx my"><a href="https://github.com/nicoclau/reactwebapiaspnetcorekeycloak" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">GitHub—nicoclau/reactwebapiaspnetcorekeycloak:React 和 REST 受 keycloak 保护的 Web API 与…</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">React 和 REST Web API 由带有授权代码流和 JWT 令牌的 Keycloak 保护— GitHub …</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm ks my"/></div></div></a></div><p id="09a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一次提交<strong class="jm io">包含:</strong></p><ul class=""><li id="c031" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">由 keycloak 服务器保护的 React SPA</li><li id="168e" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">Web API 由访问令牌保护，使用来自 keycloak 服务器的公钥进行验证</li></ul><p id="ed58" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这两个应用程序还没有通信，它们只是受到保护。</p><p id="fb5f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第二次提交包含:</p><ul class=""><li id="cb15" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">React SPA 使用 JWT 令牌与 Web API 通信，并处理 CORS 策略</li></ul><p id="f356" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第三次提交包含:</p><ul class=""><li id="da4e" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">React 应用程序的 Docker 文件</li></ul></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><h1 id="0e80" class="ku kv in bd kw kx nn kz la lb no ld le lf np lh li lj nq ll lm ln nr lp lq lr bi translated">1 先决条件</h1><p id="cfa7" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我在 Windows 10 Pro 上。我不能涵盖所有的情况，否则这篇文章就不可能完成😁现在让我们看看我们需要什么！</p><h1 id="dda5" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1–1 Docker 桌面</h1><p id="b55b" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">首先我们在 Windows 10 上下载<strong class="jm io"> Docker 桌面。</strong></p><p id="d6d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在每个环境的链接下方:</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/windows/install/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Windows 上安装 Docker 桌面</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">更新 Docker 桌面条款 Docker 桌面在大型企业(超过 250 名员工或…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="ns l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/mac/install/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Mac 上安装 Docker 桌面</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">预计阅读时间:7 分钟更新到 Docker 桌面条款 Docker 桌面的商业用途在更大…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="nt l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/linux/install/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Linux 上安装 Docker 桌面</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">欢迎来到 Docker 桌面 Linux 版。本页包含有关系统要求、下载 URL 和…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="nu l nj nk nl nh nm ks my"/></div></div></a></div><p id="4c9e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 windows 10 Pro 上，我使用了第一个链接。现在我们有了 Docker 桌面。</p><p id="f9ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们继续之前，让我们回忆一下在以前的文章中我们是如何构建 React 应用程序的。</p><p id="0236" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我用 NodeJs 和 npm </strong>使用助手工具:创建 React app:</p><blockquote class="nv"><p id="04d3" class="nw nx in bd ny nz oa ob oc od oe kh dk translated">λ node -v <br/> v16.9.0</p><p id="cfc3" class="nw nx in bd ny nz oa ob oc od oe kh dk translated">λ npm -v <br/> 6.14.4</p></blockquote><p id="133c" class="pw-post-body-paragraph jk jl in jm b jn of jp jq jr og jt ju jv oh jx jy jz oi kb kc kd oj kf kg kh ig bi translated">下面我们可以找到下载 Node.js 和 npm 的官方链接:</p><div class="mv mw gp gr mx my"><a href="https://nodejs.org/en/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">节点. js</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Node.js 是基于 Chrome 的 V8 JavaScript 引擎构建的 JavaScript 运行时。</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">nodejs.org</p></div></div><div class="nh l"><div class="ok l nj nk nl nh nm ks my"/></div></div></a></div><p id="be46" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想用我用过的版本:</p><div class="mv mw gp gr mx my"><a href="https://nodejs.org/dist/v16.9.0/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">/dist/v16.9.0/的索引</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">docs/07-Sep-2021 08:24-win-x64/07-Sep-2021 07:51-win-x86/07-Sep-2021 07:52-shasums 256 . txt 07-Sep-2021 10:06…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">nodejs.org</p></div></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/f34e66e5792ae57f38aa0d1d3810680d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EvAlRFENYV5qo2O87W-PRA.png"/></div></div><figcaption class="om on gj gh gi oo op bd b be z dk translated">对于 windows，我们有节点安装程序</figcaption></figure><p id="8708" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最新的 LTS 版本是:<strong class="jm io"> 16.15.1(包括 npm 8.11.0) (2022 年 7 月 3 日)</strong></p><p id="4de3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们注意到我们的 React 应用程序开发中使用的 NodeJS 版本是 16.9.0，所以我们可以稍后在<strong class="jm io"> Linux </strong>上将它添加到 Docker 容器中。</p><p id="6a33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们不需要在我们的 Windows 操作系统上安装 NodeJS(这就是 Docker 的妙处)</p><p id="046e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">== &gt;我们将使用<strong class="jm io"> Linux Docker 来构建和运行 React 应用程序的容器</strong>。&lt; ==</p><p id="662f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我使用的是 Windows 10，但在 Linux 上使用 WSL2 很容易，wsl 2 当然代表 Linux 的 Windows 子系统！现在我们可以选择任何一个 Linux 发行版(或者几乎是)😊</p><h1 id="3420" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1–2 WSL 2</h1><p id="3581" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">Windows 10 基于 Windows NT 内核，从一开始就可以托管多个子系统！</p><p id="7d30" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">微软就是这么想的，Linux 用得越来越多，为什么不提供 Linux 作为子系统呢？绝妙的主意:WSL2 来了。</p><p id="6adb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是关于 WSL 2 的总结:</p><blockquote class="oq or os"><p id="fb6c" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">WSL 2 发布了一个轻量级的<strong class="jm io">虚拟机，带有一个完整的 Linux 内核，具有</strong>快速的启动时间，很小的资源占用，并且完全没有 VM 配置或管理。</p><p id="5e1b" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">= &gt;一个完整的 Linux 内核在这个 VM 中被虚拟化<br/> = &gt;对于一个真正的 Linux 内核，WSL 2 现在提供了完整的系统调用兼容性</p><p id="982c" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">我们会看到这个 Linux 内核叫做:<strong class="jm io"> WSL2-Linux-Kernel </strong></p></blockquote><p id="cd42" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这样我们就可以一直使用 Linux。</p><blockquote class="oq or os"><p id="65e9" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">我们将在 WSL2 和发行版 Alpine 中使用 Docker 桌面。</p></blockquote><p id="6c7e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 Windows 10 上启用 WSL2 需要遵循一些步骤。</p><p id="0475" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这两个链接会对你有帮助。</p><div class="mv mw gp gr mx my"><a href="https://pureinfotech.com/install-windows-subsystem-linux-2-windows-10/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">如何在 Windows 10 上安装 wsl 2(Linux 2 的 Windows 子系统)——pure infotech</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">wsl 2(Windows Subsystem for Linux version 2)是该架构的一个新版本，它允许您在</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">pureinfotech.com</p></div></div><div class="nh l"><div class="ox l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.microsoft.com/en-us/windows/wsl/install" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">安装 WSL</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">本指南将向您展示如何安装 Linux 发行版(如 Ubuntu、OpenSUSE、Kali、Debian、Arch Linux 和…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.microsoft.com</p></div></div><div class="nh l"><div class="oy l nj nk nl nh nm ks my"/></div></div></a></div><p id="6960" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将在下一节解释如何使用 Alpine Linux 发行版。</p><p id="6e90" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="ot">现在 WSL 2 也被 Docker 桌面使用！</em> </strong>让我们看看为什么和如何。</p><h1 id="a8b7" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1–3 Docker 桌面 WSL 2 后端</h1><p id="1b0f" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我们将在 Windows 上使用带有 WS2 引擎 的<strong class="jm io"> <em class="ot"> Docker Deskop，它比传统的 Hyper-V 后端具有更好的性能。<br/>下面我们可以看到“使用基于 WSL 2 的引擎”选项。</em></strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/290a978ebc20ab61d34798ad1ee66825.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cIpMvV3Svat9DHIaRGNcdg.png"/></div></div></figure><blockquote class="oq or os"><p id="332b" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">Windows Subsystem for Linux (WSL) 2 引入了一个重要的体系结构变化，因为它是由微软构建的完整 Linux 内核，允许 Linux 发行版无需管理虚拟机即可运行</p><p id="90d5" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">WSL 2 增加了一个完整的 Linux 环境，包括文件系统、环境变量和网络资源的自动共享</p></blockquote><p id="1621" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面你可以看到使用 WSL VM 架构的 Docker 桌面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/1d78b8c507eab8d0db9266398ddc2542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jm2scvEHfh5_hELF.png"/></div></div></figure><p id="de43" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以在这里找到关于该架构的完整文章:</p><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Windows for Linux 子系统(WSL) 2 中使用 Docker</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">2020 年 3 月 2 日 Matt Hernandez，@ fiveisprime 去年 6 月，Docker 团队宣布他们将投资于…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="pb l nj nk nl nh nm ks my"/></div></div></a></div><p id="e466" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">daemon DockerD(容器的自给自足的运行时)直接在 WSL 中运行，因此不需要 Hyper-V VM，所有 Linux 容器都在 Windows 上的 Linux 用户空间中运行，以提高性能和兼容性！</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/windows/wsl/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Docker 桌面 WSL 2 后端</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">预计阅读时间:9 分钟更新到 Docker 桌面条款 Docker 桌面的商业用途在更大…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="pc l nj nk nl nh nm ks my"/></div></div></a></div><p id="95a2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是一篇更详细的文章，解释了 Docker 用来与 WSL2 集成的架构:</p><div class="mv mw gp gr mx my"><a href="https://blog.oio.de/2020/10/02/seamless-integration-of-docker-on-windows-using-wsl-2/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">使用 WSL 2 无缝集成 Windows 上的 Docker？</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">在这篇文章中，我给出了一个在 Windows 上使用 Docker 的简短总结，并对最新的 Docker 桌面进行了更详细的介绍…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">博客. oio.de</p></div></div><div class="nh l"><div class="pd l nj nk nl nh nm ks my"/></div></div></a></div><p id="e818" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下图显示了 WSL2 和 Linux 发行版中使用的组件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/ba2c5a9a5d4f2d0efbd362bc901a307e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*94GoXJZ0noY4F81mcUEyyA.png"/></div></figure><p id="69bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下图显示了 Docker Desktop 如何使用 WSL2:</p><p id="801a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到发行版(Alpine Linux)需要一个代理来与 VM 中运行的 Docker 通信(我们将看到如何启用这个代理)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/306c4e61d0ad9d9c5b41d4b6e68c99c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*RwI9op2DMvNXvTryYYgs2g.png"/></div></figure><blockquote class="oq or os"><p id="7e0a" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">WSL 文件系统在虚拟硬盘(VHD)上也变成了<em class="in"> ext4 </em>格式。这使得 WSL 2 文件系统中的文件 IO 速度更快，因为不再需要翻译层</p><p id="4b77" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated"><em class="in">共享文件/文件夹是通过使用 9P 协议的文件系统桥来完全维护的，所以 WSL 2 可以看到所有的 Windows 文件和文件夹，你也可以从 Windows 看到你的 Linux 挂载。<br/>WSL 2 中现在有一个网卡。我们使用我们的 NAT 网络模式，以便网卡完全由主机管理和协调，但它有自己的 IP 地址</em></p></blockquote><p id="9dd8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我们将在 WSL 中使用 Linux Alpine 发行版，因为 Alpine 是最轻的发行版</strong></p><blockquote class="oq or os"><p id="7406" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">小。简单。安全。Alpine Linux 是基于 musl libc 和 busybox 的面向安全的轻量级 Linux 发行版。</p></blockquote><div class="mv mw gp gr mx my"><a href="https://www.makeuseof.com/alpine-linux-explained/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Alpine Linux:轻量级 Linux 发行版讲解</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Linux 很有趣，但有时你会因为当前的发行版而碰壁，想要一些不同的东西。另外，似乎…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">www.makeuseof.com</p></div></div><div class="nh l"><div class="pg l nj nk nl nh nm ks my"/></div></div></a></div><p id="d2fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">也请阅读下面的链接，它详细解释了为什么<strong class="jm io"> Alpine </strong>是今天与 docker 合作的最佳选择。</p><div class="mv mw gp gr mx my"><a href="https://nickjanetakis.com/blog/the-3-biggest-wins-when-using-alpine-as-a-base-docker-image" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">使用 Alpine 作为基本 Docker 图像的 3 大优势</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">众所周知，Docker 大量使用 Alpine 作为官方 Docker 图片的基础图片。这个动作…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">nickjanetakis.com</p></div></div><div class="nh l"><div class="ph l nj nk nl nh nm ks my"/></div></div></a></div><p id="d1bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为我们在项目中使用了 16.9.0 版本的 Node，而官方容器 Node 16.9.0 使用的是 Alpine 3.14，所以我们也将使用 Alpine 3.14 在 Windows 机器上工作。</p><p id="8897" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我们使用架构<em class="ot"> x86_64 的 PC。</em> </strong></p><p id="b7f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要了解计算机处理器架构，请运行以下命令:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="c39e" class="pn kv in pj b gy po pp l pq pr">λ uname -m<br/>x86_64</span></pre><p id="49a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果‘uname’未被识别为内部或外部命令，<br/>可操作程序或批处理文件。请对窗口使用带有 Git 的工具<strong class="jm io"> cmder，而不是通常的窗口 cmd:</strong></p><div class="mv mw gp gr mx my"><a href="https://cmder.net/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">控制台模拟器</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">用于 Windows Cmder 的便携式控制台仿真器是一个软件包，它完全是由于缺少…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">cmder.net</p></div></div><div class="nh l"><div class="ps l nj nk nl nh nm ks my"/></div></div></a></div><p id="701f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要享受所有的工具，请使用包含 Git for Window 的完整版本</p><p id="4236" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae mu" href="https://github.com/cmderdev/cmder/releases/download/v1.3.19/cmder.zip" rel="noopener ugc nofollow" target="_blank">https://github . com/cmder dev/cmder/releases/download/v 1 . 3 . 19/cmder . zip</a></p><p id="6167" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以在下面找到使用 x86_64 架构的版本 3.14.0 的发布列表:</p><div class="mv mw gp gr mx my"><a href="https://dl-cdn.alpinelinux.org/alpine/v3.14/releases/x86_64/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">/alpine/v3.14/releases/x86_64/的索引</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">netboot/2022 年 4 月 4 日 16:09-netboot-2021 年 6 月 15 日 14:36-netboot-2021 年 8 月 5 日 12:27 - netboot-3.14.2/…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">dl-cdn.alpinelinux.org</p></div></div></div></a></div><h1 id="6ea1" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">迷你根文件系统</h1><p id="a37f" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">阿尔卑斯山分为不同的类型</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/d347439d243bf5c4192bd2f7fe046e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a6_Y2rC-G11bCL9REvYO7A.png"/></div></div></figure><p id="0b2a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将使用迷你根文件系统:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/e96eb22ed2581c1d66ebd83645393468.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*MzymaqupZAxP8WNIY9d0iA.png"/></div></figure><p id="1837" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它适用于集装箱和小型集装箱。</p><p id="7d0f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">应该够了吧！</p><blockquote class="oq or os"><p id="3552" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">正如安德鲁·迈克菲在《少花钱多办事》一书中所说:我们可以用更少的资源做更多的事:)</p></blockquote><p id="cf69" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先从具有预期版本和处理器架构的 Alpine 版本列表中下载适用于我们的 x86_64 架构的最低版本 minirootfs Alpine:</p><p id="b9b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae mu" href="https://dl-cdn.alpinelinux.org/alpine/v3.14/releases/x86_64/alpine-minirootfs-3.14.0-x86_64.tar.gz" rel="noopener ugc nofollow" target="_blank">https://dl-cdn . alpinelinux . org/alpine/v 3.14/releases/x86 _ 64/alpine-minirootfs-3 . 14 . 0-x86 _ 64 . tar . gz</a></p><p id="3a25" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们使用 WSL cli 命令将发行版导入到我们的 WSL2 中:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="d592" class="pn kv in pj b gy po pp l pq pr">λ wsl --import AlpineMiniRootFS3.14-6 alpinewsl alpine-minirootfs-3.14.6-x86_64.tar.gz</span></pre><p id="b43a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们传递这样的论点:</p><ul class=""><li id="9bcd" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">发行版的名称(我们称之为 alpineminirootfs 3.14–6)</li><li id="e755" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">我们存储发行版的目录名(我们创建了目录 alpinewsl)</li><li id="59d0" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">阿尔卑斯山的压缩文件。</li></ul><p id="7e23" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们检查我们的 alpine 发行版 alpineminirootfs 3.14–6 是否已列出:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="464b" class="pn kv in pj b gy po pp l pq pr">λ wsl -l -v<br/>  NAME                      STATE           VERSION<br/>* docker-desktop            Running         2<br/>  docker-desktop-data       Running         2<br/>  <strong class="pj io"><em class="ot">AlpineMiniRootFS3.14-6    Stopped         2</em></strong></span></pre><p id="c103" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Alpine 发行版是停止的，默认不选择(见星号*设置为 Ubuntu)。</p><p id="3e91" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到 Alpine 使用 WSL version 2，它在文件系统和 Linux 内核系统调用的兼容性方面有更好的性能。</p><p id="ea28" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先让我们确保我们可以使用我们的发行版。</p><p id="ce7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用命令:</p><p id="84b7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">wsl-d alpineminirootfs 3.14–6</p><p id="019a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们使用 Alpine 作为发行版来打开 WSL:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="fbf7" class="pn kv in pj b gy po pp l pq pr">λ wsl -d AlpineMiniRootFS3.14-6<br/>xxxx:/mnt/c/Tutorial#</span><span id="b98f" class="pn kv in pj b gy pv pp l pq pr">xxxx:/mnt/c/Tutorial# uname -r<br/>5.10.102.1-microsoft-standard-WSL2</span><span id="8a4b" class="pn kv in pj b gy pv pp l pq pr">xxxx:/mnt/c/Tutorial# cat /proc/version<br/>Linux version 5.10.102.1-microsoft-standard-WSL2 (oe-user@oe-host) (x86_64-msft-linux-gcc (GCC) 9.3.0, GNU ld (GNU Binutils) 2.34.0.20200220) #1 SMP Wed Mar 2 00:30:59 UTC 2022</span><span id="b2cc" class="pn kv in pj b gy pv pp l pq pr">xxxx:/mnt/c/Tutorial# cat /etc/os-release<br/>NAME="Alpine Linux"<br/>ID=alpine<br/>VERSION_ID=3.14.6<br/>PRETTY_NAME="Alpine Linux v3.14"<br/>HOME_URL="<a class="ae mu" href="https://alpinelinux.org/" rel="noopener ugc nofollow" target="_blank">https://alpinelinux.org/</a>"<br/>BUG_REPORT_URL="<a class="ae mu" href="https://bugs.alpinelinux.org/" rel="noopener ugc nofollow" target="_blank">https://bugs.alpinelinux.org/</a>"</span></pre><p id="8162" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以从 Windows 中使用 Alpine:)</p><p id="1403" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我们检查了两点:</p><ul class=""><li id="f7e2" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">我们使用 alpine Linux 发行版</li><li id="2b0b" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">我们在幕后使用微软 linux 内核(5 . 10 . 102 . 1-微软标准-WSL2)</li></ul><p id="f2eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是微软支持的 WSL2 使用的 Linux 内核 GitHube:</p><div class="mv mw gp gr mx my"><a href="https://github.com/microsoft/WSL2-Linux-Kernel" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">GitHub-Microsoft/wsl 2-Linux-Kernel:Windows 子系统中使用的 Linux 内核的源代码…</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">WSL2-Linux-Kernel repo 包含 WSL2 内核的内核源代码和配置文件。如果你发现…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="pw l nj nk nl nh nm ks my"/></div></div></a></div><p id="3cb8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们确信可以使用 Alpine 了，让我们用下面的命令将它设为默认发行版</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="4051" class="pn kv in pj b gy po pp l pq pr">wsl -s AlpineMiniRootFS3.14–6</span></pre><p id="bdf0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们得到了结果:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="b9f3" class="pn kv in pj b gy po pp l pq pr">λ wsl -s AlpineMiniRootFS3.14-6</span><span id="d027" class="pn kv in pj b gy pv pp l pq pr">λ wsl -l -v<br/>  NAME                      STATE           VERSION<br/>* AlpineMiniRootFS3.14-6    Running         2<br/>  docker-desktop            Running         2<br/>  docker-desktop-data       Running         2</span><span id="6058" class="pn kv in pj b gy pv pp l pq pr">λ wsl<br/>xxxx:/mnt/c/Tutorial# cat /etc/alpine-release<br/>3.14.6</span><span id="5910" class="pn kv in pj b gy pv pp l pq pr">xxxx:/mnt/c/Tutorial# cat /etc/os-release<br/>NAME="Alpine Linux"<br/>ID=alpine<br/>VERSION_ID=3.14.6<br/>PRETTY_NAME="Alpine Linux v3.14"<br/>HOME_URL="<a class="ae mu" href="https://alpinelinux.org/" rel="noopener ugc nofollow" target="_blank">https://alpinelinux.org/</a>"<br/>BUG_REPORT_URL="<a class="ae mu" href="https://bugs.alpinelinux.org/" rel="noopener ugc nofollow" target="_blank">https://bugs.alpinelinux.org/</a>"</span></pre><p id="2bb0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，当我们不带任何参数只运行 wsl 命令时，我们使用 alpine:)</p><p id="039b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您也可以在 Windows 中打开以下窗口来查看 alpine 发行版的所有文件:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="c73c" class="pn kv in pj b gy po pp l pq pr">\\wsl$\AlpineMiniRootFS3.14–6</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi px"><img src="../Images/3442ec1e19071cfa4e52318457f44b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*IZgoH_Ey2vWBF7Rg8H6rPQ.png"/></div></figure><p id="7c8b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们有了 WSL2 和 Alpine Linux 发行版，它们可以很好地协同工作。<br/>让我们用 VS 代码在 Alpine Linux 上工作吧！</p><h1 id="bbf1" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1–4 运行来自 Alpine Linux 的 VS 代码</h1><p id="a4ef" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">在我们的<strong class="jm io"> Windows 版本 VS 代码</strong>中创建 Dockerfile 之前，让我们看看如何从 Alpine Linux 中打开 VS 代码。是的，你没看错，我们可以从 Linux 上打开 Windows 应用程序。</p><p id="44e1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看我们是否真的可以用来自 Alpine WSL2 的 VS 代码打开我们的 React 项目。</p><p id="fbbc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我们进入项目目录，您的路径必须不同，但它必须以/mnt/c/…开头。</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="addb" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial/# cd <strong class="pj io">/mnt/c/Tutorial/keycloak/reactwebapikeycloak/</strong></span><span id="5946" class="pn kv in pj b gy pv pp l pq pr">xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak#</span></pre><p id="8dd6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们从带有点的命令所在的位置打开我们的可视代码。最后</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="0b2e" class="pn kv in pj b gy po pp l pq pr">&gt; code<strong class="pj io"> <em class="ot">.</em></strong></span></pre><p id="05b7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">圆点表示从当前目录打开我与代码。</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="a6e2" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak/# code .<br/>WARNING: Ignoring <a class="ae mu" href="https://dl-cdn.alpinelinux.org/alpine/v3.14/main" rel="noopener ugc nofollow" target="_blank">https://dl-cdn.alpinelinux.org/alpine/v3.14/main</a>: No such file or directory<br/>WARNING: Ignoring <a class="ae mu" href="https://dl-cdn.alpinelinux.org/alpine/v3.14/community" rel="noopener ugc nofollow" target="_blank">https://dl-cdn.alpinelinux.org/alpine/v3.14/community</a>: No such file or directory<br/>libstdc++ is required to run the VSCode Server:<br/>Please open an Alpine shell and run 'apk update &amp;&amp; apk add libstdc++'</span></pre><p id="5b34" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们注意到<strong class="jm io"> libstdc++ </strong>缺失，VSCode 服务器需要它来打开 Alpine 通过 WSL2 运行的可视代码。</p><p id="995e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">‼也<strong class="jm io"> Alpine Linux </strong>默认使用<a class="ae mu" href="https://musl.libc.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">musl libc</strong></a><strong class="jm io"/>但是我们需要安装<a class="ae mu" href="https://www.etalabs.net/compare_libcs.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> glibcc </strong> </a>来在我们的终端上运行来自 Alpine Linux 发行版的 Docker。‼</p><p id="103d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将安装依赖于<a class="ae mu" href="https://www.etalabs.net/compare_libcs.html" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">glibcc</strong></a><strong class="jm io">的<strong class="jm io"> libstdc++，所以我们将一次安装两个:</strong></strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/9e2d5da9a85527bc89176c510b4c3c74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_LEB46dw_eFODnkuGH_cdQ.png"/></div></div><figcaption class="om on gj gh gi oo op bd b be z dk translated">libstdc++依赖于 libgcc</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/a7e843c29ea2998459f1b26b0a41bbb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYRnWNA_6xnB0Bch7NH7jw.png"/></div></div></figure><p id="9f75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们在阿尔卑斯山看到的 libgcc 是由 musl 创造的！它应该是一个 musl 的包装。</p><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/docs/remote/linux" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Visual Studio 代码远程开发的 Linux 先决条件</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">VS 代码远程 SSH、远程容器和远程 WSL 的 Linux 先决条件</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="pz l nj nk nl nh nm ks my"/></div></div></a></div><p id="3812" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，您可以看到在远程开发中使用 Visual Studio 代码的先决条件。</p><p id="db1e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">事实上，我们的项目和 VS 代码存储在 windows 文件系统中。我们在 linux 文件系统上工作。</p><p id="5c82" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您需要了解有关 Visual Studio 代码远程开发的更多信息:</p><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/docs/remote/remote-overview" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Visual Studio 代码远程开发</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Visual Studio 代码远程开发允许您使用容器、远程机器或用于 Linux 的 Windows 子系统…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="qa l nj nk nl nh nm ks my"/></div></div></a></div><blockquote class="oq or os"><p id="841c" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">Visual Studio 代码远程开发允许您使用容器、远程机器或 Linux 的 Windows 子系统作为一个全功能的开发环境。</p><p id="7797" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">Visual Studio 代码远程开发对您将连接到的特定主机/容器/ WSL 分发有先决条件。</p></blockquote><p id="ddbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面的链接详细说明了如何使用 VS 代码从 WSL 工作:</p><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/docs/remote/wsl-tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">使用 Visual Studio 代码在 Linux 的 Windows 子系统中工作</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">本教程将带您了解如何启用 Windows Subsystem for Linux (WSL ),以及如何使用…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="qb l nj nk nl nh nm ks my"/></div></div></a></div><p id="ed8f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以让我们来解决这个问题。libstdc++包可从以下网址获得:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/6cbc36be2f0ea803ef1b1f163e7b81f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tla1nv4C3GE0KEpUhmv-KQ.png"/></div></div><figcaption class="om on gj gh gi oo op bd b be z dk translated">Alpine Linux 软件包</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/e64232d8d024a1fdbd77e3471982da72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NizpWRCVPBz8gMD9Kjpsow.png"/></div></div></figure><p id="0b2b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以检查它是否可用。让我们安装:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="0055" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak# apk update &amp;&amp; apk add libstdc++<br/>fetch <a class="ae mu" href="https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz" rel="noopener ugc nofollow" target="_blank">https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz</a><br/>fetch <a class="ae mu" href="https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz" rel="noopener ugc nofollow" target="_blank">https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz</a><br/>v3.14.6-77-gc88baf16ee [<a class="ae mu" href="https://dl-cdn.alpinelinux.org/alpine/v3.14/main" rel="noopener ugc nofollow" target="_blank">https://dl-cdn.alpinelinux.org/alpine/v3.14/main</a>]<br/>v3.14.6-75-g95d33475fe [<a class="ae mu" href="https://dl-cdn.alpinelinux.org/alpine/v3.14/community" rel="noopener ugc nofollow" target="_blank">https://dl-cdn.alpinelinux.org/alpine/v3.14/community</a>]<br/>OK: 14961 distinct packages available<br/>(1/2) Installing libgcc (10.3.1_git20210424-r2)<br/>(2/2) Installing libstdc++ (10.3.1_git20210424-r2)<br/>OK: 7 MiB in 16 packages</span></pre><p id="c246" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">很简单，对吗？！让我们检查一下关于 libstdc++的版本信息</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="417c" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# <strong class="pj io">apk info libstdc++</strong><br/>libstdc++-10.3.1_git20210424-r2 description:<br/>GNU C++ standard runtime library</span><span id="8526" class="pn kv in pj b gy pv pp l pq pr">libstdc++-10.3.1_git20210424-r2 webpage:<br/><a class="ae mu" href="https://gcc.gnu.org" rel="noopener ugc nofollow" target="_blank">https://gcc.gnu.org</a></span><span id="4301" class="pn kv in pj b gy pv pp l pq pr">libstdc++-10.3.1_git20210424-r2 installed size:<br/>1664 KiB</span></pre><p id="9be2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到它比网站上的要老。<br/>咱们再开 VS 码:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="ce92" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial/keycloak# code .<br/>Installing VS Code Server for Alpine (dfd34e8260c270da74b5c2d86d61aee4b6d56977, linux-alpine)<br/>Connecting to update.code.visualstudio.com (51.144.164.215:443)<br/>Connecting to az764295.vo.msecnd.net (152.199.19.160:443)<br/>saving to '/root/.vscode-server/bin/dfd34e8260c270da74b5c2d86d61aee4b6d56977-1656252937.tar.gz'<br/>dfd34e8260c270da74b5 100% |**********************************************************************************************************************************************************************************************| 53.1M  0:00:00 ETA '/root/.vscode-server/bin/dfd34e8260c270da74b5c2d86d61aee4b6d56977-1656252937.tar.gz' saved<br/>Unpacking: 100%<br/>Unpacked 2341 files and folders to /root/.vscode-server/bin/dfd34e8260c270da74b5c2d86d61aee4b6d56977.</span></pre><p id="bc9d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到，用于 Alpine 的 VS 代码服务器是在第一次发布时安装的。</p><p id="5cee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到在/root/中安装和解压了很多文件。vs code-服务器/</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="59a8" class="pn kv in pj b gy po pp l pq pr">xxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak# ls -last /root/.vscode-server/<br/>total 20<br/>     4 drwx------    6 root     root          4096 Jun 26 14:15 data<br/>     4 drwx------    3 root     root          4096 Jun 26 14:15 extensions<br/>     4 drwxr-xr-x    5 root     root          4096 Jun 26 14:15 .<br/>     4 drwxr-xr-x    3 root     root          4096 Jun 26 14:15 bin<br/>     4 drwx------    5 root     root          4096 Jun 26 14:15 ..</span></pre><p id="bc68" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们再次开始 VS 来自 Alpine 的代码时:</p><p id="f332" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">VS 代码顺利打开:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/4d8da231590ce3efc83a4651f4898069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HawHatcc-Nh4VqXJsiwoew.png"/></div></div></figure><p id="bb19" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们注意到两件事:</p><ul class=""><li id="9600" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">VS 代码显示我们使用 WSL 和 Alpine(绿色)</li><li id="b441" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">从 WSL 启动的 VS 代码检测到我们的 React 应用程序的工作区在 Windows 文件系统上(通过根路径/mnt/ for mount 检测到)。它建议我们将这个位置移到 Linux 文件系统的位置<strong class="jm io"> ~ </strong> /home，以获得更好的性能</li></ul><p id="08d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">== &gt;我们将<strong class="jm io">将</strong>我们的项目从<strong class="jm io">位置移动到 Windows 文件系统</strong>到<strong class="jm io"> Alpine Linux 文件系统位置</strong>(系统符号<strong class="jm io"> ~ </strong>在 Linux 上有不同的含义:参见<a class="ae mu" href="https://www.baeldung.com/linux/tilde-bash" rel="noopener ugc nofollow" target="_blank">https://www.baeldung.com/linux/tilde-bash</a>)</p><p id="5676" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将在后面的章节中完成这个步骤:<strong class="jm io">2–1–1 在 Linux 文件系统中用 VS 代码打开我们的 React 项目</strong></p><h1 id="69a1" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1–5 VS 代码扩展:</h1><h1 id="50bf" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">在 VS 代码中，我们还需要安装两个扩展:</h1><p id="22a6" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">extension <strong class="jm io"> Remote — WSL 扩展，这样我们可以很容易地从 VS 代码中调试 Linux 文件系统中的项目。</strong></p><blockquote class="oq or os"><p id="1c5c" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">将 VS 代码和<strong class="jm io"> Remote — WSL 扩展</strong>结合起来，VS 代码的 UI 在 Windows 上运行，所有的命令、扩展甚至终端都在 Linux 上运行。通过安装在 Linux 上的工具和编译器，您可以获得完整的 VS 代码体验，包括自动完成和调试。</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qe"><img src="../Images/9dcebb8e378ab04ca49f20fbd71f397c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSpbM0pPqiJU6DHDITjXkg.png"/></div></div></figure><p id="76e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">扩展<strong class="jm io"> Remote — Containers </strong>对于在 Linux 上开发我们的容器非常有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/2bf4df70c3cced9a9f1556dee9318ce9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LPXKDdFlzMkOhdJZV8dZ4A.png"/></div></div></figure><p id="1c00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，我们在 Alpine 发行版上安装了以下内容:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="6788" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial#<br/>musl<br/>busybox<br/>alpine-baselayout<br/>alpine-keys<br/>libcrypto1.1<br/>libssl1.1<br/>ca-certificates-bundle<br/>libretls<br/>ssl_client<br/>zlib<br/>apk-tools<br/>scanelf<br/>musl-utils<br/>libc-utils<br/>libgcc<br/>libstdc++<br/>ca-certificates<br/>brotli-libs<br/>nghttp2-libs<br/>libcurl<br/>expat<br/>pcre2<br/>git<br/>docker-cli<br/>c-ares<br/>nodejs<br/>npm<br/>libblkid<br/>blkid<br/>libcap-ng<br/>setpriv<br/>libmount<br/>libsmartcols<br/>findmnt<br/>mcookie<br/>ncurses-terminfo-base<br/>ncurses-libs<br/>hexdump<br/>lsblk<br/>libuuid<br/>libfdisk<br/>sfdisk<br/>cfdisk<br/>partx<br/>flock<br/>logger<br/>uuidgen<br/>libeconf<br/>util-linux<br/>libseccomp<br/>runc<br/>containerd<br/>libmnl<br/>libnftnl-libs<br/>iptables<br/>ip6tables<br/>tini-static<br/>device-mapper-libs<br/>docker-engine<br/>docker<br/>libbz2<br/>libffi<br/>gdbm<br/>xz-libs<br/>mpdecimal<br/>readline<br/>sqlite-libs<br/>python3<br/>py3-ordered-set<br/>py3-appdirs<br/>py3-parsing<br/>py3-six<br/>py3-packaging<br/>py3-setuptools<br/>py3-cached-property<br/>py3-certifi<br/>py3-chardet<br/>py3-distro<br/>dockerpy-creds<br/>py3-cparser<br/>py3-cffi<br/>py3-idna<br/>py3-asn1crypto<br/>py3-cryptography<br/>py3-ipaddress<br/>py3-urllib3<br/>py3-requests<br/>py3-websocket-client<br/>docker-py<br/>py3-dockerpty<br/>py3-docopt<br/>py3-pyrsistent<br/>py3-attrs<br/>py3-jsonschema<br/>py3-asn1<br/>py3-bcrypt<br/>py3-pynacl<br/>py3-paramiko<br/>py3-pysocks<br/>py3-dotenv<br/>yaml<br/>py3-yaml<br/>py3-texttable<br/>docker-compose</span></pre><p id="4f8b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这样，如果您遇到问题，您可以检查是否遗漏了任何工具。</p><p id="e72e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">以下是记住 Docker Destop 如何工作的模式:</p><p id="0971" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们有一个在 Windows 上运行的 CLI，一个运行 T2 Docker 守护进程 T3 的虚拟机 T0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qf"><img src="../Images/7826dc1b551270e80220c9d82e7c8fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aBblcWznWJU2tM_Y.png"/></div></div></figure><p id="44d0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">为什么使用 linux，因为大多数生产服务器都使用 Linux。当我们使用 Kubernetes 内部部署或云时，情况会更糟！</strong></p><p id="a2e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的应用程序可以通信，可以在任何本地机器、服务器或虚拟机上运行，只要确保机器/服务器/虚拟机可以到达 keycloak。</p><p id="d033" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对了，Keycloak 服务器已经用 Docker 运行了！</p><p id="0b40" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在运行 React 和 Web Api 之前，您需要先运行 Keycloak。</p><p id="f7d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请记住，我们使用了 docker 图像:</p><blockquote class="oq or os"><p id="c7e1" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">quay.io/keycloak/keycloak:18.0.0</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qg"><img src="../Images/dd82f00f23fa94062c3748525d829cfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SjxP_Yybu77jA5gymqtEnA.png"/></div></div><figcaption class="om on gj gh gi oo op bd b be z dk translated">Docker Keycloak 正在运行</figcaption></figure><p id="f194" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们稍后将使用<strong class="jm io"> Docker Compose </strong>来确保我们的应用程序在它们的 Docker 实例中运行良好，并且可以通过<strong class="jm io">网络</strong>进行良好的通信。</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/compose/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Docker 编写概述</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">寻找撰写文件参考？在此处找到最新版本。Compose 是一个定义和运行…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="qh l nj nk nl nh nm ks my"/></div></div></a></div><h1 id="9d0f" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2 为什么使用 Docker？</h1><p id="b411" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">现在我们可以问为什么我们的 react 和 web api 应用程序使用 docker？<br/>为什么我们也使用 docker 来运行我们的 dev keycloak 服务器？</p><p id="73d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好问题！</p><p id="d534" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Docker 是打包我们需要的所有应用程序代码、依赖项和配置的最佳方式。它们可以在任何安装了 Docker 并使用 linux 的地方运行，就像我们的容器映像一样。</p><p id="7ac4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Docker 容器启动非常快。</p><p id="8ca2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它们可以很容易地在不同机器的集群中使用:VM、服务器、云等等，使用像 Kubernetes 这样的 orchestrator，这将是我们未来的主题。</p><h1 id="4278" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–1 将我们的 React 应用归档</h1><p id="d00e" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我不会回到 Docker 基础，你应该知道什么是 Docker，Docker 图像和 Docker 容器。</p><p id="a863" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">否则，您可以播放这段 20 分钟的简短介绍来快速上手:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="qi qj l"/></div><figcaption class="om on gj gh gi oo op bd b be z dk translated">如何开始使用 Docker:视频 27 分钟</figcaption></figure><blockquote class="oq or os"><p id="961c" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">使用 Docker 可以更容易地捆绑我们所有的应用程序代码，支持二进制文件和配置，并且只需要做一次</p></blockquote><p id="400c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请记住，我们的 React 应用程序非常基础，因为我们的重点不是 React 开发，而是如何通过身份验证和授权来保护它。</p><p id="5178" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是我们会做一些改进😃✔</p><p id="86a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是首先，让我们将 Dockerfile 添加到 VS 代码中 React 解决方案的根位置<strong class="jm io"/></p><h1 id="3e68" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–1–1 在 Linux 文件系统中用 VS 代码打开我们的 React 项目:</h1><p id="be3b" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我们有两种可能性:</p><p id="3cae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">-用 VS 代码<br/>从 Windows 文件系统打开我们的 React 项目-直接从 Linux 文件系统打开它</p><p id="50bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最好用 Linux。我们来看看为什么。</p><p id="0a79" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们从 Linux 进入 Windows 文件系统时(我们可以用/mnt/c/…看到它)。)</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="6260" class="pn kv in pj b gy po pp l pq pr">C:\Tutorial\keycloak\reactwebapikeycloak\reactonlywithkeycloak\myapp (main -&gt; origin)<br/>λ wsl<br/>xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# code .<br/>xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp#</span></pre><p id="d226" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们看到了警告:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/ada8b8a52b6f211c989c05b8c6f6161c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zk1Ti5aTYu9VUWD-a3ZghQ.png"/></div></div></figure><p id="4f81" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它说这个工作区在 windows 文件系统(/mnt)上。最好在 Linux 文件系统中使用我们的项目，以拥有一个完美的工作流程。</p><p id="686e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以将 react 文件夹移动到我们发行版的<strong class="jm io">主目录中:</strong></p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="c228" class="pn kv in pj b gy po pp l pq pr">xxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# echo <strong class="pj io">$HOME</strong><br/><strong class="pj io">/root</strong></span></pre><p id="10e0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从 C:\Tutorial\keycloak 复制并粘贴(在 node_module 文件夹之前删除，因为它包含超过 40 000 个文件，并且可以在以后用 npm i 安装)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qk"><img src="../Images/2966b6e7a3347dc3228c218cc559446b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UQuGX4s71oDxn8yS82RuZQ.png"/></div></div></figure><p id="09c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到以下位置:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="e12b" class="pn kv in pj b gy po pp l pq pr">\\wsl$\AlpineMiniRootFS3.14-6\root\reactwebapikeycloak</span></pre><p id="84f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请注意路径的开头是\\wsl$</p><p id="809c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们应该得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qk"><img src="../Images/310868b4688f0a38a23ea39a0805aca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PxvxoECZ9E4ftY589xYlHA.png"/></div></div></figure><p id="66f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请注意，让我们带着我们的 Linux 终端去那里:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="e884" class="pn kv in pj b gy po pp l pq pr">C:\Tutorial\keycloak\reactwebapikeycloak\reactonlywithkeycloak\myapp (main -&gt; origin)<br/>λ wsl<br/>xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# <strong class="pj io">cd ~/reactwebapikeycloak/</strong><br/>xxxx:~/reactwebapikeycloak#</span><span id="a09a" class="pn kv in pj b gy pv pp l pq pr">xxxx:~/reactwebapikeycloak# ls -last<br/>total 24<br/>     4 drwxr-xr-x    3 root     root          4096 Jul  3 19:13 reactwebapikeycloak<br/>     4 drwxr-xr-x    5 root     root          4096 Jul  3 19:11 .<br/>     4 drwxr-xr-x    9 root     root          4096 Jul  3 19:11 MyWebApi<br/>     4 drwxr-xr-x    7 root     root          4096 Jul  3 19:11 .git<br/>     4 drwx------    9 root     root          4096 Jul  3 12:13 ..<br/>     4 -rw-r--r--    1 root     root            36 Jun 12 15:25 README.md</span></pre><p id="1fb8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们有两个项目:React 和 ASP.NET 核心 Web API。</p><p id="0e99" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们转到文件夹“reactwebapikeycloak”:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="7b06" class="pn kv in pj b gy po pp l pq pr">xxxx:~/reactwebapikeycloak# cd reactwebapikeycloak/<br/>xxxx:~/reactwebapikeycloak/reactwebapikeycloak# ls -last<br/>total 52<br/>     4 drwxr-xr-x    3 root     root          4096 Jul  3 19:13 .<br/>     4 drwxr-xr-x    3 root     root          4096 Jul  3 19:13 reactonlywithkeycloak<br/>     4 drwxr-xr-x    5 root     root          4096 Jul  3 19:11 ..<br/>    36 -rw-r--r--    1 root     root         35823 Jun  7 07:03 LICENSE<br/>     4 -rw-r--r--    1 root     root           160 Jun  7 07:03 README.md</span></pre><p id="89d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，我们找到了我们的源代码:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="2b5e" class="pn kv in pj b gy po pp l pq pr">xxxx:~/reactwebapikeycloak/reactwebapikeycloak# cd reactonlywithkeycloak/myapp/<br/>xxxx:~/reactwebapikeycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# ls -last<br/>total 548<br/>     4 drwxr-xr-x    5 root     root          4096 Jul  3 19:13 .<br/>     4 drwxr-xr-x    3 root     root          4096 Jul  3 19:13 ..<br/>     4 drwxr-xr-x    3 root     root          4096 Jul  3 19:13 build<br/>     4 drwxr-xr-x    2 root     root          4096 Jul  3 19:13 public<br/>     4 drwxr-xr-x    4 root     root          4096 Jul  3 19:13 src<br/>     4 -rw-r--r--    1 root     root          1063 Jul  2 21:46 package.json<br/>   504 -rw-r--r--    1 root     root        512124 Jun 15 16:28 package-lock.json<br/>     4 -rw-r--r--    1 root     root           547 May 29 08:28 tsconfig.json<br/>     4 -rw-r--r--    1 root     root           310 Oct 26  1985 .gitignore<br/>     4 -rw-r--r--    1 root     root          2117 Oct 26  1985 README.md</span></pre><p id="0eb9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们打开 VS 代码:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="2c3f" class="pn kv in pj b gy po pp l pq pr">xxxx:~/reactwebapikeycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# Code .<br/>xxxx:~/reactwebapikeycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp#</span></pre><p id="0fe5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/9723054223a5283b966c7f651c6fbc45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jerfU-u35cgr55cj9UlDwA.png"/></div></div></figure><p id="7c67" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们显然可以信任作者😁点击是！</p><p id="86a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们让 VS 代码顺利工作耶！😎👍👌</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ql"><img src="../Images/ecc8f3e9d78f377f07b681b4a8b2d03d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oE5rley7ugZFAMNyEqBJmQ.png"/></div></div></figure><p id="fc09" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们看不到任何警告，我们 100%在 Linux 文件系统中工作，在 Windows 文件系统上使用 VS 代码进行远程开发。有多疯狂！</p><h1 id="1cab" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–1–2 创建我们的 docker 文件</h1><p id="edeb" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">右键单击我们解决方案的浏览器根目录，然后单击“新建文件”</p><p id="3265" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们将新文件命名为:<strong class="jm io"> Dockerfile </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ql"><img src="../Images/0336212e5742c3907fa0dc8e91e00344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PJTCePJQExWXXR-BltqfGQ.png"/></div></div></figure><p id="bf34" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请注意，我们需要用正确的拼写和大小写来输入名称 Dockerfile，并且没有任何文件扩展名。</p><p id="6ed0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为什么这样因此，当我们使用 Docker CLI 时，它会检测文件，而不需要我们给出文件名和扩展名。</p><p id="bada" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在编写 docker 文件之前，我们需要另一个名为。dockerignore(像 git 中的 ignore)来避免在构建 docker 映像时复制 npm 依赖项(太慢了！)</p><p id="8216" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以马上添加下面的代码。dockerignore:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="qm qj l"/></div></figure><p id="2621" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它基本上告诉 Docker CLI 忽略这些文件:</p><ul class=""><li id="c119" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">Dockerfile 文件</li><li id="0235" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">。dockerignore</li><li id="c0aa" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">。gitignore(我们现在不使用它)</li><li id="35c1" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">README.md</li></ul><p id="f232" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">文件夹:</p><ul class=""><li id="88ff" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">构建(包含生产构建的 react 应用程序的目录，我们现在没有)</li><li id="8b42" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">node_modules(我提到的依赖项)</li></ul><p id="c2a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我们有:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qn"><img src="../Images/efd825f773e162fbca6169c1bd8a299b.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*ohurk0bp89wy9gLeabXcwg.png"/></div></figure><p id="c00e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意我们的 VS 代码也检测 dockerfiles et。dockerignore 文件，我们自动在文件名前面加上 Docker 标志。</p><p id="f2d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们已经准备好使用新的 docker 文件了！</p><p id="663c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是首先我们需要问自己:我们如何在 Docker 容器中托管我们的 React 应用程序？</p><p id="0b48" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们如何在 Docker 容器中部署 React 应用程序？</p><h1 id="05f6" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">我们有两种方法:</h1><h1 id="52f9" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">-使用 NodeJS 的开发服务器，如果我们需要能够从我们的容器中开发我们的 React 应用程序</h1><h1 id="87d3" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">-使用 NGINX 服务于 React 应用的生产构建。</h1><p id="3cf3" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">现在让我们从第一个选项开始，用 NodeJS 为开发模式构建 React 应用程序容器！</p><h1 id="5fc2" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–2 使用节点和开发服务器构建 React 应用程序 Docker 映像</h1><p id="4411" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">现在我们只需要一件事:找到正确的 docker 映像，我们将从这个映像构建 react 应用程序 docker 映像。</p><p id="bc63" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们知道我们需要 NodeJs 和 npm。</p><p id="5479" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们去 docker 官方图像中心搜索“节点”:</p><div class="mv mw gp gr mx my"><a href="https://hub.docker.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Docker Hub 容器图像库|应用容器化</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">编辑描述</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">hub.docker.com</p></div></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qo"><img src="../Images/70bf3413269c7f856f366e859ed1317d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a_NAu7LmA2YrpeP6x-Thjw.png"/></div></div></figure><p id="110e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们点击 Node 的官方 docker 图片</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qp"><img src="../Images/d21048792610ab7d90f9509704bb4f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-KaJQnH0p_rZaGpk3aHJA.png"/></div></div></figure><p id="3438" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以找到很多不同的版本和标签。</p><p id="7568" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为我的机器使用节点 16.9，我们可以使用相同的版本和标签。</p><p id="c6b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有了链接<a class="ae mu" href="https://hub.docker.com/_/node?tab=tags&amp;page=1&amp;name=16.9" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/_/node?tab=tags&amp;page = 1&amp;name = 16.9</a>我们可以更好地过滤</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qq"><img src="../Images/ff6b8ee1cf6acf231248de1b520a9350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0Yb5voaNWNfAY-RYtrQUw.png"/></div></div></figure><p id="2152" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们有很多选择。</p><p id="af00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">文档中有解释:</p><blockquote class="oq or os"><p id="d75f" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated"><code class="fe qr qs qt pj b">node:&lt;version&gt;</code></p><p id="a4b9" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">这是事实上的图像。如果你不确定你的需求是什么，你可能想用这个。它被设计成既可以作为一个一次性容器(挂载你的源代码并启动容器来启动你的应用程序)，也可以作为构建其他图像的基础。</p><p id="7526" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">这些标签中的一些可能具有诸如牛眼、巴斯特或伸展之类的名称。这些是<a class="ae mu" href="https://wiki.debian.org/DebianReleases" rel="noopener ugc nofollow" target="_blank"> Debian </a>发行版的套件代码名称，并指出镜像基于哪个发行版。如果你的镜像需要安装镜像之外的任何额外的包，当有新的 Debian 版本时，你可能想要明确地指定其中的一个来最小化破坏。</p><p id="e725" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">该标签基于<code class="fe qr qs qt pj b"><a class="ae mu" href="https://hub.docker.com/_/buildpack-deps/" rel="noopener ugc nofollow" target="_blank">buildpack-deps</a></code>。<code class="fe qr qs qt pj b">buildpack-deps</code>是为 Docker 的普通用户设计的，他们的系统中有许多图像。按照设计，它有大量极其常见的 Debian 包。这减少了从它派生的映像需要安装的包的数量，从而减少了系统上所有映像的总大小。</p><p id="778f" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated"><code class="fe qr qs qt pj b">node:&lt;version&gt;-alpine</code></p><p id="7222" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">这张图片基于流行的<a class="ae mu" href="https://alpinelinux.org/" rel="noopener ugc nofollow" target="_blank"> Alpine Linux 项目</a>，可在<a class="ae mu" href="https://hub.docker.com/_/alpine" rel="noopener ugc nofollow" target="_blank"/><code class="fe qr qs qt pj b"><a class="ae mu" href="https://hub.docker.com/_/alpine" rel="noopener ugc nofollow" target="_blank">alpine</a></code><a class="ae mu" href="https://hub.docker.com/_/alpine" rel="noopener ugc nofollow" target="_blank">官方图片</a>中获得。Alpine Linux 比大多数发行版基础映像要小得多(大约 5MB)，因此一般来说映像也要小得多。</p><p id="f0d3" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">当最终图像尺寸尽可能小是您的首要考虑时，这种变体非常有用。需要注意的主要警告是，它确实使用了<a class="ae mu" href="https://musl.libc.org/" rel="noopener ugc nofollow" target="_blank"> musl libc </a>而不是<a class="ae mu" href="https://www.etalabs.net/compare_libcs.html" rel="noopener ugc nofollow" target="_blank"> glibc 和 friends </a>，所以软件经常会遇到问题，这取决于它们的 libc 需求/假设的深度。参见<a class="ae mu" href="https://news.ycombinator.com/item?id=10782897" rel="noopener ugc nofollow" target="_blank">这篇黑客新闻评论文章</a>以获得更多关于使用基于 Alpine 的图像可能出现的问题和一些利弊比较的讨论。</p><p id="6498" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">为了最小化图像大小，在基于 Alpine 的图像中包含额外的相关工具(如<code class="fe qr qs qt pj b">git</code>或<code class="fe qr qs qt pj b">bash</code>)并不常见。以此镜像为基础，在自己的 docker 文件中添加自己需要的东西(如果不熟悉，如何安装包的例子见<code class="fe qr qs qt pj b"><a class="ae mu" href="https://hub.docker.com/_/alpine/" rel="noopener ugc nofollow" target="_blank">alpine</a></code> <a class="ae mu" href="https://hub.docker.com/_/alpine/" rel="noopener ugc nofollow" target="_blank">镜像描述</a>)。</p><p id="b4cf" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated"><code class="fe qr qs qt pj b">node:&lt;version&gt;-slim</code></p><p id="6b24" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">这个映像不包含默认标签中包含的普通包，只包含运行<code class="fe qr qs qt pj b">node</code>所需的最小包。除非您在一个只部署<em class="in">和<code class="fe qr qs qt pj b">node</code>映像的环境中工作，并且您有空间限制，否则我们强烈建议您使用这个存储库的默认映像。</em></p></blockquote><p id="e00e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">‼也<strong class="jm io"> Alpine Linux </strong>默认使用<a class="ae mu" href="https://musl.libc.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">musl libc</strong></a><strong class="jm io"/>但是我们需要安装<a class="ae mu" href="https://www.etalabs.net/compare_libcs.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> glibcc </strong> </a>来在我们的终端上运行来自 Alpine Linux 发行版的 Docker。‼ <br/>它是用 libstdc++安装的，在<strong class="jm io">部分运行来自 Alpine </strong>的 VS 代码</p><p id="ad29" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们没有特殊的需求，工具。所以我们可以尝试 alpine 版本，因为 alpine 是一个非常流行的 Linux。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/682ce3925ad98cf087c9fd7adff0b706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UvZ3htoPE5jaqcCbauKeHg.png"/></div></div></figure><p id="aa3f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将使用我们能找到的带有 alpine 的节点 16.9.1 的最新版本:alpine 版本 3.14。</p><div class="mv mw gp gr mx my"><a href="https://hub.docker.com/layers/node/library/node/16.9.1-alpine3.14/images/sha256-c5d471d474fc25ed664f0da838eb4f7a08939e2e3f66655af95e9dca586f752a?context=explore" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">码头枢纽</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">编辑描述</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">hub.docker.com</p></div></div></div></a></div><p id="0e0f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们试着看看我们是否能得到这个 docker 图像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qu"><img src="../Images/f92a635066b3270d482f84a8c79c4eab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WS__NilAwlLDjNYFvyIH1Q.png"/></div></div></figure><p id="793b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">地点是:docker.io/library/node:16.9.1-alpine3.14</p><p id="0c21" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们一步一步地建立我们的 docker 文件。</p><h1 id="5ad6" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">使用 Alpine 从节点构建 docker 文件</h1><p id="03fa" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">这是档案</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="qm qj l"/></div></figure><p id="5273" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们看看使用的不同命令。</p><h1 id="33e3" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–2–1 来自</h1><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="30ba" class="pn kv in pj b gy po pp l pq pr"><strong class="pj io"><em class="ot">FROM node:16.9.1-alpine3.14</em></strong></span></pre><p id="38bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是我们的基础码头形象，我们将从这里开始建立自己的形象</p><p id="a630" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">此基础 docker 图像基于 Alpine 的基础 docker 图像。</p><div class="mv mw gp gr mx my"><a href="https://hub.docker.com/_/alpine" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">阿尔卑斯山-官方图片|码头中心</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">一个基于 Alpine Linux 的最小 Docker 镜像，有完整的包索引，大小只有 5 MB！</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">hub.docker.com</p></div></div></div></a></div><p id="ef52" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看 alpine 3.14 是如何作为 docker 映像创建的:</p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><div class="kj kk kl km gt my"><a href="https://github.com/alpinelinux/docker-alpine/tree/v3.14" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">3.14 版的 GitHub-alpinelinux/docker-alpine</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="qv l nj nk nl nh nm ks my"/></div></div></a></div><p id="1ce5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">根据我们机器的结构，我们可以看到几个图像。<br/>让我们使用以下带有 WSL 的 linux 命令来检查我们的 Windows 计算机的架构:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="d270" class="pn kv in pj b gy po pp l pq pr">λ uname -m<br/>x86_64</span></pre><p id="b997" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我们使用版本<a class="ae mu" href="https://github.com/alpinelinux/docker-alpine/tree/v3.14" rel="noopener ugc nofollow" target="_blank"> docker-alpine </a> /x86_64/</p><p id="20db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae mu" href="https://github.com/alpinelinux/docker-alpine/tree/v3.14/x86_64" rel="noopener ugc nofollow" target="_blank">https://github . com/alpinelinux/docker-alpine/tree/v 3.14/x86 _ 64</a></p><p id="5ee7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用下面的 Dockerfile 从<strong class="jm io">开始<em class="ot">划掉</em> </strong>。</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="dff9" class="pn kv in pj b gy po pp l pq pr">FROM <strong class="pj io">scratch</strong><br/>ADD alpine-minirootfs-3.14.6-x86_64.tar.gz /<br/>CMD ["/bin/sh"]</span></pre><p id="1931" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当 ADD 与压缩的文件一起使用时，Docker 会自动解压缩。</p><p id="db89" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们有以下文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qw"><img src="../Images/c00bdc5d5847a4dd04f783152d78eab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5CBvoZw16c-YTjr7qYZrzw.png"/></div></div></figure><blockquote class="oq or os"><p id="81a3" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">我们必须记住:</p><p id="1df7" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">Linux 映像可以在 Linux 主机和 Windows 主机上运行(到目前为止使用的是 Hyper-V Linux VM)，其中 host 表示服务器或 VM。</p></blockquote><p id="68e0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后启动 shell。</p><p id="3b1d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，我们有一个 shell 运行 Alpine Linux，并使用我们虚拟机的 Linux 内核。我们可以在完成容器并使用以下命令启动后进行检查:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="2800" class="pn kv in pj b gy po pp l pq pr">/ # cat /etc/os-release<br/>NAME="Alpine Linux"<br/>ID=alpine<br/>VERSION_ID=3.14.2<br/>PRETTY_NAME="Alpine Linux v3.14"<br/>HOME_URL="<a class="ae mu" href="https://alpinelinux.org/" rel="noopener ugc nofollow" target="_blank">https://alpinelinux.org/</a>"<br/>BUG_REPORT_URL="<a class="ae mu" href="https://bugs.alpinelinux.org/" rel="noopener ugc nofollow" target="_blank">https://bugs.alpinelinux.org/</a>"</span></pre><h1 id="5969" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–2–2 工作方向</h1><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="39e8" class="pn kv in pj b gy po pp l pq pr"><strong class="pj io"><em class="ot">WORKDIR /reactapp</em></strong></span></pre><blockquote class="oq or os"><p id="4efb" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">为<code class="fe qr qs qt pj b">Dockerfile.<br/></code>中跟在其后的<code class="fe qr qs qt pj b">RUN</code>、<code class="fe qr qs qt pj b">CMD</code>、<code class="fe qr qs qt pj b">ENTRYPOINT</code>、<code class="fe qr qs qt pj b">COPY</code>和<code class="fe qr qs qt pj b">ADD</code>指令设置工作目录，如果<code class="fe qr qs qt pj b">WORKDIR directory</code>不存在，即使在后续的<code class="fe qr qs qt pj b">Dockerfile</code>指令中没有使用，也会创建工作目录。</p></blockquote><p id="780e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这条指令很重要，它将确保我们不会在根目录覆盖操作系统的任何重要文件！</p><p id="90a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">目录的名称可以是您喜欢的任何名称。</p><h1 id="febc" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–2–3 副本</h1><p id="b595" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">然后我们有复制命令:</p><blockquote class="oq or os"><p id="4434" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">复制指令从<src>复制新的文件或目录，并将它们添加到路径<dest>的容器文件系统中</dest></src></p></blockquote><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="acf5" class="pn kv in pj b gy po pp l pq pr"><strong class="pj io">COPY package.json ./<br/>COPY package-lock.json ./</strong></span></pre><blockquote class="oq or os"><p id="11d9" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">package-lock.json 提供了一个不可变版本的 package.json，因此，例如，您可以提取一个旧版本的代码(包含 package-lock.json ),并以相同的 node_modules 文件夹结束。</p><p id="ec98" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">通过使用<em class="in"> npm ci </em>命令，package-lock.json 使 node_modules 具有确定性。</p><p id="3227" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">在 package-lock.json 上运行<em class="in"> npm ci </em>将总是生成相同的 node_modules 文件夹。<br/>我们告诉 docker 将 json 文件从我们当前的位置复制到 WORKDIR 位置。</p></blockquote><p id="69d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这些 json 文件将帮助下载 react 应用程序的所有依赖项。</p><p id="3c53" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们需要安装 React 应用程序的依赖项。为此，我们需要运行命令</p><h1 id="d0e4" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–2–4 轮</h1><blockquote class="oq or os"><p id="6054" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated"><code class="fe qr qs qt pj b">RUN</code>指令将执行当前图像顶部的<strong class="jm io">新层中的任何命令，并提交结果。最终提交的图像将用于<code class="fe qr qs qt pj b">Dockerfile</code>中的下一步</strong></p></blockquote><p id="f06f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里我们只需要一个命令:在静默模式下安装我们的依赖项。</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="3cd9" class="pn kv in pj b gy po pp l pq pr">RUN npm install --silent</span></pre><p id="a93b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是我们所需要的，现在我们可以用</p><p id="3544" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> npm 启动</strong></p><h1 id="8cdf" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–2–5 厘米深</h1><p id="4ecc" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我们将使用名为<strong class="jm io"> CMD </strong>的特殊指令</p><p id="5c39" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当从映像启动容器时，CMD 给出可执行文件 un。容器<strong class="jm io">是为运行特定任务和进程</strong>而设计的，而不是为托管操作系统而设计的。</p><p id="8367" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们还有命令入口点。</p><p id="30d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">CMD 与入口点</p><p id="116b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您需要用户可以轻松覆盖的默认命令，CMD 是最好的指令。<br/>另一方面，当你想用一个特定的可执行文件定义一个容器时，<strong class="jm io">入口点</strong>是首选。除非添加了<code class="fe qr qs qt pj b"><strong class="jm io">--entrypoint</strong></code>标志，否则在启动容器时不能覆盖入口点。</p><p id="1036" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们使用的格式是:CMD ["executable "，" param1 "，" param2"]</p><p id="9aac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里我们有:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="ed96" class="pn kv in pj b gy po pp l pq pr">CMD ["npm","start"]</span></pre><p id="b00b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">如果你需要一个带有指定的可执行文件和默认参数的容器，我们可以把 ENTRYPOINT 和 CMD </strong>结合起来。</p><p id="e65c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就是这样！有了这个文档和。我们已经准备好构建 docker 映像，它将能够在开发模式下启动我们的 React 应用程序，并且我们可以从我们的 VS 代码中使用它。</p><p id="6d6d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们看看如何在 WSL2 中从我们的 Alpine Linux 运行 Docker。</p><p id="d4f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们必须检查 Docker 桌面上的两点</p><h1 id="5cd0" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–3 在 alpine 发行版中集成 Docker Desktop 和 WSL2</h1><p id="8ae8" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我们知道 Docker Destkop 现在默认使用 WSL2。</p><p id="81ab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以通过查看以下内容来检查这一点:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qx"><img src="../Images/2277db447c2908a0f15e29faf021eb17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HD-hUiQEnihJoFqJ-btSGQ.png"/></div></div></figure><p id="9b2b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">‼也默认使用 Alpine Linux 的<a class="ae mu" href="https://musl.libc.org/" rel="noopener ugc nofollow" target="_blank">musl libcT25】t26】t27】但是我们需要安装</a><a class="ae mu" href="https://www.etalabs.net/compare_libcs.html" rel="noopener ugc nofollow" target="_blank">t29】glibcct31】来在我们的终端上运行 Alpine Linux 发行版的 Docker。‼ <br/>它安装了<strong class="jm io"> libstdc++ </strong>在<strong class="jm io">段运行来自阿尔卑斯</strong>的 VS 代码</a></p><p id="437d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们需要使用我们的<strong class="jm io">发行版 Alpine Linux </strong>与 Docker 守护进程通信:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qx"><img src="../Images/f3e447c7d05cdcc9f1d511840e234a8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FW7kE_w-fjf5vi6_IUhKvg.png"/></div></div></figure><p id="2a11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">确保“启用与我的默认 WSL 发行版的集成”已启用。<br/>你可以在列表中看到名为“alpineminirootfs 3.14–6”的定制阿尔卑斯发行版。</p><p id="a703" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦我们能确保从阿尔卑斯山码头到达码头:</p><p id="59d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以在 Windows 文件系统上运行 com.docker.cli 可执行文件，以确保我们的发行版可以通信:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="62c3" class="pn kv in pj b gy po pp l pq pr">C:\Tutorial\keycloak (main -&gt; origin)<br/><strong class="pj io">λ wsl<br/>xxxx:/mnt/c/Tutorial/keycloak#</strong> com.docker.cli.exe images my*<br/>REPOSITORY   TAG       IMAGE ID       CREATED      SIZE<br/>myreact      1         05e93e4a4dcd   5 days ago   476MB<br/>myreact      latest    05e93e4a4dcd   5 days ago   476MB</span></pre><p id="2bc4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们用命令“wsl”发射了我们的 Alpine。<br/>然后我们调用 docker CLI:com.docker.cli.exe，并使用命令“images”列出我们的 docker 图像。</p><p id="251e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们用我的*过滤 docker 图像</p><p id="0d2b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以看到我已经为我们的 React 应用程序制作的 docker 图像。</p><p id="450b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们准备在 WSL 2 上从 Alpine Linux 构建 React 应用程序 Docker 映像。</p><p id="16b2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好了，现在我们需要在 Alpine Linux 上安装 docker 和 docker compose。<br/>我们只需要安装 docker cli，因为 docker 引擎已经通过 Docker Desktop/安装在虚拟机中</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="e585" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial# apk add docker-cli docker-compose</span><span id="60db" class="pn kv in pj b gy pv pp l pq pr">xxxx:/mnt/c/Tutorial# apk list docker-cli<br/>docker-cli-20.10.11-r1 x86_64 {docker} (Apache-2.0) [installed]</span></pre><p id="6c14" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们使用 Alpine Linux 的 Docker 来检查它现在是否工作正常:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="8487" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial# docker -v<br/>Docker version 20.10.11, build dea9396e184290f638ea873c76db7c80efd5a1d2<br/>xxxx:/mnt/c/Tutorial# docker info<br/>Client:<br/> Context:    default<br/> Debug Mode: false<br/> Plugins:<br/>  buildx: Docker Buildx (Docker Inc., v0.8.2)<br/>  compose: Docker Compose (Docker Inc., v2.6.0)<br/>  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc., 0.6.0)<br/>  scan: Docker Scan (Docker Inc., v0.17.0)</span><span id="9d03" class="pn kv in pj b gy pv pp l pq pr">Server:<br/> Containers: 36<br/>  Running: 35<br/>  Paused: 0<br/>  Stopped: 1<br/> Images: 26<br/> Server Version: 20.10.16<br/> Storage Driver: overlay2<br/>  Backing Filesystem: extfs<br/>  Supports d_type: true<br/>  Native Overlay Diff: true<br/>  userxattr: false<br/> Logging Driver: json-file<br/> Cgroup Driver: cgroupfs<br/> Cgroup Version: 1<br/> Plugins:<br/>  Volume: local<br/>  Network: bridge host ipvlan macvlan null overlay<br/>  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog<br/> Swarm: inactive<br/> Runtimes: runc io.containerd.runc.v2 io.containerd.runtime.v1.linux<br/> Default Runtime: runc<br/> Init Binary: docker-init<br/> containerd version: 212e8b6fa2f44b9c21b2798135fc6fb7c53efc16<br/> runc version: v1.1.1-0-g52de29d<br/> init version: de40ad0<br/> Security Options:<br/>  seccomp<br/>   Profile: default<br/> Kernel Version: 5.10.102.1-microsoft-standard-WSL2<br/> Operating System: Docker Desktop<br/> OSType: linux<br/> Architecture: x86_64<br/> CPUs: 4<br/> Total Memory: 12.43GiB<br/> Name: docker-desktop<br/> ID: SCSM:65FB:UTGI:K4TM:PRE4:NWHR:3TQW:YDJX:TEBK:XXL7:NFFE:7DYU<br/> Docker Root Dir: /var/lib/docker<br/> Debug Mode: false<br/> HTTP Proxy: http.docker.internal:3128<br/> HTTPS Proxy: http.docker.internal:3128<br/> No Proxy: hubproxy.docker.internal<br/> Registry: <a class="ae mu" href="https://index.docker.io/v1/" rel="noopener ugc nofollow" target="_blank">https://index.docker.io/v1/</a><br/> Labels:<br/> Experimental: false<br/> Insecure Registries:<br/>  hubproxy.docker.internal:5000<br/>  127.0.0.0/8<br/> Live Restore Enabled: false</span><span id="8040" class="pn kv in pj b gy pv pp l pq pr">WARNING: No blkio throttle.read_bps_device support<br/>WARNING: No blkio throttle.write_bps_device support<br/>WARNING: No blkio throttle.read_iops_device support<br/>WARNING: No blkio throttle.write_iops_device support</span></pre><p id="97f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以忽略在指标中使用的 blkio 警告:</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/config/containers/runmetrics/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">运行时指标</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">您可以使用 docker stats 命令实时传输容器的运行时指标。该命令支持 CPU、内存…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="qy l nj nk nl nh nm ks my"/></div></div></a></div><p id="1ef5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好消息，我们已经准备好了，我们的 WSL2 可以很好地与 Docker 桌面一起工作，我们的 Alpine Linux 发行版可以顺利地与 Docker 守护进程通信。😉</p><h1 id="c1a8" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">3 构建我们的 React 应用程序的 Docker 映像</h1><p id="01be" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我们转到 react 项目，确保我们有两个文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qz"><img src="../Images/c92b17e884ee908486cfb7007becc150.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQEnKjRoDLbcALcWAZPAfQ.png"/></div></div></figure><p id="7394" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们建立自己的码头工人形象:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="e893" class="pn kv in pj b gy po pp l pq pr">&gt; docker build . -t myreact:1</span></pre><p id="973f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们得到了建筑:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ra"><img src="../Images/20cce4366256e57e3a75c5e4aa03b1a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dfBwCcbWvDgkB4isqb3VKA.png"/></div></div></figure><p id="7a8b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">之所以这么快，是因为我已经这样做了，当中间没有任何变化时，Docker 会使用缓存。</p><p id="2340" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们运行我们的 Docker 容器，下面是关于如何运行我们的容器的完整参考</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/engine/reference/run/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">码头运行参考</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Docker 在隔离的容器中运行进程。容器是在主机上运行的进程。主机可能是本地的，也可能是…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="rb l nj nk nl nh nm ks my"/></div></div></a></div><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="198f" class="pn kv in pj b gy po pp l pq pr">xxxx:/mnt/c/Tutorial/keycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# docker run -d -p 3000:3000 myreact:1</span></pre><p id="b865" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 docker CLI 中，我们使用了命令“run”</p><p id="1c3f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们添加了选项:</p><p id="57dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> -d </strong>在分离模式下启动一个容器，我们这样做是为了让我们的 shell 不被绑定到正在运行的容器<br/> <strong class="jm io"> -p 3000:3000 </strong>用于<strong class="jm io">将正在运行的容器的端口</strong>暴露给主机的端口。分隔符之前的第一部分:是主机端口，第二部分是容器端口。</p><p id="2e88" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后我们给 docker 图像名称加上标签:myreact 加上标签 1。</p><p id="20e1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们看到以下内容:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="6224" class="pn kv in pj b gy po pp l pq pr"># docker run -d -p 3000:3000 myreact:1<br/>cdd21335461b1449018689e0b0d3cab9b7af4996b421315a039c03c466265c06</span></pre><p id="0fcc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您将得到不同的结果，因为它是运行容器的 id。</p><p id="ea85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们检查 Docker 桌面 UI 中的运行容器:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rc"><img src="../Images/4d78112c4151602347d133b8142bb0ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JDI0iw2jak3FDOcnKvTfeA.png"/></div></div></figure><p id="8fa9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到它运行顺畅，我们可以看到 id 和容器的随机名称(我们可以提供名称)。</p><p id="a743" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看日志:</p><p id="5e0d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">单击随机名称(您的名称会有所不同):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi rd"><img src="../Images/62a5463a5fab0e54927f6b334232fac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*0uIo-gB42DJOqqMmlqBBNQ.png"/></div></figure><p id="b42b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将看到以下日志:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi re"><img src="../Images/b65f5bbfcb94e19c50e342ae011708c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l8uhib9FJLzIwwaI0o-8Zg.png"/></div></div></figure><p id="cec3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">酷，我们可以看到 npm 正确地启动了开发服务器。</p><p id="2554" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您还会看到:</p><blockquote class="oq or os"><p id="525b" class="jk jl ot jm b jn jo jp jq jr js jt ju ou jw jx jy ov ka kb kc ow ke kf kg kh ig bi translated">请注意，开发构建并没有优化。<br/>要创建生产版本，请使用 npm 运行版本。</p></blockquote><p id="a420" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将是下一篇文章的一部分！</p><p id="09e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，让我们通过单击打开 react 应用程序</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi rf"><img src="../Images/8dbcdf96491fac795b08a60dfc39b82d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*HTUXHdaB45vIlsF1XRsrOw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rg"><img src="../Images/a13b4151827e45dd7fa25f5c6c6947d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0w85B_S8iyuF6DcDiAfEQA.png"/></div></div></figure><p id="76cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">酷，我们可以达到我们的应用反应！</p><p id="0169" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👀通常，如果您从头开始创建 React 应用程序，您应该会看到欢迎页面。👀</p><p id="231b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是在这里我们看到了两件事:</p><ul class=""><li id="9a75" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">我们从位于 uri:<a class="ae mu" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a>(使用选项-p 设置的端口)的 React 应用程序转到位于 uri:<a class="ae mu" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a>的 Keycloak 服务器</li><li id="8ed5" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated"><strong class="jm io"> Keycloak 说它不能识别 React 应用程序的 uri，一旦认证通过(这是一种安全措施)，它应该重定向到那里</strong></li></ul><p id="1027" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👀下一部分特定于我们受 Keycloak 保护的 React 应用程序。👀</p><p id="90f0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们回到使用 Docker 运行的 Keycloak UI:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rh"><img src="../Images/947ca0a61d7755066dde576cc1b420ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-mVHNOGghLnC0hokI79n_w.png"/></div></div></figure><p id="b1d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们打开浏览器，点击管理控制台</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ri"><img src="../Images/423897a5896cf3c23322454ff5f06225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rngYMqzupWC4PU-aEhnWmw.png"/></div></div></figure><p id="2301" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于领域和客户端:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ri"><img src="../Images/960a9b2d760b07dbe134690deb1e79d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Axr27cHVN_qR2WMDRKgAg.png"/></div></div></figure><p id="41e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们必须将运行在容器中的 React 应用程序的 uri 添加到有效的重定向 URIs 和 Web 源中:</p><p id="751b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rj"><img src="../Images/3b6d3ac50e516c2bb2d52c939ebdb4ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qBufG4X33mt9Dp5Vampwtw.png"/></div></div></figure><p id="2172" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦我们保存并返回到我们的 Reap 应用程序，我们会得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ri"><img src="../Images/48fb3adde09020ae281b195d670d61e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rHtZFpgsg8rike_JWwFBA.png"/></div></div></figure><p id="9056" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">登录后，我们会看到 React 欢迎页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ri"><img src="../Images/24adef96c70fb6ce1cbb9c3c4100c1ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c8shL-ta2AdB85lXTngftw.png"/></div></div></figure><p id="7dd9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们单击 WeatherCast，我们会得到错误消息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi rk"><img src="../Images/6624bb3b3c9ab564a8e5b019e33c3c93.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*rTjzu4KaOfg5805JmlgaxA.png"/></div></figure><p id="46f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是因为我们的 ASP.NET 核心后端服务没有运行。在本系列的第 3 部分中，我们将看到如何从 ASP.NET 核心 Web API 服务中创建一个 Docker！</p><p id="4f06" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们如何将 linux 文件系统中的本地代码与运行中的容器同步呢？借助 Docker 中的<strong class="jm io">卷</strong>！</p><h1 id="112c" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2–4 从 VS 代码和 Alpine Linux 调试我们正在运行的 React Linux 容器</h1><p id="2a9e" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我们将使用卷来链接在我们的 VS 代码中打开的源代码和正在运行的容器。<br/>在运行容器之前，不要忘记做:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="22c3" class="pn kv in pj b gy po pp l pq pr">xxxx:~/reactwebapikeycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# <strong class="pj io">npm i</strong></span></pre><p id="70b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将在我们的本地 linux 文件系统中安装所有必需的脚本和依赖项。</p><p id="7649" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们不这样做，我们将无法运行容器，因为它将无法找到启动服务器所需的依赖项和脚本。</p><p id="e8c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们运行以下命令:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="599b" class="pn kv in pj b gy po pp l pq pr">xxxx:~/reactwebapikeycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# <strong class="pj io">docker run</strong> -it --rm <strong class="pj io">-v $(pwd):/reactapp</strong>  -p 3000:3000 myreact:1</span></pre><p id="de27" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们添加了选项<strong class="jm io"> -v </strong>，将本地 react 项目与容器的工作目录链接起来。<br/> $(pwd)只是用来表示当前目录(包含我们在 VS Code 中使用的所有源代码)<br/>在 Docker 中卷的呈现下面</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/storage/volumes/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">使用卷</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">卷是保存 Docker 容器生成和使用的数据的首选机制。当绑定挂载时…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="rl l nj nk nl nh nm ks my"/></div></div></a></div><p id="335a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是关于 Docker 卷的完整参考</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/engine/reference/commandline/volume/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">docker 卷</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">docker 卷:管理卷。您可以使用子命令来创建、检查、列出、删除或清理卷。</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="rm l nj nk nl nh nm ks my"/></div></div></a></div><p id="5fb8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们得到了</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="cdd0" class="pn kv in pj b gy po pp l pq pr">Compiled successfully!</span><span id="bca7" class="pn kv in pj b gy pv pp l pq pr">You can now view myapp in the browser.</span><span id="4d68" class="pn kv in pj b gy pv pp l pq pr">Local:            <a class="ae mu" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a><br/>  On Your Network:  <a class="ae mu" href="http://172.17.0.3:3000" rel="noopener ugc nofollow" target="_blank">http://xxxx:3000</a></span><span id="69d3" class="pn kv in pj b gy pv pp l pq pr">Note that the development build is not optimized.<br/>To create a production build, use npm run build.</span><span id="802d" class="pn kv in pj b gy pv pp l pq pr">webpack compiled successfully<br/>No issues found.</span></pre><p id="d221" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们看看浏览器中发生了什么:</p><p id="a253" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👀下一部分特定于我们受 Keycloak 保护的 React 应用程序。👀<br/>如果您使用简单的 react 应用程序，您将直接看到欢迎页面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/6b29adeba97d73496ffa8e783bab1cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PHLiALGlHjYomGUcZCljgQ.png"/></div></div></figure><p id="63db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要向奇洛克认证。</p><p id="c08b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的集装箱运行良好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rn"><img src="../Images/f335d3b24cb152afec43e0b9db1e31a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VRzFE2atROnSFkC-SiDPBg.png"/></div></div></figure><p id="090f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">认证后，我们会看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/13727ba5a784811a2027cb0a2a16e674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G7HGRZRWJbRsXD-1YGzH1Q.png"/></div></div></figure><p id="652d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好了，我们从 VS 代码中更新我们的页面:</p><pre class="kj kk kl km gt pi pj pk pl aw pm bi"><span id="c026" class="pn kv in pj b gy po pp l pq pr">xxxx:~/reactwebapikeycloak/reactwebapikeycloak/reactonlywithkeycloak/myapp# code .</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ro"><img src="../Images/5143f7bee0dfdc422a247adec7082333.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*McLvlYHCtayQy_TBLNZYJA.png"/></div></div></figure><p id="9e13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们修改消息“编辑<code>src/App.tsx</code>并保存以重新加载”并实时查看浏览器:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rp"><img src="../Images/61e968d82ceb70d40f9940ce19d72879.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JW_aqjICTdMGXXEpC6qPOw.png"/></div></div></figure><p id="cdce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是的，我们成功了！</p><p id="816b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们试着调试我们正在运行的容器😉</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rq"><img src="../Images/fa42293fd65cbd80501d766ccbd1725c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pz7tYadklu2pJZxfTm0BHg.png"/></div></div></figure><p id="9420" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rr"><img src="../Images/5f10267b750a711dfd18910f3715ae02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bg83Nu_tkSHDMDreSrhBjg.png"/></div></div></figure><p id="031a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们修复 launch.json 中的 url:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi rs"><img src="../Images/5d753b3407bd0956dd2cd0b58b97f10f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YHS4ik7nrLSCurHlOT_Q7A.png"/></div></div></figure><p id="a7c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后点选绿色&gt;(或按 F5)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi rt"><img src="../Images/2b99e711c64507b3e5e261cedd3ceccf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*BGPgTQmZ84qg5Y3RrZLKdA.png"/></div></figure><p id="e7e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将推出我们的 chrome。</p><p id="aed1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要进行调试，请在 chrome 上按 F12，转到“Sources”选项卡，找到 App.tsx，然后我们可以插入一个断点，例如单击第 12 行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ru"><img src="../Images/1c1f7a57d66d61e93ffff351ce7c7a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*26JjwCx83nu6M-a96VTv0Q.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ru"><img src="../Images/5adaff3e662f6b4f0120b1ef1754fca6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IBPEu0CpdZql17NSXuiB6w.png"/></div></div></figure><p id="097e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们点击“天气预报”按钮</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi rv"><img src="../Images/d50d62969460cb36df71b217f2611f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*uO9MSuZpPqpZZcbbZcDjVA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ru"><img src="../Images/8121ca1fac5120bc29089c0efce99955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ubmggb9ydG_9PrUbqMCDg.png"/></div></div></figure><p id="dcc3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以看到它停在 12 号线上。</p><p id="d266" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 VS 代码中，我们可以看到一切:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/cd28b2fee1389d08039599c58edab85e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AYEWPFpzSlfAHWTzYQ24Sg.png"/></div></div></figure><p id="20ca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">变量、调用堆栈、断点等..黄色的灯 12</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi rw"><img src="../Images/d81beddfb695b93899e29227444b0a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*QwFcsTDoWQGC2uWfRvj8AQ.png"/></div></figure><p id="1e20" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们还可以看到加载的所有 JS 脚本。</p><h1 id="51b7" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">3 结论</h1><p id="b594" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">感谢你阅读这篇文章，我希望它能帮助你✔👌</p><p id="730d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们看到了如何从 Windows 10 Pro 通过 WSL2 在 Linux 容器中使用 Alpine Linux 操作、构建、开发甚至调试我们的 React 应用程序。</p><p id="d1d6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下一次，我们将看到如何在 NGNIX 的帮助下，为生产准备 React 应用程序 Linux 容器。</p><p id="d177" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下次见，和 Covid 一起注意安全。<br/>小心。</p><h1 id="5161" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">参考</h1><p id="51ec" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">码头工人</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/windows/install/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Windows 上安装 Docker 桌面</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">更新 Docker 桌面条款 Docker 桌面在大型企业(超过 250 名员工或…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="ns l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/mac/install/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Mac 上安装 Docker 桌面</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">预计阅读时间:7 分钟更新到 Docker 桌面条款 Docker 桌面的商业用途在更大…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="nt l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/linux/install/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Linux 上安装 Docker 桌面</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">欢迎来到 Docker 桌面 Linux 版。本页包含有关系统要求、下载 URL 和…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="nu l nj nk nl nh nm ks my"/></div></div></a></div><p id="5895" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">节点 JS NPM</p><div class="mv mw gp gr mx my"><a href="https://nodejs.org/en/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">节点. js</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Node.js 是基于 Chrome 的 V8 JavaScript 引擎构建的 JavaScript 运行时。</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">nodejs.org</p></div></div><div class="nh l"><div class="ok l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://nodejs.org/dist/v16.9.0/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">/dist/v16.9.0/的索引</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">docs/07-Sep-2021 08:24-win-x64/07-Sep-2021 07:51-win-x86/07-Sep-2021 07:52-shasums 256 . txt 07-Sep-2021 10:06…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">nodejs.org</p></div></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/docs/remote/linux" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Visual Studio 代码远程开发的 Linux 先决条件</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">VS 代码远程 SSH、远程容器和远程 WSL 的 Linux 先决条件</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="rx l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://pureinfotech.com/install-windows-subsystem-linux-2-windows-10/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">如何在 Windows 10 上安装 wsl 2(Linux 2 的 Windows 子系统)——pure infotech</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">wsl 2(Windows Subsystem for Linux version 2)是该架构的一个新版本，它允许您在</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">pureinfotech.com</p></div></div><div class="nh l"><div class="ox l nj nk nl nh nm ks my"/></div></div></a></div><p id="c822" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">WSL</p><div class="mv mw gp gr mx my"><a href="https://docs.microsoft.com/en-us/windows/wsl/install" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">安装 WSL</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">本指南将向您展示如何安装 Linux 发行版(如 Ubuntu、OpenSUSE、Kali、Debian、Arch Linux 和…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.microsoft.com</p></div></div><div class="nh l"><div class="oy l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">在 Windows for Linux 子系统(WSL) 2 中使用 Docker</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">2020 年 3 月 2 日 Matt Hernandez，@ fiveisprime 去年 6 月，Docker 团队宣布他们将投资于…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="pb l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/desktop/windows/wsl/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Docker 桌面 WSL 2 后端</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">预计阅读时间:9 分钟更新到 Docker 桌面条款 Docker 桌面的商业用途在更大…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="pc l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://blog.oio.de/2020/10/02/seamless-integration-of-docker-on-windows-using-wsl-2/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">使用 WSL 2 无缝集成 Windows 上的 Docker？</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">在这篇文章中，我给出了一个在 Windows 上使用 Docker 的简短总结，并对最新的 Docker 桌面进行了更详细的介绍…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">博客. oio.de</p></div></div><div class="nh l"><div class="pd l nj nk nl nh nm ks my"/></div></div></a></div><p id="47b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">WSL2 的 Linux 内核</p><div class="mv mw gp gr mx my"><a href="https://github.com/microsoft/WSL2-Linux-Kernel" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">GitHub—Microsoft/wsl 2-Linux-Kernel:在 Windows 子系统中使用的 Linux 内核的源代码…</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">WSL2-Linux-Kernel repo 包含 WSL2 内核的内核源代码和配置文件。如果你发现…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="pw l nj nk nl nh nm ks my"/></div></div></a></div><p id="a1c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">阿尔卑斯 Linux</p><div class="mv mw gp gr mx my"><a href="https://www.makeuseof.com/alpine-linux-explained/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Alpine Linux:轻量级 Linux 发行版讲解</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Linux 很有趣，但有时你会因为当前的发行版而碰壁，想要一些不同的东西。另外，似乎…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">www.makeuseof.com</p></div></div><div class="nh l"><div class="pg l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://nickjanetakis.com/blog/the-3-biggest-wins-when-using-alpine-as-a-base-docker-image" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">使用 Alpine 作为基本 Docker 图像的 3 大优势</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">众所周知，Docker 大量使用 Alpine 作为官方 Docker 图片的基础图片。这个动作…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">nickjanetakis.com</p></div></div><div class="nh l"><div class="ph l nj nk nl nh nm ks my"/></div></div></a></div><p id="040c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">CMDER</p><div class="mv mw gp gr mx my"><a href="https://cmder.net/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">控制台模拟器</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">用于 Windows Cmder 的便携式控制台仿真器是一个软件包，它完全是由于缺少…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">cmder.net</p></div></div><div class="nh l"><div class="ps l nj nk nl nh nm ks my"/></div></div></a></div><p id="81a7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">VS 代码和远程开发</p><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/docs/remote/remote-overview" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Visual Studio 代码远程开发</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Visual Studio 代码远程开发允许您使用容器、远程机器或用于 Linux 的 Windows 子系统…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="qa l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/docs/remote/linux" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Visual Studio 代码远程开发的 Linux 先决条件</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">VS 代码 Remote — SSH、Remote — Containers 和 Remote — WSL 的 Linux 先决条件</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="pz l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://code.visualstudio.com/docs/remote/wsl-tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">使用 Visual Studio 代码在 Linux 的 Windows 子系统中工作</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">本教程将带您了解如何启用 Windows Subsystem for Linux (WSL ),以及如何使用…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">code.visualstudio.com</p></div></div><div class="nh l"><div class="qb l nj nk nl nh nm ks my"/></div></div></a></div><p id="13ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">DOCKER 撰写</p><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/compose/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Docker 编写概述</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">正在寻找撰写文件参考？在此处找到最新版本。Compose 是一个定义和运行…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="qh l nj nk nl nh nm ks my"/></div></div></a></div><p id="bab7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">码头工人</p><div class="mv mw gp gr mx my"><a href="https://hub.docker.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">Docker Hub 容器图像库|应用容器化</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">编辑描述</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">hub.docker.com</p></div></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/engine/reference/commandline/build/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">码头工人建造</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">从 docker 文件构建映像参考选项部分，了解此命令可用的概述。码头工人…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="ry l nj nk nl nh nm ks my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://docs.docker.com/engine/reference/run/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">码头运行参考</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Docker 在隔离的容器中运行进程。容器是在主机上运行的进程。主机可能是本地的，也可能是…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">docs.docker.com</p></div></div><div class="nh l"><div class="rb l nj nk nl nh nm ks my"/></div></div></a></div><p id="5795" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ALPINE LINUX DOCKER 映像</p><div class="mv mw gp gr mx my"><a href="https://github.com/alpinelinux/docker-alpine/tree/v3.14" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">GitHub-alpinelinux/docker-alpine 3.14 版</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="qv l nj nk nl nh nm ks my"/></div></div></a></div><p id="b1a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">视频(我在我文章的最后看了，我很高兴看到彼得走了同样的路，他用 ubuntu 而不是 Alpine)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="rz qj l"/></div></figure></div></div>    
</body>
</html>