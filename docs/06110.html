<html>
<head>
<title>Security and Authentication as a Frontend Engineer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为前端工程师的安全性和身份验证</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/security-and-authentication-as-a-frontend-engineer-7ebd69813e8d?source=collection_archive---------4-----------------------#2021-12-14">https://blog.devgenius.io/security-and-authentication-as-a-frontend-engineer-7ebd69813e8d?source=collection_archive---------4-----------------------#2021-12-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/5c9063b192336ec0c819d1c5acfb6ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BuFBq5NKiG2pCBDkG5AK7Q.jpeg"/></div></div></figure><div class=""/><p id="e5ca" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们生活在数据驱动的时代。互联网是众多需要客户数据的服务的支柱。作为一名前端工程师，我现在正在扩展他的技能，包括数据库管理和后端开发，我开始意识到我对整个事情是多么的天真和健忘。是的，我知道我必须实现gitIgnore来保护我的API密钥之类的东西，但是我对保护用户数据了解多少呢？</p><p id="dd2f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我过渡到全栈工程(MERN)的过程中，这是那些打开了我的眼界，让我看到超越web开发的东西的模块之一。现在我知道在我的网站上至少要实现6个级别的认证(我喜欢基于项目的学习，所以我用React和tailwind创建了一个简单的健身房网站，我将为数据库和后端添加MongoDB和Node.js)。我现在知道的6个级别是:</p><ol class=""><li id="6e52" class="kt ku iy jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">用用户名和密码注册用户</li><li id="89ad" class="kt ku iy jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">数据库加密</li><li id="f777" class="kt ku iy jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">哈希密码</li><li id="72ef" class="kt ku iy jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">腌制和哈希</li><li id="fd23" class="kt ku iy jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">Cookies和会话</li><li id="124d" class="kt ku iy jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">OAuth 2.0</li></ol><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lh"><img src="../Images/633b8fba75e46c44318f9ab1ef7bc900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1d6D7ad2S9tRThV9ihVR6Q.jpeg"/></div></div></figure><p id="ae7d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一级</p><p id="c067" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这包括为用户创建一个帐户，并将用户名和密码存储在数据库中，这样当他们下次再来时，就可以对照密码检查他们的用户名。</p><p id="2dcb" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这种认证方式的问题在于，黑客只需要染指我的数据库文档，仅此而已。如果我有数百万用户，并且我的密码都是明文的，黑客可能会过一个<strong class="jx iz">hooge</strong>感恩节。所以如果我要做一个网站，我不会以纯文本的形式存储我客户的个人信息。这让我们想到</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lm"><img src="../Images/d924d146a12228962bbc00442ad4442f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ibvWoYtLnS8nJUQVKWE-EQ.png"/></div></div></figure><p id="1831" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">第二级</p><p id="3565" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">加密。打乱明文，让人分不清原来的样子。有点像丹·雷诺斯(想象龙主唱)说“想象龙”是原文的变位词。我数不清我进行了多少次迭代和排列，然后试图找出最初的单词lol，在最初的25次尝试后我放弃了。这就是加密的作用，它让你质疑“你试图获取的这些信息值得吗？真的真的值得吗？”这种策略有时可能会奏效，但随着高清GPU的出现，破解复杂加密代码所需的时间大大减少了。你都不知道。无论是凯撒密码还是英格玛机，都存在缺陷，在我们的世界中，利用这些缺陷所需的工具掌握在那些知道如何使用它们的人手中，可悲的是，他们不站在你这边，他们想要个人信息，解密对一些人来说是在公园里散步。所以这个高度不是安全着陆区，我们必须向高处移动。如果我想在这里休息，npm包“mongose-encryption”已经完成了。继续前进</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/d98352d6fd489366aba75a7c66372052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*yOK3EtPdrLKtJlwUpwYxew.png"/></div></figure><p id="6c60" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">第三级</p><p id="22a5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">散列法试图通过引入散列函数(一种只向前发展的数学方程)来消除解密的可能性。假设我问你“377除了1和377还有哪些因子？”当然，你有一些信息可以利用，但是你花了多长时间才弄明白？(答案，13和29)。一个类似的问题是“你能把13乘以29吗？”。向前移动(13 x 29得到377)显然比向后移动(找到377的因子)容易，这就是哈希函数的基本工作方式。这使得将代码解密回明文变得困难且耗时，但开发代码和加密却非常容易。</p><p id="db43" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，当我们的用户在我们的网站上注册时，我们对密码进行哈希处理，并将哈希存储在我们的数据库中。然后，当他们试图登录时，我们对输入密码进行哈希处理，并将其与我们数据库中的哈希值进行比较。在整个过程中，我们从未接触过明文密码，唯一知道密码的人是用户。"<strong class="jx iz"> md5 </strong>"是一个有效的哈希算法包。但是要注意几件事:当你在同一个字符串上运行散列时，创建的散列总是相同的。</p><p id="6ef9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这应该是我们的极乐世界，天堂，安息之地但不是，你一提出问题，黑客就想出解决方案。提示下一关</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/c2dfc0e7908b8885cf1e0069f176c04e.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*NsdyRgbVHS93iU8vondCxw.png"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">加盐😂</figcaption></figure><p id="bed5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">撇开盐裴的笑话不谈，盐是一个非常聪明的把戏。如果一个黑客进入了我们的数据库，复制一个散列密码并搜索它的值(如果所说的密码是一个普通或流行的短语)是不费吹灰之力的。这就是为什么我们被建议生成非字典密码，它增加了哈希的崩溃时间(可怕的统计数据，使用最新的GPU，黑客每秒可以轻松通过20，000，000，000个md5哈希函数)。这就是“<strong class="jx iz"> bcrypt </strong>”进入对话的地方。最新的GPU每秒可以计算大约17，000个bcrypt哈希，就像这样，即使用md5破解也需要几分钟或几秒钟的东西，突然需要几个月才能破解，谁有那个时间？所以盐析基本上可以用这个图来解释</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/38dd264450748e6c6faed47ee89f1e2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*X5oSCbrc1l7L00QJfTp0dg.png"/></div></figure><p id="0854" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">同一个字，不同的盐，不同的哈希值。Bcrypt还引入了salt rounds:在从第一次散列和加盐过程中获得散列后，重复你认为合适的次数。有了这个解释，我们就进入了过度认证的领域。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lu"><img src="../Images/6f6cf3584d55c4deaf29840ab137e34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FM73oKon6XlHHMjpvncZA.jpeg"/></div></div></figure><p id="7f10" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，这就是事情变得非常私人的地方。最简单的形式是，一个饼干就像一个幸运饼干，里面有一个信息，可以被传递和打破来揭示信息。我总是看到网站上写着“我们使用cookies”之类的话，然后我会看到“接受或拒绝”的选项。我不知道饼干是什么意思，但现在，它就像一层面纱从我的眼睛上揭开，我现在可以看得很清楚了。这个话题真的真的很深刻，所以，总结一下:</p><p id="76f6" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一、会话是指从你登录一个站点到你关闭它的这段时间，重点是关闭。</p><p id="135d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">二。会话数据存储在cookie中</p><p id="2cef" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">三。cookies帮助客户在每次离开和回到我的网站时重新开始。</p><p id="7abc" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">四。浏览网页后，请务必清除/删除网页。</p><p id="d1e2" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在web开发术语中，我们感兴趣的cookiess是那些建立和维护会话所需的cookie。这意味着当您登录时，会用您的凭据创建一个cookie，cookie会说，“该用户已登录，并已成功通过身份验证”。所以在这段时间内，你浏览一个网站，你不会被要求再次登录。cookie会保持您的身份验证，直到您注销并且cookie被销毁。npm包“<strong class="jx iz"> Passport </strong>”有助于实现。它有助于本地身份验证策略。它还有助于自动加盐和散列(<strong class="jx iz">护照-本地-猫鼬</strong>)。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lv"><img src="../Images/2fadf51fe35c6b89a56f80b2b963ee2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*jnnTF3y5EDEsDLC7NTLA1Q.jpeg"/></div></div></figure><p id="6794" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">OAuth，一个基于令牌授权的开放标准，就像是把我们网站的认证外包给了顶级安全的高科技公司。例如登录谷歌、脸书和其他网站。</p><p id="4c6e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这些公司采用了广泛的安全功能和程序(胡椒和加密整个数据库，等等)，因此客户可以放心，我们无法访问他们的个人信息，并且信息保持完整。每当他们想要登录我们的网站时，我们会将他们定向到第三方应用程序，这些应用程序使用他们自己的安全方法对他们进行身份验证，一旦完成，他们就会被重定向回我们，从而减少我们的责任。</p><p id="c8ed" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我个人在过去很难相信网站上有我的个人信息，尤其是当我被引导到“登录谷歌，我仍然需要输入我的密码”时，我不知道这可能是当今最安全的认证方式之一。</p><p id="9f5f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我猜做后端工程师的好处包括清晰。</p></div></div>    
</body>
</html>