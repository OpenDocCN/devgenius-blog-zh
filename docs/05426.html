<html>
<head>
<title>How to Serialize an Object into a List of URL Query Parameters with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 JavaScript 将一个对象序列化成 URL 查询参数列表？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-serialize-an-object-into-a-list-of-url-query-parameters-with-javascript-b808d4ed79fc?source=collection_archive---------2-----------------------#2021-08-09">https://blog.devgenius.io/how-to-serialize-an-object-into-a-list-of-url-query-parameters-with-javascript-b808d4ed79fc?source=collection_archive---------2-----------------------#2021-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f6d081d43468d5f3523ed1e233de6f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FjkpJ6LnsZjExrd6"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@andrewtneel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">安德鲁·尼尔</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="722f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望将 JavaScript 对象的键值对转换成查询字符串，并将对象中的键值对作为查询参数。</p><p id="2c66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何用 JavaScript 将一个对象序列化为一组 URL 查询参数。</p><h1 id="1fba" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用 URLSearchParams 构造函数</h1><p id="027f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用大多数现代浏览器都有的<code class="fe me mf mg mh b">URLSearchParams</code>构造函数将 JavaScript 对象转换成查询字符串。</p><p id="12b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="959f" class="mq lc iq mh b gy mr ms l mt mu">const obj = {<br/>  param1: 'something',<br/>  param2: 'somethingelse',<br/>  param3: 'another'<br/>}<br/>const url = new URL(`http://example.com`);<br/>url.search = new URLSearchParams(obj);<br/>console.log(url.toString())</span></pre><p id="d31f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建我们想要转换成查询字符串的<code class="fe me mf mg mh b">obj</code>对象，并将键-值对添加到查询字符串中。</p><p id="9252" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe me mf mg mh b">URL</code>创建<code class="fe me mf mg mh b">url</code>对象，以创建<code class="fe me mf mg mh b">URL</code>实例。</p><p id="3bfe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们将<code class="fe me mf mg mh b">url.search</code>属性设置为我们想要设置的查询字符串。</p><p id="3389" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了创建查询字符串，我们使用带有<code class="fe me mf mg mh b">obj</code>的<code class="fe me mf mg mh b">URLSearchParams</code>构造函数来创建查询字符串对象。当我们将查询字符串转换为字符串时，它将被追加到 URL 中。</p><p id="1f34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在最后一行，我们调用<code class="fe me mf mg mh b">toString</code>将<code class="fe me mf mg mh b">URL</code>实例转换成一个 URL 字符串。</p><p id="8c76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，控制台日志应该记录:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4a01" class="mq lc iq mh b gy mr ms l mt mu">http://example.com/?param1=something&amp;param2=somethingelse&amp;param3=another</span></pre><h1 id="6ddf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="2efc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">URLSearchParams</code>构造函数将 JavaScript 对象序列化为查询字符串。</p></div></div>    
</body>
</html>