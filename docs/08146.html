<html>
<head>
<title>PHP — P48: Type Declarations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P48:类型声明</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-p48-type-declarations-47114a7a0e0b?source=collection_archive---------5-----------------------#2022-05-20">https://blog.devgenius.io/php-p48-type-declarations-47114a7a0e0b?source=collection_archive---------5-----------------------#2022-05-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/00722252afc306d8e4550af403c0c0be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VvlS_6EqxvdwRTlFJcXLVQ.jpeg"/></div></div></figure><p id="7e7c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您来自 PHP 的旧时代，您可能已经被 PHP 自动为您声明类型宠坏了。便利不是你每次都想要的。有时，您希望能够指定要存储或返回的数据类型。</p><p id="4357" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在 PHP 中还是可选的；要不要用，你自己看着办。如果您使用它，我鼓励您这样做，并且您指定了错误的数据类型，PHP 将抛出一个错误。</p><p id="b7b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从 PHP 7 开始，我们可以添加 PHP 返回类型声明。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="55b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">类型声明还允许我们指定参数将接受什么类型的数据类型。要指定类型，只需在参数前添加类型。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="28e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从 PHP 7 开始，如果出现不正确的数据类型，PHP 将抛出 type-error-exception。</p><p id="1e20" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">只要参数有默认的<strong class="ka ir"> null </strong>值，任何类型都可以接受<strong class="ka ir"> null </strong>值。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="5e00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">PHP 不要求你在任何地方都使用类型声明。为了说明这一点，让我们对以前的 GermanShepherd 类进行修改。</p><div class="lc ld gp gr le lf"><a rel="noopener  ugc nofollow" target="_blank" href="/php-p47-this-keyword-f7397e560949"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">PHP—P47:$这个关键字</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">在前面的文章中，我们已经看到了如何使用 object 操作符访问对象内部的方法。这个…</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">blog.devgenius.io</p></div></div><div class="lo l"><div class="lp l lq lr ls lo lt jw lf"/></div></div></a></div><p id="d608" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们不会触及常量和属性类型，我们将只修改两个方法。第一个修改是对<strong class="ka ir"> sleep() </strong>方法的修改。让我们将<strong class="ka ir"> $energy_level </strong>参数声明为一个<strong class="ka ir"> int </strong>。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="1d57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你现在试图传递除了一个<strong class="ka ir"> int </strong>之外的任何其他类型的参数，你将得到一个错误。例如，实例化对象并将一个<strong class="ka ir">字符串</strong>传递给<strong class="ka ir"> sleep() </strong>方法。您应该得到一个<strong class="ka ir">类型错误</strong>致命错误。</p><p id="9840" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lu">$ GS = new german shepherd()；<br/> $gs- &gt;睡眠(“迪诺”)；</em></p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/dce54585cc474b2800b937b99336ec66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mwrhFjYoUlj5Fvi93bcLoA.png"/></div></div></figure><p id="ad8f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们还将修改<strong class="ka ir"> get_eye_color() </strong>和<strong class="ka ir"> does_shed() </strong>方法。这些方法返回字符串，所以我们将指定<strong class="ka ir">字符串</strong>作为返回类型。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="b8b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，让我们修改一下<strong class="ka ir">get _ scientific _ classification()</strong>方法，将<strong class="ka ir">数组</strong>指定为返回类型。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="ca68" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完全修改后的代码如下所示。请注意，只有一些项收到了类型声明；大多数人没有。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="70d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于<strong class="ka ir"> Car </strong>类，让我们更改属性类型并为每个方法指定返回类型。我们的每个方法都返回一个字符串，所以我们将为每个方法指定<strong class="ka ir">字符串</strong>返回类型。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="8dd5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于属性，我们有<strong class="ka ir">字符串</strong>用于颜色、品牌、型号、传输、车辆类型和两个测量单位属性。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="621d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">年份、燃料类型、马力和扭矩参数是整数值，因此它们有一个<strong class="ka ir"> int </strong>类型声明。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="ef29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于车辆的外部尺寸和重量可以以十进制格式存储，我们将把它们声明为<strong class="ka ir">浮点数。</strong>我们还有一个额外的属性，<strong class="ka ir"> car_on </strong>，用于存储布尔值。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="820d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就完成了汽车类的修改。所有的属性和方法都已修改。你的准则现在更严格了。这应该有助于错误检查，并防止您意外出错。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lw lb l"/></div></figure></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><div class="kw kx ky kz gt lf"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">dinocajic/PHP-7-YouTube-教程</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">PHP 7.x YouTube 教程的代码。</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">github.com</p></div></div><div class="lo l"><div class="me l lq lr ls lo lt jw lf"/></div></div></a></div></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f724b2852fe7775944f8455fc356987d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zTZ1NnhwEesEy5jL.jpeg"/></div></div></figure><p id="e5c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dino Cajic 目前是<a class="ae mf" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(寿命生物科学公司)</a>、<a class="ae mf" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae mf" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae mf" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物科技</a>、<a class="ae mf" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae mf" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的 IT 负责人。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="fed8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae mf" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae mf" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae mf" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="a2d1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">阅读 Dino Cajic(以及 Medium 上成千上万的其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。T29】</p></div></div>    
</body>
</html>