<html>
<head>
<title>Deploy a React Web App to Firebase &amp; Make It Act Like a Mobile App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将React Web应用程序部署到Firebase &amp;让它像移动应用程序一样工作</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/deploy-a-react-web-app-to-firebase-make-it-act-like-a-mobile-app-d19783b8a1c2?source=collection_archive---------1-----------------------#2020-10-25">https://blog.devgenius.io/deploy-a-react-web-app-to-firebase-make-it-act-like-a-mobile-app-d19783b8a1c2?source=collection_archive---------1-----------------------#2020-10-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/65ccf5db4cfd3f84d9d61b35dc996d42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zANqpQ5U3um2VLMt5jZagA.png"/></div></div></figure><p id="8ff5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">前几天，我部署了一个为我妻子制作的React应用程序，Funky Cafe。这是一个全栈应用，后端是Rails，前端是React。在此之前，我确保它能适应更小的屏幕，并能做出相应的调整。</p><p id="5b5b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我将前端部署到Firebase时，我遇到了一些问题，不过没有什么是不能解决的。这就是本文的第一部分，将React应用程序部署到Google Firebase的步骤。我还将讨论如何让这个web应用程序在添加到iOS或Android主屏幕时看起来和操作起来像一个移动应用程序。</p><p id="d7e8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在之前的帖子中，我用React构建了一个井字游戏应用程序，我认为这个项目将是一个完美的例子，所以我让它能够响应移动大小的屏幕，以便为部署做准备。在这篇文章中，我将把应用程序部署到Google Firebase，并替换它的<code class="fe kt ku kv kw b">favicon.ico</code>和其他标志，使它在浏览器标签、移动主屏幕和打开渐进式网络应用程序时的机器人启动屏幕上看起来更专业。</p><p id="2be9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">本岗位目标:</strong></p><ol class=""><li id="8ede" class="kx ky in jx b jy jz kc kd kg kz kk la ko lb ks lc ld le lf bi translated">在Firebase上创建项目，并通过终端连接到我们的项目，以便开始托管。</li><li id="d872" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">为应用程序生成新的<code class="fe kt ku kv kw b">favicon.ico</code>和徽标图像。</li><li id="937f" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">更改<code class="fe kt ku kv kw b">manifest.json</code>和<code class="fe kt ku kv kw b">index.html</code>文件，在移动主屏幕上显示新图标，作为一个渐进式网络应用程序(Android或iOS)。</li></ol><p id="5871" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">我正在着手做的事情:</strong></p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="lp lq l"/></div></figure></div><div class="ab cl lr ls hr lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ig ih ii ij ik"><h1 id="7850" class="ly lz in bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">部署到火力基地</h1><p id="90a5" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">我已经在<a class="ae nb" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>上做了说明，但是如果你想继续下去，你需要先这么做。</p><p id="5abb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">登录后，转到您的控制台:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/0b664c1d0044475f8deed78d576bc4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s5HdrTgYFy7OcREF_jHhtA.png"/></div></div></figure><p id="8bb3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下一个屏幕将显示您之前部署的Firebase项目，并提供一个“添加项目”选项，这是我们想要的选项。点击它后，我们应该会看到一个屏幕，要求我们命名我们的项目。您可以通过确保您键入的名称下面的建议匹配(不区分大小写)来判断名称是否未被采用，如下所示:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/4abf296297ecd87292d4a016e5f0598c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JbCUPg_liZR7ij_5cIeCQA.png"/></div></div></figure><p id="0a11" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">找到正确的应用程序名称并点击继续后，接下来的两步是关于你是否愿意参与谷歌分析。完全取决于开发人员，如果我选择参与(我通常会说为什么不)，我总是选择步骤3的默认帐户选项。</p><p id="055e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在步骤3中点击continue将开始创建您的Firebase项目，当它完成时，您应该会看到如下内容:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/3397699bbae0d805d257ca6106c61afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*1o7bRtSxU3k3Bz_I4T_eow.png"/></div></figure><p id="6e19" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，Firebase将我们带到项目仪表板，接下来我们将单击左侧菜单中的“Hosting”选项卡:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/5692fd1b6fbc2d6f1ac694be16449ba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2_v4xM0l_PZT8MvGOzpvbg.png"/></div></div></figure><p id="089c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，点击“开始”按钮，这将向我们显示更多的说明，这些说明都是不言自明的。从项目的根目录开始，说明从安装Firebase CLI开始:</p><pre class="ll lm ln lo gt nf kw ng nh aw ni bi"><span id="5e92" class="nj lz in kw b gy nk nl l nm nn">npm install -g firebase-tools</span></pre><p id="9bf4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下一步是登录Firebase:</p><pre class="ll lm ln lo gt nf kw ng nh aw ni bi"><span id="db14" class="nj lz in kw b gy nk nl l nm nn">firebase login</span></pre><p id="11f3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">由于我已经登录到Firebase，它只是说我已经登录，对于没有登录的人，它可能会将您重定向到一个网页，在那里您可以验证您的帐户。</p><p id="8489" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，在下一步之前，我认为重要的是要注意:为了在Firebase上托管React应用程序，有必要拥有应用程序的生产版本。这是我第一次或两次尝试部署项目时偶然发现的，也是我在本文中包含这一部分的部分原因。</p><p id="8034" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在下一步中，我们将指定我们希望从build文件夹初始化我们的应用程序，因此为了做到这一点，我们必须确保我们的应用程序有一个build文件夹。我用于生产构建的命令是:</p><pre class="ll lm ln lo gt nf kw ng nh aw ni bi"><span id="464b" class="nj lz in kw b gy nk nl l nm nn">npm run build</span></pre><p id="ae37" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是构建文件夹完成后我的终端的样子:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/9bce215f45281d27d20f971108960871.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*buHlZjRZHkv8a7zej2TSxg.png"/></div></div></figure><p id="5b0f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">之后，您应该能够在文件树中看到构建文件夹。回到终端，我们可以输入下一个命令:</p><pre class="ll lm ln lo gt nf kw ng nh aw ni bi"><span id="ff39" class="nj lz in kw b gy nk nl l nm nn">firebase init</span></pre><p id="8877" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">看一看弹出的菜单:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/90f2a9f067990f3bbb8958c1a9531009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihfv5cIng47fqM3RDihe7w.png"/></div></div></figure><p id="c690" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正如你在上面的图片中看到的，我从菜单中选择了“主机”选项，使用箭头键来导航，使用空格键来选择。正如它所说的，然后我按回车键继续，提出下一组问题，每个问题都以“？”开头。符号:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/cec485d31f89a6eedbfb7625168b60b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ZJQowpMq5YYy9GiCClYbQ.png"/></div></div></figure><p id="f1db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">分解之前的初始化步骤:</strong></p><ol class=""><li id="2bce" class="kx ky in jx b jy jz kc kd kg kz kk la ko lb ks lc ld le lf bi translated">选定的“托管”</li><li id="f15a" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">选择“使用现有项目”</li><li id="aae1" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">选择了“井字游戏”火垒项目</li><li id="50b3" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">为公共目录输入“build”</li><li id="a0bb" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">选择“y”(是)配置为单页面应用程序(React是单页面框架)</li><li id="803e" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">对于使用Github自动构建和部署，选择“N”(否)——这个选项肯定有用，但是为了本文的缘故，选择跳过它，考虑为您的应用程序启用这个选项。</li><li id="482e" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks lc ld le lf bi translated">当询问我是否要覆盖已经存在的<code class="fe kt ku kv kw b">build/index.html</code>文件时，选择“N”(否)。</li></ol><p id="73c9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们现在终于可以输入合适的最终命令了:</p><pre class="ll lm ln lo gt nf kw ng nh aw ni bi"><span id="3ab7" class="nj lz in kw b gy nk nl l nm nn">firebase deploy</span></pre><p id="628b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这给了我们这个结果:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/5ed3cd44c29e713e33abd44f50b2db1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*qVoCQYJbPaQPWBykM7HgYQ.png"/></div></figure><p id="0b03" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，如果我们去它建议的托管<a class="ae nb" href="https://tic-tac-toe-tyler.web.app" rel="noopener ugc nofollow" target="_blank">网址</a>，我们现在可以看到应用程序的运行:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nq"><img src="../Images/fcbd55313329870aecf1cf695fa069e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f7IiH6H1BGEMU7JS-El7Rg.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">浏览器</figcaption></figure><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nv"><img src="../Images/38565d44e9ea2887e35913cf2f6454dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AC1NpkzqxhToBt1mgS_lNw.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">移动浏览器</figcaption></figure><p id="4231" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">注意到浏览器选项卡仍然有React徽标作为图标吗？那是因为我们还没有改变<code class="fe kt ku kv kw b">favicon.ico</code>，它是一个浏览器识别为图标格式的图像，并且知道如何相应地处理它。我们将不得不改变的不仅仅是<code class="fe kt ku kv kw b">favicon.ico</code>，但是我们可以从一个favicon生成器中获得所有必要的图像，我喜欢使用<a class="ae nb" href="https://realfavicongenerator.net/" rel="noopener ugc nofollow" target="_blank">这个</a>，它是由<a class="ae nb" href="https://medium.com/@jenniferdobak/the-public-folder-and-favicons-in-create-react-app-8dc2cc1d492b" rel="noopener">这个</a>信息文章推荐给我的，如果你在这里制作了它，你可能已经看过了。</p></div><div class="ab cl lr ls hr lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ig ih ii ij ik"><h1 id="25a3" class="ly lz in bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">生成图标和其他图像</h1><p id="527f" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">我创建了这个图像并上传到上面提到的生成器:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/172a6c4cda03ce495da25c2e71a060a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*r7yPMOEOj_S889urZYUX7g.png"/></div></figure><p id="d771" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">生成器完成后，看看我下载的包内部:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/3246ee9c56a776299ab5af4223ac9855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*25jNPl-w81D8sa1ZR9T9nw.png"/></div></figure><p id="7685" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">生成器给出了如何将整个包放入项目根目录并使用所有图像的说明，然而，为了这篇文章，我们实际上只需要其中的3个图像，我将继续将它们分别放入<em class="ny">井字游戏的“公共”文件夹中。</em></p><p id="a7aa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将使用<em class="ny"> </em> <code class="fe kt ku kv kw b"><em class="ny">favicon.ico</em></code> <em class="ny"> </em>作为浏览器标签，<em class="ny"> </em> <code class="fe kt ku kv kw b"><em class="ny">apple-touch-icon.png</em></code> <em class="ny"> </em>作为iOS(以及android信不信由你)“添加到主屏幕”图标，<code class="fe kt ku kv kw b">android-chrome-512x512.png</code>将用于Android闪屏。</p><p id="904f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">关于<code class="fe kt ku kv kw b">favicon.ico</code>的伟大之处在于，当你将它放入公共文件夹时，当它提示你已经存在一个<code class="fe kt ku kv kw b">favicon.ico</code>时，你可以轻松地一次性替换默认的<code class="fe kt ku kv kw b">favicon.ico</code>。</p><p id="e17f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于另外两个，我们需要稍微修改一下<code class="fe kt ku kv kw b">index.html</code>和<code class="fe kt ku kv kw b">manifest.json</code>文件。这就是我们接下来要讨论的，并完成使这个游戏看起来像一个移动应用程序的最后步骤，也就是所谓的渐进式web应用程序！</p><h1 id="8152" class="ly lz in bd ma mb nz md me mf oa mh mi mj ob ml mm mn oc mp mq mr od mt mu mv bi translated">必要的index.html &amp; manifest . JSON更改</h1><p id="530e" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">让我们看看这两个文件，从位于公共文件夹中的<code class="fe kt ku kv kw b">index.html</code>开始。</p><h2 id="7bf7" class="nj lz in bd ma oe of dn me og oh dp mi kg oi oj mm kk ok ol mq ko om on mu oo bi translated">index.html</h2><p id="ef82" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">与原始状态相比，唯一改变的是标题:</p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="op lq l"/></div></figure><p id="e112" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">第5行有一个<code class="fe kt ku kv kw b">&lt;link&gt;</code>标签，它保存了<code class="fe kt ku kv kw b">href</code>属性中的<code class="fe kt ku kv kw b">favicon.ico</code>。这个已经正常工作了，因为图像/图标名称完全相同。</p><p id="9292" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，第12行上的<code class="fe kt ku kv kw b">&lt;link&gt;</code>标签将被更改。为了匹配我们添加的新的<code class="fe kt ku kv kw b">apple-touch-icon.png</code>图像的名称，<code class="fe kt ku kv kw b">href</code>属性特别需要改变。我们还需要添加一个属性——<code class="fe kt ku kv kw b">sizes</code>——据我所知，这有助于让这个标签为Android而不仅仅是iOS设备工作。该标记将如下所示:</p><pre class="ll lm ln lo gt nf kw ng nh aw ni bi"><span id="a20c" class="nj lz in kw b gy nk nl l nm nn">&lt;link rel="apple-touch-icon" sizes="128x128"<br/>  href="%PUBLIC_URL%/apple-touch-icon.png" /&gt;</span></pre><p id="9bff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b"> index.html</code>文件在一个注释掉的部分中提到了前缀<code class="fe kt ku kv kw b">%PUBLIC%</code>，同样也描述了<code class="fe kt ku kv kw b">manifest.json</code>文件。我之前提到的那篇文章(这里再次链接<a class="ae nb" href="https://medium.com/@jenniferdobak/the-public-folder-and-favicons-in-create-react-app-8dc2cc1d492b" rel="noopener"/>)也很好地潜入了公共文件夹和那些感兴趣的<code class="fe kt ku kv kw b">manifest.json</code>文件。</p><h2 id="2c16" class="nj lz in bd ma oe of dn me og oh dp mi kg oi oj mm kk ok ol mq ko om on mu oo bi translated">manifest.json</h2><p id="5130" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">下面来看看<code class="fe kt ku kv kw b">create-react-app</code>应用自带的默认<code class="fe kt ku kv kw b">manifest.json</code>文件:</p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="op lq l"/></div></figure><p id="4455" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最初，我在让Android闪屏显示它应该显示的512x512图像时遇到了麻烦。然后我在堆栈溢出的某个地方读到了一个评论，说在他们从<code class="fe kt ku kv kw b">manifest.json</code> <code class="fe kt ku kv kw b">icons</code>数组中删除了192x192对象之后，512x512图像最终将被用于闪屏。</p><p id="f6b0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">考虑到这一点，下面是我在公共文件夹中为<em class="ny">井字游戏</em>修改的<code class="fe kt ku kv kw b">manifest.json</code>文件。</p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="op lq l"/></div></figure><p id="4692" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">唯一的区别是:</p><p id="b42e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">—将<code class="fe kt ku kv kw b">short_name</code>和<code class="fe kt ku kv kw b">name</code>更改为我想要的样子。<br/> —删除上述192x192对象。<br/> —将512x512的<code class="fe kt ku kv kw b">src</code>替换为之前放入公共文件夹的<code class="fe kt ku kv kw b">android-chrome-512x512.png</code>。<br/>—更改了<code class="fe kt ku kv kw b">background_color</code>(用于闪屏；<code class="fe kt ku kv kw b">theme_color</code>改变文本颜色)以匹配应用背景。</p><p id="34ef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么，为什么我们没有看到任何变化呢？因为我们将我们的应用程序指定为托管在构建文件夹中，而现在构建文件夹中仍然有我们所有的原始代码<code class="fe kt ku kv kw b">npm run build</code>。这意味着我们的下一步需要重新构建我们的构建文件夹，包含新的更改。</p><p id="f772" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">再多一个<code class="fe kt ku kv kw b">npm run build</code>将允许您看到在构建文件夹中反映的公共文件夹中所做的更改。</p><p id="e164" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这给我们留下了最后一步，重新部署到火力基地。只要我们还在登录(应该是)，我们就可以再次使用<code class="fe kt ku kv kw b">firebase deploy</code>和<strong class="jx io">了！</strong>我们可以检查我们努力工作的结果！</p><p id="0994" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，要了解在部署之后，所有文件都需要10到30秒才能到达，有时会更长，所以请稍等片刻！</p><p id="57c1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">好了，现在让我们看看图标的用法！</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/7241bb4802aa469d334a1654f7fc5798.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*y4jlNFackNLlTrlNyKIA9w.png"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">浏览器选项卡</figcaption></figure><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi or"><img src="../Images/88b9700e14fe92eaf1137f7c8d91281f.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*J5jjZeTkKFnsjE2D9z7lOg.png"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">移动浏览器菜单</figcaption></figure><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi os"><img src="../Images/3920f1cc9a74ea349a7560b586e4c28a.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*GOxyonvU0cMI3CClG-pOqQ.png"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">移动浏览器菜单向上滑动</figcaption></figure><p id="2bae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">选择“添加到主屏幕”以获得此结果:</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/e0d787bff6bf25f560447a62a62007de.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*EaKlMOc_Hi8S80oFUMpYDw.png"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">主页图标</figcaption></figure><p id="3f22" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是从主屏幕图标使用该应用程序时的演示——请注意，它完全没有浏览器栏，只有一个状态栏，可以通过<code class="fe kt ku kv kw b">manifest.json</code>文件进行定制。我还没有掌握它，但是也有一种方法可以为iOS渐进式网络应用添加闪屏，查看这些<a class="ae nb" href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="ou lq l"/></div></figure><p id="f9ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在展示安卓的结果——在我看来不太优雅，但至少我们有一个内置的闪屏；<strong class="jx io">鉴于我们在</strong> <code class="fe kt ku kv kw b"><strong class="jx io">manifest.json</strong></code> <strong class="jx io">文件</strong>中满足以下参数(承蒙<a class="ae nb" href="https://codeburst.io/progressive-web-apps-custom-splash-screen-18911e47cc" rel="noopener" target="_blank">本帖</a>同意):</p><ul class=""><li id="3db8" class="kx ky in jx b jy jz kc kd kg kz kk la ko lb ks ov ld le lf bi translated"><code class="fe kt ku kv kw b">name</code>属性设置为您选择的名称。</li><li id="4b42" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks ov ld le lf bi translated"><code class="fe kt ku kv kw b">background_color</code>属性被设置为有效的CSS颜色值。</li><li id="b4cc" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks ov ld le lf bi translated"><code class="fe kt ku kv kw b">icons</code>数组指定了一个大小为512x512px的图标。</li><li id="60b1" class="kx ky in jx b jy lg kc lh kg li kk lj ko lk ks ov ld le lf bi translated">图标存在，并且是巴布亚新几内亚。</li></ul><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ow"><img src="../Images/662f18a060e8d121a85a54d75dd32bce.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*k4MovYFQMlzVkb7b8mWOxA.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">安卓浏览器菜单(三个垂直点)</figcaption></figure><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/68316a08f0ef4679ecb00e54e45f9011.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*qKRn2V6BeL86AvFd-lHDQA.png"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">更改名称的选项</figcaption></figure><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/8f9e48fa5d484c0b27089537b8d40d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*RplTJfQUIz1M9Xq8jb_BTw.png"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">安卓主页图标</figcaption></figure><p id="01be" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后是<strong class="jx io">安卓演示</strong>；查看我们通过安卓获得的这个进步的网络应用的免费闪屏:</p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="oz lq l"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">在我的Macbook上，Android模拟器对我来说非常落后，尽管它运行良好，足以显示我想要的东西</figcaption></figure></div><div class="ab cl lr ls hr lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ig ih ii ij ik"><h1 id="aa37" class="ly lz in bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">结论</h1><p id="3e1e" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">希望这能对想部署到firebase <strong class="jx io">或</strong>渐进式网络应用程序的人有所帮助。发这个帖子帮助我学会了如何利用<code class="fe kt ku kv kw b">manifest.json</code>和<code class="fe kt ku kv kw b">index.html</code>文件定制不同的图标。</p><p id="475b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">只有3张图片，我就可以让浏览器标签、iOS设备和Android设备都使用合适的图标来代替默认的反应图标。正如你在最终的GIF中所看到的，我们甚至免费获得了Android的闪屏。</p><p id="7026" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">祝大家黑客愉快，谢谢阅读！</p><h1 id="c265" class="ly lz in bd ma mb nz md me mf oa mh mi mj ob ml mm mn oc mp mq mr od mt mu mv bi translated">P.S .</h1><p id="e745" class="pw-post-body-paragraph jv jw in jx b jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">想挑战吗？尝试为你的渐进式网络应用程序创建一个iOS闪屏，记住你必须为提供的每一个苹果设备创建一个链接标签，没有什么是真正通用的！祝你好运！</p></div></div>    
</body>
</html>