<html>
<head>
<title>Code Smell 31 — Accidental Methods on Business Objects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味 31——业务对象上的意外方法</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-smell-31-accidental-methods-on-business-objects-2ff9dc48a783?source=collection_archive---------4-----------------------#2020-11-22">https://blog.devgenius.io/code-smell-31-accidental-methods-on-business-objects-2ff9dc48a783?source=collection_archive---------4-----------------------#2020-11-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="8f23" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">向对象添加持久化、序列化、显示、导入、导出代码会增加其协议并带来耦合。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/1183f5ef9ae0ed09ab3545bb35cea1c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYSfS4PQu1Y4smrI9F-ebQ.jpeg"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/s/photos/mess" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kz" href="https://unsplash.com/@robertbye" rel="noopener ugc nofollow" target="_blank"> Robert Bye </a>拍摄</figcaption></figure><h1 id="6d80" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">问题</h1><ul class=""><li id="ba82" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">可读性</li><li id="8879" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">连接</li><li id="f55b" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">可维护性</li></ul><h1 id="aa99" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">解决方法</h1><ol class=""><li id="5660" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mo mg mh mi bi translated">保持你的物品干净。</li><li id="cd21" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">分离业务对象。</li><li id="e261" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">分离意外关注点:将持久性、格式化、序列化转移到特殊对象。</li><li id="8893" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mo mg mh mi bi translated">使用<a class="ae kz" href="https://codeburst.io/the-one-and-only-software-design-principle-5328420712af" rel="noopener" target="_blank">双射</a>保留基本协议。</li></ol><h1 id="84e0" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">例子</h1><ul class=""><li id="691f" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">坚持</li><li id="5fc3" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">标识符</li><li id="c9f8" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">序列化</li><li id="2b17" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">格式化</li></ul><h1 id="d966" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">示例代码</h1><h2 id="9076" class="mp lb in bd lc mq mr dn lg ms mt dp lk jv mu mv lo jz mw mx ls kd my mz lw na bi translated">错误的</h2><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h2 id="ea93" class="mp lb in bd lc mq mr dn lg ms mt dp lk jv mu mv lo jz mw mx ls kd my mz lw na bi translated">对吧</h2><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h1 id="4ffb" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">侦查</h1><p id="521f" class="pw-post-body-paragraph jk jl in jm b jn ma jp jq jr mb jt ju jv nd jx jy jz ne kb kc kd nf kf kg kh ig bi translated">基于对可疑姓名的命名和暗示来创建林挺规则是困难的(但并非不可能)。</p><h1 id="d093" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">例外</h1><ul class=""><li id="bc5e" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">一些框架强迫我们在对象中注入脏代码。(例如标识符)。</li></ul><p id="8dd4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们应该尝试使用更好的语言/框架。</p><h1 id="a0ef" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">标签</h1><ul class=""><li id="740a" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">宣言的</li></ul><h1 id="04e6" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="b251" class="pw-post-body-paragraph jk jl in jm b jn ma jp jq jr mb jt ju jv nd jx jy jz ne kb kc kd nf kf kg kh ig bi translated">我们很习惯看到商业对象被污染。这很正常。我们需要反思这些设计的后果和耦合。</p></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><blockquote class="nn no np"><p id="6767" class="jk jl ki jm b jn jo jp jq jr js jt ju nq jw jx jy nr ka kb kc ns ke kf kg kh ig bi translated">简单的事情应该简单，复杂的事情应该可能。</p></blockquote><p id="9298" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">艾伦·凯</p><div class="nt nu gp gr nv nw"><a href="https://medium.com/dev-genius/software-engineering-great-quotes-3af63cea6782" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd io gy z fp ob fr fs oc fu fw im bi translated">软件工程名言</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">medium.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok kt nw"/></div></div></a></div></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><p id="9a60" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文是 CodeSmell 系列的一部分。</p><div class="nt nu gp gr nv nw"><a href="https://medium.com/dev-genius/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd io gy z fp ob fr fs oc fu fw im bi translated">如何找到你的代码中有问题的部分</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">medium.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok kt nw"/></div></div></a></div></div></div>    
</body>
</html>