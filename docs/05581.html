<html>
<head>
<title>6 Traits of an Effective API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有效 API 的 6 个特征</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/6-traits-of-an-effective-api-b03e22a8d152?source=collection_archive---------6-----------------------#2021-09-12">https://blog.devgenius.io/6-traits-of-an-effective-api-b03e22a8d152?source=collection_archive---------6-----------------------#2021-09-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="00f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi kl translated">reat APIs 固执己见。在这篇文章中，我将分享我们在脸书提倡的如何编写有效 API 的实践。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ku"><img src="../Images/74fe59ae50352d83aa143d84e0cd5133.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IJRbN3zNfCeUc-HWzYfA3g.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">API( <a class="ae lk" href="https://cabifyempresas.zendesk.com/hc/en-us/articles/360011558339-Introduction-and-API-access" rel="noopener ugc nofollow" target="_blank"> Img src </a></figcaption></figure><h2 id="8dfb" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">#1 最佳 API 文档本身</h2><p id="68f8" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">在脸书，我们相信<strong class="jp ir"><em class="mj">API 是为了被读取而编写的</em> </strong>。通过查看 API 的签名，工程师应该了解如何使用该 API 以及预期的结果。</p><p id="666c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">具体来说:</p><ul class=""><li id="7968" class="mk ml iq jp b jq jr ju jv jy mm kc mn kg mo kk mp mq mr ms bi translated"><strong class="jp ir">啰嗦&gt;含糊</strong>。尽量避免单字母变量(<strong class="jp ir"> $x </strong>)和用缩写混淆函数名。根据需要使用适当的前缀。</li><li id="f3d2" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated"><strong class="jp ir">约束正在解放</strong>。创建一个严格的 API，只做特定的工作，迫使工程师更有效率，引入更少的错误。</li></ul><h2 id="d126" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated"><strong class="ak"> #2 避免长参数列表</strong></h2><p id="cc4f" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">API 应该简短明了。扩展的参数列表指数级地增加了 API 的复杂性，尤其是包括具有未知默认值的可选参数。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi my"><img src="../Images/6f31cc29844fe541da941ddf39b70f6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x3PUEP1jym0EWKPBNYcdIA.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">短参数列表与长参数列表</figcaption></figure><h2 id="ece8" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated"><strong class="ak"> #3 避免布尔参数</strong></h2><p id="971a" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">正如你在上面的例子中看到的，使用布尔值参数使得大多数函数难以理解。它增加了代码审查的时间成本和将来引入 bug 的可能性。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi mz"><img src="../Images/b719e3031301442d25ac79f6f24e75a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EDWtVQpEB4VQKm4_5n80Jw.png"/></div></div></figure><p id="18a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">相反，我们建议将布尔参数集成到函数名中。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi na"><img src="../Images/d2c8eb8506487254d3022da40b3d9ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iPUD0lL1CyFamgC7MkSb7Q.png"/></div></div></figure><h2 id="b6b2" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">#4 快速失败</h2><p id="1d09" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">世界级的 API 让您高枕无忧，这意味着它不会“默默地”吞下任何错误或歧义。对于各种不可接受的情况，让 API 立即抛出异常是很关键的。<br/>然后，作为一名开发人员，有一次我在测试环境中彻底测试。我将有信心在生产中使用它。<br/>为了进一步了解这个概念，我在之前的博客中详细解释过:<a class="ae lk" rel="noopener ugc nofollow" target="_blank" href="/fail-hard-save-time-3555a1dc1458"> <strong class="jp ir">努力失败，节省时间</strong> </a></p><h2 id="7d1f" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated"><strong class="ak"> #5 避免过度继承</strong></h2><p id="3691" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">这种情况在前端开发中经常发生。过多的继承让工程师们不知该用什么。幸运的是，我们现在有反应了。它“抛弃”了继承的观念，转而提倡“创作”。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi nb"><img src="../Images/6719a5787254344d0b38d4816855146b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YJeeVCfmMBmspT5nNetXRg.png"/></div></div></figure><h2 id="9493" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">一致性是一种美德</h2><p id="2b46" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">人们在调用我们的 API 时都在做假设。始终如一地贯彻这些基本原则非常重要。它减少了阅读和写作的认知负荷。</p><ul class=""><li id="a8fc" class="mk ml iq jp b jq jr ju jv jy mm kc mn kg mo kk mp mq mr ms bi translated">保持论点的顺序不变</li><li id="8551" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">具有默认值或不允许可选参数</li><li id="9309" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">有一致的错误信息</li><li id="ea14" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">等等。</li></ul></div></div>    
</body>
</html>