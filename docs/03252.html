<html>
<head>
<title>Top React Hooks — State and Color</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">顶部反应挂钩—状态和颜色</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/top-react-hooks-state-and-color-e9634ee97e77?source=collection_archive---------8-----------------------#2020-10-16">https://blog.devgenius.io/top-react-hooks-state-and-color-e9634ee97e77?source=collection_archive---------8-----------------------#2020-10-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/af6ed42aa2eb53f9e5bfb6e2559a0d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ASDP3I-_oVdKSkb2"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">罗伯特·卡茨基在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="eec8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks 包含了 React 应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的 React 挂钩。</p><h1 id="82a8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应动力挂钩</h1><p id="ca38" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">react-powerhooks 库附带了各种可以在我们的应用程序中使用的钩子。</p><p id="bdf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8a12" class="mn lc iq mj b gy mo mp l mq mr">yarn add react-powerhooks</span></pre><p id="dfd8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用它附带的钩子。</p><p id="b3ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useActive</code>让我们观察一个元素是否是活动的。</p><p id="343d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useInterval</code>钩子让我们在 React 组件中定期运行代码。</p><p id="f4b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0f27" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useInterval } from "react-powerhooks";</span><span id="9b89" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [time, setTime] = React.useState(null);<br/>  const { start, stop } = useInterval({<br/>    duration: 1000,<br/>    startImmediate: false,<br/>    callback: () =&gt; {<br/>      setTime(new Date().toLocaleTimeString());<br/>    }<br/>  });</span><span id="01d5" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;div&gt;{time}&lt;/div&gt;<br/>      &lt;button onClick={() =&gt; stop()}&gt;Stop&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; start()}&gt;Start&lt;/button&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="3ee2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在应用程序中使用了<code class="fe ms mt mu mj b">useInterval</code>钩子。</p><p id="6b7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它接受一个具有不同属性的对象。</p><p id="60b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">duration</code>是每个时期的持续时间。</p><p id="39c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">startImmediate</code>意味着如果是<code class="fe ms mt mu mj b">true</code>，回调将在组件加载时运行。</p><p id="b312" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">callback</code>是回调运行。</p><p id="d44b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个数组，用<code class="fe ms mt mu mj b">stop</code>和<code class="fe ms mt mu mj b">start</code>函数分别停止和启动定时器。</p><p id="712e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在我们的<code class="fe ms mt mu mj b">onClick</code>处理程序中使用它。</p><p id="a31d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useMap</code>钩子允许我们在组件中操作键值对。</p><p id="d82c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a2d6" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useMap } from "react-powerhooks";</span><span id="8b6a" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const {<br/>    set: setKey,<br/>    get: getKey,<br/>    has,<br/>    delete: deleteKey,<br/>    clear,<br/>    reset,<br/>    values<br/>  } = useMap({ name: "james", age: 20 });</span><span id="d1c9" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; setKey("foo", "bar")}&gt;set key&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; deleteKey()}&gt;delete&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; clear()}&gt;clear&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; reset()}&gt;reset&lt;/button&gt;<br/>      &lt;div&gt;{JSON.stringify(values)}&lt;/div&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="8fc0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用了带有一个作为初始值传入的对象的<code class="fe ms mt mu mj b">useMap</code>钩子。</p><p id="0f49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个带有添加、获取和移除数据的方法的对象。</p><p id="1a0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">clear</code>和<code class="fe ms mt mu mj b">reset</code>清除数据。</p><p id="4643" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">deleteKey</code>删除数据。</p><p id="6f68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">setKey</code>设置键值对。</p><h1 id="06de" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应配方</h1><p id="224c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Recipes 附带了许多钩子，我们可以用来做各种事情。</p><p id="4baf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c62e" class="mn lc iq mj b gy mo mp l mq mr">npm i react-recipes --save</span></pre><p id="2c24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e85c" class="mn lc iq mj b gy mo mp l mq mr">yarn add react-recipes</span></pre><p id="146a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="aeb4" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useAdjustColor } from "react-recipes";</span><span id="2b8c" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const lightGray = useAdjustColor(0.8, "#000");<br/>  const darkerWhite = useAdjustColor(-0.4, "#fff");<br/>  const blend = useAdjustColor(-0.2, "rgb(20,50,200)", "rgb(300,70,20)");<br/>  const linerBlend = useAdjustColor(<br/>    -0.5,<br/>    "rgb(20,60,200)",<br/>    "rgb(200,60,20)",<br/>    true<br/>  );</span><span id="0b26" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;div style={{ background: lightGray, height: "50px", width: "50px" }} /&gt;<br/>      &lt;div style={{ background: darkerWhite, height: "50px", width: "50px" }} /&gt;<br/>      &lt;div style={{ background: blend, height: "50px", width: "50px" }} /&gt;<br/>      &lt;div style={{ background: linerBlend, height: "50px", width: "50px" }} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="ed3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe ms mt mu mj b">useAdjustColor</code>钩子来调整颜色。</p><p id="28fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是-1 和 1 之间的百分比。</p><p id="1dee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正的较浅，负的较深。</p><p id="0cb4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个和第三个参数是颜色代码字符串。</p><p id="ddae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以是十六进制或 RGB 值。</p><p id="381c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第三个参数是可选的。</p><p id="d0fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第四个参数是库混合，可以是十六进制或 RGB 值。</p><p id="ca0d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认为<code class="fe ms mt mu mj b">false</code>。</p><p id="f625" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回调整颜色后创建的颜色字符串。</p><p id="8134" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它附带了更多我们可以使用的挂钩。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/90bc932337f24315a657067e3383ee97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EF6U5BJ4za1coC8h"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">戴维·皮斯诺伊在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="0a91" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="efc1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">react-powerhooks 包附带了各种状态管理钩子。</p><p id="3978" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">反应食谱有颜色调整和许多其他种类的挂钩。</p></div></div>    
</body>
</html>