<html>
<head>
<title>SwiftUI Tutorial: Working with Alerts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI 教程:使用警报</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/swiftui-working-with-alerts-fdb867c6e86d?source=collection_archive---------6-----------------------#2022-02-03">https://blog.devgenius.io/swiftui-working-with-alerts-fdb867c6e86d?source=collection_archive---------6-----------------------#2022-02-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2270" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在 iOS 中显示提醒</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8f7fd086867722512b72a5289eb9e91e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bEzg1ff4SWwv1O7kskiy8A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图一。</figcaption></figure><p id="d3a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当您想要强制显示某些内容时，可以使用警告，这样用户除了响应之外没有其他选择。在本教程中，我们将通过提供示例来解决创建警报的不同方法。但是，在我们开始之前，请确保您已经有一个用于本练习的打开项目。如果你需要一步一步的过程，你可以使用这个<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/introduction-to-swiftui-creating-new-project-9adc502e1804">链接</a>。</p><blockquote class="ls lt lu"><p id="9713" class="kv kw lv kx b ky kz jr la lb lc ju ld lw lf lg lh lx lj lk ll ly ln lo lp lq ij bi translated">本教程是我的<a class="ae lr" href="https://arc-sosangyo.medium.com/list/swiftui-tutorial-03734e631240" rel="noopener"> SwiftUI 教程</a>系列的一部分。</p></blockquote><p id="a087" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使警报工作的先决条件是一个布尔<a class="ae lr" href="https://medium.com/geekculture/swiftui-tutorial-state-and-binding-b7e80b4de622" rel="noopener">状态</a> <a class="ae lr" href="https://arc-sosangyo.medium.com/swift-programming-tutorial-variables-670ceea20bd1" rel="noopener">变量</a>来存储显示和不显示状态。然后，变量将把绑定传递给。<em class="lv">警报</em>修改器。在下面的例子中，我们创建了一个按钮，当它被按下时会显示一个警告。记下这段代码:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="6690" class="me mf iq ma b gy mg mh l mi mj">struct ContentView: View {<br/>    <br/>    @State private var showAlert = false<br/>    <br/>    var body: some View {<br/>        <br/>        Button(action: {<br/>            showAlert = true<br/>        }) {<br/>            Text("Display Alert")<br/>        }<br/>        .alert(isPresented: $showAlert) {<br/>            Alert(<br/>                title: Text("Reminder"),<br/>                message: Text("Drink Water"),<br/>                dismissButton: .default(Text("Done"))<br/>            )<br/>        }<br/>        <br/>    } //body<br/>    <br/>} //ContentView</span></pre><p id="1d19" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在里面。alert 修饰符，我们使用了一个名为 Alert 的结构来填充 3 个强制属性:标题、消息和消除按钮的类型。</p><p id="0a0e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在运行应用程序并尝试按下按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/c8750df2c9eae888d560386f12b280f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*FmPZobHlVqQb8n29zRyWnQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图二。按下按钮后显示警告</figcaption></figure><p id="4bde" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Alert struct 允许您使用主要和次要按钮为用户提供另一种选择。例如，用户可以判断动作是否已经完成，然后根据给定的答案会出现一条消息。记下这段代码。</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="fa48" class="me mf iq ma b gy mg mh l mi mj">struct ContentView: View {<br/>    <br/>    @State private var showAlert: Bool = false<br/>    @State private var message: String = ""<br/>    <br/>    var body: some View {<br/>        <br/>        VStack {<br/>            <br/>            Text(message)<br/>                .font(.title)<br/>                .padding()<br/>            <br/>            Button(action: {<br/>                showAlert = true<br/>            }) {<br/>                Text("Display Alert")<br/>            }<br/>            .alert(isPresented: $showAlert) {<br/>                Alert(<br/>                    title: Text("Reminder"),<br/>                    message: Text("Drink Water"),<br/>                    primaryButton: .default(Text("Done"), action: {<br/>                        message = "Good job"<br/>                    }),<br/>                    secondaryButton: .default(Text("OK"), action: {<br/>                        message = "Drink now"<br/>                    })<br/>                ) //Alert<br/>            }<br/>        <br/>        } //VStack<br/>        <br/>    } //body<br/>    <br/>} //ContentView</span></pre><p id="9d3e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是运行代码并按下“显示警报”按钮时的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/0e2a78e24dc5972d295a9dac970d7cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*w8j9C_xv9jRt2gX6uxHMIw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 3。具有主要和次要按钮的警报结构</figcaption></figure><p id="170f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">选择“完成”或“确定”。将根据您的选择显示一条消息响应。</p><p id="7122" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是另一个例子。假设你想在第一次打开一个应用程序时弹出一个提示。这是代码:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="67d9" class="me mf iq ma b gy mg mh l mi mj">struct ContentView: View {<br/>    <br/>    @State private var showAlert = false<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            Text("Hello World")<br/>        }<br/>        .onAppear {<br/>            showAlert = true<br/>        }<br/>        .alert(isPresented: $showAlert) {<br/>            Alert(<br/>                title: Text("Disclaimer"),<br/>                message: Text("This is an early access version"),<br/>                dismissButton: .default(Text("I understand"))<br/>            )<br/>        }<br/><br/>    } //body<br/>    <br/>} //ContentView</span></pre><p id="bc47" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它是这样工作的。的。<em class="lv"> onAppear </em>修饰符被附加到一个<a class="ae lr" href="https://medium.com/better-programming/swiftui-tutorial-working-with-stacks-vstack-hstack-and-zstack-2b0070be18d7" rel="noopener">堆栈</a>上，用于自动使<em class="lv"> showAlert </em>状态为真。这将使警报弹出，应用程序打开的那一刻。</p><p id="0765" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">运行应用程序将产生以下输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/ecb2ebb7aab29f3724d95cb228c31f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*XCWo9WM0ACmxFnRGqjWq7A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 4。首次打开应用程序时会弹出警告</figcaption></figure><h1 id="d93a" class="mm mf iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">iOS 15 方法</h1><p id="26ad" class="pw-post-body-paragraph kv kw iq kx b ky nd jr la lb ne ju ld le nf lg lh li ng lk ll lm nh lo lp lq ij bi translated">与之前的版本(iOS 14 和 iOS 13)相比，SwiftUI 中的警报在 iOS 15 中的工作方式有所不同。为了更好地理解它，我们将创建第一个示例的 iOS 15 方法。这是代码。</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="8f29" class="me mf iq ma b gy mg mh l mi mj">struct ContentView: View {<br/>    <br/>    @State private var showAlert = false<br/>    <br/>    var body: some View {<br/>        <br/>        Button(action: {<br/>            showAlert = true<br/>        }) {<br/>            Text("Display Alert")<br/>        }<br/>        .alert("Drink Water", isPresented: $showAlert) {<br/>            Button("Done", role: .cancel) {}<br/>        }<br/>        <br/>    } //body<br/>    <br/>} //ContentView</span></pre><p id="836e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这个例子中，我们使用了<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/swiftui-tutorial-using-button-role-17c6e1d1924f">按钮角色</a>而不是 alert struct。按钮角色仅从 iOS 15 开始可用。单击链接查看更详细的教程。</p><p id="841f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">运行应用程序并再次点击“显示提醒”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/f8142c9e919a16bd26c0d8dde4d0221a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*4x2RzFcwQYsDiCto-rrPow.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 5。在警报上使用按钮角色。</figcaption></figure><p id="23ee" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是另一个带有多个按钮角色的警告弹出窗口的例子。</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="cb2e" class="me mf iq ma b gy mg mh l mi mj">struct ContentView: View {<br/>    <br/>    @State private var showAlert = false<br/>    @State private var package =  ""<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            Text(package)<br/>        }<br/>        .onAppear {<br/>            showAlert = true<br/>        }<br/>        .alert("Choose a package", isPresented: $showAlert) {<br/>            Button("Standard") { package = "Standard" }<br/>            Button("Pro") { package = "Pro" }<br/>            Button("Premium") { package = "Premium" }<br/>        }<br/><br/>    } //body<br/>    <br/>} //ContentView</span></pre><p id="bf4f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">运行应用程序并尝试选择一个包。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/ad667b97ef90735e113d0469894c09fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*Xkhw_fyNJjX5JxaT-svKeA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 6。具有多个按钮角色的警报</figcaption></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><p id="210c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">愿法典与你同在，</p><p id="17c4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">-电弧</p></div></div>    
</body>
</html>