<html>
<head>
<title>What is CDN, How does it Help</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 CDN，它有什么帮助</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-cdn-how-does-it-help-e364051ed09c?source=collection_archive---------9-----------------------#2022-08-09">https://blog.devgenius.io/what-is-cdn-how-does-it-help-e364051ed09c?source=collection_archive---------9-----------------------#2022-08-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d090" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">内容分发网络是 Web 应用的主干</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1066097a8d306ee0c663b67ecf8f145a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tw1TL7fAF4ZIdkM7"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">托马斯·詹森在<a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="0ac6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">CDN —内容交付网络</p><p id="9544" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们先了解一些基础知识。</p><h1 id="b2b1" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">什么是内容</h1><p id="1925" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">在每个网站上，我们都需要向用户展示内容。这些内容可以是动态的，如已经由用户操作保存的数据。例如，用户列表、订单列表等。或者这些可以是相对静态的内容，如媒体、图像和视频。</p><h1 id="b60c" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">渲染网页需要什么？</h1><p id="d593" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">以下是步骤(一个简单的流程)</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mm"><img src="../Images/bdb9b31a4cde7a8656c5246b734602d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M4KpY2XhJopS4qMykqm_Sw.png"/></div></div></figure><ul class=""><li id="07f7" class="mn mo in kv b kw kx kz la lc mp lg mq lk mr lo ms mt mu mv bi translated">客户端/用户点击服务 URL</li><li id="734b" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">DNS 将域解析为服务器地址。</li><li id="f48c" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">通过复杂的网络/路由器生态系统请求到目的服务器的路由</li><li id="c126" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">服务器处理请求，生成包含所有必需内容的响应，并将其发送回请求客户端(浏览器)</li><li id="b99c" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">客户端(例如，浏览器)呈现或使用响应</li><li id="3d33" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">对于单个函数，可能有多个嵌套的请求/响应。例如，在呈现一个页面时，客户端可能会发送对图像、视频、动态内容等内容的多个请求。</li></ul></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="d93d" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">网页渲染需要时间</h1><p id="c0a2" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">整个请求&gt;响应&gt;呈现过程需要时间，尤其是在后续操作中。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nn"><img src="../Images/501d84b4f5845d05467704aa942110c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QBmzaJL58KbwfY8cuU44CQ.png"/></div></div></figure><ul class=""><li id="6f90" class="mn mo in kv b kw kx kz la lc mp lg mq lk mr lo ms mt mu mv bi translated">请求从客户端到服务器的传输时间，这取决于客户端和服务器之间的距离</li><li id="525b" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">服务器请求处理时间</li><li id="ad2e" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">响应的传播时间，这同样取决于服务器和客户端之间的距离。它还取决于将向客户端传送哪个响应的内容的大小。</li><li id="f600" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">不同内容的数量也很重要，因为这些内容会有多个请求/响应。例如，如果网页上有多个图像或视频。</li></ul></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="eaf0" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">时间就是金钱</h1><p id="d600" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">在今天的世界里，网络上的一切都在几秒钟内完成。消费者的流量取决于网站或其他资源的加载速度。加载 web 资源的任何延迟都类似于失去客户和业务。因此，确保网页或服务在期望的时间内加载是非常关键的。</p><p id="dc49" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然而，在 check 中包含上述所有步骤的响应时间是一个很大的挑战。在这个请求和回应的旅程中，每一毫秒都很重要。</p><p id="ae71" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这段旅程中最耗时的部分是什么:</p><ul class=""><li id="3a02" class="mn mo in kv b kw kx kz la lc mp lg mq lk mr lo ms mt mu mv bi translated">客户端和服务器之间的距离是决定延迟的一个重要因素</li><li id="f7d5" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">媒体内容作为最重要的内容，是影响响应时间的最重要的资源</li><li id="a110" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">媒体内容的大小是另一个重要因素</li></ul><p id="07e2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这就是内容交付网络(CDN)成为救星的原因。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="246e" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">什么是 CDN</h1><blockquote class="no np nq"><p id="1728" class="kt ku nr kv b kw kx jo ky kz la jr lb ns ld le lf nt lh li lj nu ll lm ln lo ig bi translated">内容传递网络是一组地理上分布的服务器，它们一起工作，从离用户最近的位置向用户提供缓存的内容。它使互联网内容的传递更快。</p></blockquote><p id="c98b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此<a class="ae ks" href="https://en.wikipedia.org/wiki/Content_delivery_network" rel="noopener ugc nofollow" target="_blank"> CDN </a>有助于通过优化内容交付来提高网络性能，缩小内容的大小和距离，从而减少内容交付时间。</p><p id="9470" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">CDN 是怎么做的？</p><p id="2e03" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">CDN 通过在大多数地区部署本地服务器来实现这一点，这些服务器可以在本地向客户端提供内容。它节省了前往位于另一个洲的原始服务器的时间，如下图所示。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nv"><img src="../Images/c640f65fcbb659c55ea2fa1287d2f0bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tJChLhPHzBanoxtQfZi6GQ.png"/></div></div></figure><p id="341a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">CDN 是怎么做的？让我们弄清楚。</p><h2 id="a1cf" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">CDN 缩短了距离</h2><p id="8a4a" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN 是一个地理上分散的服务器网络，这些服务器协同工作来提供内容。</p><p id="d231" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">基于客户端位置，对内容的请求被路由到 CDN 网络上最近的服务器。这有助于减少请求和响应之间的距离。</p><p id="1153" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当我们考虑对 web 上的单个页面进行多次请求/响应时，时间会大大减少。</p><p id="5503" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">此外，它还降低了出错的几率。离客户端越近，网络出错的可能性就越小，等等。</p><h2 id="e2da" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">CDN 减少了内容的大小</h2><p id="7b92" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN 应用所有可能的数据最小化或压缩技术来减少内容的大小。</p><p id="21dc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://en.wikipedia.org/wiki/Gzip" rel="noopener ugc nofollow" target="_blank"> GZip </a>是著名的压缩选项之一。</p><p id="c821" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">类似地，有许多最小化技术可以从内容中移除额外的元素，例如，从 Java 脚本文件中移除所有文档、空白、大变量名等。</p><p id="04bd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">减少内容大小减少了带宽的使用，这直接转化为时间和成本的节约。</p><h2 id="3379" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">CDN 节省带宽</h2><p id="b242" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN 通过在边缘节点(本地、区域节点)进行智能缓存来帮助节省带宽。</p><p id="4295" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">缓存通过从本地缓存向客户端提供内容来帮助优化响应时间，而不是往返于原始服务器。</p><p id="8044" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有关更多详情，请参考下面的优化设计部分。</p><h2 id="d39d" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">CDN 提供更快的内容访问</h2><p id="871c" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN 还通过将内容存储在更快的存储设备中，如 SSD 或 HDD + SSD 的混合存储设备(用于一级和二级缓存),来帮助更快地访问内容。</p><p id="5221" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">SSD 虽然贵，但是比 HDD 快很多。因此，它有助于更快地访问内容。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="74df" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">带有 CDN 的请求响应流</h1><ul class=""><li id="e1a8" class="mn mo in kv b kw mh kz mi lc oi lg oj lk ok lo ms mt mu mv bi translated">客户端/用户点击服务 URL</li><li id="183a" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">DNS 将域解析为服务器地址。</li><li id="1087" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">通过复杂的网络/路由器生态系统请求到目的服务器的路由</li><li id="6f6c" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">服务器处理请求，生成响应，并将其发送回请求浏览器(客户端)</li><li id="b204" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">响应包含内容的嵌套 URL，它引用 CDN。</li><li id="941e" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">客户端解析响应并找到更多内容的嵌套 URL。它发送对这些的请求。</li><li id="e9dc" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">这些请求被解析到离用户位置更近的一个 CDN 服务器。</li><li id="deb5" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">所有对内容的请求都从同一个区域提供服务，这个区域比实际的源服务器更靠近客户机。</li></ul><p id="5fdc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请注意，一旦对主 web 资源的初始请求由原始服务器提供服务，其余所有对内容的调用将被路由到 CDN 服务器。</p><p id="81bf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">参考上图。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="e449" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">CDN 的整体优势</h1><ul class=""><li id="8a50" class="mn mo in kv b kw mh kz mi lc oi lg oj lk ok lo ms mt mu mv bi translated"><strong class="kv io">更低的延迟，增加用户在网站上的时间</strong> —这有助于加快网站的加载时间。这反过来又增加了用户在网站上的流量和时间，从而增加了收入。</li><li id="25eb" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated"><strong class="kv io">更快的访问</strong> —它通过从最近的 CDN 节点(也称为存在点，PoP)返回缓存内容来帮助减少延迟。</li><li id="607d" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated"><strong class="kv io">节约成本</strong>—PoP 缓存有助于降低带宽成本(从原始服务器移出的数据量)，从而降低总拥有成本</li><li id="e25f" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated"><strong class="kv io">提高可用性</strong> — CDN 通常是一个由多个节点组成的网络，可以满足客户的需求。因此，它有助于通过确保多个备份节点来减少故障，从而提高网站的可用性。</li><li id="cb42" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated"><strong class="kv io">增强的安全性</strong> —它可能有助于通过避免 DDOS 攻击等来增强安全性。</li><li id="2049" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated"><strong class="kv io">客户位置附近的定制逻辑</strong> —一些 CDN(例如 CloudFront)支持 lambda 表达式的实现，这些表达式可以在边缘节点中执行，因此可以在请求/响应跟踪中添加一些逻辑，而无需在本地拥有实际的应用服务器。</li></ul></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="3b37" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">针对 CDN 的更多设计优化</h1><p id="2031" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN 提供商进行了各种优化，以使内容访问更快、更有效。这里有一些简单的设计。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ol"><img src="../Images/abcef720873f4ca32a57efa2ca7df2ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UvAT9sijoB8OWoFtX_XQ5Q.png"/></div></div></figure><h2 id="6423" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">边缘服务器上的缓存—一级、二级缓存</h2><p id="0d6a" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">缓存是减少延迟和节省网络带宽的重要设计方法。CDN 也有效地利用缓存。</p><p id="e8bf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">每当用户请求第一次点击任何内容的 CDN PoP 时，它从源服务器获取内容并在本地缓存它们。这有助于减少后续请求的延迟，也节省了源服务器的带宽。</p><p id="6aea" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">根据 CDN 提供商的不同，第一级和第二级缓存也可以实现。其中，所有热对象都保留在一级缓存中，该缓存可能位于快速访问内存中，而较少使用的对象则存储在二级缓存中，该二级缓存也可能位于速度更快的 SSD 上。</p><p id="3387" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这使得访问速度更快，尤其是当它与内容通过 CDN 传输所需的更短距离相结合时。</p><h2 id="8f46" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">区域服务器上的缓存—多层缓存</h2><p id="cd58" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN(像 CloudFront)提供多层缓存。除了 PoP 上的缓存(一种离客户端最近的本地边缘节点)之外，在区域服务器级别还有另一个级别的缓存。这些服务器具有比 PoP 更大的缓存空间，因此可以在缓存中包含更大的内容。</p><p id="f183" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">两种缓存的结合确保了 PoP 总是拥有最热的对象。它能够更快地为客户端请求提供服务。较少使用的对象存储在区域缓存中，当这些对象变热时，可以将其移动到 PoP 缓存中。</p><p id="3c7a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">缓存主要基于内容的到期时间而失效。这可以通过 CDN 配置来设置。</p><h2 id="aa84" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">来自源服务器的内容拉或推</h2><p id="8c5d" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN 实施不同的策略来填充或刷新边缘节点和缓存中的数据。</p><p id="5cec" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">许多人都在使用“拉”的方法，如果本地缓存中没有内容，CDN 节点会自动从源服务器中拉出内容。如果本地对象也由于过期而被逐出缓存，也会发生这种情况。</p><p id="33ba" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">推送是指源服务器将内容推送到边缘节点，以便在对象发生任何变化时填充甚至刷新缓存。</p><p id="e04f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这两种策略各有利弊。</p><p id="af90" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">pull 比较容易实现，并且只保留那些经常使用的边缘节点中的对象。但是，如果对象不在缓存中，加载对象需要时间，因此用户获得第一次响应会慢一些。这主要用于高流量场景，在这种场景中，保持本地缓存优化更为重要。</p><p id="2c03" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Push 使缓存与服务器上的任何更改保持同步，因此总是确保用户获得最新的对象。它可以用在流量低的地方，但是获取最新的对象是很重要的。</p><h2 id="1415" class="nw lq in bd lr nx ny dn lv nz oa dp lz lc ob oc mb lg od oe md lk of og mf oh bi translated">智能路由到负担最小或健康的节点</h2><p id="1e35" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDNs 还使用各种智能路由方案来优化可用节点之间的负载，或者将流量始终路由到健康节点。这有助于减少错过的事件。</p><p id="4663" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一些 cdn 应用智能逻辑，通过检查服务器心跳或故障响应来预先填充路由映射，并主动将该路由映射推送到 DNs 服务器，因此 DNS 总是仅将请求发送到健康的服务器。</p><p id="fb7f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">亚马逊 Cloudfront 很好地运用了这一策略。</p><p id="9655" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这提高了可用性，反过来也提高了客户的信心。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="c6f5" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">CDN 传递什么样的内容？</h1><p id="8d26" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">理论上，CDN 可以缓存和交付整个网站。</p><p id="355b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然而，它主要用于缓存和提供静态内容，如图像、视频、JavaScript 等。，不会频繁更改，因此可以长期安全地缓存。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="bb47" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">结论</h1><p id="aff1" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">CDN 是现代网络应用的支柱。它有助于使 web 更加高效、用户友好和高度可用。</p><p id="b555" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">许多网络应用大量使用 CDN，没有它几乎无法生存。例如，所有流媒体网站都大量使用 CDN 来为数百万用户提供内容。</p><p id="33e5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">本文着重阐明 web 应用流的基础知识，以及 CDN 如何通过 CDN 缓存和高效的 DNS 路由图来帮助提高效率。查看以下参考资料，了解更多信息。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="a883" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">参考</h1><p id="2928" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated"><em class="nr">亚马逊云锋。这里参考</em><a class="ae ks" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Introduction.html" rel="noopener ugc nofollow" target="_blank"><em class="nr"/></a></p><p id="a4cf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nr">点击</em> 阅读 SDD vs 硬盘 <a class="ae ks" href="https://www.intel.in/content/www/in/en/products/docs/memory-storage/solid-state-drives/ssd-vs-hdd.html#:~:text=Comparing%20SSDs%20and%20HDDs,but%20SSD%20prices%20are%20dropping." rel="noopener ugc nofollow" target="_blank"> <em class="nr"/></a></p><p id="7e00" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nr">更多关于 DNS 查找和 Web 请求，响应流程</em> <a class="ae ks" href="https://medium.com/@alysachan830/what-happens-from-typing-in-a-url-to-displaying-a-website-part-1-dns-cache-and-dns-lookup-86441848ea59" rel="noopener"> <em class="nr">此处</em> </a></p><p id="fad6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nr">对更多系统设计和架构文章感兴趣。参见</em> <a class="ae ks" href="https://medium.com/@matrixexplorer" rel="noopener"> <em class="nr">这里的</em> </a></p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="72af" class="lp lq in bd lr ls ni lu lv lw nj ly lz jt nk ju mb jw nl jx md jz nm ka mf mg bi translated">参考资料—少数流行的 cdn</h1><ul class=""><li id="57f8" class="mn mo in kv b kw mh kz mi lc oi lg oj lk ok lo ms mt mu mv bi translated">Akamai Technologies 智能边缘</li><li id="b0db" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">亚马逊云锋</li><li id="75a3" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">阿凡克劳德</li><li id="49b6" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">CDN77</li><li id="e1bc" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">云耀斑</li></ul></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><p id="9672" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nr">喜欢看这个，请分享，并关注类似的故事！</em></p><p id="5424" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nr">如有任何建议或想法，欢迎通过</em><strong class="kv io"><em class="nr">Linkedin</em></strong><em class="nr">:</em><a class="ae ks" href="https://www.linkedin.com/in/mohitkgupta/" rel="noopener ugc nofollow" target="_blank"><em class="nr">Mohit Gupta</em></a>联系我</p></div></div>    
</body>
</html>