<html>
<head>
<title>Why do we Lint?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我们会掉棉绒？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/why-do-we-lint-97e6f134953f?source=collection_archive---------15-----------------------#2020-06-04">https://blog.devgenius.io/why-do-we-lint-97e6f134953f?source=collection_archive---------15-----------------------#2020-06-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3ecc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为了真正理解可读性，我们必须暂时离开比较科学，进入心理学领域</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/9edc079d14475347709e672cf07a7a39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/0*e18rBtSTeuwnz__5"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">经典/r/节目幽默转贴。</figcaption></figure><p id="2d4b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">编码风格是一个热门话题。开发人员到处都在争论制表符和空格、同一行上的大括号、行长度限制等等。人们发明了自动过磅器来寻找违反风格的地方，并像编译器一样破坏构建。但是<em class="ln">为什么呢？</em>为什么代码风格应该打破一个构建？今天我们来看看可读性的首要原则，这样我们就能知道这些规则从何而来。</p><h1 id="9407" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">认知负荷</h1><p id="f2b2" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">为了真正理解可读性，我们必须暂时离开比较科学，进入心理学领域。每个人脑子里一次只能容纳这么多，称为他们的<a class="ae ml" href="https://en.wikipedia.org/wiki/Working_memory" rel="noopener ugc nofollow" target="_blank">工作记忆</a>。<a class="ae ml" href="https://en.wikipedia.org/wiki/Cognitive_load" rel="noopener ugc nofollow" target="_blank">认知负荷</a>指的是某样东西在一个人的工作记忆中占据的空间。你可以把它想象成一个缓存:一旦它满了，就必须清除一些东西来添加新的东西。</p><p id="5ced" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，认知负荷的规则远没有数据结构那么简单。想想电话号码:哪一个更容易记忆？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mm"><img src="../Images/0b81fe6f4418e0ffdb4a1c22077819a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oQt_5TIkg_JTtE5g_4iOaQ.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">用不同的方式分解信息会影响记忆</figcaption></figure><p id="0f52" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你像我一样，你会把开头和结尾的数字记为“信息太多”。中间的那些就好理解多了。这是因为每个数字都有不同的认知负荷量。</p><h1 id="10b0" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">缺陷和效率</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mr"><img src="../Images/af85b30ae6e46938c6d7ccb56fd4e335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jrO5VvZs2YRXLrAF65aNwA.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">来自<a class="ae ml" href="https://www.monkeyuser.com/" rel="noopener ugc nofollow" target="_blank">https://www.monkeyuser.com/</a>的漫画</figcaption></figure><p id="5242" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们对人类记忆有了更多的了解，我们可以把它应用到软件开发中。每个特性都有其缺陷和边缘情况，所以开发人员一次能记住的越多，他们就越有可能在部署前发现缺陷。</p><p id="b797" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">到了审查代码的时候，问题会更加突出。如果我把所有的工作内存空间都花在阅读代码上，我就不可能找到边缘情况。想象一下，如果让你审查简化的 Javascript，会发生什么！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi ms"><img src="../Images/8efc369559fd955a593c4588bed0de1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uUyjoP0NmN-VrAhF1jRQdg.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">这里有窃听器吗？祝你好运。</figcaption></figure><p id="ebbd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有了这个联系，我们终于有了代码可读性的神奇规则:<strong class="kt ir">最小化代码的认知负荷。</strong></p><h1 id="6565" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">风格原则</h1><p id="d6e9" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">以下是关于认知负荷的三条简单的经验法则:</p><ol class=""><li id="0348" class="mt mu iq kt b ku kv kx ky la mv le mw li mx lm my mz na nb bi translated">小的、自包含的块是低负载的。由三部分组成的电话号码比一个长号码更容易记忆。</li><li id="dba0" class="mt mu iq kt b ku nc kx nd la ne le nf li ng lm my mz na nb bi translated">熟能生巧。随着时间的推移，大脑在存储重复结构方面变得更好，减少了它们的负荷。</li><li id="60df" class="mt mu iq kt b ku nc kx nd la ne le nf li ng lm my mz na nb bi translated">假设可以节省大量时间。依赖一个假设意味着几乎完全跳过工作记忆。</li></ol><p id="407c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些规则转化为编写优秀代码的基本原则:</p><ol class=""><li id="f099" class="mt mu iq kt b ku kv kx ky la mv le mw li mx lm my mz na nb bi translated">使用函数将逻辑分成易于阅读的部分。读者只需要阅读你的函数名，而不是所有的东西。</li><li id="0957" class="mt mu iq kt b ku nc kx nd la ne le nf li ng lm my mz na nb bi translated">在缩进和括号中保持一致的风格，这样其他人就可以忽略空格而专注于正在运行的代码。</li><li id="fbd1" class="mt mu iq kt b ku nc kx nd la ne le nf li ng lm my mz na nb bi translated">使用层来设计您的代码库，这样其他人就可以对您的功能结构做出假设，而不必进行调查。</li></ol><p id="3c19" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们越遵循这些规则，我们的认知负荷就会越低，我们产生的错误就会越少。如果我们不遵循它们，我们将花费越来越多的时间试图找出已经写好的代码，减慢我们自己的速度并引入错误。</p><h1 id="e08c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">好的和坏的风格规则</h1><p id="e0c4" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">最后，凭借我们所有的新理解和原则，我们可以开发一个有用的风格指南。然而，要小心:有可能走得太远。</p><p id="63bc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">好的风格规则直接影响理解代码功能的能力。开发人员依靠缩进来推断功能，因此这包括大括号和缩进规则。这些规则通过调用上述原则简化了理解代码的过程。</p><p id="e590" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一个<strong class="kt ir">坏风格规则</strong>是为了一致性而要求一致性。一些例子是关于连续空行计数或尾随空白的规则。这些规则会在根本没有任何代码的行上导致错误，实际上<em class="ln">给代码库增加了</em>认知负荷，却没有给人类提供任何(字面上的)可见的好处。</p><p id="d8e6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这种情况下，重要的是要记住，你不必为每件事都指定一个规则。一致性是有用的，但不应该在不考虑其目的的情况下应用它。一次添加一个 lint 规则，思考每个规则:这如何帮助其他人阅读代码？</p></div></div>    
</body>
</html>