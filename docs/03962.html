<html>
<head>
<title>The Undocumented WordPress Filter — All</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">未记录的WordPress过滤器—全部</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-undocumented-wordpress-filter-all-4eabfe5e1f24?source=collection_archive---------11-----------------------#2021-01-08">https://blog.devgenius.io/the-undocumented-wordpress-filter-all-4eabfe5e1f24?source=collection_archive---------11-----------------------#2021-01-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d8c5b9f15eab51179ee69627185a1931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E7bwzibeL34bCluk"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@wadeaustinellis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">韦德·奥斯丁·艾利斯</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="f9a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的上一周在WordPress core上疯狂的开发，因为我试图做一些<a class="ae kc" href="https://medium.com/dev-genius/clean-php-code-57da4cf75537?sk=6df5744748856b27e5aa6d74805a1cc5" rel="noopener">代码清理</a>。其中一部分是最后安装xDebug，并使它与WordPress开发环境一起工作。</p><p id="5bb4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我开始工作，我就做了任何有自尊的开发人员都会做的事情。</p><p id="4232" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我玩它。</p><p id="3d23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我在请求的最开始——index.php的第一行——设置了一个断点，然后单击“单步执行”,直到我的手指累了。如果你从来没有这样做过，让我说…</p><p id="d0d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不要。</p><p id="4714" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它长得可怕。</p><p id="609a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我知道，但我显然也有点讨厌自己，所以我继续前进。直到我意识到我实际上看到了什么，并产生了好奇心。</p><p id="dd8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我一直在浏览过滤方法，因为这是WordPress，我当然会这么做，但是我注意到了一些我以前从来没有过的东西。</p><h1 id="adc4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">WordPress有一个全部过滤器</h1><p id="c720" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我检查了<a class="ae kc" href="https://adambrown.info/p/wp_hooks/hook" rel="noopener ugc nofollow" target="_blank">钩大书</a>以及<a class="ae kc" href="https://codex.wordpress.org/Plugin_API/Filter_Reference" rel="noopener ugc nofollow" target="_blank">官方名单</a>，它不在任何地方列出。所以我写了一个快速和肮脏的插件，只是为了确保我没有疯。</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="a81d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">果然，当我加载我的页面时，我有一个编号为6000的文件<code class="fe mk ml mm mn b">all-log.txt</code>。</p><p id="f94d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它现在正式引起了我的兴趣，所以我重写了我的插件以获得更多的信息。例如，有多少个参数(如果有的话)被传递给all过滤器？</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="0f4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">很快我就知道它在向过滤器传递参数，并且传递了不同数量的参数。所以我进一步调查。到底通过了什么<em class="mo"/>？</p><p id="bf53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我再次重写了插件。</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="0ebc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这给了我一条我真正需要知道的信息:<em class="mo">它传递了一切。</em></p><p id="103d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">几乎所有的东西。包括钩子的名称——作为第一个参数。</p><h1 id="af92" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">什么是好的？</h1><p id="9578" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">嗯，我还不知道。我刚发现它在那里。</p><p id="2c09" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的脑海中，我可以看到使用它来获得更好的性能。例如，跟踪过滤器之间的时间。你也可以用它来跟踪哪些过滤器对你可用，而不必搜索插件——因为这是为所有的<em class="mo">钩子运行的，而不仅仅是WordPress核心钩子。</em></p><p id="9aea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">无论哪种方式，找到一个我已经使用了十多年的软件的未记录的功能总是让我微笑，我想我会分享。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><p id="ddd9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你对这篇文章感兴趣，你会爱上我的Twitter上的技术意识流。 <a class="ae kc" href="https://twitter.com/n00bJackleCity" rel="noopener ugc nofollow" target="_blank"> <em class="mo">头那边，给我跟着</em> </a> <em class="mo">。你不会失望的。</em></p></div></div>    
</body>
</html>