<html>
<head>
<title>How to Start Web Scraping Data and Print It in A Table</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何启动网页抓取数据并将其打印在表格中</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-start-web-scraping-data-and-print-it-in-a-table-9fd10525d49d?source=collection_archive---------3-----------------------#2022-07-31">https://blog.devgenius.io/how-to-start-web-scraping-data-and-print-it-in-a-table-9fd10525d49d?source=collection_archive---------3-----------------------#2022-07-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="13f3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们的用例是用 BeautifulSoup 从 Medium 中提取博客标题和副标题，然后在表格中打印结果。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/03baaed2eb7d92e74bdf01ca26b7cb0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZgLDaJQ6K_4CxFNBtvxH2Q.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">蒂姆·莫斯霍尔德在<a class="ae kv" href="https://unsplash.com/s/photos/inspection?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><blockquote class="kw"><p id="4e31" class="kx ky iq bd kz la lb lc ld le lf lg dk translated">如果你从事数据科学，你需要数据。所以你需要知道如何网刮它。</p></blockquote><p id="b2b7" class="pw-post-body-paragraph lh li iq lj b lk ll jr lm ln lo ju lp lq lr ls lt lu lv lw lx ly lz ma mb lg ij bi translated">网络抓取提供了广泛的应用，包括为机器学习项目收集数据，开发价格比较工具，或研究任何其他需要大量数据的开创性概念。</p><blockquote class="mc md me"><p id="b6be" class="lh li mf lj b lk mg jr lm ln mh ju lp mi mj ls lt mk ml lw lx mm mn ma mb lg ij bi translated">今天的目标是构建一个可重用的 web 抓取模板，从一个中型博客中提取博客标题和副标题。</p></blockquote><p id="3480" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">让我们开始吧！</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h2 id="87ef" class="mv mw iq bd mx my mz dn na nb nc dp nd lq ne nf ng lu nh ni nj ly nk nl nm nn bi translated">内容:</h2><ol class=""><li id="c218" class="no np iq lj b lk nq ln nr lq ns lu nt ly nu lg nv nw nx ny bi translated"><a class="ae kv" href="https://medium.com/p/9fd10525d49d#a8d8" rel="noopener">导入需要的库</a></li><li id="70c7" class="no np iq lj b lk nz ln oa lq ob lu oc ly od lg nv nw nx ny bi translated"><a class="ae kv" href="https://medium.com/p/9fd10525d49d#1d18" rel="noopener">建立网页抓取模板</a></li><li id="91e5" class="no np iq lj b lk nz ln oa lq ob lu oc ly od lg nv nw nx ny bi translated"><a class="ae kv" href="https://medium.com/p/9fd10525d49d#e916" rel="noopener">打印表格中的博客标题和副标题</a></li><li id="0f48" class="no np iq lj b lk nz ln oa lq ob lu oc ly od lg nv nw nx ny bi translated"><a class="ae kv" href="https://medium.com/p/9fd10525d49d#7567" rel="noopener">结论</a></li></ol></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h2 id="a8d8" class="mv mw iq bd mx my mz dn na nb nc dp nd lq ne nf ng lu nh ni nj ly nk nl nm nn bi translated">1.导入所需的库</h2><p id="91b5" class="pw-post-body-paragraph lh li iq lj b lk nq jr lm ln nr ju lp lq oe ls lt lu of lw lx ly og ma mb lg ij bi translated">有两种类型的网站:</p><ul class=""><li id="80bc" class="no np iq lj b lk mg ln mh lq oh lu oi ly oj lg ok nw nx ny bi translated"><strong class="lj ir">静态:</strong>每次加载页面时，都会传递相同的内容</li><li id="ea3c" class="no np iq lj b lk nz ln oa lq ob lu oc ly od lg ok nw nx ny bi translated"><strong class="lj ir">动态:</strong>每次加载页面时，内容可能会发生变化</li></ul><p id="7a31" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated"><em class="mf">(如果你想了解更多，我在本文末尾放了一个链接)</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="fc89" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">要安装它们，您可以按以下方式运行它们:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="59f6" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">我们将使用我的中型博客页面作为用例。</p><p id="d9e9" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated"><strong class="lj ir">请求</strong>帮助我们将所有网站的 HTML 代码检索到我们的 Python 脚本中，以便我们可以使用它。让我们看看如何做到这一点:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="0ace" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">如果您打印这段代码，您将看到该页面的所有 HTML 代码。为了了解更多，我在这篇文章的末尾放了一个链接。你对它越熟悉，你就越容易抓取网页。</p><p id="a7c3" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">BeautifulSoup 的作用是帮助我们解析之前根据请求搜集的 HTML 代码。这样，我们就更容易阅读代码和浏览我们需要的内容。</p><h2 id="1d18" class="mv mw iq bd mx my mz dn na nb nc dp nd lq ne nf ng lu nh ni nj ly nk nl nm nn bi translated">2.构建 web 抓取代码</h2><p id="cd31" class="pw-post-body-paragraph lh li iq lj b lk nq jr lm ln nr ju lp lq oe ls lt lu of lw lx ly og ma mb lg ij bi translated">我们需要通过用下面的代码创建一个 BeautifulSoup 对象来解析我们之前用 Requests 库检索到的 HTML 代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="630c" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">Prettify()将以可读的格式解析 HTML 代码。花点时间检查一下。这是一个强制性的步骤，能够正确的网页抓取。以下是一小段摘录:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/3f2d661fbc70e08502dcdc069ec87614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ETCoPwfYh8euEIG4mlgh1w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><p id="e740" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">让我们在这里暂停一下。</p><p id="4345" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">有一个技巧你需要熟悉。要查看我的博客页面的 HTML 代码，你只需右击它，然后点击“Inspect”</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/56a8350dabf623e5b67095d88ad969a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GRtZJtptEGWUPh4o3Hx0KQ.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/d00ebd47c32dc22dcff6d02dc36ac430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZOcBanASOj2v5POMlcR7Gw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">下面是 HTML 代码</figcaption></figure><p id="aa65" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">看起来又密又乱！我们想在 HTML 代码中找到博客标题。</p><p id="7e6f" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">HTML 由称为<strong class="lj ir">标签的元素组成。</strong>这个标签告诉网络浏览器里面的所有东西都是 HTML。</p><p id="edef" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">如果你在寻找博客文章标题“用 Python 中的这两个财务图表提升你的股票分析”，你会在下面的 HTML 代码上找到它，它在网页上突出显示如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/3f528b934d00158cb05efe8974a440df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f0BfkMnJzpEgwA4cU5tYSQ.png"/></div></div></figure><p id="c652" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">我们需要使用标签<div>和类“jq jr js jt ju l”作为博客标题位于那里。</div></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/4ce98d7be386e75e3cbf47ef5a63c975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vwNf8VGLdtfVmQuDfWjv7w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><h2 id="e916" class="mv mw iq bd mx my mz dn na nb nc dp nd lq ne nf ng lu nh ni nj ly nk nl nm nn bi translated">3.在表格中打印博客标题</h2><p id="8658" class="pw-post-body-paragraph lh li iq lj b lk nq jr lm ln nr ju lp lq oe ls lt lu of lw lx ly og ma mb lg ij bi translated">我们获得了一个很好的标题列表。我们现在将它转换成熊猫数据帧。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/8e133f1aae4eb6347f88858a559b79a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jA74vF-EWmh2G1hFNutofQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><p id="f395" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">让我们用制表库将这个数据帧格式化成一个表格。你可以阅读我之前的<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/how-to-easily-print-and-format-tables-in-python-18bbe2e59f5f">博文</a>来深入了解一下。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/5bea591be910ac770b2e26c1d27e1894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WiOQxW6AOvS1i0imd_YCGw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</figcaption></figure><p id="d87a" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">第二个任务是找到字幕。让我们重复这个过程:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/44c1acd6f539917fe0c798be5826b5f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NdUYEOCh9PhJuDSUYMMRaQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">每个字幕之间的这些空行不方便</figcaption></figure><p id="26b1" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">一旦我们将字幕列表转换成数据帧，我们会在每个字幕之间看到一个空行。为了去掉这些空格，我们将使用 here NumPy 将它们替换为 NaN 值，以便以后可以删除它们。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/87c93510ab27acf5cfee8b975e1b64b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7-X6d48kX19VJgLaC6qMA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">好多了！</figcaption></figure><p id="0b75" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">现在让我们在一个表格中打印博文标题及其副标题:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/2397126d56fba57117f29ed09d4a2660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*652agQc6pCH07mrOfqn7SA.png"/></div></div></figure><p id="56c3" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">下面是最终结果！你可以尝试不同的东西:例如，抓取图片或超链接。</p><h2 id="7567" class="mv mw iq bd mx my mz dn na nb nc dp nd lq ne nf ng lu nh ni nj ly nk nl nm nn bi translated">4.结论</h2><p id="5848" class="pw-post-body-paragraph lh li iq lj b lk nq jr lm ln nr ju lp lq oe ls lt lu of lw lx ly og ma mb lg ij bi translated">这是一个温和的网络抓取入门。要点是花时间查看 HTML 代码，以确定您想要提取的内容。你可以在其他网站上练习来提高你的技能。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><p id="a3ac" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">我希望你喜欢阅读这篇文章！未来的文章请关注我。它激励我继续下去。</p><p id="6e16" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">你也可以在<a class="ae kv" href="https://www.linkedin.com/in/lancaothai/" rel="noopener ugc nofollow" target="_blank"> LinkedIn 上找到我。</a></p><div class="ox oy gp gr oz pa"><a href="https://medium.com/@Eyquem/membership" rel="noopener follow" target="_blank"><div class="pb ab fo"><div class="pc ab pd cl cj pe"><h2 class="bd ir gy z fp pf fr fs pg fu fw ip bi translated">通过我的推荐链接加入 Medium-Khuong LAN Cao Thai</h2><div class="ph l"><h3 class="bd b gy z fp pf fr fs pg fu fw dk translated">阅读 Khuong lán Cao Thai(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="pi l"><p class="bd b dl z fp pf fr fs pg fu fw dk translated">medium.com</p></div></div><div class="pj l"><div class="pk l pl pm pn pj po kp pa"/></div></div></a></div><p id="3c66" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated">参考资料:</p><p id="1cfd" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated"><a class="ae kv" href="https://www.wix.com/blog/2021/11/static-vs-dynamic-website/#:~:text=A%20static%20website%20is%20one,to%20change%20with%20the%20user." rel="noopener ugc nofollow" target="_blank">静态网站与动态网站:通过例子了解差异优势和使用(wix.com)</a></p><p id="49ae" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated"><a class="ae kv" href="https://beautiful-soup-4.readthedocs.io/en/latest/#" rel="noopener ugc nofollow" target="_blank">美汤文档—美汤 4.4.0 文档(Beautiful-Soup-4 . readthedocs . io)</a></p><p id="6e83" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated"><a class="ae kv" href="https://requests.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">请求:人类 HTTP 请求 2.28.1 文档</a></p><p id="a736" class="pw-post-body-paragraph lh li iq lj b lk mg jr lm ln mh ju lp lq mj ls lt lu ml lw lx ly mn ma mb lg ij bi translated"><a class="ae kv" href="https://www.crummy.com/software/BeautifulSoup/bs3/documentation.html" rel="noopener ugc nofollow" target="_blank">美汤文档(crummy.com)</a></p></div></div>    
</body>
</html>