# 工程最难的是需求

> 原文：<https://blog.devgenius.io/the-hardest-thing-about-engineering-is-requirements-28a6a70c4db4?source=collection_archive---------0----------------------->

作为一名软件架构师，最困难的事情之一就是收集需求。你可以和这个星球上最伟大的 rockstar 工程师团队一起工作，创造出有史以来最令人惊叹的技术。如此之大，以至于你可以欺骗大多数看到它的人相信它是神奇的，但如果它不是利益相关者想要的或市场需要的，它就像一个 [USB 仓鼠轮](https://www.engadget.com/2006-10-04-the-usb-powered-hamster-wheel.html)一样毫无价值。

![](img/0f7ae1b1a148d21c8fc1710e297451a4.png)

USB 仓鼠轮

# 为什么这么难

如果你愿意坐下来分析几分钟“工程最难的事情是收集需求”这句话，你可能会意识到你可以更进一步概括这句话，并找到问题的真正根源。工程最难的是沟通。工程师们一直致力于交流复杂的抽象概念。最常见的是，这些想法落入需要一些领域知识来理解的问题空间。对话中充满了首字母缩写词和发明的术语，这些术语已经成为目标行业的术语。每个行业都不一样，更糟糕的是，每个学科都不一样。软件工程师和固件工程师说的不是同一种语言，固件工程师几乎听不懂电气工程师的话，电气工程师甚至不想和机械工程师说话。这整个情况导致了一场沟通的噩梦。

# Shalls 列表

既然我们同意交流想法是困难的，那么让我们研究一些技巧来做到这一点。第一种技术，似乎每个初出茅庐的工程师都尝试将需求捕捉为“产品应该”的陈述。

*   产品应与用户交互。
*   该产品不应着火。
*   该产品将为用户提供咖啡。

好吧，没那么荒谬，但是如果你给利益相关者一个产品可以做的功能清单，他们可能会点头同意，然后添加一些产品应该做的额外需求。这里看起来的情况是，给产品添加需求既便宜又容易。不需要真正思考为什么需求应该存在。将需求添加到列表中不需要任何工作。任何出现在涉众头脑中的疯狂想法都可以被捕获为一个需求，现在开发团队必须尝试实现它。

伴随着需求清单而来的不可避免的特性蔓延会导致更多的问题，而不仅仅是给开发团队带来大量的工作。通常这些需求是相互冲突的，使得产品实际上[不可能被构建](http://www.youtube.com/watch?v=BKorP55Aqvg)。

*   产品应画红线
*   产品应使用蓝色墨水

一些需求分析会很快发现像这样明显的问题，但是大多数这种类型的冲突会更加微妙。所有这些都将导致与涉众的额外会议，以决定应该支持哪个需求。

也许 shalls 列表最大的问题是它没有给涉众一种产品行为的感觉。产品需要做的事情有一长串，但是没有关于产品如何做的信息。如果不知道用户将如何与产品交互，利益相关者通常会显得不太投入。他们开始对需求征集阶段采取漠不关心的态度，这样开发就可以“快点开始”，这样他们就可以看到产品是如何工作的。这种结果很糟糕，因为当重构成本很高时，它会导致项目结束时的变更。

![](img/8ab78332b272b36a0a7dec31e338e3c3.png)

# 用户故事

敏捷男孩使用用户故事来捕捉需求。一个[用户故事](http://www.mountaingoatsoftware.com/agile/user-stories)是一个格式为“**的陈述，作为某个用户，我想做一些动作，以便某种原因**。这比 shells 列表略有改进。这些鼓励涉众至少考虑谁和为什么需求应该存在。当涉众脱口而出一些需求时，这给了架构师一个对话的机会。“这是一个好主意，股东先生！让我们尝试将此作为一个用户故事。作为一个……哪个用户又要这个？”。协商可以开始，小组可以决定这是否是一个真正的需求。

用户故事的问题在于，它们是为利益相关者与开发团队紧密合作的团队设计的。在这些环境中，故事不断地被添加、删除、重新排序和讨论。在每个故事建立之前，团队会聚在一起讨论特性应该如何工作的细节。开发团队也可以在构建特性时接触到涉众，这样任何问题都可以立即得到澄清。在许多情况下，这是不可能的。利益相关者不容易接近，没有时间，甚至可能已经转移到其他项目或离开公司。当这种情况发生时，开发团队会留下一堆句子，这些句子实际上并没有描述产品应该做什么，而只是包含了一些用户在科幻世界中可能喜欢做什么的高层次愿景。

用户故事的另一个不足是，它们不够详细，不足以用作双方之间的任何协议。如果需要一份合同，我不会在应该建立在任何预算上的用户故事清单上签名。用多种方式解读一句话太容易了。说一个用户故事的一种解释比另一种更好，就像说一段圣经经文的天主教解释比摩门教解释更好。尽可能将神学讨论排除在工程之外。

# 用例

用例是比用户故事更正式的获取需求的方式。维基百科将它们定义为“[一系列步骤，通常定义角色](http://en.wikipedia.org/wiki/Use_case)之间的交互。与用户故事相似，用例谈论将要执行活动的用户，但与用户故事不同，它们不是一个句子。取而代之的是，他们深入到用户将如何一步一步与系统交互的细节中。[写得好的用例](https://www.utm.mx/~caff/doc/OpenUPWeb/openup/guidances/examples/uc_model_evolve_960F136B.html)也会涵盖错误条件和可选流程。

开发团队喜欢所有这些细节。这正是他们希望能够构建和测试用户想要的系统。利益相关者似乎站在围栏的另一边。根据我的经验，他们讨厌用例。所有这些细节读起来很无聊，写起来也很乏味。找到愿意评审哪怕一小组用例的涉众是不太可能的。愿意并且能够帮助编写用例的利益相关者是 [unobtainium](https://en.wikipedia.org/wiki/Unobtainium) 。

# 用户案例

我们已经确定，用户故事太模糊，开发团队无法独立工作，用例太详细，无法与利益相关者交流。我们需要的是在中间相遇的东西。我目前的解决方案是我所谓的用户案例。一个用例只是一个用户故事和一个用例的结合。涉众写一个标准的用户故事。这被用作需求的标题，并且与在添加需求之前创建一些开销、想法和讨论具有相同的效果。关于用户故事实际上应该如何运行的讨论被捕获为用户故事的用例。随着故事的细节变得更加清晰，应该添加额外的用例、备选流程和错误路径。

这种方法有一些相当有趣的结果。首先，利益相关者继续参与，因为他们正在编写用户故事，甚至可能是高层次的初始快乐路径用例。他们有时间回顾这些需求，因为他们只仔细阅读了用户故事，也许还有一些他们关心功能的用例。换句话说，他们不会陷入他们没有时间处理的细节中。另一方面，开发团队能够添加他们需要的细节，与设计用来与涉众交流的文本保持一致。这给了他们某种程度的安慰，当这个文档最终达成一致时，有足够的细节来避免那些关于特性解释的争论。

是的，我意识到我在上面自相矛盾，因为我说过涉众不会阅读和理解所有的用例，而开发团队认为他们做到了。这是这种方法的一种卑鄙手段。基本上，开发团队在问“你阅读了所有的细则，不是吗？好的，那就在这里签名。不幸的是，如果涉众没有时间参与开发过程，也没有时间完全理解所有的细节，那么第三好就是我们所能希望的。第三个最好的方法似乎是向利益相关者提供一个摘要和所有的细节，让他们决定如何最好地利用他们的时间。

# 快速原型

我一直在考虑的获取需求的最后一种方法是快速原型法。不幸的是，利益相关者经常需要“感觉”产品来理解他们想要什么。上面提到的技术都不能传达一种感觉。

我对快速原型制作工具没有什么经验，但是最近我玩了一次，对已经取得的进步印象深刻。该工具易于使用，并且仍然给用户留下了与产品交互的良好印象。它能够从原型生成文档，生成一组很好的截屏，可以增加这些截屏来创建书面记录。似乎很快，如果不是已经，原型化一个解决方案所花费的时间将会比正确地记录需求所花费的时间要少。