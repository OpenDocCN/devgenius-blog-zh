<html>
<head>
<title>Run a Python Script on Remote Machines — Ansible module script</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在远程机器上运行 Python 脚本— Ansible 模块脚本</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/run-a-python-script-on-remote-machines-ansible-module-script-2dd0f64fae43?source=collection_archive---------11-----------------------#2022-08-18">https://blog.devgenius.io/run-a-python-script-on-remote-machines-ansible-module-script-2dd0f64fae43?source=collection_archive---------11-----------------------#2022-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="84d8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在使用 Ansible Playbook 和脚本模块将“cars.py”自定义 Python 脚本传输并处理为 Ansible JSON 变量之后，如何在远程机器上自动执行该脚本。</h2></div><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="kk kl l"/></div></figure><h1 id="b9a6" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">Python 脚本转移后如何在远程机器上运行？</h1><p id="571d" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我将向您展示一个带有一些简单的 Ansible 代码的现场演示。我是卢卡·伯尔顿，欢迎来到今天的 Ansible Pilot。</p><h1 id="28e2" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">在远程机器上运行 Python 脚本</h1><ul class=""><li id="338d" class="ma mb iq lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated"><code class="fe mj mk ml mm b">ansible.builtin.script</code></li><li id="cb60" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated">传输后在远程节点上运行本地脚本</li></ul><p id="bbf1" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">让我们来谈谈可转换模块“脚本”。</p><p id="4a38" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">全名是“ansible.builtin.script ”,这意味着它是 ansible-core 中包含的 ansible 内置模块的一部分。</p><p id="4ac2" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">该模块的目的是在传输之后在远程节点上运行本地脚本。</p><h1 id="e77f" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">因素</h1><ul class=""><li id="9c6b" class="ma mb iq lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated"><code class="fe mj mk ml mm b">cmd</code> <em class="mx">字符串— </em>脚本名称或路径</li><li id="979b" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><code class="fe mj mk ml mm b">executable</code> <em class="mx">字符串— </em>可执行文件的名称或路径</li></ul><p id="3c18" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">我来总结一下模块`<code class="fe mj mk ml mm b">script</code>的主要参数。</p><p id="23d6" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">这个模块没有任何必需的参数，但是在这个用例中，一些选项是必需的。</p><p id="e13b" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">`<code class="fe mj mk ml mm b">cmd</code>'参数指定脚本名或路径。</p><p id="619a" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">`<code class="fe mj mk ml mm b">executable</code>'参数指定解释器名称或路径。</p><h1 id="f80c" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">链接</h1><ul class=""><li id="8218" class="ma mb iq lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated"><a class="ae my" href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/script_module.html" rel="noopener ugc nofollow" target="_blank">https://docs . ansi ble . com/ansi ble/latest/collections/ansi ble/builtin/script _ module . html</a></li></ul><h1 id="6de2" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">演示</h1><p id="b58a" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">让我们跳到现实生活中的一个可行的剧本，在传输 Python 脚本之后，在远程机器上运行它。</p><p id="2e81" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">我将向您展示如何创建一个`<code class="fe mj mk ml mm b">cars.py</code>'定制 Python 脚本，该脚本输出一个 JSON 文件，将其传输到远程机器，并使用`<code class="fe mj mk ml mm b">python3</code>'解释器执行它。</p><h2 id="0614" class="mz kn iq bd ko na nb dn ks nc nd dp kw ln ne nf ky lr ng nh la lv ni nj lc nk bi translated">密码</h2><ul class=""><li id="c795" class="ma mb iq lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated">cars.py</li></ul><pre class="kf kg kh ki gt nl mm nm nn aw no bi"><span id="2a29" class="mz kn iq mm b gy np nq l nr ns">#!/usr/bin/env python3</span><span id="0882" class="mz kn iq mm b gy nt nq l nr ns">import json</span><span id="928b" class="mz kn iq mm b gy nt nq l nr ns">cars = {<br/>    "manufacturers": [<br/>        "Acura", "Alfa-Romeo", "Aston-Martin", "Audi", "Bentley", "BMW",<br/>        "Bugatti", "Buick", "Cadillac", "Chevrolet", "Chrysler", "Citroen",<br/>        "Deus Automobiles", "Dodge", "Ferrari", "Fiat", "Ford", "Geely",<br/>        "Genesis", "GMC", "Honda", "Hyundai", "Infiniti", "Jaguar", "Jeep",<br/>        "Kia", "Koenigsegg", "Lamborghini", "Lancia", "Land Rover", "Lexus",<br/>        "Lincoln", "Lotus", "Maserati", "Maybach", "Mazda", "McLaren", "Mercedes",<br/>        "Mini", "Mitsubishi", "Nissan", "Opel", "Pagani", "Peugeot", "Pontiac",<br/>        "Porsche", "Ram", "Renault", "Rolls-Royce", "Skoda", "Smart", "Subaru",<br/>        "Suzuki", "Tesla", "Toyota", "Volkswagen", "Volvo"<br/>    ]<br/>}</span><span id="78e8" class="mz kn iq mm b gy nt nq l nr ns">print(json.dumps(cars, indent=4))</span></pre><ul class=""><li id="3bf3" class="ma mb iq lg b lh ms lk mt ln nu lr nv lv nw lz mf mg mh mi bi translated">run_python_script.yml</li></ul><pre class="kf kg kh ki gt nl mm nm nn aw no bi"><span id="0b69" class="mz kn iq mm b gy np nq l nr ns">---<br/>- name: run Python script<br/>  hosts: all<br/>  tasks:<br/>    - name: run cars.py script<br/>      ansible.builtin.script:<br/>        executable: python3<br/>        cmd: cars.py<br/>      register: cars_raw_output</span><span id="073c" class="mz kn iq mm b gy nt nq l nr ns">    - name: print cars_raw_output<br/>      ansible.builtin.debug:<br/>        var: cars_raw_output<br/>        verbosity: 2</span><span id="81c3" class="mz kn iq mm b gy nt nq l nr ns">    - name: convert output to JSON<br/>      ansible.builtin.set_fact:<br/>        cars_list: "{{ cars_raw_output.stdout | from_json }}"</span><span id="7e08" class="mz kn iq mm b gy nt nq l nr ns">    - name: print cars_list<br/>      ansible.builtin.debug:<br/>        var: cars_list</span></pre><h2 id="ccf1" class="mz kn iq bd ko na nb dn ks nc nd dp kw ln ne nf ky lr ng nh la lv ni nj lc nk bi translated">执行</h2><pre class="kf kg kh ki gt nl mm nm nn aw no bi"><span id="5b51" class="mz kn iq mm b gy np nq l nr ns">ansible-pilot $ ansible-playbook -i ../virtualmachines/demo/inventory run_python_script.yml</span><span id="91cf" class="mz kn iq mm b gy nt nq l nr ns">PLAY [run Python script] **************************************************************************</span><span id="5ce9" class="mz kn iq mm b gy nt nq l nr ns">TASK [Gathering Facts] ****************************************************************************<br/>ok: [demo.example.com]</span><span id="7705" class="mz kn iq mm b gy nt nq l nr ns">TASK [run cars.py script] *************************************************************************<br/>changed: [demo.example.com]</span><span id="c632" class="mz kn iq mm b gy nt nq l nr ns">TASK [print cars_raw_output] **********************************************************************<br/>skipping: [demo.example.com]</span><span id="0271" class="mz kn iq mm b gy nt nq l nr ns">TASK [convert output to JSON] *********************************************************************<br/>ok: [demo.example.com]</span><span id="b82a" class="mz kn iq mm b gy nt nq l nr ns">TASK [print cars_list] ****************************************************************************<br/>ok: [demo.example.com] =&gt; {<br/>    "cars_list": {<br/>        "manufacturers": [<br/>            "Acura",<br/>            "Alfa-Romeo",<br/>            "Aston-Martin",<br/>            "Audi",<br/>            "Bentley",<br/>            "BMW",<br/>            "Bugatti",<br/>            "Buick",<br/>            "Cadillac",<br/>            "Chevrolet",<br/>            "Chrysler",<br/>            "Citroen",<br/>            "Deus Automobiles",<br/>            "Dodge",<br/>            "Ferrari",<br/>            "Fiat",<br/>            "Ford",<br/>            "Geely",<br/>            "Genesis",<br/>            "GMC",<br/>            "Honda",<br/>            "Hyundai",<br/>            "Infiniti",<br/>            "Jaguar",<br/>            "Jeep",<br/>            "Kia",<br/>            "Koenigsegg",<br/>            "Lamborghini",<br/>            "Lancia",<br/>            "Land Rover",<br/>            "Lexus",<br/>            "Lincoln",<br/>            "Lotus",<br/>            "Maserati",<br/>            "Maybach",<br/>            "Mazda",<br/>            "McLaren",<br/>            "Mercedes",<br/>            "Mini",<br/>            "Mitsubishi",<br/>            "Nissan",<br/>            "Opel",<br/>            "Pagani",<br/>            "Peugeot",<br/>            "Pontiac",<br/>            "Porsche",<br/>            "Ram",<br/>            "Renault",<br/>            "Rolls-Royce",<br/>            "Skoda",<br/>            "Smart",<br/>            "Subaru",<br/>            "Suzuki",<br/>            "Tesla",<br/>            "Toyota",<br/>            "Volkswagen",<br/>            "Volvo"<br/>        ]<br/>    }<br/>}</span><span id="d2b6" class="mz kn iq mm b gy nt nq l nr ns">PLAY RECAP ****************************************************************************************<br/>demo.example.com           : ok=4    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0</span><span id="86e1" class="mz kn iq mm b gy nt nq l nr ns">ansible-pilot $</span></pre><h2 id="f7ea" class="mz kn iq bd ko na nb dn ks nc nd dp kw ln ne nf ky lr ng nh la lv ni nj lc nk bi translated">冗长二执行</h2><pre class="kf kg kh ki gt nl mm nm nn aw no bi"><span id="6ef3" class="mz kn iq mm b gy np nq l nr ns">ansible-pilot $ ansible-playbook -i ../virtualmachines/demo/inventory run_python_script.yml -vv<br/>ansible-playbook [core 2.13.1]<br/>  config file = None<br/>  configured module search path = ['/Users/lberton/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']<br/>  ansible python module location = /usr/local/Cellar/ansible/6.1.0/libexec/lib/python3.10/site-packages/ansible<br/>  ansible collection location = /Users/lberton/.ansible/collections:/usr/share/ansible/collections<br/>  executable location = /usr/local/bin/ansible-playbook<br/>  python version = 3.10.5 (main, Jun 23 2022, 17:15:32) [Clang 13.0.0 (clang-1300.0.29.30)]<br/>  jinja version = 3.1.2<br/>  libyaml = True<br/>No config file found; using defaults<br/>Skipping callback 'default', as we already have a stdout callback.<br/>Skipping callback 'minimal', as we already have a stdout callback.<br/>Skipping callback 'oneline', as we already have a stdout callback.</span><span id="b23d" class="mz kn iq mm b gy nt nq l nr ns">PLAYBOOK: run_python_script.yml *******************************************************************<br/>1 plays in run_python_script.yml</span><span id="1351" class="mz kn iq mm b gy nt nq l nr ns">PLAY [run Python script] **************************************************************************</span><span id="fa6e" class="mz kn iq mm b gy nt nq l nr ns">TASK [Gathering Facts] ****************************************************************************<br/>task path: /Users/lberton/prj/github/ansible-pilot/how-to-run-script/run_python_script.yml:2<br/>ok: [demo.example.com]<br/>META: ran handlers</span><span id="dc11" class="mz kn iq mm b gy nt nq l nr ns">TASK [run cars.py script] *************************************************************************<br/>task path: /Users/lberton/prj/github/ansible-pilot/how-to-run-script/run_python_script.yml:5<br/>changed: [demo.example.com] =&gt; {"changed": true, "rc": 0, "stderr": "Shared connection to demo.example.com closed.\r\n", "stderr_lines": ["Shared connection to demo.example.com closed."], "stdout": "{\r\n    \"manufacturers\": [\r\n        \"Acura\",\r\n        \"Alfa-Romeo\",\r\n        \"Aston-Martin\",\r\n        \"Audi\",\r\n        \"Bentley\",\r\n        \"BMW\",\r\n        \"Bugatti\",\r\n        \"Buick\",\r\n        \"Cadillac\",\r\n        \"Chevrolet\",\r\n        \"Chrysler\",\r\n        \"Citroen\",\r\n        \"Deus Automobiles\",\r\n        \"Dodge\",\r\n        \"Ferrari\",\r\n        \"Fiat\",\r\n        \"Ford\",\r\n        \"Geely\",\r\n        \"Genesis\",\r\n        \"GMC\",\r\n        \"Honda\",\r\n        \"Hyundai\",\r\n        \"Infiniti\",\r\n        \"Jaguar\",\r\n        \"Jeep\",\r\n        \"Kia\",\r\n        \"Koenigsegg\",\r\n        \"Lamborghini\",\r\n        \"Lancia\",\r\n        \"Land Rover\",\r\n        \"Lexus\",\r\n        \"Lincoln\",\r\n        \"Lotus\",\r\n        \"Maserati\",\r\n        \"Maybach\",\r\n        \"Mazda\",\r\n        \"McLaren\",\r\n        \"Mercedes\",\r\n        \"Mini\",\r\n        \"Mitsubishi\",\r\n        \"Nissan\",\r\n        \"Opel\",\r\n        \"Pagani\",\r\n        \"Peugeot\",\r\n        \"Pontiac\",\r\n        \"Porsche\",\r\n        \"Ram\",\r\n        \"Renault\",\r\n        \"Rolls-Royce\",\r\n        \"Skoda\",\r\n        \"Smart\",\r\n        \"Subaru\",\r\n        \"Suzuki\",\r\n        \"Tesla\",\r\n        \"Toyota\",\r\n        \"Volkswagen\",\r\n        \"Volvo\"\r\n    ]\r\n}\r\n", "stdout_lines": ["{", "    \"manufacturers\": [", "        \"Acura\",", "        \"Alfa-Romeo\",", "        \"Aston-Martin\",", "        \"Audi\",", "        \"Bentley\",", "        \"BMW\",", "        \"Bugatti\",", "        \"Buick\",", "        \"Cadillac\",", "        \"Chevrolet\",", "        \"Chrysler\",", "        \"Citroen\",", "        \"Deus Automobiles\",", "        \"Dodge\",", "        \"Ferrari\",", "        \"Fiat\",", "        \"Ford\",", "        \"Geely\",", "        \"Genesis\",", "        \"GMC\",", "        \"Honda\",", "        \"Hyundai\",", "        \"Infiniti\",", "        \"Jaguar\",", "        \"Jeep\",", "        \"Kia\",", "        \"Koenigsegg\",", "        \"Lamborghini\",", "        \"Lancia\",", "        \"Land Rover\",", "        \"Lexus\",", "        \"Lincoln\",", "        \"Lotus\",", "        \"Maserati\",", "        \"Maybach\",", "        \"Mazda\",", "        \"McLaren\",", "        \"Mercedes\",", "        \"Mini\",", "        \"Mitsubishi\",", "        \"Nissan\",", "        \"Opel\",", "        \"Pagani\",", "        \"Peugeot\",", "        \"Pontiac\",", "        \"Porsche\",", "        \"Ram\",", "        \"Renault\",", "        \"Rolls-Royce\",", "        \"Skoda\",", "        \"Smart\",", "        \"Subaru\",", "        \"Suzuki\",", "        \"Tesla\",", "        \"Toyota\",", "        \"Volkswagen\",", "        \"Volvo\"", "    ]", "}"]}</span><span id="ffa8" class="mz kn iq mm b gy nt nq l nr ns">TASK [print cars_raw_output] **********************************************************************<br/>task path: /Users/lberton/prj/github/ansible-pilot/how-to-run-script/run_python_script.yml:11<br/>ok: [demo.example.com] =&gt; {<br/>    "cars_raw_output": {<br/>        "changed": true,<br/>        "failed": false,<br/>        "rc": 0,<br/>        "stderr": "Shared connection to demo.example.com closed.\r\n",<br/>        "stderr_lines": [<br/>            "Shared connection to demo.example.com closed."<br/>        ],<br/>        "stdout": "{\r\n    \"manufacturers\": [\r\n        \"Acura\",\r\n        \"Alfa-Romeo\",\r\n        \"Aston-Martin\",\r\n        \"Audi\",\r\n        \"Bentley\",\r\n        \"BMW\",\r\n        \"Bugatti\",\r\n        \"Buick\",\r\n        \"Cadillac\",\r\n        \"Chevrolet\",\r\n        \"Chrysler\",\r\n        \"Citroen\",\r\n        \"Deus Automobiles\",\r\n        \"Dodge\",\r\n        \"Ferrari\",\r\n        \"Fiat\",\r\n        \"Ford\",\r\n        \"Geely\",\r\n        \"Genesis\",\r\n        \"GMC\",\r\n        \"Honda\",\r\n        \"Hyundai\",\r\n        \"Infiniti\",\r\n        \"Jaguar\",\r\n        \"Jeep\",\r\n        \"Kia\",\r\n        \"Koenigsegg\",\r\n        \"Lamborghini\",\r\n        \"Lancia\",\r\n        \"Land Rover\",\r\n        \"Lexus\",\r\n        \"Lincoln\",\r\n        \"Lotus\",\r\n        \"Maserati\",\r\n        \"Maybach\",\r\n        \"Mazda\",\r\n        \"McLaren\",\r\n        \"Mercedes\",\r\n        \"Mini\",\r\n        \"Mitsubishi\",\r\n        \"Nissan\",\r\n        \"Opel\",\r\n        \"Pagani\",\r\n        \"Peugeot\",\r\n        \"Pontiac\",\r\n        \"Porsche\",\r\n        \"Ram\",\r\n        \"Renault\",\r\n        \"Rolls-Royce\",\r\n        \"Skoda\",\r\n        \"Smart\",\r\n        \"Subaru\",\r\n        \"Suzuki\",\r\n        \"Tesla\",\r\n        \"Toyota\",\r\n        \"Volkswagen\",\r\n        \"Volvo\"\r\n    ]\r\n}\r\n",<br/>        "stdout_lines": [<br/>            "{",<br/>            "    \"manufacturers\": [",<br/>            "        \"Acura\",",<br/>            "        \"Alfa-Romeo\",",<br/>            "        \"Aston-Martin\",",<br/>            "        \"Audi\",",<br/>            "        \"Bentley\",",<br/>            "        \"BMW\",",<br/>            "        \"Bugatti\",",<br/>            "        \"Buick\",",<br/>            "        \"Cadillac\",",<br/>            "        \"Chevrolet\",",<br/>            "        \"Chrysler\",",<br/>            "        \"Citroen\",",<br/>            "        \"Deus Automobiles\",",<br/>            "        \"Dodge\",",<br/>            "        \"Ferrari\",",<br/>            "        \"Fiat\",",<br/>            "        \"Ford\",",<br/>            "        \"Geely\",",<br/>            "        \"Genesis\",",<br/>            "        \"GMC\",",<br/>            "        \"Honda\",",<br/>            "        \"Hyundai\",",<br/>            "        \"Infiniti\",",<br/>            "        \"Jaguar\",",<br/>            "        \"Jeep\",",<br/>            "        \"Kia\",",<br/>            "        \"Koenigsegg\",",<br/>            "        \"Lamborghini\",",<br/>            "        \"Lancia\",",<br/>            "        \"Land Rover\",",<br/>            "        \"Lexus\",",<br/>            "        \"Lincoln\",",<br/>            "        \"Lotus\",",<br/>            "        \"Maserati\",",<br/>            "        \"Maybach\",",<br/>            "        \"Mazda\",",<br/>            "        \"McLaren\",",<br/>            "        \"Mercedes\",",<br/>            "        \"Mini\",",<br/>            "        \"Mitsubishi\",",<br/>            "        \"Nissan\",",<br/>            "        \"Opel\",",<br/>            "        \"Pagani\",",<br/>            "        \"Peugeot\",",<br/>            "        \"Pontiac\",",<br/>            "        \"Porsche\",",<br/>            "        \"Ram\",",<br/>            "        \"Renault\",",<br/>            "        \"Rolls-Royce\",",<br/>            "        \"Skoda\",",<br/>            "        \"Smart\",",<br/>            "        \"Subaru\",",<br/>            "        \"Suzuki\",",<br/>            "        \"Tesla\",",<br/>            "        \"Toyota\",",<br/>            "        \"Volkswagen\",",<br/>            "        \"Volvo\"",<br/>            "    ]",<br/>            "}"<br/>        ]<br/>    }<br/>}</span><span id="ba3e" class="mz kn iq mm b gy nt nq l nr ns">TASK [convert output to JSON] *********************************************************************<br/>task path: /Users/lberton/prj/github/ansible-pilot/how-to-run-script/run_python_script.yml:16<br/>ok: [demo.example.com] =&gt; {"ansible_facts": {"cars_list": {"manufacturers": ["Acura", "Alfa-Romeo", "Aston-Martin", "Audi", "Bentley", "BMW", "Bugatti", "Buick", "Cadillac", "Chevrolet", "Chrysler", "Citroen", "Deus Automobiles", "Dodge", "Ferrari", "Fiat", "Ford", "Geely", "Genesis", "GMC", "Honda", "Hyundai", "Infiniti", "Jaguar", "Jeep", "Kia", "Koenigsegg", "Lamborghini", "Lancia", "Land Rover", "Lexus", "Lincoln", "Lotus", "Maserati", "Maybach", "Mazda", "McLaren", "Mercedes", "Mini", "Mitsubishi", "Nissan", "Opel", "Pagani", "Peugeot", "Pontiac", "Porsche", "Ram", "Renault", "Rolls-Royce", "Skoda", "Smart", "Subaru", "Suzuki", "Tesla", "Toyota", "Volkswagen", "Volvo"]}}, "changed": false}</span><span id="a7bd" class="mz kn iq mm b gy nt nq l nr ns">TASK [print cars_list] ****************************************************************************<br/>task path: /Users/lberton/prj/github/ansible-pilot/how-to-run-script/run_python_script.yml:20<br/>ok: [demo.example.com] =&gt; {<br/>    "cars_list": {<br/>        "manufacturers": [<br/>            "Acura",<br/>            "Alfa-Romeo",<br/>            "Aston-Martin",<br/>            "Audi",<br/>            "Bentley",<br/>            "BMW",<br/>            "Bugatti",<br/>            "Buick",<br/>            "Cadillac",<br/>            "Chevrolet",<br/>            "Chrysler",<br/>            "Citroen",<br/>            "Deus Automobiles",<br/>            "Dodge",<br/>            "Ferrari",<br/>            "Fiat",<br/>            "Ford",<br/>            "Geely",<br/>            "Genesis",<br/>            "GMC",<br/>            "Honda",<br/>            "Hyundai",<br/>            "Infiniti",<br/>            "Jaguar",<br/>            "Jeep",<br/>            "Kia",<br/>            "Koenigsegg",<br/>            "Lamborghini",<br/>            "Lancia",<br/>            "Land Rover",<br/>            "Lexus",<br/>            "Lincoln",<br/>            "Lotus",<br/>            "Maserati",<br/>            "Maybach",<br/>            "Mazda",<br/>            "McLaren",<br/>            "Mercedes",<br/>            "Mini",<br/>            "Mitsubishi",<br/>            "Nissan",<br/>            "Opel",<br/>            "Pagani",<br/>            "Peugeot",<br/>            "Pontiac",<br/>            "Porsche",<br/>            "Ram",<br/>            "Renault",<br/>            "Rolls-Royce",<br/>            "Skoda",<br/>            "Smart",<br/>            "Subaru",<br/>            "Suzuki",<br/>            "Tesla",<br/>            "Toyota",<br/>            "Volkswagen",<br/>            "Volvo"<br/>        ]<br/>    }<br/>}<br/>META: ran handlers<br/>META: ran handlers</span><span id="1246" class="mz kn iq mm b gy nt nq l nr ns">PLAY RECAP ****************************************************************************************<br/>demo.example.com           : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0</span><span id="9b2d" class="mz kn iq mm b gy nt nq l nr ns">ansible-pilot $</span></pre><h2 id="bfb4" class="mz kn iq bd ko na nb dn ks nc nd dp kw ln ne nf ky lr ng nh la lv ni nj lc nk bi translated"><a class="ae my" href="https://github.com/lucab85/ansible-pilot" rel="noopener ugc nofollow" target="_blank">https://github.com/lucab85/ansible-pilot</a></h2><h1 id="376e" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">概述</h1><p id="a9e0" class="pw-post-body-paragraph le lf iq lg b lh li jr lj lk ll ju lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在您知道了如何在用 Ansible 传输 Python 脚本之后，在远程机器上运行它。</p><p id="5c60" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">我希望你喜欢读这篇文章。如果你愿意支持我成为一名作家，可以考虑注册<a class="ae my" href="https://ansiblepilot.medium.com/membership" rel="noopener">成为一名媒体成员</a>。每月只需 5 美元，你就可以无限制地使用 Medium。</p><p id="c7a8" class="pw-post-body-paragraph le lf iq lg b lh ms jr lj lk mt ju lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">订阅<a class="ae my" href="https://www.youtube.com/channel/UC5MNbTYRHSCu9vAki3z9SmA" rel="noopener ugc nofollow" target="_blank"> YouTube 频道</a>、<a class="ae my" href="https://ansiblepilot.medium.com/" rel="noopener"> Medium </a>和<a class="ae my" href="https://www.ansiblepilot.com/" rel="noopener ugc nofollow" target="_blank">网站</a>，不要错过 Ansible Pilot 的下一集。</p><h1 id="fa86" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">Ansible 的最佳资源</h1><h1 id="f319" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">视频课程</h1><ul class=""><li id="a0ce" class="ma mb iq lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated"><a class="ae my" href="https://www.udemy.com/course/ansible-by-examples-devops/?referralCode=8E065F6D6F8622A3DEC8" rel="noopener ugc nofollow" target="_blank">通过 200 多个示例学习 Ansible Automation&amp;实践课程:通过一些真实的例子学习 Ansible，了解如何使用最常见的模块和 ansi ble 剧本</a></li></ul><h1 id="33c1" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">书</h1><ul class=""><li id="d2a6" class="ma mb iq lg b lh li lk ll ln mc lr md lv me lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansiblebyexamples" rel="noopener ugc nofollow" target="_blank">可通过示例回答:针对 Linux 和 Windows 系统管理员和开发人员的 200 多个自动化示例</a></li><li id="d9c6" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansibleforwindowsbyexamples" rel="noopener ugc nofollow" target="_blank">适用于 Windows 的示例:针对 Windows 系统管理员和开发人员的 30 多个自动化示例</a></li><li id="82ad" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansibleforlinuxbyexamples" rel="noopener ugc nofollow" target="_blank"> Ansible For Linux by Examples:针对 Linux 系统管理员和开发人员的 100 多个自动化示例</a></li><li id="fd1f" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/linuxfileanddirectorybyansibleexamples" rel="noopener ugc nofollow" target="_blank"> Ansible Linux 文件系统示例:30 多个针对现代 IT 基础设施的 Linux 文件和目录操作自动化示例</a></li><li id="a8ed" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansible-for-kubernetes-by-examples" rel="noopener ugc nofollow" target="_blank">通过示例负责容器和 Kubernetes:10 多个自动化示例来自动化容器、Kubernetes 和 OpenShift </a></li><li id="53d8" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansibleforsecuritybyexamples" rel="noopener ugc nofollow" target="_blank">负责安全示例:100 多个自动化示例，用于自动化现代 IT 基础架构的安全和验证合规性</a></li><li id="51e4" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated">可行的技巧和窍门:10 多个可行的例子来节省时间和自动化更多的任务</li><li id="d158" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansiblelinuxusersandgroupsbyexamples" rel="noopener ugc nofollow" target="_blank"> Ansible Linux 用户&amp;按示例分组:20 多个关于现代 IT 基础设施的 Linux 用户和分组操作的自动化示例</a></li><li id="d8ad" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansible-for-vmware-by-examples" rel="noopener ugc nofollow" target="_blank">ansi ble For VMware by Examples:10 多个自动化您的 VMware 基础架构的示例(Ansible by Examples) </a></li><li id="cf13" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansible-for-postgresql-by-examples" rel="noopener ugc nofollow" target="_blank">Ansible For PostgreSQL by Examples:10 多个自动化 PostgreSQL 数据库的示例</a></li><li id="a822" class="ma mb iq lg b lh mn lk mo ln mp lr mq lv mr lz mf mg mh mi bi translated"><a class="ae my" href="https://leanpub.com/ansible-for-aws-by-examples" rel="noopener ugc nofollow" target="_blank">ansi ble For Amazon Web Services AWS By Examples:10 多个自动化 AWS 现代基础设施的示例</a></li></ul><h1 id="cbfb" class="km kn iq bd ko kp kq kr ks kt ku kv kw jw kx jx ky jz kz ka la kc lb kd lc ld bi translated">捐赠</h1><div class="nx ny gp gr nz oa"><a href="https://patreon.com/lucaberton" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">卢卡·伯尔顿正在为 Ansible | Patreon 创建软件开源</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">今天就成为卢卡·伯尔顿的赞助人:获得世界上最大会员的独家内容和体验…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">patreon.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo op oa"/></div></div></a></div><div class="nx ny gp gr nz oa"><a href="https://github.com/sponsors/lucab85" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">GitHub 赞助商上的赞助商@lucab85</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">我是一个活跃的开源贡献者，参与到了 Ansible 社区中，尽管我到处都是。@lucab85 的…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">github.com</p></div></div><div class="oj l"><div class="oq l ol om on oj oo op oa"/></div></div></a></div><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="os ot di ou bf ov"><div class="gh gi or"><img src="../Images/631fe6b9b1c6d7bcc99c0e310808d40b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a_-856kmEyD35AuPfNMaZg.png"/></div></div></figure></div></div>    
</body>
</html>