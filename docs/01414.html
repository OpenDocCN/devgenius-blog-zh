<html>
<head>
<title>Lists in SwiftUI: A Comprehensive Approach for Beginners — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的列表:初学者的综合方法—第1部分</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/lists-in-swiftui-a-comprehensive-approach-for-beginners-part-1-912be5d7dbcc?source=collection_archive---------33-----------------------#2020-07-02">https://blog.devgenius.io/lists-in-swiftui-a-comprehensive-approach-for-beginners-part-1-912be5d7dbcc?source=collection_archive---------33-----------------------#2020-07-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/379ff90611822f124339c47b4430deaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l1kceXGXClRfcsktgLWCXg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">列表图片</figcaption></figure><p id="a939" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">今天我们将深入SwiftUI中的列表，看看它们与UIKit的UITableViews有何不同。正如许多开发人员所知，数据表在许多应用程序中无处不在。很难想象在应用程序中没有对象列表或类似的东西的应用程序。正因为如此，iOS开发者必须时刻准备着知道如何实现这些组件。至少，我们必须知道如何在现有的代码库中修改它们。</p><p id="726e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所以让我们进入正题:我们如何实现一个简单的SwiftUI列表？继续在Xcode中创建一个新的“单视图应用程序”项目，随意命名，将组织名称和标识符更新为您自己的名称，并为“用户界面”选项选择SwiftUI。像往常一样，将项目保存在Mac上您喜欢的任何位置。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi la"><img src="../Images/fe620cd39bbe3c26cf2a3dc540691872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXKKDDX2KaQv2IVYrgqm6g.png"/></div></div></figure><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lf"><img src="../Images/95a89d82741c06dbf637ac3b59faa770.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xULUrclfupxnxo3jJaW_iw.png"/></div></div></figure><p id="042a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">无论您是否熟悉创建新的SwiftUI项目，Xcode都会在新项目开始时立即在名为“ContentView.swift”的文件中生成样板代码。现在让我们更改ContentView.swift文件中顶层结构的内容。将内容视图结构代码更新为:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lg lh l"/></div></figure><p id="3eb0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">当您运行应用程序时，显示屏将显示以下内容:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi li"><img src="../Images/97f4b918b9c1bc67c17276c59d827137.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PqqjRbIC0clK8PtuDZ4-oQ.png"/></div></div></figure><p id="eb17" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这就是创建一个简单的静态列表视图所需要的全部内容。我们将文本视图嵌入到列表视图中，剩下的工作由SwiftUI完成。现在我们可以更进一步，像这样更新代码:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lg lh l"/></div></figure><p id="ffcb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你还不熟悉Swift，不要对那个<em class="lj"> $ </em>符号感到害怕。这里有几种使用这个<em class="lj"> $ </em>操作符的方法:a)当你想省略闭包中实际的参数名时，这就是我们上面所做的；b)在SwiftUI中，您将使用它从状态变量访问绑定。但是现在，我们先不要担心后者。这将在以后的文章中讨论。如果您用上面的代码更新了ContentView结构，那么您会注意到模拟器或Xcode预览中的输出是相同的。好东西！让我们继续前进。</p><p id="4299" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们谈谈你可以用列表做的最后一件很酷的事情。通常对于数据列表或表格，您会有一个想要迭代的集合。无论您有一个硬编码(静态)的数组，还是从网络调用的响应中动态加载该数组，您都可以将集合直接传递到SwiftUI的列表视图中。查看下面的代码与我们迄今为止编写的代码之间的区别:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lg lh l"/></div></figure><p id="393c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">很酷，对吧？在第3行，我们将集合传递给列表。看到在SwiftUI中创建数据列表的代码如此之少，真是可笑又令人羞愧。</p><p id="15b2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在让我们添加拼图的最后一块，并创建我们的数组来保存，例如，我们最喜欢的电影。我们不想一直说“第1排，第2排，第3排”，等等。所以现在像这样更新ContentView结构，但是你把你喜欢的电影放进去:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lg lh l"/></div></figure><p id="5479" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们现在传入一个实际的数组，这个数组已经填充了数据。通过使用“favoriteMovies”的名称并加上“.指数，“我们可以使用动态范围，而不是固定的。因此，你可以在那里放50部电影，这就很好了。</p><p id="a13b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在我们结束本系列文章的这一部分之前，我确实想表明，如果为了清楚起见，您不愿意使用<em class="lj"> $0 </em>，那么您并不需要这样做。我们将把它改为使用闭包的参数。为简单起见，我们将其命名为“索引”。所以如果你想把它改回下面的代码，你可以:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lg lh l"/></div></figure><p id="eab0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最终，您的模拟器、设备或Xcode预览将显示以下内容:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi li"><img src="../Images/c3b11b88b550df58de7f1f38ff1f2ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gbb704SLvReuUKEkoWH5jw.png"/></div></div></figure><p id="92eb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所以退一步，想一想我们必须做什么来在UIKit和故事板中创建一个简单的表格视图。如果没有SwiftUI的帮助，我们将不得不采用并遵循UITableViewDataSource和UITableViewDelegate协议来返回表视图中的节和行数。我们还必须在视图控制器中设置表视图的约束(除非您使用UITableViewController方法)。然后，我们必须根据原型单元格在<em class="lj">table view:cellforrowatdinexpath:</em>方法中定制表格视图单元格。我们还必须确保在Xcode脚本中适当地设置我们的身份检查器。你明白我对UIKit的看法了吗？累死了！但不是用SwiftUI。</p><p id="932c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我希望你喜欢这个系列的第一部分，并祝贺你能走到这一步！在第2部分中，我们将讨论更复杂的SwiftUI列表视图布局，以及为什么我们在列表中使用“id”参数。在第3部分中，我们将了解如何从列表视图导航到详细视图。最后，在第4部分中，我们将进行一次真实的网络调用，并用真实数据填充列表。</p></div></div>    
</body>
</html>