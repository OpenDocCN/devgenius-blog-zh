<html>
<head>
<title>Data Warehousing using Google BigQuery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Google BigQuery 的数据仓库</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/data-warehousing-using-google-bigquery-9e390978d955?source=collection_archive---------11-----------------------#2022-12-19">https://blog.devgenius.io/data-warehousing-using-google-bigquery-9e390978d955?source=collection_archive---------11-----------------------#2022-12-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b6e70d7b7aaa25dd4cfd9267aae293a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EZ6TRfUvYc-zhAEXZaRV8w.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片来源<a class="ae jz" href="https://unsplash.com/photos/klWUhr-wPJ8" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka"> Unsplash </strong> </a></figcaption></figure><p id="4334" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">如今，<strong class="kd io">数据</strong>越来越庞大，每秒<strong class="kd io">海量</strong>(<a class="ae jz" href="https://medium.com/dev-genius/heard-big-data-lets-know-it-a3aac6cf5ae7" rel="noopener"><strong class="kd io">大数据</strong> </a>本质上就是如此)，而<strong class="kd io">源</strong>正以<strong class="kd io">指数</strong>的速度增长，如电子邮件、交易数据、日志文件、文本文件、音频文件、电子商务网站(亚马逊、Flipkart、Myntra 等)。)、医疗保健、供应链和物流(Delhivery、联邦快递)。随着这些数据呈指数级增长(如前所述)并且高度非结构化，存储这些数据变得很复杂(使传统的存储方法变得毫无用处)。因为这些<strong class="kd io">问题</strong>和<strong class="kd io">挑战</strong>，<strong class="kd io">数据仓库</strong>就出现了。</p><p id="d3fb" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">一个<strong class="kd io">数据仓库</strong>本质上是<strong class="kd io">将来自各种<strong class="kd io">来源</strong>的</strong>数据聚集到一个中央的、一致的数据存储库中，以生成<strong class="kd io">业务</strong> <strong class="kd io">洞察</strong>并辅助有效的<strong class="kd io">决策</strong>。</p><p id="c650" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">为了创建<strong class="kd io">数据仓库</strong>，我们将使用<strong class="kd io"> BigQuery </strong>，这是一个由<strong class="kd io"> Google 云平台</strong>提供的<strong class="kd io">无服务器</strong>、<strong class="kd io">完全管理的、多云端数据仓库</strong>平台即服务(<strong class="kd io"> PaaS </strong>)服务。</p><h1 id="e85e" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">数据仓库是如何工作的？</h1><p id="a239" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">它<strong class="kd io">将来自各种管道</strong>和<strong class="kd io">来源</strong>的数据聚集到一个<strong class="kd io">集中</strong>的、一致的数据存储库中，该存储库具有预定义和固定的<strong class="kd io">模式</strong>以生成业务<strong class="kd io">洞察</strong>并帮助<strong class="kd io">决策</strong>过程。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/5365e2839e4bd53f5dc0e4d9772c0ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*AuH1mAYdrV_dzCwcm4g6EA.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片来源<a class="ae jz" href="https://databricks.com/glossary/unified-data-warehouse" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka">数据块</strong> </a></figcaption></figure><p id="86f2" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上图中，来自多个<strong class="kd io">源</strong>的数据在指定的时间跨度内从多个应用程序加载，收集的数据被<strong class="kd io">格式化</strong>到已经存在的数据仓库的<strong class="kd io">预定义</strong>和固定<strong class="kd io">模式</strong>中。然后，组织使用这些经过<strong class="kd io">处理的</strong>数据以各种方式加以利用，例如报告、分析、数据挖掘等。</p><p id="b079" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">数据<strong class="kd io">来源</strong>可以来自不同的地方(医疗保健、ERP、交易处理系统、供应链等。)和各种<strong class="kd io">格式</strong>(结构化、非结构化、半结构化等。).</p><p id="3ecf" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">现在什么是数据仓库，如何工作已经知道了，现在有一些基于<strong class="kd io">云</strong>的数据仓库<strong class="kd io">工具</strong>，比如 Google <strong class="kd io"> BigQuery </strong>，Amazon <strong class="kd io"> RedShift </strong>，Azure <strong class="kd io"> Sypnase </strong>，<strong class="kd io"> Teradata </strong>等。</p><p id="1969" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在本文中，我们将重点关注<strong class="kd io"> BigQuery </strong>，</p><h1 id="b79a" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">什么是大查询？</h1><p id="42e0" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">它是由<strong class="kd io">谷歌云平台提供的<strong class="kd io">无服务器</strong>、<strong class="kd io">全托管、多云端数据仓库</strong>平台即服务(<strong class="kd io"> PaaS </strong>)服务。</strong></p><p id="2a60" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">我们可以直接访问来自外部来源的数据，并在<strong class="kd io">大查询</strong>中分析该数据，而无需使用联邦查询导入该数据。它还为 SQL 提供了一个查询引擎来编写 SQL 查询，并具有内置的机器学习功能。</p><p id="94c0" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">它提供说明性和描述性分析、用于存储数据的数据存储以及集中式数据管理和计算机资源。它有完整的事务支持。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/aeb2a40b2c3f899e16852a2eb56519c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vzEwbKWthBuY2vLfhr8KFw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片来源<a class="ae jz" href="https://cloud.google.com/bigquery" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka">谷歌云</strong> </a></figcaption></figure><h1 id="bf5d" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">大查询架构</h1><p id="ef0b" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">大查询架构帮助客户经济高效地开发数据仓库，而无需担心基础架构、安全性、数据库操作和系统工程。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mh"><img src="../Images/8bde2d0bebb3c42bfd429c3968173d5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mBn4nmypsf4OmPBh1DdTHA.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片来源<a class="ae jz" href="https://storage.googleapis.com/gweb-cloudblog-publish/images/BQ_Explained_2.max-900x900.jpg" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka">谷歌</strong> </a></figcaption></figure><p id="6173" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">大查询架构使用各种<strong class="kd io">低级</strong>基础设施技术，比如 Borg、Dremel、Colossus 和 Jupiter。</p><p id="cf33" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kd io">巨像:</strong>巨像执行数据恢复、复制、分布式管理操作，确保数据安全。</p><p id="c99a" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Dremel:  Dremel 是一个多租户集群，它将 SQL 查询转换成用于执行查询的执行树。</p><p id="4dcc" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kd io">木星:</strong>存储和计算资源使用木星网络进行通信。</p><p id="26cd" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kd io"> Borg: </strong> Borg 通过在大查询中执行服务之间的自动化配置、管理和协调来进行编排。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/d5728d8011a3a9e0522cf0ed7227d4c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*sZ_m89EuZ4_bySJT9uKeRA.jpeg"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片来源<a class="ae jz" href="https://cloud.google.com/blog/products/data-analytics/new-blog-series-bigquery-explained-overview" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka">谷歌云</strong> </a></figcaption></figure><h1 id="00ec" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用大查询构建数据仓库</h1><p id="2ba4" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">假设我们有一家销售 K-pop 商品的<strong class="kd io">电子商务</strong>公司，该公司存储来自两个不同来源的数据，即本地商店和在线商店，<strong class="kd io">根据公司需要存储的用于执行同行绩效分析的详细信息类型，从网站收集</strong>数据。</p><p id="4218" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">现在，在 Big Query 中开发一个数据仓库来<strong class="kd io">聚合来自所有这些来源的</strong>数据，执行一些操作，查询数据以获得有价值的<strong class="kd io">见解</strong>，并做出<strong class="kd io">有效的</strong>决策。</p><p id="8b6d" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kd io">在 GCP 创建项目，</strong></p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mj"><img src="../Images/874af60a6e8b1f1aaf683fe7d092f90a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HYEvkcKNaNJ8TJnEQ386YQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">谷歌云平台</figcaption></figure><p id="8ecd" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kd io">在大查询中创建数据集</strong></p><p id="98c3" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><em class="mk">资源- &gt;大查询- &gt;项目名称- &gt;创建数据集</em></p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3c02fcde79826d89da9ea24aab068405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QG6zsW-OOMezChFPHGhZpQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">为已创建的项目创建数据集</figcaption></figure><p id="bf46" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">从<a class="ae jz" href="https://www.kaggle.com/datasets/ericwan1/kpop-merchandise-prices" rel="noopener ugc nofollow" target="_blank"> <strong class="kd io"> kaggle </strong> </a>下载一个数据集加载到刚刚创建的数据集中，</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/244864d2809303efe3eb2d750ef641fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_-DQYXi7ceEIYY8vvHadkg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">将表上传到已创建的数据集</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/eb5c09921c3289649f177689477ed466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F-GFw9gtg9dG9ktLuXebqQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">显示模式的导入表</figcaption></figure><p id="149d" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">分析导入到数据集中的表，</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ml"><img src="../Images/6f119f6ea104a87d3e24afee0cf147da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pG52CyufbMu9obHraQxb6g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查看表中的前 1000 行</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/638182aaa233dafba74544a2c6d0ad54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*luhrRBJtk58pFHJ9JQC0rQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">看到个别艺术家和他们各自的分位数</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b9526efdf3bc42af1857cac99e7ceaf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2xYEhdqVKuq61RSnyWI1Lw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查看未售完的商品及其数量</figcaption></figure><blockquote class="mm mn mo"><p id="3009" class="kb kc mk kd b ke kf kg kh ki kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ky ig bi translated"><strong class="kd io">参考文献</strong></p><p id="75a2" class="kb kc mk kd b ke kf kg kh ki kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ky ig bi translated"><a class="ae jz" href="https://www.analyticsvidhya.com/blog/2022/08/building-data-warehouse-using-google-big-query/" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2022/08/building-data-warehouse-using-Google-big-query/</a></p><p id="502b" class="kb kc mk kd b ke kf kg kh ki kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ky ig bi translated"><a class="ae jz" href="https://cloud.google.com/bigquery" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/bigquery</a></p><p id="b9cc" class="kb kc mk kd b ke kf kg kh ki kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ky ig bi translated"><a class="ae jz" href="https://www.cloudskillsboost.google/quests/68" rel="noopener ugc nofollow" target="_blank">https://www.cloudskillsboost.google/quests/68</a></p></blockquote><p id="c2f9" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">如果你喜欢这篇文章，关注我，你也可以做下面的事情。</p><p id="e4ff" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">我们上<strong class="kd io"> LinkedIn </strong>连线吧:</p><p id="9728" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><a class="ae jz" href="https://www.linkedin.com/in/tripathiadityaprakash" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/tripathiadityaprakash</a></p><p id="e821" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">或者我的<strong class="kd io">网站</strong>:</p><p id="13b2" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">【https://tripathiaditya.netlify.app/ T4】</p><p id="13e4" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">或者推特</p><p id="9f8b" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><a class="ae jz" href="https://twitter.com/tripathiadityap/" rel="noopener ugc nofollow" target="_blank">https://twitter.com/tripathiadityap/</a></p></div></div>    
</body>
</html>