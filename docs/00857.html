<html>
<head>
<title>What is GAC?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是广汽？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-gac-859f7348169b?source=collection_archive---------3-----------------------#2020-06-18">https://blog.devgenius.io/what-is-gac-859f7348169b?source=collection_archive---------3-----------------------#2020-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ea03fd1f03577bdfcbc9e899888f3dbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IsviZ_Ok7ajMTybG"/></div></div></figure><div class=""/><p id="5064" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">全局程序集缓存(GAC)是由。NET Framework，其中将存储指定由系统上执行的所有应用程序共享的强名称程序集(它们的名称由程序集名称、版本号、区域性和公钥标记组成)。</p><p id="4f30" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">GAC 的概念是。NET 架构的设计解决了 COM(组件对象模型)中存在的 DLL hell 问题。</p><h1 id="d7b5" class="kw kx jb bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">DLL 地狱是什么？</h1><p id="a8de" class="pw-post-body-paragraph jy jz jb ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">DLL Hell 是指当多个应用程序试图共享一个公共动态链接库(DLL)时引起的一系列问题。使用 COMs，当一个应用程序试图安装一个已经存储在注册表中的 DLL 时，系统会用最新的版本覆盖最旧的版本，让最新的版本占优势。由于 DLL 没有任何用于向后比较的内置机制，这种覆盖导致依赖共享 DLL 的现有应用程序崩溃。通过强命名每个动态链接库(。dll)，GAC 解决了这个问题。</p><h1 id="b6d5" class="kw kx jb bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">例子</h1><p id="381b" class="pw-post-body-paragraph jy jz jb ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">DLL 地狱发生的一种情况是:</p><ol class=""><li id="e2cd" class="lz ma jb ka b kb kc kf kg kj mb kn mc kr md kv me mf mg mh bi translated">在你机器上有一个应用程序使用了一个叫做 SharedAssembly.dll 的程序集</li><li id="2dc8" class="lz ma jb ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">我安装了一个新的应用程序，该应用程序安装了一个新版本的 SharedAssembly.dll，从而替换了现有的 DLL</li><li id="034c" class="lz ma jb ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">由于 SharedAssembly.dll 的更新版本，第一个应用程序停止正常工作。</li></ol><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mn"><img src="../Images/c0af5b5bf8b6447ad5585b8dfc83d34a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V2KP84pNsXi9mPpS"/></div></div></figure><p id="a1c6" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">图 DLL 地狱的例子</p><h1 id="0626" class="kw kx jb bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">GAC 工具(gacutil.exe)</h1><p id="75e1" class="pw-post-body-paragraph jy jz jb ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">全局程序集缓存工具是随 Visual Studio 自动安装的工具，它允许开发人员检查程序集是否存在，查看和操作全局程序集缓存的内容。</p><p id="6602" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">若要运行该工具，请以管理员身份打开 Visual Studio 的开发人员命令提示符，并执行该命令</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="08fb" class="mx kx jb mt b gy my mz l na nb">gacutil</span></pre><p id="21d6" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将立即提示一个助手，其中包含所有可用的标志及其相关描述。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="a281" class="mx kx jb mt b gy my mz l na nb">**********************************************************************<br/>** Visual Studio 2019 Developer Command Prompt v16.2.5<br/>** Copyright (c) 2019 Microsoft Corporation<br/>**********************************************************************<br/></span><span id="d044" class="mx kx jb mt b gy nc mz l na nb">C:\Windows\System32&gt;gacutil<br/>Microsoft (R) .NET Global Assembly Cache Utility.  Version 4.0.30319.0<br/>Copyright (c) Microsoft Corporation.  All rights reserved.<br/></span><span id="8c4f" class="mx kx jb mt b gy nc mz l na nb">Usage: Gacutil &lt;command&gt; [ &lt;options&gt; ]<br/>Commands:<br/>  /i &lt;assembly_path&gt; [ /r &lt;...&gt; ] [ /f ]<br/>    Installs an assembly to the global assembly cache. &lt;assembly_path&gt; is the<br/>    name of the file that contains the assembly manifest.<br/>    Example: /i myDll.dll /r FILEPATH c:\projects\myapp.exe "My App"<br/></span><span id="1752" class="mx kx jb mt b gy nc mz l na nb">  /il &lt;assembly_path_list_file&gt; [ /r &lt;...&gt; ] [ /f ]<br/>    Installs one or more assemblies to the global assembly cache.<br/>    &lt;assembly_list_file&gt; is the path to a text file that contains a list of<br/>    assembly manifest file paths. Individual paths in the text file must be<br/>    separated by CR/LF.<br/>    Example: /il MyAssemblyList.txt /r FILEPATH c:\projects\myapp.exe "My App"<br/>      myAssemblyList.txt content:<br/>      myAsm1.dll<br/>      myAsm2.dll<br/></span><span id="92e0" class="mx kx jb mt b gy nc mz l na nb">  /u &lt;assembly_display_name&gt; [ /r &lt;...&gt; ]<br/>    Uninstalls an assembly. &lt;assembly_name&gt; is the name of the assembly<br/>    (partial or fully qualified) to remove from the Global Assembly Cache.<br/>    If a partial name is specified all matching assemblies will be uninstalled.<br/>    Example:<br/>      /u myDll,Version=1.1.0.0,Culture=en,PublicKeyToken=874e23ab874e23ab<br/>      /r FILEPATH c:\projects\myapp.exe "My App"<br/></span><span id="9481" class="mx kx jb mt b gy nc mz l na nb">  /uf &lt;assembly_name&gt;<br/>    Forces uninstall of an assembly by removing all traced references.<br/>    &lt;assembly_name&gt; is the full name of the assembly to remove.<br/>    Assembly will be removed unless referenced by Windows Installer.<br/>    !! Warning: use the /uf command with care as applications may fail to run !!<br/>    Example: /uf myDll,Version=1.1.0.0,Culture=en,PublicKeyToken=874e23ab874e23ab<br/></span><span id="c040" class="mx kx jb mt b gy nc mz l na nb">  /ul &lt;assembly_display_name_list_file&gt; [ /r &lt;...&gt; ]<br/>    Uninstalls one or more assemblies from the global assembly cache.<br/>    &lt;assembly_list_file&gt; is the path to a text file that contains a list of<br/>    assembly names. Individual names in the text file must be<br/>    separated by CR/LF.<br/>    Example: /ul myAssemblyList.txt/r FILEPATH c:\projects\myapp.exe "My App"<br/>      myAssemblyList.txt content:<br/>      myDll,Version=1.1.0.0,Culture=en,PublicKeyToken=874e23ab874e23ab<br/>      myDll2,Version=1.1.0.0,Culture=en,PublicKeyToken=874e23ab874e23ab<br/></span><span id="137f" class="mx kx jb mt b gy nc mz l na nb">  /l [ &lt;assembly_name&gt; ]<br/>    Lists the contents of the global assembly cache. When the optional<br/>    &lt;assembly_name&gt; parameter is specified only matching assemblies are listed.<br/></span><span id="47d7" class="mx kx jb mt b gy nc mz l na nb">  /lr [ &lt;assembly_name&gt; ]<br/>    Lists the contents of the global assembly cache including traced reference<br/>    information. When the optional &lt;assembly_name&gt; parameter is specified only<br/>    matching assemblies are listed.<br/></span><span id="c924" class="mx kx jb mt b gy nc mz l na nb">  /cdl<br/>    Deletes the contents of the download cache<br/></span><span id="c1b5" class="mx kx jb mt b gy nc mz l na nb">  /ldl<br/>    Lists the contents of the download cache<br/></span><span id="2cbb" class="mx kx jb mt b gy nc mz l na nb">  /?<br/>    Displays a detailed help screen<br/></span><span id="c68c" class="mx kx jb mt b gy nc mz l na nb">Old command syntax:<br/>  /if &lt;assembly_path&gt;<br/>    equivalent to /i &lt;assembly_path&gt; /f<br/></span><span id="0e98" class="mx kx jb mt b gy nc mz l na nb">  /ir &lt;assembly_path&gt; &lt;reference_scheme&gt; &lt;reference_id&gt; &lt;description&gt;<br/>    equivalent to /i &lt;assembly_path&gt; /r &lt;...&gt;<br/></span><span id="a80f" class="mx kx jb mt b gy nc mz l na nb">  /ur &lt;assembly_name&gt; &lt;reference_scheme&gt; &lt;reference_id&gt; &lt;description&gt;<br/>    equivalent to /u &lt;assembly_path&gt; /r &lt;...&gt;<br/></span><span id="5624" class="mx kx jb mt b gy nc mz l na nb">Options:<br/>  /r &lt;reference_scheme&gt; &lt;reference_id&gt; &lt;description&gt;<br/>    Specifies a traced reference to install (/i, /il) or uninstall (/u, /ul).<br/>      &lt;reference_scheme&gt; is the type of the reference being added<br/>        (UNINSTALL_KEY, FILEPATH or OPAQUE).<br/>      &lt;reference_id&gt; is the identifier of the referencing application,<br/>        depending on the &lt;reference_scheme&gt;<br/>      &lt;description&gt; is a friendly description of the referencing application.<br/>    Example: /r FILEPATH c:\projects\myapp.exe "My App"<br/></span><span id="d396" class="mx kx jb mt b gy nc mz l na nb">  /f<br/>    Forces reinstall of an assembly regardless of any existing assembly with<br/>    the same assembly name.<br/></span><span id="d31b" class="mx kx jb mt b gy nc mz l na nb">  /nologo<br/>    Suppresses display of the logo banner<br/></span><span id="0765" class="mx kx jb mt b gy nc mz l na nb">  /silent<br/>    Suppresses display of all output</span></pre></div></div>    
</body>
</html>