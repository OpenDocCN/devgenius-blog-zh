<html>
<head>
<title>Embedded C: Part IV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">嵌入式 C:第四部分</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/embedded-c-part-iv-76ec6416eb74?source=collection_archive---------10-----------------------#2022-11-10">https://blog.devgenius.io/embedded-c-part-iv-76ec6416eb74?source=collection_archive---------10-----------------------#2022-11-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f398" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">多个文件、自定义库和数组</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/52cd7f77ebc1168dc4d1016270d7d0ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iodmAB96fYZywDjDBMlsLw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">椅子后面的书架</figcaption></figure><h2 id="636c" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">将代码分成多个文件</h2><p id="f55c" class="pw-post-body-paragraph lo lp in lq b lr ls jo lt lu lv jr lw lb lx ly lz lf ma mb mc lj md me mf mg ig bi translated">拆分文件可以帮助您更好地组织代码。这将允许您拥有包含相关功能的文件；可以放入主文件中使用。在 C 语言中，这个过程相当简单。下面的例子让我们对这种情况有了一些了解:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">代码文件</figcaption></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">终端命令</figcaption></figure><ol class=""><li id="af73" class="mj mk in lq b lr ml lu mm lb mn lf mo lj mp mg mq mr ms mt bi translated">在您的主文件中或者您想要导入代码的地方，您需要一个您正在导入的函数/库的原型。</li><li id="3aa8" class="mj mk in lq b lr mu lu mv lb mw lf mx lj my mg mq mr ms mt bi translated">在实现文件中写出函数。</li><li id="b5a4" class="mj mk in lq b lr mu lu mv lb mw lf mx lj my mg mq mr ms mt bi translated">然后，当您编译代码时，确保在主文件之后包含函数文件。</li></ol><h2 id="b66e" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">自定义库</h2><p id="2487" class="pw-post-body-paragraph lo lp in lq b lr ls jo lt lu lv jr lw lb lx ly lz lf ma mb mc lj md me mf mg ig bi translated">库可以被认为是一组相关的函数、变量和代码。</p><p id="2fed" class="pw-post-body-paragraph lo lp in lq b lr ml jo lt lu mm jr lw lb mz ly lz lf na mb mc lj nb me mf mg ig bi translated">要在 C 中创建一个库，我们需要以下组件:</p><ul class=""><li id="3db6" class="mj mk in lq b lr ml lu mm lb mn lf mo lj mp mg nc mr ms mt bi translated">源文件<br/> — source.c <br/> —实现</li><li id="0016" class="mj mk in lq b lr mu lu mv lb mw lf mx lj my mg nc mr ms mt bi translated">头文件<br/> — header.h <br/> —原型清单</li><li id="d8fe" class="mj mk in lq b lr mu lu mv lb mw lf mx lj my mg nc mr ms mt bi translated">打电话给<br/>——我们如何与图书馆互动</li></ul><p id="98c1" class="pw-post-body-paragraph lo lp in lq b lr ml jo lt lu mm jr lw lb mz ly lz lf na mb mc lj nb me mf mg ig bi translated">要调用一个库，我们需要在 C 程序的顶部包含库头:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">库包括</figcaption></figure><p id="4d3c" class="pw-post-body-paragraph lo lp in lq b lr ml jo lt lu mm jr lw lb mz ly lz lf na mb mc lj nb me mf mg ig bi translated">这将允许我们调用库中的任何函数。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">简单计算器库</figcaption></figure><p id="65a6" class="pw-post-body-paragraph lo lp in lq b lr ml jo lt lu mm jr lw lb mz ly lz lf na mb mc lj nb me mf mg ig bi translated">当你准备好编译你的代码时，确保你编译了库源代码和你的主文件，如上面的多文件部分所示(终端要点)。</p><h2 id="5299" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">数组</h2><p id="41fb" class="pw-post-body-paragraph lo lp in lq b lr ls jo lt lu lv jr lw lb lx ly lz lf ma mb mc lj md me mf mg ig bi translated">数组是一组保存固定数量项目的数据。这些值存储在连续的内存位置，所以我们需要给编译器数组在初始化时将保存的元素数量。</p><p id="0929" class="pw-post-body-paragraph lo lp in lq b lr ml jo lt lu mm jr lw lb mz ly lz lf na mb mc lj nb me mf mg ig bi translated">在 C #中，数组中的所有值必须是同一类型:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mh mi l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">C cheatsheet 中的数组</figcaption></figure><p id="622d" class="pw-post-body-paragraph lo lp in lq b lr ml jo lt lu mm jr lw lb mz ly lz lf na mb mc lj nb me mf mg ig bi translated"><a class="ae nd" rel="noopener ugc nofollow" target="_blank" href="/embedded-c-basics-i-17230dfb70a5">第一部分</a>，<a class="ae nd" rel="noopener ugc nofollow" target="_blank" href="/embedded-c-basics-part-ii-d8fc687b65e9">第二部分</a>，<a class="ae nd" rel="noopener ugc nofollow" target="_blank" href="/embedded-c-basics-part-iii-210a8a1df114">第三部分</a></p></div></div>    
</body>
</html>