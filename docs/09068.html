<html>
<head>
<title>Day 108 of Game Dev: Using Constructors with your Classes!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发的第 108 天:在你的类中使用构造函数！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-108-of-game-dev-using-constructors-with-your-classes-5d22a7529198?source=collection_archive---------15-----------------------#2022-07-27">https://blog.devgenius.io/day-108-of-game-dev-using-constructors-with-your-classes-5d22a7529198?source=collection_archive---------15-----------------------#2022-07-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="27a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目标:</strong>回顾一下什么是构造函数以及它们的一些好处。</p><p id="3089" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于任何理解这个话题有问题的人来说，不要担心一开始会不会有点困惑。当你读到这篇文章的结尾时，它会变得更有意义。重读一遍也没什么坏处，我建议先读一遍，做个大概的了解，然后再从头到尾读一遍，尽量多注意细节。你能做到的！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/05db458294f9bbbd932937cabab9efbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BK2YaIL3depz6KfWPVx8Nw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.knowledgehut.com/tutorials/csharp/csharp-constructors" rel="noopener ugc nofollow" target="_blank">演职员表</a></figcaption></figure><p id="c7a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">构造函数有什么好处？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kz"><img src="../Images/f1fa0227412a58a29d0d5f260c4f811c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i84H5AJ8Xxno8FOFdmVUng.png"/></div></div></figure><p id="367a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们来看一个构造函数的实际应用。</p><p id="172a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我的例子中，我有一个玩家脚本和一个武器脚本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi la"><img src="../Images/610560ea8b9ad2aae6fab20456c2a0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*HypBitIGqdOvRdx5tTpc1g.png"/></div></figure><p id="d776" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将在武器脚本中设置一些所有武器的标准变量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/8435a095f66876df5a429a72f3a82c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*TWzMuOnKqzl2PWrJLJ8WkA.png"/></div></figure><p id="b94c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意:请记住这不是一个完美的例子，但是请试着继续学习，看看构造函数可以用来做什么。</p><p id="afdc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后从玩家脚本中，我将创建一个武器类的实例(也称为对象)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/4a5efbec2fe0bfbc56fbd6d2a4d06bf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*tPN8h7PKp3RGivt_l1YTkQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ld"><img src="../Images/5605b2a1f803e74caa5563a5ca82098f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GBaJiBJO1wVNoEAYxJfAAw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.knowledgehut.com/tutorials/csharp/csharp-classes-objects" rel="noopener ugc nofollow" target="_blank">演职员表</a></figcaption></figure><p id="fc03" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个实例将是一把手枪，我将为它的每个变量赋予一个特定的值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi le"><img src="../Images/f5d9a6d8c3ddff1a4003ca2bb1915b3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*lwM7tvVSvxXiJ2BOV1BXDw.png"/></div></figure><p id="15d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那我再举一个例子，叫它狙击手。然后我也会给变量赋值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/507fb94c70f0000a33b742f8e99a1ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*-kBJ8ym4BCMkRT99j3ZVxg.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/cdc91ed037ea63890758a5528e914e62.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*cRXaXH4LILnCdOPKpfj7sA.png"/></div></figure><p id="f2a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有几个问题是，在我的游戏中，我想要更多的武器。它需要多行代码，并且不能保证我会记住为每个实例分配变量。</p><p id="9739" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用构造函数，我们可以将这些值作为参数传入，从而节省了多行代码(同时也减少了输入的工作量),并且只需要输入或不输入某些数据。例如，当您调用 Instantiate()或 Destroy()或 transform。Translate()和给定的调用它们的多个选项，这是因为设置了多个构造函数，允许不同的选项，包括一些 100%必须输入的值和一些被赋予默认值的可选值。我会告诉你我的意思。</p><p id="ccb7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，我将在武器类中创建一个构造函数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lh"><img src="../Images/27e0748503ba1e7aea4e46cd63159a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D3Z78s0u-6B8fUL-7ZG7Xw.png"/></div></div></figure><p id="45ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">构造函数名将与类名相同。除此之外，我在这里做的是创建一个公共方法，我们可以在其中传递变量。要传递的变量可以随意命名。我将把 weaponName 参数更改为不同的值，以便向您展示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi li"><img src="../Images/251ecd1eca96f3e27bc884ed88780d42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*9Cyfg1cwZYnQvU3RKRLiIA.png"/></div></figure><p id="c596" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是类变量前的“this”关键字是什么呢？</p><p id="8b2d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我是说这个武器名，就像你创建的类的实例一样，将等于你传入的任何参数。</p><p id="b771" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">回到玩家类，我将使用这个构造函数创建一个我的手枪和狙击手的实例，而不是像我之前展示的那样。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lj"><img src="../Images/bd8c05232b7d3bc8d54570d3aee84028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*htJt_nkLbmVwZWq87Y0GXg.png"/></div></div></figure><p id="a08a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里有一个错误，告诉我现在需要向这些参数传递值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/0733ed27c6635164200a5f62ae90b0d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*9lYs-ueoMQAmiK4t0FRKGA.png"/></div></figure><p id="f229" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">更干净，打字更快。也更容易阅读。</p><p id="62fd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我也可以创建多个构造函数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ll"><img src="../Images/fdffd5ec17fa788bcc08d714e3550dcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UhThUpfcAUxrRkSXjLYKYg.png"/></div></div></figure><p id="28ed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里我添加了一个没有参数的构造函数和一个只有武器名称字符串的构造函数。</p><p id="4fac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">回到我的玩家脚本，每当我创建一个武器类的新实例时，我现在有多个选项。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/578372657976d6d2a8af91514fe698ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*iaT5VPh2ZpZQ4EzBVbOMQQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ln"><img src="../Images/e3d95da2ff8840045721eb9c5fd6fcea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*T7m1SBLkD50zA4R3SvKXDw.gif"/></div></div></figure><p id="c514" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所有这些现在都是我可以实例化一个新的武器对象的方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/891d422e80adb0ad3961989b8655a11a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*v0r4PYArJ_1_qw5QWBWWXA.png"/></div></figure><p id="23c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望这有助于你理解构造函数以及它们的一些好处。如果你有任何想法或问题，请随意评论。让我们制作一些令人敬畏的游戏！T3】</p></div></div>    
</body>
</html>