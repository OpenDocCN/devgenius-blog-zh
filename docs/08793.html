<html>
<head>
<title>Android Logging in a better way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以更好的方式登录 Android</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/android-logging-in-a-better-way-2d65bd515404?source=collection_archive---------8-----------------------#2022-07-11">https://blog.devgenius.io/android-logging-in-a-better-way-2d65bd515404?source=collection_archive---------8-----------------------#2022-07-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2d8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">登录 Android Studio 的有效方式</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/a5c4ad3b6aa8e16ee4e00415a19790b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cVU4bTWD2uNAss5Z87v8ew.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">图片来源:<a class="ae lb" href="http://pexels.com" rel="noopener ugc nofollow" target="_blank">Pexels.com</a>作者:<a class="ae lb" href="https://www.pexels.com/photo/man-holding-mug-in-front-of-laptop-842548/" rel="noopener ugc nofollow" target="_blank">安德里亚·皮亚卡迪奥</a></figcaption></figure><h2 id="e631" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated"><strong class="ak">什么是测井？</strong></h2><blockquote class="lv lw lx"><p id="bbd9" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated">日志将出现在 Android Studio 的 Logcat 窗口中，显示系统消息，如垃圾收集发生时，以及您使用<code class="fe mc md me mf b"><a class="ae lb" href="https://developer.android.com/reference/android/util/Log" rel="noopener ugc nofollow" target="_blank">Log</a></code>类添加到应用程序的消息。它实时显示消息，并保留历史记录，以便您可以查看旧消息。</p></blockquote><p id="a7b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在构建 Android 应用程序时，作为 Android 开发人员，我们在代码中放入了大量日志。<code class="fe mc md me mf b">Log</code>该类提供了 5 个优先级，可以根据我们的要求过滤出代码。这些级别是</p><ul class=""><li id="b9a4" class="mg mh iq jp b jq jr ju jv jy mi kc mj kg mk kk ml mm mn mo bi translated"><code class="fe mc md me mf b">Log.v()</code></li><li id="2712" class="mg mh iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><code class="fe mc md me mf b">Log.d()</code></li><li id="c406" class="mg mh iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><code class="fe mc md me mf b">Log.i()</code></li><li id="9800" class="mg mh iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><code class="fe mc md me mf b">Log.e()</code></li><li id="e6eb" class="mg mh iq jp b jq mp ju mq jy mr kc ms kg mt kk ml mm mn mo bi translated"><code class="fe mc md me mf b">Log.w()</code></li></ul><p id="8073" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，如果我们想要在 Logcat 中显示日志，那么我们需要调用<code class="fe mc md me mf b">Log.e(TAG, "message)</code>，在这种情况下，我们想要显示一个错误。这通常在 Android studio 的 Logcat 窗口中以红色显示。</p><p id="87f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上述方法的问题是每次你写日志时都有<code class="fe mc md me mf b">TAG</code>的需求，这在某些时候变得很烦人。首先，你可以将<code class="fe mc md me mf b">TAG</code>作为<code class="fe mc md me mf b">const val TAG = "MyApp"</code>放在类的顶部，但是你需要在每个类中都提到它，或者你必须将它添加到<code class="fe mc md me mf b">Utils.kt</code>中。有一些库解决了在 tag 方法中添加 TAG 的问题。</p><p id="9c7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将在不使用任何外部库的情况下实现一种更好的日志记录方法，并且调用 log 方法将会很容易。此外，在发布模式下我们不需要日志，它也会被处理。</p><p id="7aa4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，您需要在您的<code class="fe mc md me mf b">utils</code>包中创建一个文件。它可以被命名为<code class="fe mc md me mf b">LogUtils.kt</code>，你只需要粘贴下面的代码。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">LogUtils.kt</figcaption></figure><p id="c6c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在 LogUtils.kt 文件中，有三个公共方法将在您的项目中使用。</p><p id="ede8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了创建这个 Utils 类，我使用了<code class="fe mc md me mf b">Log.e(TAG, "message")</code>。主要原因是它用红色突出显示我们的日志，在调试时很容易识别。您可以随意使用任何优先级。</p><h2 id="b151" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">如何使用<code class="fe mc md me mf b">showLog(“message”)</code>方法？</h2><p id="1488" class="pw-post-body-paragraph jn jo iq jp b jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk ij bi translated"><code class="fe mc md me mf b">showLog("message")</code>采用两个参数，一个参数用于消息，另一个参数用于标记名。默认情况下，<code class="fe mc md me mf b">TAG</code>是预定义的，因此您不需要每次都传递它。在某些情况下，我们需要根据特定代码行的用途来更改标记名，在这种情况下，标记是可以更改的。</p><p id="6307" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">示例- </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">PortfolioFragment.kt</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nb"><img src="../Images/0d9ca5c41f5ec82587bc8dcaf8df7bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6mq_3VSdBNHv2Theq3K5DA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Pic 鸣谢:安卓工作室</figcaption></figure><p id="bf05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在 Android studio 的截图中，您可以看到我们的方法生成的日志看起来像什么。因为我们已经设置了错误的优先级，所以它用红色突出显示。</p><p id="b3d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过这个，你就知道如何用一种简单的方式进行日志记录了。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="be27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以用上面的方法来得到简单的消息，而不是针对异常和 Throwables。如何从异常和抛出异常中获取日志？</p><p id="4f68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为此，我们使用了<code class="fe mc md me mf b">Extension</code>函数概念的概念，用<code class="fe mc md me mf b">showLog()</code>扩展了<code class="fe mc md me mf b">Exception</code>。如果你看到文件中的<code class="fe mc md me mf b">LogUtils.kt</code>，你会看到另外两个基本上是扩展函数的方法，它们将用于异常和 Throwable。</p><h2 id="8070" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">如何在我们的代码中使用<code class="fe mc md me mf b">Exception.showLog() or Throwable.showLog() </code>？</h2><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3ac3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需要在异常的地方添加<code class="fe mc md me mf b">e.showLog()</code>，你会以相似的方式使用相同的方法名得到异常。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="fb97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">综上所述，<code class="fe mc md me mf b">LogUtils.kt</code>将让您有可能从一个地方管理日志记录，这肯定会增强您的日志记录体验。该条件已经放入代码中，因此该日志仅在应用程序处于<code class="fe mc md me mf b">Debug</code>模式时有效。</p><h2 id="15b1" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">结论</h2><p id="f88b" class="pw-post-body-paragraph jn jo iq jp b jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk ij bi translated">仅此而已！我希望你这次学到了一些有用的东西，同时也能在开发 Android 应用程序的时候提升你的登录体验。如果有任何疑问，请写下来，我很乐意解决您的疑问。</p><p id="6bd9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">查看我的其他文章</p><div class="nj nk gp gr nl nm"><a href="https://betterprogramming.pub/5-useful-kotlin-extensions-for-android-developers-485f7c9ad7e8" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">Android 开发者的 5 个有用的 Kotlin 扩展</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">Kotlin extensions 将在构建 Android 应用程序时节省您的时间</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">better 编程. pub</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa kv nm"/></div></div></a></div><div class="nj nk gp gr nl nm"><a href="https://betterprogramming.pub/using-jetpack-preferences-datastore-more-effectively-414e1126cff7" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">如何使用 Jetpack 首选项数据存储</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">SharedPreferences 的替换在这里</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">better 编程. pub</p></div></div><div class="nv l"><div class="ob l nx ny nz nv oa kv nm"/></div></div></a></div></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><div class="km kn ko kp gt nm"><a href="https://codes-prateek.medium.com/membership" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">用我的推荐链接- Prateek 加入媒体</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">codes-prateek.medium.com</p></div></div><div class="nv l"><div class="oc l nx ny nz nv oa kv nm"/></div></div></a></div></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="272e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢，干杯！</p></div></div>    
</body>
</html>