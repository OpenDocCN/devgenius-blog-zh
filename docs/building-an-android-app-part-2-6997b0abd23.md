# 构建 Android 应用程序——第 2 部分

> 原文：<https://blog.devgenius.io/building-an-android-app-part-2-6997b0abd23?source=collection_archive---------5----------------------->

欢迎来到我的构建 Android 应用系列，在这里我记录了我使用 Android SDK、 [Android Studio](https://developer.android.com/studio) 和 [Kotlin](https://developer.android.com/kotlin) 等原生技术构建 Android 应用的经历。

![](img/4468d979b402112ca191dbb90de8f44a.png)

由[克里斯多佛·高尔](https://unsplash.com/@cgower?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的照片

下面是第一个[部分](https://medium.com/dev-genius/building-an-android-app-part-1-b2d962a34164)。

在这一部分，我将介绍构建任何应用程序最关键部分的基础——UI。我将谈到我用来构建我的应用程序的方法，并描述 Android Studio 默认提供的项目组织的最重要的基础知识。

# 整体情况

在我们进入构建应用程序的用户界面(UI)的细节之前，我们需要后退一步，想想我们的最终用户界面会喜欢什么。有不同的方法可以做到这一点——我们可以把它画在纸上，或者创建一个线框，等等。就我而言，我主要是在纸上画出草图——这给了我一种与应用程序更加“连接”的感觉。但是在我们开始描绘屏幕之前，我们需要首先想出屏幕是什么——主页、详细页面、设置、对话框等等。这项活动将让我们对应用程序的组成有一个大致的了解。这个列表并不是一成不变的，我们可以随时回来编辑它。

就我的应用程序而言，我现在基本上有以下屏幕:

*   主页——显示所有创建的购物清单
*   创建列表—用户可以在其中选择他想要创建列表的项目
*   查看列表—用户可以在创建的列表中查看项目
*   项目数量对话框—允许用户输入所选项目的数量
*   列表名称对话框—允许用户输入其列表的名称
*   帮助-包含应用程序使用说明的帮助页面

# 方法

现在我们已经有了一个我们希望在应用程序中使用的屏幕的初步列表，是时候开始构建一个了。现在，团队和开发人员采取了不同的方法:

*   用存根构建所有的屏幕
*   一次构建一个流-这包括要素/流的完整堆栈。一个完整的堆栈通常由 UI、数据类、屏幕所需的业务逻辑、数据库等组成。

遵循哪种方法通常取决于开发团队是如何设置的。如果有一个由应用程序开发不同方面的专家组成的团队，每个开发人员可以专注于他的专业领域，如 UI、后端逻辑、数据库等。由于我没有一个团队来并行处理我的应用程序的不同方面，我通常遵循基于流程的方法。这让我可以把注意力集中在必要的事情上。让我们从最简单的屏幕开始——主页。

# 代码组织

现在，当我们谈论 UI 屏幕时，它不仅仅是一个空白区域。一个屏幕有多个方面——UI 控件(文本框、文本、按钮、复选框等。)、款式(颜色、大小、布局等。)、交互(听众、事件等。).在基于 Android Studio + SDK 的方法中，所有这些方面都在不同的文件中定义:

*   layout/activity_main.xml —在活动中声明 UI 元素的 xml 文件
*   values/colors . xml-定义应用程序中使用的不同颜色的 XML 文件
*   values/strings . xml-定义应用程序中使用的各种文本的 XML 文件
*   values/themes . xml-定义应用程序中使用的各种样式的 XML 文件
*   MainActivity.kt — Kotlin 源文件，用于为 activity_main.xml 文件中声明的 UI 元素定义业务逻辑和事件处理程序代码

拥有如此多不同类型文件的原因很明显——关注点的分离。通过将 UI 布局文件从处理程序代码中分离出来，我们现在可以独立地对这些文件进行更改。代码的整体组织也变得非常清晰，因为我们很少需要摆弄处理程序代码文件中的 UI 布局。通过分离样式、字符串、颜色、形状、尺寸等方面，Android 提供了一种非常干净的方式来组织应用程序的不同方面。

像 Flutter 这样的框架采用了不同的方法——布局、UI 元素、样式和处理程序代码都写在一个 Dart 文件中。虽然它有它的长处；我们可以在单个文件中看到单个屏幕/小部件的所有方面。在这种情况下，开发人员必须有意识地将各个方面分开组织。在大多数情况下，这甚至是不可能的。例如，Flutter 中的基本元素是一个“小部件”,通常的做法是将小部件的所有方面——布局、样式和处理程序代码——打包到每个小部件的单独 Dart 文件中。

到目前为止，我们已经学习了构建应用程序的各个方面——大图、方法和代码组织。这主要是理论和枯燥，但我相信理解这些概念会为我们构建更多的应用程序打下良好的基础。在本系列的下一部分，我们将使用上面列出的大部分文件来构建主屏幕。

快乐大厦，干杯！