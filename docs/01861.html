<html>
<head>
<title>Game Design with Flyweight Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于轻量级模式的游戏设计</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/game-design-with-programming-patterns-flyweight-6914f1cc4772?source=collection_archive---------12-----------------------#2020-07-13">https://blog.devgenius.io/game-design-with-programming-patterns-flyweight-6914f1cc4772?source=collection_archive---------12-----------------------#2020-07-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8c80" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">数字游戏素材</h2></div><blockquote class="kc kd ke"><p id="3ad3" class="kf kg kh ki b kj kk jo kl km kn jr ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">这是游戏设计与编程模式系列的第二篇文章，着眼于编程的游戏设计方面。这个系列的互动部分可以在这里找到:<a class="ae lc" href="https://ovenfresh.itch.io/a-game-designers-thoughts-on-programming-patterns" rel="noopener ugc nofollow" target="_blank"/>【https://ovenfresh.itch.io/design-with-patterns】T2</p></blockquote><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ld"><img src="../Images/c1c6b7d637138224a745441fbee974d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*254tG7ifMD7nS4O5"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">只是没什么分量。Unsplash @ lamoune</figcaption></figure><h1 id="4e96" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">是什么格局？</h1><p id="be72" class="pw-post-body-paragraph kf kg in ki b kj ml jo kl km mm jr ko mn mo kr ks mp mq kv kw mr ms kz la lb ig bi translated">Flyweight 模式是一种数据组织模式，其中一组共享数据存储在一个对象中。其他对象在需要时会引用这一段数据。Flyweight 减少了重复，通过改变一组数据来改变一堆对象变得更加容易。这对于一组静态的数据属性特别有用。这是一种节省内存的模式，有助于组织对象属性，因为这些属性一旦创建就不会更改。</p><h1 id="4b82" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">我如何使用它</h1><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi mt"><img src="../Images/a89be9e71fc8c1cd054342479b4e3752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-g-na7DNHgAyvFf8t5D9Gg.gif"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">从 flyweight 对象获取其属性的立方体平面图</figcaption></figure><p id="c1a4" class="pw-post-body-paragraph kf kg in ki b kj kk jo kl km kn jr ko mn kq kr ks mp ku kv kw mr ky kz la lb ig bi translated">Flyweight 创建共享属性，因此它适用于对象具有内在属性的情况。这里，一个“地形”生成工具创建了一个地形对象的底图。每个对象指的是一个共享数据对象。点击“应用”按钮告诉立方体使用它们的 Flyweight 属性进行组装。颜色、高度和类型等属性都存储在三个 Flyweight 对象之一中。当应用时，它创建三种不同类型的地形，即使任何给定的立方体只引用回 Flyweights。内存节省来自于在 Flyweight 上保留这些属性，保持总的内存成本不变。</p><h1 id="cb5e" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">设计印象</h1><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">实际上保存在我的 Flyweight 中的数据</figcaption></figure><p id="5e01" class="pw-post-body-paragraph kf kg in ki b kj kk jo kl km kn jr ko mn kq kr ks mp ku kv kw mr ky kz la lb ig bi translated">Flyweight 引入了内在和外在属性的概念，即共享和唯一的属性。存储在 flyweight 对象中的数据可以被认为是那个东西的固有属性。材料属性、调色板和对话线等都是 flyweight 数据的可行候选对象。一张扑克牌的纹理、大小和重量在一副牌中的所有牌之间共享，并且适合作为轻量级数据。然而，卡在谁的手中将是外在的和唯一的数据。通过这种方式，flyweight 创造了一种数字材料，有助于区分一个东西是什么以及它的独特之处。它几乎就像一个数字材料。</p><h1 id="23be" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">前进</h1><p id="0452" class="pw-post-body-paragraph kf kg in ki b kj ml jo kl km mm jr ko mn mo kr ks mp mq kv kw mr ms kz la lb ig bi translated">在设计和实现之间，这种模式严重依赖于实现。Flyweight 是一种内存效率模式。它有助于加强一致性，而不是创造实验。当你开始为一个游戏设计几个对象时，flyweight 模式很自然地将它们组织成明确定义的类型。这使得 flyweight 在设计修改中比在原型开发中更有价值。应用这种模式，游戏的数据可以很好地组织成轻量级的，为重新访问和改进现有的工作留下了坚实的清晰的基础。</p><p id="f178" class="pw-post-body-paragraph kf kg in ki b kj kk jo kl km kn jr ko mn kq kr ks mp ku kv kw mr ky kz la lb ig bi translated"><strong class="ki io">先前:</strong><a class="ae lc" href="https://medium.com/dev-genius/a-game-designers-thoughts-on-programming-patterns-command-pattern-4f6329f9b30d" rel="noopener">T3】命令 T5】</a></p><p id="b8d9" class="pw-post-body-paragraph kf kg in ki b kj kk jo kl km kn jr ko mn kq kr ks mp ku kv kw mr ky kz la lb ig bi translated"><strong class="ki io">接下来:</strong> <a class="ae lc" href="https://medium.com/@jasonzhenli/game-design-with-component-pattern-2e79c9a62221" rel="noopener"> <strong class="ki io">组件</strong> </a></p><p id="e214" class="pw-post-body-paragraph kf kg in ki b kj kk jo kl km kn jr ko mn kq kr ks mp ku kv kw mr ky kz la lb ig bi translated"><strong class="ki io">代码</strong>:<a class="ae lc" href="https://github.com/jasonzli/game-programming-study" rel="noopener ugc nofollow" target="_blank">https://github.com/jasonzli/game-programming-study</a></p><p id="692c" class="pw-post-body-paragraph kf kg in ki b kj kk jo kl km kn jr ko mn kq kr ks mp ku kv kw mr ky kz la lb ig bi translated"><strong class="ki io">参考:</strong>游戏编程模式，<em class="kh"> Nystrom，Robert 2014</em><a class="ae lc" href="http://gameprogrammingpatterns.com/flyweight.html" rel="noopener ugc nofollow" target="_blank">【http://gameprogrammingpatterns.com/flyweight.html】T21</a></p></div></div>    
</body>
</html>