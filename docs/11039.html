<html>
<head>
<title>What and Why of Azure Durable Function?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure 持久功能是什么，为什么？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-and-why-of-azure-durable-function-27dd8f4ab7d6?source=collection_archive---------14-----------------------#2022-12-14">https://blog.devgenius.io/what-and-why-of-azure-durable-function-27dd8f4ab7d6?source=collection_archive---------14-----------------------#2022-12-14</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><p id="820b" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">在过去几天写了传统的 Azure 函数之后，我想花一些时间在 Azure 持久函数上。在本文中，我将只讨论持久函数的理论部分。本文的议程如下:</p><ol class=""><li id="e5b1" class="kn ko ir jq b jr js jv jw jz kp kd kq kh kr kl ks kt ku kv bi translated">Azure 持久功能是什么，为什么</li><li id="aefd" class="kn ko ir jq b jr kw jv kx jz ky kd kz kh la kl ks kt ku kv bi translated">设计模式</li></ol><h1 id="8e99" class="lb lc ir bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">什么是 Azure 持久功能？</h1><p id="6637" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">Azure 持久函数是 Azure 函数的扩展。它有助于在编排功能和活动的帮助下实现工作流，同时始终保持状态。即使持久函数是有状态的，它们也不是一直处于活动模式。因此，持久功能遵循与传统 azure 功能相同的定价模型，企业所有者按使用付费。</p><h2 id="0e71" class="me lc ir bd ld mf mg dn lh mh mi dp ll jz mj mk lp kd ml mm lt kh mn mo lx mp bi translated">编排功能</h2><p id="6025" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">编排有助于管理和配置复杂的独立自动化任务来实现工作流。编排不同于自动化。自动化消除了在软件程序的帮助下完成任务的人工干预，但是编排是关于管理多个自动化来实现工作流。</p><p id="0efb" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">编排功能是持久功能的入口点，它调用几个活动。</p><h2 id="4d81" class="me lc ir bd ld mf mg dn lh mh mi dp ll jz mj mk lp kd ml mm lt kh mn mo lx mp bi translated">活动</h2><p id="5c89" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">活动是 azure 的功能，它将独立的任务作为复杂工作流的一部分进行管理。orchestrator 函数调用活动来实现工作流。</p></div><div class="ab cl mq mr hv ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ik il im in io"><h1 id="806a" class="lb lc ir bd ld le mx lg lh li my lk ll lm mz lo lp lq na ls lt lu nb lw lx ly bi translated">为什么选择 Azure 耐久函数？</h1><p id="4bd8" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">与典型的 azure 函数相比，使用 Durable 函数的一些好处如下:</p><ol class=""><li id="0c5a" class="kn ko ir jq b jr js jv jw jz kp kd kq kh kr kl ks kt ku kv bi translated">管理复杂的工作流程</li><li id="8134" class="kn ko ir jq b jr kw jv kx jz ky kd kz kh la kl ks kt ku kv bi translated">重试、超时和取消功能</li><li id="8de3" class="kn ko ir jq b jr kw jv kx jz ky kd kz kh la kl ks kt ku kv bi translated">并行处理</li><li id="bf1a" class="kn ko ir jq b jr kw jv kx jz ky kd kz kh la kl ks kt ku kv bi translated">状态管理</li><li id="9004" class="kn ko ir jq b jr kw jv kx jz ky kd kz kh la kl ks kt ku kv bi translated">消费定价模型</li></ol></div><div class="ab cl mq mr hv ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ik il im in io"><h1 id="ad93" class="lb lc ir bd ld le mx lg lh li my lk ll lm mz lo lp lq na ls lt lu nb lw lx ly bi translated">设计模式</h1><h2 id="ca4e" class="me lc ir bd ld mf mg dn lh mh mi dp ll jz mj mk lp kd ml mm lt kh mn mo lx mp bi translated">函数链接</h2><p id="76e0" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">这是最简单的模式。orchestrator 函数按顺序调用活动。一个活动功能的输出是链中下一个活动功能的输入。</p><figure class="nd ne nf ng gu nh gi gj paragraph-image"><div class="gi gj nc"><img src="../Images/e09c097ebff6f249a340991834673741.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*JzjXfB1zd5TRmQLWvr0Iiw.png"/></div></figure><h2 id="0315" class="me lc ir bd ld mf mg dn lh mh mi dp ll jz mj mk lp kd ml mm lt kh mn mo lx mp bi translated">扇出/扇入</h2><p id="b2af" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">在这种模式下，您可以并行运行函数。一旦所有并行运行的功能完成执行，orchestrator 就可以聚合数据并将输出提供给下一个功能。</p><p id="1e4d" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">这种设计模式可能有两种变体。</p><ol class=""><li id="3f88" class="kn ko ir jq b jr js jv jw jz kp kd kq kh kr kl ks kt ku kv bi translated"><strong class="jq is">同一活动的不同实例</strong></li></ol><p id="e856" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">这种模式在编排成批处理大量积压工作的情况下会很有帮助。</p><figure class="nd ne nf ng gu nh gi gj paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gi gj nk"><img src="../Images/d9cb112d241912e4ee1814c16c7a0388.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B5JdrhRy-Wlea3f3JicgxQ.png"/></div></div></figure><p id="910e" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated"><strong class="jq is"> 2。并行运行的独立活动</strong></p><p id="184b" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">如果我们需要为批准触发不同的自动化，这种设计模式会很有帮助。这些批准可以并行进行，每种批准的逻辑都是独特的。</p><figure class="nd ne nf ng gu nh gi gj paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gi gj np"><img src="../Images/d7143f6f508ef00bed845fee1debca6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uRRBRciHCgU9YJUEVRihwA.png"/></div></div></figure><h2 id="bc40" class="me lc ir bd ld mf mg dn lh mh mi dp ll jz mj mk lp kd ml mm lt kh mn mo lx mp bi translated">异步 HTTP Apis</h2><p id="2704" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">在异步 HTTP APIs 的帮助下，我们可以监控长期运行的编排功能的状态，并在所有处理结束后返回响应。</p><figure class="nd ne nf ng gu nh gi gj paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gi gj np"><img src="../Images/8e5c9f545182812f69e75d7af7334917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0qVIdaSAzXS3nCO647UFnw.png"/></div></div></figure><h2 id="79a1" class="me lc ir bd ld mf mg dn lh mh mi dp ll jz mj mk lp kd ml mm lt kh mn mo lx mp bi translated">班长</h2><p id="8c33" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">顾名思义，这种设计模式可以帮助监控活动，并在活动结束后采取行动。</p><figure class="nd ne nf ng gu nh gi gj paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gi gj np"><img src="../Images/ae0817b2945fe95881dacb2ea098744f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SPPp0Z1BDq-xQBmCzne9og.png"/></div></div></figure><h2 id="96fe" class="me lc ir bd ld mf mg dn lh mh mi dp ll jz mj mk lp kd ml mm lt kh mn mo lx mp bi translated">人际互动</h2><p id="9211" class="pw-post-body-paragraph jo jp ir jq b jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh md kj kk kl ik bi translated">顾名思义，编排功能的进度取决于人工干预。</p><figure class="nd ne nf ng gu nh gi gj paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gi gj np"><img src="../Images/5e9d287d91c4a907559caffd3b1613e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UzMj1WzUuQc-tpcZ-epAmA.png"/></div></div></figure></div><div class="ab cl mq mr hv ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ik il im in io"><p id="6086" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">页（page 的缩写）s-Medium 是一个阅读、写作和向其他作者学习的绝佳平台。如果你想加入我的旅程，今天就加入<a class="ae km" href="https://tarunbhatt9784.medium.com/membership" rel="noopener"> medium </a>。</p></div></div>    
</body>
</html>