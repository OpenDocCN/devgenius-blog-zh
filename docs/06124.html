<html>
<head>
<title>Golang in sixty seconds — named return values</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">六十秒内的戈朗——命名返回值</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/golang-in-sixty-seconds-named-return-values-1f2eabaef4e2?source=collection_archive---------18-----------------------#2021-12-14">https://blog.devgenius.io/golang-in-sixty-seconds-named-return-values-1f2eabaef4e2?source=collection_archive---------18-----------------------#2021-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/7227b106a068969317723d92ab5efdd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*SeX-QUe3IYJw3QbakFp_JA.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">由<a class="ae jy" href="https://www.flickr.com/people/94599716@N06" rel="noopener ugc nofollow" target="_blank">特拉维斯·怀斯</a></figcaption></figure><p id="4365" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">命名返回值正是它们听起来的样子。您可以实际命名正在返回的值，而不仅仅是在您的函数上有一个返回类型。让我给你看一个简单的例子:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="0b66" class="lg lh iq lc b gy li lj l lk ll">func sumValues(vals []int) (total int) {<br/>  for _, v := range vals {<br/>    total += v<br/>  }<br/>  return<br/>}</span></pre><p id="9890" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">好处主要是可读性。您可以清楚地知道函数应该返回什么。您可能会注意到上面代码块中的一些奇怪的东西:</p><ol class=""><li id="67c4" class="lm ln iq kb b kc kd kg kh kk lo ko lp ks lq kw lr ls lt lu bi translated"><code class="fe lv lw lx lc b">total</code>变量似乎未定义。这是因为变量实际上是通过将它作为一个命名的返回值来创建的<code class="fe lv lw lx lc b">nil</code>值(在本例中为<code class="fe lv lw lx lc b">0</code>)。</li><li id="3c4c" class="lm ln iq kb b kc ly kg lz kk ma ko mb ks mc kw lr ls lt lu bi translated">返回值之后什么都没有。这被称为“裸返回”，Go知道返回变量<code class="fe lv lw lx lc b">total</code>。建议您只对小函数使用裸返回，因为较长的函数会失去可读性。</li></ol><p id="ef4e" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">我发现命名返回值对于上面的例子非常有用，在这个例子中，你不需要在函数的开始定义一个<code class="fe lv lw lx lc b">nil</code>值变量。您可以在这里<a class="ae jy" href="https://go.dev/play/p/XKm-q_ioPE0" rel="noopener ugc nofollow" target="_blank"/>试试上面的例子。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><p id="1e32" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">更多<a class="ae jy" href="https://richard-t-bell90.medium.com/list/golang-in-sixty-seconds-7a26c5131734" rel="noopener">戈朗在六十秒</a></p><p id="89ee" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><a class="ae jy" href="https://richard-t-bell90.medium.com/membership" rel="noopener"> <em class="mk">无限制获取介质</em> </a></p><p id="29e8" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><a class="ae jy" href="https://ko-fi.com/richardtbell" rel="noopener ugc nofollow" target="_blank"> <em class="mk">如果你喜欢这篇文章，请给我买杯咖啡:</em></a><em class="mk"/></p></div></div>    
</body>
</html>