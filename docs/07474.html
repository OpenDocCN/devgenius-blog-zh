<html>
<head>
<title>GGplot2 Crash Course: Linegraph</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GGplot2 速成班:线图</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/ggplot2-crash-course-linegraph-36fadf5c7991?source=collection_archive---------6-----------------------#2022-03-28">https://blog.devgenius.io/ggplot2-crash-course-linegraph-36fadf5c7991?source=collection_archive---------6-----------------------#2022-03-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/0e4a2324dbf0773b872870ee33c56f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*tMHvRCV16BFoJbU2F-o3rw.png"/></div></figure><h1 id="c390" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">我应该使用线条图吗？</h1><p id="248d" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">只要记住这一点:</p><p id="34fa" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated"><em class="ls">当 x 轴上的变量遵循连续的自然顺序(例如:小时、天、周、年等)时，折线图展示了两个连续变量之间的关系。)</em></p><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/35a436d7f8e6fa44ab1ece0bea85766d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*AywptO6oQ1rAaG6e"/></div></figure></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="6a94" class="jr js in bd jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko bi translated">数据和库导入</h1><h2 id="9593" class="mk js in bd jt ml mm dn jx mn mo dp kb la mp mq kf le mr ms kj li mt mu kn mv bi translated">加载库</h2><p id="ba14" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">让我们通过再次探索<code class="fe mw mx my mz b">gapminder</code>数据集来开始我们的教程。首先，我们需要导入以下库。如果您没有安装它们，请在您的 R 中尝试这个命令，您就可以开始了！</p><pre class="lu lv lw lx gt na mz nb nc aw nd bi"><span id="34ca" class="mk js in mz b gy ne nf l ng nh">install.packages("<strong class="mz io"><em class="ls">#your not yet installed library name</em></strong>")</span></pre><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="d971" class="mk js in bd jt ml mm dn jx mn mo dp kb la mp mq kf le mr ms kj li mt mu kn mv bi translated">数据探索和简单线图</h2><p id="1b2d" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">一旦导入了所有列出的库，<code class="fe mw mx my mz b">gapminder</code>数据集就应该加载到环境中了。您可以使用<code class="fe mw mx my mz b">glimpse()</code>开始您的初始数据探索。让我们通过探索加拿大人口随时间的变化来制作我们的第一个线图</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/3dbea775cd97708e6e74ed275df3374b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*My1FRRjdw4GtxuvlHpfAFA.png"/></div></figure><blockquote class="nl nm nn"><p id="c381" class="kp kq ls kr b ks ln ku kv kw lo ky kz no lp lc ld np lq lg lh nq lr lk ll lm ig bi translated">嗯，有意思…但是这还没完成，有什么方法可以改进吗？</p></blockquote><p id="0168" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">绝对的！我们还可以编辑线型，添加更多的点，改变颜色，并重写 y 轴上的单位！</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="776c" class="jr js in bd jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko bi translated">更改颜色、线型和轴单位</h1><h2 id="dece" class="mk js in bd jt ml mm dn jx mn mo dp kb la mp mq kf le mr ms kj li mt mu kn mv bi translated">选择颜色和线型</h2><p id="b17b" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">您可以通过<code class="fe mw mx my mz b">color</code>参数在<code class="fe mw mx my mz b">geom_line()</code>中选择您想要的颜色。您也可以使用<code class="fe mw mx my mz b">linetype</code>参数自由选择不同的线型。此处提供了更多选项<a class="ae nr" href="http://www.sthda.com/english/wiki/ggplot2-line-types-how-to-change-line-types-of-a-graph-in-r-software" rel="noopener ugc nofollow" target="_blank">。你可以通过改变<code class="fe mw mx my mz b">size</code>来改变线条的粗细。总而言之:</a></p><p id="f0b7" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated"><code class="fe mw mx my mz b">color</code>:线条颜色</p><p id="6f62" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated"><code class="fe mw mx my mz b">linetype</code>:不同类型的线</p><p id="ecb9" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated"><code class="fe mw mx my mz b">size</code>:线宽</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/fc065a519ccac424446c7e0b781ee6bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*ssPuBOrUkHgXjag9QIPo-A.png"/></div></figure><h2 id="08a5" class="mk js in bd jt ml mm dn jx mn mo dp kb la mp mq kf le mr ms kj li mt mu kn mv bi translated">添加点</h2><p id="f9f0" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">有时最好将线图与数据点结合起来。要实现这一点，只需通过<code class="fe mw mx my mz b">geom_point()</code>就可以了。您也可以更改数据点的颜色和大小。</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/c3c835b02c0c8c915fe0719be40f2dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*HMkAKiy3PYpuubZ4qfxy_g.png"/></div></figure><h2 id="c4ad" class="mk js in bd jt ml mm dn jx mn mo dp kb la mp mq kf le mr ms kj li mt mu kn mv bi translated">更改轴标签</h2><p id="d280" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">在一个情节上阅读科学符号肯定是困难的。幸运的是，有一种方法可以改变这一点。我们可以使用百万米作为我们的 y 轴单位，使其更具可读性。</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/64b2315dd022f0dad857827533b961f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*FoT10b-KX6lSMYYi7iM15g.png"/></div></figure></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="203e" class="jr js in bd jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko bi translated">添加标题、副标题、题注和主题</h1><p id="5d8e" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">现在我们已经为我们的线图打下了良好的基础。下一步是进一步修饰我们的图表。让我们为它添加一个标题、副标题、题注和一个视觉上令人愉悦的主题！</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/4c1410a5eabe048a918ad8322ade8578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*qfmR58cBaxfVghupFZhWpg.png"/></div></figure><blockquote class="nl nm nn"><p id="497b" class="kp kq ls kr b ks ln ku kv kw lo ky kz no lp lc ld np lq lg lh nq lr lk ll lm ig bi translated">太棒了。但是如果我想在同一个地块上展示多条线呢，可行吗？</p></blockquote><p id="0a04" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">当然可以！让我们在下一部分直接进入这个话题吧！</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="f8ea" class="jr js in bd jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko bi translated">同一地块上的多条线</h1><p id="60a0" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">要在同一个图上显示多条线，可以使用数据<code class="fe mw mx my mz b">aes()</code>层中的<code class="fe mw mx my mz b">group</code>参数。让我们转换话题，比较一下<em class="ls">南非</em>、<em class="ls">墨西哥</em>、<em class="ls">法国</em>和<em class="ls">印度</em>的预期寿命。</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/68c218428ef7b1156890b4f0ca6350fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*SoD7PCmZ0b-huwZn5AdRQA.png"/></div></figure><blockquote class="nl nm nn"><p id="9686" class="kp kq ls kr b ks ln ku kv kw lo ky kz no lp lc ld np lq lg lh nq lr lk ll lm ig bi translated">哇，太迷人了！但是我们能把数字值(这里是预期寿命)加到线图上吗？</p></blockquote><p id="bc90" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">我们当然可以！有两种方法可以做到！我们可以添加文本或标签。让我给你们俩看看！</p><h2 id="3077" class="mk js in bd jt ml mm dn jx mn mo dp kb la mp mq kf le mr ms kj li mt mu kn mv bi translated">添加文本</h2><p id="eeb5" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">你可以简单地添加<code class="fe mw mx my mz b"> gemo_text()</code>层。这里不讨论细节(不是本教程的目标)，但是可以随意调整并自己探索！</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/e67a25f6bd865c7bc4b40fee990f91dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iAJfYNjKJlPgUK8U3wMcfg.png"/></div></div></figure><h2 id="6d7b" class="mk js in bd jt ml mm dn jx mn mo dp kb la mp mq kf le mr ms kj li mt mu kn mv bi translated">添加标签</h2><p id="0668" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">添加<code class="fe mw mx my mz b">geom_label()</code>层，并根据你的意愿调整所有属性！</p><figure class="lu lv lw lx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi nx"><img src="../Images/95e1f8db3830dcce30cc68c985bba6d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WSjlDYHa-XAmq65ftaAjIA.png"/></div></div></figure><p id="4e04" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">现在，将您所学到的知识应用到您自己的数据分析中！编码快乐！</p></div></div>    
</body>
</html>