<html>
<head>
<title>Stream Data from MSSQL to Anodot using Apache NiFi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Apache NiFi 将数据从 MSSQL 传输到 Anodot</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/stream-data-from-mssql-to-anodot-using-apache-nifi-3365b8e27ecc?source=collection_archive---------15-----------------------#2022-02-08">https://blog.devgenius.io/stream-data-from-mssql-to-anodot-using-apache-nifi-3365b8e27ecc?source=collection_archive---------15-----------------------#2022-02-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="dd7e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如今，许多公司都希望获得更多关于其数据中心和业务的可见性以及更好、更准确的知识。<br/>向标准监控工具发送数据不再有用。<br/>创建静态警报曾经是每个开发运维/IT 部门的标准。<br/>它给我们一种感觉，我们“知道”这个系统，晚上可以毫无顾虑地睡觉:“如果有事发生，我们会收到警报”</p><p id="0288" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">今天我们知道这并不完全正确。</strong></p><p id="d262" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设你有一个接受客户付款的电子商务网站。<br/>假设一切正常，你平均每小时购买 20 件商品。<br/>您设置了一个带有酷炫可视化的监控工具，并设置了每小时 10 次购买的阈值。<br/>警报将每小时运行一次，并检查您是否从平均每小时 10 次下降。但是——如果下降到平均 12 会怎么样？？？警告不会被发现，但是仍然有一些问题，或者网站的低流量，以及我们能想到的数以百万计的其他原因。</p><h1 id="ca6c" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">输入 Anodot</h1><blockquote class="lg lh li"><p id="193e" class="jk jl lj jm b jn jo jp jq jr js jt ju lk jw jx jy ll ka kb kc lm ke kf kg kh ig bi translated">Anodot 是商业监控领域的行业领导者，这是一种人工智能驱动的方法，使企业能够保护其收入和成本、数字合作伙伴以及受众旅程、体验和参与。</p></blockquote><p id="3737" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Anodot 不仅仅是另一个监控工具。作为一家企业，它可以让你真正了解你数据。它迫使你在不知不觉中更好地了解你自己的业务，并承担起警戒的责任。</p><p id="4ea2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">他们的技术可用于基础设施和业务监控，通过非常先进的异常检测来识别数据中的问题。</p><p id="686a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">回到上面的例子，你(或者你的 NOC/SRE/DevOps)将会收到一个警报，提示系统学习到的数据下降，这是正常的，你需要检查一下。<br/>它还可以对可能表明问题(或自然增长)的异常采购高峰发出警报。</p><p id="f23e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ln" href="https://www.anodot.com/" rel="noopener ugc nofollow" target="_blank"> Anodot </a>有多种<a class="ae ln" href="https://www.anodot.com/integrations/" rel="noopener ugc nofollow" target="_blank">集成</a>接收数据。<br/>来自数据库(MSSQL、雪花、谷歌大查询、亚马逊时间流等..)到云提供商到其他监控工具等等。他们还提供了 python SDK 和 REST API</p><p id="6582" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我将重点介绍 MYSQL 和使用 Apache Nifi 传输数据</p></div><div class="ab cl lo lp hr lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ig ih ii ij ik"><h1 id="2185" class="ki kj in bd kk kl lv kn ko kp lw kr ks kt lx kv kw kx ly kz la lb lz ld le lf bi translated">阿帕奇尼菲</h1><p id="4e03" class="pw-post-body-paragraph jk jl in jm b jn ma jp jq jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh ig bi translated">Apache NiFi 支持强大且可伸缩的数据路由、转换和系统中介逻辑的有向图。Apache NiFi 的一些高级功能和目标包括:</p><ul class=""><li id="78ad" class="mf mg in jm b jn jo jr js jv mh jz mi kd mj kh mk ml mm mn bi translated">基于网络的用户界面<br/>设计、控制、反馈和监控之间的无缝体验</li><li id="27aa" class="mf mg in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated">高度可配置<br/>容错与保证交付<br/>低延迟与高吞吐量<br/>动态优先级<br/>流量可在运行时修改<br/>背压</li><li id="d3b2" class="mf mg in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated">数据来源<br/>从头到尾跟踪数据流</li><li id="3946" class="mf mg in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated">专为扩展而设计<br/>构建您自己的处理器和更多<br/>支持快速开发和有效测试</li><li id="8642" class="mf mg in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated">安全<br/> SSL、SSH、HTTPS、加密内容等...<br/>多租户授权和内部授权/策略管理</li></ul></div><div class="ab cl lo lp hr lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ig ih ii ij ik"><h1 id="53a9" class="ki kj in bd kk kl lv kn ko kp lw kr ks kt lx kv kw kx ly kz la lb lz ld le lf bi translated">建筑激励</h1><p id="7574" class="pw-post-body-paragraph jk jl in jm b jn ma jp jq jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh ig bi translated">当我们第一次开始在我们的系统中集成 Anodot 时，我们选择了编写脚本(使用 Python 提供的 SDK)。<br/>我们很快发现这并不是我们想要走的路。</p><p id="f3a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">需要走一条不同的道路。</p><p id="0279" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要求是什么？很少干预的自动化系统。<br/> 2。从数据库中读取数据(MSSQL)。<br/> 3。保存流状态的能力。</p><p id="59ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该设计必须包括(来自数据库):<br/> *保存已发送数据的状态<br/> *选择“及时返回”来一次又一次地重新发送数据，以便在 Anodot 系统中进行优化。<br/> *易于添加新指标。</p><h1 id="a580" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">让我们看看流程…..</h1><figure class="mu mv mw mx gt my gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi mt"><img src="../Images/573e383ba6a4fb8ff8da5b729bd6d688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31HMXmup1B3Gi8TPQKGLwg.jpeg"/></div></div></figure><p id="df27" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们把聚光灯对准几个关键点:<br/> 1。Anodot_processes <br/>该表保存每个指标的元数据，是整个流程的“入口点”(删除了排序和约束) :</p><figure class="mu mv mw mx gt my"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="0f1f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如您所见，此表中仅显示了此特定指标的元数据。数据，如上次成功运行的时间(更新日期)和这个过程是什么“分钟间隔”,以计算下次运行的时间。</p><p id="b414" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.另一个需要注意的重要事情是动态存储过程。<br/>在此栏中，您将填写提取相关指标数据的服务点的名称。<br/> Apache NiFi 将调用一个统一的<a class="ae ln" href="https://www.sqlservertutorial.net/sql-server-stored-procedures/sql-server-dynamic-sql/" rel="noopener ugc nofollow" target="_blank">动态存储过程</a>来运行上述 SP。这样做是为了让我们不必在每个 SP 中实现日志记录和错误处理。</p><div class="nh ni gp gr nj nk"><a href="https://github.com/mormor83/Anodot-Nifi" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd io gy z fp np fr fs nq fu fw im bi translated">GitHub - mormor83/Anodot-Nifi</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">github.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny nd nk"/></div></div></a></div><p id="5306" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面是一个 git 存储库，其中包含 NiFi 模板和一个 SQL 文件，其中包含一些帮助您入门的表格。</p><h1 id="be30" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">摘要</h1><p id="3484" class="pw-post-body-paragraph jk jl in jm b jn ma jp jq jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh ig bi translated">Anodot 是一个很好的工具，可以扩展您的可见性，并将最先进的监控应用到您的组织中。它有更多的功能，如检查季节性，预测等。如果实施得当，您可以轻松停止使用静态警报，转而使用适合您的异常检测。</p></div></div>    
</body>
</html>