<html>
<head>
<title>I’ve Created a Simple Shooter Game And Got First Job (And How You Can Too)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我已经创建了一个简单的射击游戏，并得到了第一份工作(你也可以)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/ive-created-a-simple-shooter-game-and-got-first-job-and-how-you-can-too-adc54f5c451e?source=collection_archive---------8-----------------------#2020-10-15">https://blog.devgenius.io/ive-created-a-simple-shooter-game-and-got-first-job-and-how-you-can-too-adc54f5c451e?source=collection_archive---------8-----------------------#2020-10-15</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="eee4" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">使用本指南探索RxJS的可能性，并获得你的第一份工作</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/19a8b0215e83006d71667d0bf56f5a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e__S7_XKD4m7F0TX"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">卡斯帕·卡米尔·鲁宾在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="c9ec" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我大学快毕业的时候。不知道我应该先做什么。我知道我需要一些东西来展示我的技能。我的目标工作是前端开发人员，所以这个项目需要解决这些技能。</p><p id="49d8" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">每个雇主都会通过你的第一个项目看到你的热情。这就是为什么你需要脱颖而出。你需要投入一些时间，让你的游戏或商业应用给人留下深刻印象。</p><blockquote class="lt"><p id="aabb" class="lu lv ir bd lw lx ly lz ma mb mc ls dk translated">投入的时间等于项目质量。</p></blockquote><p id="98ad" class="pw-post-body-paragraph kx ky ir kz b la md js lc ld me jv lf lg mf li lj lk mg lm ln lo mh lq lr ls ik bi translated">一定要研究每一个边缘案例。质疑一切。创建广泛的测试。找到愿意尝试你的应用的人。</p><h1 id="bef1" class="mi mj ir bd mk ml mm mn mo mp mq mr ms jx mt jy mu ka mv kb mw kd mx ke my mz bi translated">想法</h1><p id="af9a" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">我有了创造一个射击游戏的想法。一些简单但复杂的东西。我需要给老板留下深刻印象，但几乎没有时间投资。</p><p id="80df" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我喜欢在射击物体时将玩家从左向右移动的想法。子弹也需要某种物理学。游戏中的敌人也是需要的，所以我也可以展示一下我的OOP技能。</p><p id="d6ba" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">敌人会有不同的力量，有些会更快被杀死。玩家也可能死于碰撞。子弹击中目标后需要渲染和删除。</p><p id="ecce" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">似乎很简单，直到我把手弄脏了。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj nf"><img src="../Images/77320071013050e6af02d2864c0af650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/0*98KJbesa4vHjzSY2.jpg"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">你以前玩过这些吗？</figcaption></figure><h1 id="3114" class="mi mj ir bd mk ml mm mn mo mp mq mr ms jx mt jy mu ka mv kb mw kd mx ke my mz bi translated">技术堆栈</h1><p id="140a" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">我也想有一些后端，所以用了<a class="ae kw" href="https://github.com/typicode/json-server" rel="noopener ugc nofollow" target="_blank"> json-server </a>。想表明我知道如何从前端处理REST。这用于提供分数和选择游戏的配置。</p><p id="4eb6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我需要一种方法来跟踪玩家的移动、碰撞和其他有意义的事件。这就是<a class="ae kw" href="https://www.learnrxjs.io/" rel="noopener ugc nofollow" target="_blank"> RxJS </a>发挥作用的地方。库提供了JS的反应式编程，这正是我所需要的。我需要对不断变化的球员移动，碰撞，子弹乱飞做出反应。</p><p id="e347" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了把它们粘在一起，我使用了<a class="ae kw" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> webpack </a>。为了在我的浏览器中托管更改，我使用了<a class="ae kw" href="https://github.com/webpack/webpack-dev-server" rel="noopener ugc nofollow" target="_blank"> webpack-dev-server </a>。这在今天可能已经过时了，有了新的发展，但这只是为了教育的目的。</p><p id="a405" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我使用了ES6语法，给这个应用创造了一点OOP的感觉。敌人和玩家是从ES6职业中创造出来的。我想给每个敌人增加一点难度，这需要逻辑分离。</p><h1 id="156c" class="mi mj ir bd mk ml mm mn mo mp mq mr ms jx mt jy mu ka mv kb mw kd mx ke my mz bi translated">密码</h1><p id="ccad" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">我将在这里浏览一些代码。回购的链接会留在底部。你可以评判我的代码，我不会生气的:)</p></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h2 id="baee" class="nn mj ir bd mk no np dn mo nq nr dp ms lg ns nt mu lk nu nv mw lo nw nx my ny bi translated">敌人</h2><p id="947d" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">敌人对于任何射击游戏都是必不可少的。我的敌人的骨架是用CSS创建的，JavaScript给了他们运动。我选择了最简单的形状，圆锥形，菱形，三角形。把他们分成几类，有特殊的生命值和速度。</p><pre class="kh ki kj kk gu nz oa ob oc aw od bi"><span id="b050" class="nn mj ir oa b gz oe of l og oh"><strong class="oa is">export</strong> <strong class="oa is">class</strong> EnemyDiamond <strong class="oa is">extends</strong> Enemy {<br/>    constructor(node)<br/>    {<br/>        <strong class="oa is">super</strong>(node);<br/>        <strong class="oa is">this</strong>.health_points = 300;<br/>        <strong class="oa is">this</strong>.dom_element.className = <em class="oi">"enemy enemy_diamond_fill"</em>;<br/>    }<br/>    startMoving(speed)<br/>    {<br/>        <strong class="oa is">super</strong>.startMoving(speed/2);<br/>    }</span><span id="4a91" class="nn mj ir oa b gz oj of l og oh">}</span></pre><p id="91e0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了让他们在屏幕上移动，我增加了他们移动的间隔。这个区间会从配置里取，为了让游戏更难。在敌人被杀死或者离开屏幕后，我会把它从DOM中移除。</p><pre class="kh ki kj kk gu nz oa ob oc aw od bi"><span id="cd71" class="nn mj ir oa b gz oe of l og oh">Rx.Observable.interval(speed).subscribe(<strong class="oa is">function</strong>()<br/>        {<br/><br/>            TOP_OFFSET+=MOVEMENT_SPEED;<br/>            that.dom_element.style.top = `${TOP_OFFSET}px`;<br/><br/>            <strong class="oa is">let</strong> off_bottom_edge = TOP_OFFSET &gt;= windowHeight - 50;<br/>            <br/>            <strong class="oa is">let</strong> alive_and_off_the_screen = off_bottom_edge &amp;&amp; that.health_points &gt; 0 ;<br/><br/>            <strong class="oa is">if</strong>(alive_and_off_the_screen)<br/>            {<br/>                <strong class="oa is">this</strong>.unsubscribe();<br/>                removeDomElement(that.dom_element);<br/>                <strong class="oa is">return</strong>;<br/>            }<br/>        });</span></pre></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h2 id="a2ef" class="nn mj ir bd mk no np dn mo nq nr dp ms lg ns nt mu lk nu nv mw lo nw nx my ny bi translated">子弹</h2><p id="0cd3" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">子弹只是玩家射出的三角形。每颗子弹都被绑在玩家身上，并以一定的频率检查碰撞情况。根据不同的配置，破坏会有所不同，在硬水平子弹只是接触敌人。</p><p id="b3d1" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了得到子弹和敌人的位置，我使用了<code class="fe ok ol om oa b">getBoundingClientRect</code>功能。如果那两个在同一个位置，删除子弹，在分数上加上毁灭，去掉敌人的HP。</p></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h2 id="5d7a" class="nn mj ir bd mk no np dn mo nq nr dp ms lg ns nt mu lk nu nv mw lo nw nx my ny bi translated">运动员</h2><p id="4af7" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">在RxJS鼠标事件处理的帮助下，玩家从左向右移动。按空格键发射子弹，并从屏幕底部移动到顶部。发射一颗子弹后，我增加了后坐力，使它更真实。</p><p id="d413" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">玩家类负责碰撞的轨迹、玩家的分数以及玩家的健康。玩家被杀后，游戏结束，我们移除玩家并显示分数表。</p><pre class="kh ki kj kk gu nz oa ob oc aw od bi"><span id="8cb1" class="nn mj ir oa b gz oe of l og oh"><strong class="oa is">// mouse movement handling<br/>const</strong> mouse_move_events = Rx.Observable.fromEvent(document,<em class="oi">'mousemove'</em>);<br/><br/>        <strong class="oa is">let</strong> mouse_moved = (event)=&gt;{<br/>    <br/>            <strong class="oa is">let</strong> cursor_not_close_to_right_edge<br/>                = event.clientX &lt; window.innerWidth - 250;<br/><br/>            <strong class="oa is">if</strong>(cursor_not_close_to_right_edge)<br/>                <strong class="oa is">this</strong>.dom_element.style.left = event.clientX + 50;<br/>            <strong class="oa is">else</strong>   <br/><br/>                <strong class="oa is">this</strong>.dom_element.style.left = window.innerWidth - 200;<br/>        <br/>        }<br/>        <br/>        mouse_move_events.subscribe(mouse_moved);</span></pre></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h2 id="814e" class="nn mj ir bd mk no np dn mo nq nr dp ms lg ns nt mu lk nu nv mw lo nw nx my ny bi translated">环境</h2><p id="a73b" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">首先，你需要创建你的游戏环境。这可以从你登陆的第一页开始。插入你的用户名并选择你的难度。设置好之后，你就可以开始游戏了。</p><p id="1cc0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下一页是游戏区，敌人将从屏幕上方开始飞行。你可以随时在左上角查看你的分数和HP。开始用鼠标移动你的玩家，并用空格键击落敌人。</p><p id="a345" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">游戏结束后，记分牌会出现。这是你可以看到排名和保存你的分数的地方。你也可以不用保存就能看到你的分数。</p></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h2 id="3335" class="nn mj ir bd mk no np dn mo nq nr dp ms lg ns nt mu lk nu nv mw lo nw nx my ny bi translated">最终结果</h2><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj on"><img src="../Images/2400ed94c4123afb4b03137220848405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*98pMvShOljiKw_3yeetNjw.gif"/></div></figure><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj on"><img src="../Images/c0f9b18312e14012b565c094dd7fe44e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*4UnprGyBxSUljz49HmejWQ.gif"/></div></figure></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h1 id="345d" class="mi mj ir bd mk ml oo mn mo mp op mr ms jx oq jy mu ka or kb mw kd os ke my mz bi translated">想法和错误:)</h1><p id="3df0" class="pw-post-body-paragraph kx ky ir kz b la na js lc ld nb jv lf lg nc li lj lk nd lm ln lo ne lq lr ls ik bi translated">也许我会更多地分离关注点，但这是我的第一个项目。我有一些bug，由于代码混乱，它们很难被发现。</p><p id="664c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">测试是我没有做的一件事。这就是我错过的，在那个时间点不知道怎么写测试。从这个角度来看，根据目前的知识，测试将提高代码质量并揭示一些错误。</p></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><p id="9df1" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">感谢阅读！希望这能启发你做点什么。</p><div class="ot ou gq gs ov ow"><a href="https://github.com/zivce/rxjs-playground" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fp"><div class="oy ab oz cl cj pa"><h2 class="bd is gz z fq pb fs ft pc fv fx iq bi translated">zivce/rxjs-游乐场</h2><div class="pd l"><h3 class="bd b gz z fq pb fs ft pc fv fx dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="pe l"><p class="bd b dl z fq pb fs ft pc fv fx dk translated">github.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk kq ow"/></div></div></a></div></div></div>    
</body>
</html>