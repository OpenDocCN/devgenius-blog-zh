<html>
<head>
<title>How to Cheat in Wordle with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python在Wordle中作弊</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-cheat-in-wordle-with-python-b72e8904f868?source=collection_archive---------6-----------------------#2022-01-20">https://blog.devgenius.io/how-to-cheat-in-wordle-with-python-b72e8904f868?source=collection_archive---------6-----------------------#2022-01-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="0605" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">快速肮脏的解决方案</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/5a93cd45f97102db16450c12391b4788.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/0*8opo5OSRrzg41Bot"/></div></div></figure><p id="d8c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在昨天之前，我从未听说过这个游戏，直到我看到了一篇关于媒体的文章，作者是Rameez Kakodker。坦率地说，它在标题<em class="ki">第一次尝试</em>时让我迷失了，但多亏了这篇文章，我在iPhone上的App Store上搜索并找到了一个免费的应用程序，然后我在地铁里玩了几个小时这个游戏，睡觉前，今天早上又在地铁里。</p><h1 id="ba6c" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">手动解决方案和路障</h1><p id="5a74" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">我想出了我的第一个快速和肮脏的解决方案，首先输入最多4个单词，没有任何重复的字母，这使我能够快速排除大多数字母，并在最多4次尝试中获得尽可能多的线索。我的四个金字是:<code class="fe mb mc md me b">weary</code>、<code class="fe mb mc md me b">block</code>、<code class="fe mb mc md me b">night </code>、<code class="fe mb mc md me b">jumps</code>，像下面这个:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/2037f66147803864a6ec710fc72e489e.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*Z3Nah__dJh5NE-OsYh2HVQ.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">截图1</figcaption></figure><p id="3203" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">五个字母都已经确定，很容易猜出正确的单词，那就是<code class="fe mb mc md me b">takes</code>。</p><p id="594b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是，这种方法仍然会导致非常令人沮丧的情况，例如:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/c50a4b5b5a6c445ef9a6658666f7e4d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*ROR6-OgdBq5ypTGPDtgLLA.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">截图2</figcaption></figure><p id="a176" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以看到，在第四次尝试后，我仍然一无所知，所以我试图排除另外3个字母:<code class="fe mb mc md me b">f</code>、<code class="fe mb mc md me b">z</code>和<code class="fe mb mc md me b">d</code>。这让我又尝试了一次，只剩下一次尝试，我仍然没有解决方案。(如果你能解决，请留言评论，我承认你更聪明)。</p><h1 id="7abd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Python解决方案，版本1</h1><p id="b37a" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">是时候发挥我的Python技能了，就像我每次遇到可以通过编程解决的问题时都会做的那样。</p><p id="4c5e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我在网上搜索了一个5个字母的单词字典，在GitHub上找到了这个:</p><div class="ml mm gp gr mn mo"><a href="https://github.com/charlesreid1/five-letter-words" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd io gy z fp mt fr fs mu fu fw im bi translated">GitHub-Charles Reid 1/五个字母的单词:用Knuth的5757个五个字母的单词做实验。</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">这个库包含Donald Knuth的五个字母单词的GraphBase列表，以及运行各种…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">github.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc kt mo"/></div></div></a></div><p id="6a2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它有5757个单词，应该足够了，毕竟你们中有多少人知道单词<code class="fe mb mc md me b">aband</code>，它可以在这个<a class="ae kv" href="https://www.bestwordlist.com/5letterwords.htm" rel="noopener ugc nofollow" target="_blank"> 12478个五个字母的单词列表</a>中找到。下载raw格式的<code class="fe mb mc md me b">sgb-words.txt</code>并保存到你的本地驱动器，在我的例子中，在<code class="fe mb mc md me b">data</code>目录下。</p><p id="3c32" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一步是以列表形式读取txt文件，这很简单:</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="5147" class="nh kz in me b gy ni nj l nk nl">sgb_file = 'data/sgb-words.txt' # save the file in your own local path<br/>with open(sgb_file, 'r', encoding=encoding) as f:<br/>    sgb = f.readlines()<br/>sgb = getTxt(sgb_file, aslist=True)<br/>len(sgb)</span><span id="8f00" class="nh kz in me b gy nm nj l nk nl"><strong class="me io"># Output:</strong><br/>5757</span></pre><p id="26bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那么简单的解决方案就是检查每个单词，看它是否只包含允许的字母:</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="e9a6" class="nh kz in me b gy ni nj l nk nl">letters = ['e', 'u', 'd', 'q', 'x', 'v']<br/>for word in sgb:<br/>    if all([l in letters for l in word]):<br/>        print(word)</span><span id="bd92" class="nh kz in me b gy nm nj l nk nl"><strong class="me io"># output: </strong><br/>vexed<br/>queue<br/>exude<br/>deque</span></pre><p id="6993" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为我们知道<code class="fe mb mc md me b">u</code>和<code class="fe mb mc md me b">e</code>都不能出现在第二个位置，唯一可用的选项是<code class="fe mb mc md me b">exude</code>，于是，问题解决了！</p><h1 id="be19" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Python解决方案，版本2</h1><p id="03cc" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">作为一个<a class="ae kv" href="https://medium.com/p/pragmatic-perfectionism-884ce07a38b4" rel="noopener">务实的完美主义者</a>，我当然不会就此打住。我希望能够识别出符合Wordle中所有已知标准的单词。</p><p id="916a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我需要想出一个系统来整洁地记录所有的标准。经过一些尝试和错误之后，下面是标准记录代码:</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="805e" class="nh kz in me b gy ni nj l nk nl">import string</span><span id="a91d" class="nh kz in me b gy nm nj l nk nl">letters = {<br/>    'e': [1, 3, 5], <br/>    'u': [1, 3, 4, 5],<br/>    'd': [1, 2, 3, 4],<br/>}<br/>start_words = ['weary', 'block', 'night', 'jumps', 'fuzed']<br/>others = list(set(string.ascii_lowercase)-set(''.join(start_words)))<br/>for k, v in letters.items():<br/>    if len(v)==1:<br/>        others.append(k)<br/>letters, others</span><span id="2e65" class="nh kz in me b gy nm nj l nk nl"><strong class="me io"># output:</strong><br/>({'e': [1, 3, 5], 'u': [1, 3, 4, 5], 'd': [1, 2, 3, 4]}, ['x', 'v', 'q'])</span></pre><p id="e9c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这需要一些解释:</p><ol class=""><li id="1b0e" class="nn no in jm b jn jo jr js jv np jz nq kd nr kh ns nt nu nv bi translated"><code class="fe mb mc md me b">letters</code>字典记录了只允许在特定位置出现的已知字母，例如<code class="fe mb mc md me b">e</code>不能出现在位置2和4，所以可能的位置是<code class="fe mb mc md me b">[1, 3, 5]</code>。</li><li id="c333" class="nn no in jm b jn nw jr nx jv ny jz nz kd oa kh ns nt nu nv bi translated">如果一个字母显示为绿色，就像上面<em class="ki">截图1 </em>中的字母<code class="fe mb mc md me b">s </code>一样，它应该被记录为<code class="fe mb mc md me b">'s': [5]</code>，这意味着第5个字母必须是<code class="fe mb mc md me b">s</code>。然而，在这种情况下，可能会有另一个<code class="fe mb mc md me b">s</code>出现在其他位置。这就是为什么我们需要在下面的代码中将<code class="fe mb mc md me b">s</code>追加到<code class="fe mb mc md me b">others</code>中。</li><li id="dabc" class="nn no in jm b jn nw jr nx jv ny jz nz kd oa kh ns nt nu nv bi translated">我用一个<code class="fe mb mc md me b">start_words</code>的列表找出哪些字母还没有测试，放在一个叫做<code class="fe mb mc md me b">others</code>的列表里。</li><li id="c73f" class="nn no in jm b jn nw jr nx jv ny jz nz kd oa kh ns nt nu nv bi translated">最后，我添加了只有1个允许位置的字母，如<em class="ki">第2点</em>中所指出的。</li></ol><p id="5ab2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">标准准备好了，下面是我检查每个单词有效性的最后一段代码:</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="b8ac" class="nh kz in me b gy ni nj l nk nl">for word in sgb:<br/>    if all([letter in word for letter in letters.keys()]):<br/>        if all([letter in others for letter in set(word)-set(letters.keys())]):<br/>            if all([w in others or i+1 in letters[w] for i, w in enumerate(word)]):<br/>                if all([word[v[0]-1]==k for k, v in letters.items() if len(v)==1]):<br/>                    print(word)</span><span id="eba4" class="nh kz in me b gy nm nj l nk nl"><strong class="me io"># output:</strong><br/>exude</span></pre><p id="3a4f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在答案很完美，没有任何多余的话。请注意，我在层次结构中使用了4条<code class="fe mb mc md me b">if</code>语句，可以将它们浓缩到一条<code class="fe mb mc md me b">if</code>语句中，但是清晰比简洁好。</p><ol class=""><li id="f7ef" class="nn no in jm b jn jo jr js jv np jz nq kd nr kh ns nt nu nv bi translated">第一个<code class="fe mb mc md me b">if</code>语句检查所有已知字母(<code class="fe mb mc md me b">e, u, d</code>)是否出现在单词中。</li><li id="c7a3" class="nn no in jm b jn nw jr nx jv ny jz nz kd oa kh ns nt nu nv bi translated">第二个<code class="fe mb mc md me b">if</code>语句检查一个单词中的所有未知字母(除<code class="fe mb mc md me b">e, u, d</code>以外的字母)是否出现在<code class="fe mb mc md me b">others </code>列表中。</li><li id="081b" class="nn no in jm b jn nw jr nx jv ny jz nz kd oa kh ns nt nu nv bi translated">第三个<code class="fe mb mc md me b">if</code>语句检查单词的每个字母，看它是否出现在<code class="fe mb mc md me b">others</code>列表中，或者出现在<code class="fe mb mc md me b">letters</code>字典描述的允许位置。</li><li id="81f3" class="nn no in jm b jn nw jr nx jv ny jz nz kd oa kh ns nt nu nv bi translated">第四个<code class="fe mb mc md me b">if</code>语句再次检查某个位置是否只包含某个字母(比如<code class="fe mb mc md me b">'s': [5]</code>的情况)。</li></ol><h1 id="c04b" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">更进一步</h1><p id="6a10" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">你可能想知道我是怎么想出启动词黄金榜的:<code class="fe mb mc md me b">weary</code>、<code class="fe mb mc md me b">block</code>、<code class="fe mb mc md me b">night </code>、<code class="fe mb mc md me b">jumps</code>，真相是偶然。但是我们能想出其他的组合吗？有没有包含25个字母的5个单词的组合？空谈不值钱，给我看看代码，大家一探究竟。</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="6ecf" class="nh kz in me b gy ni nj l nk nl">min_words = 4<br/>magic_words = []<br/>words = [w for w in sgb if len(set(w))==5]<br/>for i, w1 in enumerate(words[:-2]):<br/>    words2 = [w1]<br/>    for j, w2 in enumerate(words[i+1:]):<br/>        if any([any([d in w2 for d in w]) for w in words2]):<br/>            continue<br/>        else:<br/>            words2.append(w2)<br/>        if len(words2)==min_words:<br/>            magic_words.append(words2)<br/>            break<br/>len(magic_words)</span><span id="3126" class="nh kz in me b gy nm nj l nk nl"><strong class="me io"># output:</strong><br/>228</span></pre><p id="14dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码返回了228组4个单词的组合，它们都包含20个字母，下面是列表的预览图:</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="f38f" class="nh kz in me b gy ni nj l nk nl">[['those', 'black', 'dying', 'frump'],<br/> ['might', 'world', 'space', 'junky'],<br/> ['world', 'being', 'facts', 'jumpy'],<br/> ['story', 'given', 'black', 'humpf'],<br/> ['kinds', 'power', 'match', 'bulgy'],<br/> ['vowel', 'bring', 'facts', 'jumpy'],<br/> ['girls', 'moved', 'watch', 'junky'],<br/> ['plant', 'forms', 'quick', 'wedgy'],<br/> ['wrote', 'child', 'banks', 'jumpy'],<br/> ['child', 'takes', 'wrong', 'jumpy'],<br/> ['solve', 'fight', 'drawn', 'jumpy'],<br/> ['force', 'sight', 'blank', 'jumpy'],<br/> ['cover', 'lands', 'fight', 'jumpy'],<br/> ['lands', 'fight', 'broke', 'jumpy'],<br/> ['drive', 'knows', 'match', 'bulgy'],<br/> ...</span></pre><p id="ded8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">而且我特别爱这首:<code class="fe mb mc md me b">[‘child’, ‘takes’, ‘wrong’, ‘jumpy’]</code>，朗朗上口，好记。</p><p id="1106" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当然，上面的解决方案并不完美，搜索只是单向的，单词的顺序很重要。但是已经够快够好了。</p><p id="1f89" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个更积极的解决方案如下:</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="cbf8" class="nh kz in me b gy ni nj l nk nl">words = [w for w in sgb if len(set(w))==5]<br/>results = []<br/>for i, w1 in enumerate(words[:-4]):<br/>    sgb2 = [word for word in words[i+1:] if not any([d in w1 for d in word])]<br/>    for j, w2 in enumerate(sgb2[:-3]):<br/>        sgb3 = [word for word in sgb2[j+1:] if not any([d in w2 for d in word])]<br/>        for k, w3 in enumerate(sgb3[:-2]):<br/>            sgb4 = [word for word in sgb3[k+1:] if not any([d in w3 for d in word])]<br/>            for w4 in sgb4:<br/>                results.append([w1, w2, w3, w4])<br/>len(results)</span><span id="20a2" class="nh kz in me b gy nm nj l nk nl"><strong class="me io"># output:</strong><br/>1778289</span></pre><p id="3f5b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">几乎有200万个四字组合，涵盖20个字母。</p><p id="53c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">而第二个问题的答案是否定的，没有涵盖25个字母的5字组合，至少在5757字列表中没有。</p><h1 id="af39" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">尝试一下</h1><p id="0572" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">下面是我用Python作弊拍的几张截图:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/1162c2b84d66ddec3fa21a790a53138c.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*o9FqV3EEH8JB0Hn9HSYGLw.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">截图三</figcaption></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/cf363791d46620647fa5efa5a79cc6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*Gf0IDe-Mm-jSY7sd1G6FNg.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">截图4</figcaption></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/b3ec75ec2d948ca63b61f0e5981350d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*XR3bWwn9SumSFPq7UeDehg.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">截图5</figcaption></figure><p id="2215" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后一个代码供您参考:</p><pre class="kk kl km kn gt nd me ne nf aw ng bi"><span id="a0c2" class="nh kz in me b gy ni nj l nk nl">letters = {<br/>    'l': [2, 3], <br/>    'a': [3, 4],<br/>    'c': [1],<br/>    's': [5],<br/>}<br/>start_words = ['child', 'takes']<br/>others = list(set(string.ascii_lowercase)-set(''.join(start_words)))<br/>for k, v in letters.items():<br/>    if len(v)==1:<br/>        others.append(k)<br/>print(letters, others)<br/>for word in sgb:<br/>    if all([letter in word for letter in letters.keys()]):<br/>        if all([letter in others for letter in set(word)-set(letters.keys())]):<br/>            if all([w in others or i+1 in letters[w] for i, w in enumerate(word)]):<br/>                if all([word[v[0]-1]==k for k, v in letters.items() if len(v)==1]):<br/>                    print(word)</span><span id="ae96" class="nh kz in me b gy nm nj l nk nl"><strong class="me io"># output:</strong><br/>{'l': [2, 3], 'a': [3, 4], 'c': [1], 's': [5]} ['j', 'x', 'r', 'f', 'y', 'n', 'g', 'q', 'u', 'v', 'w', 'z', 'b', 'p', 'm', 'o', 'c', 's']<br/>class<br/>claws<br/>clams<br/>claps<br/>clays<br/>clans<br/>colas</span></pre><h1 id="fcf8" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">有问题或意见吗？</h1><p id="bf0e" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">请在这里留下评论，如果你喜欢这个，请鼓掌和/或关注我的<a class="ae kv" href="https://medium.com/@liaoshian" rel="noopener">medium.com</a>。</p></div></div>    
</body>
</html>