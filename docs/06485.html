<html>
<head>
<title>What is a type hint in Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中什么是类型提示？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-a-type-hint-in-python-37040029a87f?source=collection_archive---------7-----------------------#2022-01-11">https://blog.devgenius.io/what-is-a-type-hint-in-python-37040029a87f?source=collection_archive---------7-----------------------#2022-01-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ad037c90ca0e88e3f43d16ddd4ab7cc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z21jgoh5y9s3t0EW"/></div></div></figure><p id="3f50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您在这里，您可能想了解 Python 中称为<strong class="ka ir">类型提示</strong>的概念。</p><p id="9c76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在 Python 3.5 中，您可以在函数中使用类型提示。</p><p id="6aea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们首先通过例子来学习，因为这是熟悉的最快方法。让我们来看一个函数，它以两个数字作为参数，然后逻辑是这样的，它将这两个数字相加，然后返回这两个数字的和。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="d219" class="lf lg iq lb b gy lh li l lj lk">def add(x, y):<br/>   return x + y</span></pre><p id="3d32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很简单，对吧？让我们给函数添加类型提示。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="2837" class="lf lg iq lb b gy lh li l lj lk">def add(x: int, y: int) -&gt; int:<br/>   return x + y</span></pre><p id="5c21" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们具体分析一下我们在那里做了什么。</p><p id="0ff1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于两个参数中的每一个，分别为<code class="fe ll lm ln lb b">x</code>和<code class="fe ll lm ln lb b">y</code>，我们添加了<code class="fe ll lm ln lb b">: int</code>。这基本上告诉我们这些参数的类型是什么。</p><p id="d743" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们还在函数声明的末尾添加了一个<code class="fe ll lm ln lb b">-&gt; int</code>。这告诉我们函数的<em class="lo">返回值</em>类型是什么。因为我们返回的<code class="fe ll lm ln lb b">x + y</code>是两个整数参数的整数值和，所以我们知道返回值也是一个整数。</p><p id="d3d4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关于类型检查，需要知道的重要一点是，在运行时不会检查这些类型提示。事实上，正如 PEP 484 所述，它们从来都不是强制性的:</p><blockquote class="lq lr ls"><p id="2ea7" class="jy jz lo ka b kb kc kd ke kf kg kh ki lt kk kl km lu ko kp kq lv ks kt ku kv ij bi translated">还应该强调的是,<strong class="ka ir"> Python 仍然是一种动态类型语言，作者们并不希望强制使用类型提示，即使是按照惯例。</strong></p></blockquote><p id="5375" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">相反，它们的工作方式是，您可以在源代码上运行独立的类型检查器来 lint 代码。您可以研究的一个这样的工具是<a class="ae lp" href="http://mypy-lang.org/" rel="noopener ugc nofollow" target="_blank"> mypy </a>。</p><p id="065c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">类型检查的另一个好处是，它可以使代码对人类来说更具可读性。当你看这个函数的时候，可能不会马上清楚变量<code class="fe ll lm ln lb b">x</code>和<code class="fe ll lm ln lb b">y</code>是什么类型。在这种情况下，有足够的上下文信息来假设它们很可能是整数，但是当您进入更抽象和复杂的函数时，类型提示对于理解代码到底在做什么非常有用。</p><p id="18f9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在某种程度上，类型提示用来记录你的代码，而不需要做单独的注释行，或者只是让代码含糊不清。</p><p id="1f05" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">类型提示也有助于促进真正考虑函数所使用的类型，从而更好地设计程序。</p><p id="30d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">话虽如此，在定义函数时，类型提示确实需要做更多的工作。如果你没有开始做的话，回过头来准确地添加它们可能会有点棘手。从长远来看，你可能会节省一些时间，所以这通常是一个很好的权衡。</p><p id="22d7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">初学者可能不必太担心类型提示，因为它可能会使事情复杂化，但这并不是说这是一个困难的概念。一旦开发人员对 Python 的基础有了足够的了解，类型提示实际上是一个很好的实践，可以帮助他们成为更好的开发人员，并帮助任何人阅读他们的代码。</p><p id="dd0c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">总的来说，更深入地挖掘自己并在 Python 代码中添加类型提示是值得的——您可能会发现这样做是有好处的。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><div class="kw kx ky kz gt md"><a href="https://tremaineeto.medium.com/membership" rel="noopener follow" target="_blank"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">通过我的推荐链接加入 Medium—Tremaine Eto</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">tremaineeto.medium.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr jw md"/></div></div></a></div></div></div>    
</body>
</html>