<html>
<head>
<title>Auto-ARIMA and Manual ARIMA Models for Stock Prices with R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带 R 的股票价格的自动 ARIMA 和手动 ARIMA 模型</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/auto-arima-and-manual-arima-models-for-stock-prices-with-r-829bee0420f4?source=collection_archive---------1-----------------------#2022-11-06">https://blog.devgenius.io/auto-arima-and-manual-arima-models-for-stock-prices-with-r-829bee0420f4?source=collection_archive---------1-----------------------#2022-11-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="fe7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">AR、MA、ARMA、ARIMA 和 Auto-ARIMA 模型</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/58471f58c3793d61739859a9d9a0e2c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4IlbVrg9e2GqVtXr"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">尼克·崇在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="a39d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以从 GitHub 下载<a class="ae ky" href="https://github.com/riqbal-k/Data" rel="noopener ugc nofollow" target="_blank">数据</a>，从 Kaggle 下载<a class="ae ky" href="https://www.kaggle.com/code/robinaz/univariate-time-series-models-with-r/edit" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本。</a></p><p id="69be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi kz translated"><span class="l la lb lc bm ld le lf lg lh di"> U </span> nivaraite 时间序列模型是一种规范，旨在仅使用金融变量自身的过去值以及误差项的当前值和过去值中提供的信息来建模和预测金融变量。自回归综合移动平均(ARIMA)模型是时间序列模型的一个重要类别。</p><p id="40e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有两种<strong class="jm io">方法</strong>对你的数据应用 ARIMA 模型。在这篇文章中，你将学习如何将<strong class="jm io">手动- ARIMA </strong>和<strong class="jm io">自动-ARIMA </strong>模型应用于宝马的每日股票价格。</p><blockquote class="li lj lk"><p id="f46d" class="jk jl ll jm b jn jo jp jq jr js jt ju lm jw jx jy ln ka kb kc lo ke kf kg kh ig bi translated">我的<strong class="jm io">博客</strong> <a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/univariate-time-series-models-for-stock-prices-with-stata-a16ad30d538b"> <strong class="jm io">关于单变量时间序列模型</strong> </a> <strong class="jm io">的介绍可以在这里找到。</strong></p></blockquote><h1 id="144f" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">温柔的介绍</h1><p id="b961" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">在 AR(p)模型中，使用变量先验值的线性组合来预测感兴趣的变量。与 AR()模型中预测变量的过去值相比，MA(q)模型在类似回归的模型中使用过去的预测误差。ARMA(p，q)模型可以组合形成自回归移动平均(ARMA)模型。</p><p id="45fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ARIMA (p，d，q)是自回归综合移动平均模型的缩写。该模型是为处理非平稳数据而创建的，这是 ARMA (p，q)和 ARIMA (p，d，q)之间的主要区别。</p><h1 id="a6c6" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">1.选择您自己的模型</h1><h2 id="9eb3" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">Box-Jenkins 方法-构建您自己的自回归模型:</h2><p id="acb6" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">估计 ARIMA 模型的第一个系统方法是由 Box 和 Jenkins 在 1976 年提出的。他们采取了一个三步走的、现实的、实用的策略。</p><p id="b791" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">手动应用 ARIMA 模型涉及以下步骤:</p><h2 id="6f65" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated"><strong class="ak"> 1。识别</strong></h2><p id="3e9c" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">㈠分析时间序列，看它是否稳定，如果不稳定，需要多少差异才能使它稳定。</p><p id="f93f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(二)使用图形技术来确定应收账款和应付账款的顺序(绘制一段时间内的数据以及 acf 和 pacf)。</p><blockquote class="li lj lk"><p id="ee67" class="jk jl ll jm b jn jo jp jq jr js jt ju lm jw jx jy ln ka kb kc lo ke kf kg kh ig bi translated">不要忘记使用 ADF 测试和 KPSS 来检查平稳性，以及使用 Ljung-Box 统计来寻找自相关性。T3】</p></blockquote><h2 id="061e" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">2.估计</h2><p id="4f15" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">(I)描述 Arima(p，d，q)模型并计算其参数。根据不同的型号，这可以通过使用<strong class="jm io">最小二乘法</strong>或另一种叫做<strong class="jm io">最大似然法</strong>的方法来完成。</p><p id="fbd6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">㈡利用 AIC 或 BIC 等信息标准寻找更好的模式。</p><h2 id="c5c6" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">3.诊断检验</h2><p id="bdf4" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">(I)检查模型的拟合度，以确保它准确描述了您的数据。残差应该具有恒定的均值和方差，是同方差的，并且通过绘制残差的 ACF 是不相关的。</p><p id="93e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(二)如果残差不是正态分布，将你的新息分布改为<strong class="jm io">学生的<em class="ll"> t </em> </strong>。</p><p id="79ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(iii)一旦残差看起来像白噪声，计算预测。</p><h1 id="f792" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">2.使用自动 ARIMA 自动选择模型</h1><p id="8725" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated"><strong class="jm io"> Hyndman-Khandakar 算法- AutoARIMA 建模</strong></p><p id="0903" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ky" href="https://www.jstatsoft.org/article/view/v027i03" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> Hyndman </strong>和<strong class="jm io"> Khandakar </strong> ( </a> 2008)结合前面的思想，得到一个健壮的、广泛适用的自动预测算法。所涉及的步骤总结如下。</p><h2 id="cab3" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated"><strong class="ak"> 1。应用合适的模型</strong></h2><p id="633c" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated"><strong class="jm io">对于每个系列，应用所有合适的型号。</strong>优化每种情况下模型的参数。</p><h2 id="16af" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">2.使用 AIC 选择模型</h2><p id="b4e1" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">根据 AIC 选择最好的模型。p 和 q 的值然后通过在差分数据 d 次后最小化 AICc 来选择。该算法通过逐步搜索来导航模型空间，而不是考虑 p 和 q 的每个潜在配对。</p><h2 id="29ae" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated"><strong class="ak"> 3。h-提前步骤预测</strong></h2><p id="1b17" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">使用最佳模型(具有优化的参数)根据需要提前生成点预测。</p><h1 id="60d5" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">在 R-Manual -ARIMA 车型中的应用</h1><p id="cf2f" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">安装并加载必要的库:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="5b56" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">设置您的工作目录并上传您的数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/48841c8e28ac300510f6a39640226848.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*OKXpmdruhnsRLM9BGa44Jg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">BMW 数据集的头值</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/d02bcd09e761dd91875e7c5ec8c3df42.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*22PXtFDr8_4HHZQivWqdhg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">宝马数据集的尾值</figcaption></figure><p id="53bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建时间图，以检查趋势和对时间序列数据的基本理解。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/f43cdf6d4229913323d2288ebc855f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*hrMnBKn7mGYnhXILGDYexg.png"/></div></figure><p id="ac9b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">宝马的股票价格数据显示出积极的趋势以及显著的上下波动。这说明数据不是静止的。</p><h1 id="7f77" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">静态测试</h1><p id="03e3" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">虽然从宝马价格的时间序列图中可以明显看出数据不是平稳的。我们仍然需要应用<strong class="jm io">增广的 Dicky Fuller </strong>检验或<strong class="jm io"> Phillips-Perron 单位根</strong>检验进行平稳性检验。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="8491" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">平稳测试的假设:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/6b6a76c50e3df63cf3e88f262a5a40f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*bRWiXSbj-kWbPhEc9lpaWw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/200c6e093fb0b6d5530b105cec009c8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*fGCNgxFWZJrJq_YzWY6frA.png"/></div></figure><p id="c31b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当 p 值&gt; 0.05 时，我们无法拒绝零假设。所以数据不是静止的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/cc0f6bfdcd3c5d5e832ca4d6147429ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JEcg27RTRUzVZs6jIAgzgQ.png"/></div></div></figure><p id="ee5d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">PHP 单位根测试也证实了数据是平稳的。</p><h1 id="e327" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">自相关测试</h1><p id="6bce" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">现在我们将创建<strong class="jm io"> ACF </strong>和<strong class="jm io"> PACF </strong>图来确定 AR(p)和 MA(q)模型的顺序。我们还将应用<strong class="jm io"> Ljung 盒测试</strong>来检测自相关。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="fe82" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于股票价格，前 35 个滞后期的自相关性是显著的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/e4aa410bcb7002db23699e45da8b07e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*xPIxbsEEgkaQPoJpzdkEcA.png"/></div></figure><p id="a54d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于 PACF 图，自相关仅在第一个和第三个滞后时有意义。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/efa7f54840fc054d137bc5796985dbe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*c80EgN2-itlHMqt3JZSm3w.png"/></div></figure><p id="15d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">自相关测试的假设:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/bcc3ab49a3ef425dc55b6869af8ad20c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*yiPDjk8TdT0JlF99hINJBA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/6370d5f3d10923f9c8bc4fd031e25ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*qQAjG5AHPrVDkR6_nZYGKA.png"/></div></figure><p id="13aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为金融中的 p 值&lt; 0.05, reject the null hypothesis of no autocorrelation.</p><h1 id="5e24" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">Calculate Stationary Time Series</h1><p id="348e" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">Now we will convert the non-stationary time series into a stationary time series by finding the first difference or simply calculating the financial returns.</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><blockquote class="li lj lk"><p id="963e" class="jk jl ll jm b jn jo jp jq jr js jt ju lm jw jx jy ln ka kb kc lo ke kf kg kh ig bi translated"><strong class="jm io">，连续复利回报更为常见。这就是为什么我们将首先计算对数差。</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/a8a8e074acefd272b77c16e6e3972820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5rQ2hapLG120IymcmZ4fnw.png"/></div></div></figure><p id="3c9b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的财务回报只是弱平稳的，图表中可见的尖峰是异常值或极值。<br/>无论我们对非平稳金融序列应用何种阶差——一阶、二阶或更高阶——它将始终保持弱平稳。<br/>因此，我们只考虑第一个区别。</p><p id="6beb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以通过应用 ADF 检验来确认我们的数据是平稳的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/bf751bc7e43031340a16b608c6065d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FaI0ebmg8cHcdy8L1OIPaA.png"/></div></div></figure><p id="db64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由于 p 值&lt; 0.05 , we reject the null hypothesis. Our data is stationary at 5% significance level.</p><h2 id="87ca" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated"><strong class="ak"> ACF 和 PACF 图确定了 AR(p)和 MA(q)的顺序</strong></h2><p id="48bd" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">Return 系列的 ACF 图看起来比 Prices 好很多。ACF 在滞后 1 时显著。二阶、三阶和一些高阶滞后也稍微重要。我们从估计 MA(1)模型开始。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/a33198cb58b7fa73845539bcedeb984b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*za8fgk9Pt0Z5SdSrQXmTvw.png"/></div></figure><blockquote class="li lj lk"><p id="34b6" class="jk jl ll jm b jn jo jp jq jr js jt ju lm jw jx jy ln ka kb kc lo ke kf kg kh ig bi translated"><strong class="jm io">MA 值由 ACF 图决定</strong></p></blockquote><p id="5206" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">PACF 的前两次滞后与 18 次、26 次和 27 次滞后相比意义重大。我们可以从 AR(1)模型开始。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/3faa5fa9f16eba4c93c8365acba29a2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*_HrbZdza2iomq6hxHYgbuw.png"/></div></figure><blockquote class="li lj lk"><p id="8791" class="jk jl ll jm b jn jo jp jq jr js jt ju lm jw jx jy ln ka kb kc lo ke kf kg kh ig bi translated"><strong class="jm io">通过 PACF 图确定的 AR 值</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/89553af8c8ee52c67154d1d3c277cec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*AJgVTtuX7af3XpKq_Ngr6Q.png"/></div></figure><p id="e1da" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为 p 值&lt; 0.05, reject the null hypothesis of no autocorrelation.</p><h1 id="d078" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">Estimation of AR, MA,ARMA and ARIMA Models</h1><h2 id="d584" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">Fit AR(1) Model</h2><p id="0053" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">We will use arima() function from “tseries” package.</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/c35159f0905ad39bcc14aac58e556831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OpKcgstDZedKh-CgfVZXpQ.png"/></div></div></figure><p id="fd79" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">The coefficient of AR(1) model is <strong class="jm io"> 0.0432 </strong>为正且显著。我们也可以为 AR(1)模型的残差绘制 ACF 图和 PACF 图。</p><h2 id="d097" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">AR(1)的残差必须是白噪声</h2><p id="35da" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">我们现在将寻找残差中白噪声的存在，这是良好拟合的标志。<br/>也就是说，如果拟合模型是准确的，则不能获得关于潜在过程的额外知识。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/b29b2cc5fea40edeb59c6fc4f93f1cec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*gT29Nl5KdmUlmxrYGp0x8w.png"/></div></figure><h2 id="63a0" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">拟合 MA(1)模型</h2><p id="6c02" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">我们将使用“tseries”包中的 arima()函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/255c79784a06a1204f470384cc39699b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ayRFZAAB55sslKsiBDQNtw.png"/></div></div></figure><p id="fa71" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">MA(1)模型的系数为<strong class="jm io"> 0.0481 </strong>，为正且显著。我们也可以为 MA(1)模型的残差绘制 ACF 图和 PACF 图。</p><h2 id="4eff" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">对于 MA(1)，残差必须是白噪声</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/a444ace97e90983619acdffe8cd2a391.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*ffr6KVXMRKUS8ZNHwbyEOA.png"/></div></figure><h2 id="1de1" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">拟合 ARMA(1)模型</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/9945c554ccf8dad24de59662be12ccc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R3_Pk_EmEMa7T6ietvxzbw.png"/></div></div></figure><p id="00bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们估计 ARMA (1，1)模型时，我们观察到 AR(1)模型的系数为-0.2772，这表明今天和昨天的股票价格之间存在显著的负相关关系。MA(1)模型的系数为 0.3284。</p><h2 id="2e40" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">ARMA(1，1)残差</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/8dddb50da688d011060871742a650e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*fSdsrB2bLPsUlTwCCB729Q.png"/></div></figure><h2 id="84fd" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">适合 ARIMA(1)模型</h2><p id="7f60" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">我们可以用 arima (p，d，q)来拟合股票价格和收益序列。为了应用 ARIMA 模型，时间序列不一定是平稳的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/b37e8a4b0a0d506316b85448f6884a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*xR2OTosUU1OwcweoAXLasA.png"/></div></figure><p id="f0d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">AR(1)具有正的系数值，MA(1)具有负的系数值。</p><blockquote class="li lj lk"><p id="458c" class="jk jl ll jm b jn jo jp jq jr js jt ju lm jw jx jy ln ka kb kc lo ke kf kg kh ig bi translated"><strong class="jm io"><em class="in"/>d = 2<em class="in">的顺序，因为我已经计算了一阶差分，并对平稳序列应用了 arima 模型。</em> </strong></p></blockquote><h2 id="b777" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">ARIMA 残差(1，1，1)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/7a450a300efc9c7557d5dd5a0849a55a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*MGuOMCSvXKkERLjxt9qeVg.png"/></div></figure><h1 id="352a" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">型号选择</h1><p id="cfaf" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">在实践中，从自相关函数中确定合适的模型排序可能极具挑战性。</p><p id="56c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一种更简单的方法是选择降低<strong class="jm io">信息标准</strong>重要性的模型阶数。阿凯克(1974)的信息准则(<strong class="jm io"> AIC </strong>)、施瓦茨(1978)的贝叶斯信息准则(<strong class="jm io"> BIC </strong>)和汉南·奎因准则(<strong class="jm io"> HQIC </strong>)是三个最常用的信息准则。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/4a1f0c6826d9f95577f3e786c610c848.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*euc6Ly8qVFm02VvwiyE1Fg.png"/></div></figure><p id="b8cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ARIMA (1，1，1)具有最小的 AIC 和 BIC 值。</p><blockquote class="li lj lk"><p id="4ac4" class="jk jl ll jm b jn jo jp jq jr js jt ju lm jw jx jy ln ka kb kc lo ke kf kg kh ig bi translated"><strong class="jm io">我们可以从下面的列表中估算出各种各样的 ARIMA 车型:</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/84cb323e6a764de4e5c1247bc18380ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLnXqJereiySSVqMxk-_Mw.png"/></div></div></figure><h1 id="5419" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">自 ARIMA 模型在 R 估计中的应用</h1><p id="4bf7" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">使用<strong class="jm io">自动 ARIMA </strong>优于<strong class="jm io">手动 ARIMA </strong>模型的好处是，我们可以在非平稳序列上拟合自动 ARIMA 模型，而不用担心<em class="ll"> p，d，</em>和<em class="ll"> q. </em> <br/>的顺序。在选择模型时，它使用通过试验各种 p，q 和 d 值组合产生的 AIC(阿凯克信息标准)和 BIC(贝叶斯信息标准)值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="733d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">自动 ARIMA 模型适合各种 ARIMA(p，d，q)模型，以便选择最佳模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/72d6749e08cd42878014372792abf397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*Wj4Bkk7pFWI8Swiw8P7CFQ.png"/></div></figure><p id="f2ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ARIMA (0，1，3)模型被自动选为具有最小 AIC 值的最佳模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/e9c9e9a08c19497bcdf6e147dfe4384f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZr3Oe45hjf2jrEhoMyZxA.png"/></div></div></figure><h2 id="871c" class="ms lq in bd lr mt mu dn lv mv mw dp lz jv mx my md jz mz na mh kd nb nc ml nd bi translated">ARIMA 残差(1，1)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f8e070ccdd2c5f8f83d7dc4e110a966b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*PuFr6TxFtcZG38Mc28DPIQ.png"/></div></figure><h1 id="bc1f" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">用自 ARIMA 模型进行预测</h1><p id="6d92" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">现在，自动 ARIMA 模型预测已经实现。预测是为未来 5 天生成的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/a7fa30a9c95ce64cfe08902f9606ec22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iqEbSLYOJ_5AG7R38Hfz_A.png"/></div></div></figure><p id="2357" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我已经计划了未来 300 天的预测。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/a381a04ee20d6ad3c645c11b81074839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*YC8VXoVne8C05ZoH6JW1RQ.png"/></div></figure><h1 id="81a6" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">ARIMA 和自动 ARIMA 模型的样本外估计</h1><p id="53f4" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">我估计了完整数据集上的 ARIMA 模型。但是，出于强制和模型比较的目的，将数据分成训练集和测试集是很重要的。</p><h1 id="e8ec" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated"><strong class="ak">结论</strong></h1><p id="de06" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">虽然有了自动 ARIMA 模型，我们可以绕过各种步骤。为了更好地理解，知道如何手动实现 ARIMA 模型是很重要的。</p><h1 id="1476" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">参考</h1><p id="581c" class="pw-post-body-paragraph jk jl in jm b jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd mr kf kg kh ig bi translated">布鲁克斯，克里斯。金融计量经济学导论。第四版。剑桥大学出版社。2019.</p><p id="e7bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Hyndman，R. J .，&amp; Khandakar，Y. (2008 年)。自动时间序列预测:R. <em class="ll">统计软件杂志</em>，<em class="ll"> 27 </em> (1)，1–22 的预测包。</p><p id="3c2c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ky" href="https://www.google.com/search?sxsrf=ALiCzsayTNs9JTN1lnhK-lYSImKGKmibRg:1665934602238&amp;q=Eric+Zivot&amp;stick=H4sIAAAAAAAAAOPgE-LVT9c3NEw2LMhNMrDMUIJw0wxyUwoqCgy0ZLKTrfST8vOz9cuLMktKUvPiy_OLsq0SS0sy8osWsXK5FmUmK0RlluWX7GBl3MXOxMEAAJsVnbFTAAAA&amp;sa=X&amp;ved=2ahUKEwi6wr2BiuX6AhWVM8AKHUF5AbsQmxMoAHoECFMQAg" rel="noopener ugc nofollow" target="_blank">齐沃特</a>，E. 2023。<em class="ll">计算金融与金融计量经济学导论</em>。</p></div></div>    
</body>
</html>