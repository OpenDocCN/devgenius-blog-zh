<html>
<head>
<title>Kubernetes(k8) High-level overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes(k8)高级概述</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/kubernetes-k8-high-level-overview-d4e8ef59de00?source=collection_archive---------2-----------------------#2022-04-09">https://blog.devgenius.io/kubernetes-k8-high-level-overview-d4e8ef59de00?source=collection_archive---------2-----------------------#2022-04-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/8ee96197ebc2c755996adbcf84730c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wH3geHEvZ6ESRRS_3pL_0Q.jpeg"/></div></div></figure></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><p id="8e93" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">在开始之前，你需要知道两件事。</p><ul class=""><li id="e4f9" class="la lb in ke b kf kg kj kk kn lc kr ld kv le kz lf lg lh li bi translated">码头工人</li><li id="2faa" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">容器编排</li></ul><p id="bfd5" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">对于绝对初学者的帖子，我在<a class="ae lo" href="https://yonatan-merkebu.medium.com/docker-for-the-absolute-beginner-8c6dbcd71e4b" rel="noopener"> docker 上简单谈了一下 Docker。</a></p><p id="76a4" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">容器编排</strong></p><p id="1ebb" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">我们学习了容器，假设我们现在将应用程序打包在 docker 容器中。但是，我们如何在生产中运行容器呢？如果我们的应用程序依赖于 d/t 容器，如数据库或其他后端服务，会怎么样？如果用户数量增加，您需要扩展应用程序，该怎么办？当负载减少时，您如何缩减规模？</p><p id="a769" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">为了实现这些功能，您需要一个具有一组资源和功能的底层平台。该平台需要协调容器之间的连接，并根据负载自动扩大或缩小规模。自动部署和管理容器的整个过程称为编排。</p><p id="82ba" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">容器编排有多种优势</p><ul class=""><li id="83bf" class="la lb in ke b kf kg kj kk kn lc kr ld kv le kz lf lg lh li bi translated">您的应用程序将是高度可用的，因为硬件故障不会使您的应用程序停机。</li><li id="bcdd" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">用户流量在各个节点之间实现负载平衡。</li><li id="a56d" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">当需求增加时，可以在几秒钟内无缝部署更多应用实例。</li><li id="3135" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">当您用完硬件资源时，可以在不关闭应用程序的情况下增加或减少节点数量。</li></ul><p id="8568" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">通过一组声明性对象配置文件，您可以轻松地完成这些工作。</p><p id="f528" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">这就是 Kubernetes。一种容器编排技术，用于编排集群中成千上万个容器的部署和管理。</p></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><h1 id="5ac4" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated"><strong class="ak"> Kubernetes(k8)概念车</strong></h1><p id="a73f" class="pw-post-body-paragraph kc kd in ke b kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ig bi translated"><strong class="ke io">节点(爪牙)</strong></p><ul class=""><li id="f05f" class="la lb in ke b kf kg kj kk kn lc kr ld kv le kz lf lg lh li bi translated">是安装了 Kubernetes 的机器(物理的或虚拟的)。</li><li id="6d36" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">是工人机器，这里是集装箱将被发射的地方。</li></ul><p id="2e3a" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">集群</strong></p><ul class=""><li id="34df" class="la lb in ke b kf kg kj kk kn lc kr ld kv le kz lf lg lh li bi translated">是一组组合在一起的节点。这样，即使一个节点出现故障，其他节点仍然可以访问该应用程序。</li><li id="d3f5" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">拥有更多节点也有助于分担负载。</li></ul><p id="bd89" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">主人</strong></p><ul class=""><li id="42ce" class="la lb in ke b kf kg kj kk kn lc kr ld kv le kz lf lg lh li bi translated">是另一个安装了 k8 并配置为主节点的节点。</li><li id="510a" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">主节点监视集群中的节点，并负责协调工作节点上的容器。</li><li id="326c" class="la lb in ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">存储有关集群成员的信息。</li></ul><p id="34f8" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">当您在系统上安装 Kubernetes 时，您也安装了以下内容。</p><p id="937e" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io"> API 服务器</strong></p><p id="a28c" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">API 服务器充当 Kubernetes 的前端。所有用户、托管服务和 CLI 都与 API 服务器通信，以便与 k8 集群进行交互。</p><p id="b339" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io"> ETCD 密钥库</strong></p><p id="b41e" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">ETCD 密钥库是一个分布式的可靠密钥库，k8 使用它来存储用于管理集群的所有数据。信息以分布式方式存储在所有节点上。</p><p id="6b55" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">调度器</strong></p><p id="d5c2" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">调度器负责将容器上的工作分布到多个节点上。它寻找新创建的容器并将它们分配给节点。</p><p id="5244" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">控制器</strong></p><p id="16d7" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">当集装箱下降时，控制器负责处理和响应。在这种情况下，他们还会带来新的容器。</p><p id="e4b3" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">容器运行时</strong></p><p id="380c" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">容器运行时是用于运行容器的底层软件。比如 Docker。</p><p id="2c1d" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">库布利特</strong></p><p id="7904" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">Kublet 是在集群上的每个节点上运行的代理。它负责确保容器按预期在节点上运行。</p></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><h1 id="cb56" class="lp lq in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">主节点与工作节点</h1><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/9241163118ded98f2a107715f88d7347.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eTxNtxhZhwiRzyvMheLXjg.png"/></div></div></figure><p id="f20c" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">工人节点</strong></p><p id="e30a" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">工作节点是容器的宿主。这意味着他们已经安装了容器运行时。</p><p id="bb51" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">工作节点有一个 kublet 引擎，负责与主节点交互，提供工作节点的健康信息，并执行主节点所需的操作。</p><p id="8eaa" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><strong class="ke io">主节点</strong></p><p id="03ab" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">主节点有一个 kub-apiserver，这就是它成为主节点的原因。</p><p id="62d9" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">收集的所有信息都存储在主服务器(ETCD)上的键值存储中。</p><p id="262b" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">主节点还有一个控制管理器(控制器)和调度程序。</p></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><p id="70aa" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">我猜这让你对 Kubernetes 有了深入的了解。有关 DevOps 的更多主题，请关注我。</p></div></div>    
</body>
</html>