<html>
<head>
<title>Create synthetic data using Python and Faker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 和 Faker 创建合成数据</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/create-synthetic-data-using-python-and-faker-54e6d10afa45?source=collection_archive---------3-----------------------#2022-09-11">https://blog.devgenius.io/create-synthetic-data-using-python-and-faker-54e6d10afa45?source=collection_archive---------3-----------------------#2022-09-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d68d3753a4eb09e3a1643344f606a92c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m9CP4NHKCJVYJHRs"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">Miguel Teirlinck 在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="96b7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi ky translated"><span class="l kz la lb bm lc ld le lf lg di">让我们想象你对这个令人惊奇的项目有<strong class="kc io">的想法。这个项目需要数据。当然，你会开始搜索寻找符合项目需求的数据集。你可能会到达像<a class="ae jz" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> kaggle </a>或<a class="ae jz" href="https://data.world/" rel="noopener ugc nofollow" target="_blank"> data.world </a>这样的网站。但是你仍然没有你想要的数据，你应该在这里结束并埋葬你的项目想法吗？不要！<strong class="kc io"> </strong>下面是<strong class="kc io"> Python 库— </strong> <a class="ae jz" href="https://faker.readthedocs.io/en/master/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> faker </strong> </a>，可以创建<strong class="kc io">合成数据</strong>。</strong></span></p><p id="6923" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本文中，我将展示如何创建<strong class="kc io">人工销售表</strong>，如下所示:</p><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lh"><img src="../Images/22a47e807d5bf151eb04ab7a694202b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D3uF0vl4OVRf2Nm63StmOQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">表 1.1</figcaption></figure><p id="6244" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">事不宜迟，让我们直接进入代码和解释。</p><p id="b654" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这篇文章的代码存储在这个<a class="ae jz" href="https://github.com/Cloudy17g35/data-modeling-example" rel="noopener ugc nofollow" target="_blank"> Github repo </a>中</p><p id="6919" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">导入模块并将 Faker 对象赋给变量<strong class="kc io"> fake </strong>:</p><figure class="li lj lk ll gt jo gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/4c79a316e292604815541065bd5d9fb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*uMBapB7Yo0QxHdQGaUBJ1Q.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片 1.2</figcaption></figure><h1 id="7e45" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">客户表</h1><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ml"><img src="../Images/13fc4b97aadabe04b7d3917b0edf54c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z0Dz8_Ombj8mor-bZOyzUA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片 1.3</figcaption></figure><p id="96cb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该函数采用一个参数— <strong class="kc io"> row_number </strong>并创建行数等于<strong class="kc io"> row_number 的<strong class="kc io"> pandas 数据帧</strong>。</strong></p><p id="4154" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在每次迭代中，dataframe 中的新行(存储在变量<strong class="kc io"> df </strong>中)有 3 列:</p><ul class=""><li id="780a" class="mm mn in kc b kd ke kh ki kl mo kp mp kt mq kx mr ms mt mu bi translated">客户标识</li><li id="a003" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx mr ms mt mu bi translated">客户名称</li><li id="6a69" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx mr ms mt mu bi translated">客户 _ 国家</li></ul><p id="9a80" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">正在被创建。为了创建<strong class="kc io">客户名称</strong>和<strong class="kc io">客户国家</strong>，使用了 Faker 对象。</p><p id="9884" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">结果:</p><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/4874c75a9ddebd9809c950f9e19ec36d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xwe2G4nHt1ckZgBa88Jd-Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">表 1.2</figcaption></figure><h1 id="ba0f" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">产品表</h1><p id="6ad6" class="pw-post-body-paragraph ka kb in kc b kd nb kf kg kh nc kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ig bi translated">让我们用下面的代码创建产品表:</p><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/5bf80d29dff622ae77f4cdfad0818b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p6BTb_SsurxQQn6Xpg5OnA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片 1.4</figcaption></figure><p id="1e9f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个函数使用一个参数<strong class="kc io"> fake_products </strong>作为字符串列表，返回 pandas dataframe。在这种情况下，存储在变量<strong class="kc io"> FAKE_PRODUCTS </strong>中的列表将被用作该函数的参数。</p><p id="9540" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">它迭代假冒产品列表中的每个产品，并在 dataframe(存储在变量<strong class="kc io"> df </strong>中)中创建一个包含 4 列的行，这是什么函数？</p><ul class=""><li id="e501" class="mm mn in kc b kd ke kh ki kl mo kp mp kt mq kx mr ms mt mu bi translated">product_id(用<a class="ae jz" href="https://docs.python.org/3/library/functions.html#enumerate" rel="noopener ugc nofollow" target="_blank">枚举</a>得到的列表中对象的当前索引)</li><li id="846f" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx mr ms mt mu bi translated">product_name(假冒产品列表中的当前产品)</li><li id="e477" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx mr ms mt mu bi translated">产品价格(1 到 100 之间的随机数)</li><li id="e816" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx mr ms mt mu bi translated">产品 _ 品牌(通过 Faker 方法创建的随机品牌)</li></ul><p id="7d80" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">结果:</p><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/93691f297a80a748a59b243e4afc7e53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSOFvWI5Ud3kKin63jgNMQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">表 1.3</figcaption></figure><h1 id="1caf" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">销售表</h1><p id="c318" class="pw-post-body-paragraph ka kb in kc b kd nb kf kg kh nc kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ig bi translated">最后一步是创建销售表，我们来看看这个函数:</p><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/5fa7bffd85788127169dd32640cb7063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DhrmoNzb_g_ybsQgfautPw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片 1.5</figcaption></figure><p id="a734" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">名为<strong class="kc io"> create_sales_table </strong>的函数有 3 个参数，其中 2 个是已经创建的表:<strong class="kc io"> customer_table </strong>和<strong class="kc io"> product_table。</strong> <strong class="kc io"> number_of_rows </strong>是我们希望在<strong class="kc io">输出销售表</strong>中的行数。当然这个函数的输出是<strong class="kc io">熊猫数据帧。</strong></p><p id="b8f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个函数做什么？</p><ol class=""><li id="b16d" class="mm mn in kc b kd ke kh ki kl mo kp mp kt mq kx nj ms mt mu bi translated">创建空列表并将其存储在变量<strong class="kc io"> all_dfs </strong>中</li><li id="c938" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx nj ms mt mu bi translated">迭代范围 0 — <strong class="kc io">行数— 1 </strong>中的每个数字</li><li id="da59" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx nj ms mt mu bi translated">从<strong class="kc io">客户表</strong>和<strong class="kc io">产品表</strong>中随机抽取一行</li><li id="ba62" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx nj ms mt mu bi translated">水平连接<strong class="kc io"/>—在这个阶段，单行看起来像这样:</li></ol><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/0c70840f0a5f88a152c72ac518603a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lo65vUzP71D0gi6qza0B4g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">表 1.4</figcaption></figure><p id="b0e2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">5.现在添加了 3 个新列:</p><ul class=""><li id="b5fb" class="mm mn in kc b kd ke kh ki kl mo kp mp kt mq kx mr ms mt mu bi translated">数量(购买的产品数量—1 到 10 之间的随机数)</li><li id="0338" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx mr ms mt mu bi translated">日期(交易日期—使用名为<strong class="kc io"> date_between_dates — </strong>的 Faker 对象和方法生成，更多信息请查看<a class="ae jz" href="https://faker.readthedocs.io/en/master/providers/faker.providers.date_time.html" rel="noopener ugc nofollow" target="_blank">文档</a></li><li id="4616" class="mm mn in kc b kd mv kh mw kl mx kp my kt mz kx mr ms mt mu bi translated">transaction_id(迭代中的当前数目，范围从 0 到<strong class="kc io"> number_of_rows </strong> — 1)</li></ul><p id="f55c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">6.销售表单行追加到<strong class="kc io"> all_dfs </strong></p><p id="01e2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">7.将每次迭代中生成的单行(当然是垂直的)连接成一个表，如下所示:</p><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lh"><img src="../Images/22a47e807d5bf151eb04ab7a694202b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D3uF0vl4OVRf2Nm63StmOQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">表 1.5</figcaption></figure><p id="72a2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该表现在可能被加载到 sql 数据库中，并在您的项目中使用。</p><p id="dd5f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢阅读！</p></div></div>    
</body>
</html>