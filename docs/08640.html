<html>
<head>
<title>Use Sequelize ORM with PostgreSQL in Your Express Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Express 项目中使用带有 PostgreSQL 的 Sequelize ORM</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/use-sequelize-orm-with-postgresql-in-your-express-project-3c277b289522?source=collection_archive---------1-----------------------#2022-06-30">https://blog.devgenius.io/use-sequelize-orm-with-postgresql-in-your-express-project-3c277b289522?source=collection_archive---------1-----------------------#2022-06-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1cd178703d3fffaa13913721f6c76c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTZUg7ge-TYw0mChQM6ICg.jpeg"/></div></div></figure><p id="ab84" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用原始 SQL 查询可能非常具有挑战性，而且非常耗时。在本文中，我们将介绍如何在 Express 项目中建立一个名为<a class="ae kt" href="https://sequelize.org/" rel="noopener ugc nofollow" target="_blank"> Sequelize </a>的对象关系映射(ORM)框架。我们将使用 PostgreSQL 来连接和存储我们的数据。</p><p id="c626" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将使用 NPM 作为包装经理，但可以自由替换 NPM 纱。</p><h1 id="adff" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">初始化项目并安装依赖项</h1><p id="277c" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们需要做的第一件事是初始化 Express.js 项目。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="64a0" class="mg kv in mc b gy mh mi l mj mk">npm init -y</span></pre><p id="8859" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装快速</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="0ca0" class="mg kv in mc b gy mh mi l mj mk">npm install express</span></pre><p id="65be" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装 dotenv</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4407" class="mg kv in mc b gy mh mi l mj mk">npm install dotenv</span></pre><p id="0460" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将 Nodemon 作为开发依赖项安装</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="250f" class="mg kv in mc b gy mh mi l mj mk">npm install nodemon --save-dev</span></pre><p id="9579" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装序列</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="7702" class="mg kv in mc b gy mh mi l mj mk">npm install sequelize sequelize-cli pg pg-hstore</span></pre><h1 id="55ac" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">快速设置</h1><h2 id="afd0" class="mg kv in bd kw ml mm dn la mn mo dp le kg mp mq li kk mr ms lm ko mt mu lq mv bi translated">设置基本结构</h2><p id="1310" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们将首先打开我们的<strong class="jx io"> package.json </strong>文件，并在 scripts 标签中添加以下内容，这样我们就可以使用<em class="mw"> nodemon </em>来启动我们的应用程序，这样每当我们更改文件中的某些内容时，我们都可以获得即时反馈。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9a75" class="mg kv in mc b gy mh mi l mj mk">"scripts": {<br/>    "dev": "nodemon app.js"<br/>},</span></pre><p id="bb8a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们创建我们的<strong class="jx io"> app.js </strong>文件，它将包含以下内容。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="c9cf" class="mg kv in mc b gy mh mi l mj mk">'use strict'<br/><br/>require('dotenv').config()<br/><br/>var createError = require('http-errors')<br/>var express = require('express')<br/>var <strong class="mc io">path </strong>= require('path')<br/><br/>var <strong class="mc io">app </strong>= express()<br/><br/><strong class="mc io">app</strong>.use(express.json())<br/><strong class="mc io">app</strong>.use(express.urlencoded({ extended: false }))<br/><br/>// catch 404 and forward to error handler<br/><strong class="mc io">app</strong>.use(function (req, res, next) {<br/>    next(createError(404))<br/>})<br/><br/>// error handler<br/><strong class="mc io">app</strong>.use(function (err, req, res, next) {<br/>    // 404 Not Found.<br/>    if (err.status === 404) {<br/>      return res<br/>        .status(404)<br/>    }<br/>  <br/>    // 500 Internal Server Error (in production, all other errors send this response).<br/>    if (req.app.get('env') !== 'development') {<br/>      return res<br/>        .status(500)<br/>    }<br/>  <br/>    // set locals, only providing error in development<br/>    res.<strong class="mc io">locals</strong>.message = err.message<br/>    res.<strong class="mc io">locals</strong>.error = req.app.get('env') === 'development' ? err : {}<br/>  <br/>    // render the error page<br/>    res.status(err.status || 500)<br/>})<br/><br/>// Start listening.<br/><strong class="mc io">app</strong>.listen(3000, async () =&gt; {<br/>    <strong class="mc io">console</strong>.log('Server started on http://localhost:3000')<br/>    <strong class="mc io">console</strong>.log('Press Ctrl-C to terminate...')<br/>})<br/><br/>module.exports = <strong class="mc io">app</strong></span></pre><p id="c2ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们可以开始尝试在我们的机器上看到它的工作。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="edf6" class="mg kv in mc b gy mh mi l mj mk">npm run dev</span></pre><p id="a4b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您看到类似这样的内容，那么一切都正常运行了。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/ffbc92934c8d33a81f421f11f489cbeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YtsVFy82gnf3P0Hoz1ynvQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">npm 运行开发</figcaption></figure><p id="2746" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们没有任何路由、控制器或服务，但我们会在 Sequelize 设置完成后解决这个问题，这样我们就可以通过 HTTP 请求从数据库中获取数据。</p><h1 id="7931" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">在本地设置 PostgreSQL 数据库</h1><p id="6c79" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们需要建立并运行一个开发数据库，这样我们就可以向其中添加数据库模式并填充一些数据。你可以随意设置你的 PostgreSQL 数据库，但是对于这篇文章，我们将使用 Docker，因为它非常容易设置。</p><p id="fb83" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们简单地运行下面的命令，它将设置数据库。显然，首先要确保在你的电脑上安装 Docker。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="e402" class="mg kv in mc b gy mh mi l mj mk">docker run --name my_db \<br/>    -e POSTGRESQL_PORT=5432 \<br/>    -e POSTGRESQL_DB=my_db \<br/>    -e POSTGRESQL_USER=postgres \<br/>    -e <!-- -->POSTGRES_PASSWORD<!-- -->=test1234 \<br/>    -d postgres</span></pre><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/a1144b172aa8c394322efaa37d7175d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZokzDcVKSlwxHYarXIUNxA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">运行命令的输出</figcaption></figure><p id="26c0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将容器名称更改为您想要的任何名称(在第一行)，数据库名称和凭证。我们稍后在设置配置时会用到这些，所以请记住这些。</p><p id="49b9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们只需要创建数据库<strong class="jx io"> my_db </strong>。为了登录到服务器，在这个例子中，我使用了由<em class="mw"> Jetbrains </em>开发的<em class="mw"> DataGrip </em>(这是付费的，但是你可以免费试用)。右键点击服务器，按<strong class="jx io">新建</strong>和<strong class="jx io">数据库</strong>，写入<strong class="jx io"> my_db </strong>。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/914fd1abc37fd3c2c505180bc1a4e5ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Ijud_m_SasYoH04M2wKHg.png"/></div></div></figure><h1 id="bddc" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">设置顺序配置</h1><p id="b202" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在我们需要设置配置，当我们运行 Sequelize 命令时，它将知道文件放在哪里。</p><p id="ade0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先创建一个<strong class="jx io">。sequelizerc </strong>文件，代码如下。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="dd7b" class="mg kv in mc b gy mh mi l mj mk">const path = require('path')<br/><br/>module.exports = {<br/>  config: path.resolve('./database/config', 'config.js'),<br/>  'models-path': path.resolve('./database/models'),<br/>  'seeders-path': path.resolve('./database/seeders'),<br/>  'migrations-path': path.resolve('./database/migrations'),<br/>}</span></pre><p id="25b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们需要创建名为<strong class="jx io">数据库</strong>的目录和三个子目录:<strong class="jx io">配置</strong>、<strong class="jx io">模型</strong>、<strong class="jx io">种子</strong>和<strong class="jx io">迁移</strong>。</p><p id="d70b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在 config 目录中，我们将放入下面的<strong class="jx io"> config.js </strong>文件。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="2866" class="mg kv in mc b gy mh mi l mj mk">require('dotenv').config()<br/><br/>module.exports = {<br/>    development: {<br/>        url: <strong class="mc io">process</strong>.env.DEV_DATABASE_URL,<br/>        dialect: 'postgres',<br/>    },<br/>    test: {<br/>        url: <strong class="mc io">process</strong>.env.TEST_DATABASE_URL,<br/>        dialect: 'postgres',<br/>    },<br/>    production: {<br/>        url: <strong class="mc io">process</strong>.env.DATABASE_URL,<br/>        dialect: 'postgres',<br/>    },<br/>}</span></pre><p id="f4b8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们对 url 使用环境变量。这样的 URL 如下所示。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="93c8" class="mg kv in mc b gy mh mi l mj mk">DEV_DATABASE_URL=postgres://postgres:test1234@127.0.0.1:5432/my_db<br/>NODE_ENV=development</span></pre><p id="5fc8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">能够在本地创建环境变量。创造一个<strong class="jx io">。env </strong>文件，并将代码放在上面。</p><h1 id="d2d3" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">设置顺序模型</h1><p id="1b4c" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在我们准备创建我们的模型，为了创建一个模型。我们只需运行以下命令。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="bb1c" class="mg kv in mc b gy mh mi l mj mk">sequelize model:generate --name Post --attributes title:string,message:text</span></pre><p id="197d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请注意，逗号后面不能有空格，否则模型的生成将不起作用。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/6c50861bb6e552582f9bda25450b9a24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bQljZo7iXeuSNeJpBqZgnQ.png"/></div></div></figure><p id="a49a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们运行该命令后，我们现在可以看到模型已经生成，还有一个迁移文件，它定义了到 PostgreSQL 的迁移数据。</p><p id="0c98" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">注意，我们会自动获得两个字段<strong class="jx io"> createdAt </strong>和<strong class="jx io"> updatedAt </strong>。这些可以通过改变模型来指定不同的列名来改变。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="fbc1" class="mg kv in mc b gy mh mi l mj mk">createdAt: {type: DataTypes.DATE, allowNull: false, field: ‘created_at’}, <br/>updatedAt: {type: DataTypes.DATE, allowNull: false, field: ‘updated_at’},</span></pre><p id="fa1b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请注意，我们添加了一个新的字段值 created_at 和 updated_at，因此我们使用小写字母和下划线。看起来更好。</p><p id="fcbd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还可以通过在 Post 模型的选项中的 modelName 下添加这个表名来更改表名以使用 Post 而不是 Post。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="b620" class="mg kv in mc b gy mh mi l mj mk">tableName: ‘post’</span></pre><p id="c51a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它应该是什么样子的例子。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="8207" class="mg kv in mc b gy mh mi l mj mk">Post.init({<br/>  title: DataTypes.STRING,<br/>  message: DataTypes.TEXT,<br/>  likes: DataTypes.INTEGER<br/>}, {<br/>  sequelize,<br/>  modelName: 'Post',<br/>  tableName: 'posts'<br/>});</span></pre><p id="bedf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还必须在数据库/模型目录中设置一个包含以下内容的<strong class="jx io"> index.js </strong>文件。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="32fa" class="mg kv in mc b gy mh mi l mj mk">'use strict';<br/><br/>require('dotenv').config()<br/><br/>const fs = require('fs');<br/>const path = require('path');<br/>const Sequelize = require('sequelize');<br/>const basename = path.basename(__filename);<br/>const db = {};<br/><br/>let sequelize<br/><br/>if (process.env.NODE_ENV === 'development') {<br/>  sequelize = new Sequelize(process.env.DEV_DATABASE_URL)<br/>} else if (process.env.NODE_ENV === 'test') {<br/>  sequelize = new Sequelize(process.env.TEST_DATABASE_URL)<br/>} else {<br/>  sequelize = new Sequelize(process.env.DATABASE_URL)<br/>}<br/><br/>fs<br/>  .readdirSync(__dirname)<br/>  .filter(file =&gt; {<br/>    return (file.indexOf('.') !== 0) &amp;&amp; (file !== basename) &amp;&amp; (file.slice(-3) === '.js');<br/>  })<br/>  .forEach(file =&gt; {<br/>    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);<br/>    db[model.name] = model;<br/>  });<br/><br/>Object.keys(db).forEach(modelName =&gt; {<br/>  if (db[modelName].associate) {<br/>    db[modelName].associate(db);<br/>  }<br/>});<br/><br/>db.sequelize = sequelize;<br/>db.Sequelize = Sequelize;<br/><br/>module.exports = db;</span></pre><h1 id="0dcc" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">初始迁移</h1><p id="dbc5" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在我们需要迁移我们的新模式。运行以下命令进行迁移。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="91a8" class="mg kv in mc b gy mh mi l mj mk">sequelize db:migrate</span></pre><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/7a13c4b8fde6506cc03ab9318d218e5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7F8Xv_e1wewqr1b54OQ8Xg.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">数据库顺序化:迁移</figcaption></figure><p id="a4f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们在终端中看到我们已经成功迁移。让我们在一个 GUI 数据库工具中检查数据库，以便可视化它的外观。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/e7713ca54885b25bccbd83b3f1e1cf32.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*nLPSZSKAi59VP3m7FPWDbw.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">帖子表现已添加</figcaption></figure><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/f3f74356684a309b621a8b6d0e7d019f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g_iIY_0JQPCStaihFHHUhQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">帖子表的列</figcaption></figure><p id="77fa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们已经成功地将新模式添加到数据库中。</p><h1 id="928d" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">生成顺序迁移文件</h1><p id="f30b" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">当我们创建一个模型时，正如我们在上一节中看到的，它会自动生成一个迁移文件。在某些情况下，当我们进行迁移，然后我们希望根据新的模型定义用新的列更改数据库模式或删除现有的列时，我们可以使用新的迁移文件来更改模式。</p><p id="b1ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了生成新的迁移文件，我们运行下面的命令。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="697f" class="mg kv in mc b gy mh mi l mj mk">npx sequelize-cli migration:create --name adding_new_field_to_post</span></pre><p id="091d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们使用 sequelize-cli 工具创建一个名为<strong class="jx io">的迁移文件，它将描述迁移的操作。</strong></p><p id="ec18" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为此迁移添加以下代码。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="7a1e" class="mg kv in mc b gy mh mi l mj mk">'use strict';<br/><br/>module.exports = {<br/>  async up (queryInterface, Sequelize) {<br/>    await queryInterface.addColumn('Posts', 'likes', {<br/>      type: Sequelize.INTEGER,<br/>      allowNull: true,<br/>    })<br/>  },<br/><br/>  async down (queryInterface, Sequelize) {<br/>    await queryInterface.removeColumn('Posts', 'likes')<br/>  }<br/>};</span></pre><p id="1906" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在第一个异步函数<strong class="jx io"> up </strong>中，我们用我们想要更改的内容编写我们的更改命令，在第二个异步函数<strong class="jx io"> down </strong>中，我们编写我们的恢复命令，如果某些东西不起作用，我们就进行回滚。</p><p id="8d45" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这种情况下，我们添加一个新的列<strong class="jx io">like</strong>，类型为整数，并且我们允许空值。</p><p id="1b84" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">重要的是要知道，在编写迁移文件时，我们也需要更新模型，这样我们就不会在代码中使用错误的模型定义。</p><p id="74e0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以现在让我们更新模型。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="bd92" class="mg kv in mc b gy mh mi l mj mk">'use strict';<br/>const {<br/>  Model<br/>} = require('sequelize');<br/>module.exports = (sequelize, DataTypes) =&gt; {<br/>  class Post extends Model {<br/>    static associate(models) {<br/>      // define association here<br/>    }<br/>  }<br/>  Post.init({<br/>    title: DataTypes.STRING,<br/>    message: DataTypes.TEXT,<br/>    likes: DataTypes.INTEGER<br/>  }, {<br/>    sequelize,<br/>    modelName: 'Post',<br/>  });<br/>  return Post;<br/>};</span></pre><h1 id="6cea" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">将序列模式迁移到 PostgreSQL 数据库</h1><p id="ec7a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">当我们完成迁移文件和模型文件时，我们就准备好迁移了。要迁移，我们运行命令。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="e044" class="mg kv in mc b gy mh mi l mj mk">sequelize db:migrate</span></pre><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/c576629f00995277fa0a6e6a1bc775cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T76FCr-HpPN1QP3Bb0nZKA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">添加了名为“喜欢”的新专栏。</figcaption></figure><p id="0eab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们增加了新的“喜欢”栏。</p><h1 id="b336" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">生成用于测试的种子数据</h1><p id="2567" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">种子数据对于测试用途非常有用，所以我们用一些样本数据填充了数据库。生成种子数据并不难。让我们生成一个将用作种子数据的文件。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4e22" class="mg kv in mc b gy mh mi l mj mk">sequelize seed:generate --name Post</span></pre><p id="f87e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们指定我们将生成模型文章的种子数据。</p><p id="645b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在文件中添加以下内容。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="6e93" class="mg kv in mc b gy mh mi l mj mk">'use strict';<br/><br/>module.exports = {<br/>  up: (queryInterface, Sequelize) =&gt;<br/>      queryInterface.bulkInsert(<br/>          'Posts',<br/>          [<br/>            {<br/>              id: 1,<br/>              title: 'Sample post 1',<br/>              message: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',<br/>              likes: 1,<br/>              createdAt: new <strong class="mc io">Date</strong>(0).toISOString(),<br/>              updatedAt: new <strong class="mc io">Date</strong>(0).toISOString(),<br/>            },<br/>            {<br/>              id: 2,<br/>              title: 'Sample post 2',<br/>              message: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',<br/>              likes: 2, <br/>              createdAt: new <strong class="mc io">Date</strong>(0).toISOString(),<br/>              updatedAt: new <strong class="mc io">Date</strong>(0).toISOString(),<br/>            },<br/>            {<br/>              id: 3,<br/>              title: 'Sample post 3',<br/>              message: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ',<br/>              likes: 3,<br/>              createdAt: new <strong class="mc io">Date</strong>(0).toISOString(),<br/>              updatedAt: new <strong class="mc io">Date</strong>(0).toISOString(),<br/>            },<br/>          ],<br/>          {}<br/>      ),<br/>  down: (queryInterface, Sequelize) =&gt;<br/>      queryInterface.bulkDelete('Posts', null, {}),<br/>}</span></pre><p id="5440" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们在脚本列表中的 package.json 中添加更多的定义。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9e3e" class="mg kv in mc b gy mh mi l mj mk">“db:migrate”: “npx sequelize-cli db:migrate”,</span><span id="c01e" class="mg kv in mc b gy ng mi l mj mk">“db:reset”: “npx sequelize-cli db:drop &amp;&amp; npx sequelize-cli db:create &amp;&amp; npx sequelize-cli db:migrate &amp;&amp; npx sequelize-cli db:seed:all — seeders-path ./database/seeders”,</span></pre><p id="cbc4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们可以使用命令轻松地迁移数据库。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="974e" class="mg kv in mc b gy mh mi l mj mk">npm run db:migrate</span></pre><p id="f8bc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后完全重置数据库，并用新的种子填充数据库。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4fa7" class="mg kv in mc b gy mh mi l mj mk">npm run db:reset</span></pre><p id="2f92" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">运行 db:reset 时，记得在 GUI 中断开数据库，否则它会阻塞事务。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/7e6484bea5b34d2341c7a889e8c54487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8DV31OBoyICZ08bxNefIlA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">从种子填充的数据库</figcaption></figure><p id="02d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，来自播种器的数据的填充已经成功完成。太好了！</p><h1 id="42ac" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">创建 PostgreSQL 配置文件</h1><p id="75f1" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在我们需要设置 PostgreSQL 配置文件，以便在我们的服务中使用它。创建一个名为<strong class="jx io">的目录配置</strong>并在其中创建<strong class="jx io"> postgresql.js </strong>文件。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="56f9" class="mg kv in mc b gy mh mi l mj mk">/**<br/> * PostgreSQL configuration.<br/> */<br/><br/>'use strict'<br/><br/>require('dotenv').config()<br/><br/>const { Sequelize } = require('sequelize')<br/><br/>let sequelize<br/><br/>if (<strong class="mc io">process</strong>.env.NODE_ENV === 'development') {<br/>    sequelize = new Sequelize(<strong class="mc io">process</strong>.env.DEV_DATABASE_URL)<br/>} else if (<strong class="mc io">process</strong>.env.NODE_ENV === 'test') {<br/>    sequelize = new Sequelize(<strong class="mc io">process</strong>.env.TEST_DATABASE_URL)<br/>} else {<br/>    sequelize = new Sequelize(<strong class="mc io">process</strong>.env.DATABASE_URL)<br/>}<br/><br/>try {<br/>    sequelize.authenticate()<br/>        .then(r =&gt;<br/>            <strong class="mc io">console</strong>.log('INFO: Connection to database has been established successfully.')<br/>        );<br/>} catch (err) {<br/>    <strong class="mc io">console</strong>.log('ERROR: Unable to connect to the database - ', err)<br/>}<br/><br/>const <strong class="mc io">db </strong>= {};<br/><br/><strong class="mc io">db</strong>.sequelize = sequelize<br/><strong class="mc io">db</strong>.Sequelize = Sequelize<br/><br/>module.exports = <strong class="mc io">db</strong></span></pre><h1 id="2ee8" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">创建路线、控制器和服务</h1><p id="6697" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在，当我们完成 Sequelize 的基础设置后，是时候创建一个简单的路由、控制器和服务，通过 Express.js 作为 RESTful API 从数据库中获取一些数据。</p><p id="f69f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先在项目的根目录下创建三个目录。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4eeb" class="mg kv in mc b gy mh mi l mj mk">mkdir routes<br/>mkdir controllers<br/>mkdir services</span></pre><p id="d1c8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们在 routes 目录下创建<strong class="jx io"> postRoute.js </strong>文件。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="048f" class="mg kv in mc b gy mh mi l mj mk">/**<br/> * Post routes.<br/> */<br/><br/>'use strict'<br/><br/>const <strong class="mc io">express </strong>= require('express')<br/>const <strong class="mc io">router </strong>= <strong class="mc io">express</strong>.Router()<br/><br/>const controller = require('../controllers/postController')<br/><br/><strong class="mc io">router</strong>.get('/posts', controller.getAll)<br/><br/>module.exports = <strong class="mc io">router</strong></span></pre><p id="cc04" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后在控制器目录中添加<strong class="jx io"> postController.js </strong>文件。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="987b" class="mg kv in mc b gy mh mi l mj mk">/**<br/> * Post Controller<br/> */<br/><br/>'use strict'<br/><br/>let db = require("../configs/postgresql"),<br/>    sequelize = db.sequelize,<br/>    Sequelize = db.Sequelize<br/><br/>const <strong class="mc io">postService </strong>= require('../services/postService')<br/><br/>const <strong class="mc io">postController </strong>= {}<br/><br/>/**<br/> * Get all posts<br/> *<br/> * <strong class="mc io">@param </strong>{object} req - Express request object.<br/> * <strong class="mc io">@param </strong>{object} res - Express response object.<br/> */<br/><strong class="mc io">postController</strong>.getAll = async (req, res) =&gt; {<br/>    <strong class="mc io">postService</strong>.getAll()<br/>        .then(data =&gt; {<br/>            res.json(data)<br/>        })<br/>        .catch(err =&gt; {<br/>            res.status(404).send({<br/>                message: err.message || 'Some error occurred while retrieving data.'<br/>            })<br/>        })<br/>}<br/><br/>module.exports = <strong class="mc io">postController</strong></span></pre><p id="ca65" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，在服务目录中创建<strong class="jx io"> postService.js </strong>文件。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="b738" class="mg kv in mc b gy mh mi l mj mk">/**<br/> * Post Service<br/> */<br/><br/>'use strict'<br/><br/>const db = require('../configs/postgresql')<br/>const models = require("../database/models")<br/><br/>const <strong class="mc io">postService </strong>= {}<br/><br/>/**<br/> * Get all posts<br/> */<br/><strong class="mc io">postService</strong>.getAll = async () =&gt; {<br/>    return models.Post.findAndCountAll({<br/>        order: [<br/>            ['id', 'ASC'],<br/>        ],<br/>    })<br/>}<br/><br/>module.exports = <strong class="mc io">postService</strong></span></pre><p id="006c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们需要做的最后一件事是在 app.js 文件中定义它，这样我们就可以加载路线。在顶部添加以下一行:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="045a" class="mg kv in mc b gy mh mi l mj mk">var postRouter = require('./routes/postRouter')</span></pre><p id="a2e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以及这些之后的下一行:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="ef35" class="mg kv in mc b gy mh mi l mj mk"><strong class="mc io">app</strong>.use(<strong class="mc io">express</strong>.<strong class="mc io">json</strong>())<br/><strong class="mc io">app</strong>.use(<strong class="mc io">express</strong>.<strong class="mc io">urlencoded</strong>({ extended: false }))</span><span id="d3cb" class="mg kv in mc b gy ng mi l mj mk"><strong class="mc io">app</strong>.use('/api/v1/', postRouter)</span></pre><p id="e737" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这里，我们指定 posts 路由应该在/api/v1/下。因此，让我们尝试对/api/v1/posts 进行 API 调用，看看我们得到了什么内容(我们应该已经有了来自 seeder 的示例数据)。不要忘记通过运行以下命令来启动服务器:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="39cd" class="mg kv in mc b gy mh mi l mj mk">npm run dev</span></pre><p id="598d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在使用 cURL 或 Postman 或任何其他 HTTP 客户端来尝试一下。我们将在这里测试 cURL:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="3ff7" class="mg kv in mc b gy mh mi l mj mk">curl <a class="ae kt" href="http://localhost:3000/api/v1/posts" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/api/v1/posts</a></span></pre><p id="fec2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们得到了输出:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="e7ac" class="mg kv in mc b gy mh mi l mj mk">{“count”:3,”rows”:[{“id”:1,”title”:”Sample post 1",”message”:”Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. “,”likes”:1,”createdAt”:”1970–01–01T00:00:00.000Z”,”updatedAt”:”1970–01–01T00:00:00.000Z”},{“id”:2,”title”:”Sample post 2",”message”:”Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. “,”likes”:2,”createdAt”:”1970–01–01T00:00:00.000Z”,”updatedAt”:”1970–01–01T00:00:00.000Z”},{“id”:3,”title”:”Sample post 3",”message”:”Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. “,”likes”:3,”createdAt”:”1970–01–01T00:00:00.000Z”,”updatedAt”:”1970–01–01T00:00:00.000Z”}]}</span></pre><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/0d2c9b5b4b88866b539b1f4483fdd732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OMiC64UFOWD3KG5DNVGEuA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">curl<a class="ae kt" href="http://localhost:3000/api/v1/posts" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/API/v1/posts</a></figcaption></figure><p id="802c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有用！太好了，我们从数据库中得到数据。我们还可以在控制台中看到，它显示了所使用的 SQL 查询。这有利于调试。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/e0c6e05a4a6b1e29215b7bc777cb3ec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cDonj1SpbtoNrSZ0k1zDuQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">对数据库的 SQL 查询</figcaption></figure><h1 id="7cb1" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">摘要</h1><p id="5a09" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">所以在这篇文章中，你现在应该知道如何以一种基本的方式使用序列。还有很多更小的事情，你可以用不同的方式来做，以及如何用 Mocha 和 Chai 来设置运行单元测试。在我的下一篇文章中，我将详细介绍这些步骤。</p><h1 id="6acf" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">与我联系</h1><ul class=""><li id="87ae" class="nk nl in jx b jy ls kc lt kg nm kk nn ko no ks np nq nr ns bi translated">推特—<a class="ae kt" href="https://twitter.com/mjovanc" rel="noopener ugc nofollow" target="_blank">https://twitter.com/mjovanc</a></li><li id="102e" class="nk nl in jx b jy nt kc nu kg nv kk nw ko nx ks np nq nr ns bi translated">GitHub—【https://github.com/mjovanc T2】</li><li id="ed29" class="nk nl in jx b jy nt kc nu kg nv kk nw ko nx ks np nq nr ns bi translated">领英—【https://www.linkedin.com/in/marcuscvjeticanin/ T4】</li></ul><h1 id="1f22" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">参考</h1><ul class=""><li id="1f86" class="nk nl in jx b jy ls kc lt kg nm kk nn ko no ks np nq nr ns bi translated">模型基础知识<a class="ae kt" href="https://sequelize.org/docs/v6/core-concepts/model-basics/#:~:text=Models%20are%20the%20essence%20of,(and%20their%20data%20types)." rel="noopener ugc nofollow" target="_blank">https://sequelize . org/docs/V6/core-concepts/model-Basics/#:~:text = Models % 20 is % 20 the % 20 essence % 20 of，(and%20their%20data%20types)。</a></li><li id="86de" class="nk nl in jx b jy nt kc nu kg nv kk nw ko nx ks np nq nr ns bi translated">迁徙<a class="ae kt" href="https://sequelize.org/docs/v6/other-topics/migrations/" rel="noopener ugc nofollow" target="_blank">https://sequelize.org/docs/v6/other-topics/migrations/</a></li><li id="117f" class="nk nl in jx b jy nt kc nu kg nv kk nw ko nx ks np nq nr ns bi translated">模型查询<a class="ae kt" href="https://sequelize.org/docs/v6/core-concepts/model-querying-basics/" rel="noopener ugc nofollow" target="_blank">https://sequelize . org/docs/V6/core-concepts/model-query-basics/</a></li></ul></div></div>    
</body>
</html>