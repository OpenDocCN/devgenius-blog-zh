<html>
<head>
<title>Undoing commits &amp; changes — 14 days of Git</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">撤销提交和更改— 14 天的 Git</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/undoing-commits-changes-14-days-of-git-13cef95faaff?source=collection_archive---------10-----------------------#2022-09-23">https://blog.devgenius.io/undoing-commits-changes-14-days-of-git-13cef95faaff?source=collection_archive---------10-----------------------#2022-09-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/729e9ecd288ab024ed0650876e50df5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xpFWfq6bzZrqiimw.png"/></div></div></figure><p id="dafe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们正处于 14 天 Git 学习之旅的第 7 天，到目前为止，我已经探索了:</p><p id="92a9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在是时候开始考虑如何撤销对存储库的提交和更改了！</p><h1 id="5761" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">撤消提交和更改</h1><p id="b759" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">有时候你会做出承诺，然后意识到无论出于什么原因你都想撤销它。</p><p id="febd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不过，这样做的最佳方式是什么？删除你刚刚创建的文件，删除你在文件中写的那一行？当你做了大量的改变，却不记得所有需要撤销的部分时，会发生什么？</p><p id="1198" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是 git 恢复的地方，git 重置可以有所帮助。</p><h1 id="4b20" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">Git 还原</h1><p id="d36b" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">Git revert 是一个命令，可以删除一次提交对存储库所做的所有更改。</p><p id="f9f5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当您恢复 Git 提交时，来自该提交的更改将从您的本地工作区中删除。并且创建一个新的提交来反映您的存储库的新状态。</p><p id="1e69" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们用行动来证明这一点。</p><p id="c80d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我发出一个命令来创建一个名为<em class="lw"> index.md </em>的新文件，并添加和提交该文件。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f205c5affde292c939b953fb6a016fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WyGYImBXf9z6lNWZPKEeZQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">添加新文件并提交到存储库</figcaption></figure><p id="5bd2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我想恢复那个提交，我首先需要使用命令<em class="lw"> git reflog </em>来获得关于那个提交的更多细节。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mf"><img src="../Images/8a2f7b08385b35821876c84cf9a7226d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CXDBJDy9MU6BCyEUhxvc2g.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">git reflog 命令</figcaption></figure><p id="0276" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="lw"> git reflog </em>命令给了我恢复提交所需的提交号。</p><p id="ac8d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这种情况下，我想恢复提交<em class="lw"> 93a79b1。</em></p><p id="9281" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我现在可以发出命令<strong class="jx io"><em class="lw">git revert 93a 79 b 1</em></strong></p><p id="f2f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为这个命令正在创建一个新的提交，所以有人问我希望新的提交消息反映什么。</p><p id="9c1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">重要的是要记住，使用这个命令，您只是恢复提交，而不是清除提交的历史。因此，任何更改仍然可以在存储库的历史中引用。</p><h1 id="3c1d" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">Git 重置</h1><p id="09f9" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">使用 Git revert，我们只是撤销了特定提交的更改。但是，有时您可能希望恢复自给定提交以来发生的所有更改。</p><p id="f3ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是可以使用<em class="lw"> git 复位</em>命令的地方。</p><p id="7823" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用 Git 重置的步骤如下:</p><ol class=""><li id="1fba" class="mg mh in jx b jy jz kc kd kg mi kk mj ko mk ks ml mm mn mo bi translated">使用<em class="lw"> git reflog </em>获取您希望重置的提交号</li><li id="b576" class="mg mh in jx b jy mp kc mq kg mr kk ms ko mt ks ml mm mn mo bi translated">发出命令<em class="lw"> git 复位号</em></li><li id="032e" class="mg mh in jx b jy mp kc mq kg mr kk ms ko mt ks ml mm mn mo bi translated">存储库不会将您的存储库重置为选择提交时的状态</li></ol><p id="8fc4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">同样，使用<em class="lw"> git reset </em>命令，记住您只是恢复到以前的状态，而不是删除历史。它仍然会在那里看到和参考。</p><h1 id="399f" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">14 天的饭钱</h1><p id="7248" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">今天，研究如何撤销变更或转移到存储库历史上的另一个时间是很有趣的。<em class="lw"> git 重置</em>和<em class="lw"> git 恢复</em>有两个明确的使用案例和区别。</p><p id="8207" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">很好地扩展了我的知识，并从 Git 产品组合中学到了更多的命令。</p><p id="a27b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我 14 天 Git 学习之旅的下一步是寻找重写历史！请务必<a class="ae mu" href="https://www.techielass.com/newsletter" rel="noopener ugc nofollow" target="_blank">订阅</a>，加入我们的学习之旅！</p><p id="c77e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以跟着这里:【https://github.com/weeyin83/14daysofgit】T4</p></div><div class="ab cl mv mw hr mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ig ih ii ij ik"><p id="f3e1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="lw">原载于 2022 年 9 月 23 日 https://www.techielass.com</em><em class="lw"/><a class="ae mu" href="https://www.techielass.com/undoing-commits-changes/" rel="noopener ugc nofollow" target="_blank"><em class="lw">。</em></a></p></div></div>    
</body>
</html>