<html>
<head>
<title>Moving Platform A Different Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以不同的方式移动平台</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/moving-platform-a-different-way-ce5992cc8dec?source=collection_archive---------5-----------------------#2021-06-25">https://blog.devgenius.io/moving-platform-a-different-way-ce5992cc8dec?source=collection_archive---------5-----------------------#2021-06-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d874" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">创建一个模块化的移动平台，并把它变成一个预制组件</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/53da13735ca3433b01d05cbf2537bdfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/1*-McQripSPoBKHAJco1_MFA.gif"/></div></figure><p id="edc3" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">为了创建这个平台，我将使用Cinemachine Smooth Path作为我的路径点，就像我在本文中所做的一样。</p><div class="lg lh gp gr li lj"><a rel="noopener  ugc nofollow" target="_blank" href="/moving-platform-part-2-71b3addbc462"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd io gy z fp lo fr fs lp fu fw im bi translated">移动平台第2部分</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">使用Cinemachine平滑路径</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">blog.devgenius.io</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx ki lj"/></div></div></a></div><p id="67b8" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">为此，我不会使用推车，因为我不想改变平台的旋转，而是使用<a class="ae ly" href="https://docs.unity3d.com/2021.1/Documentation/ScriptReference/Vector3.MoveTowards.html" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> Vector3。像我在这篇文章中所做的那样，用变换向</strong> </a>移动。</p><div class="lg lh gp gr li lj"><a rel="noopener  ugc nofollow" target="_blank" href="/moving-platforms-in-unity-4d7299b2d013"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd io gy z fp lo fr fs lp fu fw im bi translated">在Unity中移动平台</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">在两个变换之间移动</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">blog.devgenius.io</p></div></div><div class="ls l"><div class="lz l lu lv lw ls lx ki lj"/></div></div></a></div><p id="9791" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">融合了两者的优点。</p><p id="36e3" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我创建了一个空的游戏对象来放置我的移动平台。我把我的平台预制添加进去。我通过打开可抓取的壁架并关闭普通壁架，使两个壁架都是可抓取的<strong class="km io"> e </strong>。然后我添加了一个</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi ma"><img src="../Images/0f52cc90491e32a23652d7208d28ba3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Pg_9Cyce6_H-Gp_5YwMZkA.gif"/></div></div></figure><p id="fe6b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我从让它动起来所需的基础开始。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mf"><img src="../Images/c8ab7fb807ec5611172d1e052cfe5122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*___9iocPsVA9wiulKg9frg.png"/></div></div></figure><p id="735c" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我填写更新方法。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mg"><img src="../Images/a13cc606ac9cb1c4896e435c9f6cd4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*15LJFdW1WjxHwV5W27uOJw.png"/></div></div></figure><p id="9fd2" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">然后我填写下一个位置方法。为了得到下一个位置，我使用Cinemachine基本路径评估单位位置方法。此方法返回由给定位置单位确定的给定位置处的向量3。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mh"><img src="../Images/ed995e054177f04bb52d7e922a5e6719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sc27mX2i2-AcyyE9OpS5fQ.png"/></div></div></figure><p id="bb36" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我将可移动平台作为一个组件添加到移动平台，并在检查器中设置值，然后将它变成一个预置。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/c15b8fa375fe1d24919e1f6abf723022.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/1*yMAmzSnAyPGmexlGL_iUBQ.gif"/></div></figure><p id="d43b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在我已经有了一个预制品，我把可移动的平台设置到我想要的位置，并为它创建路径。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mj"><img src="../Images/bcf819a2fc2741df790a9e409d126393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5df5pDZobQD3wIpZ2QnUAw.gif"/></div></div></figure><p id="5e18" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在，我通过在玩家进入平台时将玩家的父代设置为平台，并在玩家退出平台时将玩家的父代设置为null，修复了玩家不随平台移动的问题。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mk"><img src="../Images/d43a5c473fbf68e4c3a09635e07969bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vTp-N4NF6XrxeUaCa_1KiA.png"/></div></div></figure><p id="1846" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">由于触发器在平台上，而不是移动平台主对象上，我需要给移动平台添加一个刚体，这样触发器碰撞就会发生。此外，我应该使用固定更新而不是更新，我需要设置玩家的父母平台转换。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/1602e41d8aae1eb7b8e78745daf5b0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*ceSJhhet8_Z1reqyBBwVWQ.png"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mm"><img src="../Images/f925b0d32b46a99261cadd42e401a99f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jaSnFBaTkPFk2z7zhpIo6A.gif"/></div></div></figure><p id="a8dc" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">同样，当玩家抓住一个壁架时，当前设置会关闭角色控制器，这意味着玩家退出碰撞器，不再随平台移动。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mn"><img src="../Images/767a893e960b12d7f184ddb5c60ca76a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*M_8MlK4yPlj55UwbXG6_dg.gif"/></div></div></figure><p id="0987" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要解决这个问题很简单，在把它的父对象设置为空之前，先检查一下玩家是否在抓壁架。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mo"><img src="../Images/cae87ab6a79b204dc3b292f79b53c699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VqcBINJd4AVfsRLL4j_GeA.gif"/></div></div></figure><p id="2923" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">将壁架抓取脚本对象添加到移动平台预设</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/a5d8a68370128ae971c15b3acb065980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/1*6Er8q9K9TtvF8AZav3E2Xw.gif"/></div></figure><p id="c150" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我还不得不改变平台上的箱子碰撞器触发器，它在Z轴上不够大，以至于在抓取壁架时与玩家发生碰撞。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mp"><img src="../Images/c16865ab6b466dc73e364d6ca4eabe07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NVSb2Wj49gUYi0nJy82UYQ.png"/></div></div></figure><p id="d098" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在我有了一个玩家可以抓住的移动平台。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mq"><img src="../Images/eca1c9b4ddac292233f90058c11a299e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8hsLsZ2ZR4unyhUrgX6tcA.gif"/></div></div></figure><p id="a32a" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我必须考虑的一件事是，玩家在抓壁架时不使用物理系统，所以我必须确保任何移动的平台都不能以玩家可能会撞到什么东西的方式移动。</p></div></div>    
</body>
</html>