<html>
<head>
<title>Choosing the Right Git Branching Strategy for Your Team</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为您的团队选择正确的Git分支策略</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/choosing-the-right-git-branching-strategy-for-your-team-2a53144fcbdb?source=collection_archive---------0-----------------------#2020-06-25">https://blog.devgenius.io/choosing-the-right-git-branching-strategy-for-your-team-2a53144fcbdb?source=collection_archive---------0-----------------------#2020-06-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6702" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用流程图分析多分支策略</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2a19444264bcf9a2b1488fd2a9757713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m-_rJUUIcezPWY7c"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="4d30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"> Git </a>是目前市场上最流行的版本控制和源代码管理工具。它彻底改变了我们看待版本控制的方式，它的分布式存储库结构可以帮助开发人员分离并处理他们的本地存储库，然后再附加回来将更改推送到远程存储库。Git在本地repo中维护的版本控制与它在远程中维护的版本控制相同，因为本地repo只是远程的克隆。</p><p id="1278" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个使用Git的组织都有某种形式的分支策略，如果他们在团队中工作并交付有用的软件的话。没有正确的分支策略，开发人员和行业专家一直争论哪一个是最好的。</p><p id="ab1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管你可以根据自己的需要自由地实现一个定制的分支策略，但是，有一些已经被广泛接受和利用。让我们深入研究一些最流行的分支策略，并理解什么最适合什么样的团队。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5482" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">GitFlow</h1><p id="d665" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Vincent Driessen创建了GitFlow，它是大多数企业采用的最流行的分支策略之一，这些企业有许多团队交付一个软件，多个利益相关者推动多个需求和功能请求。</p><ul class=""><li id="1222" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">GitFlow的特性分支允许多个开发人员并行处理不同的特性。</li><li id="8742" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">当单元测试完成并准备好时，他们将特性分支合并成开发分支。</li><li id="41d8" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">然后，开发分支分支成多个发布分支，组成一个时间发布点。一旦您部署了一个特定的发布版本，它就会合并回主分支，并使用发布版本进行标记。</li><li id="244d" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">它还允许使用直接合并到主服务器的修补程序分支的修补程序。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/26b5a237954135842271b36f619c2b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQZq0Wy1NT94h-UnTa4QTQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:<a class="ae kv" href="https://nvie.com/posts/a-successful-git-branching-model/" rel="noopener ugc nofollow" target="_blank">文森特·德里森</a></figcaption></figure><p id="d172" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更不用说开发人员提出将代码合并到开发分支的pull-request。这是必要的，因为在您将代码与一个稳定的分支合并之前，您希望有另一双眼睛看着您的代码。一些团队还在他们的CI过程中使用静态代码分析工具，如SonarQube，以确保这是自动处理的。</p><h2 id="7a23" class="nl ma iq bd mb nm nn dn mf no np dp mj lf nq nr ml lj ns nt mn ln nu nv mp nw bi translated">何时使用GitFlow</h2><p id="e3e8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果您正在开发一个具有紧密耦合的代码库的单片应用程序，不能被分离和简化成更小的部分(就像在基于微服务的架构中)，那么GitFlow提议听起来不错。这并不意味着您应该总是将GitFlow用于单片应用程序，因为还有其他方法可以做到这一点。由于GitFlow的复杂性，您应该只在您的用例需要时使用它。</p><p id="bece" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你有</p><ul class=""><li id="f25b" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">大型代码整体代码库</li><li id="dea1" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">不同开发人员处理的多个特性请求</li><li id="aea6" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">面向未来的多个时间点发布，具有静态发布窗口</li><li id="d876" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">开发和发布之间的时间间隔从几周到几个月不等</li></ul><p id="8fab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么GitFlow更适合你。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3148" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">GitHub流</h1><p id="30f3" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">对于那些认为应该更频繁地将软件发布到产品中，并希望避免发布过程中所有复杂的晦涩难懂和治理的极客来说，您可能已经在使用Github flow了。GitHub flow是开发人员之间最简单的协作方式之一，被大多数快速开发、测试和部署的开源项目所使用。</p><p id="7450" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GitHub Flow是由(是的你猜对了)<a class="ae kv" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>推广的，有以下流程:</p><ul class=""><li id="93f8" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">您从master中分支出来，创建一个特性分支，处理这个特性，并测试它。</li><li id="e31e" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">一旦您的测试完成，并且您想要部署到生产环境中，您可以提出一个pull请求，将您的代码合并到master中。</li><li id="8112" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">一旦您的pull请求被批准，您就可以将您的代码合并到主分支中，然后可以对其进行标记并部署到生产中。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/7274ab89937e87e38f5e080b64836c32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7VbHpGgGlEr2wl_SoRyBvQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:<a class="ae kv" href="https://guides.github.com/introduction/flow/" rel="noopener ugc nofollow" target="_blank"> GitHub </a></figcaption></figure><p id="896b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！主分支总是包含干净的、可部署的和已评审的代码，准备部署到产品中。您可以构建一个连续的交付管道来监视您的主分支，并在检测到合并时部署到生产环境中。</p><h2 id="852b" class="nl ma iq bd mb nm nn dn mf no np dp mj lf nq nr ml lj ns nt mn ln nu nv mp nw bi translated">何时使用GitHub流</h2><p id="e68f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这个过程听起来很简单，许多组织都在非常有效地使用它，但是这个策略并不适合所有人。</p><p id="5bcb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你有</p><ul class=""><li id="4dda" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">仅针对应用程序的特定组件的多个较小的存储库(例如在微服务架构中)</li><li id="7d73" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">频繁地发布到产品中(从开发到发布的周期是几天到几周)。</li><li id="e400" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">不需要担心释放。您总是将最新的代码部署到产品中。</li><li id="3aa6" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">想要一个纯CI/CD部署方法</li></ul><p id="2d08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么GitHub flow适合你。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="42c0" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">改进的GitHub流——中间地带</h1><p id="17e9" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">嗯，我已经谈到了两个极端，而大多数组织在某个地方处于中间。您确实希望在准备就绪时发布，但也希望维护一个单独的代码库，以反映部署到生产环境中的代码。GitHub flow不会为生产保留不同的代码基础，并且您不需要在合并到主组件后立即进行部署。</p><p id="2f13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，大多数组织需要一个分支，在将代码最终合并到产品中之前，他们可以在那里进行集成测试的部署。这将允许您的QA团队在稳定的代码基础上进行测试，同时您的开发人员通过将功能分支合并到QA分支中来处理功能并交付到测试环境中。</p><p id="5f08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，您可以使用修改过的GitHub流。</p><ul class=""><li id="3253" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">开发人员在特性分支上开发并测试它。</li><li id="d104" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">然后，他们将特性分支合并到主分支，通过拉请求进行QA测试。这就是CI流程开始并将代码部署到QA环境的地方。测试人员在这里运行他们的集成测试。</li><li id="5476" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">一旦测试完成，并且您准备好发布，您就可以将代码部署到生产中，并将其与生产分支合并。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/cc1472eea2017524d10397ae2766e00e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t330baccDJ96NzU3LudOoA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:作者</figcaption></figure><p id="8ab4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">生产分支总是反映生产代码，它允许操作团队通过从生产分支分支到修补分支来进行修补，测试代码并将其合并回生产，而不会干扰功能的交付。</p><h2 id="519a" class="nl ma iq bd mb nm nn dn mf no np dp mj lf nq nr ml lj ns nt mn ln nu nv mp nw bi translated">何时使用修改后的GitHub流</h2><p id="dcf0" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我同意它适合大多数用例，并且是看待软件交付的最实用的方式之一。它不像GitHub流那样雄心勃勃，也不像GitFlow那样杀戮过度。我并不是说GitFlow不对——它有它的用例以及用户基础，但是认真地说，只有在你需要的时候才使用GitFlow。</p><p id="6888" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你有</p><ul class=""><li id="5246" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">更短的发布周期(从开发到生产的周期时间是几天到几周)</li><li id="3dbb" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">希望在特定的维护窗口发布</li><li id="7854" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">拥有一个CI/CD友好的环境</li><li id="d4e1" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">不要担心多个版本或者没有一个相当大的单一代码库。</li></ul><p id="9541" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么修改后的GitHub流量更适合你。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3ef8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">摘要</h1><p id="c24a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">下面让我们将分支策略总结成一个有用的流程图</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/94d6f0082d37406b83d34cc9c5717ec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C208VoVCv8VTMYso-paPYQ.png"/></div></div></figure><p id="3865" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些只是基于经验的指导方针，你可能有自己的创新方法来解决你的问题。这取决于你的团队结构和工作方式，就像我说的，没有放之四海而皆准的方法，所以要不断尝试和改进。</p><p id="54c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！我希望你喜欢这篇文章。</p></div></div>    
</body>
</html>