<html>
<head>
<title>Useful JavaScript Tips — Objects and Methods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的 JavaScript 技巧——对象和方法</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/useful-javascript-tips-objects-methods-and-urls-62306d7e8665?source=collection_archive---------22-----------------------#2020-07-01">https://blog.devgenius.io/useful-javascript-tips-objects-methods-and-urls-62306d7e8665?source=collection_archive---------22-----------------------#2020-07-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/440158f7bc0c1d7f655ee3210c487238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qPBNb2kz8L6lTwoA"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">戴安娜·莫莱斯在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3f44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript 应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些应该遵循的技巧，以便更快更好地编写 JavaScript 代码。</p><h1 id="ffcf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">动态选择一种方法</h1><p id="6d97" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用括号符号来动态地选择一个方法。</p><p id="1c5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="855f" class="mn lc iq mj b gy mo mp l mq mr">animal[isDog ? 'bark' : 'speak']()</span></pre><p id="be06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而不是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="903c" class="mn lc iq mj b gy mo mp l mq mr">if (isDog) {<br/>  animal.bark()<br/>} else {<br/>  animal.speak()<br/>}</span></pre><p id="2d84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们做同样的事情。</p><p id="5860" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个使用三元运算符。</p><p id="a584" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个我们这个<code class="fe ms mt mu mj b">if</code>声明。</p><p id="eeec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个比较短，可以考虑用。</p><h1 id="448b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">调试工具</h1><p id="a902" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe ms mt mu mj b">console</code>对象来帮助我们调试。</p><p id="c234" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以使用<code class="fe ms mt mu mj b">console.log</code>来记录表达式的值。</p><p id="ee8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1053" class="mn lc iq mj b gy mo mp l mq mr">console.log(a)</span></pre><p id="8ccb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">记录<code class="fe ms mt mu mj b">a</code>的值。</p><h1 id="c1d3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Chrome 开发工具</h1><p id="6c0a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">控制台日志的输出最终出现在 Chrome 开发工具的控制台标签中。</p><h1 id="470e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">调试器</h1><p id="3e43" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Chrome 开发工具窗口也有一个内置的调试器。</p><p id="db41" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以添加断点并检查那里的变量值。</p><p id="6415" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">调试器位于“源代码”选项卡中。</p><p id="cbea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以转到一个文件并打开断点。</p><p id="8bc6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么代码将在断点处暂停。</p><p id="7031" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有多种类型的断点。</p><p id="cffd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个是 XHR/获取断点，当一个网络请求被发送时，它中止程序。</p><p id="45b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">DOM 元素改变时触发 DOM 断点。</p><p id="4059" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当事件发生时，触发事件侦听器断点。</p><p id="7c77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当到达断点时，打印该范围内的所有变量。</p><p id="7ed0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以单击断点上的+按钮来显示表达式的值。</p><p id="6d98" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想继续运行代码，我们可以跳过代码继续执行，直到下一行并停止。</p><p id="c632" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">单步执行进入正在运行的函数。</p><p id="45ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同一个窗格具有调用堆栈，其中记录了所有调用的函数。</p><p id="c130" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e04c" class="mn lc iq mj b gy mo mp l mq mr">node --inspect</span></pre><p id="ceee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在浏览器中调试 Node.js 应用程序。</p><h1 id="3791" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">打电话申请</h1><p id="403b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe ms mt mu mj b">call</code>和<code class="fe ms mt mu mj b">apply</code>可用于改变<code class="fe ms mt mu mj b">this</code>的值并调用函数。</p><p id="bc10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它与传统功能一起工作。</p><p id="a520" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，给定以下函数:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e978" class="mn lc iq mj b gy mo mp l mq mr">function greet(greeting) {<br/>  console.log(`${greeting}, ${this.name}`);<br/>}</span></pre><p id="affe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c7bb" class="mn lc iq mj b gy mo mp l mq mr">greet.call({<br/>  name: 'james'<br/>}, 'hi');</span></pre><p id="3490" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用了<code class="fe ms mt mu mj b">call</code>函数，通过用第一个参数设置<code class="fe ms mt mu mj b">this</code>的值来调用<code class="fe ms mt mu mj b">greet</code>。</p><p id="51e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后将我们想要的参数作为第二个参数传递给<code class="fe ms mt mu mj b">greet</code>函数。</p><p id="a21f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们看到<code class="fe ms mt mu mj b">'hi, james’</code>记录在控制台中。</p><p id="826f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">apply</code>与此类似，只是参数是以数组的形式传入的。</p><p id="b4ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ee6b" class="mn lc iq mj b gy mo mp l mq mr">function greet(greeting) {<br/>  console.log(`${greeting}, ${this.name}`);<br/>}</span><span id="2230" class="mn lc iq mj b gy mv mp l mq mr">greet.apply({<br/>  name: 'james'<br/>}, ['hi']);</span></pre><p id="4759" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个数组，而不仅仅是第二个参数。</p><p id="ba17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了同样的结果。</p><h1 id="6d1d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">计算对象中属性的数量</h1><p id="f32a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe ms mt mu mj b">Object.keys</code>来返回一个非继承的字符串属性键数组。</p><p id="c767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们可以使用<code class="fe ms mt mu mj b">length</code>属性来获取对象中属性的数量。</p><p id="3e47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="737c" class="mn lc iq mj b gy mo mp l mq mr">const dog = {<br/>  color: 'white',<br/>  breed: 'poodle'<br/>}</span></pre><p id="d444" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="674c" class="mn lc iq mj b gy mo mp l mq mr">Object.keys(dog).length</span></pre><p id="4516" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们得到 2，因为<code class="fe ms mt mu mj b">dog</code>有 2 个自己的属性。</p><h1 id="ab54" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">按属性值对对象数组进行排序</h1><p id="8a6c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe ms mt mu mj b">sort</code>方法可用于根据属性值对对象数组进行排序。</p><p id="effb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ae31" class="mn lc iq mj b gy mo mp l mq mr">const list = [<br/>  { color: 'red', size: 'm' },<br/>  { color: 'green', size: 's' },<br/>  { color: 'blue', size: 'xl' }<br/>]</span></pre><p id="3442" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5bfa" class="mn lc iq mj b gy mo mp l mq mr">list.sort((a, b) =&gt; (a.color &gt; b.color)</span></pre><p id="a484" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们根据<code class="fe ms mt mu mj b">color</code>属性按字母顺序对条目进行排序。</p><p id="abce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们得到<code class="fe ms mt mu mj b">list</code>是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3898" class="mn lc iq mj b gy mo mp l mq mr">[<br/>  {<br/>    "color": "blue",<br/>    "size": "xl"<br/>  },<br/>  {<br/>    "color": "green",<br/>    "size": "s"<br/>  },<br/>  {<br/>    "color": "red",<br/>    "size": "m"<br/>  }<br/>]</span></pre><h1 id="e42a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对 URL 进行编码</h1><p id="4fa1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript 附带了<code class="fe ms mt mu mj b">encodeURI()</code>函数来编码 URL。</p><p id="95cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5bb1" class="mn lc iq mj b gy mo mp l mq mr">encodeURI("http://example.com/ hello!/")</span></pre><p id="dff1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="29a4" class="mn lc iq mj b gy mo mp l mq mr">"http://example.com/%20hello!/"</span></pre><p id="068d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">已退回。</p><p id="e2da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有一个<code class="fe ms mt mu mj b">encodeURIComponent()</code>函数，它对包括 URL 路径分隔符在内的所有内容进行编码。</p><p id="09df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4373" class="mn lc iq mj b gy mo mp l mq mr">encodeURIComponent("http://example.com/ hello!/")</span></pre><p id="3d26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dafc" class="mn lc iq mj b gy mo mp l mq mr">"http%3A%2F%2Fexample.com%2F%20hello!%2F"</span></pre><p id="c2e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">已退回。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/e68d52839f252f42aedf5aaa5cd279a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ThXqgt8up8ZzgKx"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">惠特尼·赖特在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="01f5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4b4f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用括号和表达式动态地选择一个方法。</p><p id="ff73" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以根据需要用<code class="fe ms mt mu mj b">encodeURI</code>或<code class="fe ms mt mu mj b">encodeURIComponent</code>编码 URL。</p><p id="3948" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用调试器进行调试也很容易。</p><p id="c53c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们传入一个回调函数，排序条目就很容易了。</p></div></div>    
</body>
</html>