<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://blog.devgenius.io/setup-git-on-wp-engine-a77c376e71b5?source=collection_archive---------7-----------------------#2021-12-30">https://blog.devgenius.io/setup-git-on-wp-engine-a77c376e71b5?source=collection_archive---------7-----------------------#2021-12-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><p id="7d80" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">在WP引擎上设置Git</strong></p><p id="a8f3" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">正如我们所知，Git是一个非常强大的工具，开发者可以通过WP引擎将代码从本地机器推送到实时服务器。因此，让我们看看如何将我们的WP引擎服务器与Git连接起来，并从本地系统向WP引擎推送和拉取代码。</p><p id="4b5c" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">从终端生成SSH密钥</strong></p><p id="5fbf" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.通过将SSH密钥添加到用户门户，在您的WP引擎站点上启用Git。SSH密钥基本上包含用户名、密码和opt，而不是用于身份验证的公钥和私钥对。</p><p id="8735" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">b.按照下面提到的步骤创建您的公钥/私钥对。</p><p id="1d52" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">c.对于MAC，请使用Spotlight实用工具并键入“终端”</p><p id="eb8d" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">d.对于Windows，使用Git Bash</p><p id="0b0d" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">e.使用“ssh-keygen”生成一个新的密钥，如下所示。在此命令中使用您的电子邮件地址。</p><p id="274a" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">一、ssh-keygen-t RSA-b 4096-C " your _ email @ email . com "-f ~/。ssh/wpenginekeyname</p><p id="5eea" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">f.按回车键，不输入任何内容，将密码留空。</p><p id="99a3" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">g.如果你想设置密码，你可以出于安全考虑。一旦丢失就无法恢复。</p><p id="bc1c" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">h.再次按enter键或return键确认密码输入。</p><p id="6466" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">它将生成您的公钥/私钥对。</p><p id="6a2a" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">I .确保生成的文件在您的~/中可用。ssh/ folder并给出一个合适的名称。例如wpenginekeyname.pub。</p><p id="9f0a" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">创建SSH配置</strong></p><p id="fc3e" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.SSH配置文件决定您的系统在连接到特定的服务器主机名时使用哪个密钥文件。</p><p id="f6f8" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">b.从本地系统中，导航到。ssh目录</p><p id="f5ee" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">c.对于MacOS，打开终端并键入cd ~/。ssh/</p><p id="ce19" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">d.对于windows，使用git bash并导航到c/users/yourname/。ssh/</p><p id="7f2b" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">e.运行“触摸配置”命令创建配置文件</p><p id="6044" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">f.运行“nano config”命令打开配置文件。</p><p id="f68f" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">g.打开一个文件后，使用箭头键移动到文件的最底部，并添加如下所示的内容。</p><p id="d88e" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><code class="fe jl jm jn jo b">Host git.wpengine.com</code><br/><code class="fe jl jm jn jo b"> User git</code><br/><code class="fe jl jm jn jo b"> Hostname git.wpengine.com</code><br/><code class="fe jl jm jn jo b"> PreferredAuthentications publickey</code><br/><code class="fe jl jm jn jo b"> IdentityFile </code><strong class="io jk">~/。ssh/ </strong> <code class="fe jl jm jn jo b">wpenginekeyname</code> <br/> <code class="fe jl jm jn jo b"> IdentitiesOnly yes</code></p><p id="efca" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">现在保存这个文件并退出。</p><p id="2e09" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">测试SSH配置</strong></p><p id="c332" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.运行“ssh-v git@git.wpengine.com信息”命令来验证您的配置。在结果的底部，您可以看到您的环境名称以及生产和暂存状态。例如</p><p id="6117" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">R W生产/环境</p><p id="af6f" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">R W暂存/环境</p><p id="fdcf" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">如果连接不成功，请仔细阅读输出并解决问题。</p><p id="446c" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">向用户门户添加SSH密钥</strong></p><p id="7dbd" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.现在我们将向用户门户添加一个SSH密钥。</p><p id="1239" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">b.转到用户门户并单击您想要将git连接到的环境名称。</p><p id="1aa2" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">c.然后单击左侧菜单中的Git Push，创建开发者名称并添加SSH密钥(您的公钥的内容),然后单击Add Developer。</p><figure class="jq jr js jt gt ju gh gi paragraph-image"><div class="gh gi jp"><img src="../Images/6cf0f9ae4a78e27ffd740014ed5791b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/0*-tKpE9fobdbJapf6.png"/></div></figure><p id="9df2" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">如果WordPress站点安装在你的本地系统上，那么你可以移动第8步，否则从WP引擎下载。</p><p id="1f46" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.转到用户门户。</p><p id="8dd5" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">b.选择您正在连接Git的环境名称。</p><p id="537c" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">c.点击左侧菜单中的备份点，下载最新的zip文件夹。</p><p id="98e1" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">d.您将获得一个指向您可以下载zip文件的电子邮件地址的zip文件路径。</p><p id="415e" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">e.在您的本地系统中放入一个zip文件夹并解压缩。</p><p id="ecca" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">加标。为你的wordpress项目gitignore文件。</strong></p><p id="257e" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">通过“ssh git@git.wpengine.com信息”命令确认git访问<strong class="io jk">。</strong></p><p id="0de2" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.如果一切都设置妥当，那么你将从WP引擎获得一个开发者目录。您将首次被提示验证主机身份认证。</p><p id="48e9" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">从命令行，直接进入你的本地WordPress路径并运行‘git init’命令。</p><p id="2573" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.要推送新的和修改过的文件，请运行“git add”命令。</p><p id="7abe" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">b.添加文件后，以“git commit–m”第一次提交的身份运行提交命令</p><p id="47e3" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">设置遥控器</strong></p><p id="9df8" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">a.您需要通过运行以下命令来设置远程。</p><p id="fe40" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">i. git远程添加开发git @ git . wpengine . com:production/devdirectory.git .用您所选环境的唯一用户门户名称替换dev directory . git。</p><p id="457b" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">b.输入您的dev或staging或开发环境名称。</p><p id="2591" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">c.对于试运行，使用“试运行”和“生产”，用“生产”代替开发。</p><p id="96d6" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">d.运行“git remote–v”命令来验证所有设置是否正确。</p><p id="4d03" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated">e.如果您没有得到任何错误，那么运行“git push remote-name branch-name”命令将代码从您的本地分支推送到选定的环境。(例如git推送开发大师)</p><p id="74be" class="pw-post-body-paragraph il im in io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj ig bi translated"><strong class="io jk">要进行提取，请运行“git pull remote-name branch-name”命令。(例如git pull开发大师)</strong></p></div></div>    
</body>
</html>