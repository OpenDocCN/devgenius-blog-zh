<html>
<head>
<title>Database Architectures &amp; Use Cases — Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据库架构和使用案例——已解释</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/database-architectures-use-cases-explained-bf62e3fdfa9?source=collection_archive---------6-----------------------#2020-08-17">https://blog.devgenius.io/database-architectures-use-cases-explained-bf62e3fdfa9?source=collection_archive---------6-----------------------#2020-08-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/e4d3aaa71ef67ae4b500ebb58827dfbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fi86AQMFg5aMV5Q4fGinpA.png"/></div></div></figure><div class=""/><h1 id="c19c" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">市场上有300多种数据库，您如何确定哪一种适合您的特定用例或技能组合？</h1><p id="7a67" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我们继续在社交媒体和在线平台上看到SQL与NoSQL和其他数据库比较的常见辩论。在大多数情况下，并不是一个数据库比另一个数据库更好，而是由于多种因素，一个数据库是更适合特定用例的T2。</p><p id="8a3c" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">几个月前，我们的CTO Kyle Bernhardy主持了一场名为<a class="ae lx" href="https://www.youtube.com/watch?v=UIAfhmCZbSQ" rel="noopener ugc nofollow" target="_blank">深入探讨数据库架构</a>的精彩演讲。你可以通过链接观看这个演讲，但是由于这是一个如此突出的讨论话题，我们认为总结一下可能会有所帮助。<strong class="kv iz">本文将提供数据库架构的概述，包括用例以及每种架构的优缺点</strong>。</p><p id="61c9" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">让我们从选择数据库的一般考虑因素开始</strong>。了解诸如数据类型/结构、数据量、一致性、写&amp;读频率、托管、成本、安全性和集成约束等内容非常重要。您对这些因素了解得越多，就越容易为您的项目选择合适的数据库。</p><p id="ad1f" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">您可能已经知道一般有<strong class="kv iz"> 3个数据库托管选项</strong>:</p><ul class=""><li id="aa13" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated"><strong class="kv iz">内部部署</strong> <br/>数据库完全由组织在其数据中心内运行的服务器上维护<br/> <em class="lr">更多控制，但通常更昂贵和耗时</em></li><li id="e226" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated"><strong class="kv iz">云托管</strong> <br/>服务器由云提供商维护，组织维护运行在机器上的数据库软件和操作系统<br/> <em class="lr">灵活扩展，无需服务器维护，但无法控制物理服务器和潜在的网络限制</em></li><li id="b288" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated"><strong class="kv iz">数据库即服务(DBaaS) </strong> <br/>数据库由服务提供商维护，组织仅收取使用服务的费用<br/> <em class="lr">经济高效且零维护，但数据管理和潜在网络限制</em></li></ul><h1 id="0c94" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">现在到了您期待已久的部分——数据库架构。</h1><h1 id="1417" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">关系数据库</h1><p id="23e0" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我们将从最常用的开始。Oracle、MySQL、PostgreSQL、Microsoft SQL Server和SQLite等关系(SQL)数据库将数据组织到包含列的表中，每个列都有指定的名称和数据类型。此外:</p><ul class=""><li id="d6e3" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">行由一个唯一的属性或一组属性标识，称为主键(通常是一列)</li><li id="5fd2" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">表之间的关系通过引用主键的外键来定义</li><li id="a9f1" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">严格的模式(数据模型)实施</li><li id="9e06" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">通过结构化查询语言(SQL)访问的数据</li><li id="97c5" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">酸性合规性(原子性、一致性、隔离性和持久性)</li><li id="a64e" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">触发器和存储过程等额外特性</li></ul><p id="94c6" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">从有利的一面来看</strong>，关系数据库使用广为人知且记录完善的成熟技术，SQL标准定义明确，定义的约束增强了数据完整性，避免了数据重复，并且高度安全且符合ACID。<strong class="kv iz">然而，不利的一面是</strong>，SQL数据库无法处理非结构化或半结构化数据，它们的表不一定映射到对象，它们需要复杂的ETL(提取、转换、加载)和维护，具有行锁定，并且一些产品(Oracle、SAP)的定价超出了开发人员和一些组织的能力范围。<br/> <em class="lr">注意:虽然一些RDBMS系统现在可以处理JSON，但它们并不是专门为此而构建的。</em></p><p id="b645" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">关系数据库有几个很棒的<strong class="kv iz">用例；数据完整性至关重要的情况(金融应用、国防和安全、私人健康信息)、高度结构化的数据以及内部流程的自动化。</strong></p><h1 id="4044" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">然后是其他的一切…</h1><p id="41b1" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">关系数据库是当今生产中最常见的数据库，但它们不是为现代应用程序的规模和灵活性而设计的。大约10年前<strong class="kv iz">NoSQL运动抓住</strong>来解决这些问题，并永远改变了数据库的前景。注意:</p><ul class=""><li id="03ec" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">NoSQL没有任何意义(非SQL，非关系SQL，不仅仅是SQL)</li><li id="630d" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">旨在解决结构、性能、数据量和可扩展性问题</li><li id="a13b" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">关系数据库已经解决了许多这样的问题</li></ul><p id="8346" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">虽然数据库通常被归类为SQL或NoSQL，但NoSQL数据库有许多复杂之处。<em class="lr">让我们开始吧</em>。</p><h1 id="9a8a" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">键值存储</h1><p id="2aea" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">键值存储通常用作高级数据库的底层存储。例如，MongoDB使用名为WiredTiger的键值存储作为他们的默认存储引擎。键值存储，如Redis、DynamoDB和Cosmos DB，是:</p><ul class=""><li id="0265" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">简单、基本和无模式</li><li id="0788" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">提供通过特定键检索任意数据的基本功能</li><li id="7af4" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">值可以是任何东西:单个值、数组、对象、文件等。</li><li id="a656" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">数据库不评估它存储的数据</li><li id="1ec3" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">数据结构可以被称为字典或哈希表</li></ul><p id="9f13" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">从好处来看</strong>，键值存储提供了快速、低复杂度的数据访问，非常灵活，并且可以快速、低成本地扩展。<strong class="kv iz">然而</strong>，它们的功能极其有限，不能处理复杂的结构，也不能通过除键以外的任何方式进行查询或搜索，不能随着数据模型的增长而很好地扩展，并且它们需要更多的编程开销来实现复杂的实现。</p><p id="a63d" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">示例<strong class="kv iz">键值存储的用例</strong>可以是嵌入式系统、URL缩写、配置数据、web应用的应用变量和标志、状态信息以及由字典或散列表示的数据。</p><h1 id="9048" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">文档存储</h1><p id="cc59" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">文档存储，比如MongoDB、DynamoDB、Couchbase和Firebase，类似于键值存储，但是值是一个文档。</p><ul class=""><li id="e65f" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">典型的文档格式是JSON、BSON或XML文档</li><li id="a424" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">无模式，无数据结构实施(文档可以不同)</li><li id="a309" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">通过NoSQL(或专有语言)访问和修改数据</li><li id="99bf" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">非常适合非结构化和半结构化数据</li><li id="fed5" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">被视为更易于开发</li></ul><p id="e2d8" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">文档存储的优点包括灵活性和可伸缩性，无模式，快速写入，半结构化和非结构化数据的理想选择，开发人员不需要提前了解数据结构/它可以在不停机的情况下随时改变。<strong class="kv iz">缺点</strong>是它们不符合ACID，仅限于在文档中查询，没有实施关系/交叉引用，搜索速度慢，不能在单个查询中连接文档/集合，缺乏数据库实施需要开发人员自律和警惕应用层实施，并且它们通常会导致数据重复。</p><p id="71c8" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">文档存储的优秀<strong class="kv iz">用例</strong>是非结构化或半结构化数据、内容管理、快速原型制作和高流量数据收集。</p><h1 id="aa9f" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">图形数据库</h1><p id="96a7" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">图形数据库，如Neo4j、OrientDB和TitanDB，非常适合关系或联系是重中之重的情况。</p><ul class=""><li id="be49" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">基于数学图论</li><li id="75ad" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">将数据表示为由相关节点、边和属性组成的网络</li><li id="12cd" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">数据库存储节点中的数据项和连接节点的边中的关系</li><li id="43be" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">节点通过关系连接，并根据标签分组</li><li id="cb01" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">促进数据可视化和图形分析</li><li id="598d" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">每个节点都包含自由格式的数据</li></ul><p id="ff14" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">从好的方面来看，图形数据库</strong>具有关系查询、遍历和跟踪的高级特性，并针对查询相关数据进行了优化，它们避免了行锁定。<strong class="kv iz">至于缺点</strong>，图形数据库对开发人员来说有很长的上升时间，简单用例的高开销，缺乏标准化，聚合查询的性能差，开发人员通常需要学习一种定制的查询语言。</p><p id="e708" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">图形数据库非常适合</strong>异构数据点分析、欺诈防范、高级企业运营、社交网络、支付系统和地理空间路由/可视化。</p><h1 id="0ab6" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">时间序列数据库</h1><p id="5868" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><em class="lr">我们快到了</em>！接下来是时间序列数据库，如InfluxDB、Kdb+和Prometheus，它们是:</p><ul class=""><li id="3a83" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">专注于随时间变化的数据集</li><li id="ffb6" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">以写作为主</li><li id="a0f4" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">旨在处理持续的数据流</li><li id="b4ce" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">通常仅附加(摄入后无修改)</li><li id="9d0c" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">汇总/聚合/向下采样功能可降低归档数据占用空间</li></ul><p id="e0d5" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">从积极的一面来看</strong>，时间序列数据库旨在处理随时间变化的线性数据，可以处理高摄取率，具有专门用于处理基于时间的数据的内置功能，针对时间序列数组优化的模式，以及批量删除功能。<strong class="kv iz">至于缺点</strong>，时序数据库只处理时序数据，不支持完整的SQL，与写入相比，它们的读取速度受到影响，它们没有事务处理能力，并且是仅追加的(没有针对更新进行优化)。</p><p id="aba9" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">时序数据库的伟大用例</strong>是管理基础设施、物联网传感器收集以及日志监控和警报。</p><h1 id="55f8" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">搜索引擎</h1><p id="71e2" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">最后但同样重要的是搜索引擎，如Elasticsearch、Splunk和Apache Solr，它们是:</p><ul class=""><li id="f1e9" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">为非关系的、基于文档的数据而构建</li><li id="e4bd" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">为数据的存储和快速检索而安排和优化</li><li id="9a53" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">跨各种来源索引数据，包括:文件系统、内部网、文档管理系统、电子邮件和数据库</li></ul><p id="e8f6" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">搜索引擎的优点包括专注于优化的搜索，高度可扩展和无模式，并且他们有高级的搜索选项，如全文搜索、建议和复杂的搜索操作。<strong class="kv iz">缺点</strong>是价格昂贵，耐用性低，安全性差<a class="ae lx" href="https://www.infoworld.com/article/3268871/how-to-choose-the-right-type-of-database-for-your-enterprise.html" rel="noopener ugc nofollow" target="_blank"/>，没有事务支持，在搜索之外写入和检索数据的效率不高，并且难以管理。</p><p id="8f91" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">当</strong>搜索结果是最高优先级、日志、产品目录和博客时，搜索引擎是很棒的。</p><h1 id="e4bc" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">多模型考虑</h1><p id="6344" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">应该注意的是，许多现实生活中的实现选择“多语言持久性”，这是使用不同的数据存储技术来处理给定软件应用程序中不同的数据存储需求的概念。许多数据库技术在单个软件中实现这一点，称为<em class="lr">多模型</em>或<em class="lr">数据湖</em>技术。这对于特定的使用情形可能是理想的，但是会带来固有的风险，例如不稳定、数据不一致和损坏、昂贵/资源密集型，以及磁盘和内存上的数据复制。</p><p id="49e5" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv iz">多模型技术的几个例子是</strong>:</p><ul class=""><li id="471e" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">Hadoop:运行在多个数据库之上的软件工具</li><li id="48ed" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">MongoDB:单一数据库软件平台中的多种数据存储选项</li><li id="2599" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">PostgreSQL:面向行、面向列、键值和面向文档的数据存储选项</li></ul><h1 id="3360" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">最后，作为一家数据库公司…</h1><p id="6337" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">讨论HarperDB在这个组合中的位置可能是有意义的。<br/>如果没有别的原因，只是为了强调这些数据库“类别”并不全是黑白的，一些数据库通过订阅几种方法来采取更多的“混合”方法。HarperDB可以被视为一个具有SQL功能的结构化对象存储库，而不是落入一个单独的桶中。它的特点是:</p><ul class=""><li id="bfc1" class="ly lz iy kv b kw ls la lt le ma li mb lm mc lq md me mf mg bi translated">内置REST API</li><li id="3fca" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">NoSQL和SQL操作，包括连接</li><li id="1b8a" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">动态模式</li><li id="48b4" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">高级发布-订阅数据复制</li><li id="0499" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated"><a class="ae lx" href="https://studio.harperdb.io/" rel="noopener ugc nofollow" target="_blank">自助管理工作室</a></li><li id="886f" class="ly lz iy kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">传统驱动程序/接口</li></ul><p id="f0e9" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">我们从头开始构建HarperDB，以扩展和融合SQL、NewSQL和NoSQL产品的最佳功能，因为我们觉得有些用例可以通过另一种解决方案得到更好的服务。我们相信，为开发人员提供为工作选择正确工具的能力，可以增强开发人员的能力，刺激创新。<strong class="kv iz">我们认为HarperDB更适合的一些例子</strong>包括您需要NoSQL SQL、快速应用开发、集成、边缘计算、分布式计算和实时运营分析的情况。本质上，SQL与NoSQL的争论与HarperDB无关，因为您不再需要做出选择！</p><p id="1103" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><em class="lr">希望此数据库架构概述有助于为您的用例找到合适的数据库。请在下面回复您的问题或评论——我们很乐意讨论！</em></p></div></div>    
</body>
</html>