<html>
<head>
<title>Beauty of Raw Strings in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中原始字符串的美</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/beauty-of-raw-strings-in-python-fa627d674cbf?source=collection_archive---------3-----------------------#2020-06-27">https://blog.devgenius.io/beauty-of-raw-strings-in-python-fa627d674cbf?source=collection_archive---------3-----------------------#2020-06-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e665" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">知道如何在代码中使用它们以及在哪里使用它们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/009525c052f6d394ed0ac3bfd6fd895e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*168Eg-UlVVArREHsyjlIXQ.png"/></div></div></figure><p id="b113" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在Python中，转义字符总是以反斜杠(\)开头。这对于格式化很有用，但是如果我们想在字符串中使用反斜杠呢？？</p><p id="48aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了更好的理解，我们来看一个例子！</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="a172" class="kz la in kv b gy lb lc l ld le">print(“Backslash: \\”)<br/>print(“New Line char: \\n”)</span></pre><p id="7b28" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这两行将给出以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lf"><img src="../Images/4a9b84c4a20c495caeb62b903b9e8a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N29ioKfl07og9mr24UfpOw.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">输出</figcaption></figure><p id="1f7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这会使<em class="lk">变得难以阅读</em>。对此有一个替代方案。<br/>我们可以使用一个原始字符串，它将按字面意思处理一个反斜杠。怎么会？</p><blockquote class="ll lm ln"><p id="154f" class="jk jl lk jm b jn jo jp jq jr js jt ju lo jw jx jy lp ka kb kc lq ke kf kg kh ig bi translated">解决方法:只需在琴弦前面加一个“R”<em class="in">或</em>“R”<em class="in"/>。</p></blockquote><p id="d0eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">参见下面的代码:</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="745e" class="kz la in kv b gy lb lc l ld le">print(r”This is a backslash: \ and a new line: \n”)</span></pre><p id="ad37" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lr"><img src="../Images/bd1bd731a2f34cbdbeeb403dc04e10aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mhY_GZsA3jUh4Wv_8gPaNA.png"/></div></div></figure><p id="668a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望您理解使用原始字符串时的区别。你有吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/5229c86b615945e744b8f08335f8e3c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*kbFB9AHs8PXc4Uxiski6Zg.gif"/></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">有什么区别？</figcaption></figure><p id="e99a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">再来看看。首先，为什么我们在python </strong>中使用原始字符串？</p><blockquote class="ll lm ln"><p id="35e2" class="jk jl lk jm b jn jo jp jq jr js jt ju lo jw jx jy lp ka kb kc lq ke kf kg kh ig bi translated">Python原始字符串将反斜杠(\)视为文字字符。<br/>当我们想拥有一个包含反斜杠(\)的字符串，又不希望它被当作转义字符时，这是很有用的。</p></blockquote><p id="6883" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看另一个例子来说明这一点:</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="65a7" class="kz la in kv b gy lb lc l ld le"><br/>my_string = ‘Hello\nWorld’<br/>print(my_string)</span></pre><p id="dedb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lt"><img src="../Images/a5b0ee1cd20ef06f0bb833ce7ac3ec97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iUfoOYRzZhOECnuNAhpdwQ.png"/></div></div></figure><p id="87b7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，让我们看看原始字符串是如何工作的。</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="8466" class="kz la in kv b gy lb lc l ld le">my_raw_str =r’Hello\nWorld’<br/>print(my_raw_str)</span></pre><p id="4c21" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lu"><img src="../Images/e4e7fa6bce2afaf3e27b5a091811d4da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5EkCbEJwpav9-cGGh97L-Q.png"/></div></div></figure><p id="efd1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">无效的原始字符串:</strong></p><p id="1ff6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">并非所有的原始字符串都有效。仅包含一个反斜杠的原始字符串无效。类似地，结尾反斜杠个数为奇数的原始字符串也是无效的。</p><p id="1bdc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">参见以下示例:</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="e717" class="kz la in kv b gy lb lc l ld le">raw_str_one = r’\’<br/>raw_str_two = r’xyz\’<br/>raw_str_tree = r’xyz\\\’</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/67b770ff4170ac120a16c42d077cf80f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wVgLFvbU_zGPW5yofE39JA.png"/></div></div></figure><p id="f273" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我想你对python中的原始字符串用法已经有了清晰的理解。<br/>这很酷，但真正的用途是使用<strong class="jm io"> "R <em class="lk">正则表达式(REGEX)" </em> </strong> <em class="lk">。Regex经常使用反斜杠(\)来表示特殊字符，如果没有原始字符串，它会变得混乱。</em></p><p id="d8c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">正则表达式通常包含很多反斜杠(\)。使用Python的<a class="ae lw" href="https://docs.python.org/3/library/re.html" rel="noopener ugc nofollow" target="_blank">"<strong class="jm io"><em class="lk">re</em></strong>"</a>模块时，正则表达式表示为字符串。因此，像所有有很多反斜杠的字符串一样，当以原始文字形式书写时，它们更具可读性。</p><blockquote class="ll lm ln"><p id="79d9" class="jk jl lk jm b jn jo jp jq jr js jt ju lo jw jx jy lp ka kb kc lq ke kf kg kh ig bi translated">原始字符串对于regex来说是惊人的。</p></blockquote><p id="cef6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们用基本的正则表达式来理解它:</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="34ea" class="kz la in kv b gy lb lc l ld le"><em class="lk">#import Python's regular expressions module<br/></em>import re</span><span id="d4ca" class="kz la in kv b gy lx lc l ld le"><em class="lk">#compile a regular expression... note the raw string literal that doesn't have its backslashes escaped</em></span><span id="139f" class="kz la in kv b gy lx lc l ld le"> p = re.compile(r'[Ee](\+|-)?[0-9]+')</span></pre><p id="86a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的例子中，如果我们没有把正则表达式写成一个原始的字符串，我们将不得不转义任何反斜杠，这将使字符串变得更加难以阅读。</p><h2 id="02ca" class="kz la in bd ly lz ma dn mb mc md dp me jv mf mg mh jz mi mj mk kd ml mm mn mo bi translated">希望你对原声琴弦有清晰的认识。如果你觉得这篇文章有帮助，请鼓掌致谢。</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/cf912975f57591647646d9426be48c63.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/1*bR3w43xy-26GlK0S4ep-Bw.gif"/></div></figure></div></div>    
</body>
</html>