<html>
<head>
<title>Refactoring 001 — Remove Setters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重构 001 —移除设置器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/refactoring-001-remove-setters-e5acdf60462c?source=collection_archive---------4-----------------------#2021-11-17">https://blog.devgenius.io/refactoring-001-remove-setters-e5acdf60462c?source=collection_archive---------4-----------------------#2021-11-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2429" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Setters 违反了不变性并增加了意外耦合</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/0be77f59ffbd6a15d73f2de56713d9a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OVZ0S5vScnDirl7tOXwqoQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">图片由<a class="ae ks" href="https://pixabay.com/users/comfreak-51581/" rel="noopener ugc nofollow" target="_blank">com break</a>来自<a class="ae ks" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></figcaption></figure><blockquote class="kt ku kv"><p id="ca68" class="kw kx ky kz b la lb jo lc ld le jr lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">TL；DR:使你的属性私有以利于可变性</p></blockquote><h1 id="7672" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">解决的问题</h1><ul class=""><li id="a1f1" class="ml mm in kz b la mn ld mo mp mq mr ms mt mu ls mv mw mx my bi translated">易变性</li><li id="9b1d" class="ml mm in kz b la mz ld na mp nb mr nc mt nd ls mv mw mx my bi translated">setXXX()违反了良好的命名策略，因为它在<a class="ae ks" href="https://medium.com/@mcsee/what-is-software-9a78c1172cf9" rel="noopener">映射器</a>上不存在</li><li id="372b" class="ml mm in kz b la mz ld na mp nb mr nc mt nd ls mv mw mx my bi translated">意外<a class="ae ks" href="https://medium.com/@mcsee/coupling-the-one-and-only-software-design-problem-869e293a9f04" rel="noopener">耦合</a></li></ul><h1 id="57ab" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">相关代码气味</h1><div class="ne nf gp gr ng nh"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-28-setters-5b0e764049aa"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd io gy z fp nm fr fs nn fu fw im bi translated">气味代码 28 —设定器</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">初级程序员做的第一个练习。ide、教程和高级开发人员不断教他们这种反模式。</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">blog.devgenius.io</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv km nh"/></div></div></a></div><div class="ne nf gp gr ng nh"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-01-anemic-models-f9fb5a1323b3"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd io gy z fp nm fr fs nn fu fw im bi translated">代码气味 01——贫血模型</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">你的对象是一堆没有行为的公共属性。</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">blog.devgenius.io</p></div></div><div class="nq l"><div class="nw l ns nt nu nq nv km nh"/></div></div></a></div><h1 id="8e91" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">步伐</h1><p id="2fa8" class="pw-post-body-paragraph kw kx in kz b la mn jo lc ld mo jr lf mp nx li lj mr ny lm ln mt nz lq lr ls ig bi translated">1.找到 setters 的用法</p><p id="5ebb" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf mp lh li lj mr ll lm ln mt lp lq lr ls ig bi translated">2.如果要设置基本属性，请将它们移动到构造函数中，并移除该方法</p><p id="058f" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf mp lh li lj mr ll lm ln mt lp lq lr ls ig bi translated">3.如果你需要改变一个偶然属性，它不是一个设置器。删除 setXXX 前缀</p><h1 id="584c" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">示例代码</h1><h2 id="43b6" class="oa lu in bd lv ob oc dn lz od oe dp md mp of og mf mr oh oi mh mt oj ok mj ol bi translated">以前</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="om on l"/></div></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="om on l"/></div></figure><h2 id="5ffe" class="oa lu in bd lv ob oc dn lz od oe dp md mp of og mf mr oh oi mh mt oj ok mj ol bi translated">在...之后</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="om on l"/></div></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="om on l"/></div></figure><h1 id="6ab9" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">类型</h1><p id="e538" class="pw-post-body-paragraph kw kx in kz b la mn jo lc ld mo jr lf mp nx li lj mr ny lm ln mt nz lq lr ls ig bi translated">[X]半自动</p><p id="31e2" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf mp lh li lj mr ll lm ln mt lp lq lr ls ig bi translated">我们应该用 ide 检测 setters(除非他们使用元编程)。</p><p id="507f" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf mp lh li lj mr ll lm ln mt lp lq lr ls ig bi translated">如果我们有良好的覆盖率，我们也可以删除它们，看看哪些测试失败了。</p><h1 id="cb10" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">标签</h1><ul class=""><li id="ae41" class="ml mm in kz b la mn ld mo mp mq mr ms mt mu ls mv mw mx my bi translated">易变性</li></ul><h1 id="04bc" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">相关重构</h1><ul class=""><li id="4224" class="ml mm in kz b la mn ld mo mp mq mr ms mt mu ls mv mw mx my bi translated">移除吸气剂</li><li id="1f1c" class="ml mm in kz b la mz ld na mp nb mr nc mt nd ls mv mw mx my bi translated">在构造函数中传递基本属性</li><li id="2ae5" class="ml mm in kz b la mz ld na mp nb mr nc mt nd ls mv mw mx my bi translated">初始化构造函数中的基本属性</li></ul></div><div class="ab cl oo op hr oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="ig ih ii ij ik"><p id="255c" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf mp lh li lj mr ll lm ln mt lp lq lr ls ig bi translated">本文是重构系列的一部分。</p></div></div>    
</body>
</html>