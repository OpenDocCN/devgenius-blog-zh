<html>
<head>
<title>Material UI — Modals</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">材料用户界面—模型</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/material-ui-modals-74961b7379aa?source=collection_archive---------1-----------------------#2020-09-08">https://blog.devgenius.io/material-ui-modals-74961b7379aa?source=collection_archive---------1-----------------------#2020-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d06925a61121874326a19b60f923cc37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RgjgG0mZYi2O8i0X"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@mnemotechnikon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Piotr Stefański </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="7b5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">材质 UI 是一个为 React 制作的材质设计库。</p><p id="b124" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一组具有材质设计风格的 React 组件。</p><p id="5e95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何添加带有材质 UI 的模态。</p><h1 id="45cd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">情态的</h1><p id="461d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">Modal</code>组件以我们的方式显示对话框。</p><p id="42b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要创建一个简单的，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9b7d" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { makeStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";<br/>import Modal from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Modal";</span><span id="85a8" class="mq lc iq mh b gy mv ms l mt mu">function getModalStyle() {<br/>  const top = 50;<br/>  const left = 50;</span><span id="7e8b" class="mq lc iq mh b gy mv ms l mt mu">  return {<br/>    top: `${top}%`,<br/>    left: `${left}%`,<br/>    transform: `translate(-${top}%, -${left}%)`<br/>  };<br/>}</span><span id="d348" class="mq lc iq mh b gy mv ms l mt mu">const useStyles = makeStyles(theme =&gt; ({<br/>  paper: {<br/>    position: "absolute",<br/>    width: 300,<br/>    backgroundColor: theme.palette.background.paper,<br/>    padding: 20<br/>  }<br/>}));</span><span id="514a" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const classes = useStyles();<br/>  const [modalStyle] = React.useState(getModalStyle);<br/>  const [open, setOpen] = React.useState(false);</span><span id="252e" class="mq lc iq mh b gy mv ms l mt mu">  const handleOpen = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="f4fd" class="mq lc iq mh b gy mv ms l mt mu">  const handleClose = () =&gt; {<br/>    setOpen(false);<br/>  };</span><span id="f9c9" class="mq lc iq mh b gy mv ms l mt mu">  const body = (<br/>    &lt;div style={modalStyle} className={classes.paper}&gt;<br/>      &lt;h2&gt;Modal&lt;/h2&gt;<br/>      &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. &lt;/p&gt;<br/>      &lt;SimpleModal /&gt;<br/>    &lt;/div&gt;<br/>  );</span><span id="7b75" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;button type="button" onClick={handleOpen}&gt;<br/>        Open Modal<br/>      &lt;/button&gt;<br/>      &lt;Modal open={open} onClose={handleClose}&gt;<br/>        {body}<br/>      &lt;/Modal&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="480c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建一个简单的模型。</p><p id="90df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了一些带有<code class="fe me mf mg mh b">makeStyles</code>组件和<code class="fe me mf mg mh b">getModalStyle</code>功能的样式。</p><p id="0af5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">makeStyles</code>来设置背景颜色和内容的位置。</p><p id="c703" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将位置更改为“绝对”,以便它显示在所有内容之上。</p><p id="78a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getModalStyle</code>用于定位情态。</p><h1 id="e53a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">过渡</h1><p id="39b9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用一个过渡组件来激活模态。</p><p id="4aec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c186" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { makeStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";<br/>import Modal from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Modal";<br/>import Backdrop from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Backdrop";<br/>import Fade from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Fade";</span><span id="36c0" class="mq lc iq mh b gy mv ms l mt mu">const useStyles = makeStyles(theme =&gt; ({<br/>  modal: {<br/>    display: "flex",<br/>    alignItems: "center",<br/>    justifyContent: "center"<br/>  },<br/>  paper: {<br/>    backgroundColor: theme.palette.background.paper,<br/>    border: "2px solid gray",<br/>    boxShadow: theme.shadows[5],<br/>    padding: theme.spacing(2, 4, 3)<br/>  }<br/>}));</span><span id="0aec" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const classes = useStyles();<br/>  const [open, setOpen] = React.useState(false);</span><span id="ef26" class="mq lc iq mh b gy mv ms l mt mu">  const handleOpen = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="05e8" class="mq lc iq mh b gy mv ms l mt mu">  const handleClose = () =&gt; {<br/>    setOpen(false);<br/>  };</span><span id="07e1" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;button type="button" onClick={handleOpen}&gt;<br/>        open modal<br/>      &lt;/button&gt;<br/>      &lt;Modal<br/>        className={classes.modal}<br/>        open={open}<br/>        onClose={handleClose}<br/>        closeAfterTransition<br/>        BackdropComponent={Backdrop}<br/>        BackdropProps={{<br/>          timeout: 500<br/>        }}<br/>      &gt;<br/>        &lt;Fade in={open}&gt;<br/>          &lt;div className={classes.paper}&gt;<br/>            &lt;h2&gt;fade modal&lt;/h2&gt;<br/>            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit.&lt;/p&gt;<br/>          &lt;/div&gt;<br/>        &lt;/Fade&gt;<br/>      &lt;/Modal&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="fb75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建一个打开或关闭时带有渐变过渡的模态。</p><p id="c3f4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是通过<code class="fe me mf mg mh b">Fade</code>组件完成的。</p><p id="ad71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">in</code>属性指定当<code class="fe me mf mg mh b">open</code>为<code class="fe me mf mg mh b">true</code>时我们显示过渡。</p><p id="0d49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们就有了我们想要在模态中显示的内容。</p><p id="2f0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们点击打开模态按钮时，我们打开了模态。</p><p id="4a25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们关闭它时，我们可以点击外部。</p><p id="103f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">handleOpen</code>将<code class="fe me mf mg mh b">open</code>状态设置为<code class="fe me mf mg mh b">true</code>打开模态。</p><p id="d12b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">hanleClose</code>关闭模态关闭模态。</p><p id="3da6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">onClose</code>是我们在模态外点击时运行的。</p><p id="31ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">BackdropComponent</code>设置背景的组件。</p><p id="bdc8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">closeAfterTransition</code>让我们等到嵌套转换完成后再关闭。</p><p id="998a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用 react-spring 包来添加过渡:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e173" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { makeStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";<br/>import Modal from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Modal";<br/>import Backdrop from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Backdrop";<br/>import { useSpring, animated } from "react-spring/web.cjs"; // web.cjs is required for IE 11 support</span><span id="4fde" class="mq lc iq mh b gy mv ms l mt mu">const useStyles = makeStyles(theme =&gt; ({<br/>  modal: {<br/>    display: "flex",<br/>    alignItems: "center",<br/>    justifyContent: "center"<br/>  },<br/>  paper: {<br/>    backgroundColor: theme.palette.background.paper,<br/>    border: "2px solid #000",<br/>    boxShadow: theme.shadows[5],<br/>    padding: theme.spacing(2, 4, 3)<br/>  }<br/>}));</span><span id="011a" class="mq lc iq mh b gy mv ms l mt mu">const Fade = React.forwardRef(function Fade(props, ref) {<br/>  const { in: open, children, onEnter, onExited, ...other } = props;<br/>  const style = useSpring({<br/>    from: { opacity: 0 },<br/>    to: { opacity: open ? 1 : 0 },<br/>    onStart: () =&gt; {<br/>      if (open &amp;&amp; onEnter) {<br/>        onEnter();<br/>      }<br/>    },<br/>    onRest: () =&gt; {<br/>      if (!open &amp;&amp; onExited) {<br/>        onExited();<br/>      }<br/>    }<br/>  });</span><span id="58e7" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;animated.div ref={ref} style={style} {...other}&gt;<br/>      {children}<br/>    &lt;/animated.div&gt;<br/>  );<br/>});</span><span id="e1bc" class="mq lc iq mh b gy mv ms l mt mu">export default function SpringModal() {<br/>  const classes = useStyles();<br/>  const [open, setOpen] = React.useState(false);</span><span id="cb4a" class="mq lc iq mh b gy mv ms l mt mu">  const handleOpen = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="2f72" class="mq lc iq mh b gy mv ms l mt mu">  const handleClose = () =&gt; {<br/>    setOpen(false);<br/>  };</span><span id="2698" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;button type="button" onClick={handleOpen}&gt;<br/>        open menu<br/>      &lt;/button&gt;<br/>      &lt;Modal<br/>        className={classes.modal}<br/>        open={open}<br/>        onClose={handleClose}<br/>        closeAfterTransition<br/>        BackdropComponent={Backdrop}<br/>        BackdropProps={{<br/>          timeout: 500<br/>        }}<br/>      &gt;<br/>        &lt;Fade in={open}&gt;<br/>          &lt;div className={classes.paper}&gt;<br/>            &lt;h2&gt;Spring modal&lt;/h2&gt;<br/>            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit.&lt;/p&gt;<br/>          &lt;/div&gt;<br/>        &lt;/Fade&gt;<br/>      &lt;/Modal&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="8516" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了<code class="fe me mf mg mh b">Fade</code>组件。</p><p id="548b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用 react-spring 提供的<code class="fe me mf mg mh b">useSpring</code>钩子来添加动画。</p><p id="b664" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe me mf mg mh b">friom</code>属性中指定入过渡的过渡样式。</p><p id="2842" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们用<code class="fe me mf mg mh b">to</code>属性指定出过渡的过渡样式。</p><p id="f11f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">onStart</code>和<code class="fe me mf mg mh b">onExited</code>是分别在过渡开始和结束时调用的函数，用于开始和结束过渡。</p><p id="ea90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在情态中使用<code class="fe me mf mg mh b">Fade</code>。</p><h1 id="e0a8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="c878" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用来自材质 UI 或 react-spring 的组件来创建带有过渡的模态。</p></div></div>    
</body>
</html>