<html>
<head>
<title>SwiftUI: How to use PHPicker(PhotosUI) to select Image from Library?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI:如何使用 PHPicker(PhotosUI)从库中选择图像？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/swiftui-how-to-use-phpicker-photosui-to-select-image-from-library-5b74885720ec?source=collection_archive---------5-----------------------#2020-07-12">https://blog.devgenius.io/swiftui-how-to-use-phpicker-photosui-to-select-image-from-library-5b74885720ec?source=collection_archive---------5-----------------------#2020-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9e1e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">iOS 14 — Xcode 12</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/58ec7447ebcf322919f81617abe2e5e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8z4_AsmRYCBAmrAz6gYmuw.png"/></div></div></figure><p id="29e6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在 WWDC20 中，苹果增加了一个名为 PhotosUI 的新框架，可以从库中选择图像、视频等。在本教程中，我们将使用 SwiftUI 实现同样的功能。</p><p id="e4d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">由于 PhotosUI 是基于 UIKit 而不是 SwiftUI，我们需要编写一个可表示的。这个代表可以在 SwiftUI 中使用 PhotosUI 的"<em class="ln"> PHPickerViewController </em>"</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">采摘者</figcaption></figure><ul class=""><li id="55db" class="lu lv iq kt b ku kv kx ky la lw le lx li ly lm lz ma mb mc bi translated"><em class="ln"> PHPickerViewController </em>需要一个<em class="ln"> PHPickerConfiguration </em>作为初始化器。</li><li id="ce0c" class="lu lv iq kt b ku md kx me la mf le mg li mh lm lz ma mb mc bi translated">一旦用户完成，光拾取器将需要切换状态来关闭控制器</li><li id="6287" class="lu lv iq kt b ku md kx me la mf le mg li mh lm lz ma mb mc bi translated">PhotoPicker 还需要一个 binging 对象将图像传回给调用者。</li><li id="c879" class="lu lv iq kt b ku md kx me la mf le mg li mh lm lz ma mb mc bi translated">实现 PHPickerViewControllerDelegate 来处理从库中返回的图像</li></ul><h2 id="d4e0" class="mi mj iq bd mk ml mm dn mn mo mp dp mq la mr ms mt le mu mv mw li mx my mz na bi translated"><strong class="ak">创建<em class="nb"> PHPickerConfiguration 和</em> toggle 状态，绑定对象:</strong></h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><p id="58bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有了上面的代码，我们就可以呈现 Picker。现在剩下的是委托处理。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/edb810e48ebee5d50ac1dd426a360707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LNwlJfgf_urEDU5-xA2sWA.png"/></div></div></figure><p id="9e3f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">实现 PHPickerViewControllerDelegate，</strong>我们将使用 PHPickerViewControllerDelegate 创建协调器。该协调器将处理回调和数据绑定，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><p id="dc9d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">让我们结合一切:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">工作演示</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/553a832cef292568535e7aece79b44c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qx805HoNIxlbt8G_8Xd1WA.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">带有选定图像的用户界面</figcaption></figure></div></div>    
</body>
</html>