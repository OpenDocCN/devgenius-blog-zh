<html>
<head>
<title>Replace ’em All With ES2021</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用ES2021取代它们</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/replace-em-all-with-es2021-71e095fe0ddc?source=collection_archive---------3-----------------------#2020-11-22">https://blog.devgenius.io/replace-em-all-with-es2021-71e095fe0ddc?source=collection_archive---------3-----------------------#2020-11-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="072d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">新引入的“replaceAll()”方法不再需要使用正则表达式！</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e588d562d0625f6dd7790ee5c982d37e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ay_cHlCJSZROtEtCOXLHZw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">图片来源:<a class="ae ks" href="https://morioh.com" rel="noopener ugc nofollow" target="_blank">moroioh.com</a></figcaption></figure><p id="9726" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi lp translated"><span class="l lq lr ls bm lt lu lv lw lx di">如果</span>你曾经和<code class="fe ly lz ma mb b">JavaScript</code>中的<code class="fe ly lz ma mb b">strings</code>合作过，你就知道替换一个字符串中所有匹配的子字符串是多么痛苦的事情！</p><p id="947a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">好吧，也许我在这里有点夸张，但是作为一个新手，这绝对不是一件容易的事情。</p><p id="b9a0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">例如，当我第一次开始使用<code class="fe ly lz ma mb b">JavaScript</code>(那时我还是编程新手)并想要替换<code class="fe ly lz ma mb b">string</code>中出现的所有单词时，我只是不知道如何通过阅读<code class="fe ly lz ma mb b"><a class="ae ks" href="https://www.w3schools.com/jsref/jsref_replace.asp" rel="noopener ugc nofollow" target="_blank">replace()</a></code>方法的文档来完成。</p><p id="0acf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我想知道为什么我需要使用如此复杂的东西，比如一个<a class="ae ks" href="https://en.wikipedia.org/wiki/Regular_expression" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mc">regex</em></strong></a><strong class="kv io"><em class="mc"/></strong>来做一些如此简单的事情，比如替换一个单词在一个字符串中的所有出现(当时我并不喜欢<code class="fe ly lz ma mb b">regex</code>，坦率地说，我现在仍然不喜欢)。</p><p id="05e1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">反正到了ES2021，你就不需要用<code class="fe ly lz ma mb b">regex</code>来进行上述操作了！</p><p id="22ff" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是因为<code class="fe ly lz ma mb b">ES2021</code>引入了一个新的(期待已久的)实用方法来替换给定字符串中所有出现的子字符串:<code class="fe ly lz ma mb b">replaceAll()</code>。</p><p id="9f64" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我给你们举个例子，让你们更好地理解我所说的:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">描述“replaceAll()”方法用法的代码段。</figcaption></figure><p id="0610" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">下面是一个gif图，描述了上面的代码在Chrome的控制台中的执行情况(是的，Chrome已经提供了这个功能，其他浏览器也提供了这个功能):</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/75d5b0804096a7db9caec200ce0eb23d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/1*RKsJEBfQjib5rYQaihodzA.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">描述在Chrome的控制台中使用“replaceAll()”方法的gif。图片来源:Pratik Chaudhari</figcaption></figure><p id="97c4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe ly lz ma mb b">replaceAll()</code>方法保持原字符串不变，并返回一个新字符串。</p><p id="9185" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请注意，<code class="fe ly lz ma mb b">replaceAll()</code>在搜索目标子字符串时会进行区分大小写的比较。</p><p id="c728" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我把<strong class="kv io">【Java】</strong>的大写<strong class="kv io">【J】</strong>换成小写<strong class="kv io">【J】</strong><code class="fe ly lz ma mb b">replaceAll()</code>不会替换它，新的字符串会和旧的相似。</p><p id="c1ca" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里有另一个gif来说明我的意思:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/37d608b74d85c9e08f8070c68d00e521.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/1*UqTfRAxhrs57fVWUxRh8wg.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">描述当我们使用小写字母“j”时“replaceAll()”行为的gif图片来源:Pratik Chaudhari</figcaption></figure><p id="8555" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">和它的表亲<code class="fe ly lz ma mb b">replace()</code>一样，<code class="fe ly lz ma mb b">replaceAll()</code>也允许你指定一个<code class="fe ly lz ma mb b">regex</code>来代替目标子串(也就是要被替换的子串)，但是我认为这样做会违背使用<code class="fe ly lz ma mb b">replaceAll()</code>的全部目的。</p><p id="41b0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想了解更多关于<code class="fe ly lz ma mb b">replaceAll()</code>的信息，请随意浏览它的<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replaceAll" rel="noopener ugc nofollow" target="_blank"> MDN </a>文档。</p><p id="84ca" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">本文到此为止，各位！</p><p id="cc8c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">希望你喜欢阅读这篇文章，并学到一些新的东西。</p></div></div>    
</body>
</html>