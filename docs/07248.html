<html>
<head>
<title>How to Build a Serverless REST API with NestJS and DynamoDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 NestJS 和 DynamoDB 构建无服务器 REST API</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-build-a-serverless-rest-api-with-nestjs-and-dynamodb-7b58b5b59bf6?source=collection_archive---------2-----------------------#2022-03-09">https://blog.devgenius.io/how-to-build-a-serverless-rest-api-with-nestjs-and-dynamodb-7b58b5b59bf6?source=collection_archive---------2-----------------------#2022-03-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/f4921df9fe449ceb91add1ceb970b7e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*qCkKJqjzhNs-WMms0gjK3A.png"/></div></figure><p id="37cc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">继我上一篇关于<a class="ae ks" href="https://serverlesscorner.com/how-to-do-single-table-design-with-dynamodb-db9101a43277" rel="noopener ugc nofollow" target="_blank">单表设计</a>的文章之后，我们将使用 NestJS 构建一个连接到 DynamoDB 表的无服务器 REST API。API 将在 AWS Lambda 上运行，并与 API 网关连接(见下图)。这种无服务器架构允许您以按请求付费的定价模式运行服务，只需最少的操作维护。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/483884e37ba177de908486515055851e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TohaABQmQ60MgrJNeVi-VA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">无服务器架构图</figcaption></figure><p id="5f4e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">简介</strong></p><blockquote class="lg lh li"><p id="39af" class="ju jv lj jw b jx jy jz ka kb kc kd ke lk kg kh ki ll kk kl km lm ko kp kq kr ij bi translated"><em class="iq">这是涵盖使用 DynamoDB 的无服务器的一系列文章的第 3 部分</em><strong class="jw ir"><em class="iq"/></strong><em class="iq">。本文给出了一个如何将 Serverless 与 DynamoDB 结合使用的示例。</em></p><p id="ab72" class="ju jv lj jw b jx jy jz ka kb kc kd ke lk kg kh ki ll kk kl km lm ko kp kq kr ij bi translated"><em class="iq"> ★ </em> <a class="ae ks" href="https://serverlesscorner.com/serverless-and-dynamodb-a-perfect-fit-c3afe99f14cc" rel="noopener ugc nofollow" target="_blank"> <em class="iq">本系列的第 1 部分是关于 DynamoDB 如何适应无服务器空间以及 DynamoDB 的关键概念。</em> </a></p><p id="314a" class="ju jv lj jw b jx jy jz ka kb kc kd ke lk kg kh ki ll kk kl km lm ko kp kq kr ij bi translated"><em class="iq"> ★ </em> <a class="ae ks" href="https://serverlesscorner.com/how-to-do-single-table-design-with-dynamodb-db9101a43277" rel="noopener ugc nofollow" target="_blank"> <em class="iq">本系列的第 2 部分着眼于使用 DynamoDB 的单表设计。</em> </a></p><p id="ba6a" class="ju jv lj jw b jx jy jz ka kb kc kd ke lk kg kh ki ll kk kl km lm ko kp kq kr ij bi translated">本系列的第 3 部分给出了一个如何使用 DynamoDB 的例子。</p></blockquote><p id="6ea2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们快速介绍一下这里使用的技术，让您更好地了解我们将要在这里构建的内容。</p><h2 id="dda5" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">DynamoDB</h2><p id="22bf" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">DynamoDB 是一个按需付费、低维护的 NoSQL 数据库，非常适合无服务器架构。关键概念和建模数据的方法<a class="ae ks" href="https://serverlesscorner.com/how-to-do-single-table-design-with-dynamodb-db9101a43277" rel="noopener ugc nofollow" target="_blank">在之前的文章中已经解释过了。</a></p><h2 id="3a96" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">无服务器框架</h2><p id="644e" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">无服务器框架是一个独立于供应商的框架<a class="ae ks" href="https://serverlesscorner.com/your-first-serverless-project-cbf1deee29f7" rel="noopener ugc nofollow" target="_blank">为您完成繁重的工作</a>。它的平台包含许多插件，可以在各种使用情况下帮助你。使用无服务器 CLI，您可以用一个命令部署代码。</p><h2 id="16bd" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">NestJS</h2><p id="9f21" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">NestJS 是一个 NodeJS 框架，完全支持 Typescript，用于构建服务器端 NodeJS 应用程序。它支持像<a class="ae ks" href="https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/" rel="noopener ugc nofollow" target="_blank">依赖注入</a>这样的设计模式，并使用 decorator(Java 中的注释),这允许你快速定义路线、请求参数等。它是<a class="ae ks" href="https://www.baeldung.com/spring-mvc-annotations" rel="noopener ugc nofollow" target="_blank"> Spring MVC 注解</a>的 javascript 版本。</p><h2 id="f344" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">API 网关</h2><p id="83af" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">Amazon API Gateway 允许您发布、监控和保护基于 HTTP 的 API 来处理 HTTP 请求。它与 AWS Lambda 配合得非常好。</p><h1 id="e5fb" class="ml lo iq bd lp mm mn mo ls mp mq mr lv ms mt mu ly mv mw mx mb my mz na me nb bi translated">让我们开始建造吧</h1><p id="a626" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">那么，现在我们知道谁是聚会的客人，让我们开始建造。我们将构建一个在线图书馆服务，作为运行在 AWS Lambda 上的 REST API，并从 DynamoDB 存储库中获取数据。以下前提条件是您已经安装了节点和无服务器 CLI。如果没有，请参见“<a class="ae ks" href="https://serverlesscorner.com/your-first-serverless-project-cbf1deee29f7" rel="noopener ugc nofollow" target="_blank">你的第一个无服务器项目</a>，了解如何安装它们。</p><blockquote class="lg lh li"><p id="b523" class="ju jv lj jw b jx jy jz ka kb kc kd ke lk kg kh ki ll kk kl km lm ko kp kq kr ij bi translated">本文的完整项目可以在 Github<a class="ae ks" href="https://github.com/cyberworkz/examples" rel="noopener ugc nofollow" target="_blank">https://github.com/cyberworkz/examples</a>的在线图书馆文件夹中找到。</p></blockquote><p id="5ff5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用以下命令，通过无服务器 CLI 创建一个新项目:</p><pre class="ku kv kw kx gt nc nd ne nf aw ng bi"><span id="adf9" class="ln lo iq nd b gy nh ni l nj nk">sls create --template-url <a class="ae ks" href="https://github.com/cyberworkz/serverless-templates/tree/main/aws-nodejs-typescript-restapi-nest" rel="noopener ugc nofollow" target="_blank">https://github.com/cyberworkz/serverless-templates/tree/main/aws-nodejs-typescript-restapi-nest</a> --path online-library</span></pre><p id="071b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用该模板，它将创建一个配置为作为 AWS Lambda 运行的 NestJS Typescript 项目。</p><p id="af18" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用 online-library 文件夹中的终端进行导航，并运行'<em class="lj"> npm install' </em>,以获取软件包。通过运行“npm run start”来测试项目，并在浏览器中导航到<a class="ae ks" href="http://localhost:3000/dev/hello" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/dev/hello</a>。你应该会看到一条信息“你好，世界”</p><h2 id="64f1" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">嵌套 CLI</h2><p id="5410" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">接下来，我们将使用 Nest CLI 进行构建。在终端中运行以下命令以安装 Nest CLI:</p><pre class="ku kv kw kx gt nc nd ne nf aw ng bi"><span id="863c" class="ln lo iq nd b gy nh ni l nj nk">npm install -g @nestjs/cli</span></pre><p id="9ea0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Nest CLI 让您<a class="ae ks" href="https://docs.nestjs.com/cli/usages" rel="noopener ugc nofollow" target="_blank">快速生成类型脚本类</a>节省您的时间。进入生成的在线库项目，运行以下命令:</p><pre class="ku kv kw kx gt nc nd ne nf aw ng bi"><span id="cb20" class="ln lo iq nd b gy nh ni l nj nk">nest g controller books</span></pre><p id="3f3e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这将创建一个目录<em class="lj">‘books’</em>，带有类型脚本类<em class="lj"> books.controller.ts </em>。打开这个类，你应该会看到一个标注了'<em class="lj">控制器</em>'和前缀<em class="lj">'书籍</em>'的类。这意味着所有对<em class="lj"> '/books' </em>的请求都将被路由到这个类。</p><p id="6dfe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">运行以下命令来生成一个<em class="lj">服务</em>和<em class="lj">存储库类</em>:</p><pre class="ku kv kw kx gt nc nd ne nf aw ng bi"><span id="383e" class="ln lo iq nd b gy nh ni l nj nk">nest g service  books<br/>nest g class    books/books.repository</span></pre><p id="cf44" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用类的构造函数，使用“<em class="lj">依赖注入</em>连接类。这是<a class="ae ks" href="https://docs.nestjs.com/providers#dependency-injection" rel="noopener ugc nofollow" target="_blank">用 nestj</a>注入依赖关系的默认方式。</p><figure class="ku kv kw kx gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="13ab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这些类的设置是控制器类定义端点来处理传入的 HTTP 请求。服务类将处理任何业务逻辑，存储库类处理与数据库的通信。将这些关注点分开会带来灵活性。</p><h2 id="8543" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">API 端点</h2><p id="fd81" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">现在，我们将向<em class="lj">控制器类</em>添加两个 API 端点来处理对我们在线图书馆服务的请求:</p><ul class=""><li id="20cd" class="nn no iq jw b jx jy kb kc kf np kj nq kn nr kr ns nt nu nv bi translated">通过 ISBN 检索图书</li><li id="b5f9" class="nn no iq jw b jx nw kb nx kf ny kj nz kn oa kr ns nt nu nv bi translated">检索作者的书籍</li></ul><p id="167a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在方法<em class="lj"> getBookByISBN </em>和<em class="lj">getbookbyauthor</em>上使用 decorators 会得到以下结果:</p><figure class="ku kv kw kx gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="a3a8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">代码非常简单明了，这是使用 decorators 的一个很强的特性。</p><h1 id="11d2" class="ml lo iq bd lp mm mn mo ls mp mq mr lv ms mt mu ly mv mw mx mb my mz na me nb bi translated">DynamoDB</h1><p id="5b7e" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">因此，现在让我们将注意力集中在从 DynamoDB 检索数据上。DynamoDB 中的数据模型将使用<a class="ae ks" href="https://serverlesscorner.com/how-to-do-single-table-design-with-dynamodb-db9101a43277" rel="noopener ugc nofollow" target="_blank">单表策略</a>，其中所有类型的数据都位于同一个表中。实体“Book”和“Author”将由分区键(PK)和排序键(SK)的以下结构定义:</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ob"><img src="../Images/8e942671d6f0dc7506e1aacc8cdcbf57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ulRKqjT73Ck893BZZOvbCw.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">实体数据模型</figcaption></figure><p id="b1ee" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一个作者的所有书籍都在该作者主键的<em class="lj">‘条目集合</em>’中。</p><h2 id="70de" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">创建 DynamoDB 表</h2><p id="1107" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">创建 DynamoDB 表有多种方法，我最喜欢的是使用 AWS CDK，但是为了本文的简单，我将向您展示如何使用 AWS 控制台来完成。</p><p id="562e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">登录你的 AWS 控制台，进入服务'<em class="lj"> DynamoDB </em>'。在仪表板页面点击“创建表格”按钮。为表格命名，例如“online-library”。使用分区键字段的值<em class="lj"> PK </em>和分类键字段的值<em class="lj"> SK f </em>。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oc"><img src="../Images/5a778a4cd2b7ea88d44083e19a142e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UhQwmYVtMiinzRO7sybD7w.png"/></div></div></figure><p id="de57" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">按照下面屏幕上的方式自定义设置，以坚持按需模式。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi od"><img src="../Images/8d0012fe187ecb19821572ddb8e47444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8lZJfxDmmtvo7HLIQkPdhw.png"/></div></div></figure><p id="893c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击页面底部的“<em class="lj">创建表格</em>”按钮。现在您已经创建了一个 DynamoDB 表。</p><p id="6417" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">通过导航到表中的项目并点击“创建项目”按钮，向表中添加项目。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oe"><img src="../Images/a0398a415fe82ddf57393a2565c57156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NDWee8nOyxMDHv5QAMMcNw.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">在线图书馆表格的项目</figcaption></figure><p id="8614" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用下表为作者和图书实体添加项目。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi of"><img src="../Images/116a134a423bd9a055446a590712ce20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*64Jo7XNc6LVXVJ_AW-SMnA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">项目表</figcaption></figure><p id="6d9a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用控制台创建项目应该如下所示:</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi og"><img src="../Images/24b2e752e0e2d817913adc933502f4cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C25Nk8FIYAtUAjrnNHgtFw.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">创建项目的示例</figcaption></figure><h2 id="6b6a" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">从 DynamoDB 读取数据</h2><p id="e8cd" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">现在我们要实现 book repository 类来从 DynamoDB 表中获取数据。在构造函数中使用 DynamoDB 客户端初始化 repository 类:</p><figure class="ku kv kw kx gt jr"><div class="bz fp l di"><div class="nl nm l"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">启动 DynamoDB 客户端</figcaption></figure><p id="b97a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Book 和 Author 实体的前缀将用于创建 PK 和 SK，以从 DynamoDB 获取数据。</p><h2 id="e79f" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">GetItem</h2><p id="efd8" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">让我们从检索一本书的 ISBN 号开始。我们将使用 GetItem 操作，该操作用于从 DB 中检索单个项目。这是读取单个项目的最有效方式。为此，我们需要一个项目的主键(PK + SK ),如下例所示。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oh"><img src="../Images/db3a16a1a63c8fb71be9f9a252fe6140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sE8Bb7_oKiY1Irsa.gif"/></div></div></figure><p id="2230" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">参见下面的代码。我们使用带前缀的 ISBN 号来获取这本书的主键，并用它从 DynamoDB 中检索这本书。</p><figure class="ku kv kw kx gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="04d0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果没有找到书，就会抛出一个异常。相当简单的东西。</p><h2 id="653d" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">询问</h2><p id="3945" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">接下来，我们将实现使用作者的名字和姓氏从作者那里获取书籍。这里我们将使用<em class="lj">查询</em>方法。使用查询，DynamoDB 检索所有具有特定分区键的项目。在这些项目中，我们可以对排序关键字应用一个条件，并且只检索数据的一个子集。使用<em class="lj">查询</em>可以快速、高效地访问数据。</p><p id="dd2a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">参见下面的代码。为了从作者那里获取书籍，我们将使用作者的 PK，并使用 SK 上的一个条件来过滤实体，其中我们使用书籍前缀作为参数。这里我们用了条件“T4”开头。</p><figure class="ku kv kw kx gt jr"><div class="bz fp l di"><div class="nl nm l"/></div></figure><h2 id="22b3" class="ln lo iq bd lp lq lr dn ls lt lu dp lv kf lw lx ly kj lz ma mb kn mc md me mf bi translated">扫描</h2><p id="1762" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">从 DynamoDB 读取数据的另一种方法是使用扫描操作。然而，应该谨慎使用扫描，因为它们会消耗大量的系统资源。就目前来说，用了也没什么用。</p><p id="5b83" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以，这就结束了。我希望这对你的无服务器之旅有所帮助。同样，这个项目的代码可以在 Github 上找到👇在线图书馆文件夹中的 https://github.com/cyberworkz/examples。</p><h1 id="218c" class="ml lo iq bd lp mm mn mo ls mp mq mr lv ms mt mu ly mv mw mx mb my mz na me nb bi translated">海科·范德沙夫</h1><ul class=""><li id="fe6e" class="nn no iq jw b jx mg kb mh kf oi kj oj kn ok kr ns nt nu nv bi translated"><strong class="jw ir"> <em class="lj">如果你喜欢这个，请</em> </strong> <a class="ae ks" href="https://serverlesscorner.com/about" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir"> <em class="lj">跟随 Serverlesscorner.com 上媒</em> </strong> </a> <strong class="jw ir"> <em class="lj">。</em> </strong></li><li id="9126" class="nn no iq jw b jx nw kb nx kf ny kj nz kn oa kr ns nt nu nv bi translated"><strong class="jw ir"> <em class="lj">爱情</em> </strong> ❤️ <strong class="jw ir"> <em class="lj">阅读</em> </strong> <strong class="jw ir"> <em class="lj">我的故事和其他关于媒？</em> </strong> <a class="ae ks" href="https://serverlesscorner.com/membership" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir"> <em class="lj">成为会员</em> </strong> </a> <strong class="jw ir"> <em class="lj">如果你还不是会员的话。</em> </strong></li><li id="cf6c" class="nn no iq jw b jx nw kb nx kf ny kj nz kn oa kr ns nt nu nv bi translated"><strong class="jw ir"> <em class="lj">想阅读更多无服务器？报名我的</em> </strong> <a class="ae ks" href="https://serverlessconsulting.org/newsletter" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir"> <em class="lj">月报</em> </strong> </a> <strong class="jw ir"> <em class="lj">📬关于无服务器技术和使用案例的启发性和深刻的故事。</em>T57】</strong></li></ul></div></div>    
</body>
</html>