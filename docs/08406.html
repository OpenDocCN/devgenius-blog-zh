<html>
<head>
<title>Day 69 of Game Dev: Implementing Camera Shake using Impulse Listener Extensions in Unity!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发的第 69 天:在 Unity 中使用 Impulse Listener 扩展实现相机抖动！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-69-of-game-dev-implementing-camera-shake-using-impulse-listener-extensions-in-unity-8c65a3194b1?source=collection_archive---------3-----------------------#2022-06-13">https://blog.devgenius.io/day-69-of-game-dev-implementing-camera-shake-using-impulse-listener-extensions-in-unity-8c65a3194b1?source=collection_archive---------3-----------------------#2022-06-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="207c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目的:</strong>使用<strong class="jm io"> Cinemachine </strong>设置<strong class="jm io">相机抖动</strong>功能。</p><p id="0508" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这需要几个步骤，但是不要让这些吓跑了你。一旦耗时较长的设置完成，你就可以轻松调整和实现<strong class="jm io">相机抖动</strong>功能。</p><p id="3680" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Cinemachine 已经设置好了大部分，但是还有一些事情我们需要做。</p><p id="a83a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是我的最终结果。<strong class="jm io">相机抖动</strong>本身已经设置好了，尽管我需要根据游戏中比较容易的部分来调整它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/4597d585bd63c8c249064d0680c9fef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/1*8jukbsns9Y-93qKthfuIug.gif"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">每次单击退格键时都会抖动</figcaption></figure><p id="dada" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于我的例子，我在球体上设置了第三人称虚拟摄像机。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/e4cc54d914a515af23fb2f75f38a967c.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*SMuzWc7uwZ3_hcHjhP_fwA.png"/></div></figure><p id="a342" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我需要进入我的扩展并添加<strong class="jm io">脉冲监听扩展</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kv"><img src="../Images/d2558e00d0f6c9aaed678c403c55d3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*YeMh4I_d1MPTdrpin1Bldg.png"/></div></figure><p id="39de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">脉冲</strong> <strong class="jm io">监听器</strong>只监听信号源。我们还需要一些东西来引发震动。我将创建一个空的游戏对象，命名为<strong class="jm io">脉冲</strong>并添加<strong class="jm io">脉冲源脚本</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/7ceee78aff3cfb50f00d02cd9a45cf7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*Dv5q3cm2d1yacNG0us3BpA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/04620d22fc3ee440ec77c4e7092e0b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*zC3VJYE-EfSpS81T_1wMPA.png"/></div></figure><p id="8829" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">脉冲源</strong>正在寻找一个信号源资产，我们将需要在我们的项目选项卡中制作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/dfddc264b53c4eb4b9a331fe48d3cfab.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*iHPrL4E3KOwh55kjp6kgbw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/844f975602c5b0430dbbd513226ff9e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*6h6gWQGP96BlAF530nMsUA.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">在这个例子中，我将使用噪波设置</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi la"><img src="../Images/47fb885652692ef78e06ebf8e14b6f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:230/format:webp/1*2E27cDMutr7gE6PKiiUACg.png"/></div></figure><p id="e2da" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后将其分配到<strong class="jm io">脉冲源</strong>中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/38f5d5849cd0648f8e26c55c4283073c.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*6jMJ1eC5K3ZtqjbavRjScw.png"/></div></figure><p id="acdb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<strong class="jm io"> NoiseSettings </strong>资产中，设置可能看起来很吓人。请记住，它几乎只是调整噪音的强度或强度，以及噪音的工作方式。噪音导致震动，所以你现在可以用震动来代替噪音这个词来帮助理解。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lb"><img src="../Images/c05018e346688611509c0924e4d14960.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*1daJkGuqEcMVzaDlTIIOxw.png"/></div></div></figure><p id="b306" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以调整这些不同的效果，例如一个更长的轻微震动的地球嘎嘎声或一个快速微妙的爆炸的枪射击。我不会在这里深入讨论，因为这将是一整篇文章本身，但请记住，这是这些设置的目的。你至少需要在噪波设置中设置一个大于 0 的数字。这是我的，你可以测试一下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/7e750e686c7c49e26dbb47d10c5607a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*lcP20BglnG8Zxc2LSRoS9w.png"/></div></figure><p id="02e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你也可以从脉冲源本身调整几乎相同的设置，而不是在<strong class="jm io">噪声设置</strong>中。但是这些使用噪声设置值。因此，如果你没有接触噪声设置，那么你将乘以 0。意味着什么都不会发生。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lh"><img src="../Images/b600d52974cf754a4fe079bfa6eed48d.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*YpuVwFKPhmuwR7mLs5tC3Q.png"/></div></div></figure><p id="1353" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您选中<strong class="jm io">随机化</strong>框，那么每次播放噪音/震动时，它都会在您设置的范围内被随机化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi li"><img src="../Images/8c2568ff79f5608fc4d454082b6bdcda.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*Z3WqDYLZiNv0qhwF6LEs0w.png"/></div></figure><p id="de25" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这些设置也非常有用。如果你想增加抖动的强度，可以使用 A <strong class="jm io"> ttack 变量</strong>。这意味着它开始的速度较慢，并根据您设置的时间逐渐增加。<strong class="jm io">持续时间</strong>是峰值强度，<strong class="jm io">衰减</strong>是攻击的反义词，强度下降。</p><p id="f51a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，在本例中，抖动将以较低的强度开始，并在 1 秒内上升到峰值强度。然后它将在峰值强度停止 1 秒钟。最后衰减到 1 秒钟没有震动。</p><p id="6b85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你也可以点击<strong class="jm io">攻击</strong>或<strong class="jm io">衰减</strong>并调整摇动的曲线以达到不同的效果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/a06cfa17c22201431dfc75bc0d28bd5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/1*zSkZ8Qo0zP3qeD_UJjezYA.gif"/></div></figure><p id="bdd2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们有了一个<strong class="jm io">脉冲监听器</strong>和一个<strong class="jm io">脉冲源</strong>，我们需要通过代码调用这个 shake。</p><p id="07b4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于这个例子，我将创建一个名为<strong class="jm io"> CameraShake </strong>的新的<strong class="jm io"> C#脚本</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/e55edb94883536b377e2cf51edd582ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*YB59WNBLQ23djRIv6aJYoQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/263342142e4e987d1e6404bde14f2a24.png" data-original-src="https://miro.medium.com/v2/resize:fit:202/format:webp/1*Z46C6qZsZjCYz-jvRMWNSA.png"/></div></figure><p id="5b07" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在脚本中，我们需要确保我们有<strong class="jm io"> Cinemachine </strong>名称空间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/31e61c8e1c31004a9eefcaf2ab5eda4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*16pqKLMuFePcXZTfiCMMrg.png"/></div></figure><p id="e4d7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后我们需要参考我们创建的<strong class="jm io">脉冲源</strong>。我将它设置为一个<strong class="jm io">序列化字段</strong>并在检查器中分配它，并确保脚本附加到我之前的 Impulse 空游戏对象。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/3f82562d46dc4cb52cedfc7881782f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*VSM07zKhKk6Ud2E8eBcw-w.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/0b8c63b34f1bc3692d2267d3b8fe6d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/1*M-8GfMsV6QVAzDlVRwNHJA.gif"/></div></figure><p id="a0b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我有了源代码，我可以访问其中的方法，包括我需要调用的 impulse/shake。所以我要创造我自己的方法来开始摇动。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/2b17b02e731253b4187ac7fbe0ec2d4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*O613hPOaorrx6FyIpdm04A.png"/></div></figure><p id="094a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后对于这个例子，每当我按下空格键时，我将调用我从<strong class="jm io"> Update </strong>中创建的新方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/eeab5767fa1d97b972be9144f4a5e614.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*jttm___TTCCmmMvUgwZaRg.png"/></div></figure><p id="95b3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到最后，整个脚本应该是这样的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/64d6981cec878f97a94b21b4d75a76e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*7aI92HZEL5Qrjt4WW2yXRw.png"/></div></figure><p id="d206" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这差不多就是所有的设置，当然适用于你的情况可能会略有不同。</p><p id="c61b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从那里你可以调整设置，以获得正确的感觉。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/6e714ba42b7e312f911920750b7814f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*VllbgJdjSiokTD84YZevbQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/4597d585bd63c8c249064d0680c9fef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/1*8jukbsns9Y-93qKthfuIug.gif"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lj"><img src="../Images/17391e1681fff8da384ebd2eba51a186.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*OipaiCqT2i_l0rJr8Gtrig.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/1494e613dbbebd0458ac5785aee5e18f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/1*kEcxdr195jVKZffJ4zFWbQ.gif"/></div></figure><p id="d59d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="lt">如有任何问题或想法可免费评论。让我们做一些很棒的游戏吧！</em>T29】</strong></p></div></div>    
</body>
</html>