<html>
<head>
<title>Data Manipulation Using Vectors In R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 R 中的向量进行数据操作</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/vector-programming-in-r-d24f0933d342?source=collection_archive---------9-----------------------#2022-08-01">https://blog.devgenius.io/vector-programming-in-r-d24f0933d342?source=collection_archive---------9-----------------------#2022-08-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="04ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">数据科学家喜欢数据结构，这种结构使他们能够以批量格式操作数据，并针对最佳性能进行了优化。他们不想使用 for 循环来访问数据结构的每个元素并进行更新。R 中的向量被优化以获得最佳性能，并用于以批量格式操作数据，因此我们不需要使用 for 循环来按元素方式操作数据。本文对向量操作中最重要的主题进行了全面的论述，比如处理向量中的缺失数据、类型强制、向量算术以及改变向量的数据类型。</p><p id="708d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我们将讨论以下主题</p><ul class=""><li id="49b6" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">R 中的基本数据类型</li><li id="0d8f" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">如何创建向量</li><li id="58f9" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">向量算术</li><li id="72af" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">处理向量中的缺失数据</li><li id="e37c" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">向量的类型强制</li><li id="705c" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">更改向量的数据类型</li><li id="332f" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">访问向量元素</li><li id="3d76" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">命名向量</li><li id="e810" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">向向量添加元素</li><li id="f6fa" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">从向量中移除元素</li></ul><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi kw"><img src="../Images/b0e1d9be88ac46edb244779935b8f9ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_BqCYe5SAE4KaSv0"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">迈克·科诺诺夫在<a class="ae lm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="19a5" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">R 中的基本数据类型</h1><p id="206f" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">在 R 中我们有 5 种基本的数据类型</p><h2 id="abbd" class="mq lo in bd lp mr ms dn lt mt mu dp lx jv mv mw mb jz mx my mf kd mz na mj nb bi translated">1.数字数据类型</h2><p id="ab6e" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">数字数据类型用于存储实数，如 3.1415、2.0、50 等</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="aaa1" class="mq lo in nd b gy nh ni l nj nk">class(200)<br/>## [1] "numeric"</span><span id="46d2" class="mq lo in nd b gy nl ni l nj nk">class(3.1415)<br/>## [1] "numeric"</span><span id="ef1c" class="mq lo in nd b gy nl ni l nj nk">class(-6987)<br/>## [1] "numeric"</span><span id="f966" class="mq lo in nd b gy nl ni l nj nk">class(-2.3056)<br/>## [1] "numeric"</span></pre><h2 id="05d1" class="mq lo in bd lp mr ms dn lt mt mu dp lx jv mv mw mb jz mx my mf kd mz na mj nb bi translated">2.整数数据类型</h2><p id="be98" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">整数数据类型用于存储整数值，如 20L、698L、452L 等</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="17c0" class="mq lo in nd b gy nh ni l nj nk">class(20L)<br/>## [1] "integer"</span><span id="c526" class="mq lo in nd b gy nl ni l nj nk">class(-9874L)<br/>## [1] "integer"</span></pre><h2 id="88e0" class="mq lo in bd lp mr ms dn lt mt mu dp lx jv mv mw mb jz mx my mf kd mz na mj nb bi translated">3.字符数据类型</h2><p id="e802" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">字符数据类型用于存储文本值，如城市名、州名或人名</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="d98f" class="mq lo in nd b gy nh ni l nj nk">class('abdul ahad')<br/>## [1] "character"</span><span id="a2dd" class="mq lo in nd b gy nl ni l nj nk">class('A')<br/>## [1] "character"</span><span id="a1aa" class="mq lo in nd b gy nl ni l nj nk">class('Tree')<br/>## [1] "character"</span></pre><h2 id="e42b" class="mq lo in bd lp mr ms dn lt mt mu dp lx jv mv mw mb jz mx my mf kd mz na mj nb bi translated">4.逻辑数据类型</h2><p id="3b93" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">逻辑数据类型用于存储布尔值，如 TRUE 和 FALSE。在 R 中，真和假也分别用 T 和 F 表示。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="f18d" class="mq lo in nd b gy nh ni l nj nk">class(TRUE)<br/>## [1] "logical"</span><span id="5f5a" class="mq lo in nd b gy nl ni l nj nk">class(FALSE)<br/>## [1] "logical"</span><span id="6720" class="mq lo in nd b gy nl ni l nj nk">class(T)<br/>## [1] "logical"</span><span id="25be" class="mq lo in nd b gy nl ni l nj nk">class(F)<br/>## [1] "logical"</span></pre><h2 id="6598" class="mq lo in bd lp mr ms dn lt mt mu dp lx jv mv mw mb jz mx my mf kd mz na mj nb bi translated">5.复杂数据类型</h2><p id="4dc1" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">复杂数据类型用于存储由+符号分隔的实部和虚部，如 2+3i 和 50+200i。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="2590" class="mq lo in nd b gy nh ni l nj nk">class(12+6i)<br/>## [1] "complex"</span><span id="fbbe" class="mq lo in nd b gy nl ni l nj nk">class(6i)<br/>## [1] "complex"</span></pre><h1 id="ce58" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">如何创建向量</h1><p id="acbc" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">相同数据类型的元素的有序序列。c()用于创建一个向量。向量可以有不同的长度，但是向量的所有元素必须是相同的数据类型。</p><ul class=""><li id="440e" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">使用<strong class="jm io"> <em class="nm"> c() </em> </strong>函数创建数字、字符和逻辑数据类型的三个向量 x、y 和 z</li><li id="d45b" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io"><em class="nm">(X)</em></strong>类用于查找向量<strong class="jm io"> <em class="nm"> X </em> </strong>的数据类型。</li><li id="41bf" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">整数值被写成 200L，但数值被写成 200</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="7b18" class="mq lo in nd b gy nh ni l nj nk">numeric_vector &lt;- c(10, 12, 13, 15, 40, 48)<br/>character_vector &lt;- c('Ahad', 'Anshrah', 'Hafsa', 'Rafay')<br/>boolean_vector &lt;- c(TRUE, TRUE, FALSE)<br/>integer_vector &lt;- c(200L, 300L, 600L)<br/>complex_vector &lt;- c(2+3i, 7+6i, 2+i, 50i)</span><span id="a014" class="mq lo in nd b gy nl ni l nj nk">print(numeric_vector)<br/>## [1] 10 12 13 15 40 48</span><span id="e974" class="mq lo in nd b gy nl ni l nj nk">print(character_vector)<br/>## [1] "Ahad"    "Anshrah" "Hafsa"   "Rafay"</span><span id="d7df" class="mq lo in nd b gy nl ni l nj nk">print(boolean_vector)<br/>## [1]  TRUE  TRUE FALSE</span><span id="af88" class="mq lo in nd b gy nl ni l nj nk">print(integer_vector)<br/>## [1] 200 300 600</span><span id="321b" class="mq lo in nd b gy nl ni l nj nk">print(complex_vector)<br/>## [1] 2+ 3i 7+ 6i 2+ 2i 0+50i</span><span id="3e88" class="mq lo in nd b gy nl ni l nj nk">class(numeric_vector)<br/>## [1] "numeric"</span><span id="9e95" class="mq lo in nd b gy nl ni l nj nk">class(character_vector)<br/>## [1] "character"</span><span id="902e" class="mq lo in nd b gy nl ni l nj nk">class(boolean_vector)<br/>## [1] "logical"</span><span id="8764" class="mq lo in nd b gy nl ni l nj nk">class(integer_vector)<br/>## [1] "integer"</span><span id="de72" class="mq lo in nd b gy nl ni l nj nk">class(complex_vector)<br/>## [1] "complex"</span></pre><h1 id="e9cb" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">向量算术</h1><p id="7d77" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">矢量操作的算术运算符如下所示</p><ul class=""><li id="870f" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated"><strong class="jm io"><em class="nm">“+”</em></strong>用于添加向量</li><li id="525d" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io"><em class="nm"/>-</strong>为减法向量</li><li id="2b01" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io"><em class="nm">“*”</em></strong>为乘向量</li><li id="0172" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io"><em class="nm">“/</em></strong>”进行矢量分割</li><li id="6b8f" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io"><em class="nm">【^】</em></strong>或“**”为取幂运算</li><li id="7a41" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io"><em class="nm">" % "</em></strong>为模数</li><li id="7b5d" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io"> <em class="nm"> "%/%" </em> </strong>为整数除法</li></ul><p id="21fe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建两个向量 v1 和 v2</p><ul class=""><li id="12f9" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">用向量 v1 添加一个常数</li><li id="bad8" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">将向量 v1 和 v2 相加</li><li id="4d5b" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">从矢量 v1 中减去矢量 v2</li><li id="dcd9" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">从矢量 v2 中减去矢量 v1</li><li id="ed15" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">将向量 v1 和 v2 相乘</li><li id="6d36" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">将向量 v2 除以向量 v1</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="392a" class="mq lo in nd b gy nh ni l nj nk">v1 &lt;- c(1, 5, 8)<br/>v2 &lt;- c(2, 4, 6)</span><span id="e380" class="mq lo in nd b gy nl ni l nj nk">v1 + 10<br/>## [1] 11 15 18</span><span id="a5af" class="mq lo in nd b gy nl ni l nj nk">v1 + v2<br/>## [1]  3  9 14</span><span id="1594" class="mq lo in nd b gy nl ni l nj nk">v1 - v2<br/>## [1] -1  1  2</span><span id="1d30" class="mq lo in nd b gy nl ni l nj nk">v2 - v1<br/>## [1]  1 -1 -2</span><span id="5117" class="mq lo in nd b gy nl ni l nj nk">v1 * v2<br/>## [1]  2 20 48</span><span id="80a8" class="mq lo in nd b gy nl ni l nj nk">v2 / v1<br/>## [1] 2.00 0.80 0.75</span></pre><p id="165c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在下面的例子中，我们将 v1 除以 v2</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="ff99" class="mq lo in nd b gy nh ni l nj nk">v1 &lt;- c(10, 20, 48)<br/>v2 &lt;- c(2, 4, 6)</span><span id="1750" class="mq lo in nd b gy nl ni l nj nk">v1 %/% v2<br/>## [1] 5 5 8</span></pre><p id="7edf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在下面的例子中，我们将向量 v1 除以 v2，并返回余数</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="4a95" class="mq lo in nd b gy nh ni l nj nk">v1 &lt;- c(10, 20, 48)<br/>v2 &lt;- c(7, 13, 6)</span><span id="0f26" class="mq lo in nd b gy nl ni l nj nk">v1 %% v2<br/>## [1] 3 7 0</span></pre><h2 id="8ab3" class="mq lo in bd lp mr ms dn lt mt mu dp lx jv mv mw mb jz mx my mf kd mz na mj nb bi translated">回收(<em class="nn">添加不同长度的向量)</em></h2><p id="f800" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">向量 v1 的长度是 3，向量 v2 的长度是 6。这意味着向量 v1 的长度是向量 v2 的倍数，所以 R 编程语言的解释器不会给出任何警告。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="2174" class="mq lo in nd b gy nh ni l nj nk">v1 &lt;- c(1, 2, 3)<br/>v2 &lt;- c(4, 5, 6, 7, 8, 9)<br/>v1 + v2<br/>## [1]  5  7  9  8 10 12</span></pre><p id="cd1e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">向量 v1 的长度是 4，向量 v2 的长度是 6。这意味着向量 v1 的长度不是向量 v2 的倍数，所以 R 编程语言的解释器将返回带有警告的结果。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="011f" class="mq lo in nd b gy nh ni l nj nk">v1 &lt;- c(1, 2, 3, 4)<br/>v2 &lt;- c(4, 5, 6, 7, 8, 9)<br/>v1 + v2<br/>## Warning in v1 + v2: longer object length is not a multiple of shorter object<br/>## length<br/>## [1]  5  7  9 11  9 11</span></pre><h1 id="c4dc" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">处理向量中的缺失数据</h1><p id="74c0" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">例如，我们有一个 7 名学生的班级，下面的向量给出了学生的分数</p><p id="674c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了找出班上的学生人数，我们使用了<strong class="jm io"><em class="nm">【length()】</em></strong>函数。</p><p id="3be7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">向量 v1 的空值不被计数，因为它们从不存在，而另一方面，向量 v2 的 NA 值被计数。</p><p id="8bda" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">NULL 表示该值根本不存在，NA 值表示它是缺失值的占位符。</p><p id="9763" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通常，当处理向量中的缺失值时，我们倾向于 n a。NULL 值会删除该元素，就像它从未存在过一样。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="eafa" class="mq lo in nd b gy nh ni l nj nk">v1 &lt;- c(60, 80, NULL, 79, 70, NULL, 89)<br/>v2 &lt;- c(60, 80, NA, 85, 70, NA, 95)</span><span id="6b7f" class="mq lo in nd b gy nl ni l nj nk">print(v1)<br/>## [1] 60 80 79 70 89<br/>print(v2)<br/>## [1] 60 80 NA 85 70 NA 95</span><span id="abee" class="mq lo in nd b gy nl ni l nj nk">length(v1)<br/>## [1] 5<br/>length(v2)<br/>## [1] 7</span></pre><p id="d2c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们取 v1 的平均值，则计算中不考虑空值。</p><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6c0a7fc3d9ea6271d39937eb31444115.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*w99dsYnwX-wfC05SNgL7Lw.png"/></div></figure><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="ee9d" class="mq lo in nd b gy nh ni l nj nk">mean(v1)<br/>## [1] 75.6</span></pre><p id="0fe0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在用数字替换 NA 值或明确忽略 NA 值之前，不会计算向量 v2 的平均值。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="37d0" class="mq lo in nd b gy nh ni l nj nk">mean(v2)<br/>## [1] NA</span><span id="99af" class="mq lo in nd b gy nl ni l nj nk">mean(v2, na.rm = TRUE)<br/>## [1] 78</span></pre><p id="a907" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="nm"> is.na() </em> </strong>非常有用，可以告诉我们哪里缺少值</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="9729" class="mq lo in nd b gy nh ni l nj nk">v2 &lt;- c(60, 80, NA, 85, 70, NA, 95)</span><span id="5c35" class="mq lo in nd b gy nl ni l nj nk">is.na(v2)<br/>## [1] FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE</span><span id="6455" class="mq lo in nd b gy nl ni l nj nk">v2[is.na(v2)]<br/>## [1] NA NA</span><span id="8e3e" class="mq lo in nd b gy nl ni l nj nk">v2[!is.na(v2)]<br/>## [1] 60 80 85 70 95</span></pre><p id="9d23" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用 0 替换缺少的值</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="90ce" class="mq lo in nd b gy nh ni l nj nk">v2 &lt;- c(60,80,NA,85,70,NA,95)</span><span id="c54b" class="mq lo in nd b gy nl ni l nj nk">v2<br/>## [1] 60 80 NA 85 70 NA 95</span><span id="dae1" class="mq lo in nd b gy nl ni l nj nk">v2[is.na(v2)] = 0<br/>v2<br/>## [1] 60 80  0 85 70  0 95</span></pre><p id="09af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用平均值替换向量的缺失值</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="0e9a" class="mq lo in nd b gy nh ni l nj nk">v2 &lt;- c(60,80,NA,85,70,NA,95)</span><span id="8ace" class="mq lo in nd b gy nl ni l nj nk">v2<br/>## [1] 60 80 NA 85 70 NA 95</span><span id="e888" class="mq lo in nd b gy nl ni l nj nk">v2[is.na(v2)] = mean(v2, na.rm = TRUE)v2<br/>## [1] 60 80 78 85 70 78 95</span></pre><p id="9d43" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">完全删除丢失的值</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="ae1a" class="mq lo in nd b gy nh ni l nj nk">v2 &lt;- c(60,80,NA,85,70,NA,95)<br/>v2<br/>## [1] 60 80 NA 85 70 NA 95</span><span id="78df" class="mq lo in nd b gy nl ni l nj nk">v = v2[!is.na(v2)]<br/>v2 = v<br/>v2<br/>## [1] 60 80 85 70 95</span></pre><h1 id="ffb5" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">向量的类型强制</h1><p id="3420" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">向量必须总是相同的数据类型，如果不是，R 将强制它们成为相同的类型</p><ul class=""><li id="a16e" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">创建一个整数值向量</li><li id="3282" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">打印向量的元素</li><li id="6163" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">打印矢量的数据类型</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="6650" class="mq lo in nd b gy nh ni l nj nk">my_vector &lt;- c(20L, 25L, 29L, 6L, 50L)</span><span id="70c1" class="mq lo in nd b gy nl ni l nj nk">print(my_vector)<br/>## [1] 20 25 29  6 50</span><span id="6670" class="mq lo in nd b gy nl ni l nj nk">class(my_vector)<br/>## [1] "integer"</span></pre><p id="25b0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">整数向量中的一个数值足以将其强制转换为数值数据类型。值 20 是数字，所有其他值都是整数数据类型。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="6c04" class="mq lo in nd b gy nh ni l nj nk">my_vector &lt;- c(20L, 25L, 29L, 6L, 50L, 20)<br/>print(my_vector)<br/>## [1] 20 25 29  6 50 20</span><span id="0608" class="mq lo in nd b gy nl ni l nj nk">class(my_vector)<br/>## [1] "numeric"</span></pre><p id="ee4e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我试图创建一个包含数值和逻辑值的向量，那么 R 强制数据类型为数值</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="ee91" class="mq lo in nd b gy nh ni l nj nk">v &lt;- c(1, FALSE, TRUE, 0, 1, 1)<br/>print(v)<br/>## [1] 1 0 1 0 1 1</span><span id="1e6a" class="mq lo in nd b gy nl ni l nj nk">class(v)<br/>## [1] "numeric"</span></pre><p id="0302" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我试图创建一个包含数字和复数的向量，那么 R 会强制向量数据类型为复数</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="e101" class="mq lo in nd b gy nh ni l nj nk">x &lt;- c(1, 2i, 6, 2.5, 3.1415, 7+2i)<br/>print(x)<br/>## [1] 1.0000+0i 0.0000+2i 6.0000+0i 2.5000+0i 3.1415+0i 7.0000+2i</span><span id="779c" class="mq lo in nd b gy nl ni l nj nk">class(x)<br/>## [1] "complex"</span></pre><p id="0c48" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我试图创建一个包含字符和复数值的向量，那么 R 会强制向量的数据类型为字符</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="e919" class="mq lo in nd b gy nh ni l nj nk">x &lt;- c('a', 2i,55,33,99,5+9i)<br/>print(x)<br/>## [1] "a"    "0+2i" "55"   "33"   "99"   "5+9i"</span><span id="8eef" class="mq lo in nd b gy nl ni l nj nk">class(x)<br/>## [1] "character"</span></pre><p id="4345" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们试图创建一个所有基本数据类型的向量，那么这个字符应该获胜，因为 R 中数据类型强制的顺序是</p><p id="5f17" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="nm">字符&gt;复数&gt;数值&gt;整数&gt;逻辑</em>T3】</strong></p><p id="07b7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这意味着逻辑数据类型的优先级最低，字符数据类型的优先级最高。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="3618" class="mq lo in nd b gy nh ni l nj nk">x &lt;- c(1, 'two', 3L, 4+2i, FALSE)<br/>print(x)<br/>## [1] "1"     "two"   "3"     "4+2i"  "FALSE"</span><span id="b2aa" class="mq lo in nd b gy nl ni l nj nk">class(x)<br/>## [1] "character"</span></pre><h1 id="cfd6" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">更改向量的数据类型</h1><p id="8c95" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">我们将使用以下函数来改变向量的数据类型</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="6a77" class="mq lo in nd b gy nh ni l nj nk">as.integer()<br/>as.numeric()<br/>as.logical()<br/>as.character()<br/>as.complex()</span></pre><p id="6508" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将创建一个数值向量<strong class="jm io"> <em class="nm"> v. </em> </strong></p><ul class=""><li id="1719" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">显示元素矢量<strong class="jm io"> <em class="nm"> v </em> </strong></li><li id="5f56" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">显示矢量<strong class="jm io"> <em class="nm"> v </em> </strong>的数据类型</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="0c37" class="mq lo in nd b gy nh ni l nj nk">v &lt;- c(2, 4, 6.56, 3.1415)<br/>v<br/>## [1] 2.0000 4.0000 6.5600 3.1415<br/>class(v)<br/>## [1] "numeric"</span></pre><p id="4802" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将数值向量转换为整数向量，并打印其元素和数据类型。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="e76b" class="mq lo in nd b gy nh ni l nj nk">v &lt;- as.integer(v)<br/>v<br/>## [1] 2 4 6 3<br/>class(v)<br/>## [1] "integer"</span></pre><p id="2ce7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将矢量<strong class="jm io"> <em class="nm"> v </em> </strong>转换为字符数据类型。打印其元素和数据类型</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="eb44" class="mq lo in nd b gy nh ni l nj nk">v &lt;- as.character(v)<br/>v<br/>## [1] "2" "4" "6" "3"<br/>class(v)<br/>## [1] "character"</span></pre><p id="a683" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">转换回数字向量并打印其元素和数据类型。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="53f6" class="mq lo in nd b gy nh ni l nj nk">v &lt;- as.numeric(v)<br/>v<br/>## [1] 2 4 6 3<br/>class(v)<br/>## [1] "numeric"</span></pre><p id="381b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将矢量<strong class="jm io"> <em class="nm"> v </em> </strong>转换为复杂数据类型。打印其元素和数据类型</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="f828" class="mq lo in nd b gy nh ni l nj nk">v &lt;- as.complex(v)<br/>v<br/>## [1] 2+0i 4+0i 6+0i 3+0i<br/>class(v)<br/>## [1] "complex"</span></pre><p id="f80c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将数值向量转换为逻辑向量，并将逻辑向量转换为数值向量</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="5fb7" class="mq lo in nd b gy nh ni l nj nk">l &lt;- c(1,1,0,0,1)<br/>l<br/>## [1] 1 1 0 0 1</span><span id="ac26" class="mq lo in nd b gy nl ni l nj nk">l &lt;- as.logical(l)<br/>l<br/>## [1]  TRUE  TRUE FALSE FALSE  TRUE</span><span id="9033" class="mq lo in nd b gy nl ni l nj nk">class(l)<br/>## [1] "logical"</span><span id="e534" class="mq lo in nd b gy nl ni l nj nk">l &lt;- as.numeric(l)<br/>l<br/>## [1] 1 1 0 0 1</span><span id="01c2" class="mq lo in nd b gy nl ni l nj nk">class(l)<br/>## [1] "numeric"</span></pre><h1 id="e554" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">访问向量元素</h1><p id="169b" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">创建一个七个元素的字符向量</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="644d" class="mq lo in nd b gy nh ni l nj nk">countings &lt;- c("one", "two", "three", "four", "five", "six", "seven")</span></pre><p id="e13e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打印矢量的所有元素</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="163b" class="mq lo in nd b gy nh ni l nj nk">countings<br/>## [1] "one"   "two"   "three" "four"  "five"  "six"   "seven"</span></pre><p id="e283" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">找出向量的第一个和第七个元素</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="a94f" class="mq lo in nd b gy nh ni l nj nk">countings[1]<br/>## [1] "one"</span><span id="c929" class="mq lo in nd b gy nl ni l nj nk">countings[7]<br/>## [1] "seven"</span></pre><p id="4794" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">找出从 2 到 5 的元素范围</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="826f" class="mq lo in nd b gy nh ni l nj nk">countings[2:5]<br/>## [1] "two"   "three" "four"  "five"</span></pre><p id="bd7b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用向量索引找到向量的第二个和第五个元素</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="061f" class="mq lo in nd b gy nh ni l nj nk">countings[c(2, 5)]<br/>## [1] "two"  "five"</span></pre><p id="7cc8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">排除第三个元素，打印没有第三个元素的向量</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="a482" class="mq lo in nd b gy nh ni l nj nk">countings[-3]<br/>## [1] "one"   "two"   "four"  "five"  "six"   "seven"</span></pre><p id="e5ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用布尔值向量作为索引来访问向量的元素。索引 1st、4th、6th 和 7th 为真，因此返回相应的向量元素，并且排除与假索引相关联的元素。</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="c583" class="mq lo in nd b gy nh ni l nj nk">countings[c(TRUE, FALSE, FALSE, TRUE, FALSE, TRUE,TRUE)]<br/>## [1] "one"   "four"  "six"   "seven"</span></pre><p id="4209" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建前 9 个自然数的向量，并打印大于 5 的数字</p><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="22f6" class="mq lo in nd b gy nh ni l nj nk">my_vector &lt;- c(1:9)<br/>my_vector<br/>## [1] 1 2 3 4 5 6 7 8 9</span><span id="3a36" class="mq lo in nd b gy nl ni l nj nk">my_vector[my_vector &gt; 5]<br/>## [1] 6 7 8 9</span></pre><h1 id="de73" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">命名向量</h1><p id="24d7" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">我们可以通过使用向量的名称来索引命名的向量</p><ul class=""><li id="f7c1" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">创建学生计算机、统计和数学成绩的命名向量</li><li id="21fa" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">获取第二个位置的元素</li><li id="75b0" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在统计中访问学生的分数</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="fc57" class="mq lo in nd b gy nh ni l nj nk">student_grades &lt;- c(Computer = 95, Statistics = 98, Math = 91)</span><span id="09ae" class="mq lo in nd b gy nl ni l nj nk">student_grades[2]<br/>## Statistics <br/>##         98</span><span id="4055" class="mq lo in nd b gy nl ni l nj nk">student_grades['Statistics']<br/>## Statistics <br/>##         98</span></pre><h1 id="e8f8" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">向向量添加元素</h1><p id="d0cd" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">我们将创建一个数字向量和一个字符向量，向向量添加一个元素，并向向量添加一个向量。</p><ul class=""><li id="9f0c" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">创建一个由 4 个数字组成的向量，名为<strong class="jm io"> <em class="nm"> v </em> </strong></li><li id="a453" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">将一个值与矢量<strong class="jm io">vT31】连接</strong></li><li id="99e0" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">将一个矢量与矢量<strong class="jm io">vT35】连接</strong></li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="b60e" class="mq lo in nd b gy nh ni l nj nk">v &lt;- c(10,20,30,40)<br/>v<br/>## [1] 10 20 30 40</span><span id="33da" class="mq lo in nd b gy nl ni l nj nk">v &lt;- append(v, 50)<br/>v<br/>## [1] 10 20 30 40 50</span><span id="f569" class="mq lo in nd b gy nl ni l nj nk">v &lt;- append(v, c(60, 70, 80, 90))<br/>v<br/>## [1] 10 20 30 40 50 60 70 80 90</span></pre><ul class=""><li id="a80b" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">在第一个元素后附加一个向量 c(11，12，13，14，15，16，17，18，19)</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="a364" class="mq lo in nd b gy nh ni l nj nk">v &lt;- append(v, c(11, 12, 13, 14, 15, 16, 17, 18, 19), after = 1)<br/>v<br/>##  [1] 10 11 12 13 14 15 16 17 18 19 20 30 40 50 60 70 80 90</span></pre><ul class=""><li id="0cd8" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">创建一个字符向量并添加一个字符向量</li><li id="86d4" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">将一个元素附加到向量上</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="9424" class="mq lo in nd b gy nh ni l nj nk">v &lt;- c('one', 'two', 'six', 'seven')</span><span id="71d7" class="mq lo in nd b gy nl ni l nj nk">v<br/>## [1] "one"   "two"   "six"   "seven"</span><span id="d621" class="mq lo in nd b gy nl ni l nj nk">v &lt;- append(v, c('three', 'four', 'five'), after = 2)<br/>v<br/>## [1] "one"   "two"   "three" "four"  "five"  "six"   "seven"</span><span id="0a9f" class="mq lo in nd b gy nl ni l nj nk">v &lt;- append(v, 'eight')<br/>v<br/>## [1] "one"   "two"   "three" "four"  "five"  "six"   "seven" "eight"</span></pre><h1 id="e998" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">从向量中移除元素</h1><p id="4474" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">创建一个前 10 个自然数的向量，并通过子集化和负索引删除向量的元素</p><ul class=""><li id="30ef" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">创建前 10 个自然数的向量，并将其存储在变量 v 中</li><li id="8223" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">通过子集化移除向量<strong class="jm io"> <em class="nm"> v </em> </strong>的最后 4 个元素</li><li id="e8f0" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">使用负分度移除第三个元件</li></ul><pre class="kx ky kz la gt nc nd ne nf aw ng bi"><span id="7409" class="mq lo in nd b gy nh ni l nj nk">v &lt;- c(1:10)<br/>v<br/>##  [1]  1  2  3  4  5  6  7  8  9 10</span><span id="97bc" class="mq lo in nd b gy nl ni l nj nk">v &lt;- v[1:6]<br/>v<br/>## [1] 1 2 3 4 5 6</span><span id="ae33" class="mq lo in nd b gy nl ni l nj nk">v &lt;- v[-3]<br/>v<br/>## [1] 1 2 4 5 6</span></pre><h1 id="c878" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">结论</h1><p id="ab27" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated">在本文中，我们讨论了几乎所有与 R 编程语言中的向量创建和操作相关的重要主题。</p></div></div>    
</body>
</html>