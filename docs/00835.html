<html>
<head>
<title>Guardians of the DOM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">王国的守护者</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/guardians-of-the-dom-84ffbc782cd6?source=collection_archive---------29-----------------------#2020-06-17">https://blog.devgenius.io/guardians-of-the-dom-84ffbc782cd6?source=collection_archive---------29-----------------------#2020-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="56f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">DOM 遍历和操作</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9555855c8c1de2f6469481e6446a2b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bAnH0F3DpjO5m-tN.jpg"/></div></div></figure><h1 id="32fe" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">穿越</strong></h1><p id="76b3" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">“遍历 DOM”基本上是通过不同的对象导航到您需要的任何地方的能力。基于选择，我们可以从选择的(当前)元素开始，轻松地在树中向上(祖先)、向下(后代)和横向(兄弟)移动。您已经离导航 DOM 树更近了一步！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/350e1fe0202344817c90b51635fc45ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/0*A0Ffptb5OaAcJI0B.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">DOM 树</figcaption></figure><h1 id="1570" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">特种宽银幕电影</h1><p id="b04d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">正如上面提到的，我们有一个祖先树，它可以帮助我们根据您试图访问的节点的来源在 DOM 中移动。这可能看起来很复杂，就像任何家谱一样，可以不断增长。但是本质上所有的东西都可以分成以下几层。跟着我。</p><h2 id="8d7f" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">根节点</h2><p id="82e5" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><code class="fe mr ms mt mu b">document</code>对象是 DOM 中每个节点的根。这个对象实际上是<code class="fe mr ms mt mu b">window</code>对象的一个属性，它是一个全局的顶级对象，代表浏览器中的一个选项卡。<code class="fe mr ms mt mu b"><a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/API/Window" rel="noopener ugc nofollow" target="_blank">window</a></code>对象可以访问工具栏、窗口的高度和宽度、提示和警告等信息。<code class="fe mr ms mt mu b">document</code>由内部<code class="fe mr ms mt mu b">window</code>的内部组成。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mw"><img src="../Images/0fc9527d6b580819a39350620c31ad31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kb4RMH61m5SVkNI37bzkJg.png"/></div></div></figure><h2 id="ac83" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">父节点</h2><p id="f728" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">父节点是指位于另一个节点之上的任何节点。或者 DOM 层次结构中更靠近<code class="fe mr ms mt mu b">document</code>的任何节点。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mx"><img src="../Images/5f96a36d90b969d30ae11d373402a8d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lw7c6juWgKmIy0GBjtGy0A.png"/></div></div></figure><p id="8d91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">* *需要注意的是，父节点、同级节点和子节点并不指特定的标签。这意味着如果你有一个<div>标签，它可能是 parentNode，也可能不是。它在一个实例中可能是 parentNode，在另一个实例中可能是 childNode。这不是为了迷惑你。这只是意味着，确保您理解建立什么是. parentNode 的关系。西伯利亚节点或者。子节点依赖于与其他节点的相对关系。想想你自己的母亲，她可以同时是母亲、女儿或姐妹。她的标题取决于她在那一刻描述的关系。</div></p><h2 id="d4cd" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">子节点</h2><p id="6956" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">子节点是直接属于父节点或在父节点“下面”的节点。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi my"><img src="../Images/d9ce85b7bd10fbbc2a01d60232394c1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BH-CuopVmkZ2MzpxGiImTQ.png"/></div></div></figure><h2 id="f75a" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">嘶嘶声节点</h2><p id="8664" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">节点的兄弟节点是 DOM 中同一树级上的任何节点。同级节点不必是同一类型的节点，文本、元素和注释节点都可以是同级节点。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mz"><img src="../Images/e7e77334eafa8e03e914ca6298726acd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tIShLAT9WH_9ezlwILsKhQ.png"/></div></div></figure><p id="64b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在底部附加了一些额外的精彩资源。</p><h1 id="bd84" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">DOM 操作</h1><p id="40c0" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们可以通过 DOM 遍历、控制台日志记录和调试器工具来隔离元素。然而，如果我们知道一个节点的类、id 或标签，我们就可以直接找到它的来源</p><h2 id="7b9c" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">查询 DOM</h2><p id="e481" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们查询 DOM，以便对某些元素进行修改。</p><pre class="km kn ko kp gt na mu nb nc aw nd bi"><span id="34d9" class="mf ky iq mu b gy ne nf l ng nh">const elements1 = document.querySelectorAll('div')<br/>const elements2 = document.getElementsByTagName('div')<br/>const newElement = document.createElement('div')</span></pre><h2 id="ee4c" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">更改节点</h2><p id="ebde" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">一旦您查询或遍历了一个节点，我们就可以对其进行更改并添加关系。</p><h2 id="a0b0" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">创建一个元素</h2><pre class="km kn ko kp gt na mu nb nc aw nd bi"><span id="9749" class="mf ky iq mu b gy ne nf l ng nh">const myNewElement = document.createElement('div')<br/>const myNewTextNode = document.createTextNode('some text')</span></pre><h2 id="0f7f" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">添加元素</h2><p id="4428" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><code class="fe mr ms mt mu b">replaceChild()</code>方法<strong class="jp ir">用另一个</strong>替换一个子元素，这个子元素属于调用这个方法的父元素。</p><p id="eb28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">句法</p><h2 id="154a" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">移除元素</h2><pre class="km kn ko kp gt na mu nb nc aw nd bi"><span id="78b5" class="mf ky iq mu b gy ne nf l ng nh">myParentElement.removeChild(myElement)<br/>myElement.parentNode.removeChild(myElement)</span></pre><h2 id="5198" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">事件监听器</h2><p id="e79d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">事件监听器用于“监听”DOM 上的用户交互。要添加这些事件，您需要:</p><p id="fbda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">。addEventListener()</p><p id="bbf5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后传入您正在监听的事件类型，例如“click ”,后跟一个匿名函数，该函数传递您正在监听的事件。</p><p id="9e56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">某些事件侦听器有一些您需要注意的默认行为</p><pre class="km kn ko kp gt na mu nb nc aw nd bi"><span id="6a36" class="mf ky iq mu b gy ne nf l ng nh">myForm.addEventListener('submit', function (event) {<br/>  const name = this.querySelector('#name')<br/><br/>  if (name.value === 'Donald Duck') {<br/>    alert('You gotta be kidding!')<br/>    event.preventDefault()<br/>  }<br/>})</span></pre><p id="c404" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">相反的显然是。removeEventListener()</p><p id="85ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的例子中我们看到。事件上使用的 preventDefault()。这是为了防止提交按钮的事件侦听器的默认行为刷新页面。</p><h2 id="b5c8" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">添加类别</h2><p id="3053" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">简单地添加一个类节点。className ="Class Name "就可以了。</p><p id="633f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，如果你想添加条件行为，一种实现方式是。优等生名单</p><pre class="km kn ko kp gt na mu nb nc aw nd bi"><span id="6707" class="mf ky iq mu b gy ne nf l ng nh">myElement.classList.add('foo')<br/>myElement.classList.remove('bar')<br/>myElement.classList.toggle('baz')</span></pre><h2 id="c052" class="mf ky iq bd kz mg mh dn ld mi mj dp lh jy mk ml ll kc mm mn lp kg mo mp lt mq bi translated">动画</h2><p id="a6eb" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">介绍时间流逝时，请注意秒是以 1000 为单位计算的。所以 1000 是 1 秒</p><p id="d3cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">window.setTimeout()</p><pre class="km kn ko kp gt na mu nb nc aw nd bi"><span id="742e" class="mf ky iq mu b gy ne nf l ng nh">const start = window.performance.now()<br/>const duration = 2000<br/><br/>window.requestAnimationFrame(function fadeIn (now)) {<br/>  const progress = now - start<br/>  myElement.style.opacity = progress / duration<br/><br/>  if (progress &lt; duration) {<br/>    window.requestAnimationFrame(fadeIn)<br/>  }<br/>}</span></pre><p id="f160" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">额外资源:</p><p id="b6d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mv" href="https://zellwk.com/blog/dom-traversals/" rel="noopener ugc nofollow" target="_blank">https://zellwk.com/blog/dom-traversals/</a></p></div></div>    
</body>
</html>