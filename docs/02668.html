<html>
<head>
<title>PHP — P39: Anonymous Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P39:匿名函数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-7-x-p39-anonymous-functions-75f6f99fa571?source=collection_archive---------6-----------------------#2020-08-19">https://blog.devgenius.io/php-7-x-p39-anonymous-functions-75f6f99fa571?source=collection_archive---------6-----------------------#2020-08-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ea55349490208ad0ddd01219b1d9613d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vle7jKnjuYj8UyA9eQxvHg.jpeg"/></div></div></figure><p id="447e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">匿名函数，或者说闭包，是那些似乎给人们的生活带来很多压力的函数。让我们简化这个过程。匿名函数是没有名字的函数。</p><p id="929d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们来看一个正则函数。一个<strong class="ka ir">常规</strong>函数以<em class="kw">函数</em>关键字开始，后跟函数名；参数用括号括起来，函数体用花括号括起来。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="023a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">匿名</strong>函数删除函数名，并将函数赋给一个变量。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="3391" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们创建一个实际的例子。我们将展示一个标准函数和一个匿名函数声明。让我们从常规函数开始。函数名为<em class="kw"> stuff_dogs_say() </em>。它只会在被叫了之后发出“狗说猫逊”的回声。我们已经在<a class="ae ld" href="https://medium.com/dev-genius/php-7-x-p35-user-defined-functions-c6e23a7309c5" rel="noopener"> <em class="kw">用户定义函数</em> </a>一文中研究了如何调用常规函数。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="660d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，让我们将常规函数转换成匿名函数。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="87df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们创建一个名为<em class="kw"> $stuff_dogs_say </em>的变量，并为其分配匿名函数。因为我们要给变量赋值，所以我们需要像往常一样用分号结束赋值语句。为了清楚起见，该函数被分隔成多行。由于<em class="kw"> $stuff_dogs_say </em>包含了匿名函数，我们可以通过在变量名本身后面加上一对括号来调用这个函数:<em class="kw"> $stuff_dogs_say() </em>。</p><p id="037a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以声明参数并将参数传递给匿名函数，就像我们处理常规函数一样。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="368a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们用参数<em class="kw"> $saying </em>声明匿名函数，并将其赋给<em class="kw"> $stuff_dogs_say_two </em>变量。匿名函数只是将传递给它的参数回显出来。在第7行的函数调用过程中，参数<em class="kw">猫臭</em>被传递给<em class="kw"> $stuff_dogs_say_two </em>函数。</p><p id="71b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看一些有趣的东西。我们知道我们可以从函数内部返回任何数据类型。这意味着我们也可以返回函数；我知道，很惊讶。我们将创建一个返回匿名函数的常规函数。让我们来看一个例子，并从头到尾看一遍。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><ol class=""><li id="f7ff" class="le lf iq ka b kb kc kf kg kj lg kn lh kr li kv lj lk ll lm bi translated">我们首先创建一个名为<em class="kw"> stuff_cats_say() </em>的常规函数。常规函数只是返回一个匿名函数。匿名函数包含一个<em class="kw"> echo </em>语句:这里没有什么革命性的东西。我们知道在这里我们可以返回任何东西，所以我们本来可以返回一个整数(即<em class="kw">返回3；)</em>或一个字符串(即<em class="kw">返回“Dino”；</em>)。我们这次只是返回一个完整的函数(即<em class="kw"> return function() { echo“狗吸”；};</em>)</li><li id="f787" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">我们将常规函数<em class="kw"> stuff_cats_say() </em>赋给第9行的<em class="kw"> $cats </em>变量。记住PHP是如何工作的。它从赋值操作符的右边开始。它评估<em class="kw"> stuff_cats_say() </em>函数。那个函数只是返回一个匿名函数。然后这个匿名函数被分配给变量<em class="kw"> $cats </em>。会跟说:<em class="kw"> $cats = function() { echo“狗吸”；};</em></li><li id="1f4f" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated">现在我们知道了变量<em class="kw"> $cats </em>包含了匿名函数，我们知道如何调用这个匿名函数:通过在变量后面附加一对括号。</li><li id="0dee" class="le lf iq ka b kb ln kf lo kj lp kn lq kr lr kv lj lk ll lm bi translated"><em class="kw"> $cats() </em>函数调用将调用匿名函数。匿名函数是做什么的？它只是<em class="kw">呼应</em>出来的<em class="kw">狗吸。</em></li></ol><p id="61e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为什么要使用匿名函数而不是常规函数？有时你需要访问一个函数范围之外的变量，由于某种原因，这个变量不能作为参数传递。您可以在匿名函数中使用“use”关键字来访问该变量的范围。我们将在下一篇文章中讨论“使用”关键字。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ls lc l"/></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><div class="kx ky kz la gt ma"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd ir gy z fp mf fr fs mg fu fw ip bi translated">dinocajic/PHP-7-YouTube-教程</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">PHP 7.x YouTube教程的代码。</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">github.com</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo jw ma"/></div></div></a></div></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0be89e76469a3ac5a4e333b17f372600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bhULnqj7Ce55GqKS.jpeg"/></div></div></figure><p id="85ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡伊奇目前是<a class="ae ld" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(生命周期生物科学公司)</a>、<a class="ae ld" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae ld" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae ld" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物</a>、<a class="ae ld" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧MUbio </a>和<a class="ae ld" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的IT主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="1996" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae ld" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae ld" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae ld" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="63a3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ld" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="kw">阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。</em> </a></p></div></div>    
</body>
</html>