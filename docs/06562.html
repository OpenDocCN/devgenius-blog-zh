<html>
<head>
<title>Laravel create an admin panel from scratch - Part 2 - Authentication</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel从头开始创建管理面板-第2部分-认证</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/laravel-create-an-admin-panel-from-scratch-part-2-authentication-f0eb0bbd6139?source=collection_archive---------4-----------------------#2022-01-17">https://blog.devgenius.io/laravel-create-an-admin-panel-from-scratch-part-2-authentication-f0eb0bbd6139?source=collection_archive---------4-----------------------#2022-01-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f0a8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">向Laravel应用程序添加用户认证的步骤</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b3b6b450ddce4f430f35d03972b644b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wk4WaomlQ4v_GKUY2AhcXw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">Laravel Breeze入门套件</figcaption></figure><p id="7c98" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这一部分，我们将添加用户认证到我们的管理面板。<a class="ae lr" href="https://balajidharma.medium.com/laravel-create-an-admin-panel-from-scratch-part-1-installation-8c11dae7e684" rel="noopener">第1部分</a>我们完成了Laravel安装和DB设置。</p><div class="ls lt gp gr lu lv"><a href="https://balajidharma.medium.com/laravel-create-an-admin-panel-from-scratch-part-1-installation-8c11dae7e684" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">Laravel从头开始创建管理面板—第1部分—安装</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">在Docker中安装Laravel或者通过PHP Composer安装Laravel</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">balajidharma.medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="7b39" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我已经使用<a class="ae lr" href="https://laravel.com/docs/8.x/sail" rel="noopener ugc nofollow" target="_blank"> Sail </a>在Docker上安装了我的Laravel应用程序。认证在Laravel的官方<a class="ae lr" href="https://laravel.com/docs/authentication" rel="noopener ugc nofollow" target="_blank">认证</a>文档中有详细解释。</p><blockquote class="mk ml mm"><p id="02df" class="kv kw mn kx b ky kz jr la lb lc ju ld mo lf lg lh mp lj lk ll mq ln lo lp lq ij bi translated">Laravel的认证设施由“守卫”和“<a class="ae lr" href="https://laravel.com/docs/providers" rel="noopener ugc nofollow" target="_blank">提供者</a>”组成。安全措施定义了如何针对每个请求对用户进行身份验证。守卫定义了如何对每个请求进行用户身份验证</p></blockquote><p id="6946" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">外部Laravel应用程序的认证配置文件位于<code class="fe mr ms mt mu b">config/auth.php</code>。在<a class="ae lr" href="https://github.com/laravel/laravel/blob/master/config/auth.php" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上查看完整文件</p><h2 id="f258" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">Laravel Breeze入门套件</h2><p id="daff" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated"><a class="ae lr" href="https://laravel.com/docs/starter-kits#laravel-breeze" rel="noopener ugc nofollow" target="_blank"> Laravel Breeze </a>是Laravel认证功能的入门套件。这个初学者工具包将负责搭建您的整个身份验证系统。</p><p id="d3bf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下步骤涉及到为我们的Laravel管理面板设置认证。</p><ul class=""><li id="e3a2" class="nt nu iq kx b ky kz lb lc le nv li nw lm nx lq ny nz oa ob bi translated">1.安装Laravel Breeze</li><li id="158b" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">2.编译资产</li><li id="e94f" class="nt nu iq kx b ky oc lb od le oe li of lm og lq ny nz oa ob bi translated">3.运行迁移</li></ul><h2 id="789a" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">1.安装Laravel Breeze</h2><p id="148e" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">我们需要使用Composer安装Laravel Breeze。</p><pre class="kg kh ki kj gt oh mu oi oj aw ok bi"><span id="e87d" class="mv mw iq mu b gy ol om l on oo">./vendor/bin/sail composer require laravel/breeze --dev</span></pre><p id="270a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将为<code class="fe mr ms mt mu b">vendor/bin/sail</code> Sail命令创建一个别名:</p><pre class="kg kh ki kj gt oh mu oi oj aw ok bi"><span id="32a6" class="mv mw iq mu b gy ol om l on oo">alias sail='[ -f sail ] &amp;&amp; bash sail || bash vendor/bin/sail'</span></pre><p id="250b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">配置好Bash别名后，只需输入<code class="fe mr ms mt mu b">sail</code>就可以执行Sail命令。本博客示例的其余部分将假设您已经配置了该别名:</p><pre class="kg kh ki kj gt oh mu oi oj aw ok bi"><span id="3e5f" class="mv mw iq mu b gy ol om l on oo">sail composer require laravel/breeze --dev</span></pre><p id="43a7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Laravel Breeze包安装完成后，我们需要运行<code class="fe mr ms mt mu b">breeze:install</code> Artisan命令。这个命令将向我们的应用程序发布身份验证视图、路由、控制器和其他资源。</p><pre class="kg kh ki kj gt oh mu oi oj aw ok bi"><span id="2a4f" class="mv mw iq mu b gy ol om l on oo">sail <!-- -->artisan breeze:install</span></pre></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><h2 id="5573" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">2.编译资产</h2><p id="5693" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">安装Breeze后，执行npm来编译资产。</p><pre class="kg kh ki kj gt oh mu ow bn ox oy bi"><span id="47ba" class="oz mw iq mu b be pa pb l pc oo">sail npm install <br/><br/>sail npm run dev</span></pre></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><h2 id="00ee" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">3.运行迁移</h2><p id="1922" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">使用<code class="fe mr ms mt mu b">artisan migrate</code>运行您的数据库迁移</p><pre class="kg kh ki kj gt oh mu oi oj aw ok bi"><span id="5203" class="mv mw iq mu b gy ol om l on oo">sail <!-- -->artisan migrate</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/25e670d16ed37640cb52b3bf99478f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6oqMlp8If7xQB52uz9s8Jg.png"/></div></div></figure><p id="933e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">迁移后，在数据库上创建了用户和其他表。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/e35a4e923072097ef22517819cca62ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vURYZ0XaJ6bTT6uxT_HfVQ.png"/></div></div></figure><p id="b22f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，您可以在web浏览器中导航到应用程序的<code class="fe mr ms mt mu b">/login</code>或<code class="fe mr ms mt mu b">/register</code>URL。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/6ac78b2a54c8e8a00be10df7f84ebe5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KOFzx3pNWbi60xIXw6xKdg.png"/></div></div></figure><p id="25d7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">成功注册或登录后，用户将被重定向到仪表板。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/fb59405595024dcd3487f4e58c94907d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eLq-5dfkge_-DTGqQiiGLQ.png"/></div></div></figure></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><h2 id="9938" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">Laravel Breeze漫游</h2><p id="74cd" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">我们已成功将身份验证添加到您的应用程序中。现在浏览Laravel Breeze文件结构，了解Laravel的认证功能是如何实现的。</p><h2 id="771b" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">控制器</h2><p id="300f" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">所有的控制器都位于认证文件夹<code class="fe mr ms mt mu b">app/Http/Controllers/Auth</code>中</p><pre class="kg kh ki kj gt oh mu oi oj aw ok bi"><span id="105f" class="mv mw iq mu b gy ol om l on oo">AuthenticatedSessionController.php<br/>ConfirmablePasswordController.php<br/>EmailVerificationNotificationController.php<br/>EmailVerificationPromptController.php<br/>NewPasswordController.php<br/>PasswordResetLinkController.php<br/>RegisteredUserController.php<br/>VerifyEmailController.php</span></pre><h2 id="612e" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">路线</h2><p id="56a4" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated"><code class="fe mr ms mt mu b">/login</code>、<code class="fe mr ms mt mu b">/register</code>和所有授权<a class="ae lr" href="https://laravel.com/docs/routing" rel="noopener ugc nofollow" target="_blank">路由</a>在<code class="fe mr ms mt mu b">routes/auth.php</code>中定义。仪表板路线在<code class="fe mr ms mt mu b">routes/web.php</code>可用</p><p id="cb8b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae lr" href="https://laravel.com/docs/middleware" rel="noopener ugc nofollow" target="_blank">中间件</a> <code class="fe mr ms mt mu b">-&gt;middleware(‘auth’)</code>提供了一种方便的机制来检查和过滤进入应用程序的HTTP请求。</p><pre class="kg kh ki kj gt oh mu oi oj aw ok bi"><span id="a72f" class="mv mw iq mu b gy ol om l on oo">Route::get('/register', [RegisteredUserController::class, 'create'])<br/>                -&gt;middleware('guest')<br/>                -&gt;name('register');</span><span id="7c68" class="mv mw iq mu b gy ph om l on oo">Route::post('/register', [RegisteredUserController::class, 'store'])<br/>                -&gt;middleware('guest');</span><span id="10ce" class="mv mw iq mu b gy ph om l on oo">Route::get('/login', [AuthenticatedSessionController::class, 'create'])<br/>                -&gt;middleware('guest')<br/>                -&gt;name('login');</span><span id="833d" class="mv mw iq mu b gy ph om l on oo">Route::post('/login', [AuthenticatedSessionController::class, 'store'])<br/>                -&gt;middleware('guest');</span></pre><h2 id="66c0" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">视图</h2><p id="814e" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">授权视图包含在<code class="fe mr ms mt mu b">resources/views/auth/</code>文件夹中。仪表板视图是<code class="fe mr ms mt mu b">resources/views/dashboard.blade.php</code></p><h2 id="7aa1" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated">登录请求</h2><p id="04d3" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">登录请求表在<code class="fe mr ms mt mu b">app/Http/Requests/Auth/LoginRequest.php</code>文件的<code class="fe mr ms mt mu b">LoginRequest.php</code>中处理。</p></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><h2 id="b86f" class="mv mw iq bd mx my mz dn na nb nc dp nd le ne nf ng li nh ni nj lm nk nl nm nn bi translated"><strong class="ak"> GitHub </strong>仓库</h2><p id="55f1" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">我为我们的“基本Laravel管理面板”创建了一个GitHub存储库。<a class="ae lr" href="https://github.com/balajidharma/basic-laravel-admin-panel" rel="noopener ugc nofollow" target="_blank">https://github.com/balajidharma/basic-laravel-admin-panel</a></p><p id="c6f2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">安装和认证代码可在<a class="ae lr" href="https://github.com/balajidharma/basic-laravel-admin-panel/tree/archive/1.0.1" rel="noopener ugc nofollow" target="_blank"> 1.0.1 </a>分公司获得</p></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><p id="7fba" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢您的阅读！</p></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><p id="2c83" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">上一部分—第1部分:<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/laravel-create-an-admin-panel-from-scratch-part-1-installation-8c11dae7e684">在Docker中安装Laravel的步骤或在WAMP或XAMPP通过Composer安装Laravel</a></p><p id="6126" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下一部分—第3部分:<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/laravel-user-roles-and-permissions-6dbfd4abfcf8">用户角色和权限</a></p></div></div>    
</body>
</html>