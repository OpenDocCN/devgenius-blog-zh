<html>
<head>
<title>Chart.js — Chart Tooltips and Labels</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Chart.js图表工具提示和标签</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/chart-js-chart-tooltips-and-labels-e6ff7775ccf1?source=collection_archive---------2-----------------------#2020-12-05">https://blog.devgenius.io/chart-js-chart-tooltips-and-labels-e6ff7775ccf1?source=collection_archive---------2-----------------------#2020-12-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6d4381d129e76d51be7db13b8746b062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Zdk9qmweuVM8BDVK"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@louishansel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">路易斯·汉瑟@shotsoflouis </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="fd02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用Chart.js使在网页上创建图表变得容易。</p><p id="f429" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Chart.js创建图表。</p><h1 id="5034" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">工具提示</h1><p id="7c91" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">option.tooltips</code>属性改变工具提示。</p><p id="bcf4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们包括许多选项，如颜色、半径、宽度、文本方向、对齐方式等等。</p><p id="66c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="59a3" class="mq lc iq mh b gy mr ms l mt mu">var ctx = document.getElementById('myChart').getContext('2d');<br/>var myChart = new Chart(ctx, {<br/>  type: 'bar',<br/>  data: {<br/>    labels: ['Red', 'Blue', 'Yellow'],<br/>    datasets: [{<br/>      label: '# of Votes',<br/>      data: [12.35748, 19, 3],<br/>      backgroundColor: [<br/>        'rgba(255, 99, 132, 0.2)',<br/>        'rgba(54, 162, 235, 0.2)',<br/>        'rgba(255, 206, 86, 0.2)',<br/>      ],<br/>      borderColor: [<br/>        'rgba(255, 99, 132, 1)',<br/>        'rgba(54, 162, 235, 1)',<br/>        'rgba(255, 206, 86, 1)',<br/>      ],<br/>      borderWidth: 1<br/>    }]<br/>  },<br/>  options: {<br/>    tooltips: {<br/>      callbacks: {<br/>        label: function(tooltipItem, data) {<br/>          let label = data.datasets[tooltipItem.datasetIndex].label || '';</span><span id="a62a" class="mq lc iq mh b gy mv ms l mt mu">          if (label) {<br/>            label += ': ';<br/>          }<br/>          label += Math.round(tooltipItem.yLabel * 100) / 100;<br/>          return label;<br/>        }<br/>      }<br/>    },<br/>    scales: {<br/>      yAxes: [{<br/>        ticks: {<br/>          beginAtZero: true<br/>        }<br/>      }]<br/>    }<br/>  }<br/>});</span></pre><p id="aab6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将数字四舍五入到两位数。</p><p id="f0a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有带有y轴值的<code class="fe me mf mg mh b">tooltipItem.yLabel</code>属性。</p><p id="841e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们会看到，当我们将鼠标悬停在红色条上时，它的工具提示会显示一个带有两个十进制数字的数字。</p><h1 id="ef1c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">标签颜色回调</h1><p id="3978" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们也可以改变标签颜色回调。</p><p id="27f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b502" class="mq lc iq mh b gy mr ms l mt mu">var ctx = document.getElementById('myChart').getContext('2d');<br/>var myChart = new Chart(ctx, {<br/>  type: 'bar',<br/>  data: {<br/>    labels: ['Red', 'Blue', 'Yellow'],<br/>    datasets: [{<br/>      label: '# of Votes',<br/>      data: [12.35748, 19, 3],<br/>      backgroundColor: [<br/>        'rgba(255, 99, 132, 0.2)',<br/>        'rgba(54, 162, 235, 0.2)',<br/>        'rgba(255, 206, 86, 0.2)',<br/>      ],<br/>      borderColor: [<br/>        'rgba(255, 99, 132, 1)',<br/>        'rgba(54, 162, 235, 1)',<br/>        'rgba(255, 206, 86, 1)',<br/>      ],<br/>      borderWidth: 1<br/>    }]<br/>  },<br/>  options: {<br/>    tooltips: {<br/>      callbacks: {<br/>        labelColor(tooltipItem, chart) {<br/>          return {<br/>            borderColor: 'rgb(255, 0, 0)',<br/>            backgroundColor: 'rgb(255, 0, 0)'<br/>          };<br/>        },<br/>        labelTextColor(tooltipItem, chart) {<br/>          return 'lightgray';<br/>        }<br/>      }<br/>    },<br/>    scales: {<br/>      yAxes: [{<br/>        ticks: {<br/>          beginAtZero: true<br/>        }<br/>      }]<br/>    }<br/>  }<br/>});</span></pre><p id="18ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用带有<code class="fe me mf mg mh b">labelColor</code>方法的<code class="fe me mf mg mh b">options.tooltips.callbacks</code>属性返回带有<code class="fe me mf mg mh b">borderColor</code>和<code class="fe me mf mg mh b">backgroundColor</code>属性的对象。</p><p id="22a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">borderColor</code>具有工具提示的边框颜色。</p><p id="fb17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">backgroundColor</code>有工具提示的背景色。</p><p id="9951" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另外，<code class="fe me mf mg mh b">labelTextColor</code>是一个返回工具提示标签文本颜色的方法。</p><p id="295e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">tooltipItem</code>对象有许多属性。</p><p id="20f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们包括带有标签字符串的<code class="fe me mf mg mh b">label</code>属性。</p><p id="f306" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">value</code>有价值。</p><p id="b33f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">xLabel</code>和<code class="fe me mf mg mh b">yLabel</code>具有x和y标签值。</p><p id="f9d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">datasetIndex</code>具有该项所来自的数据集的索引。</p><p id="c45b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index</code>拥有数据集中数据项的索引。</p><p id="c765" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">x</code>和<code class="fe me mf mg mh b">y</code>是匹配点的x和y位置。</p><h1 id="77bd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">外部(自定义)工具提示</h1><p id="18d3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">custom</code>方法定制我们的工具提示:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1578" class="mq lc iq mh b gy mr ms l mt mu">var ctx = document.getElementById('myChart').getContext('2d');<br/>var myChart = new Chart(ctx, {<br/>  type: 'bar',<br/>  data: {<br/>    labels: ['Red', 'Blue', 'Yellow'],<br/>    datasets: [{<br/>      label: '# of Votes',<br/>      data: [12.35748, 19, 3],<br/>      backgroundColor: [<br/>        'rgba(255, 99, 132, 0.2)',<br/>        'rgba(54, 162, 235, 0.2)',<br/>        'rgba(255, 206, 86, 0.2)',<br/>      ],<br/>      borderColor: [<br/>        'rgba(255, 99, 132, 1)',<br/>        'rgba(54, 162, 235, 1)',<br/>        'rgba(255, 206, 86, 1)',<br/>      ],<br/>      borderWidth: 1<br/>    }]<br/>  },<br/>  options: {<br/>    tooltips: {<br/>      enabled: false,<br/>      custom(tooltipModel) {<br/>        var tooltipEl = document.getElementById('chartjs-tooltip');<br/>        if (!tooltipEl) {<br/>          tooltipEl = document.createElement('div');<br/>          tooltipEl.id = 'chartjs-tooltip';<br/>          document.body.appendChild(tooltipEl);<br/>        }</span><span id="4ebd" class="mq lc iq mh b gy mv ms l mt mu">        if (tooltipModel.body) {<br/>          tooltipEl.innerHTML = tooltipModel.body[0].lines<br/>        }</span><span id="acf9" class="mq lc iq mh b gy mv ms l mt mu">      }<br/>    },<br/>    scales: {<br/>      yAxes: [{<br/>        ticks: {<br/>          beginAtZero: true<br/>        }<br/>      }]<br/>    }<br/>  }<br/>});</span></pre><p id="6a0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建一个工具提示元素，然后将<code class="fe me mf mg mh b">innerHTML</code>设置为<code class="fe me mf mg mh b">body[0].lines</code>属性的值。</p><p id="68d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们应该看到图表下方显示的标签值。</p><h1 id="08b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b809" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有许多方法可以自定义图表的标签。</p></div></div>    
</body>
</html>