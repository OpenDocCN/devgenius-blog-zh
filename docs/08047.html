<html>
<head>
<title>How to Connect Database to a Flask App -Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•å°†æ•°æ®åº“è¿æ¥åˆ° Flask åº”ç”¨ç¨‹åºâ€”â€”ç¬¬ 2 éƒ¨åˆ†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/how-to-connect-database-to-a-flask-app-part-2-a7e948cbb8dd?source=collection_archive---------5-----------------------#2022-05-13">https://blog.devgenius.io/how-to-connect-database-to-a-flask-app-part-2-a7e948cbb8dd?source=collection_archive---------5-----------------------#2022-05-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e80a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">é€šè¿‡ SQLAlchemy |é›†æˆ Flask WTForms å°† SQLite æ•°æ®åº“è¿æ¥åˆ° Flask åº”ç”¨ç¨‹åº</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/d137848d57193b941b8fd0ad782ce121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ieXaavHBhInXJiKyK4RTEA.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">åŸƒç±³å°”Â·ä½©é¾™åœ¨<a class="ae ks" href="https://unsplash.com/s/photos/code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</figcaption></figure><h1 id="096f" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">ä»‹ç»</h1><p id="5961" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">è¿™æ˜¯æœ¬ç³»åˆ—çš„ç¬¬ 2 éƒ¨åˆ†ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†ä»ç¬¬ 1 éƒ¨åˆ†åœæ­¢çš„åœ°æ–¹å®Œæˆå…¶ä½™çš„éªŒè¯ã€‚å¦‚æœä½ é”™è¿‡äº†å‰é¢çš„éƒ¨åˆ†ï¼Œè¯·åœ¨ç»§ç»­ä¹‹å‰ï¼Œç‚¹å‡»ä¸‹é¢çš„é“¾æ¥å¹¶å‚è€ƒå®ƒã€‚</p><div class="mh mi gp gr mj mk"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-connect-database-to-a-flask-app-part-1-60611deea17a"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd io gy z fp mp fr fs mq fu fw im bi translated">å¦‚ä½•å°†æ•°æ®åº“è¿æ¥åˆ° Flask åº”ç”¨ç¨‹åºâ€”â€”ç¬¬ 1 éƒ¨åˆ†</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">é€šè¿‡ SQLAlchemy å°† SQLite æ•°æ®åº“è¿æ¥åˆ° Flask åº”ç”¨ç¨‹åº</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">blog.devgenius.io</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my km mk"/></div></div></a></div><p id="6792" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">æ­£å¦‚æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æåˆ°çš„ï¼Œæˆ‘å°†å®‰è£…<strong class="ln io"> Flask WTForms </strong>å¹¶åˆ›å»ºå•ç‹¬çš„<code class="fe ne nf ng nh b">forms</code>å’Œ<code class="fe ne nf ng nh b">models</code>é…ç½®æ–‡ä»¶ã€‚ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘å°†åœ¨åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªä¸æ ¹ç›®å½•åŒåçš„æ–°ç›®å½•ã€‚</p><pre class="kd ke kf kg gt ni nh nj nk aw nl bi"><span id="fa2d" class="nm ku in nh b gy nn no l np nq">root directory -&gt; Flask_DB</span><span id="195d" class="nm ku in nh b gy nr no l np nq">directory inside -&gt; Flask_DB</span></pre></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="1c4e" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">å°†ç°æœ‰æ–‡ä»¶ç§»åŠ¨åˆ°æ–°ç›®å½•</h1><p id="f391" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">æˆ‘ä»¬éœ€è¦å°†ç°æœ‰çš„<code class="fe ne nf ng nh b">statis</code>ã€<code class="fe ne nf ng nh b">templates</code>ç›®å½•å’Œ<code class="fe ne nf ng nh b">sqlite DB</code>ç›®å½•ç§»åŠ¨åˆ°æ–°åˆ›å»ºçš„<code class="fe ne nf ng nh b">Flask_DB</code>ç›®å½•ä¸­ã€‚</p><p id="6869" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªç›®å½•ä¸­åˆ›å»º 3 ä¸ª python é…ç½®æ–‡ä»¶ï¼Œå¦‚<code class="fe ne nf ng nh b">forms.py</code>ã€<code class="fe ne nf ng nh b">models.py</code>å’Œ<code class="fe ne nf ng nh b">routes.py</code>ã€‚</p><p id="663d" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">ç„¶åï¼Œæˆ‘ä»¬åœ¨ç›®å½•ä¸­åˆ›å»ºå¦ä¸€ä¸ªåä¸º<code class="fe ne nf ng nh b">__init__.py</code>çš„ python é…ç½®æ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»å°†æ‰€æœ‰éœ€è¦çš„é…ç½®æ–‡ä»¶æ·»åŠ åˆ°ç›®å½•ä¸­ï¼Œå½“æ‚¨è¿è¡Œ<code class="fe ne nf ng nh b">tree</code>å‘½ä»¤æ—¶ï¼Œå®ƒåº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ã€‚</p><pre class="kd ke kf kg gt ni nh nj nk aw nl bi"><span id="8f1e" class="nm ku in nh b gy nn no l np nq">.<br/>â”œâ”€â”€ __init__.py<br/>â”œâ”€â”€ db.sqlite3<br/>â”œâ”€â”€ forms.py<br/>â”œâ”€â”€ models.py<br/>â”œâ”€â”€ routes.py<br/>â”œâ”€â”€ static<br/>â””â”€â”€ templates<br/>    â”œâ”€â”€ base.html<br/>    â”œâ”€â”€ home.html<br/>    â”œâ”€â”€ login.html<br/>    â””â”€â”€ register.html</span></pre><p id="56ba" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">ä½†æ˜¯æˆ‘ä»¬çš„<code class="fe ne nf ng nh b">app.py</code>é…ç½®æ–‡ä»¶ä»ç„¶åœ¨æ ¹ç›®å½•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶é‡å‘½åä¸º<code class="fe ne nf ng nh b">run.py</code>ã€‚ç°åœ¨æˆ‘ä»¬å‡ ä¹å®Œæˆäº†é…ç½®æ–‡ä»¶çš„ç§»åŠ¨å’Œé‡å‘½åã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æ›´æ–°ç°æœ‰çš„æ–‡ä»¶ï¼Œä»¥å®Œæˆæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„éªŒè¯éƒ¨åˆ†ã€‚</p></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="e462" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">æ›´æ–°<code class="fe ne nf ng nh b">run.py file</code></h1><p id="b177" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªæ–‡ä»¶è®¾ç½®ä¸ºèµ·ç‚¹ï¼Œå¹¶å°†å…¶ä»–é…ç½®ç§»åŠ¨åˆ°æˆ‘ä»¬æ–°åˆ›å»ºçš„é…ç½®æ–‡ä»¶ä¸­ã€‚å› æ­¤ï¼Œæ–°çš„<code class="fe ne nf ng nh b">run.py</code>æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="5dde" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">[å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­è®¾ç½®äº†ä¸€ä¸ª<code class="fe ne nf ng nh b">.flaskenv</code>æ–‡ä»¶ï¼Œå®ƒä¹Ÿéœ€è¦ä¿®æ”¹å¦‚ä¸‹]</p><pre class="kd ke kf kg gt ni nh nj nk aw nl bi"><span id="4c7b" class="nm ku in nh b gy nn no l np nq">FLASK_ENV=development<br/>FLASK_APP=run.py</span></pre></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="c265" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">æ­£åœ¨æ›´æ–° __init__ã€‚py æ–‡ä»¶</h1><p id="37fa" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">æ–°çš„<code class="fe ne nf ng nh b">__init__.py</code>é…ç½®æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™é‡Œæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰çš„<code class="fe ne nf ng nh b">models</code>å’Œ<code class="fe ne nf ng nh b">routes</code>ç§»åŠ¨åˆ°ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå…¶ä½™çš„å°†é©»ç•™åœ¨è¿™é‡Œã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="7639" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">æ›´æ–° models.py æ–‡ä»¶</h1><p id="75a5" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">ä¹‹å‰ï¼Œæˆ‘ä»¬åœ¨<code class="fe ne nf ng nh b">app.py</code>é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºäº†ç”¨æˆ·æ¨¡å‹ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†è¯¥éƒ¨åˆ†ç§»åŠ¨åˆ°<code class="fe ne nf ng nh b">models.py</code>é…ç½®æ–‡ä»¶ä¸­ï¼Œå¹¶å¯¼å…¥å¿…è¦çš„åŒ…ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ‰€ç¤ºã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="92b3" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">å®‰è£…çƒ§ç“¶ WTForms</h1><p id="c1d6" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">ä½¿ç”¨ Flask WTFormsï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ›å»ºè¡¨å•å¹¶åœ¨<code class="fe ne nf ng nh b">HTML</code>é…ç½®æ–‡ä»¶ä¸­æ˜¾ç¤ºå®ƒä»¬ã€‚ä¹‹å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨é€šç”¨çš„<code class="fe ne nf ng nh b">HTML</code>å…ƒç´ å’Œ<code class="fe ne nf ng nh b">Bootstrap</code>é…ç½®äº†æˆ‘ä»¬çš„<code class="fe ne nf ng nh b">registration</code>å’Œ<code class="fe ne nf ng nh b">login</code>é¡µé¢ã€‚ä½†æ˜¯å½“æ‚¨å®‰è£… Flask WTForms æ—¶ï¼Œæ‚¨å¯ä»¥éå¸¸å®¹æ˜“åœ°ç”Ÿæˆå®ƒä»¬ã€‚</p><p id="146b" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">å› æ­¤ï¼Œé¦–å…ˆï¼Œæ‚¨éœ€è¦åœ¨æ‚¨çš„è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£… Flask WTFormsï¼Œç„¶åæˆ‘ä»¬å¯ä»¥å¼€å§‹åœ¨<code class="fe ne nf ng nh b">forms.py</code>æ–‡ä»¶ä¸­åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è¡¨å•ã€‚è¦å®‰è£… Flask WTFormsï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚</p><pre class="kd ke kf kg gt ni nh nj nk aw nl bi"><span id="4969" class="nm ku in nh b gy nn no l np nq">pip install Flask-WTF </span></pre><p id="0c4f" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">ç„¶åå°†ä¸‹é¢çš„ä»£ç æ·»åŠ åˆ°æ‚¨çš„<code class="fe ne nf ng nh b">forms.py</code>é…ç½®æ–‡ä»¶ä¸­ã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="ebef" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">ç°åœ¨æˆ‘ä»¬å·²ç»æˆåŠŸåˆ›å»ºäº†è¡¨å•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ ¹æ®è¡¨å•ä¿®æ”¹<code class="fe ne nf ng nh b">register.html</code>å’Œ<code class="fe ne nf ng nh b">login.html</code>æ–‡ä»¶ã€‚ä½¿ç”¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µ<em class="og">ã€ä½ å¯ä»¥é€šè¿‡</em> <a class="ae ks" href="https://flask-wtf.readthedocs.io/en/1.0.x/" rel="noopener ugc nofollow" target="_blank"> <em class="og">è¿™ä¸ªç½‘ç«™</em> </a> <em class="og">æ‰¾åˆ°æ›´å¤šå…³äº Flask WTForms çš„ä¿¡æ¯ã€‘ã€‚</em></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="f281" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">æ·»åŠ éªŒè¯</h1><p id="fdcd" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">åœ¨æˆ‘ä»¬çš„ Flask åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ä¸€ä¸ª<strong class="ln io">ç”¨æˆ·åæˆ–ä¸€ä¸ª</strong>ç”µå­é‚®ä»¶ä¸èƒ½åœ¨ä¸¤ä¸ªç”¨æˆ·ä¹‹é—´é‡å¤ã€‚ç®€å•åœ°è¯´ï¼Œç”¨æˆ·åå’Œç”µå­é‚®ä»¶æ˜¯å”¯ä¸€çš„å­—æ®µï¼Œåœ¨æ•°æ®åº“ä¸­ä¸èƒ½é‡å¤ã€‚</p><p id="c5b4" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">ä¸ºäº†ç¡®ä¿è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code class="fe ne nf ng nh b">forms.py</code>æ–‡ä»¶ä¸­åº”ç”¨ä»¥ä¸‹å‡½æ•°æ¥éªŒè¯è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="kd ke kf kg gt ni nh nj nk aw nl bi"><span id="e9e0" class="nm ku in nh b gy nn no l np nq">def validate_username(self, username):<br/>  user = User.query.filter_by(username=username.data).first()<br/>  if user:<br/>    raise ValidationError('That username is taken. Please choose a different one.')<br/></span><span id="4a02" class="nm ku in nh b gy nr no l np nq">def validate_email(self, email):<br/>  user = User.query.filter_by(email=email.data).first()<br/>  if user:<br/>    raise ValidationError('That email is taken. Please choose a different one.')</span></pre><p id="17cf" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">å› æ­¤ï¼Œå®Œæˆçš„<code class="fe ne nf ng nh b">forms.py</code>æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="4bc8" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">æ›´æ–° routes.py æ–‡ä»¶</h1><p id="a357" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">æœ€åï¼Œæˆ‘ä»¬æ¥åˆ°äº†æˆ‘ä»¬çš„<code class="fe ne nf ng nh b">routes.py</code>æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†æˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰è·¯çº¿ã€‚è¯¥æ–‡ä»¶åŒ…å«ä¸ä¹‹å‰ç›¸åŒçš„è·¯çº¿ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ä¿®æ”¹è¯¥æ–‡ä»¶ä¸­çš„<code class="fe ne nf ng nh b">login</code>å’Œ<code class="fe ne nf ng nh b">register</code>è·¯çº¿ã€‚</p><p id="d78c" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">è®©æˆ‘ä»¬å…ˆåˆ›å»ºæˆ‘ä»¬çš„<code class="fe ne nf ng nh b">register</code>è·¯çº¿ã€‚</p><pre class="kd ke kf kg gt ni nh nj nk aw nl bi"><span id="83fe" class="nm ku in nh b gy nn no l np nq">@app.route('/register', methods=['GET', 'POST'])<br/>def register():<br/>  form = RegistrationForm()<br/>  if form.validate_on_submit():<br/>    username = form.username.data<br/>    email = form.email.data<br/>    password = form.password.data</span><span id="5752" class="nm ku in nh b gy nr no l np nq">    new_user = User(username=username, email=email, password=password)</span><span id="32be" class="nm ku in nh b gy nr no l np nq">    db.session.add(new_user)<br/>    db.session.commit()</span><span id="2dc2" class="nm ku in nh b gy nr no l np nq">    flash('Successfully Registered!, You are now able to log in', 'success') <br/>    return redirect(url_for('login'))</span><span id="e819" class="nm ku in nh b gy nr no l np nq">return render_template('register.html', title='Register', form=form)</span></pre><p id="929a" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">ç„¶åæˆ‘ä»¬å¯ä»¥å¼€å§‹ä¿®æ”¹<code class="fe ne nf ng nh b">login</code>è·¯çº¿</p><pre class="kd ke kf kg gt ni nh nj nk aw nl bi"><span id="1b59" class="nm ku in nh b gy nn no l np nq">@app.route('/login', methods=['GET', 'POST'])<br/>def login():<br/>  form = LoginForm()</span><span id="0fca" class="nm ku in nh b gy nr no l np nq">  if form.validate_on_submit():<br/>    user = User.query.filter_by(email=form.email.data).first()<br/>    if user and user.password == form.password.data:<br/>      return redirect(url_for('home'))<br/>    else: <br/>      flash('Login Unsuccessful. Please check username and password', 'danger')</span><span id="7d27" class="nm ku in nh b gy nr no l np nq">return render_template('login.html', title='Login', form=form)</span></pre><p id="d930" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">å› æ­¤ï¼Œæˆ‘ä»¬å®Œæˆçš„<code class="fe ne nf ng nh b">routes.py</code>æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="9a15" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated">æ‚¨å·²æˆåŠŸå®Œæˆå‰©ä½™çš„éªŒè¯ï¼Œæ‚¨çš„æ•°æ®åº“å’Œè·¯çº¿å°†æ­£å¸¸å·¥ä½œã€‚</p></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="a780" class="kt ku in bd kv kw nz ky kz la oa lc ld jt ob ju lf jw oc jx lh jz od ka lj lk bi translated">å‚è€ƒ</h1><ul class=""><li id="ad28" class="oh oi in ln b lo lp lr ls lu oj ly ok mc ol mg om on oo op bi translated"><a class="ae ks" href="https://flask-wtf.readthedocs.io/en/1.0.x/" rel="noopener ugc nofollow" target="_blank">çƒ§ç“¶ WTForms </a></li><li id="ec05" class="oh oi in ln b lo oq lr or lu os ly ot mc ou mg om on oo op bi translated"><a class="ae ks" href="https://www.digitalocean.com/community/tutorials/how-to-use-and-validate-web-forms-with-flask-wtf" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•é€šè¿‡ Flask-WTF ä½¿ç”¨å’ŒéªŒè¯ Web è¡¨å•</a></li></ul></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><p id="73ef" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated"><strong class="ln io">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼</strong></p><p id="239f" class="pw-post-body-paragraph ll lm in ln b lo mz jo lq lr na jr lt lu nb lw lx ly nc ma mb mc nd me mf mg ig bi translated"><strong class="ln io">å¿«ä¹ç¼–ç ï¼</strong>ğŸ‘¨ğŸ»â€ğŸ’»</p></div></div>    
</body>
</html>