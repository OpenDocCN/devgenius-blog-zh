<html>
<head>
<title>Flask-MySQL | Backend REST API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flask-MySQL |后端 REST API</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/cors-a621802feb49?source=collection_archive---------4-----------------------#2022-02-13">https://blog.devgenius.io/cors-a621802feb49?source=collection_archive---------4-----------------------#2022-02-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="c51b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi ki translated">下面的例子将展示一种连接到<em class="kr"> MySQL </em>数据库的简单方法，使用<em class="kr"> Flask </em>获取数据。在这个例子中，我们将使用 3.9 版本的<em class="kr"> Python </em>。如果您的工作站中尚未安装<em class="kr"> Python </em>，请安装它。</p><h1 id="8424" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated"><strong class="ak">数据库</strong></h1><p id="1d7a" class="pw-post-body-paragraph jk jl in jm b jn lq jp jq jr lr jt ju jv ls jx jy jz lt kb kc kd lu kf kg kh ig bi translated">在<em class="kr"> MySQL 数据库</em>中，我们有一些用于练习目的的默认数据库，其中我们在本例中使用的是<em class="kr">‘world’</em>数据库。</p><h1 id="8c6f" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">后端</h1><p id="37d1" class="pw-post-body-paragraph jk jl in jm b jn lq jp jq jr lr jt ju jv ls jx jy jz lt kb kc kd lu kf kg kh ig bi translated">我们将为我们的后端服务使用<em class="kr">Flask</em>Python<em class="kr">的 web 框架。以下是要遵循的步骤:</em></p><p id="18a2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第一步:</strong>首先创建虚拟环境</p><p id="a0df" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用虚拟环境总是一个好的实践。为我们的后端创建一个项目文件夹(例如:<em class="kr"> flask-api-practice </em>)，并在该文件夹中为我们的项目创建一个<em class="kr"> Python </em>的虚拟环境。</p><blockquote class="lv lw lx"><p id="2b96" class="jk jl kr jm b jn jo jp jq jr js jt ju ly jw jx jy lz ka kb kc ma ke kf kg kh ig bi translated"><strong class="jm io"> <em class="in">注意:</em> </strong> <em class="in">如果你没有安装</em> virtualenv <em class="in">包，那么你必须先安装那个:</em></p></blockquote><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="5d3b" class="mk kt in mg b gy ml mm l mn mo">C:\flask-api-practice&gt;pip install virtualenv</span></pre><p id="3ce6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">成功安装<a class="ae mp" href="https://pypi.org/project/virtualenv/" rel="noopener ugc nofollow" target="_blank"><em class="kr">virtualenv</em></a><em class="kr"/>包后，我们就要创建我们的虚拟环境了。下面的命令在项目文件夹中创建虚拟环境<em class="kr">‘env’</em>:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="6268" class="mk kt in mg b gy ml mm l mn mo">C:\flask-api-practice&gt;python -m venv env</span></pre><p id="cddd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第二步:</strong>激活虚拟环境</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="f929" class="mk kt in mg b gy ml mm l mn mo">C:\flask-api-practice&gt;.\env\Script\activate</span></pre><p id="70b2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第三步:</strong>安装其他需要的<em class="kr"> Python </em>库，如<a class="ae mp" href="https://pypi.org/project/Flask/" rel="noopener ugc nofollow" target="_blank"> <em class="kr"> Flask </em> </a>，<em class="kr"> PyMySql &amp; Flask-Cors。我们需要</em><a class="ae mp" href="https://pypi.org/project/PyMySQL/" rel="noopener ugc nofollow" target="_blank"><em class="kr">PyMySql</em></a><em class="kr">来连接 MySql 数据库，并且需要</em><a class="ae mp" href="https://pypi.org/project/Flask-Cors/1.10.3/" rel="noopener ugc nofollow" target="_blank"><em class="kr">Flask-Cors</em></a><em class="kr">来处理 API 调用中的 Cors 问题。</em></p><p id="b909" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装<em class="kr">砂箱</em>:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="7f6e" class="mk kt in mg b gy ml mm l mn mo">(env) C:\flask-api-practice&gt;pip install Flask</span></pre><p id="f9fa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装<em class="kr"> PyMySQL </em>:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="47e2" class="mk kt in mg b gy ml mm l mn mo">(env) C:\flask-api-practice&gt;pip install pymysql</span></pre><p id="217e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装<em class="kr">砂箱座</em>:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="eaa6" class="mk kt in mg b gy ml mm l mn mo">(env) C:\flask-api-practice&gt;pip install Flask-Cors</span></pre><p id="1218" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">步骤 4: 现在是创建项目结构的时候了。与<em class="kr"> Flask </em>中的<em class="kr"> Django </em>不同，实际上没有这种特定的目录结构，但是我们可以根据需要在项目中遵循一些最佳实践。在这里，我们将遵循下面的文件结构，这是一些小项目的好。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="45fc" class="mk kt in mg b gy ml mm l mn mo">\flask-api-practice\<br/>             ---\env\           <em class="kr">&lt;- Our virtual environment</em><br/>             ---\app.py<br/>             ---\config.py<br/>             ---\db.py<br/>             ---\settings.json</span></pre><p id="bc03" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们逐个创建这些文件。首先创建一个项目的设置文件。这个文件是一个<em class="kr"> json </em>文件，我遵循的是将开发和生产环境的所有公共和数据库配置保存在这个<em class="kr"> json </em>文件中，该文件将在运行时加载到我的项目配置中。</p><p id="6ea4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">T5】settings . JSONT7】</strong></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="d45e" class="mk kt in mg b gy ml mm l mn mo">{<br/>    "config": {<br/>        "common": {<br/>            "HOST": "127.0.0.1",<br/>            "PORT": 8008,<br/>            "VERSION": "v1",<br/>            "URL_PREFIX": "api",<br/>            "DEFAULT_DEBUG": true,<br/>            "THREADS_PER_PAGE": 2,<br/>            "CSRF_ENABLED": true,<br/>            "CSRF_SESSION_KEY": ""<br/>        },<br/>        "env": {<br/>            "production": {<br/>                "ENV": "production",<br/>                "DEBUG": false,<br/>                "DEVELOPMENT": false,<br/>                "DATABASE_CONNECTION_OPTIONS": {<br/>                    "DATABASE": "",<br/>                    "DB_HOST": "",<br/>                    "DB_PORT": "",<br/>                    "DB_USER": "",<br/>                    "DB_PASSWD": "",<br/>                    "DB_NAME": "",<br/>                    "CONNECT_TIMEOUT": 5,<br/>                    "SECRET_KEY" : ""<br/>                }<br/>            },<br/>            "development": {<br/>                "ENV": "development",<br/>                "DEBUG": true,<br/>                "DEVELOPMENT": true,<br/>                "DATABASE_CONNECTION_OPTIONS": {<br/>                    "DATABASE": "MySQL",<br/>                    "DB_HOST": "127.0.0.1",<br/>                    "DB_PORT": 3306,<br/>                    "DB_USER": "xxxxxxxxxx",<br/>                    "DB_PASSWD": "xxxxxxxxxx",<br/>                    "DB_NAME": "world",                    <br/>                    "CONNECT_TIMEOUT": 5,<br/>                    "SECRET_KEY" : "abcdefghijklmnopqrstuvwxyz"<br/>                }<br/>            }<br/>        }<br/>    }<br/>}</span></pre><p id="9191" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第五步:</strong>创建一个<strong class="jm io"> <em class="kr"> config.py </em> </strong>文件</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="83c7" class="mk kt in mg b gy ml mm l mn mo">import os<br/>import json<br/><br/><br/>SETTINGS_FILE_NAME = 'settings.json'<br/>CONF_DICT = {}<br/><br/><br/>def load_configuration_from_json(_json_filepath = SETTINGS_FILE_NAME):<br/>    """Load the configuration from the settings.json file"""<br/>    global CONF_DICT<br/>    try:<br/>        with open(_json_filepath) as conf_file:<br/>            CONF_DICT = json.load(conf_file)['config']<br/><br/>    except Exception as e:<br/>        raise Exception(f'Failed to load {_json_filepath} due to: {e}')<br/><br/><br/>class Config(object):<br/>    """Common generic configurations"""<br/>    ## Define the application directory<br/>    BASE_DIR = os.path.abspath(os.path.dirname(__file__))<br/><br/>    ## Load configuration details from settings.json file<br/>    load_configuration_from_json(os.path.join(BASE_DIR, SETTINGS_FILE_NAME))<br/><br/>    ## HOST &amp; PORT<br/>    HOST = CONF_DICT['common']['HOST']<br/>    PORT = CONF_DICT['common']['PORT']<br/><br/>    ## Version<br/>    VERSION = CONF_DICT['common']['VERSION']<br/><br/>    ## URL Prefix<br/>    URL_PREFIX = CONF_DICT['common']['URL_PREFIX']<br/><br/>    ## Statement for enabling the development environment<br/>    DEBUG = CONF_DICT['common']['DEFAULT_DEBUG']<br/><br/>    ## Application threads<br/>    THREADS_PER_PAGE = CONF_DICT['common']['THREADS_PER_PAGE']<br/><br/>    ## Enable protection against *Cross-site Request Forgery (CSRF)*<br/>    CSRF_ENABLED = CONF_DICT['common']['CSRF_ENABLED']<br/>    CSRF_SESSION_KEY = CONF_DICT['common']['CSRF_SESSION_KEY']<br/><br/><br/>class ProductionConfig(Config):<br/>    '''<br/>    Configuration specific to production environment<br/>    '''<br/>    ENV = CONF_DICT['env']['production']['ENV']<br/>    DEBUG = CONF_DICT['env']['production']['DEBUG']<br/>    DEVELOPMENT = CONF_DICT['env']['production']['DEVELOPMENT']<br/>    CONNECT_TIMEOUT = CONF_DICT['env']['development']['DATABASE_CONNECTION_OPTIONS']['CONNECT_TIMEOUT']<br/><br/><br/>class DevelopmentConfig(Config):<br/>    '''<br/>    Configuration specific to development environment<br/>    '''<br/>    ENV = CONF_DICT['env']['development']['ENV']<br/>    DEBUG = CONF_DICT['env']['development']['DEBUG']<br/>    DEVELOPMENT = CONF_DICT['env']['development']['DEVELOPMENT']<br/>    DB_HOST = CONF_DICT['env']['development']['DATABASE_CONNECTION_OPTIONS']['DB_HOST']<br/>    DB_PORT = CONF_DICT['env']['development']['DATABASE_CONNECTION_OPTIONS']['DB_PORT']<br/>    DB_USER = CONF_DICT['env']['development']['DATABASE_CONNECTION_OPTIONS']['DB_USER']<br/>    DB_PASSWD = CONF_DICT['env']['development']['DATABASE_CONNECTION_OPTIONS']['DB_PASSWD']<br/>    DB_NAME = CONF_DICT['env']['development']['DATABASE_CONNECTION_OPTIONS']['DB_NAME']<br/>    CONNECT_TIMEOUT = CONF_DICT['env']['development']['DATABASE_CONNECTION_OPTIONS']['CONNECT_TIMEOUT']</span></pre><p id="5a10" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第六步:</strong>创建<strong class="jm io"> <em class="kr"> db.py </em> </strong>。这个文件包含一个使用 pymysql 库连接到 MySQL 数据库并执行 DB 操作的类。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="cd1e" class="mk kt in mg b gy ml mm l mn mo">import pymysql<br/><br/><br/>class Database:<br/>    """Database connection class."""<br/><br/>    def __init__(self, config):<br/>        self.__host = config.DB_HOST<br/>        self.__username = config.DB_USER<br/>        self.__password = config.DB_PASSWD<br/>        self.__port = int(config.DB_PORT)<br/>        self.__dbname = config.DB_NAME<br/>        self.__connect_timeout = config.CONNECT_TIMEOUT<br/>        self.__conn = None<br/>        self.__open_connection()<br/><br/>    <br/>    def __del__(self):<br/>        self.close_connection()<br/><br/><br/>    def __open_connection(self):<br/>        """Connect to MySQL Database."""<br/>        try:<br/>            if self.__conn is None:<br/>                self.__conn = pymysql.connect(<br/>                    host = self.__host,<br/>                    port = self.__port,<br/>                    user = self.__username,<br/>                    passwd = self.__password,<br/>                    db = self.__dbname,<br/>                    connect_timeout = self.__connect_timeout<br/>                )<br/>        except pymysql.MySQLError as sqle:<br/>            raise pymysql.MySQLError(f'Failed to connect to the database due to: {sqle}')<br/>        except Exception as e:<br/>            raise Exception(f'An exception occured due to: {e}')<br/><br/>    <br/>    @property<br/>    def db_connection_status(self):<br/>        """Returns the connection status"""<br/>        return True if self.__conn is not None else False<br/><br/><br/>    def close_connection(self):<br/>        """Close the DB connection."""<br/>        try:<br/>            if self.__conn is not None:<br/>                self.__conn.close()<br/>                self.__conn = None<br/>        except Exception as e:<br/>            raise Exception(f'Failed to close the database connection due to: {e}')<br/><br/><br/>    def run_query(self, query):<br/>        """Execute SQL query."""<br/>        try:<br/>            if not query or not isinstance(query, str):<br/>                raise Exception()<br/><br/>            if not self.__conn:<br/>                self.__open_connection()<br/>                <br/>            with self.__conn.cursor() as cursor:<br/>                cursor.execute(query)<br/>                if 'SELECT' in query.upper():<br/>                    result = cursor.fetchall()<br/>                else:<br/>                    self.__conn.commit()<br/>                    result = f"{cursor.rowcount} row(s) affected."<br/>                cursor.close()<br/><br/>                return result<br/>        except pymysql.MySQLError as sqle:<br/>            raise pymysql.MySQLError(f'Failed to execute query due to: {sqle}')<br/>        except Exception as e:<br/>            raise Exception(f'An exception occured due to: {e}')</span></pre><p id="98e2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 7: </strong>创建<strong class="jm io"> <em class="kr"> app.py. </em> </strong>这将是我们项目的启动脚本，它实例化了<em class="kr"> db.py </em>中定义的<em class="kr">数据库</em>类，并利用了<strong class="jm io"> <em class="kr"> config.py </em> </strong>中的<em class="kr"> DevelopmentConfig </em>类。你可以看到我定义的三条路线。</p><p id="4a9f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> /health </strong>:这只是为了检查我们的后端是否有响应。</p><p id="f5c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> /getcity？country =</strong><em class="kr">&lt;code&gt;</em>:获取给定国家的城市(参数- &gt; country code)</p><p id="f284" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> /getcitycodes </strong>:获取城市代码列表</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="855c" class="mk kt in mg b gy ml mm l mn mo">import os<br/>import pymysql<br/>from http import HTTPStatus<br/>from flask_cors import CORS<br/>from flask import Flask, redirect, request, jsonify, url_for, abort<br/>from db import Database<br/>from config import DevelopmentConfig as devconf<br/><br/><br/>host = os.environ.get('FLASK_SERVER_HOST', devconf.HOST)<br/>port = os.environ.get('FLASK_SERVER_PORT', devconf.PORT)<br/>version = str(devconf.VERSION).lower()<br/>url_prefix = str(devconf.URL_PREFIX).lower()<br/>route_prefix = f"/{url_prefix}/{version}"<br/><br/><br/>def create_app():<br/>    app = Flask(__name__)<br/>    cors = CORS(app, resources={f"{route_prefix}/*": {"origins": "*"}})<br/>    app.config.from_object(devconf)<br/>    return app<br/><br/><br/>def get_response_msg(data, status_code):<br/>    message = {<br/>        'status': status_code,<br/>        'data': data if data else 'No records found'<br/>    }<br/>    response_msg = jsonify(message)<br/>    response_msg.status_code = status_code<br/>    return response_msg<br/><br/><br/>app = create_app()<br/>wsgi_app = app.wsgi_app<br/>db = Database(devconf)<br/><br/>## ==============================================[ Routes - Start ]<br/><br/>## /api/v1/getcity?country=IND<br/>@app.route(f"{route_prefix}/getcity", methods=['GET'])<br/>def getdata():<br/>    try:<br/>        countrycode = request.args.get('country', default='IND', type=str)<br/>        query = f"SELECT * FROM world.city WHERE COUNTRYCODE='{countrycode.upper()}'"<br/>        records = db.run_query(query=query)<br/>        response = get_response_msg(records, HTTPStatus.OK)<br/>        db.close_connection()<br/>        return response<br/>    except pymysql.MySQLError as sqle:<br/>        abort(HTTPStatus.INTERNAL_SERVER_ERROR, description=str(sqle))<br/>    except Exception as e:<br/>        abort(HTTPStatus.BAD_REQUEST, description=str(e))<br/><br/><br/>## /api/v1/getcitycodes<br/>@app.route(f"{route_prefix}/getcitycodes", methods=['GET'])<br/>def getcitycodes():<br/>    try:<br/>        query = f"SELECT distinct(COUNTRYCODE) FROM world.city"<br/>        records = db.run_query(query=query)<br/>        response = get_response_msg(records,  HTTPStatus.OK)<br/>        db.close_connection()<br/>        return response<br/>    except pymysql.MySQLError as sqle:<br/>        abort(HTTPStatus.INTERNAL_SERVER_ERROR, description=str(sqle))<br/>    except Exception as e:<br/>        abort(HTTPStatus.BAD_REQUEST, description=str(e))<br/><br/><br/>## /api/v1/health<br/>@app.route(f"{route_prefix}/health", methods=['GET'])<br/>def health():<br/>    try:<br/>        db_status = "Connected to DB" if db.db_connection_status else "Not connected to DB"<br/>        response = get_response_msg("I am fine! " + db_status, HTTPStatus.OK)       <br/>        return response<br/>    except pymysql.MySQLError as sqle:<br/>        abort(HTTPStatus.INTERNAL_SERVER_ERROR, description=str(sqle))<br/>    except Exception as e:<br/>        abort(HTTPStatus.BAD_REQUEST, description=str(e))<br/><br/>## /<br/>@app.route('/', methods=['GET'])<br/>def home():<br/>    return redirect(url_for('health'))<br/><br/>## =================================================[ Routes - End ]<br/><br/>## ================================[ Error Handler Defined - Start ]<br/>## HTTP 404 error handler<br/>@app.errorhandler(HTTPStatus.NOT_FOUND)<br/>def page_not_found(e):    <br/>    return get_response_msg(data=str(e), status_code=HTTPStatus.NOT_FOUND)<br/><br/><br/>## HTTP 400 error handler<br/>@app.errorhandler(HTTPStatus.BAD_REQUEST)<br/>def bad_request(e):<br/>    return get_response_msg(str(e), HTTPStatus.BAD_REQUEST)<br/><br/><br/>## HTTP 500 error handler<br/>@app.errorhandler(HTTPStatus.INTERNAL_SERVER_ERROR)<br/>def internal_server_error(e):<br/>    return get_response_msg(str(e), HTTPStatus.INTERNAL_SERVER_ERROR)<br/>## ==================================[ Error Handler Defined - End ]</span><span id="3f5e" class="mk kt in mg b gy mq mm l mn mo"><br/>if __name__ == '__main__':<br/>    ## Launch the application <br/>    app.run(host=host, port=port)</span></pre><p id="0847" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的项目现在已经准备好运行<em class="kr"> Flask </em> app。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="ece1" class="mk kt in mg b gy ml mm l mn mo">python app.py <br/></span></pre><p id="a748" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">开发服务器将在我们的机器上启动，我们可以在任何 API 测试器中测试我们的 API。</p><figure class="mb mc md me gt ms gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/56e4688f0496fb82c44fab16bea912cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*hiG-X8ytdX5pQH0CBJ_OKw.png"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">flask 开发服务器在端口 8008 上运行于 127.0.0.1</figcaption></figure><p id="dc0f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我用过<a class="ae mp" href="https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo" rel="noopener ugc nofollow" target="_blank">高级 REST 客户端</a> Chrome 的扩展。</p><p id="991a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是我们测试三个 API 的方法:</p><figure class="mb mc md me gt ms gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi mz"><img src="../Images/cd99055adbe4ae7d6f694741102d9c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B2Qk_BsaDFZPeCYsz62ykg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">API/健康</figcaption></figure><figure class="mb mc md me gt ms gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi ne"><img src="../Images/d6d49bc13122dd95abd854fc1c871ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6tiHm1HTXxCjxyQLEOmWgQ.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">API /getcitycodes</figcaption></figure><figure class="mb mc md me gt ms gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nf"><img src="../Images/3e493f75afbe89b36cce648b7118e4b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rxhktcszPSWHdP4EEJbqg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">API /getcity？=<em class="ng">T55】city code&gt;T51】</em></figcaption></figure><figure class="mb mc md me gt ms gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/d2e6e34d488f1f0145e984924720ba71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*n7l6HJTv2fIrJo9p2YjqcQ.png"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">通过 CORS 添加的 access-control-allow-origin 标头属性</figcaption></figure><figure class="mb mc md me gt ms gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi ni"><img src="../Images/346895a6537ccd9e407988899397a728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1WoNwjXOhJJ6soyepLkonw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">测试 404 页未找到错误处理程序</figcaption></figure><figure class="mb mc md me gt ms gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/f44999ee84754cdfe276061d4879aa28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*KcYRzizOxwCjYsUP_iX-uQ.jpeg"/></div></figure></div></div>    
</body>
</html>