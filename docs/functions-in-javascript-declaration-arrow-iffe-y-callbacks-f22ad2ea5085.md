# Javascript ä¸­çš„å‡½æ•°(å£°æ˜ã€ç®­å¤´ã€IFFE å’Œå›è°ƒ)

> åŸæ–‡ï¼š<https://blog.devgenius.io/functions-in-javascript-declaration-arrow-iffe-y-callbacks-f22ad2ea5085?source=collection_archive---------7----------------------->

![](img/b685fe7289ae131b2a20a695661d1e33.png)

å…³äº Javascript ä¸­å‡½æ•°çš„ä»‹ç»æ€§æ–‡ç« ï¼Œå¸¦æœ‰ç¤ºä¾‹å’Œæè¿°çš„ä¸€èˆ¬åˆ†æã€‚

# ä»‹ç»

åœ¨ Javascript ä¸­ï¼Œå‡½æ•°æ˜¯è¯­è¨€æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€ã€‚è¿™æ˜¯ç”±äºå®ƒä»¬çš„å¤šåŠŸèƒ½æ€§å’Œå®ƒä»¬å¯ä»¥å¤„ç†çš„å¤§é‡æ¡ˆä¾‹ã€‚äº†è§£å‡½æ•°çš„è¡Œä¸ºå°†æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç†è§£è¯­è¨€çš„åŠŸèƒ½ã€‚

# Javascript ä¸­çš„å‡½æ•°

Javascript ä¸­çš„å‡½æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ï¼Œå®ƒä»¬å¯ä»¥å¾ˆå¥½åœ°èµ‹ç»™å˜é‡ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥è°ƒç”¨è‡ªå·±ï¼Œè¿˜æœ‰å…¶ä»–çš„é€šç”¨æ€§ã€‚å¼ºè°ƒä¾èµ–äºåˆ†é…å°†æ˜¯å°†è¢«é‡‡ç”¨çš„è¡Œä¸ºã€‚

javascript ä¸­çš„ä¸€ä¸ªåŸºæœ¬å‡½æ•°ç”±ä»¥ä¸‹åŸºæœ¬å…ƒç´ ç»„æˆ:

1.  **åç§°:**ä»£è¡¨å‡½æ•°çš„åç§°ã€‚
2.  **å‚æ•°:**æ˜¯ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶çš„è¾“å…¥å€¼ã€‚è¿™äº›å€¼å…·æœ‰æœ¬åœ°èŒƒå›´ã€‚
3.  **ä½“**:åŠŸèƒ½çš„é€»è¾‘å’Œå®ç°ã€‚
4.  **è¿”å›**:å‡½æ•°ç»“æœè¾“å‡ºã€‚

![](img/b9e07e5b707a0905351fde8e13c5d3d7.png)

# åŠŸèƒ½ç±»å‹

åœ¨ javascript ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°æœ‰å¤šç§æ–¹æ³•ï¼Œè¿™çªå‡ºäº†å¤šå¹´æ¥è¶Šæ¥è¶Šå¤šçš„åŠŸèƒ½è¢«æ·»åŠ è¿›æ¥ã€‚

ä»¥ä¸‹æ˜¯åœ¨ Javascript ä¸­ä½¿ç”¨å‡½æ•°çš„ä¸åŒæ–¹å¼:

*   åŠŸèƒ½å£°æ˜ã€‚
*   å‡½æ•°è¡¨è¾¾å¼ã€‚
*   IFFEã€‚
*   ç®­å¤´åŠŸèƒ½ã€‚
*   å›è°ƒå‡½æ•°ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å›é¡¾æ¯ç§å½¢å¼çš„å®šä¹‰å’Œç¤ºä¾‹ã€‚

## åŠŸèƒ½å£°æ˜

ä½¿ç”¨ä¿ç•™å­— **function** åè·Ÿä¸€ä¸ªåç§°æ¥åˆ›å»ºå‡½æ•° by declarationã€‚æ‰€æœ‰è¿™äº›å‡½æ•°é»˜è®¤è¿”å›**æœªå®šä¹‰çš„**ï¼Œé™¤éè¿”å›å€¼è¢«æ˜ç¡®æŒ‡å‡ºã€‚å…³äºè¿™äº›å‡½æ•°éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œä¸Šä¸‹æ–‡å°†åœ¨å®ƒä»¬è¢«è°ƒç”¨æ—¶å®šä¹‰ã€‚

è¿™äº›å‡½æ•°å¹¿æ³›ç”¨äºä¸€èˆ¬çš„ä¸Šä¸‹æ–‡å’Œä»£ç é‡ç”¨ã€‚

```
function greeting(name) {
  return `Hello ${nombre}`;
}
console.log(greeting("Victor")); // Hello Victor
```

## å‡½æ•°è¡¨è¾¾å¼

è¡¨è¾¾å¼å‡½æ•°ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è¡¨è¾¾å¼ã€‚è¡¨è¾¾å¼å¯ä»¥å®Œç¾åœ°å­˜å‚¨åœ¨å˜é‡ä¸­ä»¥è·å¾—å®ƒä»¬çš„å¼•ç”¨ã€‚å…³äºè¿™äº›å‡½æ•°éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸éœ€è¦è¾“å…¥ä½ çš„åå­—ï¼Œå®ƒä»¬è¢«è®¤ä¸ºæ˜¯åŒ¿åå‡½æ•°ã€‚

è¿™äº›å‡½æ•°å¹¿æ³›ç”¨äº**å›è°ƒ**å’Œå…ƒç´ éš”ç¦»ã€‚

```
const sum = function (value1, value2) {
  return value1 + value2;
}
console.log(sum(5, 5)); // 10
```

## IFFE

è¿™æ˜¯ä¸€ä¸ªåœ¨å£°æ˜æ—¶è‡ªåŠ¨è°ƒç”¨çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çªå‡ºæ˜¾ç¤ºäº†åœ¨è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå®ƒä»¬ä»¥åå°†ä¸å†å¯è®¿é—®ã€‚ä¸ºäº†åˆ›å»ºå®ƒï¼Œæˆ‘ä»¬å¿…é¡»å°†å®ƒæ”¾åœ¨åˆ†ç»„æ“ä½œç¬¦â€œ **( )** â€ä¸­ï¼Œç„¶åæ‰§è¡Œå®ƒï¼Œè¿™å°†å…è®¸åœ¨ Javascript å¼•æ“ä¸­ç›´æ¥è§£é‡Šã€‚

è¿™äº›å‡½æ•°å¹¿æ³›åœ°ä¸æ¨¡å—æ¨¡å¼ç»“åˆä½¿ç”¨ï¼Œä»¥å£°æ˜åªåœ¨æ¨¡å—æ¨¡å¼ä¸­å¯è§çš„ç§æœ‰å˜é‡æˆ–å‡½æ•°ã€‚

```
(function () {
  let name = 'Victor';
  console.log(`Hello ${name}`);
})();
// Hello Victor
```

## ç®­å¤´åŠŸèƒ½

2015 å¹´ **ES6** ç‰¹æ€§ä¸­å¼•å…¥çš„åŠŸèƒ½ã€‚ç®­å¤´å‡½æ•°å…è®¸ä½¿ç”¨ç®€çŸ­çš„è¯­æ³•æ¥ç¼–å†™å‡½æ•°è¡¨è¾¾å¼ã€‚è¯·æ³¨æ„ï¼Œç®­å¤´å‡½æ•°æ˜¯åŒ¿åå‡½æ•°ï¼Œæ²¡æœ‰é’ˆå¯¹**å‚æ•°**ã€**è¶…çº§**çš„æŒ‚é’©ï¼Œä»¥åŠç±»ä¼¼äº**äº§ç”Ÿ**çš„ç‰¹æ€§ã€‚

è¿™äº›å‡½æ•°è¢«å¹¿æ³›åº”ç”¨äºä¸€èˆ¬ç¯å¢ƒä¸­ï¼Œç”šè‡³å–ä»£äº†ä¼ ç»Ÿçš„**å‡½æ•°å£°æ˜**ï¼Œè¿™è¦å½’åŠŸäºå®ƒä»¬ç®€çŸ­çš„è¯­æ³•ä»¥åŠä»å…¶ä½œç”¨åŸŸä¸­å»é™¤äº†å¤æ‚æ€§ã€‚

```
// Standard
const greeting = (name) => {  
  return `Hello ${name}`; 
}

// Shortcut
const greeting = (name) => `Hello ${name}`;

console.log(greeting("Foo")); // Hello Foo
```

## å›è°ƒå‡½æ•°

å›è°ƒå‡½æ•°æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å°†åœ¨ä»¥åè¢«è°ƒç”¨ã€‚

è¿™äº›å‡½æ•°å¹¿æ³›ç”¨äºç»§ç»­æ‰§è¡Œå·²ç»å®ŒæˆæŸäº›æ“ä½œçš„ä»£ç ã€‚å¼ºè°ƒè¿™äº›å‡½æ•°æ˜¯å¤„ç†å¼‚æ­¥æµæœ€å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚

```
const printAndCall = (name, callback) => {
  console.log(`Print ${name}...`);
  callback(name);
}

const call = (name) => {
  console.log(`Call ${name}...`);
};

printAndCall('Victor', call);
// Print Victor...
// Call Victor...
```

javascript æ ¸å¿ƒå’Œå›è°ƒå‡½æ•°æ˜¯è¯­è¨€çš„åŸºç¡€éƒ¨åˆ†ã€‚è¯¥è¯­è¨€çš„è®¸å¤šåŠŸèƒ½éƒ½ç”±è¿™äº›å‡½æ•°æ”¯æŒï¼Œä¾‹å¦‚æµè§ˆå™¨ä¸­çš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚

```
const button = document.getElementById('button');

button.addEventListener('click', () => {
  alert('click');
});
```

# Javascript ä¸­çš„èµ„æºå‡½æ•°

*   G [æŒ‡å—ä¸€èˆ¬åŠŸèƒ½](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions)
*   [å£°æ˜å‡½æ•°æŒ‡å—](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)
*   [è¡¨è¾¾å¼å‡½æ•°æŒ‡å—](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function)
*   [IFFE åŠŸèƒ½æŒ‡å—](https://developer.mozilla.org/en-US/docs/Glossary/IIFE)
*   [ç®­å¤´åŠŸèƒ½æŒ‡å—](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions)
*   [å¤è¯•æŒ‡å—](https://developer.mozilla.org/en-US/docs/Glossary/Callback_function)

# ç»“å±€

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¢ç´¢äº†åœ¨ Javascript ä¸­ç”Ÿæˆå‡½æ•°çš„ä¸åŒæ–¹æ³•ï¼Œé‡è¦çš„æ˜¯çŸ¥é“ä½•æ—¶ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œå› ä¸ºå®ƒä»¬éƒ½æœ‰ä¸åŒçš„ç›®çš„ã€‚å»ºè®®å°è¯•æ¯ä¸€ç§æ–¹æ³•ï¼Œä»¥ä¾¿å……åˆ†äº†è§£å®ƒä»¬åœ¨ä¸åŒæƒ…å†µä¸‹çš„ä¼˜ç¼ºç‚¹ã€‚

æ„Ÿè°¢ä½ è¿œé“è€Œæ¥ï¼Œå¦‚æœä½ è§‰å¾—è¿™å¾ˆæœ‰ç”¨ï¼Œåˆ«å¿˜äº†é¼“æŒğŸ‘ã€‚è®¢é˜…ä»¥æ¥æ”¶æ›´å¤šå†…å®¹ğŸ””ã€‚

å¦‚æœä½ éœ€è¦é¢å¤–çš„å¸®åŠ©ï¼Œè¯·è”ç³»æˆ‘ğŸ¤ ã€‚

*   âœ‰ï¸ [**ç»™æˆ‘å‘é‚®ä»¶**](mailto:dcortes.net@gmail.com)
*   ğŸ¤ [**åœ¨ LinkedIn ä¸Šè”ç³»æˆ‘**](https://www.linkedin.com/in/dcortesnet/)
*   ğŸ“® [**åœ¨æ¨ç‰¹ä¸Šè”ç³»æˆ‘**](https://twitter.com/dcortes_net)

éå¸¸æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œæˆ‘æ„Ÿè°¢æ‚¨çš„æ—¶é—´ã€‚