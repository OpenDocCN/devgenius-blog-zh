<html>
<head>
<title>My favorite iOS interview code challenge</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我最喜欢的 iOS 面试代码挑战</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/my-favorite-ios-interview-code-challenge-9b371ae2f498?source=collection_archive---------3-----------------------#2022-08-10">https://blog.devgenius.io/my-favorite-ios-interview-code-challenge-9b371ae2f498?source=collection_archive---------3-----------------------#2022-08-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f3b0" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">这么多问题，这么少代码</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4b06dec5f55f9550f4c4b267e7e89808.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJSKHVMQ0CAKaNka6VqUMw.png"/></div></div></figure><p id="c783" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">到目前为止，我已经进行了大约一百次 iOS 面试中的一半。我看到非常不同的候选人有着非常不同的经历。但是有一个小问题，几乎所有的工会。他们失败了。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="9055" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一些类、一个整数和一个惰性闭包。真的吗？</p><p id="4ca4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我创建的代码挑战只有 5%的候选人完全通过。我对此感到惊讶，因为里面所有的问题都很简单。</p><p id="e23c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在这篇文章中，我向你展示了这个挑战的所有优势，以及候选人会犯的错误。</p><blockquote class="lm ln lo"><p id="25eb" class="ko kp lp kq b kr ks jo kt ku kv jr kw lq ky kz la lr lc ld le ls lg lh li lj ig bi translated">在开始阅读之前，确保你不是俄罗斯人。通过继续阅读，你确认你谴责俄罗斯发动的乌克兰战争。</p><p id="ae5b" class="ko kp lp kq b kr ks jo kt ku kv jr kw lq ky kz la lr lc ld le ls lg lh li lj ig bi translated">光荣属于乌克兰！🇺🇦</p></blockquote><h1 id="3df6" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">懒惰的问题</h1><p id="cbdb" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">如果我去掉这里的<code class="fe mr ms mt mu b">lazy</code> <em class="lp"> </em>关键字会怎么样？这是我的第一个问题。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/a481062d745eb1401aa04754758a3dcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mkDyg4YAXTiDxqpiTAiDvQ.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">如果我在这里去掉<code class="fe mr ms mt mu b">lazy</code> <em class="na"> </em>关键字会怎么样？</figcaption></figure><p id="8960" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我期待一个候选人给我一个直接的答案，或者至少告诉我在 Swift 中懒惰是什么意思。</p><p id="4b6f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">平心而论，大部分考生都可以说说懒是什么意思。但是如果我移除它会发生什么呢？</p><p id="f3c7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这里最错误的答案是:</p><ul class=""><li id="a5e5" class="nb nc in kq b kr ks ku kv kx nd lb ne lf nf lj ng nh ni nj bi translated">没有任何东西</li><li id="7866" class="nb nc in kq b kr nk ku nl kx nm lb nn lf no lj ng nh ni nj bi translated"><code class="fe mr ms mt mu b">count</code>属性立即增加</li><li id="c559" class="nb nc in kq b kr nk ku nl kx nm lb nn lf no lj ng nh ni nj bi translated">参考计数器将增加🤯</li></ul><p id="7f4d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们来回顾一下这个案例。在代码中，<code class="fe mr ms mt mu b">lazy</code>关键字直接影响到<code class="fe mr ms mt mu b">self</code>的使用。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/23b40f1125603175d1936fb756bcc33c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hh83xAOFRVfFh9Hp8eirpA.png"/></div></div></figure><p id="24c8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果我删除了<code class="fe mr ms mt mu b">lazy</code>关键字，编译器会显示一个错误:“在作用域中找不到‘self’”。这是因为<code class="fe mr ms mt mu b">lazy</code>关键字允许我们在第一次调用时初始化属性。如果没有此关键字，属性将随类初始化一起初始化。在 owner 类初始化之前，不能在捕获列表或内部创建使用<code class="fe mr ms mt mu b">self</code>的闭包。合理是因为你目前没有<code class="fe mr ms mt mu b">self</code>。</p><h1 id="68bd" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">类型问题</h1><p id="d470" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">你看到的<code class="fe mr ms mt mu b">increment</code>关闭类型是什么？这是个棘手的问题。考生回答类型为空闭包<code class="fe mr ms mt mu b">() -&gt; ()</code>。几乎是正确答案，但我给他们看真正的类型是<code class="fe mr ms mt mu b">() -&gt; Optional&lt;()&gt;</code>。</p><p id="88cf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">候选人经常开始试图猜测这种奇怪事情的原因。懒惰、软弱——候选人最常说出的理由。但是接下来，我又输入了一行代码，闭包的类型变成了普通的<code class="fe mr ms mt mu b">() -&gt; ()</code>:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/d0b7bd7554c83eec670a6f0c69766511.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8snO41Xk6SLFNj_c6kxk-g.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">现在的类型是<code class="fe mr ms mt mu b">() -&gt; ()</code></figcaption></figure><p id="a65f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">什么魔力？🤯只是副作用“由苹果公司在加州。”</p><p id="ba9a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">从 Swift 5 开始，如果您的函数只有一行表达式，您可能会忽略<code class="fe mr ms mt mu b">return</code>关键字。我没有指定类型，所以它是根据里面的一行表达式自动推断出来的。插入另一行代码会破坏自动回车。</p><p id="ac11" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这就是我期待的答案。</p><p id="ae45" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">根据这个答案，我可以再问几个问题:</p><ul class=""><li id="a674" class="nb nc in kq b kr ks ku kv kx nd lb ne lf nf lj ng nh ni nj bi translated"><code class="fe mr ms mt mu b">Void</code>和<code class="fe mr ms mt mu b">Optional Void</code>有什么区别？</li><li id="11b0" class="nb nc in kq b kr nk ku nl kx nm lb nn lf no lj ng nh ni nj bi translated">什么是<code class="fe mr ms mt mu b">Optional</code>？</li><li id="358e" class="nb nc in kq b kr nk ku nl kx nm lb nn lf no lj ng nh ni nj bi translated">什么是<code class="fe mr ms mt mu b">Void</code>？</li></ul><p id="6ce2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">简单来说，<code class="fe mr ms mt mu b">Optional</code>是带有<em class="lp">一些</em>和<em class="lp">没有</em>情况的<code class="fe mr ms mt mu b">enum</code>，而<code class="fe mr ms mt mu b">Void</code>是空元组<code class="fe mr ms mt mu b">()</code>的 typealias。</p><h1 id="29aa" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">操作员问题</h1><p id="7269" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">为什么闭包<code class="fe mr ms mt mu b">increment</code>里面的返回类型是<code class="fe mr ms mt mu b">Optional</code>？</p><p id="065e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">加法赋值运算符<code class="fe mr ms mt mu b">+=</code>是右关联运算符<code class="fe mr ms mt mu b">infix</code>。这意味着执行流程从左向右运行。简单来说，左边充当调用者，右边充当参数。因此，在示例中，调用者<code class="fe mr ms mt mu b">count</code>调用操作者，但是我们从可选的<code class="fe mr ms mt mu b">self</code>调用<code class="fe mr ms mt mu b">count</code>。这个结果也是可选的。操作符返回<code class="fe mr ms mt mu b">Void</code>并将新值赋给调用者<code class="fe mr ms mt mu b">count</code>。<code class="fe mr ms mt mu b">Void</code>就是<code class="fe mr ms mt mu b">Optional</code>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/5d36e26b5fe2ade0f332fa61c94ca743.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tJ42hlLr6yKnkrESY_hcQA.png"/></div></div></figure><h1 id="5926" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">简历</h1><p id="ad78" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">我的代码挑战不是一般的代码挑战。这是一个操场，我可以问候选人，并看到不同主题的广泛理解。</p><p id="126d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">很少有候选人能够完美地完成这项任务。但通常，这不是问题。首先，我感兴趣的是对话和逻辑流程，而不是扎实的学术知识。</p><p id="dd09" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我希望这篇文章是有趣的，你学到了一些新的东西。如果我们见面面谈，你会准备好的😄</p><h1 id="befd" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">还有一件事…</h1><p id="03e1" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">如果你喜欢我的内容，想支持我，请<a class="ae lt" href="https://savelife.in.ua/en/" rel="noopener ugc nofollow" target="_blank">捐款给复活基金会</a>支持乌克兰。</p><p id="3a21" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">还有，我在 UA 有电报频道<a class="ae lt" href="https://t.me/swiua" rel="noopener ugc nofollow" target="_blank"> Swift，在那里可以找到更多精彩的东西。</a></p><p id="266d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">感谢您的阅读。回头见！</p></div></div>    
</body>
</html>