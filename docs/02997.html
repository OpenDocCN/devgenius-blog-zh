<html>
<head>
<title>How to set up multiple custom Emacs configurations for one user using Chemacs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Chemacs为一个用户设置多个自定义Emacs配置</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-set-up-multiple-custom-emacs-configurations-for-one-user-using-chemacs-102cdd617677?source=collection_archive---------1-----------------------#2020-09-19">https://blog.devgenius.io/how-to-set-up-multiple-custom-emacs-configurations-for-one-user-using-chemacs-102cdd617677?source=collection_archive---------1-----------------------#2020-09-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a1a03f4a2335ec1c46406802e4ab365f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8TWY1lFt3n5i3VKY"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">凯文·Ku在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="5e82" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://www.gnu.org/software/emacs/" rel="noopener ugc nofollow" target="_blank"> Emacs是一个庞大而古老的文本编辑器/IDE/操作系统/宗教</a>，拥有极其专注的用户群，已经持续发展了<em class="ky"> 44年</em>。</p><p id="d3d6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于模块化和可定制性是Emacs环境的主要吸引力，您可以想象几十年来已经创建和实现了多少插件。几乎所有你能想象到的在电脑上做的事情都可以在Emacs中完成。</p><p id="5900" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">随着人们越来越习惯使用Emacs，他们的配置文件变得越来越详细和复杂。没有两个用户会有相同的设置，在大多数情况下，每个人的构建看起来一点也不像。</p><p id="5ca3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">甚至还有非常受欢迎的定制配置，就像普通emacs上的大规模超集，并完全重塑其行为和外观，如<a class="ae jz" href="https://www.spacemacs.org/" rel="noopener ugc nofollow" target="_blank"> Spacemacs </a>、<a class="ae jz" href="https://github.com/hlissner/doom-emacs" rel="noopener ugc nofollow" target="_blank"> Doom Emacs </a>和<a class="ae jz" href="https://github.com/bbatsov/prelude" rel="noopener ugc nofollow" target="_blank"> Prelude </a>。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="d893" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你像我一样，总是沉迷于尝试新的玩具，这有损于你的生产力，那么尝试这些不同的配置可能会对你有吸引力。问题是Emacs是一个非常大的软件，每个安装都有一个单独的配置，其文件被绑定到用户的主目录。您基本上必须手动重命名不同的文件以切换到较新的配置，或者在每次您想重新开始或尝试新事物时完全覆盖它们。管理和备份所有这些文件是一件非常痛苦的事情。</p><p id="bf4f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://github.com/plexus/chemacs" rel="noopener ugc nofollow" target="_blank">这就是Chemacs的用武之地</a>！Chemacs允许您在一个用户帐户上设置多个配置，没有任何冲突或手动移动设置！例如，我将默认的Spacemacs配置、Doom配置和定制的普通EmacsPlus配置都放在一个目录中，我可以运行它们中的任何一个，而不会破坏任何东西。</p><p id="cd3b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是您需要做的所有工作<em class="ky">(注意:这些步骤将在MacOS或Linux上工作，而不是Windows。有关windows说明，请参见Chemacs的自述文件。)</em></p><ol class=""><li id="0cfb" class="lg lh in kc b kd ke kh ki kl li kp lj kt lk kx ll lm ln lo bi translated">在你的电脑上安装Emacs。有很多方法可以做到这一点，但我使用家酿安装Emacs Plus，因为它的可选功能有助于与Spacemacs兼容。</li></ol><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="d960" class="ly lz in lu b gy ma mb l mc md">brew tap d12frosted/emacs-plus<br/>brew install emacs-plus</span></pre><p id="7420" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2.在您的个人文件夹中移动或重命名默认的<code class="fe me mf mg lu b">.emacs</code>文件。</p><p id="aac5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3.将chemacs克隆到您的机器上。我将它放在我的主文件夹中的一个新的“emacs”目录中，在那里我保存了所有的Emacs配置。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="496d" class="ly lz in lu b gy ma mb l mc md">git clone <a class="ae jz" href="https://github.com/plexus/chemacs.git" rel="noopener ugc nofollow" target="_blank">https://github.com/plexus/chemacs.git</a></span></pre><p id="5d48" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">4.运行chemacs的安装脚本。emacs文件到您的主目录，以便emacs自动读取。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="5d16" class="ly lz in lu b gy ma mb l mc md">cd chemacs<br/>./install.sh</span></pre><p id="8a10" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">5.现在在您的主目录中有一个<code class="fe me mf mg lu b">.emacs-profiles.el</code> Emacs-Lisp文件，它将允许您指向您的各种配置。</p><p id="54df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第一个参数是您想要的配置名，例如<code class="fe me mf mg lu b">“MediumEmacs”</code>，您可以通过在命令行中运行<code class="fe me mf mg lu b">emacs --with-profile MediumEmacs</code>来调用它。</p><p id="288f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下一个是<code class="fe me mf mg lu b">user-emacs-directory</code>，它指向你的配置文件所在的路径，例如<code class="fe me mf mg lu b">"/Users/Frank/Emacs/MediumEmacs.d"</code>。</p><p id="8b1f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以我的中型Emacs产品线。el文件应该是这样的:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="d479" class="ly lz in lu b gy ma mb l mc md">("MediumEmacs" . ((user-emacs-directory . <!-- -->"/Users/Frank/Emacs/MediumEmacs.d")</span></pre><p id="3481" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">MediumEmacs.d文件夹包含我的init.el文件和我可能需要的任何其他配置文件。</p><p id="4a38" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你正在使用一个大规模的配置，它有自己的目录，像Spacemacs和它的<code class="fe me mf mg lu b">spacemacs.d</code>设置，你需要在这里把它指定为一个环境变量。这个目录也可以移动到chemacs的任何地方。就像用户配置的那样。</p><p id="6e67" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我的默认emacs概要文件(不需要运行<code class="fe me mf mg lu b">--with-profile</code>标志)设置为:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="db9f" class="ly lz in lu b gy ma mb l mc md">(("default" . ((user-emacs-directory . "/Users/Frank/Emacs/Spacemacs/.emacs.d")<br/>  (env . (("SPACEMACSDIR" . "/Users/Frank/Emacs/Spacemacs/.spacemacs.d")))))</span></pre><p id="6bda" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用Chemacs，我可以向该文件添加任意数量的配置，并且它们都可以从命令行轻松启动，而不会以任何方式相互干扰！</p><p id="fb9d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">希望这能帮助任何Emacs新手开始尝试其他奇特的Emacs配置，而不会破坏他们心爱的定制版本！</p><div class="mh mi gp gr mj mk"><a href="https://www.gnu.org/software/emacs/" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd io gy z fp mp fr fs mq fu fw im bi translated">GNU Emacs</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">Emacs 27.1有各种各样的新特性，包括:内置支持任意大小的整数文本整形…</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">www.gnu.org</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my jt mk"/></div></div></a></div><div class="mh mi gp gr mj mk"><a href="https://github.com/plexus/chemacs" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd io gy z fp mp fr fs mq fu fw im bi translated">神经丛/化学</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">Emacs配置文件切换器。在GitHub上创建一个帐户，为plexus/chemacs的发展做出贡献。</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">github.com</p></div></div><div class="mt l"><div class="mz l mv mw mx mt my jt mk"/></div></div></a></div><div class="mh mi gp gr mj mk"><a href="https://www.spacemacs.org/" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd io gy z fp mp fr fs mq fu fw im bi translated">专注于邪恶的emacs高级套件</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">Emacs高级套装专注于邪恶</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">专注于Evilwww.spacEmacs.org的emacs高级套件</p></div></div><div class="mt l"><div class="na l mv mw mx mt my jt mk"/></div></div></a></div><div class="mh mi gp gr mj mk"><a href="https://github.com/hlissner/doom-emacs" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd io gy z fp mp fr fs mq fu fw im bi translated">赫里斯纳/杜姆-埃马克</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">这是一个古老的故事。一个顽固的，壳居住，和矫情vimmer-羡慕现代的特点…</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">github.com</p></div></div><div class="mt l"><div class="nb l mv mw mx mt my jt mk"/></div></div></a></div></div></div>    
</body>
</html>