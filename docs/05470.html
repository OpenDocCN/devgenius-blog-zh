<html>
<head>
<title>How to Find the Position Index of a Regex Match Result in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中找到一个正则表达式匹配结果的位置索引？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-find-the-position-index-of-a-regex-match-result-in-javascript-2e4dda3df8a0?source=collection_archive---------1-----------------------#2021-08-18">https://blog.devgenius.io/how-to-find-the-position-index-of-a-regex-match-result-in-javascript-2e4dda3df8a0?source=collection_archive---------1-----------------------#2021-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d9d210c73ba9559a20057ab856d6e5ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iLupC13Y3DqlI6qj"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">阿米尔·拉比耶在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="06cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望在JavaScript代码中找到正则表达式匹配的索引。</p><p id="89ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用JavaScript找到正则表达式匹配的索引。</p><h1 id="e7e1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用RegExp.prototype.exec方法</h1><p id="d47c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用JavaScript regex的<code class="fe me mf mg mh b">exec</code>方法来查找regex匹配的索引。</p><p id="236b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="35b1" class="mq lc iq mh b gy mr ms l mt mu">const match = /bar/.exec("foobar");<br/>console.log(match &amp;&amp; match.index);</span></pre><p id="30aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">'foobar'</code>作为参数调用<code class="fe me mf mg mh b">/bar/</code>上的<code class="fe me mf mg mh b">exec</code>来寻找<code class="fe me mf mg mh b">'foobar'</code>字符串中的<code class="fe me mf mg mh b">bar</code>模式。</p><p id="3de8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe me mf mg mh b">match</code>不是<code class="fe me mf mg mh b">null</code>，那么它应该具有<code class="fe me mf mg mh b">match.index</code>属性，该属性具有<code class="fe me mf mg mh b">'foobar'</code>字符串中匹配子字符串的第一个索引。</p><p id="b8c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于<code class="fe me mf mg mh b">'bar'</code>从索引3开始，<code class="fe me mf mg mh b">match.index</code>应该是3。</p><p id="e8ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用它来获取一个字符串中所有匹配的索引。</p><p id="b974" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="28e5" class="mq lc iq mh b gy mr ms l mt mu">const re = /bar/g,<br/>  str = "foobarfoobar";<br/>while ((match = re.exec(str)) !== null) {<br/>  console.log(match &amp;&amp; match.index);<br/>}</span></pre><p id="374d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">re</code>有一个<code class="fe me mf mg mh b">g</code>标志，让我们在一个字符串中搜索一个模式的所有匹配。</p><p id="5f46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">while</code>循环遍历<code class="fe me mf mg mh b">re.exec</code>返回的结果。</p><p id="f6d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果返回的结果不是<code class="fe me mf mg mh b">null</code>，那么我们继续获取匹配的结果，直到它返回<code class="fe me mf mg mh b">null</code>。</p><p id="0a18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">match.index</code>因此应为3和9，因为第一个<code class="fe me mf mg mh b">'bar'</code>从索引3开始，第二个<code class="fe me mf mg mh b">'bar'</code>从索引9开始。</p><h1 id="99ef" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="561d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">通过使用<code class="fe me mf mg mh b">RegExp.prototype.exec</code>方法，我们可以在一个JavaScript字符串中找到一个或多个正则表达式模式匹配的索引。</p></div></div>    
</body>
</html>