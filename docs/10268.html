<html>
<head>
<title>SPA vs MPA: The Right Tool For the Job</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SPA 与 MPA:适合工作的工具</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/spa-vs-mpa-the-right-tool-for-the-job-8c4cca9d2cd0?source=collection_archive---------12-----------------------#2022-10-19">https://blog.devgenius.io/spa-vs-mpa-the-right-tool-for-the-job-8c4cca9d2cd0?source=collection_archive---------12-----------------------#2022-10-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="561b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">大家好，感谢加入！</p><p id="8022" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天，我想看看单页应用程序和多页应用程序在使用正确的工具完成正确的工作方面的区别。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b632f548806830e174f1e5bd9cf81d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I2FUdEA5sJHNrizvtn2GDg.jpeg"/></div></div></figure><p id="1f16" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们中有多少人在为一个网站使用 React、Vue 或 Svelte 等框架，而最终却没有充分利用这个框架/库？</p><p id="a6f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有时我们只是习惯于使用熟悉的工具…有时以前的开发人员选择了一个对工作来说可能有点大材小用的工具。</p><p id="7f75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">无论哪种方式，让我们对水疗中心和海洋保护区进行一次高水平的审视吧！它们各有利弊，这可能有助于您为下一个项目选择工具。</p><p id="7915" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了检验 SPA 模型和 MPA 模型，我们将把网站数据传递给用户的过程可视化。我们的堆栈将由一个 API、一个数据库和一个用户界面(客户端)组成。</p><h1 id="8afb" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">单页应用流程</h1><h2 id="7cfe" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">最初的请求</h2><p id="422a" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">经过漫长的一天，约翰尼坐下来去他最喜欢的网站，碰巧是一个单页应用程序。他在浏览器中输入 URL，初始请求就发出了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/3a814717ea07530a03e5455c0141e252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*elm_YbUcUFWwjwOxl3oLQg.gif"/></div></div></figure><h2 id="1684" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">有效载荷</h2><p id="611b" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">服务器收到请求后，有一项重要的工作:</p><blockquote class="mk ml mm"><p id="c82b" class="jk jl mn jm b jn jo jp jq jr js jt ju mo jw jx jy mp ka kb kc mq ke kf kg kh ig bi translated">来提供用户界面。</p></blockquote><p id="0fb5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">SPA 本身被设计为将包含用户界面的“大型”有效载荷发送回用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/717455027f21404f3224a3270f6b8270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YbiNkIYRrIh_sElUGVO_cA.gif"/></div></div></figure><p id="8433" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Johnny 收到有效载荷，并可以查看网站的大约<code class="fe mr ms mt mu b">every</code>页！</p><h2 id="80c0" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">硬件</h2><p id="72b9" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">接下来，约翰尼的计算机开始将有效载荷转换成 HTML。换句话说，他的计算机正在制作它，以便他可以查看用户界面并与之交互。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/acc4e14684b7d567a509548dcb09efa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0GosggKE7rvJSivlKAh6eA.gif"/></div></div></figure><p id="58a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">需要注意的是，计算机执行这样的操作并不容易。另一方面，如果需要，可以利用外部处理能力！</p><h2 id="9a4c" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">模板</h2><p id="bd31" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">创建的 HTML 可以查看，但它只是一个模板。它丢失了数据。</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="0cd1" class="ls kv in mu b gy mz na l nb nc">&lt;h1&gt;Hello {{first_name}}&lt;/h1&gt;</span></pre><p id="d702" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这些数据实际上位于托管数据库的另一台服务器上。也就是说，Johnny 计算机上的客户端应用程序已经准备好了，并且知道如何请求缺失的数据。</p><p id="664a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它被编程为向 API 发送额外的网络请求，以便从数据库中获取所需的数据。在此之前，用户必须观看加载屏幕！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/18fc8a155cffec58f5cfa9e2fc2e1a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*k2Mem8StkZnTJrNOS13pbw.gif"/></div></div></figure><h2 id="f0dd" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">装载时间</h2><p id="9b65" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">到目前为止，Johnny 一直在观察他的计算机上的加载屏幕。</p><ol class=""><li id="baa9" class="nd ne in jm b jn jo jr js jv nf jz ng kd nh kh ni nj nk nl bi translated">他一直在等待他的浏览器下载“巨大的”初始有效载荷。</li><li id="a0a7" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh ni nj nk nl bi translated">他一直在等他的电脑把它转换成可见的 HTML</li><li id="f439" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh ni nj nk nl bi translated">他现在正在等待 API 发回他需要填充模板的数据。</li></ol><p id="65ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦所有数据到达，Johnny 就可以开始使用这个单页应用程序了。</p><h1 id="9669" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">多页应用流程</h1><h2 id="4c67" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">最初的请求</h2><p id="eca5" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">这一次，Johnny 将发送访问多页应用程序的请求。这个请求的发送方式和以前一样，但是随后的事件顺序会有所不同。</p><h2 id="0719" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">有效载荷</h2><p id="e908" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">同样，服务器的工作是交付用户界面。这一次，我们看到服务器没有向用户发回这么大的有效载荷。</p><p id="e2a2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相反，我们收到的是一个包含最少客户端 JavaScript 的小 HTML 文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/3e8b009547d88e0e89c01bc59d9a03f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aRRQA8xT_tZKbld8ZUmGfg.gif"/></div></div></figure><p id="9a56" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Johnny 收到了他请求的单个页面，而不是收到应用程序提供的每个页面。</p><h2 id="94bb" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">硬件</h2><p id="94b4" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">这一次，约翰尼的计算机不必如此努力地工作，因为有效载荷已经包含成品！</p><p id="8945" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">他的电脑只显示 HTML，约翰尼正在使用该网站。</p><pre class="kj kk kl km gt mv mu mw mx aw my bi"><span id="975f" class="ls kv in mu b gy mz na l nb nc">&lt;h1&gt;Hello Johnny&lt;/h1&gt;</span></pre><h2 id="2fec" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">模板</h2><p id="168f" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">MPA 的 HTML 模板不需要基于 JavaScript 创建。在这种情况下，HTML 模板已经创建好了，可以填充了。</p><p id="2b8b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">服务器托管 HTML 模板，并在将成品发送给用户之前填充变量。</p><h2 id="44cc" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">装载时间</h2><p id="2840" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">对于多页面应用程序，需要处理的逻辑和网络请求明显减少，从而导致 web 应用程序的加载速度加快。</p><ol class=""><li id="2463" class="nd ne in jm b jn jo jr js jv nf jz ng kd nh kh ni nj nk nl bi translated">Johnny 等待服务器填充 HTML 模板。</li><li id="1106" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh ni nj nk nl bi translated">他等待小的 HTML 文件被发送到他的计算机。</li></ol><p id="7f13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦 Johnny 收到完成的 HTML 文件，他就可以开始使用 web 应用程序了。</p><h1 id="7ae3" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">哪个更好？</h1><p id="aeb5" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">嗯，两个选项都不是更好！这完全取决于用例场景。</p><p id="9f0c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">以下是基本情况。</p><ul class=""><li id="be3d" class="nd ne in jm b jn jo jr js jv nf jz ng kd nh kh nr nj nk nl bi translated">高度 <strong class="jm io">动态</strong>的应用程序可能更适合 SPA，而更加面向数据的应用程序可能会从 MPA 方法中受益。高度动态的应用程序可以是像 Figma 或 Google Docs 这样的网站，而数据驱动的应用程序可以是托管您最喜欢的在线购物商店的网站。</li><li id="07d2" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh nr nj nk nl bi translated">SPA 上的交互时间(TTI)最初可能会更长，而页面之间的加载时间可能会更快。多页面应用程序上的 TTI 可能会更快，但每个后续页面加载都需要一个新的网络请求。</li></ul><h2 id="05fc" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">适合这项工作的工具</h2><p id="7883" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">当考虑下一步时，考虑应用程序的未来是很重要的。</p><ol class=""><li id="fd6c" class="nd ne in jm b jn jo jr js jv nf jz ng kd nh kh ni nj nk nl bi translated">你需要更快的“互动时间”吗？</li><li id="49f5" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh ni nj nk nl bi translated">用户界面的动态性如何？</li><li id="a7bd" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh ni nj nk nl bi translated">您的用户拥有支持您的应用程序的硬件吗？</li><li id="7694" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh ni nj nk nl bi translated">您想购买硬件来支持您的应用吗？</li></ol><h2 id="9a13" class="ls kv in bd kw lt lu dn la lv lw dp le jv lx ly li jz lz ma lm kd mb mc lq md bi translated">看 MPA 经历？</h2><p id="ff95" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">我也是！查看我一直在关注的几个框架…</p><ul class=""><li id="eef7" class="nd ne in jm b jn jo jr js jv nf jz ng kd nh kh nr nj nk nl bi translated"><a class="ae ns" href="https://astro.build/" rel="noopener ugc nofollow" target="_blank"> Astro </a>:提供最少的客户端代码，同时支持你喜欢的框架，比如 React、Vue 和 Svelte。</li><li id="fc1a" class="nd ne in jm b jn nm jr nn jv no jz np kd nq kh nr nj nk nl bi translated">Sane :轻松连接到一个 Mongo 实例，并开始用 Sane 的方式创建一个快速的 MPA。</li></ul><p id="b7eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你最喜欢的 MPA 框架是什么？你目前的项目需要水疗吗？</p></div><div class="ab cl nt nu hr nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ig ih ii ij ik"><p id="332b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一如既往，感谢您的加入，迫不及待地想演示下一个 MPA 框架！</p><p id="fc21" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">—尼克</p></div></div>    
</body>
</html>