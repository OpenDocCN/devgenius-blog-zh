<html>
<head>
<title>What is Hardware Security Module? A Brief Explanation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是硬件安全模块？简短的解释</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-hardware-security-module-a-brief-explanation-6ac448f2cfa9?source=collection_archive---------13-----------------------#2022-07-06">https://blog.devgenius.io/what-is-hardware-security-module-a-brief-explanation-6ac448f2cfa9?source=collection_archive---------13-----------------------#2022-07-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/37a55297f681399c5ed8eec6a8cc41cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*deEQ3KAk3stMF0Pvr6TKBA.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">资料来源:FreePik</figcaption></figure><p id="c254" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我想讨论一下硬件安全模块(HSM)及其相关技术。这将包含关于 HSM 的简要说明，在哪里可以了解它，以及如何使用它的代码示例。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="b914" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">定义</strong></p><p id="0e4e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">HSM 是保护和管理数字密钥并提供加密处理功能物理设备。简而言之，HSM 将从生成密钥、存储密钥、使用密钥进行解密/加密操作以及丢弃密钥开始提供您的秘密数字密钥。基本上，秘密密钥<em class="le">永远不会以未加密的格式</em>离开 HSM。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="1c59" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">我们为什么需要它？</strong></p><p id="e543" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我们主要需要它来保证我们的加密密钥的安全。像 PCI-DSS 这样最严格的标准要求使用安全设备来保存加密密钥。这就是 HSM 适合的地方。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="8055" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">HSM 的类型</strong></p><p id="82eb" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">HSM 有许多不同的形式，各有利弊。以下是市场上可以买到的几种 HSM:</p><ol class=""><li id="b1da" class="lf lg in kb b kc kd kg kh kk lh ko li ks lj kw lk ll lm ln bi translated">在 PCIe，HSM 以 PCIe 的形式嵌入到服务器中。例子:<a class="ae lo" href="https://cpl.thalesgroup.com/encryption/hardware-security-modules/pcie-hsms" rel="noopener ugc nofollow" target="_blank">泰雷兹卢娜 PCIe HSM </a></li><li id="b17c" class="lf lg in kb b kc lp kg lq kk lr ko ls ks lt kw lk ll lm ln bi translated">独立设备，其中 HSM 以独立设备的形式出现。示例:<a class="ae lo" href="https://utimaco.com/products/categories/general-purpose-solutions/cryptoserver-cp5" rel="noopener ugc nofollow" target="_blank"> Utimaco Cryptoserver CP5 </a></li><li id="3dfe" class="lf lg in kb b kc lp kg lq kk lr ko ls ks lt kw lk ll lm ln bi translated">HSM 是以 u 盘的形式出现的。示例:<a class="ae lo" href="https://www.yubico.com/id/product/yubihsm-2/" rel="noopener ugc nofollow" target="_blank"> YubiHSM 2 </a></li></ol></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="077f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">选哪个？</strong></p><p id="4ed6" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">HSM 有多种形式，这就产生了一个问题:选择哪一种？这取决于很多事情，比如你的预算和目的。通常在银行等严格合规的业务中，他们会规定必须达到的 HSM 标准水平。本标准通常指<a class="ae lo" href="https://en.wikipedia.org/wiki/FIPS_140" rel="noopener ugc nofollow" target="_blank"> FIPS 140 </a>。FIPS 140 有 4 个等级，其中 4 级是最高的。市场上的每一个 HSM 通常都符合 FIPS 140 的等级之一。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="83f1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">用例</strong></p><p id="2288" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">HSM 可以在许多用例中使用。通常，用例与拥有安全加密存储设备的法规要求密切相关。以下是 HSM 的几个使用案例:</p><ul class=""><li id="d5f2" class="lf lg in kb b kc kd kg kh kk lh ko li ks lj kw lu ll lm ln bi translated">证书颁发机构(CA)私钥的生成、存储和操作</li><li id="d3a5" class="lf lg in kb b kc lp kg lq kk lr ko ls ks lt kw lu ll lm ln bi translated">用于 web 服务器的 https 操作的私钥的生成、存储和操作</li><li id="71aa" class="lf lg in kb b kc lp kg lq kk lr ko ls ks lt kw lu ll lm ln bi translated">对 PDF 文件进行数字签名，</li><li id="39a0" class="lf lg in kb b kc lp kg lq kk lr ko ls ks lt kw lu ll lm ln bi translated">…以及许多其他涉及加密密钥存储和操作的操作</li></ul></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="b3b4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">使用的协议</strong></p><p id="a50e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">为了与 HSM 互动，我们需要某种协议。使用的通用协议称为 PKCS#11。PKCS#11 本身指定了加密 API(Cryptoki)。HSM 厂商将通过这个 Cryptoki 暴露它的功能。</p><p id="5864" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">通常，HSM 供应商也有自己的专有协议和 SDK 供开发人员使用。但是就可移植性而言，如果我们使用 PKCS#11 会更好，因为它是在各种 HSM 中使用的更常见的协议(一种类似于 web 服务器的 http/https 协议)。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="a714" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">去哪里学 PKCS 11 号？</strong></p><p id="9a81" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是一个有趣的问题。我学习这个协议的经验是通过使用模拟器，有时由 HSM 供应商提供。通常你必须先买 HSM，然后才能得到模拟器。所以，试用 PKCS 11 号最便宜的方法是使用 SoftHSM。</p><p id="6110" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">什么是<strong class="kb io"> SoftHSM </strong>？你可以把它看作是 HSM 基于软件的实现。是的，它们还附带了 PKCS 11 号协议。你可以在<a class="ae lo" href="https://www.opendnssec.org/softhsm/" rel="noopener ugc nofollow" target="_blank">这里</a>找到一切。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="1e88" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">使用 SoftHSM 的示例</strong></p><p id="2108" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是一个相当冗长的解释。这就是为什么我将在单独文章中更彻底地谈论它。现在，你可以查看这个<a class="ae lo" href="https://github.com/rsatrio/SoftHSM2-REST" rel="noopener ugc nofollow" target="_blank"> github </a>的例子，看看如何通过 PKCS#11 协议与 SoftHSM 交互。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="788d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">参考文献</strong></p><ul class=""><li id="c48e" class="lf lg in kb b kc kd kg kh kk lh ko li ks lj kw lu ll lm ln bi translated"><a class="ae lo" href="https://github.com/rsatrio/SoftHSM2-REST" rel="noopener ugc nofollow" target="_blank">https://github.com/rsatrio/SoftHSM2-REST</a></li><li id="9f07" class="lf lg in kb b kc lp kg lq kk lr ko ls ks lt kw lu ll lm ln bi translated"><a class="ae lo" href="https://en.wikipedia.org/wiki/FIPS_140" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/FIPS_140</a></li><li id="d4f6" class="lf lg in kb b kc lp kg lq kk lr ko ls ks lt kw lu ll lm ln bi translated"><a class="ae lo" href="https://www.opendnssec.org/softhsm/" rel="noopener ugc nofollow" target="_blank">https://www.opendnssec.org/softhsm/</a></li></ul></div></div>    
</body>
</html>