<html>
<head>
<title>Rewriting Git History — 14 days of Git</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重写 Git 历史——Git 的 14 天</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/rewriting-git-history-14-days-of-git-aa16f00fcb3a?source=collection_archive---------12-----------------------#2022-09-27">https://blog.devgenius.io/rewriting-git-history-14-days-of-git-aa16f00fcb3a?source=collection_archive---------12-----------------------#2022-09-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/18a31813cf56fc9a91df3540b74f73d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v675JEK-ppvKDPSb.png"/></div></div></figure><p id="8936" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">今天，我将看看如何用存储库重写 Git 历史。</p><h1 id="9baa" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">重写历史</h1><p id="f92e" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">如果你一直在跟随我学习 Git，你会记得我看了如何<a class="ae lw" href="https://www.techielass.com/undoing-commits-changes" rel="noopener ugc nofollow" target="_blank">撤销提交和更改</a>。我开始思考，如果我们想改变提交，稍微改写一下历史，会怎么样？</p><p id="6d03" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有几个选项可以做到这一点。我真正想看的是<em class="lx"> git commit </em>命令中的<em class="lx"> —修正</em>选项。</p><h1 id="86df" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">更改最近的 Git 提交消息</h1><p id="3175" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">有时候你提交了一个消息，但是意识到你在提交消息中写错了东西。你是做什么的？</p><p id="6844" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是— amend 选项的使用案例之一。</p><p id="0211" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果发出<em class="lx">git commit-amend-m " update the last commit message "</em>它将修改最新提交的消息。</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/30d4bbe617ec4b197bb935dec6144ee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nGmd6LdUIQAJyjqlgcdy7Q.png"/></div></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">Git 提交—修改命令</figcaption></figure><p id="79ca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您打错了字，或者错过了想要与同事分享的关于您所做更改的信息，这是更新最后一条提交消息的好方法。</p><h1 id="54a4" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">向提交添加额外的更改</h1><p id="c23b" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">有时候，当你完成一个提交，然后意识到你想再添加一个修改，或者你忘记了什么。将它添加到 commit 中比打开另一个 commit 更有意义。</p><p id="1e98" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是<em class="lx"> git commit — amend </em>命令的另一个用例。</p><p id="70bb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您的工作流程可能是:</p><ol class=""><li id="f144" class="mg mh in jx b jy jz kc kd kg mi kk mj ko mk ks ml mm mn mo bi translated">对文件 1 和文件 2 进行更改</li><li id="be59" class="mg mh in jx b jy mp kc mq kg mr kk ms ko mt ks ml mm mn mo bi translated">添加并提交这些更改</li><li id="daac" class="mg mh in jx b jy mp kc mq kg mr kk ms ko mt ks ml mm mn mo bi translated">意识到你已经忘记在文件 1 中添加一个小的改变</li><li id="59db" class="mg mh in jx b jy mp kc mq kg mr kk ms ko mt ks ml mm mn mo bi translated">进行附加更改</li><li id="344a" class="mg mh in jx b jy mp kc mq kg mr kk ms ko mt ks ml mm mn mo bi translated">使用命令<em class="lx">git commit—amend—no-edit</em></li></ol><p id="05c7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">命令上的附加选项<em class="lx"> — no-edit </em>接受最后的更改，并将其放入之前的提交中，而不更改消息。对于其他任何人来说，看起来就像是在一次提交中完成的。</p><blockquote class="mu mv mw"><p id="48c7" class="jv jw lx jx b jy jz ka kb kc kd ke kf mx kh ki kj my kl km kn mz kp kq kr ks ig bi translated"><em class="in">我要提醒你使用这个选项，并且只在你自己的提交中使用，不要通过修改别人的提交来迷惑别人。</em></p></blockquote><h1 id="ea5d" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">改写历史的其他方式</h1><p id="06ad" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">在我 14 天的 Git 学习之旅中，我还会看到其他几个命令，它们可以帮助改写历史。这些命令是<em class="lx"> git rebase </em>和<em class="lx"> git squash </em>，它们将分别在第 11 天和第 12 天发生。</p><h1 id="9813" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">14 天的饭钱</h1><p id="d258" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我喜欢深入研究<em class="lx"> git commit </em>命令提供的附加选项，并了解如何使用它们来帮助纠正错误或重写我的 git 历史中的历史。我期待着探索其他命令，也将在这方面发挥作用。</p><p id="22ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我的<a class="ae lw" href="https://www.techielass.com/tag/14daysofgit" rel="noopener ugc nofollow" target="_blank"> 14 天 Git </a>学习之旅的下一步是查看 Git 分支！请务必<a class="ae lw" href="https://www.techielass.com/newsletter" rel="noopener ugc nofollow" target="_blank">订阅</a>，加入我们的学习之旅！</p><p id="8c12" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以跟着这里:【https://github.com/weeyin83/14daysofgit】T4</p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><p id="8122" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="lx">原载于</em><a class="ae lw" href="https://www.techielass.com/p/82c4e201-130f-41ca-9f84-2ae8c7e0c75c/" rel="noopener ugc nofollow" target="_blank"><em class="lx">https://www.techielass.com</em></a><em class="lx">。</em></p></div></div>    
</body>
</html>