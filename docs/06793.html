<html>
<head>
<title>How to customize your Swagger UI with Spring Boot and Gradle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Spring Boot 和格雷德定制你的 Swagger UI</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-customize-your-swagger-ui-with-spring-boot-and-gradle-2fd32508c29a?source=collection_archive---------2-----------------------#2022-02-04">https://blog.devgenius.io/how-to-customize-your-swagger-ui-with-spring-boot-and-gradle-2fd32508c29a?source=collection_archive---------2-----------------------#2022-02-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/38289496ef119068de5b8cbc571c9abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tlH-mO8ySChTc0NFRAP9iQ.png"/></div></div></figure><p id="2769" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，这几天我试图找到一种方法来定制我的 Swagger UI，以替换 Swagger 徽标，并修改一些 CSS，使其更适合我的项目。由于我对 Spring 相对陌生，所以我认为它并不明显或者没有任何简单的解决方案。我发现了一些别人认为有用的代码和一些对我没有帮助的过时教程等等。所以我想分享一下我对这个问题的解决方法可能是个好主意。</p><p id="2ceb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本指南中，我将向您展示如何使用 Gradle 作为构建工具来修改文件，使其在 Spring 上运行。</p><p id="6fe5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，您需要从 Maven 资源库下载 webjar 文件。你可以在这里找到这个页面:<a class="ae kt" href="https://mvnrepository.com/artifact/org.webjars/swagger-ui" rel="noopener ugc nofollow" target="_blank">https://mvnrepository.com/artifact/org.webjars/swagger-ui</a>选择合适的版本(最好是最新的)点击<strong class="jx io">文件</strong>行上的<strong class="jx io">罐子</strong>，它就会下载一个<strong class="jx io">。jar </strong>文件。</p><p id="f561" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下载完文件后，您需要解压缩该文件。使用命令提取它:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="e065" class="ld le in kz b gy lf lg l lh li">unzip swagger-ui-&lt;version&gt;.jar -d ./swagger</span></pre><p id="cd37" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该命令将解压缩。jar 文件到当前路径中的一个名为<strong class="jx io">的目录中。用您下载的版本替换该版本。</strong></p><p id="f380" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在你可以开始定制文件了！</p><p id="e9fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们完成定制后，我们需要生成一个新的。jar 文件，这样我们就可以将它包含在 Gradle 的构建环境中。生成新的。jar 文件我们将使用下面的命令，在运行它时，我们需要首先进入 swagger 目录:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="9a8e" class="ld le in kz b gy lf lg l lh li">jar cf swagger-ui-&lt;version&gt;.jar META-INF/</span></pre><p id="d950" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们已经构建了一个. jar 文件，所以我们需要将这个文件移动到 Spring 项目中的一个适当的目录中。在本指南中，我将把它移到根目录下名为<strong class="jx io"> libs </strong>的目录中。然后我们需要打开我们的<strong class="jx io"> build.gradle </strong>并添加一些代码。在文件的顶部，您需要一个 buildscript 块(参见下面的我的代码):</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="7e2f" class="ld le in kz b gy lf lg l lh li">buildscript <strong class="kz io">{<br/>   </strong>repositories <strong class="kz io">{<br/>      </strong>mavenCentral()<br/>      flatDir <strong class="kz io">{<br/>         </strong>dirs 'libs'<br/>      <strong class="kz io">}<br/>   }<br/>   </strong>dependencies <strong class="kz io">{<br/>      </strong>classpath("org.springframework.boot:spring-boot-gradle-plugin:2.5.2.RELEASE")<br/>   <strong class="kz io">}<br/>}</strong></span></pre><p id="2a95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们将目录<strong class="jx io"> libs </strong>链接为一个 flatDir 存储库。我们还需要排除使用依赖关系<strong class="jx io"> springdoc-openapi-ui </strong>时自动出现的 swagger-ui，所以我们将使用我们自己的依赖关系。最后一行显示了我们如何添加自己的库。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="43ba" class="ld le in kz b gy lf lg l lh li">implementation (group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '&lt;version&gt;') <strong class="kz io">{<br/>   </strong>exclude group: 'org.webjars', module: 'swagger-ui'<br/><strong class="kz io">}<br/></strong>implementation files('libs/swagger-ui-&lt;version.jar')</span></pre><p id="ec0c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是定制 JS/HTML/CSS 的全部内容。如果我们想给 API 添加一些关于标题、描述、版本和联系信息等的配置，我们可以创建一个名为<strong class="jx io">OpenApiConfig.java</strong>的新 Java 文件，并放置以下代码:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="ce65" class="ld le in kz b gy lf lg l lh li">package com.qryptic.api.security;<br/><br/>import io.swagger.v3.oas.models.Components;<br/>import io.swagger.v3.oas.models.OpenAPI;<br/>import io.swagger.v3.oas.models.info.Contact;<br/>import io.swagger.v3.oas.models.info.Info;<br/>import org.springframework.beans.factory.annotation.Value;<br/>import org.springframework.context.annotation.Bean;<br/>import org.springframework.context.annotation.Configuration;<br/><br/>/**<br/> * OpenAPI Configuration for Swagger UI<br/> *<br/> * <strong class="kz io">@author </strong>Marcus Cvjeticanin<br/> */<br/>@Configuration<br/>public class OpenApiConfig {<br/><br/>    @Bean<br/>    public OpenAPI customOpenAPI(<br/>            @Value("${apiTitle}") String apiTitle,<br/>            @Value("${apiDescription}") String apiDescription,<br/>            @Value("${apiVersion}") String apiVersion,<br/>            @Value("${apiContactName}") String apiContactName,<br/>            @Value("${apiContactEmail}") String apiContactEmail,<br/>            @Value("${apiContactUrl}") String apiContactUrl<br/><br/>    ) {<br/>        return new OpenAPI()<br/>                .components(new Components())<br/>                .info(new Info()<br/>                        .title(apiTitle)<br/>                        .description(apiDescription)<br/>                        .version(apiVersion)<br/>                        .contact(new Contact().name(apiContactName).email(apiContactEmail).url(apiContactUrl))<br/>                );<br/>    }<br/>}</span></pre><p id="c5b7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以删除<strong class="jx io"> @Value </strong>注释和参数，只在返回的新<strong class="jx io"> OpenAPI() </strong>中添加字符串值。但是我们可以使用上面的代码，并在<strong class="jx io"> application.yml </strong>中添加以下内容:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="c09f" class="ld le in kz b gy lf lg l lh li">apiTitle: "Qryptic API"<br/>apiDescription: "Qryptic is a place for crypto enthusiasts to discover cryptocurrencies, wallets, exchanges and much more."<br/>apiVersion: "1.0.0"<br/>apiContactName: "Marcus Cvjeticanin"<br/>apiContactEmail: "mjovanc@protonmail.com"<br/>apiContactUrl: "https://qryptic.net"</span></pre><p id="f05f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是我们需要做的！如果你有任何问题或想与我联系，请在 Twitter 上关注我:<a class="ae kt" href="https://twitter.com/mjovanc" rel="noopener ugc nofollow" target="_blank">https://twitter.com/mjovanc</a></p></div></div>    
</body>
</html>