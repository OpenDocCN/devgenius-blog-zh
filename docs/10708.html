<html>
<head>
<title>Flutter SQFlite The Complete Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ‰‘åŠ¨ SQFlite å®Œæ•´æŒ‡å—</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/flutter-sqflite-the-complete-guide-88ee2ae999f2?source=collection_archive---------0-----------------------#2022-11-24">https://blog.devgenius.io/flutter-sqflite-the-complete-guide-88ee2ae999f2?source=collection_archive---------0-----------------------#2022-11-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="fc68" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">äº†è§£å¦‚ä½•åœ¨ä½ çš„ window åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ sqflie æœ¬åœ°æ•°æ®åº“</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9bfc81499c5637e36130e5267c6b0bce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X4sJm0ZWJBqziQRSDqfdvg.png"/></div></div></figure><p id="1945" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> SQFlite </strong>æ˜¯æ—‹èˆä¸­çš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥åœ¨æœ¬åœ°å­˜å‚¨æ•°æ®ï¼Œå®ƒæœ‰å¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚<strong class="jm io">åˆ›å»ºã€è¯»å–ã€æ›´æ–°</strong>å’Œ<strong class="jm io">åˆ é™¤</strong>ï¼Œä¹Ÿå«<strong class="jm io"> CRUD </strong>æ“ä½œ</p><h1 id="6951" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">ç›®å½•</h1><blockquote class="ls lt lu"><p id="f89f" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">æˆ‘ä»¬è¦åšä»€ä¹ˆ</p><p id="1ada" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">æ·»åŠ  SQFlite</p><p id="a7dd" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">åˆ›å»ºæ•°æ®åº“</p><p id="3ec5" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">åˆ›å»ºæ¨¡å‹ç±»</p><p id="4b12" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">CURD Operations</p><p id="69e6" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">GitHub Link</p></blockquote><h1 id="119b" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">æˆ‘ä»¬å°†åšä»€ä¹ˆ</h1><p id="1298" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">å®é™…ä¸Šï¼Œè§£é‡Š sqflite æœ€å¥½çš„æ–¹æ³•æ˜¯åœ¨ä¸€ä¸ªç±»ä¼¼ todos çš„åº”ç”¨ç¨‹åºä¸Šå®ç°å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä½¿ç”¨å®ƒçš„æ‰€æœ‰æ“ä½œæ¥åˆ›å»ºä¸€ä¸ªç®€å•çš„ TODO åº”ç”¨ç¨‹åº</p><h1 id="c938" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">æ·»åŠ  SQFlite</h1><p id="3e4a" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">åœ¨é¡¹ç›®å†…éƒ¨åˆ›å»ºé¡¹ç›®åï¼Œè½¬åˆ°<strong class="jm io">public specã€‚yaml </strong>å¹¶åœ¨ä¾èµ–é¡¹ä¸‹æ·»åŠ  sqfllite ä¾èµ–é¡¹:</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="b532" class="mj kv in mf b be mk ml l mm mn">dependencies:<br/>  ...<br/>  sqflite:</span></pre><p id="afb1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åè¿è¡Œ<strong class="jm io">æ—‹èˆé…’é¦†å¾—åˆ°</strong>å‘½ä»¤</p><p id="726f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬å°†æ¸…é™¤ window starter ä»£ç ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªåä¸º<strong class="jm io"> screens </strong>çš„æ–°ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<strong class="jm io"> home_screen.dart </strong>çš„æ–°æ–‡ä»¶</p><p id="3021" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä½ çš„<strong class="jm io"> main.dart </strong>æ–‡ä»¶åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="ae49" class="mj kv in mf b be mk ml l mm mn">import 'package:flutter/material.dart';<br/>import 'package:flutter_sqflite/screens/home_screen.dart';<br/><br/>void main() {<br/>  runApp(const MyApp());<br/>}<br/><br/>class MyApp extends StatelessWidget {<br/>  const MyApp({super.key});<br/><br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return MaterialApp(<br/>        title: 'Todo app',<br/>        theme: ThemeData(<br/>          primarySwatch: Colors.blue,<br/>        ),<br/>        home: HomeScreen());<br/>  }<br/>}</span></pre><p id="4590" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å†…éƒ¨ä¸»å±å¹• _ã€‚</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="255f" class="mj kv in mf b be mk ml l mm mn">import 'package:flutter/material.dart';<br/><br/>class HomeScreen extends StatefulWidget {<br/>  const HomeScreen({Key? key}) : super(key: key);<br/><br/>  @override<br/>  State&lt;HomeScreen&gt; createState() =&gt; _HomeScreenState();<br/>}<br/><br/>class _HomeScreenState extends State&lt;HomeScreen&gt; {<br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return Scaffold();<br/>  }<br/>}</span></pre><h1 id="6063" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">åˆ›å»ºæ•°æ®åº“</h1><p id="1e2e" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">è¿™å°±æ„å‘³ç€æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª dabase è¿æ¥æ¥å­˜å‚¨æ•°æ®ã€‚è¿™ä¸€æ­¥å°†åœ¨æ¯æ¬¡ä½¿ç”¨ sqfllite åˆ›å»ºåº”ç”¨ç¨‹åºæ—¶è¿›è¡Œï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç”±åº”ç”¨ç¨‹åºåˆ›å»ºçš„æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨æ•°æ®ï¼Œä¾‹å¦‚<strong class="jm io"> todo.db </strong></p><p id="ba61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åˆ›å»ºä¸€ä¸ªåä¸º repository çš„ç›®å½•ï¼Œç„¶ååœ¨å†…éƒ¨åˆ›å»ºä¸€ä¸ªåä¸º database_repository.dart æˆ– wahtever çš„ dart æ–‡ä»¶</p><p id="9ea7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶ååˆ›å»ºä¸€ä¸ªæ–°ç±»</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="d7d1" class="mj kv in mf b be mk ml l mm mn">class DatabaseRepository {}</span></pre><p id="04d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ–‡ä»¶å¯¼å…¥å†…éƒ¨</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="7864" class="mj kv in mf b be mk ml l mm mn">import 'package:sqflite/sqflite.dart';</span></pre><p id="aba7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ•°æ®åº“å­˜å‚¨åº“ç±»å†…éƒ¨</p><p id="e5a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åˆ›å»ºä¸€ä¸ªå¯ä»¥ä¸ºç©ºçš„ç§æœ‰å˜é‡</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="492a" class="mj kv in mf b be mk ml l mm mn">Database?_database;</span></pre><pre class="mo me mf mg bn mh mi bi"><span id="d268" class="mj kv in mf b be mk ml l mm mn">class DatabaseRepository {<br/>  Database? _database;<br/>}</span></pre><p id="309e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åæˆ‘ä»¬éœ€è¦åˆ›å»ºçš„åŠŸèƒ½åˆ›å»ºæ•°æ®åº“è¿™æ˜¯æœªæ¥å°†è¿”å›æˆ‘ä»¬çš„æ•°æ®åº“å¦‚æœåˆ›å»ºå¦‚æœä¸æ˜¯å®ƒå°†åˆ›å»ºå®ƒ</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="9cdd" class="mj kv in mf b be mk ml l mm mn">Future&lt;Database&gt; get database async {<br/>  if (_database != null) return _database!;<br/><br/>  _database = await _initDB('todo.db');<br/>  return _database!;<br/>}</span></pre><blockquote class="ls lt lu"><p id="f84c" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">ä½ ä¼šæ³¨æ„åˆ° initDBï¼Œæ­£å¦‚æˆ‘ä»¬ç°åœ¨å°†è¦å£°æ˜çš„é‚£æ ·ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–æ•°æ®åº“ï¼Œæ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæ•°æ®åº“åªæ˜¯ä¸€ä¸ªä½äºè®¾å¤‡ä¸Šçš„æ–‡ä»¶ï¼Œè¦è·å¾—å®ƒï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å®ƒçš„è·¯å¾„ï¼Œå› æ­¤ä¸ºäº†åˆå§‹åŒ–å®ƒï¼Œæˆ‘ä»¬éœ€è¦è·å¾—è·¯å¾„</p></blockquote><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="e4d4" class="mj kv in mf b be mk ml l mm mn">Future&lt;Database&gt; _initDB(String filePath) async {<br/>  final dbPath = await getDatabasesPath();<br/>  final path = join(dbPath, filePath);<br/><br/>  return await openDatabase(path, version: 1, onCreate: _createDB);<br/>}</span></pre><p id="f1e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœæ‚¨åœ¨ join æ–¹æ³•ä¸­æ³¨æ„åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œè¯·å¯¼å…¥å®ƒä¸ sqfltie ç›¸å…³è”åŒ…ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†æ¬¡é‡æ–°æ·»åŠ å®ƒ</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="64e3" class="mj kv in mf b be mk ml l mm mn">import 'package:path/path.dart';</span></pre><p id="9037" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">initDb æ–¹æ³•å°†å®šä½è·¯å¾„ï¼Œç„¶åå°†å…¶ä¸æ–‡ä»¶è¿æ¥ï¼Œå¹¶è¿”å› opeend æ•°æ®åº“</p><p id="b9d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> &gt; Create Dabase </strong>ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª Dabase æ–¹æ³•ï¼Œå®ƒå°†åˆ›å»ºæˆ‘ä»¬çš„æ•°æ®åº“ï¼Œå®šä¹‰å®ƒçš„è§„åˆ™ä»¥åŠå®ƒå°†å¦‚ä½•å·¥ä½œï¼Œå®ƒå°†å¦‚ä½•å·¥ä½œæ˜¯ä¸€ä¸ªç®€å•çš„ sql è¯­è¨€çš„è§„åˆ™ï¼Œæˆ‘ä»¬ç°åœ¨å°†æŸ¥çœ‹å®ƒ</p><p id="ebd9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬å°†å®šä¹‰ä¸€äº›å­—ç¬¦ä¸²æ¥ä¿æŒå¸¸é‡ï¼Œå› ä¸ºæˆ‘ä»¬å°†éœ€è¦å®ƒä»¬ä¼´éšç€åº”ç”¨ç¨‹åº</p><p id="f292" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åå£°æ˜è¿™äº›å‡½æ•°</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="e2d5" class="mj kv in mf b be mk ml l mm mn">  Future _createDB(Database db, int version) async {<br/>    await db.execute('''<br/>create table ${AppConst.tableName} ( <br/>  ${AppConst.id} integer primary key autoincrement, <br/>  ${AppConst.title} text not null,<br/>   ${AppConst.describtion} text not null,<br/>  ${AppConst.isImportant} boolean not null)<br/>''');<br/>  }</span></pre><p id="bb8e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬åªæ˜¯ç®€å•åœ°åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œç„¶åå‘Šè¯‰æ•°æ®åº“ id æ˜¯è‡ªåŠ¨å¢é‡çš„ï¼Œå¹¶ä¸”éå­—æ®µå¯ä»¥ä¸ºç©º</p><p id="108a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åˆ›å»ºå¸¸é‡ç±»</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="091f" class="mj kv in mf b be mk ml l mm mn">class AppConst {<br/>  static const String isImportant = 'isImportant';<br/>  static const String id = 'id';<br/>  static const String title = 'title';<br/>  static const String describtion = 'describtion';<br/>  static const String tableName = 'todoTable';<br/>}</span></pre><p id="9e16" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨ lib æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º cosnt çš„ç›®å½•ï¼Œå¹¶åˆ›å»º<strong class="jm io"> app_const.dart </strong></p><h1 id="cfba" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">åˆ›å»º DataModel</h1><p id="0ed0" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">ç°åœ¨ï¼Œåœ¨æˆ‘ä»¬ä½¿æ•°æ®åº“å‡†å¤‡å¥½ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰æˆ‘ä»¬çš„æ•°æ®ç±» whciï¼Œå®ƒå°†åŒ…å«æˆ‘ä»¬å°†ç”¨äºè¿›è¡Œæˆ‘ä»¬çš„å¾…åŠäº‹é¡¹çš„æ•°æ®</p><p id="ce8f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨ä½ çš„ lib æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<strong class="jm io">æ¨¡å‹</strong>çš„æ–°æ–‡ä»¶å¤¹</p><p id="c960" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶ååˆ›å»º<strong class="jm io"> model.dart </strong>ï¼Œå¹¶å®ç°è¿™ä¸ªç±»</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="e8db" class="mj kv in mf b be mk ml l mm mn">class ToDoModel {<br/>  final int id;<br/>  final bool isImportant;<br/>  final String title;<br/>  final String discribtion;<br/>  ToDoModel(<br/>      {required this.title,<br/>      required this.id,<br/>      required this.discribtion,<br/>      required this.isImportant});<br/>}</span></pre><p id="0b57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–¹æ³•æ¥å°†è¯¥å¯¹è±¡è½¬æ¢ä¸º jsonï¼Œä»¥ä¾¿æ˜“äºè¢«æ•°æ®åº“ä»¥åŠå·¥å‚å‘½åçš„æ„é€ å‡½æ•°ç†è§£ï¼Œä»¥ä¾¿ä»¥å¯¹è±¡çš„å½¢å¼ä»æ•°æ®åº“ä¸­æ£€ç´¢å®ƒ</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="e218" class="mj kv in mf b be mk ml l mm mn">factory ToDoModel.fromJson(Map&lt;String, dynamic&gt; map) {<br/>  return ToDoModel(<br/>    title: map['title'],<br/>    id: map['id'],<br/>    discribtion: map['discribtion'],<br/>    isImportant: map['isImportant'],<br/>  );<br/>}<br/>Map&lt;String, dynamic&gt; toMap() {<br/>  return {<br/>    'title': title,<br/>    'id': id,<br/>    'discribtion': discribtion,<br/>    'isImportant': isImportant,<br/>  };<br/>}</span></pre><p id="d386" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ•´ä¸ªç±»ç°åœ¨åº”è¯¥å¦‚ä¸‹æ‰€ç¤º</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="efa2" class="mj kv in mf b be mk ml l mm mn">class ToDoModel {<br/>  final int? id;<br/>  final bool isImportant;<br/>  final String title;<br/>  final String describtion;<br/>  ToDoModel(<br/>      {required this.title,<br/>      this.id,<br/>      required this.describtion,<br/>      required this.isImportant});<br/><br/>  factory ToDoModel.fromJson(Map&lt;String, dynamic&gt; map) {<br/>    return ToDoModel(<br/>      title: map['title'],<br/>      id: map['id'],<br/>      describtion: map['describtion'],<br/>      isImportant: map['isImportant'] == 1,<br/>    );<br/>  }<br/>  Map&lt;String, dynamic&gt; toMap() {<br/>    return {<br/>      'title': title,<br/>      'id': id,<br/>      'describtion': describtion,<br/>      'isImportant': isImportant == true ? 1 : 0,<br/>    };<br/>  }<br/>}</span></pre><blockquote class="ls lt lu"><p id="8940" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬å°†å¸ƒå°”ä½œä¸º int å‘é€ï¼Œè€Œ recieing ä¹Ÿä½œä¸º int å‘é€ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p id="8324" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">è¿™æ˜¯å› ä¸ºæ•°æ®åº“åªç†è§£ uint8ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰ true = 1 false = 0ï¼Œ</p><p id="deae" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„å­˜å‚¨åº“åˆ›å»ºä¸€ä¸ªå•ä¾‹</p><p id="f92a" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">singleton åŸºæœ¬ä¸Šæ„å‘³ç€æˆ‘ä»¬çš„ç±»æ€»æ˜¯æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œåªæ˜¯ä¸ºäº†ç¡®ä¿æ•°æ®åº“åªæœ‰ä¸€ä¸ªå®ä¾‹</p><p id="1f10" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">åœ¨å­˜å‚¨åº“ç±»é¡¶éƒ¨æ·»åŠ </p></blockquote><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="9791" class="mj kv in mf b be mk ml l mm mn">static final DatabaseRepository instance = DatabaseRepository._init();<br/>DatabaseRepository._init();</span></pre><p id="fa21" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦å»æˆ‘ä»¬çš„ä¸»å±å¹•</p><p id="ea87" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åˆ›å»º initdb æ–¹æ³•</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="bdae" class="mj kv in mf b be mk ml l mm mn">void initDb() async {<br/>  await DatabaseRepository.instance.database;<br/>}</span></pre><p id="f040" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨â€œæ·»åŠ â€å±å¹•çš„ initstate å†…éƒ¨</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="1f13" class="mj kv in mf b be mk ml l mm mn">@override<br/>void initState() {<br/>  initDb();<br/>  super.initState();<br/>}</span></pre><p id="cab3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨ç¬¬ä¸€æ¬¡åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œå®ƒå°†åˆ›å»ºæ•°æ®åº“ï¼Œç„¶åå¦‚æœå­˜åœ¨ï¼Œå®ƒå°†è¿”å›æˆ‘ä»¬åˆ›å»ºçš„ä¸€ä¸ª</p><p id="b4de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">lset ç°åœ¨è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¹¶æ·»åŠ ä¸€äº›ç”¨æˆ·ç•Œé¢éƒ¨åˆ†</p><p id="561c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åˆ›å»ºä¸€ä¸ªåä¸º widget çš„æ–° fodlerï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„ dart æ–‡ä»¶<strong class="jm io"> todo_widget.dart </strong></p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="7bf8" class="mj kv in mf b be mk ml l mm mn">import 'package:flutter/material.dart';<br/><br/>class TodoWidget extends StatelessWidget {<br/>  const TodoWidget({Key? key}) : super(key: key);<br/><br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return Container(<br/>      padding: EdgeInsets.all(10),<br/>      child: ListTile(<br/>        trailing: Icon(<br/>          Icons.warning_amber,<br/>          color: Colors.red,<br/>        ),<br/>        subtitle: Text(<br/>          'Develop the next great app idea',<br/>          style: const TextStyle(color: Colors.black87, fontSize: 12),<br/>        ),<br/>        title: Text(<br/>          'Develop amazing flutter app',<br/>          style: const TextStyle(color: Colors.black, fontSize: 16),<br/>        ),<br/>      ),<br/>      decoration: BoxDecoration(<br/>          borderRadius: BorderRadius.circular(10),<br/>          color: Colors.grey.withOpacity(0.1)),<br/>    );<br/>  }<br/>}</span></pre><p id="4cff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åè¿”å›<strong class="jm io">ä¸»å±å¹• _ dart</strong></p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="2336" class="mj kv in mf b be mk ml l mm mn">import 'package:flutter/material.dart';<br/>import 'package:flutter_sqflite/repository/database_repository.dart';<br/>import 'package:flutter_sqflite/widget/todo_widget.dart';<br/><br/>class HomeScreen extends StatefulWidget {<br/>  const HomeScreen({Key? key}) : super(key: key);<br/><br/>  @override<br/>  State&lt;HomeScreen&gt; createState() =&gt; _HomeScreenState();<br/>}<br/><br/>class _HomeScreenState extends State&lt;HomeScreen&gt; {<br/>  @override<br/>  void initState() {<br/>    initDb();<br/>    super.initState();<br/>  }<br/><br/>  void initDb() async {<br/>    await DatabaseRepository.instance.database;<br/>  }<br/><br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      floatingActionButton: FloatingActionButton(<br/>        backgroundColor: Colors.black,<br/>        child: Icon(<br/>          Icons.add,<br/>          color: Colors.white,<br/>        ),<br/>        onPressed: () {},<br/>      ),<br/>      appBar: AppBar(<br/>        title: const Text('My todos'),<br/>      ),<br/>      body: ListView.separated(<br/>        separatorBuilder: (context, index) =&gt; const SizedBox(<br/>          height: 20,<br/>        ),<br/>        padding: EdgeInsets.all(16),<br/>        itemBuilder: (context, index) {<br/>          return TodoWidget();<br/>        },<br/>        itemCount: 10,<br/>      ),<br/>    );<br/>  }<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/326128bf3999b7f2e33f64b671a586f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SPH0K9M18OTeKfU8ooQJpA.png"/></div></div></figure><p id="e98b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">çœ‹èµ·æ¥å¾ˆæ£’â€¦ï¼Ÿ</p><p id="1136" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦æ·»åŠ æˆ‘ä»¬çš„çœŸå®æ•°æ®</p><p id="960a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å›åˆ°æˆ‘ä»¬çš„æ•°æ®åº“å­˜å‚¨åº“ï¼Œæ·»åŠ è¿™ä¸ªå‡½æ•°</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="c1d7" class="mj kv in mf b be mk ml l mm mn">Future&lt;void&gt; insert({required ToDoModel todo}) async {<br/>  try {<br/>    final db = await database;<br/>    db.insert(AppConst.tableName, todo.toMap());<br/>  } catch (e) {<br/>    print(e.toString());<br/>  }<br/>}</span></pre><p id="8174" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨ï¼Œåœ¨æˆ‘ä»¬æ·»åŠ äº†æˆ‘ä»¬çš„æ’å…¥å‡½æ•°ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ äº¤äº’æ€§æ¥æ’å…¥ todo</p><p id="0f03" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨â€œå±å¹•â€æ–‡ä»¶å¤¹å†…éƒ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å±å¹• add _ to osclone . dart</p><p id="a731" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¹¶æ·»åŠ æ­¤ä»£ç </p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="cf1e" class="mj kv in mf b be mk ml l mm mn">import 'package:flutter/material.dart';<br/><br/>class AddTodoScreen extends StatefulWidget {<br/>  const AddTodoScreen({Key? key}) : super(key: key);<br/><br/>  @override<br/>  State&lt;AddTodoScreen&gt; createState() =&gt; _AddTodoScreenState();<br/>}<br/><br/>class _AddTodoScreenState extends State&lt;AddTodoScreen&gt; {<br/>  bool important = false;<br/>  final titleController = TextEditingController();<br/>  final subtitleControler = TextEditingController();<br/>  @override<br/>  void dispose() {<br/>    titleController.dispose();<br/>    subtitleControler.dispose();<br/>    super.dispose();<br/>  }<br/><br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      appBar: AppBar(<br/>        title: const Text('Add todo'),<br/>      ),<br/>      body: Padding(<br/>        padding: const EdgeInsets.all(16.0),<br/>        child: Column(<br/>          children: [<br/>            TextFormField(<br/>              controller: titleController,<br/>              decoration: const InputDecoration(<br/>                  label: const Text('Todo title'),<br/>                  hintText: 'Develop amazing app '),<br/>            ),<br/>            const SizedBox(<br/>              height: 36,<br/>            ),<br/>            TextFormField(<br/>              controller: subtitleControler,<br/>              decoration: const InputDecoration(<br/>                label: const Text('Todo subtitle'),<br/>              ),<br/>            ),<br/>            SwitchListTile.adaptive(<br/>              title: Text('is your todo really important'),<br/>              value: important,<br/>              onChanged: (value) =&gt; setState(<br/>                () {<br/>                  important = value;<br/>                },<br/>              ),<br/>            ),<br/>            MaterialButton(<br/>              color: Colors.black,<br/>              height: 50,<br/>              minWidth: double.infinity,<br/>              onPressed: () {},<br/>              child: const Text(<br/>                'Add todo',<br/>                style: TextStyle(color: Colors.white),<br/>              ),<br/>            ),<br/>          ],<br/>        ),<br/>      ),<br/>    );<br/>  }<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/925b733abe696be0853a90c984d3f750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YizqQY2_K44h2Yv-7oyCGA.png"/></div></div></figure><p id="a27e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨æˆ‘çš„<strong class="jm io">ä¸»å±å¹•é‡Œã€‚dart </strong>åŠ ä¸Šè¿™ä¸ª</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="1ec0" class="mj kv in mf b be mk ml l mm mn">List&lt;ToDoModel&gt; myTodos = [];</span></pre><p id="4e45" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åç”¨è¿™ä¸ªæ›¿æ¢ä¸»ä½“å±æ€§</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="a377" class="mj kv in mf b be mk ml l mm mn">body: myTodos.isEmpty<br/>    ? const Center(child: const Text('You don\'t have any todos yet'))<br/>    : ListView.separated(<br/>        separatorBuilder: (context, index) =&gt; const SizedBox(<br/>          height: 20,<br/>        ),<br/>        padding: EdgeInsets.all(16),<br/>        itemBuilder: (context, index) {<br/>          return TodoWidget();<br/>        },<br/>        itemCount: myTodos.length,<br/>      ),</span></pre><p id="a22d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¿™å°†åªå‘ˆç°æˆ‘ä»¬çš„ todosï¼Œå¦‚æœå®ƒç°åœ¨å­˜åœ¨å®ƒæ˜¯ç©ºçš„å®ƒå°†æ˜¾ç¤ºä¸€ä¸ªå¸¸é‡æ–‡æœ¬ä¸ºç°åœ¨</p><p id="a06d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å†æ¬¡è¿”å›ä»¥æ·»åŠ  _todo</p><p id="d136" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åŠ ä¸Šè¿™ä¸ª</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="4e75" class="mj kv in mf b be mk ml l mm mn">void addTodo() async {<br/>  ToDoModel todo = ToDoModel(<br/>      title: titleController.text,<br/>      describtion: subtitleControler.text,<br/>      isImportant: important);<br/>  await DatabaseRepository.instance.insert(todo: todo);<br/>}</span></pre><p id="1e63" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨æŒ‰é’® onPressed å±æ€§ä¸­è°ƒç”¨å‡½æ•°</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="307f" class="mj kv in mf b be mk ml l mm mn">MaterialButton(<br/>  color: Colors.black,<br/>  height: 50,<br/>  minWidth: double.infinity,<br/>  onPressed: addTodo,<br/>  child: const Text(<br/>    'Add todo',<br/>    style: TextStyle(color: Colors.white),<br/>  ),<br/>),</span></pre><blockquote class="ls lt lu"><p id="0b16" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">ä½ ä¼šæ³¨æ„åˆ°ç»ˆç«¯æ‰“å°çš„æ³¢åŠ¨:todoAdded</p><p id="bc02" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">å› ä¸ºæˆ‘ä»¬åœ¨å‡½æ•°ä¸­æ·»åŠ äº†è¿™ä¸ªï¼Œå¦‚æœè¿™æ ·åšçš„è¯</p><p id="5c78" class="jk jl lv jm b jn jo jp jq jr js jt ju lw jw jx jy lx ka kb kc ly ke kf kg kh ig bi translated">ä½†æˆ‘ä»¬æ²¡æœ‰å‘ç°åˆ—è¡¨ä»ç„¶æ˜¯ç©ºçš„ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦æ·»åŠ  get å‡½æ•°</p></blockquote><p id="11e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è½¬åˆ° todo_widget.dart æ–‡ä»¶ï¼Œå¹¶å°†ä»£ç æ›¿æ¢ä¸º</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="9892" class="mj kv in mf b be mk ml l mm mn">import 'package:flutter/material.dart';<br/>import 'package:flutter_sqflite/model/model.dart';<br/><br/>class TodoWidget extends StatelessWidget {<br/>  final ToDoModel todo;<br/>  const TodoWidget({Key? key, required this.todo}) : super(key: key);<br/><br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return Container(<br/>      padding: EdgeInsets.all(10),<br/>      child: ListTile(<br/>        trailing: todo.isImportant == true<br/>            ? Icon(<br/>                Icons.warning_amber,<br/>                color: Colors.red,<br/>              )<br/>            : SizedBox(),<br/>        subtitle: Text(<br/>          todo.title,<br/>          style: const TextStyle(color: Colors.black87, fontSize: 12),<br/>        ),<br/>        title: Text(<br/>          todo.describtion,<br/>          style: const TextStyle(color: Colors.black, fontSize: 16),<br/>        ),<br/>      ),<br/>      decoration: BoxDecoration(<br/>          borderRadius: BorderRadius.circular(10),<br/>          color: Colors.grey.withOpacity(0.1)),<br/>    );<br/>  }<br/>}</span></pre><p id="aa97" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨ä¸»å±å¹•. dart ä¸­çš„ listviewWidget å†…éƒ¨</p><p id="0ccc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å°†æ­¤æ·»åŠ åˆ° itembuidler å‡½æ•°å†…éƒ¨</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="91cc" class="mj kv in mf b be mk ml l mm mn">itemBuilder: (context, index) {<br/>  final todo = myTodos[index];<br/>  return TodoWidget(todo: todo);<br/>},</span></pre><p id="9710" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨è¿”å› repsoitory å¹¶å£°æ˜è¿™ä¸ªä»æ•°æ®åº“ä¸­æ£€ç´¢ todos çš„æ–¹æ³•</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="1b9c" class="mj kv in mf b be mk ml l mm mn">Future&lt;List&lt;ToDoModel&gt;&gt; getAllTodos() async {<br/>  final db = await instance.database;<br/><br/>  final result = await db.query(AppConst.tableName);<br/><br/>  return result.map((json) =&gt; ToDoModel.fromJson(json)).toList();<br/>}</span></pre><p id="e0e5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶ååœ¨<strong class="jm io"> home_screen.dart </strong>ä¸­å£°æ˜æ­¤å‡½æ•°</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="87c5" class="mj kv in mf b be mk ml l mm mn">void getTodos() async {<br/>  await DatabaseRepository.instance.getAllTodos().then((value) {<br/>    setState(() {<br/>      myTodos = value;<br/>    });<br/>  }).catchError((e) =&gt; debugPrint(e.toString()));<br/>}</span></pre><p id="602b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¿™ä¸ªå‡½æ•°å°†ä»æ•°æ®åº“ä¸­è·å–åˆ—è¡¨ï¼Œç„¶åå°†å…¶å€¼åˆ†é…ç»™æ­¤å±å¹•ä¸­çš„åˆ—è¡¨</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/9ef7e351d716304a0fee2114be30f907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UImNgMcK9LRH3GhtEBn__w.png"/></div></div></figure><p id="1aa0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åˆ é™¤æˆ–æ›´æ–°</p><p id="6250" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨ todo_widget ä¸­æ·»åŠ æ­¤ iconButton</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="617c" class="mj kv in mf b be mk ml l mm mn">leading: IconButton(<br/>  onPressed: () {},<br/>  icon: Icon(<br/>    Icons.delete_outline,<br/>    color: Colors.red,<br/>  ),<br/>),</span></pre><p id="b704" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶ååœ¨å­˜å‚¨åº“æ–‡ä»¶ä¸­æ·»åŠ åˆ é™¤æ–¹æ³•</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="3b26" class="mj kv in mf b be mk ml l mm mn">Future&lt;void&gt; delete(int id) async {<br/>  try {<br/>    final db = await instance.database;<br/>    await db.delete(<br/>      AppConst.tableName,<br/>      where: '${AppConst.id} = ?',<br/>      whereArgs: [id],<br/>    );<br/>  } catch (e) {<br/>    print(e.toString());<br/>  }</span></pre><p id="71a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è½¬åˆ°<strong class="jm io"> todo_widget.dart </strong>ï¼Œç„¶åå®ç°è¿™ä¸ªæ–¹æ³•</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="02e4" class="mj kv in mf b be mk ml l mm mn">void delete({required ToDoModel todo, required BuildContext context}) async {<br/>  DatabaseRepository.instance.delete(todo.id!).then((value) {<br/>    ScaffoldMessenger.of(context)<br/>        .showSnackBar(const SnackBar(content: Text('Deleted')));<br/>  }).catchError((e) {<br/>    ScaffoldMessenger.of(context)<br/>        .showSnackBar(SnackBar(content: Text(e.toString())));<br/>  });<br/>}</span></pre><p id="0dda" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å½“æˆ‘ä»¬åˆ é™¤ todo æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯ï¼Œè¯´æ˜å®ƒå·²ç»å®Œæˆï¼Œæˆ–è€…å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯</p><p id="1db4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åå°†å…¶æ·»åŠ åˆ° iconButton onpressed</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="d01a" class="mj kv in mf b be mk ml l mm mn">leading: IconButton(<br/>  onPressed: () {<br/>    delete(todo: todo, context: context);<br/>  },<br/>  icon: Icon(<br/>    Icons.delete_outline,<br/>    color: Colors.red,<br/>  ),<br/>),</span></pre><p id="536b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•åˆ é™¤æ­¤å¾…åŠäº‹é¡¹</p><h1 id="32b9" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak"> DELETE </strong></h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/09313f2a66ddec515a741e0b9383ad1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WzSM5DxolLSCh_mM0EiodQ.png"/></div></div></figure><p id="aba3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å®ƒå·²ç»è¢«åˆ é™¤äº†ï¼Œä½†æˆ‘ä»ç„¶å¯ä»¥åœ¨å±å¹•ä¸Šçœ‹åˆ°å®ƒï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åªåœ¨ initState ä¸­å¼•ç”¨äº†è¯¥åˆ—è¡¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p id="b323" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å®é™…ä¸Šæœ‰è®¸å¤šè§£å†³æ–¹æ¡ˆï¼Œä½†æˆ‘ä»¬å°†å°è¯•æœ€ç®€å•çš„æ–¹æ³•ï¼Œæ›´æ–° todowidget like</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="2692" class="mj kv in mf b be mk ml l mm mn">class TodoWidget extends StatelessWidget {<br/>  final ToDoModel todo;<br/>  final VoidCallback onDeletePressed;<br/><br/>  const TodoWidget({<br/>    Key? key,<br/>    required this.todo,<br/>    required this.onDeletePressed,<br/>  }) : super(key: key);</span></pre><p id="99d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æŠŠåˆ é™¤åŠŸèƒ½ç§»åˆ°ä¸»å±å¹•ï¼Œå¹¶æ›´æ–°å®ƒ</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="9235" class="mj kv in mf b be mk ml l mm mn">: ListView.separated(<br/>    separatorBuilder: (context, index) =&gt; const SizedBox(<br/>      height: 20,<br/>    ),<br/>    padding: EdgeInsets.all(16),<br/>    itemBuilder: (context, index) {<br/>      final todo = myTodos[index];<br/>      return TodoWidget(<br/>        todo: todo,<br/>        onDeletePressed: () {<br/>          delete(todo: todo, context: context);<br/>          getTodos();<br/>        },<br/>      );<br/>    },<br/>    itemCount: myTodos.length,<br/>  ),</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/b96e3f48088669286ba7b4369c45e22e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L4nrKlnKu7aBmd-xvJzvnw.png"/></div></div></figure><h1 id="9b64" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">æ›´æ–°</h1><p id="a92e" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">åœ¨å­˜å‚¨åº“ä¸­æ·»åŠ </p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="50ca" class="mj kv in mf b be mk ml l mm mn">  Future&lt;void&gt; update(ToDoModel todo) async {<br/>    try {<br/>      final db = await instance.database;<br/>      db.update(<br/>        AppConst.tableName,<br/>        todo.toMap(),<br/>        where: '${AppConst.id} = ?',<br/>        whereArgs: [todo.id],<br/>      );<br/>    } catch (e) {<br/>      print(e.toString());<br/>    }<br/>  }</span></pre><p id="7f8e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶ååœ¨<strong class="jm io"> add_todo.dart </strong>å±å¹•ä¸­ï¼Œæ›´æ–°</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="7b68" class="mj kv in mf b be mk ml l mm mn">ToDoModel? todo;<br/>AddTodoScreen({Key? key, this.todo}) : super(key: key);<br/><br/>@override<br/>State&lt;AddTodoScreen&gt; createState() =&gt; _AddTodoScreenState();</span></pre><p id="bf1e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœç”¨æˆ·éœ€è¦æ›´æ–°ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æˆ‘ä»¬çš„æ§åˆ¶å™¨ä¸­æ·»åŠ æ•°æ®</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="5e62" class="mj kv in mf b be mk ml l mm mn">  @override<br/>  void initState() {<br/>    addTodoData();<br/>    super.initState();<br/>  }<br/>void addTodoData() {<br/>  if (widget.todo != null) {<br/>    if (mounted)<br/>      setState(() {<br/>        titleController.text = widget.todo!.title;<br/>        subtitleControler.text = widget.todo!.describtion;<br/>        important = widget.todo!.isImportant;<br/>      });<br/>  }<br/>}</span></pre><p id="9f8e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åå†æ¬¡è¿”å› todo_widget.dart</p><p id="a64e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¹¶ç”¨ä»¥ä¸‹å†…å®¹æ›´æ–°å®ƒ</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="078d" class="mj kv in mf b be mk ml l mm mn">Widget build(BuildContext context) {<br/>  return InkWell(<br/>    onTap: () {<br/>      Navigator.push(context, MaterialPageRoute(builder: (context) {<br/>        return AddTodoScreen(<br/>          todo: todo,<br/>        );<br/>      }));<br/>    },<br/>    child: Container(<br/>      padding: EdgeInsets.all(10),<br/>      child: ListTile(</span></pre><p id="4bb5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨ add_todo.dart ä¸­ï¼Œæ›´æ–° add addTodo</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="565e" class="mj kv in mf b be mk ml l mm mn">void addTodo() async {<br/>  ToDoModel todo = ToDoModel(<br/>      title: titleController.text,<br/>      describtion: subtitleControler.text,<br/>      isImportant: important);<br/>  if (widget.todo == null) {<br/>    await DatabaseRepository.instance.insert(todo: todo);<br/>  } else {<br/>    await DatabaseRepository.instance.update(todo);<br/>  }<br/>}</span></pre><p id="d049" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶åï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªå¥½çš„åŒ…ï¼Œå®ƒå°†å¸®åŠ©æˆ‘ä»¬è½»æ¾åœ°åˆ·æ–°æ‚¨çš„ pubspec.yaml ä¸­çš„æ•°æ®</p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="b1a3" class="mj kv in mf b be mk ml l mm mn">pull_to_refresh: ^2.0.0</span></pre><p id="932e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶ååœ¨ homescreen.dart ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç </p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="0db7" class="mj kv in mf b be mk ml l mm mn">List&lt;ToDoModel&gt; myTodos = [];<br/>@override<br/>Widget build(BuildContext context) {<br/>  return RefreshIndicator(<br/>    onRefresh: () async {<br/>      getTodos();<br/>    },<br/>    child: Scaffold(<br/>      floatingActionButton: FloatingActionButton(<br/>        backgroundColor: Colors.black,</span></pre><p id="f67c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ç°åœ¨å°†åˆ é™¤æ‰€æœ‰å†…å®¹ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„å¾…åŠäº‹é¡¹</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/de735badeaa83f62875f139dabbdfd17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6WmMAuaIhKVvBWKdHok-Uw.png"/></div></div></figure><p id="80bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨æˆ‘å°†å°è¯•æ›´æ–°å®ƒï¼Œæˆ‘å°†ä½¿å®ƒä¸é‡è¦ï¼Œå¹¶åˆ·æ–°çœ‹çœ‹æ˜¯å¦æ›´æ–°</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/bcb04c17277d848ea88e7c1cb569678a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JlBKzRVXJlK8_QBBNThlUQ.png"/></div></div></figure><p id="a4dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨å®ƒï¼›itâ€™è¿è½¬è‰¯å¥½</p><p id="c203" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ‹æ‰‹å£°ğŸ‘å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€‚</p><p id="f708" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ„Ÿè°¢ä½ çš„é˜…è¯»</p><h1 id="0b01" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">Github çŸ¥è¯†åº“</h1><p id="66be" class="pw-post-body-paragraph jk jl in jm b jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh ig bi translated">ã€https://github.com/mohaberabi/flutter_sqflite T2ã€‘å·</p></div></div>    
</body>
</html>