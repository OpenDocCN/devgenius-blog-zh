<html>
<head>
<title>PHP — P41: Arrow Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P41:箭头函数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-7-x-p41-arrow-functions-68a68b2debc6?source=collection_archive---------5-----------------------#2020-08-21">https://blog.devgenius.io/php-7-x-p41-arrow-functions-68a68b2debc6?source=collection_archive---------5-----------------------#2020-08-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8efe30714515b50c12c43526719b3295.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SULwcOLrrmnMnbsW81Xa-A.jpeg"/></div></div></figure><p id="90c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">PHP在7.4版本中引入了arrow函数语法。这只是写匿名函数的一种简化方式。PHP中匿名函数和箭头函数的主要区别是使用了<em class="kw"> use </em>关键字。为了能够访问匿名函数之外的作用域，你必须使用<em class="kw">使用</em>关键字。箭头函数自动访问函数外部的范围。</p><p id="dec3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">剖析箭头函数。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="ad92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">箭头功能以缩短的功能关键字<em class="kw"> fn() </em>开头；参数可以在括号内声明。箭头(= &gt;)紧跟在<em class="kw"> fn()，</em>之后，表示接下来发生的任何事情都将被返回。您不能在这里输入类似于<em class="kw"> echo </em>语句的表达式，因为arrow函数隐式地使用了<em class="kw"> return </em>语句。arrow函数还可以访问全局变量<em class="kw"> $global_var </em>。我们不必像目前为止对匿名函数所做的那样，使用关键字来实现<a class="ae ld" href="https://medium.com/dev-genius/php-7-x-p40-use-keyword-37d8e7df9138" rel="noopener"> <em class="kw">。我们可以借助于<em class="kw"> use </em>关键字使用匿名函数来完成同样的任务。</em></a></p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="7fbe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你读过<a class="ae ld" href="https://medium.com/dev-genius/php-7-x-p40-use-keyword-37d8e7df9138" rel="noopener">我在<em class="kw">上使用</em>关键词</a>的文章，你就会知道:</p><blockquote class="le lf lg"><p id="67c1" class="jy jz kw ka b kb kc kd ke kf kg kh ki lh kk kl km li ko kp kq lj ks kt ku kv ij bi translated"><strong class="ka ir">使用</strong> <em class="iq">获取全局变量的值当</em> <strong class="ka ir"> <em class="iq">函数被定义</em> </strong> <em class="iq">和</em> <strong class="ka ir">全局</strong> <em class="iq">将获取变量的值当</em> <strong class="ka ir"> <em class="iq">函数被调用</em> </strong>时</p></blockquote><p id="8572" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，即使我们在定义之后，但在函数调用之前修改了全局变量，结果仍然保持不变。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="b8c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的例子中，第7行调用了arrow函数。arrow函数返回10，因为它将全局变量的值<em class="kw"> 5与参数的值</em>相加，参数的值也是<em class="kw"> 5 </em>。在第9行，全局变量的值被更改为<em class="kw"> 10 </em>。但是，当在第11行调用箭头函数时，它仍然显示<em class="kw"> 10 </em>。如果在函数调用时检索到全局变量，值将是15，但对于隐式或显式利用<em class="kw"> use </em>关键字的箭头函数或匿名函数来说，情况并非如此。</p><p id="8bd2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们已经了解了箭头函数是如何工作的，让我们看更多的例子。我们将首先创建一个闭包，然后将其转换成一个箭头函数。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="adcb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">闭包被分配给<em class="kw"> $stuff_dogs_say </em>，然后在第7行被调用。匿名函数<em class="kw">呼应</em>出<em class="kw">狗说Cays烂</em>。把它转换成一个箭头函数非常简单。记住，箭头函数只有<em class="kw">返回</em>一个值；他们不能在内部使用<em class="kw"> echo </em>语句。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="0b03" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们首先创建一个变量<em class="kw"> $stuff_dogs_say </em>，并为其分配箭头函数。箭头功能以<em class="kw"> fn() </em>开始，后跟箭头。字符串<em class="kw">狗说猫吸</em>被隐式返回。我们只需要将字符串放在arrow语法的后面，arrow函数就会立即返回它。然后，我们利用第5行的函数调用的<em class="kw"> echo </em>语句来执行代码。</p><p id="1749" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看另一个例子。这次我们将传递一个参数给arrow函数。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><ol class=""><li id="7e92" class="lk ll iq ka b kb kc kf kg kj lm kn ln kr lo kv lp lq lr ls bi translated">我们创建一个箭头函数。该函数用参数<em class="kw"> $saying </em>声明。在函数调用时，参数将被连接到<em class="kw">狗说</em>字符串并被返回。</li><li id="154e" class="lk ll iq ka b kb lt kf lu kj lv kn lw kr lx kv lp lq lr ls bi translated">PHP在第5行看到了<em class="kw"> echo </em>语句并开始执行。</li><li id="65bc" class="lk ll iq ka b kb lt kf lu kj lv kn lw kr lx kv lp lq lr ls bi translated">它调用<em class="kw"> $stuff_dogs_say </em> arrow函数，并将<em class="kw"> Let Me Out </em>字符串参数传递给它。</li><li id="0071" class="lk ll iq ka b kb lt kf lu kj lv kn lw kr lx kv lp lq lr ls bi translated">PHP进入arrow函数，将参数连接到<em class="kw"> Dogs say </em>字符串并返回新字符串<em class="kw"> Dogs say Let Me Out </em>。</li><li id="69d6" class="lk ll iq ka b kb lt kf lu kj lv kn lw kr lx kv lp lq lr ls bi translated">PHP返回到第5行，而<em class="kw">回应</em>出字符串<em class="kw">狗说让我出去。</em></li></ol><p id="6783" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这应该可以让你设置箭头函数。这实际上只是让较小的闭包变得更整洁的一种方式。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ly lc l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><div class="kx ky kz la gt mg"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">dinocajic/PHP-7-YouTube-教程</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">PHP 7.x YouTube教程的代码。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">github.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu jw mg"/></div></div></a></div></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0f01361cbb3b8fdfa9bbc7415baf2faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HbxXF9J1rfIyqFGB.jpeg"/></div></div></figure><p id="17c8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡伊奇目前是<a class="ae ld" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(生命周期生物科学公司)</a>、<a class="ae ld" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae ld" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae ld" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物</a>、<a class="ae ld" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧MUbio </a>和<a class="ae ld" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的IT主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="df50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae ld" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae ld" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae ld" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="632b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae ld" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="kw">阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。</em> </a></p></div></div>    
</body>
</html>