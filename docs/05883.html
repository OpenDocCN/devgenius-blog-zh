<html>
<head>
<title>Running Python codes on cloud (Microsoft Azure Function)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在云上运行Python代码(Microsoft Azure函数)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/running-python-codes-on-cloud-microsoft-azure-function-fbf0dd59d5d1?source=collection_archive---------0-----------------------#2021-11-15">https://blog.devgenius.io/running-python-codes-on-cloud-microsoft-azure-function-fbf0dd59d5d1?source=collection_archive---------0-----------------------#2021-11-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6237" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过Http和时间触发器理解和利用Azure功能的能力</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/fce91078c881a32e81a8ed9a3a778813.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wYsgr5Ki9VQ5ld1yfI21Tw.jpeg"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">资料来源:ft.com</figcaption></figure><p id="19c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">微软刚刚突破了1万亿美元的市值，智能云业务是其业务的关键驱动力之一，占其收入的37%。Azure functions是Azure cloud function的组件之一，它允许用户基于时间(时间触发器)或每当触发时运行功能。难怪越来越多的模型被部署到仅提供按需成本计算的云功能，而不是启动虚拟机来持续运行功能或在本地服务器上运行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/5e4d1173fee7c40d9181da29773afe1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:202/format:webp/1*w-o9i5C8pYTVtovsxwDHzw.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图一。数据转换</figcaption></figure><p id="c4e7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">问题陈述</strong></p><p id="c89c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上传一个样本图书数据集，只提取用中文书写的书名。这是通过将数据转换代码上传到运行在http和时间触发器上的Azure函数来完成的，这产生了可用于各种原因的转换数据。</p><p id="a188" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="lo"> Http trigger </em>:本质上这意味着一个azure function，包含了你的python代码，存放在azure function中，无论何时通过它的web服务器ping它，它都会被启用</p><p id="2d6b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="lo">时间触发</em>:这意味着在某个时间间隔，包含你的python代码的azure函数会在这个时间间隔运行。</p><p id="48f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">安装可视化代码、Azure CLI、node.js、Azure功能核心工具和Github桌面</strong></p><p id="d5e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你要做的第一件事是<a class="ae lp" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">下载可视化代码</a>，我已经用多个ide进行了编码，我发现可视化代码在模型部署阶段很容易使用。</p><p id="adbe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">其次你要做的就是<a class="ae lp" href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli" rel="noopener ugc nofollow" target="_blank">安装Azure CLI </a>。安装完CLI后，下一个需要安装的插件是node.js。网上有大量关于如何安装的教程。</p><p id="acf8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，你必须安装<a class="ae lp" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=v4%2Cwindows%2Ccsharp%2Cportal%2Cbash%2Ckeda" rel="noopener ugc nofollow" target="_blank"> Azure function core tools </a>，它允许你直接从你的终端上传代码。</p><p id="b556" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要测试您是否已经正确安装了所有东西，您可以通过键入以下代码来进行检查</p><pre class="kg kh ki kj gt lq lr ls lt aw lu bi"><span id="5b65" class="lv lw iq lr b gy lx ly l lz ma">C:\Users\tan_k&gt;func ## test to see if you have installed azure func properly<br/>C:\Users\tan_k&gt;az ## see if you have installed azure CLI properly</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mb"><img src="../Images/aabf85b3c63c0ebef68ba5fa0aff4d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qXbhvd4mqq0v1QbdhqGj2w.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图一。键入func时您将看到的示例</figcaption></figure><p id="702e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">创建JSON数据</strong></p><p id="9de6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将做一个简单的数据提取和转换。被推入函数应用程序的数据是JSON格式的。</p><blockquote class="mg mh mi"><p id="46e8" class="kr ks lo kt b ku kv jr kw kx ky ju kz mj lb lc ld mk lf lg lh ml lj lk ll lm ij bi translated">JSON总体上使用更少的数据，所以你<strong class="kt ir">降低了成本，提高了解析速度</strong>。可读性:JSON结构简单易懂。映射到域对象更容易</p></blockquote><p id="4051" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个例子中，我将创建一个样本JSON文件，并触发azure函数，该函数将提取信息并转换它。数据是使用<a class="ae lp" href="https://app.json-generator.com/" rel="noopener ugc nofollow" target="_blank"> JSON生成器</a>创建的。记住您的密钥和url很重要，这可以在图2中找到。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图书样本数据集</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mo"><img src="../Images/a630ec71edd73cb61e49d20c292881fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aLqWWhyWXJiTefIoIn56aQ.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图二。单击数据url并访问令牌(记住令牌)</figcaption></figure><p id="0012" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">测试您是否正确存储了数据。您可以访问这个<a class="ae lp" href="https://reqbin.com/" rel="noopener ugc nofollow" target="_blank">站点</a>并输入如图3所示的详细信息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mo"><img src="../Images/189148ff82de2b4b780c62b5bcbf8ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dk8Zou4kadiOvmkEzRsl9w.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图3。正确加载数据的图示。</figcaption></figure><p id="8af9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我想解释一下正在发生的事情。JSON生成器生成一个API，您可以随时从它那里获取数据。在您请求之后，您将收到一个JSON文件。</p><p id="3bcf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您不理解JSON是什么或者如何访问JSON文件中的信息，请不要担心。当我们深入研究代码时，我们将进入更多的细节。</p><p id="0bc9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">克隆Github环境</strong></p><p id="28b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Github网址:<a class="ae lp" href="https://github.com/kmt112/A2Ztutorial" rel="noopener ugc nofollow" target="_blank">https://github.com/kmt112/A2Ztutorial</a></p><p id="6de1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下载github desktop并从那里登录github(强烈建议您创建一个帐户，如果您有帐户的话)。此后，克隆repo，右键单击github repo并选择run with Microsoft visual codes。所有的文件夹都应该在适当的位置并可供使用。</p><p id="843a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">设置Azure功能</strong></p><p id="2df3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">目前，微软正在发放免费积分，所以一定要在这里注册<a class="ae lp" href="https://azure.microsoft.com/free" rel="noopener ugc nofollow" target="_blank"/>。首先，创建一个资源组，然后，你必须建立一个web存储帐户，记住，由于云服务器是区域性的，所以你最好选择一个离你最近的区域。完成后，您将创建一个功能应用程序。这是你存放代码的地方。</p><div class="kg kh ki kj gt ab cb"><figure class="mp kk mq mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/d013002a2c404a3fcdb13cc177c8a17e.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*VCeMGBIs7GUjuhunk7rsOw.png"/></div></figure><figure class="mp kk mq mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/2e7787758b2330a1ac966407e5f0fb57.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Cte4Ge64b2m1x0DTOaiKow.png"/></div></figure><figure class="mp kk mq mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/fac9fb07d63d8d4c92d08eee188a461c.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*yG7FlKZTaxGzgEaIyFTj-A.png"/></div></figure></div><div class="ab cb"><figure class="mp kk mv mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/6dff31859b47599cc0a464f18eb229d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*-wLOJWHfLBZCGmaEOScQgA.png"/></div></figure><figure class="mp kk mv mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/fcb4042a1720ef63f8e69b0a95c376ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*XwwDljhc1nf9iOzveQuQkQ.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk mw di mx my translated">图4。所有部署程序的说明</figcaption></figure></div><p id="4bfc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，一旦您创建了web存储帐户，请复制访问密钥，因为我们稍后将再次使用它们。</p><p id="b12c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">设置应用洞察</strong></p><p id="1fdf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">每一个好的功能应用程序都必须有必要的日志信息，应用洞察让你看到你的代码的哪一部分出了问题，我们可以从哪里编辑它。因此，正确插入logging.info行非常重要，这样您就可以看到代码是否给出了正确的响应。</p><p id="e8fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">代码</strong></p><p id="13c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所附的代码将只提取必要的中文书名。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="df92" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">代码基本上是不言自明的。然而，我想指出几个关键点。</p><ol class=""><li id="50ad" class="mz na iq kt b ku kv kx ky la nb le nc li nd lm ne nf ng nh bi translated">将所有可配置文件放入os.enviro['xx']中是一个很好的做法。因此，在生产阶段，您只需要调整配置文件，这减少了麻烦，而不是去改变它的代码。</li><li id="b7e9" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated">在extract_JSON函数中。我运行了一个for循环来访问内部分配的字段。Content['book']访问存储的信息，如果书的语言==中文，我们复制出书名。</li></ol></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="5a87" class="nu lw iq bd nv nw nx ny nz oa ob oc od jw oe jx of jz og ka oh kc oi kd oj ok bi translated"><strong class="ak"> Http触发器:上传python代码，触发webhooks </strong></h1><p id="e483" class="pw-post-body-paragraph kr ks iq kt b ku ol jr kw kx om ju kz la on lc ld le oo lg lh li op lk ll lm ij bi translated">现在所有的准备工作都已经完成，我们现在将开始上传代码，并通过时间触发器和http触发器来触发它们。</p><p id="23fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">设定工作目录</strong></p><p id="b0ed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在你在可视化代码上，首先要做的是键入az登录。自从我们最后一次测试以来，它应该已经工作了。登录后，将您的工作目录更改为您在本地终端中创建的工作目录。如果你从github桌面打开，它应该已经在同一个工作目录中了。</p><p id="c0d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> Function.json和host.json </strong></p><p id="239e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在上传代码之前，创建一个function.json概要文件是很重要的。基本上，它是一大堆代码，给azure function应用程序指示这是什么类型的触发器，以及它们之间是什么类型的通信(GET，POST)。</p><p id="c4a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">配置配置</strong></p><p id="d118" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">进入高级编辑并填写必要的字段。</p><p id="771f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Azure web存储字符串=复制自图4。</p><p id="19df" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Admin_url =复制管理url。</p><p id="6798" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Secret_token =从您创建的JSON生成器复制。</p><p id="dccf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">代码上传</strong></p><p id="3692" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">转到azure function，复制图2中的命令行。在azure终端中运行。要验证您是否正确上传了代码，请登录您的azure function应用程序，查看代码是否已上传。</p><p id="265f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">代码测试</strong></p><p id="a83e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有多种方法可以测试您的代码是否运行正常。该代码将返回一个JSON文件，其中包含所有用中文编写的书籍。通过触发我们的http函数应用程序的webhook，它将从JSON generator中提取数据，提取必要的标题并将其作为输出推送。这个过程发生在每次你的http函数app被触发的时候(因此得名http trigger)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/4a247d0838df730c4c558f67f4666e0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*e-m-Etpy6QL4UJEXCIECwQ.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图6。数据流</figcaption></figure><p id="016a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">回到Httptrigger，复制你的azure函数URL。前往</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mo"><img src="../Images/ffd637d27569b62b226ea89a0d386839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Y4Nh7-GUG55gbGvoHST5w.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图7。HTTP触发器的函数URL的位置</figcaption></figure><p id="d8bb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">而且你已经成功部署了一个功能app。复制Http URL并粘贴到<a class="ae lp" href="https://reqbin.com/" rel="noopener ugc nofollow" target="_blank">这里</a>以查看结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi or"><img src="../Images/e5b7fd97770c6511696e4c02e9f61681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_9fgxsOVZtqVae3Ia7377g.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图8。JSON输出示例</figcaption></figure><p id="270b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">监控</strong></p><p id="3f47" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以你可能会问，除了看最终的Http响应，我还能怎么知道我的代码在运行呢？我们之前已经安装了监控应用程序，它会告诉您是否正确安装了该应用程序。另一个需要注意的要点是，在监视日志中，它将显示所有的logging.info。</p><div class="kg kh ki kj gt ab cb"><figure class="mp kk mv mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/f523c6533fe602096e66d71176e1c300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*gppSUCWsR9pqTqjXH2LARw.png"/></div></figure><figure class="mp kk mv mr ms mt mu paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/cb4889904aeec8c7e108e6311a3c0a1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*P-Ng9c7UE4q91MNGxr0M0Q.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk mw di mx my translated">图9。监控日志中显示的日志记录信息</figcaption></figure></div></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="3a68" class="nu lw iq bd nv nw nx ny nz oa ob oc od jw oe jx of jz og ka oh kc oi kd oj ok bi translated"><strong class="ak">时间触发:上传python代码，理解Cron表达式。</strong></h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">每5分钟触发一次</figcaption></figure><p id="6b3a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> function.json (Cron表达式)。</strong>对于时间触发，function.json略有不同。主要是因为cron表达式的引入。Cron表达式本质上是一组基于时间的指令。cron表达式集将放在schedule下的function.json下。从这个<a class="ae lp" href="https://ncrontab.swimburger.net/" rel="noopener ugc nofollow" target="_blank">站点</a>获取进一步的cron表达式。</p><p id="34e8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">监控</strong>。最后，您可以通过监视日志在固定的时间监视时间触发器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi os"><img src="../Images/ab3b21203ec2fc7198a3d6573c53f7aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bwwuuo2JlESMMQCawCznfQ.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">图10。请注意，日志每5分钟触发一次</figcaption></figure></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="416c" class="nu lw iq bd nv nw nx ny nz oa ob oc od jw oe jx of jz og ka oh kc oi kd oj ok bi translated">结论</h1><p id="0ec8" class="pw-post-body-paragraph kr ks iq kt b ku ol jr kw kx om ju kz la on lc ld le oo lg lh li op lk ll lm ij bi translated">Azure function app (AWS Lambda，google functions)应用广泛。一个明显的例子是使用API触发器来触发azure函数执行特定的任务并返回数据。通过http webhooks或基于时间的函数触发函数可以显著提高效率。</p><p id="c11a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作为一个数据爱好者，我有兴趣创建一个web应用程序或聊天机器人，每当用户输入不同的预测特征时，它们都可以触发不同的ML/AI任务。请关注第2部分，在那里我将分享如何使用前端webapp接口部署机器学习模型。</p></div></div>    
</body>
</html>