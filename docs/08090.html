<html>
<head>
<title>“Authentication” in Azure Data Lake Storage Gen2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure 数据湖存储 Gen2 中的“身份验证”</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/authentication-in-azure-data-lake-storage-gen2-d5bc9c7ac4bc?source=collection_archive---------10-----------------------#2022-05-16">https://blog.devgenius.io/authentication-in-azure-data-lake-storage-gen2-d5bc9c7ac4bc?source=collection_archive---------10-----------------------#2022-05-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="ea75" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">Azure Data Lake Storage Gen2 中的“身份验证”是什么</h1><p id="cbe0" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="kk io"> <em class="lg">保护数据</em></strong><strong class="kk io"><em class="lg">非授权访问</em> </strong>是一个<strong class="kk io"> <em class="lg">大问题</em> </strong>对于大多数人来说<strong class="kk io"> <em class="lg">当把</em> </strong>移到<strong class="kk io"> <em class="lg">云</em> </strong>时。<strong class="kk io"> <em class="lg">天蓝存储账号提供了</em></strong><strong class="kk io"><em class="lg"/></strong>不同的安全层，其中<strong class="kk io"> <em class="lg">包括功能</em></strong><strong class="kk io"><em class="lg">限制访问</em></strong><strong class="kk io"><em class="lg">数据</em> </strong>和<em class="lg">启用访问</em><strong class="kk io"><em class="lg">用户</em></strong><strong class="kk io"><em class="lg"><strong class="kk io"> <em class="lg">三个</em> </strong>主要<strong class="kk io"> <em class="lg">方式</em><em class="lg">认证</em></strong><strong class="kk io"><em class="lg">数据</em><em class="lg"><em class="lg">天蓝色存储账号</em> </em></strong>都是——</em></strong></p><ol class=""><li id="1f14" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf lo lp lq lr bi translated"><strong class="kk io"> <em class="lg">存储账户密钥</em> </strong>。</li><li id="0a7d" class="lh li in kk b kl ls kp lt kt lu kx lv lb lw lf lo lp lq lr bi translated"><strong class="kk io"> <em class="lg">共享访问签名</em></strong>(SAS)<strong class="kk io"><em class="lg">连同</em></strong><strong class="kk io"><em class="lg">相关特性</em> </strong>，称为<strong class="kk io"><em class="lg"/></strong>。</li><li id="2062" class="lh li in kk b kl ls kp lt kt lu kx lv lb lw lf lo lp lq lr bi translated"><strong class="kk io"> <em class="lg">认证 Azure Blob</em></strong><strong class="kk io"><em class="lg">队列存储使用 Azure Active Directory 认证</em></strong>(<strong class="kk io"><em class="lg">Azure AD</em></strong>)。</li></ol><h1 id="bd66" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">在 Azure Data Lake Storage Gen 2 中使用“存储帐户访问密钥”进行身份验证</h1><p id="1cde" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="kk io"> <em class="lg">对于每一个</em> </strong>存储账户，都有<strong class="kk io"> <em class="lg">两个存储账户访问键</em> </strong>。这些<strong class="kk io"> <em class="lg">两个键</em> </strong>可以从<strong class="kk io"> <em class="lg">不同的客户端库</em></strong><strong class="kk io"><em class="lg">Azure Powershell</em></strong><strong class="kk io"><em class="lg">Azure CLI</em></strong><strong class="kk io"><em class="lg">微软 Azure 存储浏览器</em></strong></p><p id="b86d" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">存储账户访问密钥</em> </strong>是<strong class="kk io"> <em class="lg">用作<strong class="kk io"> <em class="lg">密码</em></strong><strong class="kk io"><em class="lg">访问</em><strong class="kk io"><em class="lg">Azure 存储账户</em> </strong>。<strong class="kk io"> <em class="lg">如果</em> </strong>这些<strong class="kk io"> <em class="lg">键</em> </strong>被<strong class="kk io"> <em class="lg">与任何<strong class="kk io"><em class="lg"/></strong>其他用户<strong class="kk io"> <em class="lg">他们</em> </strong>被<strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">完全访问</em> </strong>到<strong class="kk io"> <em class="lg"> Azure 存储账户<strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">读</em> </strong>，<strong class="kk io"> <em class="lg">写</em> </strong>，<strong class="kk io"> <em class="lg">改变</em></strong><strong class="kk io"><em class="lg">数据</em> </strong>，<strong class="kk io"> <em class="lg">创建</em></strong><strong class="kk io"><em class="lg">容器</em></strong></em></strong></em></strong></strong></em></strong></p><p id="7abf" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">两个存储账户的访问键</em> </strong>可以通过<strong class="kk io"> <em class="lg">显示</em> </strong>下面的<strong class="kk io"> <em class="lg">方式</em></strong>—</p><ul class=""><li id="bde6" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">第一步</em> </strong> - <strong class="kk io"> <em class="lg">打开</em></strong><strong class="kk io"><em class="lg">蔚蓝数据湖存储 Gen 2 账号</em></strong><strong class="kk io"><em class="lg">adlsoindrila 2022 March</em></strong>。<strong class="kk io"> <em class="lg">点击<strong class="kk io"> <em class="lg">菜单上的</em></strong><strong class="kk io"><em class="lg">访问键</em> </strong>，从<strong class="kk io"> <em class="lg">左侧菜单</em><strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">安全+联网</em></strong></strong></em></strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/7c41c7d8d12168b224e1a0a6cc5a5205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3oCYacpuqJ3nFHsJtaIZmw.png"/></div></div></figure><ul class=""><li id="fe46" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">第二步</em></strong>——可以看出，<em class="lg"/><strong class="kk io"><em class="lg">键</em></strong><strong class="kk io"><em class="lg">键 1</em></strong><strong class="kk io"><em class="lg">键 2</em></strong><strong class="kk io"><em class="lg">都是由<strong class="kk io"> <em class="lg">天蓝色</em> </strong>生成的。<strong class="kk io"> <em class="lg">对于每一个</em> </strong>按键，都有一个<strong class="kk io"> <em class="lg">连接字符串</em></strong><strong class="kk io"><em class="lg">关联</em> </strong>。<strong class="kk io"> <em class="lg">连接字符串由<strong class="kk io"> <em class="lg">的</em> </strong>名称</em><em class="lg">的【数据湖】存储 Gen2 账号</em></strong><strong class="kk io"><em class="lg">adlsoindrila 2022 March</em></strong>】组成，并且，<strong class="kk io"> <em class="lg">各自的键</em> </strong>也被<strong class="kk io"><em class="lg"/></strong>嵌入<strong class="kk io">中</strong></em></strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/ac36d592ba6a60bb25a2c8eb7630da4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B6JmX0-KuF3jNZb-6QhSHg.png"/></div></div></figure><p id="ad44" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">使用</em></strong><em class="lg"/><strong class="kk io"><em class="lg">存储账户访问密钥</em> </strong>是对<strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">的旧方式执行认证</em> </strong>。此<strong class="kk io"> <em class="lg">认证</em> </strong>是<strong class="kk io"> <em class="lg">无更多推荐</em> </strong>由<strong class="kk io"> <em class="lg">微软</em> </strong>到<strong class="kk io"> <em class="lg">使用</em> </strong>在<strong class="kk io"> <em class="lg">生产环境</em> </strong>。</p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="cc68" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi mu translated"><span class="l mv mw mx bm my mz na nb nc di"> H </span> 在<strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">中，哪些</em> </strong>能够<strong class="kk io"> <em class="lg">导致</em> </strong>一个<strong class="kk io"> <em class="lg">可能的安全风险如果</em></strong><strong class="kk io"><em class="lg">密钥</em> </strong>曾经被<strong class="kk io"><em class="lg"/></strong></p><p id="ac88" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">举例</em> </strong> : <strong class="kk io"> <em class="lg">如果</em> </strong>一个<strong class="kk io"> <em class="lg">管理员</em> </strong>在一个<strong class="kk io"> <em class="lg">公司</em> </strong>，<strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">访问</em></strong><strong class="kk io"><em class="lg">账户存储密钥</em> </strong>，<strong class="kk io"> <em class="lg">叶</em></strong><strong class="kk io">为此，<strong class="kk io"> <em class="lg">键需要</em> </strong>将<strong class="kk io"> <em class="lg">改为</em> </strong>，并且，<strong class="kk io"> <em class="lg">新键需要</em> </strong>将<strong class="kk io"> <em class="lg">与<strong class="kk io"> <em class="lg">共享</em> </strong>所有</em> </strong>员工 </strong>的<strong class="kk io"/></p><p id="b50c" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">使</em> </strong>使<strong class="kk io"> <em class="lg">发生</em> </strong>，it <strong class="kk io"> <em class="lg">需要</em><strong class="kk io"><em class="lg">确保</em></strong><strong class="kk io"><em class="lg">所有</em></strong><strong class="kk io"><em class="lg">客户端应用</em><strong class="kk io"><em class="lg">公司使用</em></strong><strong class="kk io"><em class="lg">key 1</em>【T31<strong class="kk io"> <em class="lg">当</em></strong><strong class="kk io"><em class="lg">时机一到</em></strong><strong class="kk io"><em class="lg">重新生成</em></strong><strong class="kk io"><em class="lg">按键</em> </strong>为<strong class="kk io"> <em class="lg">任何理由</em> </strong>，就像-个<strong class="kk io"> <em class="lg">政策存在于公司内部</em> </strong>重新生成<strong class="kk io"><em class="lg"/></strong><strong class="kk io"> <strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">怀疑</em> </strong>认为<strong class="kk io"><em class="lg"/></strong>已经被<strong class="kk io"> <em class="lg">攻陷</em></strong><strong class="kk io"><em class="lg">首先重新生成</em></strong><strong class="kk io"><em class="lg">key 2</em></strong>，然后<strong class="kk io"> <em class="lg">使 <strong class="kk io"> <em class="lg">然后重新生成</em></strong><strong class="kk io"><em class="lg">key 1</em></strong>。<strong class="kk io"> <em class="lg">这种方式既可以将</em></strong><strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">重新生成</em></strong><strong class="kk io"><em class="lg"/></strong>。</em></strong></strong></strong></strong></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/e31b39157c988ba14359a75f896cab3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:84/format:webp/1*S31uAb97YlGgbAl8GAOiVA.png"/></div></figure><p id="75d4" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">点击<strong class="kk io"> <em class="lg">上的</em> </strong>链接</em> </strong>到<strong class="kk io"> <em class="lg">重新生成</em> </strong> <strong class="kk io"> <em class="lg">两个</em></strong><strong class="kk io"><em class="lg">键</em> </strong>。链接如上图所示。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/7f009b42182c3a469e3a3324acb44bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2JMgWBDVonrd8hu7Iz7QYw.png"/></div></div></figure><h1 id="390b" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">在 Azure Data Lake Storage Gen 2 中使用“共享访问签名”进行身份验证</h1><p id="dad0" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="kk io"> <em class="lg"> It </em> </strong>是<em class="lg"/>一个<strong class="kk io"> <em class="lg">好主意</em> </strong>要<strong class="kk io"> <em class="lg">要</em> </strong>要<strong class="kk io"> <em class="lg">原理</em> </strong>要<strong class="kk io"> <em class="lg">最少特权</em> </strong>，也就是说，要<strong class="kk io"> <em class="lg">只给用户</em></strong><strong class="kk io"><em class="lg">应用</em><strong class="kk io"> <em class="lg">提供</em></strong><strong class="kk io"><em class="lg">存储账号访问键</em> </strong>是<strong class="kk io"> <em class="lg">不是</em> </strong>一个<strong class="kk io"> <em class="lg">大方法</em> </strong>到<strong class="kk io"> <em class="lg">实现</em></strong><strong class="kk io"><em class="lg">原理</em> </strong>。<strong class="kk io"> <em class="lg">还有</em> </strong>是<strong class="kk io"> <em class="lg">的另一种类型</em><strong class="kk io"><em class="lg">令牌</em> </strong>即可以通过<strong class="kk io"> <em class="lg">提供</em> </strong>给<strong class="kk io"> <em class="lg">用户</em> </strong>和<strong class="kk io"> <em class="lg">应用</em> </strong>给<strong class="kk io"> <em class="lg">实现<em class="lg"/></em></strong></strong></strong></p><p id="14e8" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated">一个<strong class="kk io"> <em class="lg">共享访问签名</em> </strong> ( <strong class="kk io"> <em class="lg"> SAS </em> </strong>)一个<strong class="kk io"> <em class="lg">字符串</em> </strong>那个<strong class="kk io"> <em class="lg">包含</em> </strong>一个<strong class="kk io"> <em class="lg">安全令牌</em> </strong>，<strong class="kk io"> <em class="lg">哪个</em> </strong>可以将<strong class="kk io"><em class="lg"/></strong>附加到一个<strong class="kk io"> <em class="lg"> URL </em> </strong><strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)就是<strong class="kk io"> <em class="lg">通常把</em> </strong>简称为<strong class="kk io"> <em class="lg"> SAS 令牌</em> </strong>。一个<strong class="kk io"> <em class="lg">共享权限签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">允许</em></strong><strong class="kk io"><em class="lg">指定权限</em> </strong>和一个<strong class="kk io"> <em class="lg">范围</em> </strong>时间 为哪个<strong class="kk io"/></p><p id="4327" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"><em class="lg"/></strong>非常<em class="lg"/>重要<strong class="kk io"> <em class="lg">谨慎</em> </strong>与<strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">令牌 URL</em></strong>，因为，<strong class="kk io"> <em class="lg">这些 URL</em></strong>将<strong class="kk io"> <em class="lg">委托</em>例如:如果一个<strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">令牌 URL </em> </strong>被<strong class="kk io"> <em class="lg">传递给</em></strong><strong class="kk io"><em class="lg">一个人</em> </strong>，并且，那个人<strong class="kk io"> <em class="lg">转发</em> </strong></strong></p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="7992" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi mu translated"><span class="l mv mw mx bm my mz na nb nc di"> C </span> <strong class="kk io"> <em class="lg">创建共享访问签名(SAS)字符串</em></strong>—</p><p id="4fb8" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第一步</em> </strong> - <strong class="kk io"> <em class="lg">打开</em></strong><strong class="kk io"><em class="lg">蔚蓝数据湖存储 Gen 2 账号</em></strong><strong class="kk io"><em class="lg">adlsoindrila 2022 March</em></strong>。<strong class="kk io"> <em class="lg">点击<strong class="kk io"> <em class="lg">菜单上的</em> </strong>选项</em></strong><strong class="kk io"><em class="lg">共享权限签名</em> </strong>，从<strong class="kk io"> <em class="lg">左侧菜单</em><strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">安全+联网</em></strong></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/5d87617ad196cf578fe7c029acddbdc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VQckuTwaR6FkiCI-kUuI6Q.png"/></div></div></figure><p id="aa9e" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第二步</em> </strong> -到<strong class="kk io"> <em class="lg">创建</em> </strong>一个<strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">字符串</em> </strong>即<strong class="kk io"> <em class="lg">包含</em> </strong>一个<strong class="kk io"/><strong class="kk io"><em class="lg">提供</em> </strong></p><ul class=""><li id="e3a2" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">步骤 2.1</em></strong>-<strong class="kk io">-<em class="lg">-</em>-</strong>-<strong class="kk io">-<em class="lg">选择</em>-</strong>-<strong class="kk io">-<em class="lg">服务</em>-</strong>，对<strong class="kk io">-</strong>-<strong class="kk io">-<em class="lg">访问</em>-</strong>需要<strong class="kk io">-<em class="lg">-</em>-</strong>。<br/> <strong class="kk io"> <em class="lg">举例</em> </strong> : <strong class="kk io"> <em class="lg">访问</em> </strong>需要<strong class="kk io"> <em class="lg">给定</em> </strong>到<strong class="kk io"><em class="lg">Blob</em></strong><strong class="kk io"><em class="lg">文件</em></strong><strong class="kk io"><em class="lg">服务</em> </strong>。</li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/ef7cacff07ac780e0d3bfb3092280363.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*K0HNMGWUZn99xy7p8EtL5Q.png"/></div></figure><ul class=""><li id="3721" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">第 2.2 步</em></strong>-<strong class="kk io">-<em class="lg">第二步</em>-</strong>，<strong class="kk io">-<em class="lg">选择</em>-</strong>上哪一级<strong class="kk io">-<em class="lg">-</em>-<strong class="kk io">-<em class="lg">选择服务</em>-<em class="lg">-</em>-</strong>需要<strong class="kk io">-<em class="lg"><br/> <strong class="kk io"> <em class="lg">举例</em> </strong> : <strong class="kk io"> <em class="lg">访问</em> </strong>需要将<strong class="kk io"> <em class="lg">赋予</em> </strong>到<strong class="kk io"> <em class="lg">单个对象层次</em> </strong>。</em></strong></strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/bb911c7a66fd92f0d29bf7c0ff493590.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*PSOQWQu6KKfoKJg5n4cU4g.png"/></div></figure><ul class=""><li id="b278" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">第 2.3 步</em></strong>-<strong class="kk io">-<em class="lg">第三步</em> </strong>，<strong class="kk io"> <em class="lg">选择</em> </strong> <strong class="kk io"> <em class="lg">其中<strong class="kk io"> <em class="lg">中的</em> </strong>可用</em> </strong> <strong class="kk io"> <em class="lg">操作</em> </strong>将<strong class="kk io"> <em class="lg">允许</em></strong><strong class="kk io"><em class="lg">对<strong class="kk io"><strong class="kk io"/>执行</strong></em><br/><strong class="kk io"><em class="lg">列表</em><strong class="kk io"><em class="lg">所有</em></strong><strong class="kk io"><em class="lg">允许操作</em> </strong> - <br/> <strong class="kk io"> <em class="lg"> 1。</em> </strong> <strong class="kk io"> <em class="lg">改为<br/> 2。写<br/> 3。删除<br/> 4。列表<br/> 5。增加<br/> 6。创建<br/> 7。更新<br/> 8。流程<br/>举例</em> </strong> : <strong class="kk io"> <em class="lg">只有</em></strong><strong class="kk io"><em class="lg">读</em></strong><strong class="kk io"><em class="lg">权限</em> </strong>才能<strong class="kk io"> <em class="lg">给出</em> </strong>。</strong></strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/95d420b55ad5a94332c3f06d1e6e72fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iPt0byvH6TF09rIgtwrwTg.png"/></div></div></figure><p id="c0fe" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">确保</em></strong><strong class="kk io"><em class="lg">单选按钮</em> </strong>为<strong class="kk io"> <em class="lg">启用删除版本</em> </strong>为<strong class="kk io"> <em class="lg">选中</em> </strong>为<strong class="kk io"> <em class="lg">属性</em></strong><strong class="kk io"><em class="lg">Blob 版本化权限</em> </strong>。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/e9905bbf25f2576994a163c79086df45.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*tdc9Rv_-U8MlUB8wjkWY3g.png"/></div></figure><ul class=""><li id="0c5b" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">步骤 2.4</em></strong>-<strong class="kk io">-<em class="lg">第四</em> </strong>，<strong class="kk io">，<em class="lg">提供</em></strong><strong class="kk io"><em class="lg">开始日期</em> </strong> / <strong class="kk io"> <em class="lg">时间</em>/</strong>，<strong class="kk io"> <em class="lg">到期日期</em> </strong> / <strong class="kk io"> <em class="lg">时间</em> </strong>任意一个<strong class="kk io"> <em class="lg">时区</em> </strong>，<strong class="kk io"><br/> <strong class="kk io"> <em class="lg">示例</em> </strong>:共享访问签名<strong class="kk io"><em class="lg"/></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">字符串</em> </strong>将<strong class="kk io"> <em class="lg">有效期在 2022 年 5 月 16 日 12:33:30</em></strong>和<strong class="kk io"><em class="lg">16 日之间</em></strong></strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/ff3a52126454ab625b4fbd6f1057227e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uy4PwbSEsbjPQKhPhXA-4Q.png"/></div></div></figure><ul class=""><li id="12d2" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">步骤 2.5</em></strong>-<strong class="kk io">-<em class="lg">第五</em> </strong>，提供一个<strong class="kk io"> <em class="lg">特定的 IP 地址</em> </strong>，或者，一个<strong class="kk io"> <em class="lg">范围</em></strong><strong class="kk io"><em class="lg">的 IP 地址</em> </strong>。<strong class="kk io"> <em class="lg">允许权限</em><em class="lg">上的<strong class="kk io"/></em></strong>选择的<strong class="kk io"> <em class="lg">服务</em> </strong>将<strong class="kk io"> <em class="lg">限制</em> </strong>到所提供的<strong class="kk io"> <em class="lg"> IP 地址</em> </strong>，或者，<strong class="kk io"> <em class="lg">范围</em> </strong>的<strong class="kk io"> <em class="lg"> IP 地址</em> </strong>。所以，<strong class="kk io"> <em class="lg">任何请求</em> </strong>到<strong class="kk io"> <em class="lg">选中的服务</em> </strong>，也就是<strong class="kk io"> <em class="lg">未到来</em> </strong>从<strong class="kk io"> <em class="lg">提供的 IP 地址</em> </strong>，或者，<strong class="kk io"> <em class="lg">范围内</em></strong><strong class="kk io"><em class="lg">的 IP 地址</em> </strong>，都会被<br/> <strong class="kk io"> <em class="lg">举例</em> </strong> : <strong class="kk io"> <em class="lg">访问</em> </strong>将<strong class="kk io"> <em class="lg">只赋予</em> </strong>到<strong class="kk io"> <em class="lg">的 IP 地址- </em> </strong> <strong class="kk io"> <em class="lg"> ***。***.*.* * *</em>T96。</strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nh"><img src="../Images/ecc3f91a3edfd1eafe33de4db50d09ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uweLeizv7f6aY85BKjtoQQ.jpeg"/></div></div></figure><ul class=""><li id="56f7" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">步骤 2.6</em></strong>-<strong class="kk io">-<em class="lg">第六</em> </strong>，<strong class="kk io"> <em class="lg">选择</em> </strong>如果<strong class="kk io"> <em class="lg">只有</em></strong><strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">要求</em> </strong>，或者<strong class="kk io"> <em class="lg">两者都有<br/> <strong class="kk io"> <em class="lg">举例</em></strong>:<strong class="kk io"/><strong class="kk io"><em class="lg">【HTTPS】和 HTTP</em></strong><strong class="kk io"><em class="lg">单选按钮</em> </strong>以便既<strong class="kk io"/></em></strong><strong class="kk io"><em class="lg">HTTP</em></strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/a77ed6c16578a88464e2ee0ad648bae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*16sBF-oI3g934pVZbTl2AQ.png"/></div></figure><ul class=""><li id="1191" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">步骤 2.7</em></strong>-<strong class="kk io">-<em class="lg">选择</em></strong>-<strong class="kk io">-<em class="lg">默认选中 radio buton</em>-</strong>-<strong class="kk io">-<em class="lg">基本(默认)</em>-</strong>-<strong class="kk io">-<em class="lg">属性</em>-</strong>-<strong class="kk io">-<em class="lg">首选路由层</em>-</strong>。</li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/efc6e2a38a157d5f0c423a05b2f2918e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*au79xeuDpIPtHdHomR4--g.png"/></div></figure><ul class=""><li id="3275" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">步骤 2.8</em></strong>-<strong class="kk io">-<em class="lg">It</em></strong>是<strong class="kk io"> <em class="lg">已知</em> </strong>即<strong class="kk io"> <em class="lg">对于每一个存储账户</em> </strong>，都有<strong class="kk io"> <em class="lg">两个存储账户访问键</em> </strong>。<strong class="kk io"> <em class="lg">第七个</em> </strong>，<strong class="kk io"> <em class="lg">选择</em> </strong> <strong class="kk io"> <em class="lg">中的任意一个</em><em class="lg"><strong class="kk io"/></em></strong>存储账户访问键。<strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">令牌</em> </strong>将<strong class="kk io"> <em class="lg">与</em> </strong>绑定<strong class="kk io"> <em class="lg">选择</em> </strong> <strong class="kk io"> <em class="lg">存储账户访问密钥</em> </strong>。<strong class="kk io"> <em class="lg">存储账号访问键</em></strong><strong class="kk io"><em class="lg">其中</em> </strong>会<strong class="kk io"> <em class="lg">不会</em> </strong>会<strong class="kk io"> <em class="lg">很快会</em> </strong>变够，<strong class="kk io"> <em class="lg">应该</em> </strong>被<strong class="kk io"> <em class="lg">选中</em> </strong>，因为，<strong class="kk io"> <em class="lg">如果</em><br/> <strong class="kk io"> <em class="lg">举例</em> </strong> : <strong class="kk io"> <em class="lg">选择</em></strong><strong class="kk io"><em class="lg">key 1</em></strong><strong class="kk io"><em class="lg">下拉选项</em> </strong>。</strong></li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/dd48e018e095825a85f8e66948d33e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*QJNlV2yPscLq7KRcMOZX7w.png"/></div></figure><ul class=""><li id="8011" class="lh li in kk b kl lj kp lk kt ll kx lm lb ln lf ma lp lq lr bi translated"><strong class="kk io"> <em class="lg">步骤 2.9</em></strong><strong class="kk io"><em class="lg">最后</em></strong><strong class="kk io"><em class="lg">点击</em> </strong>上的<strong class="kk io"> <em class="lg">生成 SAS 并连接字符串</em></strong><strong class="kk io"><em class="lg">按钮</em> </strong>。</li></ul><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/1d320260f15ae30c44624e56b4299992.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yMfXUO7o9EwDF1WYvsUZ9w.png"/></div></div></figure><p id="e2c8" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第三步</em></strong>-<strong class="kk io">-<em class="lg"/></strong>，<strong class="kk io"> <em class="lg">两个服务</em> </strong>，<strong class="kk io"> <em class="lg"> Blob </em> </strong>，<strong class="kk io"> <em class="lg">文件</em> </strong>被<strong class="kk io"> <em class="lg">选中</em> </strong>，<strong class="kk io"> <em class="lg"> SAS URL 字符串</em> </strong>为<strong class="kk io"> <em class="lg"> Blob 服务</em></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/f3bb0222ff02e1a768a23203456a4e79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M8Ey1mCenmr5mbK0IWHxoQ.png"/></div></div></figure></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="7a04" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">一件事</em> </strong>到<strong class="kk io"> <em class="lg">注意</em> </strong>就是<strong class="kk io"> <em class="lg"> SAS Token 的<strong class="kk io"> <em class="lg">值</em> </strong>以问号</em> </strong> ( <strong class="kk io"> <em class="lg">)开头？</em> </strong>)，因为，<strong class="kk io"> <em class="lg">这个值</em> </strong>会将 追加到<strong class="kk io"> <em class="lg">结束</em> </strong>的<strong class="kk io"> <em class="lg">允许请求</em> </strong>到<strong class="kk io"> <em class="lg">选定服务</em> </strong>。</p><p id="dd68" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">一旦</em></strong><strong class="kk io"><em class="lg">SAS 令牌</em> </strong>已经被<strong class="kk io"> <em class="lg">生成了</em> </strong>，那么<strong class="kk io"> <em class="lg">就应该</em> </strong>被<strong class="kk io"/>和<strong class="kk io"> <em class="lg">安全地保存在某个地方</em> </strong>，因为，这些<strong class="kk io"> <em class="lg"/></strong></p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="ab83" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi mu translated"><span class="l mv mw mx bm my mz na nb nc di"> H </span> <strong class="kk io"> <em class="lg"> ow 检测无效共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)-<strong class="kk io"><em class="lg">Azure 不跟踪<strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">令牌</em></strong><strong class="kk io"><em class="lg">一旦生成</em> </strong>所以，唯一能让<strong class="kk io"> <em class="lg">失效</em> </strong>一个<strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)<strong class="kk io"><em class="lg">令牌</em></strong><strong class="kk io"><em class="lg"/></strong>失效的办法，就是在<strong class="kk io"> <em class="lg">重新生成</em> </strong>存储账户访问密钥，即</em> </strong></p><p id="bfe0" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated">这样一来，<strong class="kk io"> <em class="lg">当</em> </strong>有人<strong class="kk io"> <em class="lg">尝试</em> </strong>对<strong class="kk io"> <em class="lg">使用</em></strong><strong class="kk io"><em class="lg">无效</em> </strong> <strong class="kk io"> <em class="lg"> SAS 令牌</em></strong><strong class="kk io"><em class="lg">Azure</em></strong>将<strong class="kk io"> <em class="lg">尝试<em class="lg"> <strong class="kk io"> <em class="lg">比</em></strong><strong class="kk io"><em class="lg">多了一个</em> </strong>那就是在</em></em></strong><strong class="kk io"><em class="lg">SAS 令牌</em> </strong>被<strong class="kk io"> <em class="lg">创建</em> </strong>时使用的。 然后<strong class="kk io"> <em class="lg">比较</em></strong><strong class="kk io"/><strong class="kk io"><em class="lg">签名</em> </strong>到<strong class="kk io"> <em class="lg">什么</em> </strong>是<strong class="kk io"> <em class="lg">通过了</em> </strong>中的<strong class="kk io"> <em class="lg">发送了无效的 SAS 令牌</em> </strong>将</p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="7bbc" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi mu translated"><span class="l mv mw mx bm my mz na nb nc di"> W </span> <strong class="kk io"> <em class="lg">帽子是存储访问策略</em></strong>——如果<strong class="kk io"> <em class="lg"> SAS 令牌</em> </strong>是<strong class="kk io"> <em class="lg">用过的</em> </strong>，那么<strong class="kk io"> <em class="lg">最好是</em> </strong>到<strong class="kk io"> <em class="lg">用过的</em> </strong>它在<strong class="kk io"> <em class="lg">中与存储访问策略</em> </strong>配合使用。一个<strong class="kk io"> <em class="lg">存储的访问策略</em> </strong>是一个<strong class="kk io"> <em class="lg">集合</em><strong class="kk io"><em class="lg"/></strong>的约束条件，可以被<strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg"/></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)多个共享访问签名。</strong></p><p id="6540" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated">一个<strong class="kk io"><em class="lg"/></strong>存储的访问策略是在一个<strong class="kk io"> <em class="lg">资源容器</em> </strong>上<strong class="kk io"> <em class="lg">定义的</em> </strong>，就像— <strong class="kk io"> <em class="lg"> Blob 容器</em> </strong>，<strong class="kk io"> <em class="lg">表</em> </strong>，<strong class="kk io"> <em class="lg">队列</em> </strong>，或者，<strong class="kk io"/></p><p id="c7f1" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">存储的访问策略</em> </strong>是由<strong class="kk io"><em class="lg"/><em class="lg"/></strong><strong class="kk io"><em class="lg">以及</em></strong><strong class="kk io"><em class="lg">开始日期</em> </strong>和<strong class="kk io"> <em class="lg">结束日期</em> </strong>。</p><p id="31c7" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">存储访问策略</em> </strong> <strong class="kk io"> <em class="lg">允许</em><strong class="kk io"><em class="lg">创建</em> </strong>一个<strong class="kk io"> <em class="lg">组</em></strong><strong class="kk io"><em class="lg">权限</em> </strong>，<strong class="kk io"> <em class="lg">重用</em> </strong>那些<strong class="kk io"> <em class="lg">与<em class="lg"/></em></strong></strong></p><p id="8f66" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">存储的访问策略</em> </strong>是<strong class="kk io"> <em class="lg">真正有用的</em><em class="lg">是<strong class="kk io"/><strong class="kk io"><em class="lg">访问</em> </strong>到<strong class="kk io"> <em class="lg"> SAS 令牌</em> </strong>即<strong class="kk io"> <em class="lg">引用它</em> </strong>，因为，<strong class="kk io"> <em class="lg"> SAS 令牌</em> </strong>是<strong class="kk io"> <em class="lg">只是</em> </strong>一个所以，<strong class="kk io"> <em class="lg">除非</em> </strong>要么是<strong class="kk io"><em class="lg"/></strong>SAS 令牌<strong class="kk io"> <em class="lg">过期</em> </strong>，要么是<strong class="kk io"> <em class="lg">存储账户访问密钥</em> </strong>是<strong class="kk io"> <em class="lg">重新生成的</em> </strong>即<strong class="kk io"> <em class="lg">使用的</em> </strong>到<strong class="kk io">但是，如果<strong class="kk io"> <em class="lg"> SAS 令牌将</em> </strong>引用到一个<strong class="kk io"/></strong></em></strong>存储的访问策略中，那么<strong class="kk io"> <em class="lg">或者</em></strong><strong class="kk io"><em class="lg">存储的访问策略</em> </strong>可以被<strong class="kk io"> <em class="lg">删除</em> </strong>，或者<strong class="kk io"> <em class="lg">其过期时间</em> </strong>也可以</p><p id="7bdf" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">使用</em></strong><strong class="kk io"><em class="lg">存储访问策略</em> </strong>是<strong class="kk io"> <em class="lg">推荐方式</em> </strong>使用<strong class="kk io"> <em class="lg">共享访问签名</em> </strong>。</p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="c83f" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">从安全角度看</em> </strong>、<strong class="kk io"> <em class="lg">共享访问签名</em> </strong> ( <strong class="kk io"> <em class="lg"> SAS </em> </strong>)比<strong class="kk io"><em class="lg"/></strong><strong class="kk io"><em class="lg">存储账户访问密钥</em> </strong>。但是，从<strong class="kk io"> <em class="lg">维护的角度来看</em></strong><strong class="kk io"><em class="lg"/></strong>到<strong class="kk io"> <em class="lg">更新 SAS 令牌都超过了</em></strong><strong class="kk io"><em class="lg"/></strong>处<strong class="kk io"><em class="lg"/></strong>，<strong class="kk io"><em class="lg"/></strong>。</p><h1 id="bac8" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">在 Azure 数据湖存储 Gen2 中使用“Azure Active Directory”(AD)进行身份验证</h1><p id="0a08" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="kk io"><em class="lg">Azure Active Directory</em></strong>(<strong class="kk io"><em class="lg">AD</em></strong>)是一个<strong class="kk io"> <em class="lg">企业身份提供者</em> </strong>，本质上是<strong class="kk io"> <em class="lg">提供身份即服务</em></strong>(<strong class="kk io"><em class="lg">IDaaS</em></strong>)。<strong class="kk io"> <em class="lg">使用 Azure 活动目录</em></strong>(<strong class="kk io"><em class="lg">AD</em></strong>)意味着<strong class="kk io"> <em class="lg">访问</em> </strong>的<strong class="kk io"> <em class="lg"> Azure 存储帐户</em> </strong>可以将<strong class="kk io"> <em class="lg">授予</em> </strong>到<strong class="kk io"> <em class="lg"> Azure 活动目录</em> </strong>(</p><p id="9c4c" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"><em class="lg">Azure Active Directory</em></strong>(<strong class="kk io"><em class="lg">AD</em></strong>)是<strong class="kk io"> <em class="lg">全球可用的</em> </strong>从<strong class="kk io"> <em class="lg">几乎任何设备</em> </strong>，像- <strong class="kk io"> <em class="lg"> Windows 机</em> </strong>，<strong class="kk io"> <em class="lg"> Linux 机</em> </strong>，<strong class="kk io"/></p><p id="77bc" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"><em class="lg">Azure Active Directory</em></strong>(<strong class="kk io"><em class="lg">AD</em></strong>)<strong class="kk io"><em class="lg">身份</em> </strong>意思是<strong class="kk io"> <em class="lg">用户</em> </strong>，<strong class="kk io"> <em class="lg">群组</em> </strong>，或者说，<strong class="kk io"> <em class="lg">应用原理</em> </strong>。</p><blockquote class="nl nm nn"><p id="7e94" class="ki kj lg kk b kl lj kn ko kp lk kr ks no lx kv kw np ly kz la nq lz ld le lf ig bi translated"><strong class="kk io"> <em class="in">应用原理</em> </strong>是一个<strong class="kk io"> <em class="in">应用</em> </strong>即<strong class="kk io"> <em class="in">在<strong class="kk io"><em class="in">Azure Active Directory</em></strong>(<strong class="kk io"><em class="in">AD</em></strong>)中注册</em>。这个<strong class="kk io"> <em class="in">在<strong class="kk io"><em class="in">Azure Active Directory</em></strong>(<strong class="kk io"><em class="in">AD</em></strong>)中给</em></strong><strong class="kk io"><em class="in">应用</em> </strong>一个<strong class="kk io"> <em class="in">标识符</em>。这个<strong class="kk io"><em class="in"/></strong>标识符可以被<strong class="kk io"> <em class="in">分配给<strong class="kk io"> <em class="in">角色</em><em class="in">Azure 活动目录</em></strong>(<strong class="kk io"><em class="in"/></strong>)<strong class="kk io"><em class="in">存储帐户</em> </strong>，以便<strong class="kk io"> <em class="in">访问</em></strong></em></strong></strong></strong></p></blockquote><p id="1b3c" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated">一个<strong class="kk io"> <em class="lg">基于角色的访问控制</em></strong>(<strong class="kk io"><em class="lg">【RBAC】</em></strong>)可以被<strong class="kk io"> <em class="lg">分配</em> </strong>给一个<strong class="kk io"> <em class="lg"> Azure 身份</em> </strong>处于<strong class="kk io"> <em class="lg">订阅级别</em> </strong>给<strong class="kk io"> <em class="lg">授予访问权限</em> </strong>给<strong class="kk io"> <em class="lg">举例</em> </strong> : <strong class="kk io"> <em class="lg">所有</em></strong><strong class="kk io"><em class="lg">存储账户内</em><strong class="kk io"><em class="lg">认购</em> </strong>将<strong class="kk io"> <em class="lg">拥有</em></strong><strong class="kk io"><em class="lg">权限</em> </strong>。<strong class="kk io"> <em class="lg">基于角色的访问控制</em></strong>(<strong class="kk io"><em class="lg">【RBAC】</em></strong>)可以在<strong class="kk io"><em class="lg"/></strong>资源组级<strong class="kk io"> <em class="lg">分配</em> </strong>，或者在</strong><strong class="kk io"><em class="lg">存储账户级</em></strong></p><p id="ef90" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第一步</em></strong>-<strong class="kk io">-<em class="lg">类型</em> </strong> " <strong class="kk io"> <em class="lg"> azure 活动目录</em> </strong>"在<strong class="kk io"> <em class="lg">全局搜索栏</em> </strong>中<strong class="kk io"> <em class="lg">首页</em></strong><strong class="kk io"><em class="lg">Azure 门户</em></strong><em class="lg">点击</em> 上<strong class="kk io"> <em class="lg">第一个结果</em></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/f8b785c52d4461156249c57e789b5ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_qTWYBFF6B_husRycreWHw.png"/></div></div></figure><p id="e071" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第二步</em></strong>-<strong class="kk io">-<em class="lg">It</em><em class="lg">是</em> </strong>见过的<strong class="kk io"><em class="lg">Azure Active Directory</em></strong>(<strong class="kk io"><em class="lg">AD</em></strong>)<strong class="kk io"><em class="lg">服务</em> </strong>可以<strong class="kk io"> <em class="lg">使用</em></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/04ad841193bd401f3f8cafee8e7d6819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VJli1vxcV2V0wiGpe-RlqQ.png"/></div></div></figure><p id="d8e3" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">点击</em> </strong>上的<strong class="kk io"> <em class="lg">用户</em></strong><strong class="kk io"><em class="lg">菜单选项</em> </strong>。</p><p id="28c5" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第三步</em></strong>-<strong class="kk io">-<em class="lg">创建用户</em>-<strong class="kk io">-<em class="lg">新建</em> </strong> <strong class="kk io"> <em class="lg">用户</em> </strong>可以通过<strong class="kk io"> <em class="lg">添加</em> </strong>通过<strong class="kk io"> <em class="lg">点击</em> </strong>上的<strong class="kk io"> <em class="lg">新建用户<em class="lg"><strong class="kk io"> <em class="lg">密码</em></strong><strong class="kk io"><em class="lg">其他设置</em><strong class="kk io"><em class="lg">用户</em> </strong>可以从<strong class="kk io"><em class="lg"/></strong>管理<strong class="kk io"> <em class="lg">这里</em> </strong>。</strong></em></em></strong></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/ce9664f2396c7fd419ecdb1570e53900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*28Brgru4txzJh2KahWOARw.png"/></div></div></figure><p id="3028" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">信息相关</em> </strong>到<strong class="kk io"> <em class="lg">用户的签到</em> </strong>可以被<strong class="kk io"> <em class="lg">看到</em> </strong>通过<strong class="kk io"> <em class="lg">点击</em> </strong>上的<strong class="kk io"> <em class="lg">签到日志</em></strong><strong class="kk io"><em class="lg">下的</em>链接</strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/5f21bc995cd38af177e5d0e7fd162cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T22Re-wUf2ek4ZII5uXkcw.png"/></div></div></figure><p id="0291" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">信息相关</em> </strong>到<strong class="kk io"> <em class="lg">操作日志</em> </strong>可以通过<strong class="kk io"> <em class="lg">点击</em> </strong>上的<strong class="kk io"> <em class="lg">审计日志</em></strong><strong class="kk io"><em class="lg">下的</em></strong><strong class="kk io"><em class="lg">活动</em></strong><strong class="kk io"><em class="lg">类别</em> </strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/d412bdfab76baba623e0beee59f68a30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hq3qCX7w-bZXANHr3sftuw.png"/></div></div></figure><p id="e8c6" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">返回</em> </strong>和<strong class="kk io"> <em class="lg">点击<strong class="kk io"> <em class="lg">组上的</em></strong><strong class="kk io"><em class="lg">菜单选项</em> </strong>。</em></strong></p><p id="507d" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第四步</em></strong>-<strong class="kk io">-<em class="lg">创建群组</em>-<strong class="kk io">-<em class="lg">新建群组</em>-</strong>可以通过<strong class="kk io">-<em class="lg">添加</em>-</strong>通过<strong class="kk io">-<em class="lg">点击</em>-</strong>上的<strong class="kk io">--</strong>-<strong class="kk io">-<em class="lg">链接<strong class="kk io"> <em class="lg">内每组</em></strong><strong class="kk io"><em class="lg">多个用户</em> </strong>都可以通过<strong class="kk io"> <em class="lg">添加</em> </strong>。</em></strong></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/b4699a2fb6cb430099280a8e03418621.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZG92vVu7iucDap8mOXuWyQ.png"/></div></div></figure><p id="028d" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">如果</em></strong><strong class="kk io"><em class="lg"/></strong>的访问策略是<strong class="kk io"> <em class="lg">定义的</em> </strong>在一个<strong class="kk io">组</strong>中，那么<strong class="kk io"> <em class="lg">所有</em></strong><strong class="kk io"/>内的<strong class="kk io"><em class="lg">组</em> </strong>将</p><p id="cacd" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">返回</em> </strong>和<strong class="kk io"> <em class="lg">点击</em> </strong>上的<strong class="kk io"> <em class="lg"> App 注册</em></strong><strong class="kk io"><em class="lg">菜单选择</em> </strong>。</p><p id="2973" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">第五步- </em> </strong> <strong class="kk io"> <em class="lg">注册申请</em> </strong> - <strong class="kk io"> <em class="lg">申请</em> </strong>可以<strong class="kk io"> <em class="lg">注册</em> </strong>到<strong class="kk io"> <em class="lg">创建服务委托人</em> </strong>通过<strong class="kk io"> <em class="lg">点击</em> </strong>上的<strong class="kk io"> <em class="lg">新建注册</em><strong class="kk io"><em class="lg">链接</em> </strong></strong></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nr"><img src="../Images/181bb654b8158c81d8548eeb2213a1cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*frQgFZZPivKaqldz9kRoNA.jpeg"/></div></div></figure></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="08f7" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi mu translated"><span class="l mv mw mx bm my mz na nb nc di">A</span><strong class="kk io"><em class="lg">Azure Active Directory 的优点</em></strong>(<strong class="kk io"><em class="lg">AD</em></strong>)—</p><p id="49ee" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"><em class="lg">【A】</em></strong><strong class="kk io"><em class="lg">真实影响</em><strong class="kk io"><em class="lg">使用</em></strong><strong class="kk io"><em class="lg">Azure Active Directory</em></strong>(<strong class="kk io"><em class="lg"/></strong>)<strong class="kk io"><em class="lg">认证</em> </strong>那是<strong class="kk io"> <em class="lg">凭证</em></strong></strong></p><p id="93db" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">示例</em> </strong> : <strong class="kk io"> <em class="lg">有</em> </strong>是一个<strong class="kk io"> <em class="lg"> web 应用</em> </strong>，<strong class="kk io"> <em class="lg">运行</em> </strong>在<strong class="kk io"> <em class="lg"> Azure App 服务</em> </strong>，<strong class="kk io"> <em class="lg">其中</em> </strong>需要</p><p id="f87b" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg"> B) </em> </strong>在这种情况下，<em class="lg"/><strong class="kk io"><em class="lg">存储账户访问密钥</em> </strong>被<strong class="kk io"> <em class="lg">需要</em></strong><strong class="kk io"><em class="lg">存储在<strong class="kk io"> <em class="lg">配置文件</em> </strong>中。<strong class="kk io"> <em class="lg">从</em> </strong>一个<strong class="kk io"> <em class="lg">的安全角度来看</em> </strong>，有<strong class="kk io"> <em class="lg">的应用使用</em></strong><strong class="kk io"><em class="lg"/></strong>的存储帐户访问密钥是<strong class="kk io"><em class="lg"/></strong>。</em></strong></p><p id="32c7" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">更有可能是</em> </strong>，一个<strong class="kk io"> <em class="lg">共享访问签名</em></strong>(<strong class="kk io"><em class="lg">SAS</em></strong>)被<strong class="kk io"> <em class="lg">需要</em> </strong>被<strong class="kk io"> <em class="lg">存储</em> </strong>即每次  <strong class="kk io"> <em class="lg">被</em>更新<strong class="kk io"> <em class="lg">从<strong class="kk io"> <em class="lg">的</em> </strong>维护点查看</em></strong><strong class="kk io"><em class="lg"/></strong>到<strong class="kk io"> <em class="lg">更新 SAS 令牌全部结束</em></strong><strong class="kk io"><em class="lg">处</em> </strong>容易出错<strong class="kk io"/><strong class="kk io"><em class="lg">耗时</em></strong></strong></p><p id="a5d0" class="pw-post-body-paragraph ki kj in kk b kl lj kn ko kp lk kr ks kt lx kv kw kx ly kz la lb lz ld le lf ig bi translated"><strong class="kk io"> <em class="lg">使用 Azure Active Directory</em></strong>(<strong class="kk io"><em class="lg">AD</em></strong>)<strong class="kk io"><em class="lg">认证</em> </strong>到<strong class="kk io"> <em class="lg">认证</em></strong><strong class="kk io"><em class="lg">授权应用</em> </strong>到<strong class="kk io"> <em class="lg">访问 Azure 存储帐户</em> </strong></p></div></div>    
</body>
</html>