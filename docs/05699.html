<html>
<head>
<title>Code Smell 90 — Implementative Callback Events</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味90 —实现性回调事件</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-smell-90-implementative-callback-events-df1d2b371087?source=collection_archive---------6-----------------------#2021-10-07">https://blog.devgenius.io/code-smell-90-implementative-callback-events-df1d2b371087?source=collection_archive---------6-----------------------#2021-10-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/5ef22c600bf3a9548fde833538a0d7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SzAsUI-YiYB8OZmv1KDV4w.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">Ashim D'Silva 在<a class="ae jz" href="https://unsplash.com/s/photos/button-pressed" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="1503" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">在创建事件时，我们应该将触发器与动作分离。</em></p><blockquote class="kz la lb"><p id="448b" class="ka kb ky kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">TL；DR:根据发生的事情说出你的函数。</p></blockquote><h1 id="0da2" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">问题</h1><ul class=""><li id="1642" class="md me in kc b kd mf kh mg kl mh kp mi kt mj kx mk ml mm mn bi translated"><a class="ae jz" href="https://en.wikipedia.org/wiki/Observer_pattern" rel="noopener ugc nofollow" target="_blank">观察者模式</a>违反</li><li id="85b7" class="md me in kc b kd mo kh mp kl mq kp mr kt ms kx mk ml mm mn bi translated">连接</li></ul><h1 id="20a6" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">解决方法</h1><ol class=""><li id="6765" class="md me in kc b kd mf kh mg kl mh kp mi kt mj kx mt ml mm mn bi translated">以“发生了什么”来命名事件，而不是“你应该做什么”。</li></ol><h1 id="a740" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">示例代码</h1><h1 id="a9bb" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">错误的</h1><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="dfd9" class="nd lg in mz b gy ne nf l ng nh">const Item = ({name, handlePageChange)} =&gt;<br/>  &lt;li onClick={handlePageChange}&gt;<br/>    {name}<br/>  &lt;/li&gt;</span><span id="06c2" class="nd lg in mz b gy ni nf l ng nh">//handlePageChange is coupled to what you decide to do<br/>//instead of what really happened<br/>//<br/>//We cannot reuse this kind of callbacks</span></pre><h1 id="93f8" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">对吧</h1><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="d8ce" class="nd lg in mz b gy ne nf l ng nh">const Item = ({name, onItemSelected)} =&gt;<br/>  &lt;li onClick={onItemSelected}&gt;<br/>    {name}<br/>  &lt;/li&gt;</span><span id="b922" class="nd lg in mz b gy ni nf l ng nh">//onItemSelected will be called just when a item was selected. KISS<br/>//Parent can decide what to do (or do nothing)<br/>//We defer the decision</span></pre><h1 id="1144" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">侦查</h1><p id="06a2" class="pw-post-body-paragraph ka kb in kc b kd mf kf kg kh mg kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">这是一种语义气味。我们可以在同行代码评审中发现它。</p><h1 id="b54e" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">标签</h1><ul class=""><li id="aa96" class="md me in kc b kd mf kh mg kl mh kp mi kt mj kx mk ml mm mn bi translated">连接</li><li id="18b0" class="md me in kc b kd mo kh mp kl mq kp mr kt ms kx mk ml mm mn bi translated">命名</li></ul><h1 id="454f" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="9f6e" class="pw-post-body-paragraph ka kb in kc b kd mf kf kg kh mg kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">名字很重要。我们应该将耦合名称的实现推迟到最后一刻。</p><h1 id="ecde" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">更多信息</h1><ul class=""><li id="2b39" class="md me in kc b kd mf kh mg kl mh kp mi kt mj kx mk ml mm mn bi translated"><a class="ae jz" href="https://medium.com/dev-genius/what-exactly-is-a-name-part-i-the-quest-b812a4b1e0bf" rel="noopener">名字里到底有什么</a></li></ul><h1 id="c38d" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">信用</h1><p id="975e" class="pw-post-body-paragraph ka kb in kc b kd mf kf kg kh mg kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">Ashim D'Silva 在<a class="ae jz" href="https://unsplash.com/s/photos/button-pressed" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p><p id="c8cf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢Maciej的提示</p><figure class="mu mv mw mx gt jo"><div class="bz fp l di"><div class="nm nn l"/></div></figure></div><div class="ab cl no np hr nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ig ih ii ij ik"><blockquote class="kz la lb"><p id="d018" class="ka kb ky kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">除了基本的数学能力，优秀的程序员和伟大的程序员之间的区别是语言能力。</p></blockquote><p id="3d73" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">玛丽莎·梅耶</em></p><div class="nv nw gp gr nx ny"><a rel="noopener  ugc nofollow" target="_blank" href="/software-engineering-great-quotes-3af63cea6782"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">软件工程名言</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">blog.devgenius.io</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om jt ny"/></div></div></a></div></div><div class="ab cl no np hr nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ig ih ii ij ik"><p id="2f76" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本文是CodeSmell系列的一部分。</p><div class="nv nw gp gr nx ny"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">如何找到你的代码中有问题的部分</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">blog.devgenius.io</p></div></div><div class="oh l"><div class="on l oj ok ol oh om jt ny"/></div></div></a></div></div></div>    
</body>
</html>