<html>
<head>
<title>How to use AWS DynamoDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 AWS DynamoDB</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-use-aws-dynamodb-dc646943f6ac?source=collection_archive---------7-----------------------#2022-10-01">https://blog.devgenius.io/how-to-use-aws-dynamodb-dc646943f6ac?source=collection_archive---------7-----------------------#2022-10-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/33c2f821c861c124a124a16a7cd301e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mgNrvGI5ilzkMQ7xU47Mjg.png"/></div></div></figure><h1 id="85fc" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">什么是 DynamoDB？</h1><p id="2f0c" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">DynamoDB 是一种快速灵活的 NoSQL 数据库服务，适用于任何规模下需要一致的单位数毫秒延迟的所有应用程序。其灵活的数据模型和可靠的性能使 DynamoDB 非常适合移动、web、游戏、广告技术、物联网和其他应用。</p><h1 id="04cc" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">优势和特点</h1><h2 id="196f" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">规模化性能</h2><p id="dc7f" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">DynamoDB 通过在任何规模下提供一致的单位数毫秒响应时间，支持世界上一些最大规模的应用程序。您可以构建具有几乎无限吞吐量和存储的应用程序。</p><h2 id="cdd6" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">没有要管理的服务器</h2><p id="a4ec" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">DynamoDB 是无服务器的。您不必供应、修补或管理服务器，也不必安装、维护或操作软件。DynamoDB 自动缩放表，以调整容量并保持性能。</p><h2 id="63a1" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">企业就绪</h2><p id="f6ee" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">DynamoDB 是为任务关键型工作负载构建的，包括对需要复杂业务逻辑的各种应用程序的 ACID 事务的支持。</p><p id="cb54" class="pw-post-body-paragraph kt ku in kv b kw md ky kz la me lc ld le mf lg lh li mg lk ll lm mh lo lp lq ig bi translated">字体:<a class="ae mi" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html" rel="noopener ugc nofollow" target="_blank"> AWS DynamoDB </a></p><h1 id="6a67" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">项目</h1><ul class=""><li id="77c9" class="mj mk in kv b kw kx la lb le ml li mm lm mn lq mo mp mq mr bi translated">使用 Amazon CLI 创建一个 DynamoDB 表</li><li id="44d5" class="mj mk in kv b kw ms la mt le mu li mv lm mw lq mo mp mq mr bi translated">插入数据</li><li id="d0bf" class="mj mk in kv b kw ms la mt le mu li mv lm mw lq mo mp mq mr bi translated">创建辅助全局索引</li><li id="7486" class="mj mk in kv b kw ms la mt le mu li mv lm mw lq mo mp mq mr bi translated">执行表格搜索</li></ul><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/462a5a0eeff8a7cc15b734ef926644a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TZupQRV93DWLdKBQOlEBgw.png"/></div></div></figure><h1 id="7dcf" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">创建表格:音乐</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="8131" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb create-table \<br/> — table-name Music \<br/> — attribute-definitions \<br/> AttributeName=Artist,AttributeType=S \<br/> AttributeName=SongTitle,AttributeType=S \<br/> — key-schema \<br/> AttributeName=Artist,KeyType=HASH \<br/> AttributeName=SongTitle,KeyType=RANGE \<br/> — provisioned-throughput \<br/> ReadCapacityUnits=10,WriteCapacityUnits=5</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/1e64a14939ec1976144d37ba00a87896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GrO_Tr5PKeZcDEDHw7HK-Q.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">AWS 控制台中的表格视图</figcaption></figure><h1 id="fe4c" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">在表格中插入数据</h1><h2 id="d4a1" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">仅插入一个项目进行测试</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a8644f2203c0a1d7dea8ba73d3ec45af.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*TCyjrsLZZmzX9nXa5tZ2Lw.png"/></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">itemmusic.json 视图</figcaption></figure><h2 id="b46e" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">AWS CLI</h2><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="3d03" class="lr jw in nc b gy ng nh l ni nj"><br/>aws dynamodb put-item \<br/>    --table-name Music \<br/>    --item file://itemmusic.json \</span></pre><h2 id="95ca" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">结果</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nq"><img src="../Images/edfa6721fc877fa8fcfb37a989146d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLIOds2CcENFsY1RuSlELA.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">表中的项目 ad</figcaption></figure><h2 id="eb87" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">插入多个项目</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nr"><img src="../Images/7b062aa5f3a243572895c5f9460470f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BztG_-3rNupqjVlBinHLCw.png"/></div></div></figure><h2 id="081c" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">AWS CLI</h2><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="e733" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb batch-write-item \<br/>    --request-items file://batchmusic.json</span></pre><h2 id="98e5" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">结果</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ns"><img src="../Images/db91211bc54e1e6e14667bdf0fc615a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*av5P8t80YMsxI4LWXo5qLg.png"/></div></div></figure><h1 id="fd30" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">基于相册标题创建二级全局索引</h1><h2 id="7b62" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">AWS CLI 命令</h2><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="5f51" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb update-table \<br/>    --table-name Music \<br/>    --attribute-definitions AttributeName=AlbumTitle,AttributeType=S \<br/>    --global-secondary-index-updates \<br/>        "[{\"Create\":{\"IndexName\": \"AlbumTitle-index\",\"KeySchema\":[{\"AttributeName\":\"AlbumTitle\",\"KeyType\":\"HASH\"}], \<br/>        \"ProvisionedThroughput\": {\"ReadCapacityUnits\": 10, \"WriteCapacityUnits\": 5      },\"Projection\":{\"ProjectionType\":\"ALL\"}}}]"</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nt"><img src="../Images/cb92767638ff55a1e18493a13f78fee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Z6LxXgIdSIvEYcB1izkKA.png"/></div></div></figure><h1 id="8864" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">基于艺术家的名字和专辑标题创建一个二级全局索引</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="1d4d" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb update-table \<br/>    --table-name Music \<br/>    --attribute-definitions\<br/>        AttributeName=Artist,AttributeType=S \<br/>        AttributeName=AlbumTitle,AttributeType=S \<br/>    --global-secondary-index-updates \<br/>        "[{\"Create\":{\"IndexName\": \"ArtistAlbumTitle-index\",\"KeySchema\":[{\"AttributeName\":\"Artist\",\"KeyType\":\"HASH\"}, {\"AttributeName\":\"AlbumTitle\",\"KeyType\":\"RANGE\"}], \<br/>        \"ProvisionedThroughput\": {\"ReadCapacityUnits\": 10, \"WriteCapacityUnits\": 5      },\"Projection\":{\"ProjectionType\":\"ALL\"}}}]"</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/308821004aba564ad3222528b8c8c72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0XqVw6oUgCSwbJDBQjOzfQ.png"/></div></div></figure><h1 id="47bd" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">根据歌曲名称和年份创建二级全球索引</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="8740" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb update-table \<br/>    --table-name Music \<br/>    --attribute-definitions\<br/>        AttributeName=SongTitle,AttributeType=S \<br/>        AttributeName=SongYear,AttributeType=S \<br/>    --global-secondary-index-updates \<br/>        "[{\"Create\":{\"IndexName\": \"SongTitleYear-index\",\"KeySchema\":[{\"AttributeName\":\"SongTitle\",\"KeyType\":\"HASH\"}, {\"AttributeName\":\"SongYear\",\"KeyType\":\"RANGE\"}], \<br/>        \"ProvisionedThroughput\": {\"ReadCapacityUnits\": 10, \"WriteCapacityUnits\": 5      },\"Projection\":{\"ProjectionType\":\"ALL\"}}}]"</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nv"><img src="../Images/1a1db27e7a72f38e5104f714a46b3e97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CYJ9vReBQ064cA4c9gy-HA.png"/></div></div></figure><h1 id="aff2" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">按艺术家搜索项目</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="ba9c" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb query \<br/>    --table-name Music \<br/>    --key-condition-expression "Artist = :artist" \<br/>    --expression-attribute-values  '{":artist":{"S":"Iron Maiden"}}'</span></pre><h2 id="b1a4" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">结果</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/c124cc0a37f25924c26bc3d7ac210747.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*I2ZnBvUuhw5HwlaqIvYCZw.png"/></div></figure><h1 id="401a" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">按艺术家和歌曲名称搜索项目</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="93d2" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb query \<br/>    --table-name Music \<br/>    --key-condition-expression "Artist = :artist and SongTitle = :title" \<br/>    --expression-attribute-values file://keyconditions.json</span></pre><h2 id="0c71" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">结果</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/35c7571d02c258478f0c87e571161359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*oXVQ0VuIVjRd_VVEcQPWUQ.png"/></div></figure><h1 id="d696" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">根据专辑标题通过二级索引进行搜索</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="2e81" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb query \<br/>    --table-name Music \<br/>    --index-name AlbumTitle-index \<br/>    --key-condition-expression "AlbumTitle = :name" \<br/>    --expression-attribute-values  '{":name":{"S":"Fear of the Dark"}}'</span></pre><h2 id="db91" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">结果</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/62595f3232037db5e0563aa12a304c5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*uvxgPxM6sEVDt1HP3BVrkw.png"/></div></figure><h1 id="58c5" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">基于艺术家姓名和专辑名称的二级索引搜索</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="8f38" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb query \<br/>    --table-name Music \<br/>    --index-name ArtistAlbumTitle-index \<br/>    --key-condition-expression "Artist = :v_artist and AlbumTitle = :v_title" \<br/>    --expression-attribute-values  '{":v_artist":{"S":"Iron Maiden"},":v_title":{"S":"Fear of the Dark"} }'</span></pre><h2 id="69ad" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">结果</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nz"><img src="../Images/0521df80d03952148495efe62872873e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dZ33U0NthMf8sEQtXlHzYg.png"/></div></div></figure><h1 id="1b0c" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">根据歌曲名称和年份通过二级索引进行搜索</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="5ff1" class="lr jw in nc b gy ng nh l ni nj">aws dynamodb query \<br/>    --table-name Music \<br/>    --index-name SongTitleYear-index \<br/>    --key-condition-expression "SongTitle = :v_song and SongYear = :v_year" \<br/>    --expression-attribute-values  '{":v_song":{"S":"Wasting Love"},":v_year":{"S":"1992"} }'</span></pre><h2 id="3153" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">结果</h2><figure class="mx my mz na gt jo gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/9215bbebce7cb361846c5781a375248e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*Mjbh7lkxsFpk2lGYffobeQ.png"/></div></figure><h1 id="8392" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="89a6" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">这是一个简单的项目，展示了如何使用 DynamoDB 数据库。DynamoDB 是一个快速灵活的数据库。它提供大规模性能，无需管理服务器，并且是企业级的。</p><figure class="mx my mz na gt jo gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/6724a594dc3d9b4234d817a52a30eebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*txhd5-OfaU25kXrf.jpeg"/></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated"><a class="ae mi" href="https://www.linkedin.com/in/glauciodrumond/" rel="noopener ugc nofollow" target="_blank">格劳西奥·德拉蒙德</a></figcaption></figure><p id="1312" class="pw-post-body-paragraph kt ku in kv b kw md ky kz la me lc ld le mf lg lh li mg lk ll lm mh lo lp lq ig bi translated">【https://www.linkedin.com/in/glauciodrumond/ T4】</p></div></div>    
</body>
</html>