<html>
<head>
<title>Apache Kafka set-up on a local system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apache Kafka 在本地系统上的设置</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/apache-kafka-set-up-on-a-local-system-890c48202e64?source=collection_archive---------4-----------------------#2022-10-16">https://blog.devgenius.io/apache-kafka-set-up-on-a-local-system-890c48202e64?source=collection_archive---------4-----------------------#2022-10-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="ee93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 ubuntu 系统上安装 Kafka 的分步指南</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9673e22ae4c12d57bbeb9146269b6fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Zyb3TQkOhD1v-3ab"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">伊登·布德罗在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="bfe0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文将帮助您在本地 ubuntu 系统上运行 Apache Kafka。</p><p id="b1e1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这篇文章中不会有任何关于卡夫卡是如何工作的理解，我很确定有很多好文章可以帮助你理解卡夫卡的建筑和它的服务。</p><p id="b40a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们开始吧:</p><p id="206f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第一步:下载阿帕奇卡夫卡</strong></p><p id="93cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，当然你需要下载卡夫卡。使用此链接下载它。</p><div class="kz la gp gr lb lc"><a href="https://www.apache.org/dyn/closer.cgi?path=/kafka/3.3.1/kafka_2.13-3.3.1.tgz" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd io gy z fp lh fr fs li fu fw im bi translated">Apache 下载</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">我们建议您下载以下网站:https://dlcdn.apache.org/kafka/3.3.1/kafka_2.13-3.3.1.tgz 候补…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">www.apache.org</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="e184" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 2:设置 zookeeper 和 kafka-server </strong></p><p id="7188" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开您的终端并复制以下命令:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="9c49" class="lw lx in ls b gy ly lz l ma mb">wget <a class="ae ky" href="https://dlcdn.apache.org/kafka/3.3.1/kafka_2.13-3.3.1.tgz" rel="noopener ugc nofollow" target="_blank">https://dlcdn.apache.org/kafka/3.3.1/kafka_2.13-3.3.1.tgz</a><br/>tar -xvzf kafka_2.13-3.3.1.tgz<br/>cd kafka_2.13-3.3.1</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/68821735ea552e2983f5a6ce8fecf734.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/0*L5kAOeWIcWGpWTSI"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">解压缩 Kafka 目录后</figcaption></figure><p id="9065" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，如果您导航到 bin 目录，所有的<code class="fe md me mf ls b">.sh</code>文件都是可用的。使用这些文件，您可以创建集群和主题，启动 zookeeper，启动 Kafka 服务器，等等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/31f3044a0bf639994bf634e4f483742c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*cHdnp4bSCep8c08GazN1sg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">bin/目录</figcaption></figure><p id="080d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在初始化 Kafka 服务器之前，我们需要启动一个 zookeeper。通过运行下面的命令，我们可以启动动物园管理员。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="ad21" class="lw lx in ls b gy ly lz l ma mb">cd kafka_2.13-3.3.1<br/>bin/zookeeper-server-start.sh config/zookeeper.properties</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/2fa8ac1ddf40dd0f402c75fb1d96bc90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ANqAClWxqo6Pc7EO"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">经营动物园管理员</figcaption></figure><p id="9e20" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开一个新的终端，使用下面的命令运行 Kafka-server</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="e559" class="lw lx in ls b gy ly lz l ma mb">cd kafka_2.13-3.3.1<br/>bin/kafka-server-start.sh config/server.properties</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/5aa703f3b5b5ca694289af5dd4c38a4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/0*9DORvXcdMCVVA33k"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">运行 Kafka 服务器</figcaption></figure><p id="f81e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Zookeeper 运行在端口 2181 上，Kafka-server 运行在端口 9092 上。如果我们有任何特定的 IP 和端口，我们可以使用各自的<code class="fe md me mf ls b">.sh</code>文件来更改它。</p><p id="5ac3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">第三步:在第四步之前我们需要 JAVA</strong></p><p id="bedc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要设置集群管理器，我们需要在系统上安装 java。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="777b" class="lw lx in ls b gy ly lz l ma mb">java --version</span></pre><p id="de53" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果上面的命令给你一个错误，使用下面的命令安装 java。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="364c" class="lw lx in ls b gy ly lz l ma mb">sudo apt-get update<br/>sudo apt install default-jdk<br/>sudo apt install default-jre</span></pre><p id="3014" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行完所有三个命令后，检查<code class="fe md me mf ls b">java --version</code>，它应该会显示最新版本。</p><p id="c6d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">步骤 4:设置集群管理器</strong></p><p id="7a11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">基本上，我们有两个选项来启动集群管理器，一个是通过命令行使用那些<code class="fe md me mf ls b">.sh</code>文件，另一个是使用 CMAK 提供的接口。</p><p id="9b43" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">CMAK(Apache Kafka 的集群管理器)可从以下网址获得:</p><div class="kz la gp gr lb lc"><a href="https://github.com/yahoo/CMAK" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd io gy z fp lh fr fs li fu fw im bi translated">GitHub -雅虎/CMAK: CMAK 是一个管理 Apache Kafka 集群的工具</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">CMAK(以前称为 Kafka Manager)是一个管理 Apache Kafka 集群的工具。有关…的详细信息，请参见下文</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">github.com</p></div></div><div class="ll l"><div class="mj l ln lo lp ll lq ks lc"/></div></div></a></div><p id="b136" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个演示中，我们将使用 CMAK 接口。</p><p id="7ee3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">克隆 repo(在 Kafka 目录之外。)</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="d79c" class="lw lx in ls b gy ly lz l ma mb">git clone <a class="ae ky" href="https://github.com/yahoo/CMAK" rel="noopener ugc nofollow" target="_blank">https://github.com/yahoo/CMAK</a><br/>cd CMAK</span></pre><p id="fe4c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦你克隆了 CMAK 回购协议，</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="515f" class="lw lx in ls b gy ly lz l ma mb">cd CMAK<br/>./sbt clean dist</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/a06507de49886530b51e960880c43294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6AVHNu72IC_S0-o7"/></div></div></figure><p id="e99d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe md me mf ls b">./sbt clean dist</code>它会安装一些必要的目录和文件。</p><p id="0631" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">导航至<code class="fe md me mf ls b">cd target/universal/</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/f3f41527f1a6da685523db01d655b947.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*aYjcpBZP8TOzwIg2"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">导航到目标\通用</figcaption></figure><p id="a5a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">拉开<code class="fe md me mf ls b">cmak-3.0.0.5.zip</code></p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="9361" class="lw lx in ls b gy ly lz l ma mb">unzip cmak-3.0.0.5.zip<br/>cd cmak-3.0.0.5<br/>cd conf</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/c9b5e461a23adbc4b5b911790263edb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/0*Vi1Ipa-o6SBkFxoZ"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">会议目录列表</figcaption></figure><p id="be84" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将对<code class="fe md me mf ls b">application.conf</code>进行更改</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="0e2d" class="lw lx in ls b gy ly lz l ma mb">nano application.conf</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/bcf15e97e2e8b61ad55dd37f57f0ad01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nWsYWtOsm08HUG6gZMWfbA.png"/></div></div></figure><p id="d0ab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将高亮显示的一行更改为<code class="fe md me mf ls b">cmak.zkhosts="localhost:2181"</code>保存文件<code class="fe md me mf ls b">ctrl+x</code>T4。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/4c229248b40621346577513f3fa2cb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fn-cp9ons_f9eaLT"/></div></div></figure><p id="3908" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">导航到 CMAK 目录并运行集群管理器。</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="dd59" class="lw lx in ls b gy ly lz l ma mb">cd CMAK-3.0.0.5<br/>bin/cmak -Dconfig.file=conf/application.conf -Dhttp.port=8080</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/c437183dcb944658b5cab7e78109e4ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6muMB4b3o2S7n00FAEHyg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">集群管理器正在运行</figcaption></figure><p id="bc36" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">进入你的浏览器，输入<code class="fe md me mf ls b">localhost:8080</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/0d295b6de9d0ad1d06b7735cfb12eedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/0*ZXcuDEMME1o-Knnr"/></div></figure><p id="42e5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我已经创建了一个“示例”集群，您可以使用“添加集群”选项创建集群，然后您可以选择创建主题和其他服务。集群管理器有不同的度量选项，您可以自己尝试使用其中的一些。</p><p id="ea5f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嗯，这就是如何在本地系统上设置 Apache Kafka。确保所有三个终端 zookeeper、Kafka-server 和 Cluster manager 都在运行。</p><p id="07d0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">参考资料:</p><p id="0143" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">[1]<a class="ae ky" href="https://kafka.apache.org/quickstart#quickstart_download" rel="noopener ugc nofollow" target="_blank">https://kafka.apache.org/quickstart#quickstart_download</a></p><p id="f472" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ky" href="https://github.com/yahoo/CMAK" rel="noopener ugc nofollow" target="_blank">https://github.com/yahoo/CMAK</a></p></div></div>    
</body>
</html>