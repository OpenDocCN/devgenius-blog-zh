<html>
<head>
<title>What is the DRY principle?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是干原理？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-the-dry-principle-bb62a2ca156d?source=collection_archive---------7-----------------------#2022-12-08">https://blog.devgenius.io/what-is-the-dry-principle-bb62a2ca156d?source=collection_archive---------7-----------------------#2022-12-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2841" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated"><strong class="ak"><em class="kc">DRY 原则是一个软件开发原则，声明“不要重复自己”。</em> </strong></h2></div><h2 id="fc95" class="kd ke in bd kf kg kh dn ki kj kk dp kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">这个原则是基于这样的想法:多次编写相同的代码不仅会使代码更难维护，还会使代码更容易出错。</h2><p id="e303" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh km li lj lk kq ll lm ln ku lo lp lq lr ig bi translated">遵循 DRY 原则的一个主要好处就是可以在开发过程中节省大量的时间和精力。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi ls"><img src="../Images/3ce25edcf7b3b43b4c01d12bb8b694d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WGKswu37in6vlB6h"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">照片由<a class="ae mi" href="https://unsplash.com/@sigmund?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西格蒙德</a>在<a class="ae mi" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="cdf4" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">当您多次编写相同的代码时，您也必须多次编写、测试和调试该代码。通过<strong class="lb io">避免重复</strong>，你可以避免这些额外的工作，专注于项目的其他方面。</p><p id="690c" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">DRY 原则的另一个好处是它可以让你的代码更容易维护。如果您有相同代码的多个实例，那么很难跟踪所有的实例并确保它们在需要更改时都得到更新。<br/>通过将你的代码整合到<strong class="lb io">一个单独的位置</strong>，随着项目的进展，你可以更容易地维护和更新你的代码。</p><p id="bb44" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">此外，遵循 DRY 原则还可以使你的代码更加模块化和可重用。</p><p id="a240" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">当同一代码有多个实例时，很难在不影响项目其他部分的情况下更改该代码。通过避免重复，您可以创建无需重复即可在多个地方使用的代码模块。</p><p id="a434" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">总之，DRY 原则在软件开发中是一个很好的实践，因为它可以<strong class="lb io">在开发过程</strong>中节省时间和精力，使你的代码<strong class="lb io">更易于维护</strong>，并使<strong class="lb io">更易于调试</strong>。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="eeb3" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">下面是一个不遵循<strong class="lb io"> DRY </strong>原则的代码示例:</p><pre class="lt lu lv lw gt mv mw mx bn my mz bi"><span id="ffa1" class="na ke in mw b be nb nc l nd ne">function validateUsername(username) {<br/>  if (username.length &lt; 5) {<br/>    return false;<br/>  }<br/>  if (username.length &gt; 15) {<br/>    return false;<br/>  }<br/>  if (!username.match(/^[a-zA-Z0-9]+$/)) {<br/>    return false;<br/>  }<br/>  return true;<br/>}<br/><br/>function validatePassword(password) {<br/>  if (password.length &lt; 8) {<br/>    return false;<br/>  }<br/>  if (password.length &gt; 20) {<br/>    return false;<br/>  }<br/>  if (!password.match(/^[a-zA-Z0-9]+$/)) {<br/>    return false;<br/>  }<br/>  return true;<br/>}</span></pre><p id="7f39" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">在这些代码片段中，用于检查用户名和密码的长度和字符集的代码在<code class="fe nf ng nh mw b">validateUsername</code>和<code class="fe nf ng nh mw b">validatePassword</code>函数中是重复的。这不是<strong class="lb io"> <em class="ni">干顺</em> </strong>。</p><p id="9f20" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">为了纠正这段代码并遵循<strong class="lb io"> DRY </strong>原则，我们可以创建一个单独的<code class="fe nf ng nh mw b">validateString</code>函数来检查字符串的长度和字符集，并在<code class="fe nf ng nh mw b">validateUsername</code>和<code class="fe nf ng nh mw b">validatePassword</code>函数中使用该函数，如下所示:</p><pre class="lt lu lv lw gt mv mw mx bn my mz bi"><span id="112c" class="na ke in mw b be nb nc l nd ne">function validateString(str, minLength, maxLength, regex) {<br/>  if (str.length &lt; minLength) {<br/>    return false;<br/>  }<br/>  if (str.length &gt; maxLength) {<br/>    return false;<br/>  }<br/>  if (!str.match(regex)) {<br/>    return false;<br/>  }<br/>  return true;<br/>}<br/><br/>function validateUsername(username) {<br/>  return validateString(username, 5, 15, /^[a-zA-Z0-9]+$/);<br/>}<br/><br/>function validatePassword(password) {<br/>  return validateString(password, 8, 20, /^[a-zA-Z0-9]+$/);<br/>}</span></pre><p id="d292" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">现在，字符串验证代码不再重复，并遵循 DRY 原则。</p><p id="33d9" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">我们甚至可以为它写一个测试！</p><pre class="lt lu lv lw gt mv mw mx bn my mz bi"><span id="39a2" class="na ke in mw b be nb nc l nd ne">describe("validateString", () =&gt; {<br/>  it("should return true for a valid string", () =&gt; {<br/>    const str = "abc123";<br/>    const minLength = 1;<br/>    const maxLength = 10;<br/>    const regex = /^[a-zA-Z0-9]+$/;<br/>    expect(validateString(str, minLength, maxLength, regex)).toBe(true);<br/>  });<br/><br/>  it("should return false for a string that is too short", () =&gt; {<br/>    const str = "abc";<br/>    const minLength = 5;<br/>    const maxLength = 10;<br/>    const regex = /^[a-zA-Z0-9]+$/;<br/>    expect(validateString(str, minLength, maxLength, regex)).toBe(false);<br/>  });<br/><br/>  it("should return false for a string that is too long", () =&gt; {<br/>    const str = "abcdefghijklmnopqrstuvwxyz";<br/>    const minLength = 1;<br/>    const maxLength = 10;<br/>    const regex = /^[a-zA-Z0-9]+$/;<br/>    expect(validateString(str, minLength, maxLength, regex)).toBe(false);<br/>  });<br/><br/>  it("should return false for a string that contains invalid characters", () =&gt; {<br/>    const str = "abc!@#";<br/>    const minLength = 1;<br/>    const maxLength = 10;<br/>    const regex = /^[a-zA-Z0-9]+$/;<br/>    expect(validateString(str, minLength, maxLength, regex)).toBe(false);<br/>  });<br/>});</span></pre><p id="4db9" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">这个测试用例将验证<code class="fe nf ng nh mw b">validateString</code>函数对于有效的字符串返回<code class="fe nf ng nh mw b">true</code>，对于过短或过长的字符串返回<code class="fe nf ng nh mw b">false</code>，对于包含无效字符的字符串返回<code class="fe nf ng nh mw b">false</code>。</p><p id="b416" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">对于非干代码段，我们将不得不单独测试所有验证字符串的函数。使用<code class="fe nf ng nh mw b">validateString</code>函数，我们集中了验证逻辑，从而使我们的代码更安全、更易于测试。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="7e57" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">就是这样！🥳</p><p id="9e6f" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">希望你现在更好的理解干原理的来龙去脉！</p><p id="b9c0" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">如果你喜欢这个内容，看看我的其他帖子，你可能会发现一些有趣的东西！</p><p id="5d6d" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">此外，如果你希望支持我，你可以关注我的帐户，我主要写编程和一般技术。</p><p id="1eb1" class="pw-post-body-paragraph kz la in lb b lc mj jo le lf mk jr lh km ml lj lk kq mm lm ln ku mn lp lq lr ig bi translated">回头见！</p></div></div>    
</body>
</html>