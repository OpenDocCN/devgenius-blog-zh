<html>
<head>
<title>Implement Sign-In with Google in a SwiftUI App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 SwiftUI 应用中使用 Google 实现登录</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/implement-sign-in-with-google-in-a-swiftui-app-4870fae8d42c?source=collection_archive---------3-----------------------#2020-08-12">https://blog.devgenius.io/implement-sign-in-with-google-in-a-swiftui-app-4870fae8d42c?source=collection_archive---------3-----------------------#2020-08-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c901" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用 UIViewRepresentable 显示社交签到按钮和界面</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/11be60b7c06ede41f91db616c5203dbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Cyt8oKAp3z_CW_EnYEa4Q.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">麦克斯韦·尼尔森在 T2 的照片</figcaption></figure><p id="2c9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大家好，</p><p id="0974" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我将分享如何在 SwiftUI 项目中实现“使用 Google 登录”(或其他社交登录)。</p><p id="005b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，社交登录按钮和流程只能使用 UIKit 中的视图控制器来实现。因此，我们将使用 UIViewRepresentable 为它们创建 SwiftUI 视图，以实现我们项目中的功能。</p><blockquote class="lc ld le"><p id="15e2" class="jn jo lf jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated">我们特别实现了与 Google 的登录，然而，这个概念仍然适用于实现其他提供者(例如，与 GitHub 的登录)。</p></blockquote><p id="f2de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好，让我们一步一步来——</p><h1 id="2053" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">1.安装所需的依赖项并设置项目</h1><p id="cb43" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">请访问 Google 官方文档网站，按照初始步骤设置您的项目以使用 Google Auth。</p><div class="mm mn gp gr mo mp"><a href="https://developers.google.com/identity/sign-in/ios/start-integrating" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">开始将谷歌登录整合到你的 iOS 应用中</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">在您开始将您的 iOS 应用程序与 Google 登录组件集成之前，您必须下载依赖项…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">developers.google.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd kv mp"/></div></div></a></div><h1 id="818b" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">2.从文档中按原样添加 AppDelegate 代码</h1><p id="db7e" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">请访问此页面并添加按原样给出的 AppDelegate 代码。</p><div class="mm mn gp gr mo mp"><a href="https://developers.google.com/identity/sign-in/ios/sign-in?ver=swift" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">将 Google 登录集成到您的 iOS 应用|适用于 iOS 的 Google 登录</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">Google Sign-In 管理 OAuth 2.0 流和令牌生命周期，简化您与 Google APIs 的集成。下载…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">developers.google.com</p></div></div><div class="my l"><div class="ne l na nb nc my nd kv mp"/></div></div></a></div><h1 id="330d" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">3.包装 SwiftUI 的登录按钮和流程</h1><p id="81ee" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">上面的文档页面(我们已经在步骤 2 中使用过)包含了从开始到结束所需的所有步骤(四个步骤)。除此之外，我们已经完成了前两步(直到“启用登录”)。</p><p id="ce1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">文档中的步骤 3 和 4(“添加登录按钮”和“注销用户”)都是针对视图控制器的。我们将在这里通过使用 UIViewRepresentable 将它们包装成 SwiftUI 视图来涵盖这两者。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="f91c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">GoogleSignInButton 结构是按钮的视图(特别是对于 Google，另一个提供者的按钮需要一个新的视图)。</p><p id="cc81" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">SocialLogin 结构是负责社交登录提供者流的 UI 的视图。这是一个通用视图，可以封装所有不同提供者的 ui。</p><p id="8443" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">目前，我们有调用 Google 登录流的尝试登录方法。类似地，我们可以有一个可以调用 GitHub 登录流的 attemptLoginGitHub 方法。</p><h1 id="1eba" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">4.在 SwiftUI 应用中使用</h1><p id="2519" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">所有的设置都已完成，现在我们可以简单地使用登录按钮，获得提供商的 UI 流，如下所示</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nf ng l"/></div></figure><blockquote class="nh"><p id="55c2" class="ni nj iq bd nk nl nm nn no np nq kk dk translated">就这样，完成了！</p></blockquote></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ny"><img src="../Images/de40e25383aa3788565cbae18dcbddb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JjqOscxmqh--sk2lvAXkzQ.gif"/></div></div></figure><h1 id="d434" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">感谢您的阅读！</h1><p id="436f" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated"><em class="lf">请随时与我联系并联系，查看我们的项目，或者加入我们的开源社区:<br/></em><a class="ae lb" href="https://www.linkedin.com/in/yugantar-jain-1a7820158/" rel="noopener ugc nofollow" target="_blank"><em class="lf">LinkedIn</em></a><em class="lf">，</em><a class="ae lb" href="http://github.com/yugantarjain" rel="noopener ugc nofollow" target="_blank"><em class="lf">GitHub</em></a><em class="lf">，</em> <a class="ae lb" href="https://github.com/anitab-org/mentorship-ios" rel="noopener ugc nofollow" target="_blank"> <em class="lf">导师 iOS </em> </a> <em class="lf">，</em><a class="ae lb" href="https://anitab-org.zulipchat.com" rel="noopener ugc nofollow" target="_blank"><em class="lf">AnitaB.org 社区</em> </a></p></div></div>    
</body>
</html>