<html>
<head>
<title>Data Manipulation with SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 SQL 进行数据操作</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/sql-for-data-manipulation-86994d2682d1?source=collection_archive---------4-----------------------#2022-11-01">https://blog.devgenius.io/sql-for-data-manipulation-86994d2682d1?source=collection_archive---------4-----------------------#2022-11-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f83fa25c2c9f90d60c56094f0183615e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dUvHMBHgV9x25VpEqVTgww.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片由<a class="ae jz" href="https://www.toptal.com/database/database-design-bad-practices" rel="noopener ugc nofollow" target="_blank"><strong class="bd ka">Toptal</strong>T3】提供</a></figcaption></figure><p id="6257" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">我相信你已经听过无数次了，如果你想做数据分析或数据科学，就要学习 T4 SQL。 It <strong class="kd io"/></p><p id="a8ac" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kd io"> SQL(结构化查询语言)</strong>是访问和操作数据库的标准语言。</p><p id="c437" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kd io"> RDBMS(关系数据库管理系统)</strong>是 SQL 和所有现代数据库系统(如 MS SQL Server、IBM DB2、Oracle、MySQL 和 Microsoft Access)的基础。<strong class="kd io"> RDBMS </strong>中的数据存储在名为<strong class="kd io">表</strong>的数据库对象中。一个<strong class="kd io">表</strong>是<strong class="kd io">相关数据条目</strong>的集合，由<strong class="kd io">列</strong>和<strong class="kd io">行</strong>组成。</p><p id="e3e9" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">既然我们已经完成了基本的介绍，以及它是什么和它在起什么作用，让我们来看看它能做的<strong class="kd io">数据操作</strong>。</p><h1 id="1bde" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">SQL 查询执行表，</h1><p id="debb" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">查询执行顺序意味着从数据库中优化搜索结果查询的过程。如果所有查询都出现在将首先执行的查询中，则它们的执行顺序。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/5dc0e7b75740946144d1a0877080fe94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I7pO_mJ62WlCF6Bh5cD18Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询执行表由<a class="ae jz" href="https://www.scaler.com/topics/sql/sql-query-execution-order/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka">标量主题</strong> </a>提供</figcaption></figure><h1 id="9ad9" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">SQL 关键字表，</h1><p id="1829" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">根据核心目标，出现在<strong class="kd io"> SQL </strong>中的<strong class="kd io">关键字</strong>列表。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/6304615c5cd815e51548ce85a33f642c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lNmlmXy-0RdCDx3iBEcY6w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片来自<a class="ae jz" href="https://www.linkedin.com/pulse/sql-keywords-kiran-kumar-matam/?trk=public_post-content_share-article" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka"> LinkedIn </strong> </a></figcaption></figure><h1 id="2be9" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">创建表格，</strong></h1><p id="565a" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">所有的数据讨论都是好的，但我们需要实际拥有它，这时我们意识到我们需要创建数据表，所以我们向其中添加数据，<strong class="kd io"> SQL </strong>有命令<strong class="kd io">创建表。</strong></p><p id="b200" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="67f7" class="mm la in mi b gy mn mo l mp mq">CREATE TABLE Admins (<br/> AdminID int,<br/> accessLvl varchar(255)<br/>);</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/24a50c4f604083f50c555c44cbea5d89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*6svWKmtX8iL9KH2ZUAw1dA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="99aa" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io">表</strong>学生是用<strong class="kd io"> id </strong>和<strong class="kd io">名称</strong>列创建的。</p><h1 id="7da5" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">从所有列中检索数据，</strong></h1><p id="8bcc" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated"><strong class="kd io"> SQL </strong>的一个最基本的查询用于显示表中的所有数据。<strong class="kd io">选择</strong>选择元素，<strong class="kd io"> * </strong>(表示<strong class="kd io">所有列，</strong>)表示从<strong class="kd io">表</strong>中选择所有列。</p><p id="7d6a" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="41aa" class="mm la in mi b gy mn mo l mp mq">SELECT * FROM insects;</span></pre><p id="8281" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io">选择并显示了表<strong class="kd io">昆虫</strong>的所有列</strong>。</p><h1 id="7b82" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">从某些列中检索数据，</h1><p id="8c97" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">在上面的查询示例中，显示了表中昆虫的所有列，这并不总是需要的，我们不希望这个巨大的昆虫的名字总是困扰着我们。所以我们从表中选择并检索特定的列。</p><p id="6d9d" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="d115" class="mm la in mi b gy mn mo l mp mq">SELECT id, native_place FROM insects;</span></pre><p id="dc34" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，选择并显示了表<strong class="kd io">昆虫</strong>的<strong class="kd io"> id </strong>和<strong class="kd io">籍贯</strong>列。</p><h1 id="fa61" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用 WHERE 子句筛选数据，</h1><p id="cdca" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">现在向前迈进一步，增加了一个数据过滤元素，即<strong class="kd io">，其中</strong>根据特定条件过滤列。</p><p id="06c6" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="34f5" class="mm la in mi b gy mn mo l mp mq">SELECT id, native_place, color FROM insects WHERE color = black;</span></pre><p id="8529" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的示例查询中，选择了表<strong class="kd io">昆虫</strong>的<strong class="kd io"> id、native_place、</strong>和<strong class="kd io">颜色</strong>列，并显示颜色为<strong class="kd io">黑色</strong>的列。</p><h1 id="7feb" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用由 AND 运算符连接的条件过滤数据，</h1><p id="a55b" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">说实话，生活并不容易，我相信你也同意这些疑问。当你检索它们的时候，你不会只得到一个条件来排序，就像你去年得到的贷款列表一样。这时<strong class="kd io">和</strong>操作员出现了。它让你根据两个条件过滤数据。</p><p id="8c16" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="81df" class="mm la in mi b gy mn mo l mp mq">SELECT id, native_place, color, name  FROM insects WHERE color = black AND name = 'beetle';</span></pre><p id="8bb3" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，选择了表<strong class="kd io">昆虫</strong>的<strong class="kd io"> id、籍贯、颜色、</strong>和<strong class="kd io">名称</strong>列，将显示颜色为<strong class="kd io">黑色</strong>以及名称为<strong class="kd io">甲虫</strong>的列。</p><h1 id="5eb8" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用 OR 运算符连接的条件筛选数据，</h1><p id="e5bd" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated"><strong class="kd io">和</strong>操作器只有在<strong class="kd io">和</strong>两个条件都满足时才工作，但并不总是需要。有时候，满足一个条件也是必要的，比如买一件 t 恤而不是两件来管理你的奢侈品预算。</p><p id="0c86" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">也就是说，当<strong class="kd io">或</strong>操作符进入画面时，即使<strong class="kd io">满足一个</strong>条件，它也会过滤数据。</p><p id="fa82" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="ffcf" class="mm la in mi b gy mn mo l mp mq">SELECT id, native_place, color, name  FROM insects WHERE color = black OR name = 'beetle';</span></pre><p id="8a6f" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，选择了表<strong class="kd io">昆虫</strong>的<strong class="kd io"> id、籍贯、颜色、</strong>和<strong class="kd io">名称</strong>列，将显示颜色为<strong class="kd io">黑色</strong>或名称为<strong class="kd io">甲虫</strong>的列。</p><h1 id="00a7" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用 DISTINCT 检索不重复的记录，</h1><p id="08ce" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">好的，这是一个常见的问题，大多数时候我们想要<strong class="kd io">不同的</strong>结果，比如是否有很多甲虫行，但是我们想要只检查是否有一个甲虫存在。这时候<strong class="kd io">明显的</strong>出现了。它被放置在<strong class="kd io">选择</strong>之后，每种类型的记录只有一个。</p><p id="d967" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="b797" class="mm la in mi b gy mn mo l mp mq">SELECT DISTINCT item, customer_id from Orders;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/461e3cfaefd3a7c50700ca4c1c6d4fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*LhmiCQmodUdlIRX1yMy0Ww.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">原始表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/947e46db395c2791f6db5812a4fdecb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ifng0Sk7_6hADmAi30k4BQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="4c7d" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，选择了表<strong class="kd io"> Orders </strong>的<strong class="kd io"> item </strong>和<strong class="kd io"> customer_id </strong>列，并丢弃了具有相同 item 和 customer_id 的列。</p><h1 id="f041" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">检索某一列中没有空值的数据，</h1><p id="70e6" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">没有人想要那种空虚的感觉，所以我确信你会对我说我们不想要空的列结果有同样的感觉。<strong class="kd io">不为空则使用</strong>，然后返回其中存储有值的列。还有一个<strong class="kd io">是空的</strong>，反之亦然。</p><p id="095f" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="3952" class="mm la in mi b gy mn mo l mp mq">SELECT item from Orders WHERE customer_id IS NOT NULL;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/e4c21a4ff11bc8e17ecd8e8c439c1d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*5l-zZB73iGUeHb2zBlWmRQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/c20b5c0dca79e08540e5da433019cae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DTGlM3JXilh4IPdpwcQzDw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="0e07" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的示例查询中，将返回仅包含非空值的<strong class="kd io">项</strong>列。</p><h1 id="fa14" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">根据一列对数据进行排序，</h1><p id="ccc6" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">我们喜欢对我们的生活进行正确的排序，你一定看过那些卷轴，上面写着以这种心态开始你的生活。同样的事情也存在于带有<strong class="kd io"/><strong class="kd io">ORDER BY</strong>命令的 SQL 中，它根据特定的列对数据进行排序。默认为<strong class="kd io">字母</strong>，但是<strong class="kd io"> DESC </strong>和<strong class="kd io"> ASC </strong>可以分别用来对结果进行降序或升序排序。</p><p id="5b10" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="1f7d" class="mm la in mi b gy mn mo l mp mq">SELECT  item FROM Orders ORDER BY amount ASC;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/d04992562ed98a1964e47f10fab711b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*DZSW29HRiyHvbACqDLdhdQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/c3d46253dc43225052d7f4f576a62eef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Szqa6GQ-_4hmfBO0lwNDw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="edeb" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io">项目</strong>列按照<strong class="kd io">金额</strong>列按照<strong class="kd io">升序</strong>排序。</p><h1 id="fb4d" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">根据多个列对数据进行排序，</h1><p id="3a67" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">有时我们需要<strong class="kd io">多个</strong>列来对数据进行排序，它按照时间顺序工作<strong class="kd io"/>首先根据指定的第一列对数据进行排序，然后是它后面的列。</p><p id="471f" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="9fe8" class="mm la in mi b gy mn mo l mp mq">SELECT  item,order_id FROM Orders ORDER BY amount DESC, customer_id;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/f3557bf4ed17323d2cc925a753b18bb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*sJ-D4ALCLyfwWfKQP9kwrA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi my"><img src="../Images/be5f5ff6332abdd61e5ed72df8bd464c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kEekaQ88mxuBZAXUZqvtqQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="1263" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io"> item </strong>和<strong class="kd io"> order_id </strong>列按照<strong class="kd io"> amount </strong>和<strong class="kd io"> customer_id </strong>列按照<strong class="kd io">升序</strong>的方式(amount)排序。</p><h1 id="ae5e" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">搜索与特定模式匹配的值，</h1><p id="34b6" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">模式很有趣，它告诉我们许多数据分析的问题，我们可以在<strong class="kd io"> SQL </strong>中使用<strong class="kd io"/><strong class="kd io">LIKE</strong>命令做同样的事情，该命令检索与某个<strong class="kd io">特定模式</strong>匹配的数据。</p><p id="488b" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="677e" class="mm la in mi b gy mn mo l mp mq">SELECT item FROM Orders WHERE item LIKE '%m%';</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/f3557bf4ed17323d2cc925a753b18bb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*sJ-D4ALCLyfwWfKQP9kwrA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mz"><img src="../Images/d1fd537be9c2cc51a8e016627093173c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V_L46jsBm9PJzBZk5yXvUg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="4c95" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，显示了包含字符串字符<strong class="kd io">“m”</strong>的<strong class="kd io">条目</strong>列。</p><h1 id="8e82" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">将文本列中的值连接成一个字符串，</h1><p id="4c0a" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">这也是数据操作中的常见应用之一。例如，大多数表格采用不同的名和姓，我们将它们组合在一起形成名字。这是使用<strong class="kd io"> SQL 中的<strong class="kd io"> CONCAT </strong>函数完成的。</strong>但有时它在其他版本中不存在，我在这个特殊的例子中使用了<strong class="kd io"> || ' ' || </strong>，因为它在我的 SQL 版本中不受支持。</p><p id="88cc" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="781e" class="mm la in mi b gy mn mo l mp mq">SELECT CONCAT(first_name,' ',last_name) FROM Customers;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi na"><img src="../Images/11d370c1bab92745ea0aa4046e1b1a32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*djBYpDjAWDhPlyyLvv6TtQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">客户表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/97332a8624e3970ed783e85149156e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dREZJ2dl_evb75IKJ24csQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果(SELECT 名字|| ' ' ||姓氏 FROM 客户；)</figcaption></figure><p id="667b" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，表<strong class="kd io"> Customers </strong>中的<strong class="kd io"> first_name </strong>和<strong class="kd io"> last_name </strong>列被<strong class="kd io">连接起来</strong>。</p><h1 id="e330" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用数学运算符，</h1><p id="97b1" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">通常，在处理财务数据时，我们有必要进行类似于<strong class="kd io">“+”、“-”、“*”、</strong>、<strong class="kd io">“/”的数学运算</strong>。为此，<strong class="kd io"> SQL </strong>内置了运算符，并允许在其中进行<strong class="kd io">数学运算</strong>。</p><p id="6286" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="7284" class="mm la in mi b gy mn mo l mp mq">SELECT customer_id, SUM(amount), COUNT(order_id) FROM Orders GROUP BY customer_id HAVING COUNT(customer_id) &gt; 1</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/f3557bf4ed17323d2cc925a753b18bb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*sJ-D4ALCLyfwWfKQP9kwrA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/68de4a78d2110a2dca47684550bd3ffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uoOq_IyNlYGG7JpBCwCUOw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="9b61" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，发生了很多事情。首先<strong class="kd io"> SUM </strong>函数用于<strong class="kd io">SUM</strong>a<strong class="kd io">customer_id</strong>根据<strong class="kd io">订单数量</strong>必须支付的金额，订单数量<strong class="kd io">基于<strong class="kd io"> order_id </strong>，订单数量</strong>来自基于<strong class="kd io"> customer_id </strong>的<strong class="kd io">分组</strong>结果，其中 customer _ id 具有多于<strong class="kd io"> 1 个订单</strong>。</p><h1 id="a92b" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">添加不同表中的数据，</h1><p id="ed2e" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">如果您熟悉外键和主键(我假设您熟悉)，我可以帮助您创建表之间的关系以及<strong class="kd io">数据分叉。</strong>以<strong class="kd io"> </strong>为例，如果您有一个客户详细信息表，它有一个<strong class="kd io"> customer_id </strong>列，即该表中的<strong class="kd io">主键</strong>，还有另一个表 order，它有<strong class="kd io"> order_id </strong>(其主键)和<strong class="kd io"> customer_id </strong>，即<strong class="kd io">外键</strong>，在这种情况下，它有助于您建立两者之间的关系。</p><p id="c2cd" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">虽然在表之间有一个<strong class="kd io">关系</strong>来执行它们之间的数据相加并不重要，但是对于<strong class="kd io">数据操作</strong>来说，这是一个<strong class="kd io">重要的话题</strong>要被讨论和记住。</p><p id="27e2" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">现在我们可以使用<strong class="kd io"> UNION ALL 连接不同表中的记录，</strong>记录必须是<strong class="kd io">相同的数据类型</strong>如果<strong class="kd io"> </strong>没有<strong class="kd io">重复</strong>需要使用<strong class="kd io"> UNION </strong> only <strong class="kd io">。</strong></p><p id="7de5" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="74fd" class="mm la in mi b gy mn mo l mp mq">SELECT customer_id FROM Customers UNION ALL SELECT customer_id FROM Orders;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/8e1d16104b83b3a7ddf27f8e24b3b13f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*eUJj1Z5BnDh6esrdG9fEyA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">客户和订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/6c8ef4ff279f8f8e61571aa74190b39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*nhYIY8ECxkRHnjeQujB1fA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果(未完全显示)</figcaption></figure><p id="2ea6" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io">客户</strong>和<strong class="kd io">订单</strong>表中的<strong class="kd io"> customer_id </strong>列与<strong class="kd io"> UNION ALL </strong>命令组合在一起。</p><h1 id="0a04" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">找到数据集的交集，</h1><p id="f0b3" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">如果你读过集合论，你就知道什么是交集。如果不是，那么它就是两个数据集之间的公共数据，即表中的公共实体。在 SQL 中，<strong class="kd io"> INTERSECT </strong>返回两组数据的交集。</p><p id="aa71" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="5171" class="mm la in mi b gy mn mo l mp mq">SELECT customer_id FROM Orders INTERSECT SELECT customer FROM Shippings;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/f12d9223e5222097e636871af620bf4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*IPS0se2rho9jDeTMBF1K4A.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单和发货表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/6404958c7f33a3d97e46419a10541ca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y8Hg03I-Wk6WfEKEkhtZTQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="ebb7" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，从<strong class="kd io"> orders </strong>和<strong class="kd io">shipping</strong>表中获取<strong class="kd io"> customer_id </strong>列，并显示两个表中的<strong class="kd io">公共值</strong>(注意 5)。</p><h1 id="c594" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">连接不同表中的数据，</h1><p id="3d25" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">集合论确实有帮助(如果你知道的话)。它的一些基本概念在这里起作用，就像在上述主题中提到的交集，但是就各种其他表而言，在这种情况下甚至包括 union。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/058296d005eb7a3cca408914b1beb6ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*52H6z2woacFcfl4ZAt0sbg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><a class="ae jz" href="https://towardsdatascience.com/take-your-sql-from-good-to-great-part-3-687d797d1ede" rel="noopener" target="_blank"> <strong class="bd ka">作者 TDS </strong> </a>提供</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/4ddf21f36db880ef2578b450b4cf93ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1l8cF2zIgO03iqdXrS-7w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">加入由<a class="ae jz" href="https://learnsql.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ka"> LearnSQL </strong> </a>提供</figcaption></figure><p id="2193" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">希望上面的可视化表示启发了您对 SQL 中连接的理解。</p><p id="cc08" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="6d06" class="mm la in mi b gy mn mo l mp mq">SELECT Customers.last_name, Orders.item FROM Customers INNER JOIN Orders ON Customers.customer_id = Orders.customer_id;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/166a3019ddff3ee52e9800cc18a50f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*wvFI220u_RfSmmTQpSzSJQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">客户和订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/b4d7f0358c7988d1701e7b90781a7bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H0CyvPaCTHABMaAbChA4gg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="4ec8" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的示例查询中，从<strong class="kd io"> customers </strong>和<strong class="kd io"> orders </strong>表中提取<strong class="kd io"> last_name </strong>和<strong class="kd io"> item </strong>列，并且通过上的<strong class="kd io">将两个表中的数据记录与连接条件进行匹配。在从两个表中匹配相同的值<strong class="kd io"> customer_id </strong>后，如果匹配将最终显示。</strong></p><h1 id="764b" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用表和列的别名，</h1><p id="ff64" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated"><strong class="kd io">别名</strong>短版本是的，它们很好，因为你可以写得更少，老实说，这是一个很好的主意，当你不得不写长查询时，比如连接</p><p id="12aa" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="5e10" class="mm la in mi b gy mn mo l mp mq">SELECT c.last_name AS lname, o.item AS items FROM Customers AS c INNER JOIN Orders AS o ON c.customer_id = o.customer_id;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/166a3019ddff3ee52e9800cc18a50f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*wvFI220u_RfSmmTQpSzSJQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">客户和订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/2ab5dc518a5094a27f0c361a44c1166a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aSyaxYPm3mLCpY4Iw8VcwQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="ff23" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，从<strong class="kd io"> customers </strong>和<strong class="kd io"> orders </strong>表中提取<strong class="kd io">last _ name(laname:Alias)</strong>和<strong class="kd io"> item (items : Alias ) </strong>列，并通过上的<strong class="kd io">将这两个表中的数据记录与连接条件进行匹配。在从两个表中匹配相同的值<strong class="kd io"> customer_id </strong>后，如果匹配将最终显示。</strong></p><h1 id="358a" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">计算表格中的行数，</h1><p id="960e" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">有时，需要对已发生的客户或订单进行计数，给出已发生的订单或现有客户的数量。幸运的是<strong class="kd io"> SQL </strong>有一个内置函数，它为我们做了<strong class="kd io"> COUNT </strong>计算<strong class="kd io">行数</strong>。</p><p id="85bd" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="1a3d" class="mm la in mi b gy mn mo l mp mq">SELECT COUNT(customer_id) FROM Customers;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/6f91ec9a077f35978e31bc45b4ef69af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*Cxtqz_XMqB9gj1UADGv1iw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">客户表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/8b7176619130d7aeadb01f53cd366e56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EFGs-chbVb73_mwoN8H8kQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询表</figcaption></figure><p id="6165" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，获取并显示了当前客户数量的<strong class="kd io">计数</strong>。</p><h1 id="9183" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">计算列中值的平均值，</h1><p id="196e" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">像<strong class="kd io"> COUNT </strong>函数一样，<strong class="kd io"> AVG </strong>也存在，它返回当前记录的平均值。</p><p id="0c7a" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="7b51" class="mm la in mi b gy mn mo l mp mq">SELECT AVG(amount) FROM orders;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mz"><img src="../Images/0e749872de7ebafb753158b81dbfde15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdjiE8E-vusFAxODNITm7g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="66a8" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，获取并显示购买订单的<strong class="kd io"> AVG </strong>金额。</p><h1 id="b07b" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">计算列中值的总和，</h1><p id="0bc8" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">与上面的函数一样，<strong class="kd io"> SUM </strong>对一列中的值求和。</p><p id="0fbb" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="141f" class="mm la in mi b gy mn mo l mp mq">SELECT SUM(amount) FROM orders;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/6c9ef8bee5cea5a21d0d863e43b515de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sV-zyUmBFmHIzXJiLc3JJQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="0586" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，获取并显示所有购买订单的<strong class="kd io"> SUM </strong>金额。</p><h1 id="5829" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">找到一列中的最小值和最大值，</h1><p id="dfe6" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">与上述函数一样，<strong class="kd io"> MIN </strong>从列中查找<strong class="kd io">最小值</strong>值，而<strong class="kd io"> MAX </strong>从列中查找<strong class="kd io">最大值</strong>值。</p><p id="86cb" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="d59c" class="mm la in mi b gy mn mo l mp mq">SELECT MIN(amount),MAX(amount) FROM orders;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/a77f34a9badb71b77bfae9372a42c65c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NFarvIbGYEC6baZPL-q29A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="e67e" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，获取并显示所有购买订单的<strong class="kd io">最小</strong>和<strong class="kd io">最大</strong>金额。</p><h1 id="65a8" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">计算记录组的合计值，</h1><p id="439b" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">由于前面已经使用了<strong class="kd io"> GROUP BY </strong>，它将行分组以计算值。</p><p id="119d" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="18f8" class="mm la in mi b gy mn mo l mp mq">SELECT item, COUNT(order_id) FROM Orders GROUP BY amount;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/229671aae5bf4789a01b8cb2f5681586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IxG4vjw2XXnhq87pyjbm4A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="5f00" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，提取了<strong class="kd io"> order_id </strong>列的<strong class="kd io"> item </strong>和<strong class="kd io"> COUNT </strong>，它们是根据表<strong class="kd io"> orders </strong>中产品的<strong class="kd io"> amount </strong> (price】分组的。</p><h1 id="fd2b" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">使用集合函数过滤行，</strong></h1><p id="a5d4" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">无论是对班上的学生进行排名，还是对回头客进行分类，任何地方都需要某种过滤。这可以在 SQL 中使用具有函数的<strong class="kd io">来实现，该函数在使用 GROUP BY 计算每个组的值之后过滤记录(在下面的例子中)。</strong></p><p id="4ecf" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="7366" class="mm la in mi b gy mn mo l mp mq">SELECT item, AVG(amount) FROM Orders GROUP BY item HAVING AVG(amount) &gt; 300;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/0e002d271ef9955fcd569e53bc869822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wO7kqBhB5Vc2atllXEAprg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="c142" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，取的是<strong class="kd io">金额</strong>列的<strong class="kd io">项目</strong>和<strong class="kd io"> AVG </strong>，按<strong class="kd io">平均金额&gt; 300 的<strong class="kd io">订单</strong>表的<strong class="kd io">项目</strong>分组。</strong></p><h1 id="9f38" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">从表中删除数据，</h1><p id="edda" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">有时候我们已经受够了，想要从我们的生活中删除一些东西，而生活是另一个艰难的案例，需要很多麻烦和时间，但使用<strong class="kd io"> SQL </strong>就不是这样了，我们可以使用<strong class="kd io"> DELETE FROM </strong>命令来删除表格中的所有数据。</p><p id="b2f5" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="ee7a" class="mm la in mi b gy mn mo l mp mq">DELETE FROM Customers;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/166a3019ddff3ee52e9800cc18a50f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*wvFI220u_RfSmmTQpSzSJQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">客户和订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/38e780ef3a2f688a17a31d0f1bb9de9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*dmHWKNGdrgcQmHLx3cR0Fw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="d5fb" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io">客户</strong>表被清空。</p><h1 id="7a78" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">从表中删除满足特定条件的记录，</h1><p id="209b" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">如果记录满足<strong class="kd io">特定条件</strong>，也可以使用<strong class="kd io">移除，其中</strong>。</p><p id="5f63" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="2ab5" class="mm la in mi b gy mn mo l mp mq">DELETE FROM Orders WHERE order_id = 5;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi no"><img src="../Images/66c9e239a8d9f390bff29d193b1450bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*QRV0OjBcHk9pL7AoACU_dQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="f0d5" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，删除了具有<strong class="kd io"> order_id = 5 </strong>的<strong class="kd io"> Orders </strong>表实体。</p><h1 id="9c9c" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">将数据插入表中，</h1><p id="2be3" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">有时需要向表中添加新值，在这种情况下，需要使用<strong class="kd io"> SQL </strong>命令<strong class="kd io"> INSERT INTO </strong>。</p><p id="8cfc" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="3293" class="mm la in mi b gy mn mo l mp mq">INSERT INTO Orders(order_id, item, amount, customer_id ) VALUES(6, 'Printer', 1500, 5);</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/bd0436b50630b6914a235691c7a090cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*yezcHfaUidBKHsdAOe89fA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="2285" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io"> Orders </strong>表被添加了<strong class="kd io"> INSERT INTO </strong>，列名为<strong class="kd io"> order_id、item、amount、</strong>和<strong class="kd io"> customer_id </strong>，它们的值<strong class="kd io"> 6、【打印机】、1500、5 </strong>被相加。</p><h1 id="a56e" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">更新表中的列，</h1><p id="c0b3" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">更新社会地位是困难的，但是在使用<strong class="kd io">更新</strong>命令的<strong class="kd io"> SQL </strong>中的表格来<strong class="kd io">更新</strong>表格并且<strong class="kd io">设置</strong>来设置<strong class="kd io">新的</strong>值。</p><p id="d1eb" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="d66c" class="mm la in mi b gy mn mo l mp mq">UPDATE Orders SET customer_id = 1;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/be4c0cddc915a3145410655fc583e7a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*Y6dHZEPv9jdLMVbFeELwkQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="f6b2" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io"> Orders </strong>表用<strong class="kd io"/><strong class="kd io">SET</strong>命令更新，该命令为所有的<strong class="kd io"> order_id </strong>设置相同的值<strong class="kd io"> 1 </strong></p><h1 id="5c83" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">通过筛选记录来更新列，</h1><p id="7ae3" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">向<strong class="kd io">更新</strong>命令添加另一个元素，我们基于<strong class="kd io"> WHERE </strong>条件更新列。</p><p id="71f8" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="6f53" class="mm la in mi b gy mn mo l mp mq">UPDATE Orders SET item = 'Keyboard' WHERE customer_id = 2;</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/8679f78cd976517e21c0ece5b308d00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*IoRKShgXKoDvhGg_ZkgCMQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">订单表</figcaption></figure><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/c89f0ca2d00435e69c3630d696e419a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*9AmMPrxnUZIYnQPWk5U6aw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">查询结果</figcaption></figure><p id="3230" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io"> Orders </strong>表用<strong class="kd io"/><strong class="kd io">设置项目值</strong>作为关键字<strong class="kd io">，其中 customer_id </strong>为 2。</p><h1 id="3921" class="kz la in bd ka lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">删除表格，</h1><p id="4d37" class="pw-post-body-paragraph kb kc in kd b ke lw kg kh ki lx kk kl km ly ko kp kq lz ks kt ku ma kw kx ky ig bi translated">删除一个表就像从数据库<strong class="kd io"> SQL </strong>中删除它一样，用<strong class="kd io"> DROP </strong>命令完成。</p><p id="6a45" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">例如，在<strong class="kd io"> SQL </strong>中，</p><pre class="mc md me mf gt mh mi mj mk aw ml bi"><span id="de03" class="mm la in mi b gy mn mo l mp mq">DROP TABLE Students;</span></pre><p id="aac0" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">在上面的查询示例中，<strong class="kd io">学生</strong>表被删除。</p><blockquote class="nr ns nt"><p id="c70b" class="kb kc nu kd b ke kf kg kh ki kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ky ig bi translated"><strong class="kd io">参考文献</strong></p><p id="d9ff" class="kb kc nu kd b ke kf kg kh ki kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ky ig bi translated"><a class="ae jz" href="https://towardsdatascience.com/take-your-sql-from-good-to-great-part-3-687d797d1ede" rel="noopener" target="_blank">https://towards data science . com/take-your-SQL-from-good-to-great-part-3-687d 797 D1 ede</a></p><p id="88fb" class="kb kc nu kd b ke kf kg kh ki kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ky ig bi translated"><a class="ae jz" href="https://learnsql.com/blog/learn-and-practice-sql-joins/" rel="noopener ugc nofollow" target="_blank">https://learnsql.com/blog/learn-and-practice-sql-joins/</a></p></blockquote><p id="117c" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">下面我们连线<strong class="kd io">LinkedIn</strong>:<a class="ae jz" href="https://www.linkedin.com/in/tripathiadityaprakash" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/tripathiadityaprakash</a></p><p id="14c4" class="pw-post-body-paragraph kb kc in kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">或者我的网站:</p><div class="ny nz gp gr oa ob"><a href="https://tripathiaditya.netlify.app/" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd io gy z fp og fr fs oh fu fw im bi translated">特里帕蒂·阿迪蒂亚·普拉卡什</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">编辑描述</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">tripathiaditya.netlify.app</p></div></div></div></a></div></div></div>    
</body>
</html>