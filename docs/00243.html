<html>
<head>
<title>Learn Python by building investment AI for fintech — Lesson1: Start the project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过为金融科技构建投资人工智能来学习 Python 第 1 课:启动项目</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/learn-python-by-building-investment-ai-for-fintech-lesson1-start-the-project-b99cf71bcafb?source=collection_archive---------10-----------------------#2020-05-26">https://blog.devgenius.io/learn-python-by-building-investment-ai-for-fintech-lesson1-start-the-project-b99cf71bcafb?source=collection_archive---------10-----------------------#2020-05-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7d7ffb98f485f120f76b41f2b6c59b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zaEB0w2zXULmWh7Aj6GSJg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://www.blog.duomly.com/python-course-with-building-a-fintech-investment-ai-lesson-1-start-the-project" rel="noopener ugc nofollow" target="_blank"> Python 课程</a></figcaption></figure><p id="12e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">今天我们将开始 Python 课程，开始构建 AI。<br/> <br/>在最后几集里，我们开始了为我们的金融科技应用构建前端和后端的第一步。<br/> <br/>下面是链接:<br/> <br/> <strong class="kf ir"> Golang 课程:</strong> <br/> <br/> <a class="ae kc" href="https://www.blog.duomly.com/golang-course-with-building-a-fintech-banking-app-lesson-1-start-the-project/" rel="noopener ugc nofollow" target="_blank"> Golang 课程用构建一个 fintech 银行应用程序—第一课:启动项目</a> <br/> <br/> <a class="ae kc" href="https://www.blog.duomly.com/golang-course-with-building-a-fintech-banking-app-lesson-2-login-and-rest-api/" rel="noopener ugc nofollow" target="_blank"> Golang 课程用构建一个 fintech 银行应用程序—第二课:登录和 REST API</a><br/><br/><strong class="kf ir">Angular 课程:</strong> <br/> <a class="ae kc" href="https://www.blog.duomly.com/angular-course-building-a-banking-application-with-tailwind-css-lesson-1-start-the-project/" rel="noopener ugc nofollow" target="_blank"> Angular 课程用 Tailwind CSS 构建一个银行应用程序—第一课:启动 一个使用 Tailwind CSS 的银行应用程序——第二课:登录表单</a> <br/> <br/>现在是做一些特别的事情的时候了！ 我们开始构建一个人工智能，它将预测股票价格，并告诉我们现在投资以获得最大利润的最佳选择是什么。我迫不及待地想让你看看这一切。<br/> <br/>在今天的这一集里，我将向大家展示“Python 与 AI”课程的第一部分，我们将设置项目的第一部分。<br/> <br/>第一部分是项目安装、配置和数据库迁移。<br/> <br/>我们开始吧！<br/> <br/>如果你喜欢视频，这里是 youtube 版本:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lf lg l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Python 课程</figcaption></figure><h1 id="3b9a" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">安装 flask 和依赖项</h1><p id="c90f" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">您需要做的第一步是安装依赖项。<br/> <br/>我们会需要几个，但对我们来说最重要的是一个烧瓶。<br/>打开项目目录中的终端并键入:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="8dca" class="mp li iq ml b gy mq mr l ms mt">pip install flask</span></pre><p id="9c73" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，安装 SQLAlchemy:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="1fbb" class="mp li iq ml b gy mq mr l ms mt">pip install flask_sqlalchemy</span></pre><p id="3180" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您需要安装的第三个插件是 Migrate:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="d606" class="mp li iq ml b gy mq mr l ms mt">pip install flask_migrate</span></pre><p id="8774" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后一个是 PostgreSQL 驱动程序:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="c09b" class="mp li iq ml b gy mq mr l ms mt">pip install psycopg2</span></pre><h1 id="f146" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">初始化 git repo 并创建。gitignore</h1><p id="fb23" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">好了，当我们最重要的依赖项准备就绪时，我们应该初始化 git 存储库并指定 git 应该忽略的文件。<br/> <br/>打开终端，键入:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="ed43" class="mp li iq ml b gy mq mr l ms mt">git init</span></pre><p id="bc42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，创建。gitignore 文件中的项目的 dir，并添加几个路径，我们应该忽略:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="7477" class="mp li iq ml b gy mq mr l ms mt">**/__pycache__/*<br/>migrations/*<br/>.vscode</span></pre><h1 id="64ef" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">创建 app.py 并导入 dep</h1><p id="87eb" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">这是我们真正开始用 Python 编码的第一步。<br/> <br/>我们需要创建一个名为“app.py”的文件，并导入我们已经安装的依赖项。</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="f639" class="mp li iq ml b gy mq mr l ms mt">import psycopg2<br/>from flask import Flask<br/>from flask_sqlalchemy import SQLAlchemy<br/>from flask_migrate import Migrate</span></pre><h1 id="26a7" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">导出烧瓶变量</h1><p id="6e09" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">当我们创建完 app.py 文件后，我们应该将路径导出到 flask 的应用程序。<br/> <br/>之后，flask 就会知道什么文件应该作为应用程序运行。<br/> <br/>打开终端，键入:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="1289" class="mp li iq ml b gy mq mr l ms mt">export FLASK_APP=app.py</span></pre><h1 id="d0dc" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">定义应用程序并配置数据库连接</h1><p id="aa4f" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">下一步，我们应该定义 flask 应用程序并创建 app 变量。第二，我们应该做的是创建代码来配置与数据库的连接。<br/> <br/>在名为“app.py”的文件中，我们应该在 imports 下面添加我们的 app 声明和连接字符串。</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="6558" class="mp li iq ml b gy mq mr l ms mt">app = Flask(__name__)<br/>app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False<br/>app.config['SQLALCHEMY_DATABASE_URI'] = "postgresql://user:password@localhost:5432/dbname"</span></pre><h1 id="ecf7" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">添加应用程序运行</h1><p id="538d" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">在这一步中，我们将重点关注 app.run 命令。<br/>这将让我们从命令行启动应用程序。<br/> <br/>第一节课我们不会用到，但以后的课要加进去。<br/> <br/>在 app.py 文件的底部，如果<strong class="kf ir"> name </strong>等于‖<strong class="kf ir">main</strong>，我们应该添加 app.run(debug=True)。</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="72da" class="mp li iq ml b gy mq mr l ms mt">if __name__ == '__main__':<br/>    app.run(debug=True)</span></pre><h1 id="fcd3" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">创建模型目录</h1><p id="4ea8" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">太好了！现在，我们可以继续前进，专注于数据库的模型。<br/> <br/>在第一课中，我们将创建名为“prices”的唯一模型，这样我们就可以使用同名的 SQL 表。<br/> <br/>首先，我们需要创建一个名为“models”的目录，将其添加到您的项目中。</p><h1 id="e271" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">在模型目录中创建 prices.py 并从应用程序导入数据库</h1><p id="e1b9" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">现在，当我们创建了一个必要的目录，我们可以进入文件。<br/> <br/>首先，创建名为 prices.py 的文件(将其添加到名为“models”的目录中)。接下来，你应该进入 prices.py 文件，从应用程序中导入名为“db”的变量。</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="ac23" class="mp li iq ml b gy mq mr l ms mt">from app import db</span></pre><h1 id="6f1e" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">在 prices.py 中创建模型</h1><p id="94e3" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">这一步是我们今天编码的最大部分，也是最重要的。我们需要创建用于迁移的整个模型。<br/> <br/>我们应该先创建一个名为“PriceMode”的类，并传递“db。模型”，作为参数。<br/> <br/>下一步是声明一个名为“<strong class="kf ir"> tablename </strong>”的变量，其值为“价格”。在那一行下面，我们需要创建将在我们的表中使用的列。<br/> <br/>之后，我们应该创建一个名为“<strong class="kf ir"> init </strong>的函数，并将我们的列分配给 self。<br/> <br/>让我们看看下面的例子中我是如何做到的。</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="5aca" class="mp li iq ml b gy mq mr l ms mt">class PriceModel(db.Model):<br/>    __tablename__ = 'prices'</span><span id="cef6" class="mp li iq ml b gy mu mr l ms mt">    id = db.Column(db.Integer, primary_key=True)<br/>    company = db.Column(db.String())<br/>    date = db.Column(db.String())<br/>    openPrice = db.Column(db.Integer())<br/>    highPrice = db.Column(db.Integer())<br/>    lowPrice = db.Column(db.Integer())<br/>    closePrice = db.Column(db.Integer())<br/>    volume = db.Column(db.Integer())</span><span id="0762" class="mp li iq ml b gy mu mr l ms mt">    def __init__(self, company, date, openPrice, highPrice, lowPrice, closePrice, volume):<br/>        self.company = company<br/>        self.date = date<br/>        self.openPrice = openPrice<br/>        self.highPrice = highPrice<br/>        self.lowPrice = lowPrice<br/>        self.closePrice = closePrice<br/>        self.volume = volume</span><span id="dbf1" class="mp li iq ml b gy mu mr l ms mt">    def __repr__(self):<br/>        return f"&lt;Price for {self.company} in day {self.date} is {self.closePrice}&gt;"</span></pre><h1 id="4e6b" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">在 app.py 中导入模型并添加迁移</h1><p id="9c06" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">现在是编码的最后一步，我们运行代码！<br/> <br/>我们应该回到名为“app.py”的文件，导入我们的价格模型。<br/> <br/>导入模型后，我们应该声明一个名为“migrate”的变量，并调用我们之前介绍的 Migrate 函数。<br/> <br/>对于名为“Migrate”的函数，我们需要将 app 和 db 变量作为 params 传递。<br/> <br/>这段代码应该在名为“db”的变量之后，最后一个 if 语句之前。<br/> <br/>我们来看看下面的例子。</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="e778" class="mp li iq ml b gy mq mr l ms mt">from models.prices import PriceModel<br/>migrate = Migrate(app, db)</span></pre><h1 id="f503" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">初始化数据库</h1><p id="3645" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">我们完成了代码！<br/> <br/>现在我们应该运行它，检查是否一切正常。<br/> <br/>首先你需要做的是在终端中使用这个方法初始化 DB:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="3fd5" class="mp li iq ml b gy mq mr l ms mt">flask DB init</span></pre><h1 id="dc0e" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">迁移和升级</h1><p id="0ade" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">如果一切顺利，您应该有一些<strong class="kf ir"> pycache </strong>目录和名为“migrations”的新目录。<br/> <br/>如果是，您可以进入数据库迁移。<br/> <br/>首先你需要做的就是迁移，打开终端，并键入:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="e85a" class="mp li iq ml b gy mq mr l ms mt">flask db migrate</span></pre><p id="dc5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">迁移后，您需要使用结果升级，打开终端并键入:</p><pre class="lb lc ld le gt mk ml mm mn aw mo bi"><span id="7b58" class="mp li iq ml b gy mq mr l ms mt">flask db upgrade</span></pre><h1 id="2077" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">结论</h1><p id="fbc6" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">恭喜你！<br/> <br/>你进军建筑投资 AI 的第一步已经完成。现在，您的项目已经为下一个功能做好了准备，我们将在接下来的课程中重点介绍这些功能。</p><p id="43d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">python 课程的代码库在这里:</p><p id="9d6a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://github.com/Duomly/python-ai-investment-fintech/tree/Python-AI-course-Lesson-1" rel="noopener ugc nofollow" target="_blank">https://github . com/Duomly/Python-ai-investment-fin tech/tree/Python-AI-course-Lesson-1</a><br/><br/>在下一课中，我们将重点为我们的 AI 构建 API 和数据。保持更新，我迫不及待地想向你展示我们一起构建的强大工具的下一步！</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/da0dbcf44b16aceb7cca413a6d9a5ef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LJmZtnXM9S7lwHQJTEQngg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">编程课程在线</a></figcaption></figure><p id="2b7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢您的阅读，<br/>来自 Duomly 的 Radek</p></div></div>    
</body>
</html>