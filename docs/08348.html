<html>
<head>
<title>7 Git Noob Tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7 个 Git Noob 提示</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/7-git-noob-tips-d5246c769ec9?source=collection_archive---------8-----------------------#2022-06-07">https://blog.devgenius.io/7-git-noob-tips-d5246c769ec9?source=collection_archive---------8-----------------------#2022-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="442c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第一部分</h2></div><p id="4df3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">#Git_Noob_Tip 是我每周在推特上发布的一组适合初学者的 Git 技巧的标题。在这篇文章发表的时候，我已经发了其中的 7 条，我将把它们汇编成这篇文章。我还会添加上下文和更多的细节。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/11de55052ced0bee0f5e74700a686578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OUPlxOLViicL8lN1M3rA0w.png"/></div></div></figure><h1 id="2ba9" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">提示 1。删除远程分支</h1><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="b2ca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">删除本地分支相当容易:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="03c4" class="mn lp iq mj b gy mo mp l mq mr">git branch -d &lt;branch&gt;</span></pre><p id="2a09" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">-d</code>标志检查分支是否被合并，然后删除它。无论如何要删除一个本地分支，我们必须使用大 D:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="88db" class="mn lp iq mj b gy mo mp l mq mr">git branch -D &lt;branch&gt;</span></pre><p id="9784" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，从 git 的 CLI 中删除远程分支:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="894b" class="mn lp iq mj b gy mo mp l mq mr">git push origin --delete &lt;branch&gt;</span></pre><p id="f0d7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，可以使用管理远程 repo 的 UI 应用程序删除远程分支，例如 GitHub 或 GitLab。但这个更方便。</p><p id="cebd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，要检查有哪些远程分支，可以使用以下命令列出它们:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="f725" class="mn lp iq mj b gy mo mp l mq mr">git branch --remote</span></pre><h1 id="4187" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">技巧二。重命名或移动文件</h1><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="b768" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，有一次我去上班，我的同事告诉我:“我们应该告诉约翰改变他的剧本来做到这一点。”当然，剧本是我写的。约翰做了什么？他把剧本移到一个子目录，改了两行。</p><p id="02ca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当您重命名/移动文件并同时更改其内容时，Git 通常会感到困惑。Git 会认为旧文件被删除了，新文件被创建了。所有的版本历史都丢失了。</p><p id="b5e4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了防止这样的事情发生，应该使用 git 重命名或移动:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="cfe7" class="mn lp iq mj b gy mo mp l mq mr">git mv &lt;src&gt; &lt;dest&gt;</span></pre><p id="84b4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而不是做:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="44f3" class="mn lp iq mj b gy mo mp l mq mr">mv &lt;src&gt; &lt;dest&gt;</span></pre><h1 id="09a1" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">技巧三。拉母版时重设基础</h1><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="c32c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">推送时，您的本地分支必须在远程分支之前，否则推送会被拒绝。这就是所谓的“快进规则”。在特征分支的情况下，你可以<a class="ae lb" href="https://itnext.io/git-force-vs-force-with-lease-9d0e753e8c41" rel="noopener ugc nofollow" target="_blank">强制推送</a>，但是不应该强制推送至主分支。</p><blockquote class="mv"><p id="3245" class="mw mx iq bd my mz na nb nc nd ne la dk translated">所以，一定要让你当地的主人走在前面。</p></blockquote><p id="5e6a" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">这是通过重定基础完成的。当您希望用远程回购更新您的主分支机构时，尤其是当您有本地更改时，请执行 rebase pull:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="209d" class="mn lp iq mj b gy mo mp l mq mr">git pull --rebase origin master</span></pre><p id="5479" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，可能会在您的本地 repo 上创建合并提交，并且您永远无法再推送到 master。</p><p id="e0b6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更多关于 rebase 的信息，请点击此处:</p><ul class=""><li id="d5c9" class="nk nl iq kh b ki kj kl km ko nm ks nn kw no la np nq nr ns bi translated"><a class="ae lb" href="https://itnext.io/git-merge-vs-rebase-938950fb218" rel="noopener ugc nofollow" target="_blank">“Git 合并 vs Rebase:合并的三种类型”</a></li><li id="94a4" class="nk nl iq kh b ki nt kl nu ko nv ks nw kw nx la np nq nr ns bi translated"><a class="ae lb" href="https://itnext.io/git-merge-vs-rebase-and-where-to-use-them-2a0a6e88769d" rel="noopener ugc nofollow" target="_blank">“Git Merge vs Rebase 以及在哪里使用它们”</a></li></ul><h1 id="74ee" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">技巧四。Git 默认分支</h1><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="0974" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一点背景:直到大约 2 年前，每个 git 存储库的默认分支都被称为“master”。它是“默认分支”的同义词。然后有倡议改变这一点，因为它冒犯了一些人。GitHub 第一个反应过来，把默认的分支名改成了“main”。在 git 上，默认的分支名称仍然是“master ”,但是添加了一个选项来更改它。</p><p id="31a7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，直到最近，如果您在本地初始化 git repo，默认的分支名称将是 master:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="89e2" class="mn lp iq mj b gy mo mp l mq mr">git init</span></pre><p id="d058" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种行为在上一版本中有所改变，现在它主动要求您在允许您初始化之前“设置”一个默认的分支名称。这是按如下方式完成的:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="612b" class="mn lp iq mj b gy mo mp l mq mr">git config --global init.defaultBranch &lt;name&gt;</span></pre><p id="fab5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些流行的名字如下:</p><ul class=""><li id="411e" class="nk nl iq kh b ki kj kl km ko nm ks nn kw no la np nq nr ns bi translated"><strong class="kh ir">主人</strong>:原名</li><li id="101e" class="nk nl iq kh b ki nt kl nu ko nv ks nw kw nx la np nq nr ns bi translated"><strong class="kh ir">主</strong>:GitHub 推广的那个</li><li id="6ee7" class="nk nl iq kh b ki nt kl nu ko nv ks nw kw nx la np nq nr ns bi translated"><strong class="kh ir"> trunk </strong>:旧版本控制工具 SVN 使用的名字</li><li id="470e" class="nk nl iq kh b ki nt kl nu ko nv ks nw kw nx la np nq nr ns bi translated"><strong class="kh ir">开发</strong>:用于有一定工作流程的回购</li></ul><h1 id="af97" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">技巧五。隐藏消息</h1><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="1bcf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Git stash 是一个存储未完成工作的地方，可以用来做一些事情，比如更改分支或者提取最新的更改。然后你可以弹出改变并继续工作。</p><p id="21a6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管储藏被设计成不会变得太大，但它可能会变大。我通常会有 20 个不同的隐藏的变化，不知道什么是什么，最后把它们都丢掉。</p><p id="39ef" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这可以通过在你的收藏中添加一条信息来避免:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="884c" class="mn lp iq mj b gy mo mp l mq mr">git stash push -m &lt;message&gt;</span></pre><p id="30bf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，当你想查看你的收藏时，你也会看到这些信息:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="a216" class="mn lp iq mj b gy mo mp l mq mr">git stash list</span></pre><h1 id="7c7c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">提示 6。自动存储</h1><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="fe3b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个是 tips 3 和 tips 5 的孩子。首先，如果每次拉都要 rebase，为什么不设为默认？此外，如果我们想在每次拉/重定基础时隐藏未提交的更改，为什么不让它自动化呢？这就是这篇技巧的内容:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="0278" class="mn lp iq mj b gy mo mp l mq mr">git config --global pull.rebase true<br/>git config --global rebase.autoStash true</span></pre><p id="7501" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过设置这些配置值，下次您在本地进行一些更改时，您仍然可以进行拉取。更改将被保存，在您的分支上将发生 rebase，并且更改将从保存中弹出。</p><h1 id="e2e9" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">技巧 7。推送默认分支</h1><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="22bd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">假设您在本地创建了一个名为<code class="fe ms mt mu mj b">my-fantastic-branch</code>的新分支，您想将它推送到远程 repo。第一次推送时，您需要再次指定名称，并指示 git 从现在开始这是您的“上游”分支，以便 git 在远程 repo 上创建分支:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="fac8" class="mn lp iq mj b gy mo mp l mq mr">git push --set-upstream origin my-fantastic-branch</span></pre><p id="8161" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这通常是乏味的，并且阻止人们使用描述性的分支名称。要避免这种情况，并在默认情况下将远程分支设置为与本地分支同名:</p><pre class="ld le lf lg gt mi mj mk ml aw mm bi"><span id="9626" class="mn lp iq mj b gy mo mp l mq mr">git config --global push․default current</span></pre><p id="e89f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下一次推送时，无需重复。</p><h1 id="8562" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">最后的话</h1><p id="08b8" class="pw-post-body-paragraph kf kg iq kh b ki ny jr kk kl nz ju kn ko oa kq kr ks ob ku kv kw oc ky kz la ij bi translated">我每周都会在 git 上写一篇博文。我也每天在推特上发布 git 提示。</p><ul class=""><li id="98c0" class="nk nl iq kh b ki kj kl km ko nm ks nn kw no la np nq nr ns bi translated">订阅 my Medium publishes，以便在新的 Git 周刊发布时获得通知。</li><li id="cea1" class="nk nl iq kh b ki nt kl nu ko nv ks nw kw nx la np nq nr ns bi translated">关注 Twitter 上的<a class="ae lb" href="https://twitter.com/MohammadAliEN" rel="noopener ugc nofollow" target="_blank">我</a>获取 git 上的每周文章和每日推文。</li><li id="8cd4" class="nk nl iq kh b ki nt kl nu ko nv ks nw kw nx la np nq nr ns bi translated">我还创办了一份时事通讯，将我的博客文章和我的推文结合在一起。你可以从<a class="ae lb" href="https://twitter.com/MohammadAliEN" rel="noopener ugc nofollow" target="_blank">我的推特个人资料</a>订阅，或者直接从<a class="ae lb" href="https://www.getrevue.co/profile/aerabi" rel="noopener ugc nofollow" target="_blank">这里</a>订阅。请尝试一下，并给我反馈。</li></ul></div></div>    
</body>
</html>