<html>
<head>
<title>Javascript Array Objects, Dense and Sparse Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript数组对象，密集和稀疏数组</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/arrays-and-array-in-javascript-345b4f87a232?source=collection_archive---------1-----------------------#2020-05-27">https://blog.devgenius.io/arrays-and-array-in-javascript-345b4f87a232?source=collection_archive---------1-----------------------#2020-05-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="a238" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">数组数据结构，Javascript数组对象，密集数组和稀疏数组介绍。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c20ed55b5ad06f001e0ae0dd2b49b62b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wtQY-XSdD9K5tycLk8ZqlQ.png"/></div></div></figure><p id="b2b4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个故事中，我将详细介绍<em class="ku">数组数据结构</em>和一些关于<strong class="jm io"> <em class="ku"> </em> </strong> <em class="ku"> Javascript数组对象</em>的有趣的核心事实，使它们不同于原始的数组数据结构。为了更好地理解这个故事，您应该对javascript中的数组有一个基本的概念。</p><p id="5a1d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">什么是数组？</strong></p><p id="56a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="ku">“数组是固定大小的同质元素的集合”。</em> </strong> <em class="ku"> </em>数组是最简单的数据结构之一，可能也是使用最多的数据结构。以下是阵列的一些功能:</p><ul class=""><li id="4df4" class="kv kw in jm b jn jo jr js jv kx jz ky kd kz kh la lb lc ld bi translated"><strong class="jm io">固定大小</strong>数组有一个预定义的固定大小。</li><li id="fc5c" class="kv kw in jm b jn le jr lf jv lg jz lh kd li kh la lb lc ld bi translated">所有元素都具有相同的数据类型。</li><li id="65f8" class="kv kw in jm b jn le jr lf jv lg jz lh kd li kh la lb lc ld bi translated">每个元素被分配一个从0到n-1的索引，其中n是元素的数量。</li><li id="6b6a" class="kv kw in jm b jn le jr lf jv lg jz lh kd li kh la lb lc ld bi translated"><strong class="jm io">连续内存分配</strong>数组被分配给连续的内存块。</li><li id="6527" class="kv kw in jm b jn le jr lf jv lg jz lh kd li kh la lb lc ld bi translated"><strong class="jm io"> O(1) </strong>时间复杂度为<strong class="jm io">插入</strong>和<strong class="jm io">随机接入</strong>。</li><li id="a9bd" class="kv kw in jm b jn le jr lf jv lg jz lh kd li kh la lb lc ld bi translated"><strong class="jm io"> O(n) </strong>时间复杂度为<strong class="jm io">删除</strong>和<strong class="jm io">搜索</strong>。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/0f204167eae382306cb1c3e7dc5ea9cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*dHxUjQFfQ18qqbTR_qT7ww.png"/></div></figure><p id="b4c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">Javascript中数组对象是什么？</strong></p><p id="c4f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Javascript中的数组是类似列表的全局对象。虽然，它们的工作非常像一个原始的数组数据结构，但它实际上是一个使用哈希表实现的API。由于使用了哈希表，javascript中的数组作为一种结构更加强大。</p><ul class=""><li id="3ca4" class="kv kw in jm b jn jo jr js jv kx jz ky kd kz kh la lb lc ld bi translated">无论您最初是否定义了大小，javascript中的数组大小都是动态的。</li></ul><pre class="kj kk kl km gt lk ll lm ln aw lo bi"><span id="3aea" class="lp lq in ll b gy lr ls l lt lu"><strong class="ll io">let arr = new Array()<br/>let arr = new Array(10);<br/>let arr = [];</strong></span></pre><ul class=""><li id="0a56" class="kv kw in jm b jn jo jr js jv kx jz ky kd kz kh la lb lc ld bi translated">javascript中的数组可以包含不同数据类型的元素。</li></ul><pre class="kj kk kl km gt lk ll lm ln aw lo bi"><span id="56a8" class="lp lq in ll b gy lr ls l lt lu"><strong class="ll io">let arr = [1,'hello',true,undefined]</strong></span></pre><ul class=""><li id="8d22" class="kv kw in jm b jn jo jr js jv kx jz ky kd kz kh la lb lc ld bi translated">Javascript支持密集和稀疏数组。</li></ul><p id="949c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">什么是密集阵列和稀疏阵列？</strong></p><p id="416f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">密集数组</strong>只分配连续的内存块。</p><p id="2c4d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">稀疏数组</strong>不一定要分配连续的内存块。</p><p id="b69c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">为什么javascript支持稀疏数组？</strong></p><p id="475d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">答案很简单，它允许数组的大小和数据类型是动态的。但最重要的是，它提高了内存利用率。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/712d981777dfa321676e99383926ab66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5uLkCmHSU4kzLlnZjmInRg.png"/></div></div></figure><p id="e073" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">如何在javascript中创建稀疏数组？</strong></p><p id="6402" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果需要，Javascript倾向于自动创建一个稀疏数组，以便更有效地利用内存。javascript做这种事情的频率比你注意到的还要高。考虑下面的例子:</p><pre class="kj kk kl km gt lk ll lm ln aw lo bi"><span id="a324" class="lp lq in ll b gy lr ls l lt lu"><strong class="ll io">let arr = [1,2,3];<br/>arr[50] = 50;</strong></span></pre><p id="116d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们用元素1，2，3定义了一个数组<em class="ku">‘arr’</em>。Javascript在读取第一条语句后为<em class="ku">arr</em>分配一个连续的内存。然后javascript读取第二条语句，并在内存中为该元素分配内存。但问题是，它不会为索引3到索引49分配内存。相反，它只会为索引50分配内存。请参见下面的框图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/facb1e8b0f84920ffcf892b795696bc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*p4nGMYIbgxk7d8dqBQ-cCg.png"/></div></figure><p id="1764" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到目前为止，有两个非常重要的问题需要回答。</p><p id="e38c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">指数3到49的数值是多少？</strong></p><pre class="kj kk kl km gt lk ll lm ln aw lo bi"><span id="2842" class="lp lq in ll b gy lr ls l lt lu"><strong class="ll io">console.log(arr[3],arr[4],arr[49])  <br/>// output : undefined undefined undefined</strong></span><span id="9bd9" class="lp lq in ll b gy lx ls l lt lu"><strong class="ll io">console.log(arr.filter( a =&gt; a === undefined)<br/>// output : []</strong></span></pre><p id="a473" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你试图检查数组'<em class="ku"> arr' </em>'从3到49的任何索引的值，它们都将是<em class="ku">'未定义'</em>。但是，如果您过滤数组，使其只有<em class="ku">‘未定义’</em>值，那么结果将是一个<em class="ku">空数组</em>。因为实际上javascript从来没有给索引3到49分配内存，因为它们从来没有被声明过。</p><p id="cd48" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">数组<em class="ku"> arr </em>的长度是多少？</strong></p><p id="d364" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">虽然索引3到49是空的，并且只有4个索引有值。尽管如此，数组的长度仍然是51。因为，这就是javascript通过为未声明的索引制造漏洞来管理一致索引的方式。</p><pre class="kj kk kl km gt lk ll lm ln aw lo bi"><span id="0f32" class="lp lq in ll b gy lr ls l lt lu"><strong class="ll io">console.log(arr.length)<br/>// output : 51</strong></span></pre><p id="798e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">javascript中的数组对象是惊人的结构。但是，如果你想在javascript中创建一个基本的数组数据结构，你可以在javascript中使用类型化数组。试试看，如果你发现了一些很酷的东西，请在回复部分告诉我。</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><div class="kj kk kl km gt mf"><a href="https://medium.com/@tdillusionisme/javascript-lexical-grammar-strings-getter-and-setter-443f53c79743" rel="noopener follow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd io gy z fp mk fr fs ml fu fw im bi translated">Javascript词汇语法、字符串、Getter和Setter</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">您可能会错过的Javascript特性</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">medium.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt ks mf"/></div></div></a></div></div></div>    
</body>
</html>