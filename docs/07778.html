<html>
<head>
<title>Class Components: The Basics and Why They Are Still Important</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类组件:基础知识和为什么它们仍然重要</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/class-components-the-basics-and-why-they-are-still-important-873a3d91ddbb?source=collection_archive---------11-----------------------#2022-04-22">https://blog.devgenius.io/class-components-the-basics-and-why-they-are-still-important-873a3d91ddbb?source=collection_archive---------11-----------------------#2022-04-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="866c" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">什么是类组件？</h1><p id="3f5e" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在我们具体讨论类组件之前，让我们先简单地讨论一下 React 组件。W3school 将它们定义为</p><blockquote class="lg lh li"><p id="55b4" class="ki kj lj kk b kl lk kn ko kp ll kr ks lm ln kv kw lo lp kz la lq lr ld le lf ig bi translated"><a class="ae ls" href="https://www.w3schools.com/react/react_components.asp#:~:text=Components%20are%20independent%20and%20reusable,will%20concentrate%20on%20Function%20components." rel="noopener ugc nofollow" target="_blank">“独立且可重用的代码位。它们的作用与 JavaScript 函数相同，但是独立工作并返回 HTML" </a>。</p></blockquote><p id="809f" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">我发现这是一个很好的描述，如果你已经编程一段时间，你应该熟悉一个函数和它们是如何工作的。所以把组件想象成一个函数，它返回一个或多个显示在页面上的元素！类组件是一个类，但是它扩展了 React。组件，</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/0398ac8a0d77a82973f42abcf1226819.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*b__BftyxGmajW1f6WAy8aw.png"/></div></figure><p id="8e81" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">这允许组件继承 React 中的所有方法和函数。组件，如用于状态的构造函数和 super()语句，本文稍后将对此进行详细介绍。</p><h1 id="7e9d" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">类组件和函数组件的区别</h1><p id="4a95" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在 React 版之前，这两种类型的组件之间存在重大差异。功能组件几乎没有被经常使用，因为它们不能保持状态，它们所能做的就是接受属性并返回一个反应元素，它们甚至被称为哑组件！类组件也是唯一可以跟踪组件的<a class="ae ls" href="https://www.geeksforgeeks.org/reactjs-lifecycle-components/#:~:text=Every%20React%20Component%20has%20a,stages%20of%20the%20component's%20existence." rel="noopener ugc nofollow" target="_blank">生命周期的类型。React 16.8 引入了钩子，它允许在功能组件中跟踪和更改状态，使它们成为构建 React 应用程序的首选组件。既然竞争环境已经变得公平了，那么两者之间就只有微小的差异了，大多数差异都可以追溯到简单的语法。一个例子是生命周期，而类组件可以直接访问生命周期方法，功能组件可以用 useState 和 useEffect 模拟这些方法。现在函数组件是首选组件，有几个很好的理由:它们通常比类组件更快，编写代码更少，更容易理解。</a></p><h1 id="66b8" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">类组件的基础</h1><p id="221f" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">众所周知，在编程中，理解某事的最好方法是亲自动手，然后构建自己，所以让我们开始吧！我们将构建一个非常简单的类组件，使用道具显示问候。</p><p id="d833" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">首先，在 React 项目中创建一个新组件。就像你需要导入 React 的任何组件一样，如果你愿意，你可以解构 React。组件以及</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/d7fac0290ca8ab9ff60837404cc37d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/format:webp/1*Y3yVkOMSX8lRHGcwMumjCA.png"/></div></figure><p id="6cc7" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">或者</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/aa9fb20eaf30e6e1eca62ec42700d909.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*Mibw9XZQb87zLlLoaKDl_A.png"/></div></figure><p id="65f0" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">现在我们需要使用 extends 关键字创建组件。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi md"><img src="../Images/e964fc586ea3ee1fa9300bc70cdbc11f.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/format:webp/1*-YVq-ldKhn4L0j05v-ljsw.png"/></div></figure><p id="9af0" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">与只需要 return 语句的 functions 组件不同，类组件也需要 render 函数，但是它们仍然返回相同的东西。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi me"><img src="../Images/16b74b79f39d870ede2c4cdb23b3144e.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*Xw_cPkOVHXL7s5kuZqdHmw.png"/></div></figure><p id="8fef" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">说到道具，它们几乎和功能组件一样，你仍然需要把它们从父母那里传下来</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/822d1789345b09b9bbb177da2707c682.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*JiPNuV0Z67vyB9XJRK4JBA.png"/></div></div></figure><p id="bd51" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">但是当你使用它们的时候，你必须使用<strong class="kk io">这个</strong>关键字和你的道具，以及状态。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/0aae5bdf2cf2e330863980b399983f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*XCPNfCv3krL_H3KKzGgTfA.png"/></div></figure><p id="efa1" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">如果你正在使用状态和或者你正在使用一个构造函数，你的属性应该像通过超级方法一样被传递</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/a995ffa82ee2489579623ab142bf885e.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*7wG-iOSNuQYBUsQ0GQnltg.png"/></div></figure><p id="7a69" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">确保父对象被正确渲染，瞧！一个完全有效的类组件</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/ad7077612ddafceb0040f62053047238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*hLLqoKmv7DjBaJktH6_h1A.png"/></div></figure><h1 id="3e9a" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">为什么它们仍然重要？</h1><p id="bff1" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我想在这里加一个小星号来说明这不是 clickbait，类组件很重要…但是你可能永远不会从头开始写一个。现在你可能刚刚读完，并且在想“我是不是在这篇文章上浪费了我生命中的 5 分钟”？不，你没有，我认为 React 类组件是一个你不需要精通的主题，但了解基本知识是很重要的，因为你很可能会在现场不时遇到它们。你可能在一家公司工作，该公司的应用程序已经在 React 上运行了多年，在这种情况下，你肯定会遇到一个类组件，你甚至可能会被要求将其转换为功能组件，在没有任何知识的情况下，你甚至需要在开始之前做一些研究。在 React 文档中，他们提到了他们将如何继续得到支持，并给出了仍在使用的 amount 类组件的概念。</p><blockquote class="lg lh li"><p id="2c90" class="ki kj lj kk b kl lk kn ko kp ll kr ks lm ln kv kw lo lp kz la lq lr ld le lf ig bi translated"><a class="ae ls" href="https://reactjs.org/docs/hooks-intro.html#gradual-adoption-strategy" rel="noopener ugc nofollow" target="_blank">在可预见的未来，我们将继续支持 class 组件。在脸书，我们有成千上万的组件被写成类，我们绝对没有重写它们的计划。</a></p></blockquote><p id="d1a2" class="pw-post-body-paragraph ki kj in kk b kl lk kn ko kp ll kr ks kt ln kv kw kx lp kz la lb lr ld le lf ig bi translated">你甚至可能在采访中被问到它们，在 Reddit 的一个帖子中询问学习类组件是否仍然有必要一个用户讲述了他如何在一次技术面试中失败的故事，因为他们问了他一个关于类组件的问题，这可能有点夸张，但无论如何你都不想毫无准备，不是吗？</p></div></div>    
</body>
</html>