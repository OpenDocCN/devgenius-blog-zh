<html>
<head>
<title>Add Home Screen Quick Actions in Swift and iOS 13</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Swift 和 iOS 13 中添加主屏幕快速操作</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/add-home-screen-quick-actions-in-swift-and-ios-13-71615f805eff?source=collection_archive---------0-----------------------#2019-10-17">https://blog.devgenius.io/add-home-screen-quick-actions-in-swift-and-ios-13-71615f805eff?source=collection_archive---------0-----------------------#2019-10-17</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="d21e" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">如何在你的应用中轻松实现快速操作</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/eacd36a1d51f2eb2124389d459bf6d24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CLsoEC2xcLl5PMEU"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">丹尼尔·科尔派在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="9e85" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">介绍</h1><p id="fefd" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">在 iOS 13 的新版本中，<a class="ae kw" href="https://developer.apple.com/ios/3d-touch/" rel="noopener ugc nofollow" target="_blank"> 3D Touch </a>、<a class="ae kw" href="https://developer.apple.com/documentation/ios_ipados_release_notes/ios_ipados_13_1_release_notes" rel="noopener ugc nofollow" target="_blank"> Haptic Touch </a>和长按手势(针对所有没有 3D Touch 的设备)现在是一个单上下文菜单系统。如果您按住图标大约一秒钟，快速操作菜单将与“共享”(与您的朋友共享应用程序)和“重新排列应用程序”(更改应用程序位置或删除应用程序的新功能)一起显示。</p></div><div class="ab cl ml mm hv mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ik il im in io"><h1 id="adc9" class="kx ky ir bd kz la ms lc ld le mt lg lh jx mu jy lj ka mv kb ll kd mw ke ln lo bi translated">入门指南</h1><p id="64f8" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">首先，打开<a class="ae kw" href="https://developer.apple.com/xcode/" rel="noopener ugc nofollow" target="_blank"> Xcode </a>，新建一个项目。选择“单视图应用程序”</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj mx"><img src="../Images/8e35630a8290062d9bb5937aff1f4461.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nooEaQ9ORjRjB5PLFn56w.png"/></div></div></figure><p id="fb61" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated">首先，请记住，我们最多只能添加四个动作。</p><p id="9684" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated">创建一个新的快速动作:打开<code class="fe nd ne nf ng b">Info.plist</code> <strong class="lr is"> <em class="nh"> </em> </strong>文件，添加一个名为<code class="fe nd ne nf ng b">UIApplicationShortcutItems</code>的新元素。将“数组”设置为类型。在此元素下，为您想要添加到应用程序的每个快速操作创建一个项目，并将该项目设置为“Dictionary”在此项中，您需要添加以下全部或部分密钥:</p><ul class=""><li id="cee3" class="ni nj ir lr b ls my lv mz ly nk mc nl mg nm mk nn no np nq bi translated"><code class="fe nd ne nf ng b">UIApplicationShortcutItemType</code> <strong class="lr is"> </strong>(必选):标识快速动作的唯一字符串。比如:<code class="fe nd ne nf ng b">com.mediumproject.helloWorld</code>。</li><li id="2b95" class="ni nj ir lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated"><code class="fe nd ne nf ng b">UIApplicationShortcutItemTitle</code>(必选):<strong class="lr is"> </strong>显示给用户的快速动作标题。</li><li id="ccfc" class="ni nj ir lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated"><code class="fe nd ne nf ng b">UIApplicationShortcutItemSubtitle </code>(可选):快速动作的字幕。</li><li id="ef2b" class="ni nj ir lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated"><code class="fe nd ne nf ng b">UIApplicationShortcutItemIconType</code>(可选):<strong class="lr is"> </strong>在这里您可以设置一个苹果制造的<a class="ae kw" href="https://developer.apple.com/documentation/uikit/uiapplicationshortcuticon/icontype" rel="noopener ugc nofollow" target="_blank">预定义图标</a>。</li><li id="b461" class="ni nj ir lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated"><code class="fe nd ne nf ng b">UIApplicationShortcutItemIconFile</code>(可选):<strong class="lr is"> </strong>用于设置自定义图标。</li><li id="18f1" class="ni nj ir lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated"><code class="fe nd ne nf ng b">UIApplicationShortcutItemUserInfo</code>(可选):<strong class="lr is"> </strong>保存数据的字典。</li></ul><p id="e3ba" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated">如果你启动应用程序，你应该会看到四个快速动作，但现在如果你点击其中任何一个，什么都不会发生。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj nw"><img src="../Images/d0e6e0ae43775273833e7d35054b7548.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*QjPwY114fnIU8VLfTkpaxg.png"/></div></figure></div><div class="ab cl ml mm hv mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ik il im in io"><h1 id="b739" class="kx ky ir bd kz la ms lc ld le mt lg lh jx mu jy lj ka mv kb ll kd mw ke ln lo bi translated">履行</h1><p id="d8cb" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">现在我们终于可以开始写一些代码了！</p><p id="0e70" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated">首先，我们需要在<code class="fe nd ne nf ng b">SceneDelegate.swift</code>文件中添加以下方法，当用户在主屏幕上点击快速动作时会调用该方法。然后，我们需要检查哪个动作被调用，并执行我们的代码逻辑。在本例中，我将显示一个带有快速动作类型标识符的警报。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nx ny l"/></div></figure></div><div class="ab cl ml mm hv mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ik il im in io"><h1 id="1c32" class="kx ky ir bd kz la ms lc ld le mt lg lh jx mu jy lj ka mv kb ll kd mw ke ln lo bi translated">是时候测试一下了</h1><p id="5a97" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">我们终于准备好推出我们的应用程序，并尝试一些快速行动！</p><div class="kh ki kj kk gu ab cb"><figure class="nz kl oa ob oc od oe paragraph-image"><img src="../Images/12e7edfaac0c3ae1af6c6ac4dcf26b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*gYZYjciyxdsSCZw3VXPMcg.png"/></figure><figure class="nz kl oa ob oc od oe paragraph-image"><img src="../Images/1c9974d435b48d44ddef23ec1c6b22e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*c_JNOYXi5thNxBgnZTaPDQ.png"/></figure></div><div class="ab cb"><figure class="nz kl oa ob oc od oe paragraph-image"><img src="../Images/bee15ec528acd6b12d6e4256e2416f38.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*E-WBVlQcP_Uopom4ai3iyQ.png"/></figure><figure class="nz kl oa ob oc od oe paragraph-image"><img src="../Images/6a1f6e82f429064325ebfde36b3ef42e.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*CIwGxr0tbb_LqI8gTcUMAg.png"/></figure></div><p id="5c57" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated"><strong class="lr is">更新</strong>:我改了爱和书签快速行动的代码。现在他们使用两种不同的逻辑(如果你使用故事板或者编程)来调用另一个<code class="fe nd ne nf ng b">ViewController</code>内部的特定方法。</p><p id="a4dc" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated">这是第二个<code class="fe nd ne nf ng b">ViewController</code>作为例子:</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nx ny l"/></div></figure></div><div class="ab cl ml mm hv mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ik il im in io"><figure class="kh ki kj kk gu kl gi gj paragraph-image"><a href="https://www.buymeacoffee.com/nicolidomenico"><div class="gi gj of"><img src="../Images/2a5f4681ef2bdba5652dc9b023b668a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D-JJemrcn63kKj3lPBwZ5w.png"/></div></a></figure><p id="5c87" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated">感谢您的阅读。如果你有任何问题或建议，请在评论中告诉我。</p><p id="532d" class="pw-post-body-paragraph lp lq ir lr b ls my js lu lv mz jv lx ly na ma mb mc nb me mf mg nc mi mj mk ik bi translated"><strong class="lr is">这里</strong>  <strong class="lr is">可以找到完整的代码</strong> <a class="ae kw" href="https://github.com/domeniconicoli/QuickActions" rel="noopener ugc nofollow" target="_blank"> <strong class="lr is">。</strong></a></p></div></div>    
</body>
</html>