<html>
<head>
<title>Quick Intro to Rest API development with Spring Boot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spring Boot Rest API 开发快速入门</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/quick-intro-to-rest-api-development-with-spring-boot-64583dabbe8c?source=collection_archive---------14-----------------------#2022-09-02">https://blog.devgenius.io/quick-intro-to-rest-api-development-with-spring-boot-64583dabbe8c?source=collection_archive---------14-----------------------#2022-09-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="89a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">具有真实数据库数据的 Spring Boot REST API 项目。提供带源代码的回购！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/d01acc70359160682f0128a0c482bef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uD966I4S2DlqnfqM.png"/></div></div></figure><h1 id="d915" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h1><p id="c64d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这是一个快速、简单、运行良好的 Spring Boot REST API 项目，展示了这样一个项目的基本构件。这个想法是为了激励初学者，并挑战他们开始深入挖掘。当然，您可以遵循“<a class="ae ma" href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started.first-application" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">开发您的第一个 Spring Boot 应用程序</strong> </a>”的官方文档或任何其他适当的来源。当然，您必须花一些时间来熟悉基本概念(例如，REST APIs、端点、请求、响应等。这个帖子也是我其他帖子的基础。提供了 GitHub 库。</p><h1 id="7837" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">先决条件</h1><p id="74f9" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">自从你开始阅读这篇文章，我想你也开始对 Spring Boot 开发感兴趣，至少知道如何通过<a class="ae ma" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Spring iintializ</strong></a><a class="ae ma" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">r</strong></a>创建/初始化一个项目。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://start.spring.io/"><div class="gh gi mb"><img src="../Images/8ebec59db7677ae7cb9418b9baa45e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cOYgkXrCZ_LheMnUWs0VGQ.png"/></div></a></figure><p id="a818" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想继续，您应该有一个合适的 IDE 和必要的工具来开发这样一个应用程序。如果你想了解如何开始使用 Spring Boot 和相关工具编写 VS 代码[ <a class="ae ma" href="https://www.devxperiences.com/pzwp1/2022/05/15/intellij-community-edition-working-with-spring-boot/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">这里</strong> </a> ]，以及 IntelliJ (CE) IDEA [ <a class="ae ma" href="https://www.devxperiences.com/pzwp1/2022/05/15/visual-studio-code-setting-it-up-as-your-java-spring-boot-development-environment/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">这里</strong> </a> ]，我还有其他的帖子。这些帖子还包括了 IDE 中的<strong class="jp ir">的 Spring Initializr 的用法。此外，你还需要访问一个工作数据库，实际上是一个 MariaDB/MySQL 数据库。</strong></p><h1 id="36ca" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">REST API 的非常非常基本的演示应用</h1><h2 id="ed5f" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">项目初始化</h2><p id="c803" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在通过 Spring Intializr 创建/初始化项目的过程中，您可以添加许多适合开始开发项目的依赖项。Spring Boot 为我们提供了许多“开端”。添加到项目类路径中的 jar 打包依赖项(如库)。通过点击<a class="ae ma" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Spring iinitalizr</strong></a>中的 ADD DEPENDENCIES 按钮，您可以找到一个带有简短描述的启动器/依赖项的长列表。此外，您可以随时访问 Maven 存储库，它维护着一个庞大的依赖项列表。</p><p id="0184" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，您可以随时访问 Maven 存储库，它维护着一个庞大的依赖项列表。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web/2.7.0"><div class="gh gi mo"><img src="../Images/ed7eb2a9c1f975a783ef0363958394b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5BIN0HIUiW4cBch-U6iHWA.png"/></div></a></figure><p id="eef1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意:这里使用了<a class="ae ma" href="https://maven.apache.org/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Apache Maven </strong> </a>依赖/包管理器。—不是那个<a class="ae ma" href="https://gradle.org/" rel="noopener ugc nofollow" target="_blank"> Gradle </a>。</p><p id="f1de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为 REST API 开发实际上是一个 WEB 应用程序，你至少需要添加<strong class="jp ir"> Spring Boot 启动 Web </strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mp"><img src="../Images/4f11ee1d7757319204a7afb8ede22185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TvIqrjkCERyT8_5XQxv3-w.png"/></div></div></figure><p id="39ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，如果你也希望使你的开发周期更容易(自动重启/实时重载)，那么也可以添加 Spring Boot 开发工具。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mq"><img src="../Images/afd17d764e2a37c49bc0b46d4b305bed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0dyLken1oiqYsKKA58H8JQ.png"/></div></div></figure><p id="103e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就这样，现在不需要更多的依赖。在您的本地计算机中选择一个文件夹，并创建您的项目。实际创建的是一个与下图相同或相似的文件夹结构:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="a59c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看看下面的<a class="ae ma" href="https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#what-is-a-pom" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> pom.xml </strong> </a>文件，您可以看到由 Spring Initializr 自动添加的真正的依赖项:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="56fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">太酷了。花点时间熟悉 Spring Boot、依赖项和 pom.xml 文件，以及创建的其他文件和文件夹。</p><h2 id="877a" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">从事项目</h2><p id="72d6" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><strong class="jp ir">添加一个对象(实体)类</strong></p><p id="786f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加一个对象类作为对 HTTP 请求的响应，作为数据发回的原型。在这里，作为一个例子，我们使用了<strong class="jp ir">Item.java</strong>类:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="d118" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">添加一个存储库类</strong></p><p id="2b57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是另一个标注为<a class="ae ma" href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Repository.html" rel="noopener ugc nofollow" target="_blank"> @Repository </a>的类，在这里我们可以收集对象的<strong class="jp ir">列表</strong>(在我们的例子中是项目),并将它们作为响应发送回去。它实际上充当了一个<a class="ae ma" href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Controller.html" rel="noopener ugc nofollow" target="_blank">@控制器</a>的存储库<strong class="jp ir">服务</strong>(数据源)。下面是一个非常简单的例子，它只返回带有预定义值的 Item 对象的数组列表:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="67d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于上述两个 java 类都是数据对象，我们可以将它们打包在一个包中，例如"<strong class="jp ir"> dataObjects </strong>"包。</p><p id="9d87" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mt">注意，一个</em> <a class="ae ma" href="https://docs.oracle.com/javase/tutorial/java/concepts/package.html" rel="noopener ugc nofollow" target="_blank"> <em class="mt">包</em> </a> <em class="mt">这里只是一个</em> <strong class="jp ir"> <em class="mt">文件夹</em> </strong> <em class="mt">聚集在一起的一些相关类/对象。此外，使用包来构建您的开发项目总是一个好主意。</em></p><p id="2184" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">添加一个控制器</strong></p><p id="0bb5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个<a class="ae ma" href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Controller.html" rel="noopener ugc nofollow" target="_blank">控制器</a>只不过是一个用一些 Spring 注释适当注释的 java 类。它的主要目的是处理/接受特定端点(URL 路径)的 HTTP 请求，并使用数据(例如对象列表)或异常错误进行响应。下面也是一个名为<strong class="jp ir">ItemsController.java</strong>的控制器的简单例子:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="783d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我们很可能会添加更多的控制器，例如为不同数据对象的其他端点服务，所以将我们的控制器(ItemsController.java)放在一个单独的包中是一个好主意。在这里我们将这个包命名为<strong class="jp ir">控制器</strong>。之后，项目的文件夹结构变成了:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="2f98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者，您也可以在 IDE 中查看项目的文件夹结构(此处来自 VS 代码):</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/1dc1f9686ea635224e7bf4aad3351588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*DaO9Gc-J-JuMDnCDA0YO_w.png"/></div></figure><h2 id="fba1" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">运行项目</h2><p id="e0d0" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">如果你使用的是 VS 代码，并且已经安装了必要的工具(正如我之前提到的，你可以在这篇<a class="ae ma" href="https://www.devxperiences.com/pzwp1/2022/05/15/visual-studio-code-setting-it-up-as-your-java-spring-boot-development-environment/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"/></a>的帖子中看到)，那么你就可以运行这个应用程序了，方法是在边栏下部的左窗格中找到<strong class="jp ir"> Spring Boot 仪表板</strong>标签。然后点击运行箭头，启动应用程序。(如果您看到任何类似“<em class="mt">错误:无法找到或加载主类 com . zzpzaf . restapidemo . restapidemoapplication</em>”的错误，那么您可能需要首先编译应用程序，方法是单击<strong class="jp ir"> Maven </strong>选项卡的<strong class="jp ir">生命周期</strong>的<strong class="jp ir">编译</strong>选项。然后运行应用程序。)</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/16449c5b90fb11f662f6b9537f9e64c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pQyLRJZeLDPxZuOw.png"/></div></div></figure><p id="c3b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您应该知道，嵌入式<a class="ae ma" href="https://tomcat.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Tomca </a> <a class="ae ma" href="https://tomcat.apache.org/" rel="noopener ugc nofollow" target="_blank"> t </a>服务器(由 spring-boot-starter-web 依赖项提供，我们已经在项目初始化期间添加了该依赖项)在端口 8080 监听传入的 HTTP 请求。所以，打开你的浏览器，输入网址:<a class="ae ma" href="http://localhost:8080/api/items," rel="noopener ugc nofollow" target="_blank">http://localhost:8080/API/items，</a>然后回车:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/4bf167510e5a34acaf0f6ead6f849f64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sOuTUhKVX3eoETPd.png"/></div></div></figure><p id="9e53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，更好的方法是安装并使用众所周知的<a class="ae ma" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> Postman </a> API 测试工具，与你的 API 一起工作。例如:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/a7db59fb8af5c47b02249eb4d4d7cad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zOWX6wWVYt89OmkG.png"/></div></div></figure><p id="c24f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">酷！。到目前为止，一切顺利。</p><p id="0f65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您成功地遵循了上面的指导方针，那么您已经创建了一个简单的项目代码库。然而，为了您的方便，这里有一个回购协议，您可以将其作为进一步发展的基础:<br/><a class="ae ma" href="https://github.com/zzpzaf/restapidemo_base.git" rel="noopener ugc nofollow" target="_blank">https://github.com/zzpzaf/restapidemo_base.git</a>。</p><h1 id="76ff" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">使用真实数据库中的数据</h1><p id="949f" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">到目前为止，一切顺利。然而，仅仅使用一个 ArrayList 来创建一些条目数据，就可以让您了解如何通过 REST API 端点来提供一些数据，但实际上，这没什么大不了。在大多数情况下，REST API 由一个真实的数据库支持，即用于保存和检索应用程序数据的持久性数据层。</p><p id="2803" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面，我们将通过使用一个真实的数据库来扩展我们的基本示例。</p><h2 id="fb72" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">使用真实数据库进行数据准备(<a class="ae ma" href="#fb72" rel="noopener ugc nofollow"> MariaDB </a>)</h2><p id="9e7b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在<a class="ae ma" href="https://en.wikipedia.org/wiki/SQL" rel="noopener ugc nofollow" target="_blank"> SQL </a>数据库和<a class="ae ma" href="https://en.wikipedia.org/wiki/NoSQL" rel="noopener ugc nofollow" target="_blank"> NoSQL </a>数据库之间，这里我们将使用一个 SQL 数据库，更准确地说是<a class="ae ma" href="https://mariadb.org/" rel="noopener ugc nofollow" target="_blank"> MariaDB </a>一个对<a class="ae ma" href="https://www.mysql.com/" rel="noopener ugc nofollow" target="_blank"> MySQL </a>的开源(二进制)替代。如果你还没有在你的机器上安装它，你可以这样做，例如，在我的文章中选择下面两个选项中的一个:</p><ul class=""><li id="bb56" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated"><a class="ae ma" href="https://medium.com/@zzpzaf.se/mariadb-in-docker-65130d77959b?sk=b52cad21459a10dc0c873fcf15b612c8" rel="noopener">Docker</a>中的 MariaDB(安装和使用)</li><li id="f731" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><a class="ae ma" href="https://www.devxperiences.com/pzwp1/2021/01/08/install-mariadb-10-5-8-ga-via-homebrew-on-macos/" rel="noopener ugc nofollow" target="_blank">安装 MariaDB (10.5.8。-GA)通过 macOS 上的自制软件</a></li></ul><p id="8821" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，在您访问一个工作的 MariaDB 安装之后，您必须创建一个表，并添加一些我们以前见过的作为 item 对象的 ArrayList 创建的条目记录。</p><p id="19da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用 MariaDB 和 SQL 数据既可以通过使用您的终端和<strong class="jp ir"/><a class="ae ma" href="https://mariadb.com/kb/en/mysql-command-line-client/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">MySQL CLI</strong></a>来完成，也可以通过使用 GUI 来完成，例如<a class="ae ma" href="https://www.mysql.com/products/workbench/" rel="noopener ugc nofollow" target="_blank"> MySQL Workbench </a>或基于 web 的<a class="ae ma" href="https://www.phpmyadmin.net/" rel="noopener ugc nofollow" target="_blank"> phpMyAdmin </a>(或任何其他允许您使用 MariaDB/MySQL 数据库的工具)。请注意，你可能也会发现我的帖子<a class="ae ma" rel="noopener ugc nofollow" target="_blank" href="/the-database-command-line-tools-you-can-add-to-your-dev-environment-without-database-installation-9091dd0c0277?sk=50026b887181c062144e6fbb9130663e">在这里</a>很有用，关于如何安装和使用<strong class="jp ir"> mysql CLI </strong>作为<strong class="jp ir">独立工具</strong>。同样在这里(在我的个人网站上)你可以看到如何在你的机器上安装 phpMyAdmin。为了方便起见，在下面找到生成 Items 表的 SQL 脚本，并向其中添加一些记录:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="0708" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，您必须授予用户对该表的访问权限。在这里，我们将向名为<strong class="jp ir"> user1 </strong>的用户授予完全权限，该用户是在文章<a class="ae ma" href="https://www.devxperiences.com/pzwp1/2021/01/08/install-mariadb-10-5-8-ga-via-homebrew-on-macos/" rel="noopener ugc nofollow" target="_blank"> here </a>中创建 MariaDB Docker 容器的过程中自动创建的，如前所述:</p><p id="8c86" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仅针对表“项目”:</p><pre class="km kn ko kp gt nk nl nm nn aw no bi"><span id="6782" class="mc ky iq nl b gy np nq l nr ns">GRANT ALL ON items TO 'user1'@'%'</span></pre><p id="29d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者对于数据库模式中名为“items1”的任何对象(在我们的示例中，它包含表“items”):</p><pre class="km kn ko kp gt nk nl nm nn aw no bi"><span id="7054" class="mc ky iq nl b gy np nq l nr ns">GRANT ALL ON items1.* TO 'user1'@'%'</span></pre><h2 id="0686" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">添加依赖关系</h2><p id="6d88" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在我们准备好数据库之后，我们现在可以回去继续我们的 REST API 项目。</p><p id="9950" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们必须在项目 pom.xml 文件中添加必要的依赖项。这实际上是两个依赖关系。</p><p id="60fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1.<a class="ae ma" href="https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client" rel="noopener ugc nofollow" target="_blank"> MariaDB Java 客户端</a> —是 MariaDB 和 MySQL 数据库的 JDBC 驱动程序。(最新版本——今天 220520 是 3.0.4)。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client"><div class="gh gi mv"><img src="../Images/6d56ca28e406ccbedf828cd9fc51f464.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mY1VY1slxbHBo33h.png"/></div></a></figure><p id="cc1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.<a class="ae ma" href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jdbc/2.7.0" rel="noopener ugc nofollow" target="_blank"> Spring Boot 首发数据 JDBC </a>。这是最低要求的依赖，为我们提供关系连接和工作模板(创建、执行等)。)与原始 SQL 查询(No<a class="ae ma" href="https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/orm.html" rel="noopener ugc nofollow" target="_blank">ORM</a>s/<a class="ae ma" href="https://spring.io/projects/spring-data-jpa" rel="noopener ugc nofollow" target="_blank">JPA</a>/<a class="ae ma" href="https://hibernate.org/orm/" rel="noopener ugc nofollow" target="_blank">Hibernate</a>)。它支持所有主要的 SQL 数据库和方言(DB2、H2、HSQLDB、MariaDB、Microsoft SQL Server、MySQL、Oracle、Postgres)。<br/>注意，不需要指定其版本，因为它遵循的是 Spring Boot 框架的父依赖关系(今天 220521 的最新版本是版本 2.7.0)。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jdbc/2.7.0"><div class="gh gi mv"><img src="../Images/bc597edac843e56930b3a8f50e443db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9Gr5ipiEkTUOQAfr.png"/></div></a></figure><p id="2212" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，下面给出了实际需要添加到 pom.xml 中的内容。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="c28a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mt">请注意，每次您更改</em><strong class="jp ir"><em class="mt">POM . XML</em></strong><em class="mt">文件时，您的 IDE 都应该</em> <strong class="jp ir"> <em class="mt">同步</em> </strong> <em class="mt">所做的更改(即，它应该从 Maven 存储库中移除或获取依赖项)。如果你愿意，你可以配置它自动完成。</em></p><h2 id="3be8" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">向 application.properties 文件中添加连接参数。</h2><p id="4b87" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">您可能已经注意到，在用 Spring Initializr 创建/初始化的项目结构中的<strong class="jp ir"> /src/main/resources </strong>子文件夹中，已经创建了一个名为<strong class="jp ir"> application.properties </strong>的文件。文件到目前为止是空的。</p><p id="b1a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> application.properties </strong>文件用于定义外部参数(环境属性),这些参数将是我们希望 Spring Boot 应用程序使用的属性。有一些可以使用的预定义属性，这里的<a class="ae ma" href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html" rel="noopener ugc nofollow" target="_blank">是一些最常用的属性。此外，有一个完整的机制允许为不同的目的(开发、测试、生产等)使用不同的 application.properties 文件。)但这是另一个话题。</a></p><p id="5f37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们要做的是设置属性和它们的值，这将允许我们连接和使用我们的 MariaDB 数据库。因此，请在 application.properties 文件中添加以下不言自明的行:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="ffc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就这样，现在可以继续编码了。</p><h2 id="01c3" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">更改我们的存储库中的代码(ItemsRepo.java)</h2><p id="90b0" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">嗯，除了我们更改了 pom.xml 和 application.properties 文件之外，实际上 Java 代码已经没什么可做的了。</p><p id="fea7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，打开 ItemsRepo.java 文件，找到<strong class="jp ir"> getItems() </strong>请求处理方法，并像下面的代码一样修改它:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="f1b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这么简单！其余的由弹簧处理。</p><h2 id="8d62" class="mc ky iq bd kz md me dn ld mf mg dp lh jy mh mi ll kc mj mk lp kg ml mm lt mn bi translated">运行应用程序</h2><p id="054b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">如果您没有更改 Items 表中的数据，您将不会注意到任何差异。产量绝对和以前一样！然而，这一次我们使用一个真实的数据库。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/6a01f03d39e0b77bdf16fe6e4a398bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jI4__j7Q0isLNezC.png"/></div></div></figure><p id="d9ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，就这样了。<br/>同样，你可以在回购处访问最终代码:<br/><a class="ae ma" href="https://github.com/zzpzaf/restapidemo-jdbc-mysql.git" rel="noopener ugc nofollow" target="_blank">【https://github.com/zzpzaf/restapidemo-jdbc-mysql.git</a><br/>在你希望进一步发展的任何时候使用它。</p><p id="b432" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你有所领悟，并准备好开始与 Spring Boot 合作！</p><p id="17c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编码快乐！</p></div></div>    
</body>
</html>