<html>
<head>
<title>Top React Hooks — Hover, Full Screen, Events, and Geolocation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">顶部反应挂钩—悬停、全屏、事件和地理定位</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/top-react-hooks-hover-full-screen-events-and-geolocation-f1b3706b6b6e?source=collection_archive---------9-----------------------#2020-10-12">https://blog.devgenius.io/top-react-hooks-hover-full-screen-events-and-geolocation-f1b3706b6b6e?source=collection_archive---------9-----------------------#2020-10-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/73c24aa3916f88407fd64bbcb497db04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FVVVyfO1zP6nq-Nl"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">约翰·西门子在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3ad5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks 包含了 React 应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的 React 挂钩。</p><h1 id="ea10" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应配方</h1><p id="224c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Recipes 附带了许多钩子，我们可以用来做各种事情。</p><p id="3d92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">挂钩让我们可以在 React 组件中轻松地监听各种事件。</p><p id="5db3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d6f1" class="mq lc iq mh b gy mr ms l mt mu">import React, { useState, useCallback } from "react";<br/>import { useEventListener } from "react-recipes";</span><span id="d441" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [coords, setCoords] = useState({ x: 0, y: 0 });</span><span id="32ed" class="mq lc iq mh b gy mv ms l mt mu">  const handler = useCallback(<br/>    ({ clientX, clientY }) =&gt; {<br/>      setCoords({ x: clientX, y: clientY });<br/>    },<br/>    [setCoords]<br/>  );</span><span id="5378" class="mq lc iq mh b gy mv ms l mt mu">  useEventListener("mousemove", handler);</span><span id="2eff" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;p&gt;<br/>      The mouse position is ({coords.x}, {coords.y})<br/>    &lt;/p&gt;<br/>  );<br/>}</span></pre><p id="029e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">useState</code>钩子来设置初始鼠标坐标。</p><p id="637c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们给用作<code class="fe me mf mg mh b">mousemove</code>事件监听器的<code class="fe me mf mg mh b">useCallback</code>钩子添加了一个回调。</p><p id="b6e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将这个处理程序传递给<code class="fe me mf mg mh b">useEventListener</code>钩子。</p><p id="059c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">useEventListener</code>获取元素要监听的可选第三个参数。</p><p id="12cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认值为<code class="fe me mf mg mh b">window</code>。</p><p id="af1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们从<code class="fe me mf mg mh b">coords</code>状态得到鼠标坐标。</p><p id="e533" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">useFullScreen</code>是一个让我们决定和切换屏幕或元素是否处于全屏模式的好工具。</p><p id="8ff9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过书写来使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="304a" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { useFullScreen } from "react-recipes";</span><span id="8740" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const { fullScreen, toggle } = useFullScreen();</span><span id="214f" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={toggle}&gt;Toggle Full Screen&lt;/button&gt;<br/>      &lt;p&gt;{fullScreen.toString()}&lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="e3f4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">useFullScreen</code>钩子返回一个带有<code class="fe me mf mg mh b">toggle</code>函数的对象。</p><p id="45b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它让我们切换全屏模式。</p><p id="6156" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还返回<code class="fe me mf mg mh b">fullScreen</code>属性来指示文档是否全屏显示。</p><p id="d9fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">open</code>让我们打开全屏模式。</p><p id="3c1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">close</code>让我们关闭全屏模式。</p><p id="a6a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">钩子让我们获得并观察用户的地理位置。</p><p id="b1e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4e80" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { useGeolocation } from "react-recipes";</span><span id="2407" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const { latitude, longitude, timestamp, accuracy, error } = useGeolocation(<br/>    true<br/>  );</span><span id="a886" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;p&gt;<br/>      latitude: {latitude}<br/>      longitude: {longitude}<br/>      timestamp: {timestamp}<br/>      accuracy: {accuracy &amp;&amp; `${accuracy}m`}<br/>      error: {error}<br/>    &lt;/p&gt;<br/>  );<br/>}</span></pre><p id="6e38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用带有参数<code class="fe me mf mg mh b">true</code>的<code class="fe me mf mg mh b">useGeolocation</code>来表示我们想要跟踪位置。</p><p id="3938" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还需要第二个参数和一些选项。</p><p id="6039" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以启用高准确性、设置超时以及设置最大缓存时间。</p><p id="ff2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个带有纬度、经度、时间戳、精确度和误差的对象。</p><p id="9269" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">useHover</code>钩子让我们知道什么时候 most 停留在一个元素上。</p><p id="7ed3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4413" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { useHover } from "react-recipes";</span><span id="daf2" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [hoverRef, isHovered] = useHover();</span><span id="e19f" class="mq lc iq mh b gy mv ms l mt mu">  return &lt;div ref={hoverRef}&gt;{isHovered.toString()}&lt;/div&gt;;<br/>}</span></pre><p id="95b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在组件中调用了<code class="fe me mf mg mh b">useHover</code>钩子，它返回 2 样东西。</p><p id="7ad8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">hoverRef</code>是一个 ref，我们将它传递给想要观察的组件。</p><p id="8d89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">isHovered</code>表示我们是否悬停在我们正在观察的元素上。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/043ad7a620595d90d1b22063479c7068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DTeCH6S34jkhyrpf"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@elishavision?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">埃里佐·迪亚斯</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><h1 id="1380" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="d56d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Recipes 附带了帮助我们获取地理位置数据、观察悬停、切换全屏等功能的钩子。</p></div></div>    
</body>
</html>