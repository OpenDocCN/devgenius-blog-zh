<html>
<head>
<title>How to Delete a Client-Side Cookie with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 JavaScript 删除客户端 Cookie？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-delete-a-client-side-cookie-with-javascript-66c8999096f1?source=collection_archive---------0-----------------------#2021-09-09">https://blog.devgenius.io/how-to-delete-a-client-side-cookie-with-javascript-66c8999096f1?source=collection_archive---------0-----------------------#2021-09-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3b327d423907bb8ab66a63f4a238a882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XXfGiA4-K4vapWhs"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@thecreative_exchange?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上创意交流</a>的照片</figcaption></figure><p id="4cf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们可能会在客户端存储 cookies，以跟踪用户设备上的事情。</p><p id="3628" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而且有时候，我们想从用户的浏览器中删除 cookies。</p><p id="8835" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何用 JavaScript 删除客户端 cookie。</p><h1 id="e4b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建我们自己的函数</h1><p id="effc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">浏览器没有自带任何 API 来让我们轻松删除 cookies。</p><p id="23b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们必须创建自己的函数来删除用户浏览器中的 cookies。</p><p id="1e35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="90a8" class="mn lc iq mj b gy mo mp l mq mr">const getCookie = (name) =&gt; {<br/>  return document.cookie.split(';').some(c =&gt; {<br/>    return c.trim().startsWith(name + '=');<br/>  });<br/>}</span><span id="2fd1" class="mn lc iq mj b gy ms mp l mq mr">const deleteCookie = (name, path, domain) =&gt; {<br/>  if (getCookie(name)) {<br/>    document.cookie = name + "=" +<br/>      ((path) ? ";path=" + path : "") +<br/>      ((domain) ? ";domain=" + domain : "") +<br/>      ";expires=Thu, 01 Jan 1970 00:00:01 GMT";<br/>  }<br/>}</span><span id="ac79" class="mn lc iq mj b gy ms mp l mq mr">document.cookie = 'foo=bar'<br/>deleteCookie('foo')</span></pre><p id="53fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了<code class="fe mt mu mv mj b">getCookie</code>函数来检查具有给定<code class="fe mt mu mv mj b">name</code>值的 cookie。</p><p id="cd9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过用分号分隔<code class="fe mt mu mv mj b">document.cookie</code>字符串来实现。</p><p id="36f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe mt mu mv mj b">name</code>和等号调用分割字符串上的<code class="fe mt mu mv mj b">startsWith</code>来检查是否有带有给定键的 cookie。</p><p id="274d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们定义<code class="fe mt mu mv mj b">deleteCookie</code>函数来检查带有给定键的 cookie 是否与<code class="fe mt mu mv mj b">getCookie</code>一起存在。</p><p id="eced" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是，那么我们通过追加以下内容将一个<code class="fe mt mu mv mj b">expires</code>日期和时间添加到字符串的末尾:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f0ed" class="mn lc iq mj b gy mo mp l mq mr">";expires=Thu, 01 Jan 1970 00:00:01 GMT"</span></pre><p id="b1cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">敬它。</p><p id="7eac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">删除 cookie 的方法是将其到期日期设置为当前日期和时间之前的日期和时间。</p><p id="5fd1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当我们在倒数第二行设置 cookie 并在其后用相同的键调用<code class="fe mt mu mv mj b">deleteCookie</code>时，我们不会看到 cookie 被设置，因为它在其后立即被添加和删除。</p><h1 id="533a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="80ba" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以从用户的浏览器中删除一个客户端 cookie，方法是用给定的密钥将 cookie 的到期日期设置为当前日期和时间之前的某个日期和时间。</p></div></div>    
</body>
</html>