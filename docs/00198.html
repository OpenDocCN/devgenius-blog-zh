<html>
<head>
<title>Beginners Guide to React’s Context API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React的上下文API初学者指南</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/beginners-guide-to-reacts-context-api-d2fafc89404f?source=collection_archive---------1-----------------------#2020-05-05">https://blog.devgenius.io/beginners-guide-to-reacts-context-api-d2fafc89404f?source=collection_archive---------1-----------------------#2020-05-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/af39e04c46659d9e3c659e08514c9a65.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*4lmNbH1mT7lbLN89232SCg.png"/></div></figure><p id="d0a3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">免责声明:本指南适用于任何想学习React中的状态管理的人，或者任何想从redux过渡到更简单选项的人。</p><p id="997f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">话虽如此，让我们继续前进。</p><h2 id="5014" class="kp kq in bd kr ks kt dn ku kv kw dp kx kc ky kz la kg lb lc ld kk le lf lg lh bi translated"><strong class="ak">这是我们将要建造的</strong></h2><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi li"><img src="../Images/2cf155f67c1754b22cb403b37e2b7ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLcHmazA9X4JjjmwWl_FhQ.jpeg"/></div></div></figure><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi lr"><img src="../Images/1a685d3109f0c5e2d9582278ef7c0b8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IwAsgNEAIOEib_mPZovqUQ.jpeg"/></div></div></figure><p id="321a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">你可以在我的github <a class="ae ls" href="https://github.com/HarcourtHamsa/context-api-tutorial" rel="noopener ugc nofollow" target="_blank">回购上找到源代码。</a></p><h2 id="d3ea" class="kp kq in bd kr ks kt dn ku kv kw dp kx kc ky kz la kg lb lc ld kk le lf lg lh bi translated">先决条件:</h2><ol class=""><li id="004c" class="lt lu in jt b ju lv jy lw kc lx kg ly kk lz ko ma mb mc md bi translated">反应钩。</li><li id="3bd9" class="lt lu in jt b ju me jy mf kc mg kg mh kk mi ko ma mb mc md bi translated">react-router-dom(用于react中的基本路由)</li><li id="9be7" class="lt lu in jt b ju me jy mf kc mg kg mh kk mi ko ma mb mc md bi translated">结节</li><li id="5fe4" class="lt lu in jt b ju me jy mf kc mg kg mh kk mi ko ma mb mc md bi translated">反应</li></ol><p id="4c9e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我假设您已经安装了所有这些软件，并且知道它们是如何工作的。如果你不知道，请去上一两堂课，然后再回来。</p><h2 id="71a6" class="kp kq in bd kr ks kt dn ku kv kw dp kx kc ky kz la kg lb lc ld kk le lf lg lh bi translated">入门指南</h2><p id="b11e" class="pw-post-body-paragraph jr js in jt b ju lv jw jx jy lw ka kb kc mj ke kf kg mk ki kj kk ml km kn ko ig bi translated">我假设你的电脑里已经安装了React、Node和NPM。让我们从创建react应用程序开始。运行以下命令。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/8a022553b8a1f16a0b5febed4ee444dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*O3-eXdPep8TDX8d9oG41vA.jpeg"/></div></figure></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="4049" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们刚刚在一个名为context-api-tutorial的目录中创建了一个react应用程序，并进入了这个目录。</p><p id="5deb" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">接下来，在你最喜欢的文本编辑器中打开你的react应用。我将使用VSCode。</p><p id="d0b2" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在您的<em class="mu"> src </em>文件夹中创建一个名为<em class="mu"> context.js </em>的文件。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mv"><img src="../Images/3b247e6a2428493d293d52ef31305add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hTwatxAjsz0q5NWdWQybFw.jpeg"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">src/上下文. js</figcaption></figure><p id="12f0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这就是上面发生的事情。我们从React导入<em class="mu"> createContext </em>。<em class="mu"> createContext </em>你猜对了，它被用来创建一个上下文，我把我的上下文命名为AppContext<em class="mu">但是你也可以把你的上下文命名为其他的。我们创建一个名为<em class="mu"> AppProvider </em>的功能组件，它返回<em class="mu"> AppContext.Provider。提供者</em>和<em class="mu">提供者是同一个东西，它接受一个价值道具。</em>我们传递到价值主张中的任何内容都将在我们的应用程序中可用<em class="mu">。</em>如果你熟悉<em class="mu"> react钩子，</em>你就已经知道代码的另一部分了。</em></p><p id="bf81" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">接下来，我们进入我们的<em class="mu"> index.js </em>文件，并进行以下更改。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi na"><img src="../Images/38d303262a47beb4215343824064f4ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*usBsZb_s01Ans2q2xSPmdw.jpeg"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">索引. js</figcaption></figure><p id="c832" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这里，我们只导入了我们的<em class="mu"> AppProvider </em>并将其包装在我们的应用程序中。就像我之前说的，这使得我们的<em class="mu">值</em>在我们的应用程序中可用。</p><p id="5c0c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">接下来，打开App.js文件，进行以下更改。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nb"><img src="../Images/9261417ff9ff9fdc523260c30dcea0d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXzljEy0r24C1EPUeYj8Iw.jpeg"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">App.js</figcaption></figure><p id="0805" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在这里，我正在为我的react应用程序创建基本路线。如果你不知道这是怎么回事，请参加react路由教程。</p><p id="728f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">接下来，创建一个名为<em class="mu"> components </em>的目录来存储我们所有的应用组件。我们的应用程序将只有两个组件；<strong class="jt io">归位</strong>和<strong class="jt io">仪表盘</strong>。在我们的组件文件夹中，创建一个名为<em class="mu"> Home.js </em>的文件，并粘贴以下代码。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nc"><img src="../Images/10cf892d04d367c49d7b9c15fae1dae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r1mwWCBjPGRvdabO8xcGIQ.jpeg"/></div></div></figure><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nc"><img src="../Images/99b1c3e1dd151f984fcc2249211aec41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q0d4_q5yg9IRFaJ77MVFJQ.jpeg"/></div></div></figure><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nd"><img src="../Images/7d85e4e788a8d6a409a2d79a881c6c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s0Yevz2rt8R2RpAGcuXVWw.jpeg"/></div></div></figure><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi ne"><img src="../Images/7ad666e81eb23c634a0f8671f2ecde9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MxB37rLRvPnPTxHKHt-2Uw.jpeg"/></div></div></figure><p id="665c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我知道你现在的感受。相信我，我知道。给我一点时间</p><p id="1bd2" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">解释这是怎么回事。我们从react导入了<em class="mu"> useContext。useContext </em>基本上告诉react我们想要使用的上下文。对我们来说，那将是<em class="mu"> AppContext </em>。然后，我们析构我们传递到我们的值props中的内容(它被传递到<em class="mu"> AppProvider </em>)。从用户那里获得输入后，我们用setDisplayName设置displayName的状态。然后，我们可以在应用程序的任何地方使用display。</p><p id="c64f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">最后，我们在组件目录中创建一个Dashboard.js文件，并粘贴以下代码。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nf"><img src="../Images/385b617df3f46e29bbdebdb487bd2f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gS1fiwQJvRVA3ZRNVriaAg.jpeg"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">src/组件/Dashboard.js</figcaption></figure><p id="e8ce" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">到目前为止，我相信您已经掌握了这里发生的事情。如果没有，我们告诉react我们想要使用什么上下文(使用<em class="mu"> useContext </em>)。我们从AppContext中析构displayName，因为这是我们所需要的。最后，我们显示displayName的结果。</p><h1 id="6fbb" class="ng kq in bd kr nh ni nj ku nk nl nm kx nn no np la nq nr ns ld nt nu nv lg nw bi translated">包裹</h1><p id="05ba" class="pw-post-body-paragraph jr js in jt b ju lv jw jx jy lw ka kb kc mj ke kf kg mk ki kj kk ml km kn ko ig bi translated">这个例子相当简单，我希望你能够理解如何使用上下文API在React中处理状态。</p><p id="c01c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">别忘了自己尝试新的例子。</p><p id="27dd" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">快乐编码:)</p></div></div>    
</body>
</html>