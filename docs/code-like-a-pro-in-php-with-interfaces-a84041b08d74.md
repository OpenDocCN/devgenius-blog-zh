# PHP 中的接口解释

> 原文：<https://blog.devgenius.io/code-like-a-pro-in-php-with-interfaces-a84041b08d74?source=collection_archive---------3----------------------->

## 如何以及何时在 PHP 中使用接口？举例说明。

![](img/6f1e839f53c914e22b487c7d50d47d55.png)

[@hiteshchoudhary](https://www.pexels.com/@hiteshchoudhary/)

用 PHP 创建 web 应用时会用到接口吗？如果还没有，我希望你在读完这篇文章后会开始了解。

> “接口允许您指定对象的行为，而不必担心实现细节”

我已经编程很多年了，但是直到最近我才意识到**接口**在编程中的力量。

以前，我没有使用它们——主要是因为**我不理解它们**。

每当我需要编写一些新功能时，我就从抽象类*开始。你也有那个吗？*

今天我根本不使用抽象类！我在早期的出版物中写道:

[](/stop-using-extends-in-php-37c9da1cce83) [## 停止在 PHP 中使用“扩展”

### 你在你的域代码中使用抽象类还是扩展类？希望从今天起，你会停止这样做…

blog.devgenius.io](/stop-using-extends-in-php-37c9da1cce83) 

当时，我无法理解接口会给应用程序带来什么价值。毕竟，它们没有任何代码。

> 了解接口最重要的事情是，它们只不过是对代码将如何运行的**承诺**，而不是它将如何“工作”

你能感觉到这种微妙的不同吗？有可能**在没有实际代码**的情况下围绕那个承诺进行构建。如果我把它作为一个例子来展示，那就简单多了。

> 您的任务是编写一个新功能，允许将订单导出到 XML 文件。

因为您正在创建新的功能，所以您从界面开始！
订单将被输入并在输出上生成文件。

经过简短的思考，您得出结论，在不久的将来，他们肯定会要求您将该功能扩展到其他文件格式。您决定在接口中包含“格式”参数。

服务合同

与此同时，前端团队希望在订单列表的管理面板中实现该功能。但是，它们需要一个控制器地址，控制器将处理请求并返回一个包含报告的文件。

他们必须等你实现所有的功能吗？多亏了这些接口，他们不必等待。我们已经可以编写控制器了:

并嘲笑其功能:

订单导出器模拟测试功能

就这样，我们有了一个完整的工作代码！前台人员可以专注于在仪表板中交付特性，而您可以专注于最终的实现。

在 Symfony 中，我们可以指出这是在请求 **OrderExporterInterface** 服务时使用的默认实现:

```
services:
    App\Services\OrderExport\**OrderExporterInterface**:
        '@App\Services\OrderExport\**XmlOrderExporterMock**'
```

在 Laravel，我们可以在服务提供商中做同样的事情:

```
$this->app->bind(
    **OrderExporterInterface**::class,
    **XmlOrderExporterMock**::class
);
```

第二天，您发现有一个可用的序列化程序库。让我们用它来创建最终的实现，并简单地在框架的服务容器中替换它:

使用序列化程序的订单导出器

接下来的一个月，老板要求您交付一种新的输出格式，用于您的系统和基于云的 CRM 服务之间的定制集成。

这是你必须提供多种格式支持的时候了。让我们为请求的格式创建新的导出器:

另外一个实现将成为主要实现:

我们可以在服务容器中轻松绑定这个实现，例如在 Laravel:

![](img/5a69d963e451836654e673ac58980a3b.png)

正如你所看到的，有了接口，我们可以毫不费力地扩展功能，而不会被应用程序(如仪表板、集成)注意到——这是我很长一段时间都没有理解的美妙之处。

> 编程到接口，而不是实现！

这种方法带来的可能性是无限的。只要你的整个应用程序坚持使用接口，**实现**仅仅是一个**无关紧要的细节**。

更不用说测试变得多么容易了。你不再需要嘲笑了！简单地写一个存根，将模拟工作。就像前面提到的`XmlOrderExporterMock`。

我说服你了吗？你会给界面一些爱吗？请务必阅读我在 **DevGenius** 上发表的关于如何更好地编写代码的其他文章:

[](/stop-using-extends-in-php-37c9da1cce83) [## 停止在 PHP 中使用“扩展”

### 你在你的域代码中使用抽象类还是扩展类？希望从今天起，你会停止这样做…

blog.devgenius.io](/stop-using-extends-in-php-37c9da1cce83) [](/stop-using-static-in-php-b150527819b2) [## 停止在 PHP 中使用“静态”

### 让我试着说服你为什么共享状态是错误的，以及如何避免它以成为一个更好的开发者

blog.devgenius.io](/stop-using-static-in-php-b150527819b2) [](/how-to-write-good-unit-tests-a5bb376210bb) [## 如何写出好的单元测试？

### 编写良好的单元测试的十个标志

blog.devgenius.io](/how-to-write-good-unit-tests-a5bb376210bb)