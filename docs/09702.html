<html>
<head>
<title>What’s New in React Native 0.70 — How to Upgrade and Why it Matters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Native 0.70 的新增功能—如何升级以及为什么它很重要</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/whats-new-in-react-native-0-70-how-to-upgrade-and-why-it-matters-67aa35d75e37?source=collection_archive---------1-----------------------#2022-09-06">https://blog.devgenius.io/whats-new-in-react-native-0-70-how-to-upgrade-and-why-it-matters-67aa35d75e37?source=collection_archive---------1-----------------------#2022-09-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0edc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">React Native 0.70 刚刚登陆——这是它的新特性，以及它的重要性</h2></div><p id="d81a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React Native 的最新版本 0.70 进行了大量改进，并继续推出了<a class="ae lb" href="https://reactnative.dev/docs/the-new-architecture/landing-page" rel="noopener ugc nofollow" target="_blank">新的 React Native 架构</a>。让我们深入了解一下新特性，更重要的是，为什么它如此重要。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/75d9e4054cbcccbc4068c895f33791d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GMNoyLE4V6mXfP6Xq30Uhw.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">由<a class="ae lb" href="https://unsplash.com/@filisantillan" rel="noopener ugc nofollow" target="_blank">菲利·桑蒂兰</a>在 Unsplash 上拍摄的照片</figcaption></figure><h1 id="740c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">新特性:默认的 Hermes JavaScript 引擎</h1><p id="e04a" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">Hermes 是一个针对 React Native 优化的高性能 JavaScript 引擎。虽然它已经推出了一段时间，但它最初是一个插件，在构建 React 本机应用程序时必须单独安装和配置。从 React Native 0.69 开始，Hermes 与 React Native 捆绑在一起，更容易与框架的其他部分保持同步，也更容易启用和使用。</p><p id="4c4a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从当前版本 0.70 开始，Hermes 是默认的 JavaScript 引擎，这意味着创建新项目时不需要单独安装或配置。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mq"><img src="../Images/dd974c620e7c7c6afee802f2a6619292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IQ5ldRz7A_nC3cf0kgSBKw.gif"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">使用和不使用 Hermes 引擎的 Android 发布时间。</figcaption></figure><h2 id="122d" class="mr lt iq bd lu ms mt dn ly mu mv dp mc ko mw mx me ks my mz mg kw na nb mi nc bi translated">为什么它很重要</h2><p id="043f" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">Hermes 引擎在每个平台上提供了比默认 JavaScript 引擎更好的性能和内存使用。因为它以前需要单独配置和安装，所以许多应用程序没有利用该引擎。</p><p id="9d2c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，虽然它已经存在了一段时间，0.70 版本将在实践中通过默认启用 Hermes 来提供一个主要的性能提升。如果你有一个现有的应用程序，但还没有启用 Hermes，那么努力启用 Hermes 并获得性能优势是绝对值得的。</p><p id="0c6a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请参见公告上的<a class="ae lb" href="https://reactnative.dev/blog/2022/07/08/hermes-as-the-default" rel="noopener ugc nofollow" target="_blank">博客，了解更多详细信息，包括显示 Hermes 实现的显著性能提升的基准测试。</a></p><h1 id="a9a9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">新特性:构建改进和跨平台一致性</h1><p id="11fc" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">0.70 中的新特性还有几个改进，改进了 React 本地构建和开发过程，尤其是在处理新架构时。</p><ul class=""><li id="1060" class="nd ne iq kh b ki kj kl km ko nf ks ng kw nh la ni nj nk nl bi translated">新架构库的 Android 自动链接</li></ul><p id="2dcd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自动链接是 React 本地开发过程的一个重要部分。它允许我们使用像<code class="fe nm nn no np b">yarn</code>或<code class="fe nm nn no np b">npm</code>这样的包管理器，通过 JavaScript 模块将本地代码合并到项目中。在此版本之前，新的架构库需要在 Android 上手动链接，但从 0.70 开始，iOS 和 Android 都完全支持自动链接。</p><ul class=""><li id="78f3" class="nd ne iq kh b ki kj kl km ko nf ks ng kw nh la ni nj nk nl bi translated">对 Android 版本的全面 CMake 支持<a class="ae lb" href="https://reactnative.dev/blog/2022/09/05/version-070#full-cmake-support-for-android-builds" rel="noopener ugc nofollow" target="_blank"> </a></li></ul><p id="3c94" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">新版本支持对 Android 构建的完全 CMake 支持，而不是依赖于不太常见的 NDK 构建系统。这意味着更好的支持，更小的配置文件(使它们更容易维护和升级)，以及与更成熟的 CMake 生态系统集成。</p><ul class=""><li id="01a9" class="nd ne iq kh b ki kj kl km ko nf ks ng kw nh la ni nj nk nl bi translated">Codegen<a class="ae lb" href="https://reactnative.dev/blog/2022/09/05/version-070#a-new-unified-configuration-for-codegen" rel="noopener ugc nofollow" target="_blank">T3 的新统一配置</a></li></ul><p id="ff0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">库开发人员在 JavaScript 和本机代码之间构建绑定时，最感兴趣的就是这种变化。<a class="ae lb" href="https://reactnative.dev/docs/next/the-new-architecture/pillars-codegen" rel="noopener ugc nofollow" target="_blank"> Codegen </a>在 React Native 中使用，根据 JavaScript 编写的规范自动生成本机代码绑定。在当前版本之前，Codegen 要求 iOS 和 Android 分别配置，但从 0.70 开始，配置已经统一，简化了与原生代码集成的过程。</p><h2 id="73e8" class="mr lt iq bd lu ms mt dn ly mu mv dp mc ko mw mx me ks my mz mg kw na nb mi nc bi translated">为什么它很重要</h2><p id="fbc1" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">所有这些变化都对开发人员的工作流程做出了重要的改进，尤其是在构建 Android 应用程序方面。最重要的是，它增加了 iOS 和 Android 构建和开发流程之间的一致性，有助于实现 React Native 作为无缝跨平台开发平台的真正承诺。</p><h1 id="de6c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">如何升级</h1><p id="6cdb" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">升级 React Native <em class="mp">可能</em>有点棘手，因为有时需要在许多位置进行更改，例如，在 Android 和 iOS 构建文件夹中。升级 React 原生项目的最佳方式是始终使用<a class="ae lb" href="https://react-native-community.github.io/upgrade-helper" rel="noopener ugc nofollow" target="_blank"> React 原生升级助手</a>，它显示当前版本和目标版本之间的确切文件差异。</p><p id="e200" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，一定要查看文档，特别是关于迁移到新架构的文档。随着每个 RN 版本的发布，使用新的架构变得越来越容易，但是了解这些变化以及它们如何影响您的特定应用程序仍然是很好的。</p><h1 id="df6c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">重述—新 React 原生架构的重要更新</h1><p id="2111" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">虽然 React Native 0.70 中没有很多引人注目的新终端用户功能，但最重要的主题是改进对 React Native 的<a class="ae lb" href="https://reactnative.dev/docs/new-architecture-intro" rel="noopener ugc nofollow" target="_blank">新架构</a>的支持。新的架构已经酝酿了很长时间，并在几个 React 原生版本中逐步推出。令人兴奋的是看到越来越多的新版本默认启用它！</p><p id="71b3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就我个人而言，我发现新的架构工作令人着迷，令人印象深刻，尤其是作为对针对旧版本 React Native 的一些性能批评的回应。React 本地团队已经在新的架构中正面解决了这些问题。这给了我作为开发人员的信心，RN 仍然是 2022 年跨平台开发的一个很好的选择，即使出现了新的替代方案。</p><p id="3e52" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关于 0.70 新特性的完整列表，请参见 React Native 博客上的<a class="ae lb" href="https://reactnative.dev/blog/2022/09/05/version-070" rel="noopener ugc nofollow" target="_blank">官方发布公告</a>。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="3984" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae lb" href="https://blog.devgenius.io/@jonnystartup" rel="noopener ugc nofollow" target="_blank"> <em class="mp">乔纳森</em> </a> <em class="mp">在创业公司大&amp;小有超过 20 年的工程领导经验。如果你喜欢这篇文章，</em> <a class="ae lb" href="https://www.buymeacoffee.com/jonnystartup" rel="noopener ugc nofollow" target="_blank"> <em class="mp">请考虑给乔纳森留个提示</em> </a> <em class="mp">！</em></p></div></div>    
</body>
</html>