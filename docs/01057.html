<html>
<head>
<title>Let’s setup Charles in iOS simulator with Xcode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用Xcode在iOS模拟器中设置Charles</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/lets-setup-charles-in-ios-simulator-with-xcode-c4bfa0daae7?source=collection_archive---------2-----------------------#2020-06-23">https://blog.devgenius.io/lets-setup-charles-in-ios-simulator-with-xcode-c4bfa0daae7?source=collection_archive---------2-----------------------#2020-06-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/8bc49ceb24c1f9ef5c5d54ad66217ff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*17YAdUNNWFfCk349xTOjhg.png"/></div></div></figure></div><div class="ab cl jv jw hr jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ig ih ii ij ik"><p id="3faf" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">在开始这篇文章之前，我们应该问问自己什么是查尔斯。</p><p id="eede" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated"><em class="la">“Charles是一个HTTP代理/ HTTP监控/反向代理，使开发者能够查看他们的机器和互联网之间的所有HTTP和SSL / HTTPS流量。这包括请求、响应和HTTP头(包含cookies和缓存信息)。”</em><a class="ae lb" href="https://www.charlesproxy.com" rel="noopener ugc nofollow" target="_blank"><em class="la"/></a></p><p id="0500" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">现在，对于什么我们可以用<strong class="ke io">查尔斯</strong>？。基本上是调试我们应用程序中的网络请求。很多时候，作为开发人员，我们希望更改一些请求，看看是否会失败，或者迫使应用程序接收一个错误的值，看看我们的应用程序如何对该请求做出反应。其他时候，我们只是想看看有什么反应，以找出应用程序失败的原因。我们想测试的东西很多，有时候不知道怎么测试。我们可以用查尔斯做所有这些事情。让我们开始吧。</p><ol class=""><li id="611a" class="lc ld in ke b kf kg kj kk kn le kr lf kv lg kz lh li lj lk bi translated"><strong class="ke io">安装查理</strong><a class="ae lb" href="https://www.charlesproxy.com/download" rel="noopener ugc nofollow" target="_blank"><strong class="ke io">https://www.charlesproxy.com/download</strong></a></li><li id="18a8" class="lc ld in ke b kf ll kj lm kn ln kr lo kv lp kz lh li lj lk bi translated"><strong class="ke io">打开Charles，点击菜单:帮助&gt; SSL代理，选择</strong> _ <strong class="ke io"> <em class="la">在iOS模拟器中安装Charles根证书</em> </strong></li></ol><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lq"><img src="../Images/a94fe22b2e4a5c3af7eaf695490bf934.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N4EYjBNiC4Lzk8oUSNF_Jg.png"/></div></div></figure><p id="8ec9" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">3.<strong class="ke io">现在确保您选择了macOS代理选项，这样我们就可以监听流量，所以在菜单中单击:代理&gt; macOS代理</strong></p><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lv"><img src="../Images/829e6dc15ca8eeffad71b59613e0162d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JnFM54_0YJPiQmoOpjegbQ.png"/></div></div></figure><p id="d091" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">4.重启你的模拟器，确保你正在记录进来的流量。你应该在右下方看到一个“<em class="la">录音</em>  _ <strong class="ke io">标签”。如果没有，只需点击“<em class="la">开始记录</em>按钮“</strong></p><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/ff955c7709123dcd1607d61bbe3fbd70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBElvQltJGUZjYCGksDBBQ.png"/></div></div></figure><p id="317b" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">5.<strong class="ke io">在模拟器中运行app，这时你应该会在左边看到进来的流量</strong></p><p id="1943" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">6.<strong class="ke io">现在，您必须确保为您想要测试的URL启用SSL代理。有两种方法可以做到这一点:</strong></p><ul class=""><li id="92c7" class="lc ld in ke b kf kg kj kk kn le kr lf kv lg kz lx li lj lk bi translated">第一种方法是在菜单中单击:代理&gt; SSL代理设置，然后添加您想要的URL。</li></ul><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ly"><img src="../Images/84900a18e7f3ab07d653c5d4178fc909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xEbmnNwt1AXO97oQYBFiqg.png"/></div></div></figure><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lz"><img src="../Images/43ce0bc5890db6ab5a9e5293dbf6707e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0-xzzR_CBvCWNXqhLKyDJQ.png"/></div></div></figure><ul class=""><li id="4d46" class="lc ld in ke b kf kg kj kk kn le kr lf kv lg kz lx li lj lk bi translated">第二种方法是，当您在Charles的左视图中看到传入的流量时，只需右键单击您想要的URL，然后单击<em class="la">启用SSL代理</em></li></ul><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/f6632f11c492b79f71f817288df6b452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*QUuNn6cAqLrZ68I22A7VlQ.png"/></div></figure><p id="0637" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">7.<strong class="ke io">现在重启模拟器，您将看到响应</strong></p><p id="ea4e" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">8.<strong class="ke io">如果你点击响应，和<em class="la">内容</em>你可以看到我们得到的JSON。现在我们可以检查为什么我们在应用程序中得到一个错误，如果是这样的话。</strong></p><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/acc5d50873ab57a1b5d7f932bc2802c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qFaNwYCHNdHGJdKBj1SnQ.png"/></div></div></figure><p id="362a" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">9.让我们在本地映射一些响应，这样我们就可以模拟它们了。在响应中点击右键，点击<em class="la">保存响应……</em>T3】</p><figure class="lr ls lt lu gt jo gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/5c807d27cc87f8040536101f842bcf0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*xf5F89768hZYYmM7GB2DYA.png"/></div></figure><p id="fd9a" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">10.<strong class="ke io">现在右键单击请求，然后单击<em class="la">查看器映射… </em>并复制主机、端口和路径，因为我们接下来将使用它。</strong></p><div class="lr ls lt lu gt ab cb"><figure class="md jo me mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/f103843ad0b921f3e89556f5b2b58d29.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*DLa5-O2DWEghgza9kLgFqQ.png"/></div></figure><figure class="md jo mj mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/2aeb4dd4b9fd234994a47f526de3807f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*k4kFetLg_BMOMUB4WZ1KKQ.png"/></div></figure></div><p id="daf4" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">11.<strong class="ke io">现在在菜单中点击:工具&gt;地图本地…并添加一个新的。对于本地路径:您将选择您保存的响应，对于主机、端口和路径，您将用您在上一步中获得的信息填充它。</strong></p><div class="lr ls lt lu gt ab cb"><figure class="md jo mk mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/74154fc9703611bbe453a3ba5a619baf.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*3W4tA7lcnZAeF5y1X1Qg3Q.png"/></div></figure><figure class="md jo ml mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/902c2777ec6af778674b49160fa2782e.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*z29jGaV71gUbXjXdJ0g2vg.png"/></div></figure><figure class="md jo mm mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/468327bc94d13238f151e795623370ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*F3CM5e-cUmfeKDNfxS87OA.png"/></div></figure></div><p id="b256" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">12.<strong class="ke io">现在您可以编辑JSON并开始测试您的网络响应</strong></p><p id="c33b" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">这就是你如何设置iOS模拟器查尔斯。如有任何问题，您可以联系我。</p><p id="1768" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">与我们合作:</p><div class="mn mo gp gr mp mq"><a href="https://www.avilatek.com/en/" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">阿维拉泰克</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">技术创新的发展</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">www.avilatek.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jt mq"/></div></div></a></div><p id="fb0c" class="pw-post-body-paragraph kc kd in ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ig bi translated">领英:<a class="ae lb" href="https://www.linkedin.com/in/marcelo-laprea/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/marcelo-laprea/</a></p></div></div>    
</body>
</html>