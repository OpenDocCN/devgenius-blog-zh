<html>
<head>
<title>What is Property Observer in Swift?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift ä¸­çš„ç‰©ä¸šè§‚å¯Ÿå‘˜æ˜¯ä»€ä¹ˆï¼Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/property-observers-in-swift-fb3ba5b2c4d7?source=collection_archive---------4-----------------------#2022-11-14">https://blog.devgenius.io/property-observers-in-swift-fb3ba5b2c4d7?source=collection_archive---------4-----------------------#2022-11-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="93e4" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">å½“å±æ€§å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒwillSet å’Œ didSet ä¼šå‘å‡ºé€šçŸ¥</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/cc40d1b9c8786080d2dbd2dc318804f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ptZQQWUXzhVqVTx0fiKzPg.png"/></div></div></figure><p id="a22d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">åœ¨ iOS åº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œè§‚å¯Ÿè€…æ˜¯åœ¨ç‰¹å®šäº‹ä»¶ä¸­é€šçŸ¥ç”¨æˆ·çš„å¯¹è±¡ã€‚è´¢äº§è§‚å¯Ÿè€…è§‚å¯Ÿå¹¶å“åº”è´¢äº§ä»·å€¼çš„å˜åŒ–ã€‚æ¯æ¬¡è®¾ç½®å±æ€§å€¼æ—¶éƒ½ä¼šè°ƒç”¨å®ƒä»¬ï¼Œå³ä½¿æ–°å€¼ä¸å±æ€§å€¼çš„å½“å‰å€¼ç›¸åŒã€‚å®ƒä»¬æä¾›äº†ä¸€ç§ç›‘è§†å±æ€§æ›´æ”¹çš„æ–¹æ³•ã€‚</p><p id="3bd4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">å¯¹äºä¸€ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ä¸ªä»¥ä¸‹çš„è§‚å¯Ÿè€…:</p><ul class=""><li id="08c3" class="lk ll in kq b kr ks ku kv kx lm lb ln lf lo lj lp lq lr ls bi translated"><strong class="kq io">å°†è®¾ç½®</strong>ï¼Œåœ¨ä¿å­˜å€¼ä¹‹å‰è°ƒç”¨ã€‚å®ƒå¸¦æœ‰ä¸€ä¸ªåŒ…å« newValue çš„å¸¸é‡å‚æ•°ï¼Œé»˜è®¤åç§°ä¸º newValueã€‚</li><li id="d7eb" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated"><strong class="kq io"> didSet </strong>åœ¨æ–°å€¼ä¿å­˜åç«‹å³è¢«è°ƒç”¨ã€‚å®ƒå¸¦æœ‰ä¸€ä¸ªåŒ…å« oldValue çš„å¸¸é‡å‚æ•°ï¼Œé»˜è®¤åç§°ä¸º oldValueã€‚</li></ul><blockquote class="ly lz ma"><p id="d127" class="ko kp mb kq b kr ks jo kt ku kv jr kw mc ky kz la md lc ld le me lg lh li lj ig bi translated">æˆ‘ä»¬å¯ä»¥è¦†ç›–è¿™äº›å‚æ•°åä¸­çš„ä»»ä½•ä¸€ä¸ª(newValueï¼ŒoldValue)ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰æä¾›åç§°ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚</p></blockquote><p id="f3f2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">æ ¹æ®è‹¹æœå…¬å¸çš„è¯´æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥ä¸‹åœ°æ–¹æ·»åŠ ç‰©ä¸šè§‚å¯Ÿå‘˜:</p><ol class=""><li id="b958" class="lk ll in kq b kr ks ku kv kx lm lb ln lf lo lj mf lq lr ls bi translated"><strong class="kq io">å­˜å‚¨æ‚¨å®šä¹‰çš„å±æ€§</strong></li></ol><pre class="kd ke kf kg gt mg mh mi bn mj mk bi"><span id="7fb2" class="ml mm in mh b be mn mo l mp mq">struct Employee {<br/>    var name: String<br/>    var age: Int {<br/>        willSet(newValue) {<br/>            print("\(name) age is set to \(newValue)")<br/>        }<br/>        didSet {<br/>            print("\(name) age changed from \(oldValue) to \(age)")<br/>        }<br/>    }<br/>}<br/><br/>var emp = Employee(name: "Tom", age: 20)<br/>emp.age = 30<br/><br/>// Tom age is set to 30<br/>// Tom age changed from 20 to 30</span></pre><p id="d2be" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">2.<strong class="kq io">æ‚¨ç»§æ‰¿çš„å­˜å‚¨å±æ€§</strong></p><pre class="kd ke kf kg gt mg mh mi bn mj mk bi"><span id="b605" class="ml mm in mh b be mn mo l mp mq">class Vehicle {<br/>    var currentSpeed = 0.0<br/>    var description: String {<br/>        return "traveling at \(currentSpeed) miles per hour"<br/>    }<br/>}<br/><br/>class Car: Vehicle {<br/>    var gear = 1<br/>    override var description: String {<br/>        return super.description + " in gear \(gear)"<br/>    }<br/>}<br/><br/>class AutomaticCar: Car {<br/>    override var currentSpeed: Double { // inherit Stored property<br/>        didSet {<br/>            gear = Int(currentSpeed / 10.0) + 1<br/>        }<br/>    }<br/>}<br/><br/>let automatic = AutomaticCar()<br/>automatic.currentSpeed = 35.0<br/>print("AutomaticCar: \(automatic.description)")<br/><br/>// AutomaticCar: traveling at 35.0 miles per hour in gear 4</span></pre><blockquote class="ly lz ma"><p id="4c1d" class="ko kp mb kq b kr ks jo kt ku kv jr kw mc ky kz la md lc ld le me lg lh li lj ig bi translated">å¯¹äºç»§æ‰¿çš„å±æ€§ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å­ç±»ä¸­è¦†ç›–è¯¥å±æ€§æ¥æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ã€‚</p></blockquote><p id="a2a5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">3.<strong class="kq io">æ‚¨ç»§æ‰¿çš„è®¡ç®—å±æ€§</strong></p><pre class="kd ke kf kg gt mg mh mi bn mj mk bi"><span id="f009" class="ml mm in mh b be mn mo l mp mq">class Shape {<br/>    var width = 0.0<br/>    var height = 0.0<br/>    <br/>    var area: Double {<br/>        get {<br/>            return width * height<br/>        }<br/>        set {<br/>            self.width = sqrt(newValue)<br/>            self.height = sqrt(newValue)<br/>        }<br/>    }<br/>}<br/><br/>class Rectangle: Shape {<br/>    override var area: Double {<br/>        didSet {<br/>            print("Old value is \(oldValue)")<br/>        }<br/>        willSet {<br/>            print("New value is \(newValue)")<br/>        }<br/>    }<br/>}</span></pre><p id="7cb5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">å¯¹äºæ‚¨å®šä¹‰çš„è®¡ç®—å±æ€§ï¼Œè¯·ä½¿ç”¨è¯¥å±æ€§çš„ setter æ¥è§‚å¯Ÿå’Œå“åº”å€¼çš„æ›´æ”¹ï¼Œè€Œä¸æ˜¯å°è¯•åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿå™¨ã€‚</p><pre class="kd ke kf kg gt mg mh mi bn mj mk bi"><span id="3ebb" class="ml mm in mh b be mn mo l mp mq">struct Rectangle {<br/>    var width = 0.0<br/>    var height = 0.0<br/>    <br/>    var area: Double {<br/>        get {<br/>            return width * height<br/>        }<br/>        set {<br/>            self.width = sqrt(newValue)<br/>            self.height = sqrt(newValue)<br/>        }<br/>    }<br/>}<br/><br/>var rectAngle = Rectangle(width: 10, height: 10)<br/>print(rectAngle.area)</span></pre><p id="7dc9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">ä» Swift 5.3 å¼€å§‹ï¼Œå±æ€§è§‚å¯Ÿè€…ç°åœ¨å¯ä»¥é™„åŠ åˆ°<strong class="kq io">æ‡’æƒ°</strong>å±æ€§ã€‚</p><pre class="kd ke kf kg gt mg mh mi bn mj mk bi"><span id="261b" class="ml mm in mh b be mn mo l mp mq">class GreetingClass {<br/>    lazy var greeting: String = "Hi" {<br/>        willSet(newValue) {<br/>            print(newValue)<br/>        }<br/>       didSet {<br/>        print(oldValue)<br/>      }<br/>    }<br/>}<br/><br/>var obj = GreetingClass()<br/>obj.greeting = "Hello"</span></pre><h2 id="edd5" class="mr mm in bd ms mt mu dn mv mw mx dp my kx mz na nb lb nc nd ne lf nf ng nh ni bi translated">ç‰©ä¸šè§‚å¯Ÿå‘˜éœ€è¦è®°ä½çš„è¦ç‚¹</h2><ul class=""><li id="f4f6" class="lk ll in kq b kr nj ku nk kx nl lb nm lf nn lj lp lq lr ls bi translated">å½“åœ¨åˆå§‹å€¼è®¾å®šé¡¹ä¸­è®¾ç½®å±æ€§æ—¶ï¼Œä¸èƒ½è°ƒç”¨ willSet å’Œ didSet è§‚å¯Ÿå™¨ï¼Œæˆ–è€…å½“è®¾ç½®é»˜è®¤å€¼æ—¶ã€‚</li><li id="a23e" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">å±æ€§è§‚å¯Ÿå™¨å¯¹<em class="mb">è®¡ç®—å±æ€§</em>ä¸å¯ç”¨ï¼Œå› ä¸ºæ‚¨å¯ä»¥é€šè¿‡å±æ€§è®¾ç½®å™¨æ¥å“åº”æ›´æ”¹ã€‚ä½†æ˜¯ï¼Œå½“å®ƒä»¬è¢«è¦†ç›–æ—¶ï¼Œå®ƒä»¬åœ¨<em class="mb">ç»§æ‰¿çš„è®¡ç®—å±æ€§</em>ä¸­å¯ç”¨</li></ul><blockquote class="ly lz ma"><p id="ad3d" class="ko kp mb kq b kr ks jo kt ku kv jr kw mc ky kz la md lc ld le me lg lh li lj ig bi translated">è¶…ç±»å±æ€§çš„<strong class="kq io"> willSet </strong>å’Œ<strong class="kq io"> didSet </strong>è§‚å¯Ÿå™¨åœ¨è¶…ç±»åˆå§‹åŒ–å™¨è¢«è°ƒç”¨åï¼Œåœ¨å­ç±»åˆå§‹åŒ–å™¨ä¸­è®¾ç½®å±æ€§æ—¶è¢«è°ƒç”¨ã€‚åœ¨è°ƒç”¨è¶…ç±»åˆå§‹åŒ–å™¨ä¹‹å‰ï¼Œç±»åœ¨è®¾ç½®è‡ªå·±çš„å±æ€§æ—¶ä¸ä¼šè°ƒç”¨å®ƒä»¬ã€‚</p></blockquote><h2 id="956f" class="mr mm in bd ms mt mu dn mv mw mx dp my kx mz na nb lb nc nd ne lf nf ng nh ni bi translated">ç»“è®º</h2><p id="c2ab" class="pw-post-body-paragraph ko kp in kq b kr nj jo kt ku nk jr kw kx no kz la lb np ld le lf nq lh li lj ig bi translated">å±æ€§è§‚å¯Ÿå™¨å¯¹äºå€¼æ›´æ”¹é€šçŸ¥å¾ˆæœ‰ç”¨ã€‚ç†æƒ³çš„åœºæ™¯æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€äº›é€»è¾‘æˆ–è€…éœ€è¦åœ¨å±æ€§å€¼å‘ç”Ÿå˜åŒ–æ—¶æ›´æ”¹ç”¨æˆ·ç•Œé¢æ—¶ï¼Œä½¿ç”¨å±æ€§è§‚å¯Ÿå™¨ã€‚</p></div><div class="ab cl nr ns hr nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ig ih ii ij ik"><p id="b32f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">æ„Ÿè°¢é˜…è¯»ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•æ„è§ã€é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åœ¨ä¸‹é¢çš„è¯„è®ºåŒºå‘è¡¨ï¼ğŸ‘‡ã€‚è¯·<strong class="kq io">åˆ†äº«</strong>å¹¶ç»™äºˆ<strong class="kq io">æŒå£°</strong>ğŸ‘ğŸ‘å¦‚æœä½ å–œæ¬¢è¿™ä¸ªå¸–å­ã€‚</p></div></div>    
</body>
</html>