<html>
<head>
<title>10 Bad Java Snippets to Make Your Day</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你快乐的 10 个糟糕的 Java 片段</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/10-bad-java-snippets-to-make-your-day-9e1c6e32bb46?source=collection_archive---------0-----------------------#2021-07-03">https://blog.devgenius.io/10-bad-java-snippets-to-make-your-day-9e1c6e32bb46?source=collection_archive---------0-----------------------#2021-07-03</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="fcf3" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">你需要看到的 10 个糟糕的 Java 片段</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/b3197be271be1f7014cfff6f8ecb1839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*raY6gXDHfXKpTp0drvgivg.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">照片由来自<a class="ae kw" href="https://www.pexels.com/photo/upset-young-black-guy-covering-face-with-hand-while-working-remotely-on-netbook-5699826/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae kw" href="https://www.pexels.com/@alex-green?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">亚历克斯·格林</a>拍摄</figcaption></figure><h1 id="5bf6" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">1.如何生成填充？</h1><p id="17bd" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated"><em class="ml">不良开发者如何生成填充？以下是方法。</em></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">虚拟空白生成</figcaption></figure><p id="7c46" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">这是一台发电机。要生成填充，您可以使用<code class="fe mt mu mv mw b">String.format</code>。使用填充字符以获得更好的性能。</p><p id="d7c6" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">以下是你可以填充琴弦的方法。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://gist.github.com/zivce/6bb9f8c9a3efc71540be68ed5b933969" rel="noopener ugc nofollow" target="_blank">投票最多的填充解决方案</a></figcaption></figure><p id="1572" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">你应该用字符填充字符串。<em class="ml">为什么？</em>因为你没有创建新的字符串。使用<strong class="lr is">字符</strong>填充字符串是<strong class="lr is">性能最好的</strong>。</p><p id="9c6e" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated"><code class="fe mt mu mv mw b">String.format</code>有一点开销，因为它与<code class="fe mt mu mv mw b">String</code>一起工作。<code class="fe mt mu mv mw b">String.format</code>代码更容易阅读、维护和理解。就性能而言，这不是最佳的填充解决方案。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj mx"><img src="../Images/3541d157ce27b9df5b78ce039373a8af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ffe1L9x817EwxEkK5gDYhw.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://jmh.morethan.io/?gist=07c1c3b428184101986be64a35fd28f3" rel="noopener ugc nofollow" target="_blank">基准测试结果</a></figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="d1bc" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">2.你的班级名字有多长？</h1><p id="061b" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">这个名字看起来不可能。然而它就在 AspectJ 的库中。</p><p id="fa28" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">更有趣的是什么？类的方法，<code class="fe mt mu mv mw b"><a class="ae kw" href="https://www.javadoc.io/doc/org.aspectj/aspectjweaver/1.8.10/org/aspectj/weaver/patterns/HasThisTypePatternTriedToSneakInSomeGenericOrParameterizedTypePatternMatchingStuffAnywhereVisitor.html#wellHasItThen--" rel="noopener ugc nofollow" target="_blank">wellHasItThen</a></code>。整个班级看起来像个笑话。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://www.javadoc.io/doc/org.aspectj/aspectjweaver/1.8.10/org/aspectj/weaver/patterns/HasThisTypePatternTriedToSneakInSomeGenericOrParameterizedTypePatternMatchingStuffAnywhereVisitor.html" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="a7dc" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">3.你创造日期吗？</h1><p id="178f" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">你不应该创造自己的<code class="fe mt mu mv mw b">Date</code>逻辑。你对时间的所有假设都是不正确的。</p><p id="dc75" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">你不应该相信这些神话。一天持续 24 小时。时间没有起点也没有终点。世界上的国家比时区还多。一个国家的时区从不改变。还有更多<a class="ae kw" href="https://gist.github.com/timvisee/fcda9bbdff88d45cc9061606b4b923ca" rel="noopener ugc nofollow" target="_blank">神话</a>。</p><p id="0f35" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">这个片段不适合创建日期。<em class="ml">为什么？二月的整数值是多少？1 还是 2？有人为了<code class="fe mt mu mv mw b">iMonth</code>过了 30 怎么办？这是冰山一角。加上时区、闰年，你会得到一个灾难的配方。使用久经考验的代码来创建日期。</em></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">错误的日期逻辑</figcaption></figure><p id="e95c" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">使用<code class="fe mt mu mv mw b">LocalDate</code>创建整数之外的日期。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">LocalDate 创建日期</figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="9533" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">4.创建链接很难</h1><p id="4d19" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated"><em class="ml">为什么这段代码不好？</em>您可能会得到一个格式错误的 URL。附加查询参数会导致讨厌的错误。你不应该自己创建链接。</p><p id="8dba" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated"><em class="ml">你应该用什么？</em>事实上的 URI 生成器:<a class="ae kw" href="https://docs.oracle.com/javase/7/docs/api/java/net/URI.html" rel="noopener ugc nofollow" target="_blank">T18】Java . net . uriT20】。URI 可以转换成网址。应该用这个类别配置参数、协议和其他 URI 属性。</a></p><p id="de22" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">糟糕的代码既不灵活也不健壮。您需要追加每个参数。要添加 SSL，您需要设置<code class="fe mt mu mv mw b">_UseSSL</code>。不要多此一举。使用现有的发电机。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://github.com/ip2location/ip2location-java/blob/master/com/ip2location/IP2LocationWebService.java" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="36d1" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">以下是你如何使用 URI 创建一个网址。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="f347" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">5.如何设置请求的状态？</h1><p id="62dd" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated"><em class="ml">你是不是有很多条件要查？需要满足一定的条件吗？不要这样做。</em></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://www.govnokod.ru/java" rel="noopener ugc nofollow" target="_blank">不良状况检查</a></figcaption></figure><p id="8055" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">你应该使用规格型号。Evan <a class="ae kw" href="https://www.martinfowler.com/apsupp/spec.pdf" rel="noopener ugc nofollow" target="_blank">建议</a>如果你需要选择、验证或构建，这是最好的模式。该规范将删除 if-else 块，使您的代码可读，并且更易于维护。</p></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="05f5" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">6.你如何验证？</h1><p id="a9a0" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">规格模式也应该是正确的解决方案。条件应该被包装在规范中，并根据规范进行验证。该规范将减少代码块，并使您的代码更好。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://github.com/ip2location/ip2location-java/blob/master/com/ip2location/IP2LocationWebService.java" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="4b47" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">7.你帮助垃圾收集者吗？</h1><p id="1a6e" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">我们不是在 C++时代。收垃圾的不需要我们的帮助。移除未使用的对象有不同的算法。<em class="ml">不需要设置变量为</em> <code class="fe mt mu mv mw b"><em class="ml">null</em></code> <em class="ml">。</em></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://www.govnokod.ru/java" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="da27" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">8.你正确地创建了你的 Dao 吗？</h1><p id="0bb0" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">不需要创建自己的道工厂。使用弹簧。使用 Spring 创建和管理 beans。<em class="ml">避免定制实例容器。</em></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://www.govnokod.ru/java" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="8815" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">9.你使用日期常量吗？</h1><p id="559f" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">任何日期假设都是错误的。</p><ul class=""><li id="0afe" class="nk nl ir lr b ls mo lv mp ly nm mc nn mg no mk np nq nr ns bi translated">一年不会持续 365 天</li><li id="6670" class="nk nl ir lr b ls nt lv nu ly nv mc nw mg nx mk np nq nr ns bi translated">一分钟不会持续 60 秒</li><li id="1749" class="nk nl ir lr b ls nt lv nu ly nv mc nw mg nx mk np nq nr ns bi translated">一秒 1000 毫秒也不是</li><li id="3fdf" class="nk nl ir lr b ls nt lv nu ly nv mc nw mg nx mk np nq nr ns bi translated">一天不会持续 24 小时。</li></ul><p id="18df" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated"><em class="ml">使用现成的常数，不要对时间做任何假设。</em></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://www.govnokod.ru/java" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="5733" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">10.你如何找到重复的？</h1><p id="981c" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">以下是如何避免重复的方法。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://www.govnokod.ru/java" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="b8e5" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">这里有一个更好的方法来找到重复的。集合只包含唯一的项目，根据定义，您不能添加重复的项目。如果<code class="fe mt mu mv mw b">add</code>方法返回 false，则是重复项。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mm mn l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated"><a class="ae kw" href="https://stackoverflow.com/a/58159562/5999670" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure></div><div class="ab cl my mz hv na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ik il im in io"><h1 id="0743" class="kx ky ir bd kz la nf lc ld le ng lg lh jx nh jy lj ka ni kb ll kd nj ke ln lo bi translated">偷我的电子书</h1><p id="a370" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">我已经写了很多糟糕的 Java 片段。你可以从我的口香糖店里偷。</p><p id="4853" class="pw-post-body-paragraph lp lq ir lr b ls mo js lu lv mp jv lx ly mq ma mb mc mr me mf mg ms mi mj mk ik bi translated">给一两美元小费可以帮助我免费创作更好的电子书！</p></div></div>    
</body>
</html>