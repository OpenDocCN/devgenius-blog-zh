<html>
<head>
<title>Get a Python script(.py) to run on any machine(as an .exe file)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">获取一个 Python 脚本(。py)在任何机器上运行(作为。exe 文件)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/get-a-python-script-py-to-run-on-any-machine-as-an-exe-file-61c527df2bf?source=collection_archive---------7-----------------------#2022-10-26">https://blog.devgenius.io/get-a-python-script-py-to-run-on-any-machine-as-an-exe-file-61c527df2bf?source=collection_archive---------7-----------------------#2022-10-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="fcc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇文章讲述了我如何将 Python 自动化脚本转换成. exe 文件，以便我的一个同事可以像一个独立的应用程序一样在他/她的机器上运行</p><h1 id="3c74" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">索引:</h1><ol class=""><li id="49c4" class="lg lh in jm b jn li jr lj jv lk jz ll kd lm kh ln lo lp lq bi translated">剧本简介</li><li id="19f4" class="lg lh in jm b jn lr jr ls jv lt jz lu kd lv kh ln lo lp lq bi translated">转换为。复制并安装必要的软件包</li><li id="38f2" class="lg lh in jm b jn lr jr ls jv lt jz lu kd lv kh ln lo lp lq bi translated">包装和电子邮件</li><li id="d381" class="lg lh in jm b jn lr jr ls jv lt jz lu kd lv kh ln lo lp lq bi translated">在目标机器上运行</li></ol><h1 id="b022" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">1.剧本简介</h1><p id="2bdd" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">我编写的脚本接受一个包含一堆搜索关键字(记录在我的网站上)的 csv 文件作为输入，并清除文件中的任何垃圾搜索词。你可以在这里找到详细的案例研究和实际 Python 脚本<a class="ae lz" href="https://abhranilpaul.medium.com/cleanup-a-search-result-file-using-python-and-adobe-analytics-dc27153fa8c3" rel="noopener">的代码。</a></p><h1 id="3c92" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">2.转换为。复制并安装必要的软件包</h1><p id="cd66" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">后续步骤:</p><ol class=""><li id="50cb" class="lg lh in jm b jn jo jr js jv ma jz mb kd mc kh ln lo lp lq bi translated">我已经把。ipynd 文件到 a .py。这在 Jupyter 笔记本中非常简单。</li></ol><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi md"><img src="../Images/76cf2f9a16d862323b4b607330c2f5bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*wzQLmmzxXEzMxZ5hg1Adjw.png"/></div></figure><p id="4d07" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">点击下载为，你会得到一个选项下载为 Python。py 文件)</p><p id="98cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.打开机器上的 Ananconda 终端</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/da38cce5515a85c1b35dd40b55e51180.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*G0iHimcl5DEoGrrt2P6CuQ.png"/></div></figure><p id="9dc2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.去你的小径。py 脚本位于，对我来说这是在我的本地<br/>(base)C:\ Users \ 24057&gt;CD C:\ Users \ 24057 \ Python _ files \ Search clean up 中的以下路径</p><p id="79ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4.键入以下命令</p><pre class="me mf mg mh gt mm mn mo mp aw mq bi"><span id="6329" class="mr kj in mn b gy ms mt l mu mv">pyinstaller --onefile Search_cleanup.py</span></pre><p id="3fc0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将需要一些时间，根据代码结构的不同，您可能会收到一些警告。此外，请确保使用 onefile。</p><p id="b334" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.如果您在此阶段收到一条错误消息，说明:<a class="ae lz" href="https://stackoverflow.com/questions/45951964/pyinstaller-is-not-recognized-as-internal-or-external-command" rel="noopener ugc nofollow" target="_blank"> Pyinstaller 未被识别为内部或外部命令</a>，则执行以下操作</p><p id="d3ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">a.检查您是否安装了 pip。您可以键入以下内容:</p><pre class="me mf mg mh gt mm mn mo mp aw mq bi"><span id="45aa" class="mr kj in mn b gy ms mt l mu mv">pip --version</span></pre><p id="c1f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">b.从现在开始，如果您得到一个输出，您需要将 pyinstaller 的保存路径添加到您的“环境变量”中。遵循以下步骤:</p><p id="563f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">-打开<code class="fe mw mx my mn b">Control Panel</code>(在 Windows 搜索中输入)，选择<code class="fe mw mx my mn b">System and Security</code>，然后选择<code class="fe mw mx my mn b">System</code>。</p><ul class=""><li id="9538" class="lg lh in jm b jn jo jr js jv ma jz mb kd mc kh mz lo lp lq bi translated">转到打开窗口的末尾，选择<code class="fe mw mx my mn b">Advanced system settings</code>:</li></ul><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi na"><img src="../Images/b8ba90ab968d0b7e3a435870ff41459f.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*J3IcuS-VtKrLapyx.png"/></div></figure><ul class=""><li id="185e" class="lg lh in jm b jn jo jr js jv ma jz mb kd mc kh mz lo lp lq bi translated">点击<code class="fe mw mx my mn b">Environment Variables</code>:</li></ul><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi na"><img src="../Images/3eda64078cc2c1530ed42125121c85f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*aI2gGILdi6XqiVhb.png"/></div></figure><ul class=""><li id="c6af" class="lg lh in jm b jn jo jr js jv ma jz mb kd mc kh mz lo lp lq bi translated">在<code class="fe mw mx my mn b">System variables</code>部分，找到并双击变量<code class="fe mw mx my mn b">Path</code>:</li></ul><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi na"><img src="../Images/107ceaa572c3e0fd14238b7c7bb744d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*sMvHgbl8Zv6Ooe_F.png"/></div></div></figure><ul class=""><li id="7904" class="lg lh in jm b jn jo jr js jv ma jz mb kd mc kh mz lo lp lq bi translated">点击<code class="fe mw mx my mn b">New</code>并将路径添加到存储 PIP 安装程序的文件夹中:</li></ul><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi na"><img src="../Images/b985786c8dd26243df35a694867332e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*ymII44UOceJL0Ukr.png"/></div></div></figure><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi na"><img src="../Images/845b02bd87974eb5c7b05898d6cc3f2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*U1rrC11n_OqPhxC-.png"/></div></div></figure><ul class=""><li id="cc0c" class="lg lh in jm b jn jo jr js jv ma jz mb kd mc kh mz lo lp lq bi translated">点击<code class="fe mw mx my mn b">OK</code>确认修改。</li></ul><p id="be24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你在上面的 b 点没有得到输出，那么你需要安装 pip。按照这些步骤进行同样的操作。</p><pre class="me mf mg mh gt mm mn mo mp aw mq bi"><span id="1f23" class="mr kj in mn b gy ms mt l mu mv">python -m pip install --upgrade pip<br/>pip install pyinstaller</span></pre><p id="b676" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，您必须在环境变量中设置路径，如上所示。</p><p id="60db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.运行 pyinstaller 代码后，您应该会看到在同一路径中创建了两个新文件夹。名为 Dist and Build。</p><p id="2334" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">转到您的 Dist 文件夹，您会发现一个 exe 文件，看起来像这样:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi nf"><img src="../Images/68416c1a52b04bc62976c1d9565c2d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*irOLF2FWLaSHKv23dW8G8A.png"/></div></div></figure><p id="6805" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">6.复制这个文件，并把它放在原始数据文件所在的路径下。(在我的例子中，我正在清理存储在不同位置的搜索原始文件)</p><p id="f47a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">7.如果您现在双击。exe 文件中，cmd 提示符将会打开，但在您尝试输入任何值时将会关闭。</p><p id="eb20" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要避免这种情况，请按住 shift 键并右键单击文件夹，然后选择“在此打开 Powershell 窗口”。</p><p id="8aa5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">8.键入 exe 文件的前几个字符，然后按 tab 键。应该会显示 exe 文件</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ng"><img src="../Images/32a0fbb0360ca891a8c1fc2b4859e555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*86w2PaG-DlaMwGb-7zGhNw.png"/></div></div></figure><p id="658d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">9.在我的例子中是这样的——这意味着我的脚本运行成功</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi nh"><img src="../Images/242f5c186a3afbb64a99c89bba553075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rB_yZjb63jqeOhSJsL3dKQ.png"/></div></div></figure><p id="28ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">10.现在，您可以与机器上没有 Python 的人共享这个文件。这里唯一要考虑的是，用户应该有这个程序将要处理的数据文件，并且必须将它存储在与。exe 文件。</p><p id="2b57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就我而言，我发现这很难像 gmail 检测到的那样在 gmail 中分享。exe 附件视为恶意软件。因此，我在 onedrive/pendrive 的基础上分享了这一点。</p><p id="28ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望这对某人有所帮助。如果你觉得这有帮助，请鼓掌。</p><p id="0328" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">参考链接:</p><p id="dd83" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae lz" href="https://www.dataquest.io/blog/install-pip-windows/#:~:text=To%20check%20if%20PIP%20is,the%20available%20commands%20and%20options" rel="noopener ugc nofollow" target="_blank">https://www . data quest . io/blog/install-pip-windows/#:~:text = To % 20 check % 20 if % 20 pip % 20 is，the % 20 available % 20 commands % 20 and % 20 options</a>。</p><p id="aa96" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">【https://www.youtube.com/watch?v=oNq9QKX3lMs T2】号</p></div></div>    
</body>
</html>