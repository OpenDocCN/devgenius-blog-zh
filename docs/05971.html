<html>
<head>
<title>Medium API: Get Posts Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">中型 API:使用 Python 获取帖子</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/medium-api-get-posts-using-python-e8ca4331845e?source=collection_archive---------3-----------------------#2021-11-29">https://blog.devgenius.io/medium-api-get-posts-using-python-e8ca4331845e?source=collection_archive---------3-----------------------#2021-11-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="dba7" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">编程和 API</h2><div class=""/><div class=""><h2 id="935b" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">仅带有“请求”库！</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/d458c84d918d169f11485ebdb5aa8d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ILzXXEIzkcQtM3lA79dPcg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</figcaption></figure></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="6275" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">嘿伙计们！</p><p id="d18b" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">今天，我们将使用 Python 和 Medium API(非官方版本)从 Medium Platform(<a class="ae mh" href="https://medium.com" rel="noopener">https://medium.com</a>)获取一个用户写的帖子(文章或故事)。这非常简单明了…</p><p id="87fe" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">所以，不要浪费太多时间，让我们来看看代码吧！</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="6274" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated"><strong class="ln ja">要获得更高级的教程，请使用</strong> <code class="fe mi mj mk ml b"><strong class="ln ja">medium-api</strong></code> <strong class="ln ja"> python 包，转到— </strong></p><div class="mm mn gp gr mo mp"><a href="https://pub.towardsai.net/medium-api-get-posts-using-python-126d6d859ca8" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ja gy z fp mu fr fs mv fu fw iz bi translated">中型 API:使用 Python 获取帖子</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">用户撰写的文章、发布文章和顶级订阅源</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">pub.towardsai.net</p></div></div><div class="my l"><div class="mz l na nb nc my nd ky mp"/></div></div></a></div></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="b5fb" class="ne nf iq bd ng nh ni nj nk nl nm nn no kf np kg nq ki nr kj ns kl nt km nu nv bi translated">先决条件—</h1><ol class=""><li id="30ba" class="nw nx iq ln b lo ny lr nz lu oa ly ob mc oc mg od oe of og bi translated"><a class="ae mh" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">安装<strong class="ln ja"> python </strong> </a></li><li id="7c11" class="nw nx iq ln b lo oh lr oi lu oj ly ok mc ol mg od oe of og bi translated"><a class="ae mh" href="https://pypi.org/project/requests/" rel="noopener ugc nofollow" target="_blank">安装<strong class="ln ja">请求</strong>库</a> ( <em class="om"> pip 安装请求</em>)</li><li id="f6bc" class="nw nx iq ln b lo oh lr oi lu oj ly ok mc ol mg od oe of og bi translated">注册到<a class="ae mh" href="https://rapidapi.com/nishujain199719-vgIfuFHZxVZ/api/medium2" rel="noopener ugc nofollow" target="_blank"> RapidAPI </a>获取<a class="ae mh" href="https://docs.rapidapi.com/docs/keys" rel="noopener ugc nofollow" target="_blank"><strong class="ln ja">YOUR _ API key</strong></a><strong class="ln ja"/>(<em class="om">不会很久的，相信我！</em>)</li></ol></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="on oo l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">什么是 Medium API(非官方)？—作者的视频(可选观看)</figcaption></figure></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="e6ce" class="ne nf iq bd ng nh ni nj nk nl nm nn no kf np kg nq ki nr kj ns kl nt km nu nv bi translated">分步编码—</h1><ol class=""><li id="dc82" class="nw nx iq ln b lo ny lr nz lu oa ly ob mc oc mg od oe of og bi translated">导入请求库</li></ol><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="1a02" class="ot nf iq ml b gy ou ov l ow ox">import <strong class="ml ja">requests</strong></span></pre><p id="aa84" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">2.设置标题和 base_url</p><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="1c4f" class="ot nf iq ml b gy ou ov l ow ox">headers = {<br/>  "x-rapidapi-host": <strong class="ml ja">"YOUR_APIHOST"</strong>, # 'medium2.p.rapidapi.com'<br/>  "x-rapidapi-key": <strong class="ml ja">"YOUR_APIKEY"</strong><br/>}</span><span id="7135" class="ot nf iq ml b gy oy ov l ow ox">base_url = <strong class="ml ja">'https://medium2.p.rapidapi.com'</strong></span></pre><p id="f6aa" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">3.设置用户名</p><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="7883" class="ot nf iq ml b gy ou ov l ow ox">username = <strong class="ml ja"><em class="om">'nishu-jain'</em></strong></span></pre><p id="26f7" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">4.获取<code class="fe mi mj mk ml b">user_id</code></p><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="0d63" class="ot nf iq ml b gy ou ov l ow ox">response = requests.get(<br/>                    base_url + <strong class="ml ja">'/user/id_for/' </strong>+ username, <br/>                    headers = headers<br/>)</span><span id="848a" class="ot nf iq ml b gy oy ov l ow ox">json_data = response.json()<br/><strong class="ml ja">user_id</strong> = json_data[<strong class="ml ja">'id'</strong>]</span></pre><p id="6f98" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">5.获取作者写的所有文章(<code class="fe mi mj mk ml b">article_ids</code>)</p><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="41f3" class="ot nf iq ml b gy ou ov l ow ox">response = requests.get(<br/>                    base_url +<strong class="ml ja"> '/user/'</strong> + user_id + <strong class="ml ja">'/articles',         <br/>                    </strong>headers = headers<br/>)</span><span id="1c0e" class="ot nf iq ml b gy oy ov l ow ox">json_data = response.json()<br/><strong class="ml ja">article_ids</strong> = json_data[<strong class="ml ja">'associated_articles'</strong>]</span></pre><p id="03c5" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">6.获取与每篇文章相关的信息</p><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="aa66" class="ot nf iq ml b gy ou ov l ow ox"><strong class="ml ja">articles</strong> = []<br/>for article_id in article_ids:<br/>   response = requests.get(base_url + <strong class="ml ja">'/article/'</strong> + article_id)<br/>   <strong class="ml ja">article</strong> = response.json()<br/>   print('[FETCHING]: ', <strong class="ml ja">article['title']</strong>)<br/>   articles.append(<strong class="ml ja">article</strong>)</span></pre><p id="0b21" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">7.搞定了。你已经使用 python 成功地获得了所有的帖子</p><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="7980" class="ot nf iq ml b gy ou ov l ow ox">print('Total number of articles: ', <strong class="ml ja">len(articles)</strong>, '\n')<br/>print('Details of the first article: \n')<br/>print(<strong class="ml ja">articles[0])</strong></span></pre><p id="cdd9" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated"><strong class="ln ja">首条信息输出— </strong></p><pre class="kp kq kr ks gt op ml oq or aw os bi"><span id="780a" class="ot nf iq ml b gy ou ov l ow ox">{<strong class="ml ja"> <br/> 'id':</strong> '562c5821b5f0',<br/><strong class="ml ja"> 'title':</strong> 'About Me :) - Nishu Jain',<br/> <strong class="ml ja">'subtitle':</strong> 'Who am I and what do I do ...',<br/> <strong class="ml ja">'author':</strong> '1985b61817c3',<br/><strong class="ml ja"> 'tags':</strong> ['about-me', 'nishu-jain', 'bio', 'software-engineer', 'introduction'],<br/> <strong class="ml ja">'publication_id':</strong> '*Self-Published*',<br/> <strong class="ml ja">'published_at':</strong> '2021-04-17 17:42:10',<br/> <strong class="ml ja">'last_modified_at':</strong> '2021-09-13 06:48:43',<br/> <strong class="ml ja">'claps':</strong> 52,<br/><strong class="ml ja"> 'voters':</strong> 2,<br/> <strong class="ml ja">'word_count':</strong> 527,<br/> <strong class="ml ja">'reading_time':</strong> 2.3720125786164,<br/> <strong class="ml ja">'topics':</strong> ['self'],<br/><strong class="ml ja"> 'url':</strong> '<a class="ae mh" href="https://nishu-jain.medium.com/about-me-nishu-jain-562c5821b5f0'" rel="noopener">https://nishu-jain.medium.com/about-me-nishu-jain-562c5821b5f0'</a>,<br/><strong class="ml ja"> 'image_url':</strong> '<a class="ae mh" href="https://miro.medium.com/1*4cUFmh4kDyGvf4y-73tBaA.png'" rel="noopener">https://miro.medium.com/1*4cUFmh4kDyGvf4y-73tBaA.png'</a>,<br/>}</span></pre><h1 id="c980" class="ne nf iq bd ng nh oz nj nk nl pa nn no kf pb kg nq ki pc kj ns kl pd km nu nv bi translated">完整的代码—</h1><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="pe oo l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">作者代码</figcaption></figure><h1 id="38e9" class="ne nf iq bd ng nh oz nj nk nl pa nn no kf pb kg nq ki pc kj ns kl pd km nu nv bi translated">帮助和参考—</h1><p id="76a5" class="pw-post-body-paragraph ll lm iq ln b lo ny ka lq lr nz kd lt lu pf lw lx ly pg ma mb mc ph me mf mg ij bi translated">如果你被困在某个地方，请阅读以下文章获取更多信息—</p><div class="mm mn gp gr mo mp"><a href="https://nishu-jain.medium.com/medium-api-documentation-90a01549d8db" rel="noopener follow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ja gy z fp mu fr fs mv fu fw iz bi translated">中等 API —文档</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">中型 API 入门</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">nishu-jain.medium.com</p></div></div><div class="my l"><div class="pi l na nb nc my nd ky mp"/></div></div></a></div><div class="mm mn gp gr mo mp"><a href="https://nishu-jain.medium.com/how-to-retrieve-medium-stories-of-a-user-using-apis-fcdb1576558a" rel="noopener follow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ja gy z fp mu fr fs mv fu fw iz bi translated">如何使用 API 检索用户的媒体故事？</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">废弃任何用户使用中型 API 编写的中型文章的最简单方法</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">nishu-jain.medium.com</p></div></div><div class="my l"><div class="pj l na nb nc my nd ky mp"/></div></div></a></div><p id="a1e7" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated">或者你可以联系我，我很乐意帮忙…</p><blockquote class="pk"><p id="f2bc" class="pl pm iq bd pn po pp pq pr ps pt mg dk translated"><a class="ae mh" href="mailto:nishu@mediumapi.com" rel="noopener ugc nofollow" target="_blank">nishu@mediumapi.com</a></p></blockquote><p id="c9b7" class="pw-post-body-paragraph ll lm iq ln b lo pu ka lq lr pv kd lt lu pw lw lx ly px ma mb mc py me mf mg ij bi translated">感谢您的阅读，祝您愉快！</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="6152" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated"><strong class="ln ja"> PS: </strong>我们发布与 Medium 和 Medium API 相关的教程、视频、代码片段和见解。所以一定要跟着我们</p><ul class=""><li id="dc23" class="nw nx iq ln b lo lp lr ls lu pz ly qa mc qb mg qc oe of og bi translated">推特:<a class="ae mh" href="https://twitter.com/medium_api" rel="noopener ugc nofollow" target="_blank"><strong class="ln ja">twitter.com/medium_api</strong></a></li><li id="15cd" class="nw nx iq ln b lo oh lr oi lu oj ly ok mc ol mg qc oe of og bi translated">领英:<a class="ae mh" href="https://www.linkedin.com/company/medium-api" rel="noopener ugc nofollow" target="_blank"><strong class="ln ja">www.linkedin.com/company/medium-api</strong>T3】</a></li></ul></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="7a88" class="pw-post-body-paragraph ll lm iq ln b lo lp ka lq lr ls kd lt lu lv lw lx ly lz ma mb mc md me mf mg ij bi translated"><em class="om">如果你喜欢阅读这些故事，那么我相信你会很乐意成为一名</em> <a class="ae mh" href="https://nishu-jain.medium.com/membership" rel="noopener"> <strong class="ln ja"> <em class="om">中等付费会员</em> </strong> </a> <strong class="ln ja"> <em class="om">。每月只需 5 美元，你就可以无限制地接触成千上万的故事和作家。你可以通过</em> <a class="ae mh" href="https://nishu-jain.medium.com/membership" rel="noopener"> <strong class="ln ja"> <em class="om">注册使用此链接</em> </strong> </a>，<em class="om">来支持我，我将赚取一点佣金，这将帮助我成长并出版更多像这样的故事。</em></strong></p></div></div>    
</body>
</html>