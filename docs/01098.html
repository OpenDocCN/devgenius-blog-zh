<html>
<head>
<title>SwiftUI: Lazy Grids and Stacks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI:惰性网格和堆栈</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/swiftui-lazy-grids-and-stacks-8b5cdacc7c19?source=collection_archive---------9-----------------------#2020-06-24">https://blog.devgenius.io/swiftui-lazy-grids-and-stacks-8b5cdacc7c19?source=collection_archive---------9-----------------------#2020-06-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e867" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用 lazy grid，LazyVGrid，LazyVStack，lazy stack？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a80295e0bc0fb18c20d7f17c4fbacb26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qgFDFWPTK6LW8s92"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">马库斯·温克勒在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="991e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着 iOS-14 的推出，苹果引入了一些新的布局。在本教程中，我们将了解如何使用它们？LazyV(H)堆栈与普通的 V(H)堆栈有何不同？</p><h2 id="885b" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">如何实现 LazyH(V)Grid 和 LazyV(H)Stack？</strong></h2><p id="85e8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">网格/堆栈视图的 h 和 V 定义布局方向。如果我们希望这些视图是可滚动的，我们需要用 ScrollView 包装它们。</p><p id="2f7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> LazyH(V)网格:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/133f581416505fbdbd131e922d5b5dc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/1*XwFt6kKqjKlV-jXMdN0Hfw.gif"/></div></figure><p id="6431" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> LazyV(H)堆栈:</strong></p><p id="d2f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">惰性堆栈的实现与普通堆栈非常相似。懒惰堆栈与普通堆栈有什么不同，这是我们在查看基本实现后将讨论的内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/f3b1e1c58a5ee16e9361272f5465549e.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/1*YZvoNLyNJ8uSM53LiRkOPg.gif"/></div></figure><h2 id="0062" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">LazyV(H)栈和 V(H)栈有什么不同？</h2><p id="ddad" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">惰性堆栈初始化视图应该是可见的，而不是呈现所有视图。让我们看看视图调试器是如何视图的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/56cef3ca19807a79f05a304839a40427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fsOwYNVRvibcZRADFHjbXg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="bd lu">上:LazyVstack，下:VStack </strong></figcaption></figure><p id="c905" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们创建了两个视图，一个使用 LazyVstack，一个使用普通 Vstack。滚动多次后，我们启动视图调试器来查看小部件树。</p><p id="d3cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">VStack 有 50 个文本视图。没有优化。</p><p id="e61c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">LazyVstack  = &gt;只有 31 个文本视图，很可能像表格视图一样循环使用。</p><p id="8015" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">📌我们还观察到，我们在 LazyStack 视图中使用的数据模型对于每一行只被调用一次<strong class="ky ir">,尽管视图正在被重新创建。为什么会这样，是一个悬而未决的问题。</strong></p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="9d24" class="ls lt iq mv b gy mz na l nb nc"><strong class="mv ir">struct</strong>  Row {</span><span id="c90a" class="ls lt iq mv b gy nd na l nb nc"><strong class="mv ir">   var</strong> value: Int</span><span id="9e3e" class="ls lt iq mv b gy nd na l nb nc"><strong class="mv ir">   init</strong>(value: Int) {<br/>        print("INIT: \(value)")<br/>        <strong class="mv ir">self</strong>.value = value<br/>   }<br/>}</span></pre></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><p id="b133" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">参考</strong></p><div class="nl nm gp gr nn no"><a href="https://developer.apple.com/videos/play/wwdc2020/10041" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">SwiftUI 的新功能- WWDC 2020 -视频-苹果开发者</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">SwiftUI 可以帮助您为 iPhone、iPad、Mac、Apple Watch 和 Apple TV 构建更好、更强大的应用程序。了解更多信息…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">developer.apple.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc kp no"/></div></div></a></div></div></div>    
</body>
</html>