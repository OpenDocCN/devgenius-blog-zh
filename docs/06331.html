<html>
<head>
<title>Redis Caching VS Cloudflare page rules — NodeJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Redis缓存与Cloudflare页面规则— NodeJS</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/redis-caching-vs-cloudflare-page-rules-nodejs-1bfe2c2a6a5a?source=collection_archive---------2-----------------------#2021-12-31">https://blog.devgenius.io/redis-caching-vs-cloudflare-page-rules-nodejs-1bfe2c2a6a5a?source=collection_archive---------2-----------------------#2021-12-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/e13e9e7a009cffcd2fd8f6f06edc9f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rmiokwHGOwZ1XCAqFh9n8w.png"/></div></div></figure><div class=""/><blockquote class="jv jw jx"><p id="060b" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb iz"> NodeJS + Redis缓存vs Cloudflare页面规则缓存</strong></p></blockquote><p id="0690" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">TLDR；用于缓存</p><p id="17d9" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">缓存基本上是一种方式，在静态媒体(如图像和视频等)的情况下，您可以从主数据库或文件服务器上卸下沉重的负载，并将它扔给另一个更便宜、更快的平台/系统，如Cloudflare、Redis或Memcached。</p><blockquote class="jv jw jx"><p id="9450" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">为什么要缓存</p></blockquote><p id="4a1e" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">假设我们有一个每分钟被访问100万次的博客，这意味着每秒大约有16，667次读取操作，这是一个非常不现实的情况，但只是为了扩大规模，任何免费或小型自托管或托管数据库都会在这种情况下崩溃，但我们不希望它崩溃而不在我们的口袋里烧一个洞。这就是<strong class="kb iz">缓存</strong>的用武之地。</p><p id="3928" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><strong class="kb iz"> <em class="ka">本文将具体介绍Redis在NodeJS中的实现，您可以跟随Cloudflare。</em> </strong></p><p id="98b5" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">在我使用NodeJS的职业生涯中，我遇到了两种主要的缓存数据的方法，既便宜又简单。</p><p id="344a" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><strong class="kb iz"> Redis和Cloudflare功能。</strong></p><h1 id="4985" class="la lb iy bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">1.雷迪斯</h1><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/a14928d5403ff45da0c1564cebc55670.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*cplFVZeUgiHVPAtXVqJt0Q.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">切换到黑暗模式以查看图像的其余部分</figcaption></figure><p id="e905" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">Redis有多种用例，比如用于缓存的内存数据库、持久性通用数据库(与许多人认为Redis具有数据持久性相反)。出于本文的目的，我们将集中讨论内存数据库部分。</p><p id="7b9f" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">问:为什么Redis的内存数据库比其他主流数据库如Postgres和MongoDB更快？<br/> Ans。内存数据库(IMDB)依靠计算机的主内存(也称为RAM)来存储数据，而其他数据库则使用磁盘存储，这比RAM慢得多。</em></p><p id="4014" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">问:什么时候应该使用Redis？<br/> Ans。当他们想要在服务器端进行缓存，并且想要完全控制缓存时，例如，在缓存上执行CRUD操作，他们会想要使用Redis。</em></p><p id="933a" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">几个数字:</p><p id="6f23" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">这里有一个对我的Node+Express API的postman请求，它从firebase firestore读取数据。</p><p id="8e4b" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">不带Redis</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mh"><img src="../Images/09ee1f89f4dcd7b92bd4a8dbaf1a2fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MW12DOGIHJCsbUFA63BALg.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">没有Redis缓存的定向IP请求</figcaption></figure><p id="450f" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">使用Redis</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mh"><img src="../Images/bb729a834f0456fe08749552c7e916e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BP2KV4hPbm8Tga4qXwCi-w.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">使用* Redis缓存定向IP *的请求</figcaption></figure><p id="e21a" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">我们可以观察到Redis和not Redis之间的响应时间大幅缩短。这是如何实现的。</p><figure class="lz ma mb mc gt ip"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">由于Redis是一个键-值对数据库(NodeJS代码)，因此使用键-值对从Redis数据库读取数据或向Redis数据库添加数据</figcaption></figure><h2 id="c0aa" class="mk lb iy bd lc ml mm dn lg mn mo dp lk kx mp mq lo ky mr ms ls kz mt mu lw mv bi translated"><strong class="ak">重新验证</strong></h2><p id="15a7" class="pw-post-body-paragraph jy jz iy kb b kc mw ke kf kg mx ki kj kx my km kn ky mz kq kr kz na ku kv kw ig bi translated">一个好的缓存系统总是会考虑到它所保存的数据的有效性，即它是否需要更新/重新验证。有两件事需要注意，陈旧数据和无效数据。现在，陈旧数据本身就意味着我们缓存中的数据只是简单的旧数据，谨慎的做法是删除它并再次缓存它，以防发生一些变化。无效数据意味着我们缓存中的数据不再等于我们主/持久数据库中存储的数据，它需要更新，简而言之，当数据过时时，我们不知道数据的状态，但在无效的情况下，我们知道数据以某种方式发生了变化。</p><p id="b089" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">下面是从Redis中删除数据的方法。</p><figure class="lz ma mb mc gt ip"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">从Redis中删除一个键，因为Redis是一个键值对DB (NodeJS代码)</figcaption></figure><p id="1d8d" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">删除缓存的数据后，如果有人再次请求数据，您最好等待有人再次请求，因为这样可以节省存储数据所需的内存，而且在请求和缓存时，它还可以在某种程度上提供最新的数据。</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/2e13326831c487a6423c949a47a8db54.png" data-original-src="https://miro.medium.com/v2/resize:fit:78/format:webp/1*iUvNwcrgivw8jN7WOOoqrg.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">Redis图标</figcaption></figure></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="cd71" class="la lb iy bd lc ld nj lf lg lh nk lj lk ll nl ln lo lp nm lr ls lt nn lv lw lx bi translated">2.Cloudflare页面规则</h1><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div class="gh gi no"><img src="../Images/7f1666841ceddf681afb2dfd155fd1aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:238/format:webp/1*AY8qPyVtWdB1TTUd5TGWEw.png"/></div></figure><p id="632f" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">Cloudflare是一家受欢迎的web基础架构和网站安全公司，提供内容交付网络和DDoS缓解服务。</p><p id="73f0" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">我们将专注于内容交付部分。</p><p id="a260" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">问:为什么Cloudflare是比Redis更好的选择？<br/>俺们。使用Cloudflare时，编写代码、管理资源和依赖关系的压力将从您身上消失，它通常比Redis缓存快得多，因为它是一个分布式服务器网络，可以缓存和交付数据，消除了网络延迟。</em></p><p id="2229" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">问:什么时候应该使用Cloudflare？<br/> Ans。当他们想要缓存静态媒体(如图像和视频)或在很长一段时间内不会发生变化的数据时，可能会希望使用Cloudflare。</em></p><p id="7f75" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">几个数字</p><p id="9e88" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">不使用Cloudflare缓存</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mh"><img src="../Images/bb729a834f0456fe08749552c7e916e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BP2KV4hPbm8Tga4qXwCi-w.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">对没有Cloudflare缓存的API的标准请求</figcaption></figure><p id="7077" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">使用Cloudflare缓存</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mh"><img src="../Images/db268259b581c95466434279f9f6192f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TSBGPDDLZATl54BA34l4ow.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">对API *with* Cloudflare Cache的标准请求</figcaption></figure><p id="4596" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">我们可以看到大约有150毫秒的差异，这将在您的用户群中保持相当一致，因为使用Cloudflare缓存时，网络延迟(相对于客户端和服务器之间的距离)几乎为零。</p><p id="c8ff" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">下面是怎么做的。</p><p id="791f" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><strong class="kb iz"> <em class="ka">我在这里假设您已经将Cloudflare用于您的web应用程序</em> </strong></p><ol class=""><li id="2e89" class="np nq iy kb b kc kd kg kh kx nr ky ns kz nt kw nu nv nw nx bi translated">登录您的Cloudflare帐户，并选择要在其上进行缓存的域。</li></ol><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ny"><img src="../Images/8db2a14454cddcea66b589cd65695ef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXUu1Lwuw-4qSeDfPZWQwg.png"/></div></div></figure><p id="e4f0" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">2.进入<code class="fe nz oa ob oc b">Rules</code>选项卡</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi od"><img src="../Images/9ebfec8d0c7acc0e04cbb2bea5f49016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_bVQIAv9DReFmnMUdTmnQw.png"/></div></div></figure><p id="f2a9" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">3.按下<code class="fe nz oa ob oc b">Create Page Rule</code>按钮。</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi od"><img src="../Images/f6e899cf4120b4f1c59a851ebb76de6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GYnb9juUU3BP-I-vlRhVQQ.png"/></div></div></figure><p id="7045" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">4.填写表格</p><p id="6ad9" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">TTL代表<code class="fe nz oa ob oc b">Time To Live</code></p><p id="7691" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">您可以根据自己的喜好设置边缘缓存TTL和浏览器缓存TTL</p><p id="99cc" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">我的建议是保持浏览器缓存TTL最小，因为你不能控制客户端缓存。</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi od"><img src="../Images/0b90d54d8fbfe5900f176d01cdd7939e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LwiW7LYdl_IF5ZW15Xswhw.png"/></div></div></figure><p id="cfc1" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">5.保存并部署</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi od"><img src="../Images/0691780ddf7da7d45f272719792afc2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ydkVLBplhWUzuENU6lWGQ.png"/></div></div></figure><p id="7b83" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">这就是你如何使用Cloudflare页面规则缓存路线，这些规则也适用于静态内容，如图像和视频。</p><h2 id="ec22" class="mk lb iy bd lc ml mm dn lg mn mo dp lk kx mp mq lo ky mr ms ls kz mt mu lw mv bi translated"><strong class="ak">重新验证</strong></h2><p id="c984" class="pw-post-body-paragraph jy jz iy kb b kc mw ke kf kg mx ki kj kx my km kn ky mz kq kr kz na ku kv kw ig bi translated">现在，如果你想重新验证，删除缓存的数据，这也很简单。</p><ol class=""><li id="fdba" class="np nq iy kb b kc kd kg kh kx nr ky ns kz nt kw nu nv nw nx bi translated">登录您的Cloudflare帐户，并选择要清除缓存的域。</li></ol><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ny"><img src="../Images/8db2a14454cddcea66b589cd65695ef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXUu1Lwuw-4qSeDfPZWQwg.png"/></div></div></figure><p id="8440" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">2.进入侧边栏，然后悬停在缓存按钮上，并从下拉列表中选择配置。</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi od"><img src="../Images/6f16a6e68b487f2182cd14787ae777f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y7iFSx_S3ix9Jfme-l4z_g.png"/></div></div></figure><p id="eac8" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">3.点击<code class="fe nz oa ob oc b">Custom Purge</code>按钮</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi od"><img src="../Images/72fe9ebb5c82bbe52847c13fbab30004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2DgVNqhxkXF5nlKm-K1fDQ.png"/></div></div></figure><p id="b833" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">4.由于我们缓存了<a class="ae oe" href="https://repo.plutorepo.com/sileo-depiction/*" rel="noopener ugc nofollow" target="_blank"><strong class="kb iz"><em class="ka">【https://repo.plutorepo.com/sileo-depiction/*】</em></strong></a><strong class="kb iz"><em class="ka"/></strong>其中“*”松散地表示所有内容，我们将用“*”填充相同的链接以删除整个缓存或用查询参数删除特定的缓存响应。</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi od"><img src="../Images/fd8f6e63fa2f360703de3ec9dbb19a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B2DeCmtyEJs3wQKE-zl5WQ.png"/></div></div></figure><p id="4f1c" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">5.按下<code class="fe nz oa ob oc b">Purge</code>按钮。</p><p id="d8e2" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">删除缓存的数据后，每当有人再次请求该数据时，它会自动再次被缓存。</p><figure class="lz ma mb mc gt ip gh gi paragraph-image"><div class="gh gi of"><img src="../Images/7d43cb247bbfa8363f63da606f276fa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*k3dIpqsh7huxeBRfFCHfoQ.png"/></div></figure></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h2 id="1596" class="mk lb iy bd lc ml mm dn lg mn mo dp lk kx mp mq lo ky mr ms ls kz mt mu lw mv bi translated"><strong class="ak">结论</strong></h2><p id="0f50" class="pw-post-body-paragraph jy jz iy kb b kc mw ke kf kg mx ki kj kx my km kn ky mz kq kr kz na ku kv kw ig bi translated">你应该用哪一个？</p><p id="fe70" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">很难给出一个适合所有人的答案，但是当你决定使用其中任何一个的时候，你应该记住以下几点。</p><p id="ffcc" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">问:你会存储图像、视频等静态媒体吗？<br/> Ans。如果你的答案是“是”，那么Cloudflare页面规则就是一个完美的匹配。</p><p id="a631" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">问:你打算只存储JSON数据还是其他可以用易管理的字符串格式存储的数据？<br/> Ans。如果您的答案是“是”，那么Redis或Cloudflare将帮助您完成工作。</p><p id="0c65" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">问:您希望完全控制缓存的创建、读取、更新和删除(CRUD)吗？<br/> Ans。如果您的回答是“是”，那么您可能只想使用Redis。</p><p id="cb64" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">理想情况下，任何大规模的API都可能同时使用这两者，您可以在Redis中更新您的缓存数据，最终，Cloudflare将从您的缓存中重新验证它，从而将数千个服务器调用减少到数百个，并且几乎每个web应用程序都必须提供某种静态媒体文件，无论是图标、图像还是视频等，因此需要Cloudflare页面规则来处理这些内容。</p><p id="0f04" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">感谢您的阅读。</p><p id="982e" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">如果你想看更多我的文章，可以考虑关注我。</p><p id="3ec3" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi">====================================</p><p id="5651" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">如果你想和我联系，这是我的推特。</p></div></div>    
</body>
</html>