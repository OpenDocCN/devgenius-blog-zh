<html>
<head>
<title>Playing with DataFrames.jl • Part II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">玩弄数据框架. jl 第二部分</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/playing-with-dataframes-jl-part-ii-260748a49dc6?source=collection_archive---------2-----------------------#2022-04-02">https://blog.devgenius.io/playing-with-dataframes-jl-part-ii-260748a49dc6?source=collection_archive---------2-----------------------#2022-04-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/edb0617e3d486acebb77baf40a156588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JfjBERt5-2ws-zuNiOiwjg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">考特尼·库克在<a class="ae jz" href="https://unsplash.com/s/photos/ice-cream?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="33f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">简介</strong></p><p id="8d86" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本文旨在展示 Julia 中的<a class="ae jz" href="https://dataframes.juliadata.org/stable/#DataFrames.jl" rel="noopener ugc nofollow" target="_blank"> DataFrames.jl </a>包为您带来的一些可能性(一些关于 DataFrames 的重要知识)。当然还有更多。你可以在这里找到第一部分<a class="ae jz" href="https://medium.com/dev-genius/playing-with-dataframes-jl-part-i-44fd01b985d5" rel="noopener"/>。</p><p id="dba1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">内容</strong></p><ul class=""><li id="e3ce" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">逐列创建数据帧</li><li id="b48c" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">逐行创建数据帧</li><li id="20b8" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">创建数据框架的另一种方法(带有趣的练习🍧)</li><li id="cd6a" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">获取值的特定子集</li><li id="233d" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">基于条件选择行</li><li id="cd79" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">逐行转换列</li><li id="6282" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">使用现有列的转换创建新列</li><li id="21a6" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">将函数应用于列</li><li id="7cac" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">排序列</li><li id="0d36" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">更改特定索引</li><li id="a9cf" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">替换特定索引</li><li id="6d8e" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">删除缺少的值</li><li id="ec97" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">连接</li></ul></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="1f61" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">不要忘记使用您想要的包(在我们的例子中是:DataFrames) </strong></p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="48af" class="mc md in ly b gy me mf l mg mh">using DataFrames</span></pre><p id="9b20" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">逐列创建数据帧</strong></p><p id="3096" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们创建一个空的数据帧</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="79bb" class="mc md in ly b gy me mf l mg mh">df1=DataFrame()</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/125c30c18dd0d61d24a53cbab8b3ac0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*MU566eeuENxt-5EN_4HmQg.png"/></div></figure><p id="c1ff" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">创建第一列</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="bd38" class="mc md in ly b gy me mf l mg mh">df1.Favourite_ice_cream = ["banana","pistachio","chocolate","strawberry","chocolate","chocolate","mint","caramel","vanilla","vanilla"]</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/b915e7252253f7eb92761287af0242bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*zrkxabWjSYDEOHJhNgARtg.png"/></div></figure><p id="ea8e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">创建第二列</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="74bc" class="mc md in ly b gy me mf l mg mh">df1.Student_name = ["Nick","Maria","Jo","Lola","Maria","John","Helen","Mike","Steve","Harry"]</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/d8ddcdf639bc44865db4b75f32bb187a.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*ku1x97r_MrAWsm5S_hjViw.png"/></div></figure><p id="07a3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">准备好了。</p><p id="a027" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">逐行创建数据帧</strong></p><p id="c801" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将创建一个包含空列的数据帧。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="42de" class="mc md in ly b gy me mf l mg mh">df2 = DataFrame(Favourite_ice_cream = String[], Student_age = Int[])</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/2afe678a516623f18d5a110dbe1b4079.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*cOuwv1wDHJL5LdZ2Unf7zg.png"/></div></figure><p id="e9ce" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，让我们一行一行地填。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="bb50" class="mc md in ly b gy me mf l mg mh">push!(df2, ("banana", 15))</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/d1c84575f493be2d5a9ba73ea0630d8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*1TP3TS7T9UYwY57kATQ4hQ.png"/></div></figure><p id="7cd6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们还可以添加行，如下所示:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="72cc" class="mc md in ly b gy me mf l mg mh">push!(df2, Dict(:Favourite_ice_cream =&gt; "pistachio", :Student_age =&gt; 13)) #Attention needs =&gt; not =</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/a098341548fbc684d9e7d12f1cc98a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*om44iRNauW4PRSzm5tWH6Q.png"/></div></figure><p id="1d62" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">创建数据框架的另一种方法</strong></p><p id="523a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我想创建以下列(变量):</p><ul class=""><li id="2b9e" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">我每天吃的开心果冰淇淋(持续 20 天)。</li></ul><p id="cff5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">列名:开心果</p><ul class=""><li id="a033" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">我每天吃的香蕉冰淇淋(持续 20 天)。</li></ul><p id="82e1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">列名:BananaPD</p><ul class=""><li id="15e6" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">我每天吃的柠檬冰淇淋(持续 20 天)。</li></ul><p id="ee37" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">列名:LemonPD</p><p id="de12" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">🍧开心果冰淇淋的一些信息</p><p id="be9e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我每天吃的开心果冰淇淋最少是 1 勺。</p><p id="62a0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我每天最多吃 39 勺开心果冰淇淋。</p><p id="d9e6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">每天都是从上一个多吃两个(从 1 开始，以 39 结尾)。</p><p id="cad2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">🍧香蕉冰淇淋的一些信息</p><p id="872f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">连续两天，我吃同样数量的冰淇淋勺。</p><p id="825c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从 1 开始，以 10 结束。</p><p id="6b43" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">🍧柠檬冰淇淋的一些信息</p><p id="3cd7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">每天我都会多吃一勺前一天的柠檬冰淇淋。</p><p id="d75b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从 1 开始，以 20 结束。</p><p id="2530" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请考虑一下如何创建这个数据框架。</p><p id="fad1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当你准备好了，阅读解决方案。</p><p id="f307" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">解决方案:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="e7bf" class="mc md in ly b gy me mf l mg mh">df3 = DataFrame(PistachioPD = 1:2:39, BananaPD = repeat(1:10, inner = 2), LemonPD = 1:20)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/4788a19579690b5a7be7664765e9c6ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*Q3gv5GLDs3lpNRXGfOaqMw.png"/></div></figure></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="c131" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从现在开始，我们将使用下面的数据框架:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="1e28" class="mc md in ly b gy me mf l mg mh">df = DataFrame(<br/>Favourite_ice_cream = ["banana","pistachio","chocolate","strawberry","chocolate","chocolate","mint","caramel","vanilla","vanilla"],<br/>Age = [23,28,35,33,23,25,20,32,32,17],<br/>Name = ["Nick","Maria","Jo","Lola","Maria","John","Helen","Mike","Steve","Harry"],<br/>Gender = ["Male","Female","Female","Female","Female","Male","Tansgender","Male","Male","Male"],<br/>Height = [1.88,1.73,missing,1.68,1.79,1.58,1.70,missing,1.90,"None"],<br/>Daily_expenses = [125.6,58.7,13.2,45.8,12,6.7,87.4,55.6,63.8,34.7])</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/8aedf40b38c02e64e03d4cbcfa51f7b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*77O0SkuR4m7RoAcA6HtVOQ.png"/></div></figure><p id="0b8d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">获取特定的值子集</strong></p><p id="5141" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我想得到我的数据框架的一个子集，其中只有我选择的年龄的人参与。在这种情况下，我想要 17 岁、23 岁或 33 岁的人的信息。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="127e" class="mc md in ly b gy me mf l mg mh">df[in.(df.Age, Ref([17,23,33])), :]</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/3425fa03635939437f3ec947303980eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*dkTIzCZghgrpQQLy9ydH7Q.png"/></div></figure><p id="4315" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">根据条件选择行</strong></p><p id="28f9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我想在我的数据框架中研究 23 岁以上的人。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="3f17" class="mc md in ly b gy me mf l mg mh">df[df.Age .&gt; 23, :]</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mq"><img src="../Images/4ff3e8a2f5080743f1fc54e40e815005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*7F0F6hHqXESkrmODUzfS9Q.png"/></div></div></figure><p id="82e8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，我想要的是那些超过 25 岁，但是日常开销在 30 美元到 46 美元之间的人。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="703b" class="mc md in ly b gy me mf l mg mh">df[(df.Age .&gt; 25) .&amp; (30 .&lt; df.Daily_expenses .&lt; 46), :]</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/de4bbaab918eb939a4373f2e9c49dbcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*POFKt-x5d22_-cNnOmLVmA.png"/></div></div></figure><p id="060a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">逐行变换列</strong></p><p id="1714" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我想得到所有日常开销的平方根。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="22cd" class="mc md in ly b gy me mf l mg mh">select(df, :Daily_expenses =&gt; ByRow(sqrt))</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/2f6d5674b08a6b0ae63cc8777fc622b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*2cUTRNQENFbokNcZwWqR_g.png"/></div></figure><p id="da82" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">用现有列的转换创建一个新列</strong></p><p id="ea61" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们创建一个名为 x 的数据帧，它包含来自现有数据帧的列“Age”和“Daily_expenses”。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="e50d" class="mc md in ly b gy me mf l mg mh">x = select(df, :Age, :Daily_expenses)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/ebfa8c3ae4310e2725789a587719952a.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*BwSrQJ5n_dJ4nrnUrs7nbA.png"/></div></figure><p id="f84b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我想创建一个新列，在同一行中包含 Age 和 Daily_expenses 的总和。</p><p id="5265" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">举个例子，</p><p id="39c0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi">23+125.6</p><p id="12ca" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi">28+58.7</p><p id="74df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">等等。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="5a13" class="mc md in ly b gy me mf l mg mh">transform(x, All() =&gt; +)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/1ce15b220daa51a8c1e0e40229294346.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*yN2skZmRxoJ7tSKzimQSww.png"/></div></div></figure><p id="e6a8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">对列应用函数</strong></p><p id="4d5c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">假设我们想要合计所有的日常开支。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="7c95" class="mc md in ly b gy me mf l mg mh">combine(df, :Daily_expenses .=&gt; sum)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/413acc2987bf38ea51fbb9e51d847a0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*KSHpOSgcQc1i6t_zKItSbg.png"/></div></figure><p id="4143" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">对列进行排序</strong></p><p id="f92c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">是时候对年龄变量进行排序了。从最小年龄到最大年龄。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="a34f" class="mc md in ly b gy me mf l mg mh">sort!(df, :Age)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/7461260906a900ee4eb330067bd84a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*oPDuaSRxdzy7jT59yW58Tw.png"/></div></figure><p id="6040" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将自动应用于我们的数据框架。所以，从现在开始，我们要处理已排序的年龄变量。</p><p id="b8cf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">改变具体指标</strong></p><p id="21f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我想用值 12 来更改年龄列的第二行。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="19a9" class="mc md in ly b gy me mf l mg mh">df.Age[2] = 12</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/6626e2c239578b3c4da4317cd327da59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*vwoMqLfmlYp99Q_VJ91ROA.png"/></div></figure><p id="d67d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">更换特定指标</strong></p><p id="b5f0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们用 JoJo 这个名字代替 Jo 这个名字。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="0957" class="mc md in ly b gy me mf l mg mh">replace!(df.Name, "Jo" =&gt; "JoJo")</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi my"><img src="../Images/8574cc39aa6148436662cd80aa761912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*BggyOIU8NT6lVunXoOSmFQ.png"/></div></figure><p id="96df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将自动应用于我们的数据框架。</p><p id="0d42" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从现在开始，我们将在列名的最后一行使用 JoJo 这个名称。</p><p id="da11" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我还想用 missing 替换“None”值。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="c3e2" class="mc md in ly b gy me mf l mg mh">replace!(df.Height, "None" =&gt; missing)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/79b13824181a56c7f09d6ed0e8cadbca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*1Gyj4SrrQVW3xF8A_61TOQ.png"/></div></figure><p id="6b4c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">删除缺失值</strong></p><p id="ca12" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">删除所有丢失的值！</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="8f24" class="mc md in ly b gy me mf l mg mh">dropmissing(df, :Height)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi na"><img src="../Images/59e025db2bea18fab0b82251a02cb532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*4m0HCNQ4tieyz8doYbQvHg.png"/></div></figure><p id="a27b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是如果你像下面这样写(df ),你会得到缺少值的数据帧。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="ea11" class="mc md in ly b gy me mf l mg mh">df</span></pre><p id="2749" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您希望更改(dropmissing)自动应用到我们已有的数据帧，请输入<strong class="kc io">！</strong>在 dropmissing 的语法中。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="dd08" class="mc md in ly b gy me mf l mg mh">dropmissing!(df, :Height)</span></pre><p id="444c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">加入</strong></p><p id="c395" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后但同样重要的是，让我们使用连接。</p><p id="e5a6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我将创建两个相互独立的数据帧。</p><p id="6e41" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="4c36" class="mc md in ly b gy me mf l mg mh">IceCream = DataFrame(ID=[1, 2], FavIceCream=["mint", "banana"])</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/61e834d09d1990fc162ff389b9452031.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*JLmFQGkusKGU2ruBd3jdJw.png"/></div></figure><p id="87f9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第二:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="2b01" class="mc md in ly b gy me mf l mg mh">Names = DataFrame(ID=[1, 2], Name=["Helen", "Nick"])</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/53cdd735cdaf15cfa20bc0f4d94faf05.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*wuNmtGU0hrAHccvXmo2bbA.png"/></div></figure><p id="7f67" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们加入他们。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="46dd" class="mc md in ly b gy me mf l mg mh">innerjoin(IceCream, Names, on = :ID)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/72295fb6339a1e4de7f9758be2688f18.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*yI7vo2E7PdLDqEzTcofGBQ.png"/></div></div></figure><p id="8e08" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我会再创造一个。</p><p id="4b4e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第三:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="c2d6" class="mc md in ly b gy me mf l mg mh">Names = DataFrame(ID=[1, 4], Name=["Helen", "John"])</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/63a87cec004bbbfd47710dd0dbd60c18.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*2JMD9I5rm1EaxGOrPq08ng.png"/></div></figure><p id="2522" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将调查以下各项之间的差异:</p><p id="d6d0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">左连接()</p><p id="fb49" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">rightjoin()</p><p id="0343" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">外部联接()</p><p id="b053" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">内部联接()</p><p id="57a8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">半连接()</p><p id="55fa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">反联接()</p><p id="4d78" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">交叉连接()</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="c30f" class="mc md in ly b gy me mf l mg mh">#leftjoin()<br/>leftjoin(IceCream, Names, on = :ID)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/a9aa19c55825aef1d4ad253e90d94661.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*R2aAW3U1XotZBUxARkpRCw.png"/></div></div></figure><p id="0722" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">包含左参数(冰淇淋)的行和值。我们不关心该值是否存在于正确的参数(名称)中。正如我们在创建的第三个数据帧(名称)中看到的，我们只有 ID = 1 和 ID = 4 的名称。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="7c70" class="mc md in ly b gy me mf l mg mh">#rightjoin()<br/>rightjoin(IceCream, Names, on = :ID)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/2b04c0136c752ae189906f3c3ff6d655.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*7PZ5-ECq2HEb6VOqCV0APw.png"/></div></figure><p id="db8c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">包含右参数的行和值(名称)。我们不关心这个值是否存在于左边的参数(冰淇淋)中。正如我们在创建的第一个数据帧(冰淇淋)中看到的，我们只有 ID = 1 和 ID = 2 的值。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="4cce" class="mc md in ly b gy me mf l mg mh">#outerjoin()<br/>outerjoin(IceCream, Names, on = :ID)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/9326833586d04efffed7e04b9dd4818a.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*50HGuMrjd-FG9Jl5uoq9kA.png"/></div></figure><p id="18b1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">包含两个参数(数据帧)值的行，即使它们缺失。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="f36f" class="mc md in ly b gy me mf l mg mh">#innerjoin()<br/>innerjoin(IceCream, Names, on = :ID)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/6a820a608a986c4a66e215c7df2113a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*6iu1-q-YGoPVCrqBolgA2g.png"/></div></div></figure><p id="bb38" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">包含两个参数(数据帧)值的行，前提是它们存在。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="7de8" class="mc md in ly b gy me mf l mg mh">#semijoin()<br/>semijoin(IceCream, Names, on = :ID)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/2a5aba4fa073cd1dde215fd322c334ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*kpkvhOfBVv06PSGuW3THIg.png"/></div></figure><p id="040d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">类似于 inner join，但是输出只包含 left (IceCream)参数。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="dbb7" class="mc md in ly b gy me mf l mg mh">#antijoin()<br/>antijoin(IceCream, Names, on = :ID)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/399cfd20154454451877f6f7d1f88cd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*I5y5P_P6j4GMlj1n8YjDcA.png"/></div></figure><p id="0f63" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">包含存在于左侧(冰淇淋)而非右侧(名称)参数中的值行。例如，我们有冰淇淋(来自左边的论证),但是我们不知道吃冰淇淋的人的名字。和上面一样(半连接)，输出被限制在左边参数的列(冰淇淋)。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="5a23" class="mc md in ly b gy me mf l mg mh">#crossjoin()<br/>crossjoin(IceCream, Names, makeunique = true)</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/11ad92c25fd7dcd97b8b412a6a0055e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*gjk6n-5mmYCNsYec0Zo9ww.png"/></div></figure><p id="1545" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">左参数中的每一行都与右参数中的所有行成对(<em class="nl">行</em>的笛卡尔积)。</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="27ef" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">结论</strong></p><p id="d694" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本文是 DataFrames.jl 的第二部分，也是最后一部分。</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="16b4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢您的阅读！🤗</p></div></div>    
</body>
</html>