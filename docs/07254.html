<html>
<head>
<title>What Is ROS2 and How To Install It on Raspberry Pi?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ROS2 是什么，如何安装在树莓 Pi 上？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-ros2-and-how-to-install-it-on-raspberry-pi-3a291bf3ea7f?source=collection_archive---------8-----------------------#2022-03-09">https://blog.devgenius.io/what-is-ros2-and-how-to-install-it-on-raspberry-pi-3a291bf3ea7f?source=collection_archive---------8-----------------------#2022-03-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/></div><div class="ab cl jk jl hr jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="ig ih ii ij ik"><figure class="js jt ju jv gt jw gh gi paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="gh gi jr"><img src="../Images/20c53bb6278dc12136e63e8d05af27d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4IB10HhFoxEtUBaXG8b7Q.jpeg"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">作者照片</figcaption></figure><p id="be25" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">根据<a class="ae lf" href="https://docs.ros.org/en/galactic/index.html" rel="noopener ugc nofollow" target="_blank"> ROS 文档</a>:“机器人操作系统(ROS)是一套用于构建机器人应用的软件库和工具。从驱动程序到最先进的算法，加上强大的开发工具，ROS 拥有您下一个机器人项目所需的一切。”</p><p id="694e" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">正如文档中的定义所述，ROS 包含各种各样的工具和库。其中一些工具用于开发目的(3D 模拟、数据可视化等)。)和一些核心应用程序(电机控制库、设备驱动程序等)。).</p><p id="c5f4" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">ROS 具有由节点组成的结构，并通过主题在节点之间提供发布/订阅机制。这些节点可以具有如上所述的开发或应用目的，并且它们可以在不同的计算机上运行，同时通过网络连接进行通信。这种结构使我们能够在 Raspberry Pi 上部署我们的控制软件，并从我们的开发计算机上监视或控制它。</p><p id="87f8" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">在这篇博文中，我们将在 Raspberry Pi 上安装 ROS，并为我们未来将要构建的项目做准备。</p><h1 id="ef12" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">1.在树莓 Pi 上安装 Ubuntu 20.04 LTS 服务器</h1><p id="fcaa" class="pw-post-body-paragraph kh ki in kj b kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la mi lc ld le ig bi translated">我们将使用 Ubuntu 20.04 LTS 服务器操作系统在 Raspberry Pi 上运行 ROS2。你可以在<a class="ae lf" href="https://singleboardblog.com/install-ubuntu-server-on-raspberry-pi/" rel="noopener ugc nofollow" target="_blank">本帖</a>中找到 Ubuntu 20.04 LTS 服务器安装指南。</p><h1 id="ef65" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">2.安装所需的软件包</h1><p id="a7a4" class="pw-post-body-paragraph kh ki in kj b kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la mi lc ld le ig bi translated">这些包可能已经安装在 Ubuntu 服务器上了，但是肯定不会有什么坏处。</p><pre class="js jt ju jv gt mj mk ml mm aw mn bi"><span id="44a3" class="mo lh in mk b gy mp mq l mr ms">sudo apt update<br/>sudo apt install curl gnupg lsb-release</span></pre><figure class="js jt ju jv gt jw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/cee4d9b6cb25f92bc24f471351c7a163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*r3jy4Hn3LOBPFN8__8KKPQ.png"/></div></figure><h1 id="5e54" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">3.将 ROS 存储库添加到源列表</h1><p id="a8da" class="pw-post-body-paragraph kh ki in kj b kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la mi lc ld le ig bi translated">我们需要将 ROS 密钥和 ROS 库源添加到我们的系统中，以便能够通过 apt 包管理器访问 ROS 包。</p><pre class="js jt ju jv gt mj mk ml mm aw mn bi"><span id="a258" class="mo lh in mk b gy mp mq l mr ms">sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key  -o /usr/share/keyrings/ros-archive-keyring.gpg</span><span id="9252" class="mo lh in mk b gy mu mq l mr ms">echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(source /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null</span><span id="fd1d" class="mo lh in mk b gy mu mq l mr ms">sudo apt update</span></pre><figure class="js jt ju jv gt jw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/7b6ae8ff37b3ae85ea66fd799fcb3d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*lVoVczs-WcPe40HwjJ99cQ.png"/></div></figure><h1 id="78d6" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">4.安装 ROS2 软件包</h1><p id="7ec9" class="pw-post-body-paragraph kh ki in kj b kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la mi lc ld le ig bi translated">我们将安装“基础”,因为我们不想要 GUI 工具。这个版本只包括通信库、消息包和命令行工具。这一步将需要一段时间，取决于互联网速度和微型 SD 卡的性能。</p><pre class="js jt ju jv gt mj mk ml mm aw mn bi"><span id="1462" class="mo lh in mk b gy mp mq l mr ms">sudo apt install ros-galactic-ros-base -y</span></pre><figure class="js jt ju jv gt jw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/846bd11200c99772cd6ea981d74f96ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*qZPDcIaxtzwf1R_-JEYh-g.png"/></div></figure><h1 id="6c98" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">5.在每次会话开始时自动设置环境</h1><p id="f779" class="pw-post-body-paragraph kh ki in kj b kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la mi lc ld le ig bi translated">为了能够使用 ROS 命令行工具，我们需要在之前找到 ROS 安装的安装脚本。因此，最简单的解决方案是将源命令添加到。巴沙尔，它会在每次会议开始时准备好。</p><pre class="js jt ju jv gt mj mk ml mm aw mn bi"><span id="6ca0" class="mo lh in mk b gy mp mq l mr ms">echo "source /opt/ros/galactic/setup.bash" &gt;&gt;~/.bashrc<br/>exec "$SHELL"</span></pre><figure class="js jt ju jv gt jw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/aac3f592b55769805a86f73526377e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*WYkTTOXZIFfR57HQ5zu3mw.png"/></div></figure><h1 id="350f" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">6.测试您的安装</h1><p id="0fa9" class="pw-post-body-paragraph kh ki in kj b kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la mi lc ld le ig bi translated">为了测试我们的安装，我们需要安装演示节点，使它们相互通信，这样我们就可以确定我们的安装是完整的。这些包安装在 ROS 2 的“桌面”包中，但不包含在“基础”包中，所以我们需要用下面的命令来安装它们。</p><pre class="js jt ju jv gt mj mk ml mm aw mn bi"><span id="6717" class="mo lh in mk b gy mp mq l mr ms">sudo apt install ros-galactic-demo-nodes-cpp<br/>sudo apt install ros-galactic-demo-nodes-py</span></pre><figure class="js jt ju jv gt jw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/fa4b7cc788871c730fed451349539c95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*Hpkv4kuOswJwo2mZpTapsA.png"/></div></figure><p id="82e0" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">安装完成后，我们需要打开另一个终端并再次通过 SSH 连接到我们的 Raspberry Pi——因此我们将有两个终端会话通过 SSH 连接到 Raspberry Pi。从其中一个运行以下命令</p><pre class="js jt ju jv gt mj mk ml mm aw mn bi"><span id="d17b" class="mo lh in mk b gy mp mq l mr ms">ros2 run demo_nodes_py listener</span></pre><p id="2565" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">从另一个终端运行以下命令</p><pre class="js jt ju jv gt mj mk ml mm aw mn bi"><span id="ee90" class="mo lh in mk b gy mp mq l mr ms">ros2 run demo_nodes_cpp talker</span></pre><figure class="js jt ju jv gt jw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/932d6491a10ee4c63442725d8783a0fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*019_iNO7U1dFRHBqzpjC3A.png"/></div></figure><p id="e420" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">一旦启动了谈话者节点，侦听器和谈话者节点应该能够相互通信。其中一个节点是用 C++编写的，另一个是用 Python 编写的，因此我们可以确认这些节点是用我们的安装支持的两种语言编写的。</p><h1 id="24f9" class="lg lh in bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">7.下一步是什么？</h1><p id="18b2" class="pw-post-body-paragraph kh ki in kj b kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la mi lc ld le ig bi translated">为了能够在不同的计算机上运行 ROS 节点，我们需要在所有的计算机上安装 ROS。此外，为了能够使用您的开发计算机运行一些可以控制或监控您的 Raspberry Pi 节点的节点，您也需要在您的开发计算机上安装 ROS。你可以遵循我在下面分享的指南:</p><ul class=""><li id="76bb" class="mv mw in kj b kk kl ko kp ks mx kw my la mz le na nb nc nd bi translated"><a class="ae lf" href="https://docs.ros.org/en/galactic/Installation/Ubuntu-Install-Debians.html" rel="noopener ugc nofollow" target="_blank">在 Debian Linux (Ubuntu)上安装 ROS</a></li><li id="0bda" class="mv mw in kj b kk ne ko nf ks ng kw nh la ni le na nb nc nd bi translated"><a class="ae lf" href="https://docs.ros.org/en/galactic/Installation/macOS-Development-Setup.html" rel="noopener ugc nofollow" target="_blank">在 Mac 上安装 ROS</a></li><li id="a161" class="mv mw in kj b kk ne ko nf ks ng kw nh la ni le na nb nc nd bi translated"><a class="ae lf" href="https://docs.ros.org/en/galactic/Installation/Windows-Install-Binary.html" rel="noopener ugc nofollow" target="_blank">在 Windows 上安装 ROS</a></li></ul><p id="8a00" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">为了兼容性和广泛的社区支持，我强烈推荐在你的开发计算机上使用 Ubuntu，并且请不要忘记安装“桌面”版本而不是“基础”版本。</p><p id="804e" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">玩得开心！</p></div><div class="ab cl jk jl hr jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="ig ih ii ij ik"><p id="aebf" class="pw-post-body-paragraph kh ki in kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated"><em class="nj">原载于</em><a class="ae lf" href="https://singleboardblog.com/install-ros2-on-raspberry-pi/" rel="noopener ugc nofollow" target="_blank"><em class="nj">https://singleboardblog.com</em></a><em class="nj">。</em></p></div></div>    
</body>
</html>