<html>
<head>
<title>10 Secure Coding Best Practices to Follow in Every Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个项目中要遵循的 10 个安全编码最佳实践</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/10-secure-coding-best-practices-to-follow-in-every-project-90860d7470e9?source=collection_archive---------8-----------------------#2022-06-19">https://blog.devgenius.io/10-secure-coding-best-practices-to-follow-in-every-project-90860d7470e9?source=collection_archive---------8-----------------------#2022-06-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b148ce8f3b6a786f395a59cec51830a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*amqPukKO33LK5IPqbxot9w.jpeg"/></div></div></figure><h1 id="83c7" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">更新，更新，更新！</h1><p id="217e" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">使用具有已知漏洞的易受攻击和过时的组件一直是<a class="ae lr" href="https://owasp.org/www-project-top-ten/" rel="noopener ugc nofollow" target="_blank">owsp 的十大应用程序安全风险</a>。只有使用最新的工具和库，您才能在保护项目安全方面迈出一大步。</p><h1 id="77cb" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">坚持标准</h1><p id="8b67" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">如果你有<a class="ae lr" href="https://en.wikipedia.org/wiki/Not_invented_here" rel="noopener ugc nofollow" target="_blank"> <em class="ls">非发明于此(NIH) </em> </a>综合症，你宁愿从头开始发展一切。如果您有时间和金钱这样做，那很好。但是从头开始构建像密码和网络服务器这样的重要东西需要大量的技能和努力。这样复杂的组件不是一个人能完成的。即使你已经做了一个，如果没有其他人的深入评价，你也不应该在生产中使用它。</p><p id="308a" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">在设计和架构概念中，您也应该这样做。您应该遵循最佳实践，从社区经验中受益。</p><p id="5431" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">下次不要引入你自己的哈希算法，而是使用一个由开源和同行评审的库实现的<a class="ae lr" href="https://en.wikipedia.org/wiki/Cryptographic_hash_function#Cryptographic_hash_algorithms" rel="noopener ugc nofollow" target="_blank">著名的哈希函数</a>。</p><h1 id="3118" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">使用可信的包</h1><p id="49d1" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">使用第三方模块(如 npm、PyPI、NuGet 等中的包)的一个显著风险是。)是<em class="ls">供应链攻击</em>。想想你的项目中有一个依赖变得不可靠，没有做它应该做的事情。这被称为供应链攻击。流行的 npm 包(UA-Parser-JS、COA 和 RC)就是这样，其他许多包也可能是这样。</p><p id="5464" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">我们知道使用第三方软件包是不可避免的。所以，在选择第三方库之前，这里有一些小技巧需要考虑。</p><ol class=""><li id="7225" class="ly lz in kv b kw lt la lu le ma li mb lm mc lq md me mf mg bi translated">喜欢有更多贡献的包(更多贡献者、提交、请求和明星)</li><li id="0ddd" class="ly lz in kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">首选未决问题较少的软件包</li><li id="b845" class="ly lz in kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">具有较高发布频率的首选软件包</li><li id="b872" class="ly lz in kv b kw mh la mi le mj li mk lm ml lq md me mf mg bi translated">使用依赖扫描程序，如<a class="ae lr" href="https://docs.github.com/en/code-security/dependabot/dependabot-security-updates/configuring-dependabot-security-updates" rel="noopener ugc nofollow" target="_blank">git hub dependency bot</a>来查找易受攻击的包。</li></ol><h1 id="44b7" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">从不信任用户</h1><p id="aa0a" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在处理用户输入的数据之前，请务必对其进行验证。使用之前，检查长度、类型、允许的字符和数据模式。</p><p id="0a4d" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">用户验证中最重要的事情是在用户无法操作逻辑的地方进行验证。例如，用户可以完全控制网页，所以检查用户是否在客户端输入了正确的电子邮件地址是不够的，您应该在后端再次验证它。</p><h1 id="902d" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">始终编码输出</h1><p id="0811" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">向用户显示数据时，请始终使用正确的编码。编码取决于显示数据的上下文。<br/>例如，网页上的数据应该是 HTML 编码的，URL 中的数据应该是 URL 编码的。CSV、XML、JSON 文件或电子邮件等其他上下文需要独特的编码。</p><h1 id="a918" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">捕捉异常</h1><p id="b924" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">例外时有发生！我们应该为他们做好准备。未处理的错误会产生安全问题，比如不安全地失败或者<a class="ae lr" href="https://www.thesmartscanner.com/vulnerability-list/detailed-application-and-database-error" rel="noopener ugc nofollow" target="_blank">泄露敏感信息</a>。</p><p id="f295" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">永远假设事情最终会破裂，并为此做好准备。</p><h1 id="e947" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">不要在评论中写秘密</h1><p id="ffc5" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">当你在代码中加入注释时，意味着你的代码不够清晰，不够有表现力，需要解释。因此，这个部分更好的标题应该是<em class="ls">不要写评论</em>。</p><blockquote class="mm mn mo"><p id="6c88" class="kt ku ls kv b kw lt ky kz la lu lc ld mp lv lg lh mq lw lk ll mr lx lo lp lq ig bi translated">“评论总是失败的。”<em class="in"> <br/> —罗伯特·c·马丁@干净代码</em></p></blockquote><p id="470d" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">代码中有一些有效的注释用例，但是编写操作信息和密码等敏感数据不在其中。</p><h1 id="1757" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">使用棉绒</h1><p id="a00c" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Linters 可以分析你的代码并执行特定的规则。Linters 帮助你发现错误、bug、代码气味和可疑的表达式，比如使用<code class="fe ms mt mu mv b">eval</code>和危险的正则表达式。</p><h1 id="bfaa" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">拥有开源精神</h1><p id="1f04" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">开源项目由社区维护。这意味着它们的结构并不特定于单个用户的环境。开源项目(通常)没有任何硬编码的密码或内部 IP 地址。这些是我们可以在项目中遵循的良好实践。</p><p id="66f0" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">并不是每个项目都应该是开源和公开的。但是我们应该为开源项目做好准备。以下是开始的几件事:</p><ul class=""><li id="915d" class="ly lz in kv b kw lt la lu le ma li mb lm mc lq mw me mf mg bi translated">删除硬编码的密码、IP 地址和数据库连接字符串，…</li><li id="a5ea" class="ly lz in kv b kw mh la mi le mj li mk lm ml lq mw me mf mg bi translated">从环境变量加载所有配置</li><li id="e1fd" class="ly lz in kv b kw mh la mi le mj li mk lm ml lq mw me mf mg bi translated">向您的项目添加一个<code class="fe ms mt mu mv b">readme.md</code>文件，并记录构建和测试说明。</li></ul><h1 id="f0c4" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">编写干净的代码</h1><p id="6179" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">干净的代码本质上更安全。从安全角度来看，清晰的代码有很多好处:</p><ul class=""><li id="4fe1" class="ly lz in kv b kw lt la lu le ma li mb lm mc lq mw me mf mg bi translated">清晰的代码出现漏洞的机会更少，因为它们不太复杂</li><li id="4232" class="ly lz in kv b kw mh la mi le mj li mk lm ml lq mw me mf mg bi translated">在清晰的代码中检查和发现漏洞更加容易</li><li id="44aa" class="ly lz in kv b kw mh la mi le mj li mk lm ml lq mw me mf mg bi translated">用清晰的代码修复漏洞需要更少的时间和精力</li></ul><p id="ab15" class="pw-post-body-paragraph kt ku in kv b kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm lx lo lp lq ig bi translated">你可以读一下<a class="ae lr" href="https://www.google.com/books/edition/_/hjEFCAAAQBAJ" rel="noopener ugc nofollow" target="_blank">清洁代码</a>的书(如果你还没有读过的话)，然后开始重构你的代码。</p></div></div>    
</body>
</html>