# 里克用铁锈卷起你的朋友

> 原文：<https://blog.devgenius.io/rick-roll-your-friends-with-rust-e90c78cda420?source=collection_archive---------7----------------------->

一个快速有趣的恶作剧来吸引你的朋友或让他们对编码感兴趣👀

![](img/fd82e6245ecefc8103ab98ac85ee5507.png)

我一直喜欢编程，因为我可以用它做很酷的事情，而不是用代码解决无聊的基本数学问题，所以是的，我做了一些有趣的事情，只是为了让自己保持兴趣

**铁锈编程语言**

我相信你听说过编程语言 Rust，而不是游戏，Rust 是一种编译速度极快的语言，非常类似于 C 和 C++，但它被设计成 ***内存安全*** 并通常提供更现代的语法，同时是一种低级语言

**生锈还是不生锈😕**

在学习一门新语言之前，首先要问自己的是“我能用它做什么”和“它能解决什么问题”，在 Rust case 中，它通过结合像内存管理(通过所有权)这样的低级功能和像`for in`循环这样的现代功能，并有一个包管理器来下载第三方库，来帮助你编写安全和更可读的代码，所以如果你想变得更低级，但又不失去理智，那么 Rust 就是你要走的路

**我最喜欢的几个功能**

我目前正在研究 Rust 编程语言，退一步说这很神奇，但是我还没有完成，所以我真正喜欢 Rust 的地方很少

1.  当您遇到编译时错误时，编译器非常有用，提供的信息非常丰富，非常详细的错误消息以及如何修复这些错误的说明实际上非常有用😂
2.  超级丰富的标准库，老实说，它有一切可以做的事情，并且有对任何背景的开发者都非常有用的文档
3.  ✨指针✨:我从没想过有一天我会这么说，但我真的很喜欢 Rust 中的指针，也就是引用，它们对我来说意义非凡，结合错误信息，我真的知道发生了什么，我做错了什么
4.  现代语法:在同一种语言中，从引用和真正特定于平台的代码到高级功能，如`for in`循环，真是疯狂
5.  所有权:好的，如果你来自 Python 这样的高级编程语言背景，这对你来说没什么意义，但 Python 这样的术语基本上有一个垃圾收集器，基本上是一个系统，一旦变量不再被使用，它就会释放变量的内存，其他术语，如 C 和 C++迫使你手动管理内存，这非常令人沮丧和讨厌，在 Rust each variables 的情况下， 默认情况下是不可变的，占用了一个对你来说并不陌生的内存位置，🍑有一个扭曲，那些变量有它们自己的作用域，它们可以*过期*，你实际上不能使用它们

**所有权示例**

让我们看看这段 Python3 代码片段，然后复制 Rust 中的逻辑，看看有什么不同

```
def say_hi(name):
    return f"hi there {name}"
person = "frank"
print(say_hi(person))
print(f"the argument passed to the function was {person}")
```

一个非常基本的函数，简单地返回 hi 和传递的参数，我使用了`f string`特性来格式化字符串，然后我们简单地打印出传递给函数的变量(注意在调用函数后我们仍然可以使用它)

现在让我们试着在 Rust 中这样做！

```
fn say_hi(name: String) { println!("hi there {}",name);}fn main() { let person = String::from("frank"); say_hi(person); println!("{}",person);}
```

尽管有点令人困惑，但这就是如何在 Rust 中初始化一个真正的`String`，但如果你现在将鼠标悬停在最后一个`println!()`中的`person`上，你会看到一个错误，上面写着“借用移动值‘人’”

简而言之，当我们创建变量时，它在内存中保留了一个位置，最后一次需要和使用它是在我们将它传递给函数时，函数完成了执行**，然后砰的一声，它就消失了，不存在了**

当然，我们可以用参考资料来解释，但你是来找瑞克·罗尔的，不是吗😏

**产生子进程的标准库**

Rust 提供了大量的内置库来帮助我们更深入地学习😫其中一个是`std::process`，所以我们将使用它来构建并运行我们的命令

所以，打开你最喜欢的文本编辑器/ IDE，把这个坏男孩放进来

```
use std::process::Command;fn main() { let mut rick_roll = Command::new("firefox"); rick_roll.arg("https://www.youtube.com/watch?v=dQw4w9WgXcQ"); rick_roll.status().expect("couldn't execute command");}
```

好了，这是在我的 Linux 发行版上测试过的，我总是用 firefox 来配合 chrome，所以要让它在 chrome 上工作，只需用 chrome.exr 替换 firefox，看起来就像`Command::new("chrome.exe")`

好，让我们看看代码中发生了什么，变量在 Rust 中是不可变的，这意味着我们不能修改它们，所以我们不能说

```
let apples = 12;
apples = 14;
```

所以我们添加了`mut`关键字来允许我们修改变量

是一个进程生成器，这意味着它返回给我们一个进程，我们可以向它添加参数，所以我们添加了著名的《永不放弃你》歌曲的 URL

在 Rust 中，很多事情都可能出错，所以一个简单(但不是很有用)的处理错误的方法是使用`expect()`函数，这个函数会让程序崩溃并显示一条消息

现在我们把程序编译好发给朋友:)吧

**将代码编译成二进制**

打开您的终端/命令行并输入`cargo run`来构建项目并运行它(如果它是使用 Cargo 创建的)

如果不是，只是一个简单的 Rust 脚本，那么输入`rustc [FILE_NAME]`，一个二进制文件就会出现在同一个目录中，你可以把它发送给任何运行相同操作系统的人，这是很有可能的

顺便说一句，你也可以把代码编译到其他目标上

非常感谢你的来访，让我知道你是否对 Rust 感兴趣，这样我会写更多关于它的博客:)