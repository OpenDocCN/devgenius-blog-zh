<html>
<head>
<title>Advanced VIM — 7 Most Useful Commands you’d wish you’d known earlier</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高级 VIM——7 个最有用的命令，你希望早点知道</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/advanced-vim-7-most-useful-commands-youd-wish-you-d-known-earlier-52a0c7ab6d8c?source=collection_archive---------2-----------------------#2022-07-11">https://blog.devgenius.io/advanced-vim-7-most-useful-commands-youd-wish-you-d-known-earlier-52a0c7ab6d8c?source=collection_archive---------2-----------------------#2022-07-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f62f31e03f1632eb4c1d1340546702cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_TF41GE3B9jE_O9qKeqzdw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@cgower?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克里斯托弗·高尔</a>在<a class="ae kc" href="https://unsplash.com/s/photos/computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="5259" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi lb translated">把一个初级开发人员放进 Vim，并告诉他们退出；如果给他们无限的时间，他们可能会写出莎士比亚的全部作品。但是仍然可能不会退出 Vim。</p><p id="b96e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你正在读这篇文章，我希望你已经比退出 Vim 更进一步了。在本文中，我将详细介绍一些更高级的用法和命令，这些用法和命令在我的开发过程中给了我很大的帮助。因为是的，它可能是一个令人难以置信的复杂和令人沮丧的工具，但如果你能让它为你工作，它会异常强大。</p><p id="e314" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面我列出了我在使用 Vim 时学到的七个<strong class="kf ir">最有用的命令和技巧</strong>，它们无疑会<strong class="kf ir">为你节省时间和痛苦。</strong>我们将跳过本文中的简单内容，所以如果你还在学习，我建议你先学习基础知识，然后再回来。对于其余的人，我希望你们能学到一些东西。</p><blockquote class="ll"><p id="c8b2" class="lm ln iq bd lo lp lq lr ls lt lu la dk translated">"任何程序都只有在有用的时候才是好的."Linux 的创造者 Linus Torvalds。</p></blockquote></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="b6b4" class="mc md iq bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">1.格式化 JSON 块</h1><p id="6ae6" class="pw-post-body-paragraph kd ke iq kf b kg na ki kj kk nb km kn ko nc kq kr ks nd ku kv kw ne ky kz la ij bi translated">只要在您的主机操作系统上安装了<code class="fe nf ng nh ni b">jq</code>，您就可以通过首先选择 JSON 块，然后执行以下命令来格式化它:</p><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="f9de" class="nr md iq ni b gy ns nt l nu nv">:%!jq .</span></pre></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="a75f" class="mc md iq bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">2.缩写</h1><p id="58a4" class="pw-post-body-paragraph kd ke iq kf b kg na ki kj kk nb km kn ko nc kq kr ks nd ku kv kw ne ky kz la ij bi translated">缩写是一个简单的工具，它允许您为 VIM 可以自动完成的常用单词和短语创建一个简写。比如<code class="fe nf ng nh ni b">:ab RTFG Read the fantastic manual</code>。这将意味着无论何时你输入'<em class="lk"> RTFG </em>'，它将被我们的新术语'<em class="lk">Read the Fantastic Manual '</em>'所取代。</p><p id="d3cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当您需要在整个文档中输入相同的文本时，缩写可以让您节省键入时间并提高准确性。它也常用于纠正拼写 m̶i̶s̶t̶e̶a̶k̶e̶s 错误，并作为自动更正功能。</p><h2 id="93e8" class="nr md iq bd me nw nx dn mi ny nz dp mm ko oa ob mq ks oc od mu kw oe of my og bi translated"><strong class="ak">例题</strong>:</h2><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="17ef" class="nr md iq ni b gy ns nt l nu nv"><strong class="ni ir">:ab bestlink </strong><a class="ae kc" href="https://medium.com/@joelbelton/membership" rel="noopener"><strong class="ni ir">https://medium.com/@joelbelton/membership</strong></a><br/><strong class="ni ir">:ab</strong> <em class="lk"># Lists all Abbreviations</em><br/><strong class="ni ir">:una bestline</strong> <em class="lk"># Removes bestline Abbreviation</em></span></pre></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="d866" class="mc md iq bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">3.排序文本</h1><p id="a324" class="pw-post-body-paragraph kd ke iq kf b kg na ki kj kk nb km kn ko nc kq kr ks nd ku kv kw ne ky kz la ij bi translated">在 VIM 中对文本进行排序非常容易。我们所要做的就是在我们的视觉模式中选择任何我们想要的文本，然后完成命令<code class="fe nf ng nh ni b">:sort</code>。这将按照字母顺序对我们所有的行进行排序；这在处理 YAML 或 CSS 属性时非常有用，为了达到最佳效果，这些属性应该按字母顺序排序。</p><p id="8f2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以使用 sort 命令从文档中删除重复的行。</p><h2 id="921c" class="nr md iq bd me nw nx dn mi ny nz dp mm ko oa ob mq ks oc od mu kw oe of my og bi translated">示例:</h2><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="1f53" class="nr md iq ni b gy ns nt l nu nv"><strong class="ni ir">:sort</strong> <em class="lk"># Sort alphabetically</em><br/><strong class="ni ir">:%sort!</strong> <em class="lk"># Sort in reverse</em><br/><strong class="ni ir">:%sort u</strong> <em class="lk"># Remove duplicates</em></span></pre></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="de30" class="mc md iq bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">4.在多个文件中替换</h1><p id="1653" class="pw-post-body-paragraph kd ke iq kf b kg na ki kj kk nb km kn ko nc kq kr ks nd ku kv kw ne ky kz la ij bi translated">对于典型的 IDE 来说，替换许多文件中的文本是一项非常有用且简单的任务。然而，当涉及到 Vim 这个非常注重自动化和速度的工具时，它却异常复杂。</p><p id="e227" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们需要使用<code class="fe nf ng nh ni b">:args</code>创建一个文件列表，命令将在这些文件上执行。<em class="lk">例如，</em>让我们选择当前目录中的任意 python 文件:</p><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="93cf" class="nr md iq ni b gy ns nt l nu nv"><strong class="ni ir">:args *.py</strong></span></pre><p id="29c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在是时候使用我们的参数来运行命令了。要在 Vim 中运行简单的搜索和替换，命令是<code class="fe nf ng nh ni b">:s/&lt;search_term&gt;/&lt;replace_term&gt;/g</code>。知道了这一点，并使用我们的参数列表，我们可以通过使用以下内容对一系列文件进行搜索和替换:</p><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="20ad" class="nr md iq ni b gy ns nt l nu nv"><strong class="ni ir">:argdo %s/From/To/g</strong></span></pre><p id="fed5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，一旦我们的更改完成，我们可以使用以下命令保存参数列表中的所有文件:</p><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="cb30" class="nr md iq ni b gy ns nt l nu nv">:<strong class="ni ir">argdo</strong> <strong class="ni ir">update</strong></span></pre><blockquote class="ll"><p id="4af2" class="lm ln iq bd lo lp oh oi oj ok ol la dk translated">您可以应用这里使用的原则，在许多文件的文本上运行各种不同的命令。</p></blockquote></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="df78" class="mc md iq bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">5.在多行上重复最后一次更改</h1><p id="9598" class="pw-post-body-paragraph kd ke iq kf b kg na ki kj kk nb km kn ko nc kq kr ks nd ku kv kw ne ky kz la ij bi translated">当在 Vim 中对文档执行修改行时，测试并确保您的命令如您所愿通常很有帮助。幸运的是，Vim 为我们提供了功能，这意味着我们可以通过可视化的代码选择来重复命令。这允许我们快速修改一行，然后对文档中的所有情况重复修改。</p><p id="6984" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，执行你选择的命令。然后在可视化编辑器中选择我们的新选择。现在我们可以使用以下命令来重复我们的命令:</p><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="cc6a" class="nr md iq ni b gy ns nt l nu nv"><strong class="ni ir">:'&lt;,'&gt; normal .</strong></span></pre></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="23a8" class="mc md iq bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">6.在文件中添加书签</h1><p id="98bc" class="pw-post-body-paragraph kd ke iq kf b kg na ki kj kk nb km kn ko nc kq kr ks nd ku kv kw ne ky kz la ij bi translated">我发现自己一直在使用的 Vim 的一个核心特性是书签功能。当在单个大文件中的多个位置跳转时，这非常方便。</p><p id="6efe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe nf ng nh ni b">:marks</code>我们可以实现我们的书签。为了设置我们的第一个书签，我们可以使用<code class="fe nf ng nh ni b">:ma</code>这将创建一个名为<em class="lk">‘a’</em>的标记。</p><p id="d657" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们要跳回这里所要做的就是执行<code class="fe nf ng nh ni b">`a</code>，我们将直接跳回设置书签时的光标位置。使用命令<code class="fe nf ng nh ni b">:marks</code>我们可以看到为任何给定文件创建的所有书签。</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="85e6" class="mc md iq bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">7.Vim 标签</h1><p id="6410" class="pw-post-body-paragraph kd ke iq kf b kg na ki kj kk nb km kn ko nc kq kr ks nd ku kv kw ne ky kz la ij bi translated">在我的开发生涯中，我花了太多的时间没有意识到 Vim 有标签。<strong class="kf ir">不要像我一样。</strong></p><p id="7086" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用下面列出的命令创建和删除选项卡。在这些选项卡之间移动很简单:<code class="fe nf ng nh ni b">gt</code>转到下一个选项卡，或者<code class="fe nf ng nh ni b">gT</code>转到上一个选项卡。你也可以使用他们的索引直接跳转到你想要的标签页，例如:<code class="fe nf ng nh ni b">1gT</code>将转到我们的第一个标签页。<em class="lk">是的，Vim 标签从 1 开始索引。</em></p><pre class="nj nk nl nm gt nn ni no np aw nq bi"><span id="1fad" class="nr md iq ni b gy ns nt l nu nv">:tabe # Open new tab<br/>:tabc # Close current tab<br/>:tabo # Close all but current tab</span></pre></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="eeec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望您喜欢这个 Vim 命令列表，并且这些技术可以节省您的开发时间。</p><p id="f982" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我定期在 DevOps 上发布文章，专门在 Medium 上发布——如果你想阅读更多，我建议查看下面的故事。</p><div class="om on gp gr oo op"><a href="https://medium.com/@joelbelton/optimising-docker-performance-the-key-4-techniques-you-need-6440cfebb650" rel="noopener follow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">优化 Docker 性能—您需要的 4 项关键技术</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">Docker 集装箱和集装箱化技术已经永远改变了云计算产业。成千上万的新…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">medium.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd jw op"/></div></div></a></div><div class="om on gp gr oo op"><a href="https://medium.com/@joelbelton/learning-containers-from-the-ground-up-a-roadmap-to-success-dd16151b2388" rel="noopener follow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">从头开始学习容器——通往成功的路线图</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">容器化已经成为软件开发中的一个重要趋势，并且是一种快速增长的替代方式。</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">medium.com</p></div></div><div class="oy l"><div class="pe l pa pb pc oy pd jw op"/></div></div></a></div><p id="a7b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你喜欢这篇文章，但你还不是会员，可以考虑通过<a class="ae kc" href="https://medium.com/@joelbelton/membership" rel="noopener"> <strong class="kf ir">注册成为会员</strong> </a>来支持我和数以千计的其他作家，并无限制地访问 Medium 的优秀作家的内容。你的会员资格直接用你的一部分费用支持我，不会花你更多的钱。</p><div class="om on gp gr oo op"><a href="https://medium.com/@joelbelton/membership" rel="noopener follow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">通过我的推荐链接加入 Medium-Joel Belton</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">阅读乔尔·贝尔顿(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">medium.com</p></div></div><div class="oy l"><div class="pf l pa pb pc oy pd jw op"/></div></div></a></div></div></div>    
</body>
</html>