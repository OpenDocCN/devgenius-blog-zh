<html>
<head>
<title>ReactJS — Manage Your State Nicely With Context</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ReactJS——利用上下文很好地管理您的状态</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/reactjs-manage-your-state-nicely-with-context-1ed3090a6a46?source=collection_archive---------2-----------------------#2020-08-08">https://blog.devgenius.io/reactjs-manage-your-state-nicely-with-context-1ed3090a6a46?source=collection_archive---------2-----------------------#2020-08-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="3162" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用一种反应的方式表达你的状态</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c4e1b003425857265d381a23d93264f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QfcPsZycmw6G44Oe9SnxmQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">ReactJS——让你的状态与上下文相得益彰</figcaption></figure><p id="05de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嗨，我们回到自由式语言！是啊，Javascript！</p><p id="2422" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好了，我现在要谈谈前端，尤其是 React 或 React Native for the mobile。我将告诉你如何更有效、更容易地管理你的状态。那我们走吧！</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="70fc" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">遵循这篇文章的要求</h1><ol class=""><li id="b3fc" class="md me in jm b jn mf jr mg jv mh jz mi kd mj kh mk ml mm mn bi translated">非常基础的 JavaScript(ES6)。</li><li id="f2f2" class="md me in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated">非常基本的反应。</li></ol><h1 id="52d2" class="lf lg in bd lh li mt lk ll lm mu lo lp lq mv ls lt lu mw lw lx ly mx ma mb mc bi translated">跟随这篇文章的必备工具</h1><h2 id="a004" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">1.NodeJS</h2><p id="bced" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">重要的是 NodeJS 本身，因为 NodeJS 附带了<strong class="jm io"> NPM </strong>，在这种情况下，我们将使用它来安装 ReactJS。你可以在这里下载(【https://nodejs.org/en】T2)。我推荐安装<strong class="jm io"> LTS </strong>版本，我写这篇文章的时候用的是 v 12 . 2 . 0<em class="no">。</em></p><h2 id="0f25" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">2.文字编辑器</h2><p id="b745" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">有很多文本编辑器，我更喜欢使用可以在这里下载的<strong class="jm io">vs code</strong>(<a class="ae nn" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com</a>)。<br/>如果你想使用像<strong class="jm io"> Sublime Text </strong>或<strong class="jm io"> Atom 这样的文本编辑器，没关系，</strong>只需选择适合你的工具。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="5059" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">你是通过 Props 解析数据吗？</h1><p id="aba4" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">你还在使用 props 把数据解析成组件吗？如果你有，那也没关系。但是，如果您有一个更大的应用程序，并且您仍然通过 props 解析这些数据，并且您有很多数据，或者可能有几十个数据。通过组件传输数据会让你精疲力尽。</p><p id="b22b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通过 props 解析数据</figcaption></figure><p id="0b5c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是一个因素，那么其他因素呢？</p><blockquote class="nr ns nt"><p id="235c" class="jk jl no jm b jn jo jp jq jr js jt ju nu jw jx jy nv ka kb kc nw ke kf kg kh ig bi translated">"<strong class="jm io">没有我还没有用尽使用道具！</strong>“是的，你不是。但是你会的！</p></blockquote><p id="ff03" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇文章对于处理这类事情来说很方便，那么我们该怎么处理呢？没错。没错，我们将使用 ReactJS 提供的<strong class="jm io">上下文</strong>，它非常强大！</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="760d" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">什么是语境？</h1><p id="e820" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">根据文档，以下是解释:</p><blockquote class="nx"><p id="7b09" class="ny nz in bd oa ob oc od oe of og kh dk translated">上下文提供了一种通过组件树传递数据的方式，而不必在每一层手动向下传递属性。</p></blockquote><p id="e1a4" class="pw-post-body-paragraph jk jl in jm b jn oh jp jq jr oi jt ju jv oj jx jy jz ok kb kc kd ol kf kg kh ig bi translated">让你知道，上下文就像一个全局变量，你不用把道具传给组件就可以访问它。</p><p id="89aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以在以下文档中了解更多信息:</p><div class="om on gp gr oo op"><a href="https://reactjs.org/docs/context.html" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd io gy z fp ou fr fs ov fu fw im bi translated">上下文反应</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">上下文提供了一种通过组件树传递数据的方法，而不必每次都手动传递属性</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">reactjs.org</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd ks op"/></div></div></a></div><h1 id="5067" class="lf lg in bd lh li mt lk ll lm mu lo lp lq mv ls lt lu mw lw lx ly mx ma mb mc bi translated">什么时候使用上下文？</h1><p id="41dd" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">我认为如果你开始处理 React，你应该为你的应用程序使用这个上下文。但是，如果你必须分析你的应用程序，它是否会变大？如果没有，我推荐你用这个方法。</p><p id="5569" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你有一个大的 app，你就不能使用这个上下文。因为如果你有一个更大的应用程序，也许你应该使用 Redux 来实现更好的状态管理。但是你不用担心这个。我会在这之后的下一篇文章中解释 redux。</p><p id="68e1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我的观点是，如果你有一个低到中等大小的应用程序，你应该使用上下文来使应用程序易于维护。我将向您展示如何使上下文易于阅读，并让其他人理解代码。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="1a64" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">开始吧！</h1><p id="46c2" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">好吧，那么我们要构建什么样的应用程序呢？我们将构建一个简单的 todo 应用程序，带有 React 和上下文，让您简单并完全理解。我们将使用名为<a class="ae nn" href="https://jsonplaceholder.typicode.com/" rel="noopener ugc nofollow" target="_blank">JSON typical code</a>的假 rest API。</p><p id="b413" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我假设您已经安装了 NodeJS。</p><h2 id="54ef" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">1.安装 React</h2><p id="9143" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">首先，您需要自己做出反应，要做到这一点，您可以简单地在您的 CMD 或终端中运行它。</p><pre class="kj kk kl km gt pe pf pg ph aw pi bi"><span id="82b4" class="my lg in pf b gy pj pk l pl pm">npm i -g create-react-app</span></pre><p id="1d6d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将在您的本地计算机上全局安装 ReactJS。</p><h2 id="3444" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">2.创建 React 项目</h2><p id="81c3" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">在您完成了 ReactJS 的全局安装之后，您可以简单地运行这个命令来创建您的项目。</p><pre class="kj kk kl km gt pe pf pg ph aw pi bi"><span id="665b" class="my lg in pf b gy pj pk l pl pm">npx create-react-app name-of-your-project</span></pre><p id="af9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">之后，在文本编辑器中打开项目。</p><h2 id="d92c" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">3.创建上下文</h2><p id="0149" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">好了，我们终于到了，所以我要创建一个上下文来处理我们的应用程序和一些状态。</p><p id="258f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我将在<strong class="jm io"> src </strong>文件夹中创建一个名为<strong class="jm io"> context </strong>的文件夹，该文件夹将包含我们管理应用程序的上下文。</p><p id="5e0d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个<strong class="jm io">上下文</strong>文件夹中，我们将在其中创建几个文件。但是，在这一步，我将只创建一个名为<strong class="jm io"> TodoContext.js </strong>的文件。这只是一行简单的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">待办事项上下文</figcaption></figure><p id="38a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简单到让一个语境正确？那我们继续吧。</p><h2 id="4e24" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">4.创建类型</h2><p id="f543" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">在这里，我们要制造类型，什么是类型呢？在这种情况下，用于定义我们的应用程序动作的类型，类似于“嘿，我想从 API 获取数据，调用这个类型！”。</p><p id="68f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你不明白，顺便给你看看代码。这些类型将用于我们的应用程序。顺便说一下，代码是不言自明的。</p><p id="97e1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">尽管如此，在<strong class="jm io">上下文</strong>文件夹中，我们将创建一个名为<strong class="jm io"> TodoTypes.js </strong>的文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">待办事项类型</figcaption></figure><h2 id="e7e0" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">5.创建减速器</h2><p id="6848" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">那么，reducer 是什么？在我们的应用中，ReactJS 中的 Reducer 是确定状态变化的手段。如果你想改变状态，在这里控制你所有的状态。</p><p id="86c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我也想导入类型，因为我们要处理一个函数，分派这个缩减器，我们将在这之后创建它。</p><p id="b5c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">不过，在<strong class="jm io">上下文</strong>文件夹中，我将创建一个名为<strong class="jm io">todore reducer . js</strong>的文件。这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Todo 缩减器</figcaption></figure><p id="60b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你看到上面的代码，你会看到，缩减器是用来把状态转换成新值的，对吗？代码在那里是不言自明的。</p><h2 id="1a62" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated"><strong class="ak"> 6。创建状态</strong></h2><p id="db4d" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">这是上下文中的主要内容。不过，在<strong class="jm io">上下文</strong>文件夹中，我将创建一个名为<strong class="jm io"> TodoState.js </strong>的文件。它将包含我们的状态，函数，以及组件将使用的值。这就是我们用<strong class="jm io">上下文</strong>创建全局变量的地方。这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">待办事项状态</figcaption></figure><p id="4f54" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码是不言自明的，其中的 TodoState 用于定义我们的状态，任何处理服务器的函数，以及应用程序中的一些逻辑。</p><p id="84e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想添加更多的功能，在这个文件中添加，<strong class="jm io">不要在你的组件中添加功能！</strong></p><p id="14fe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">于是就有了这个，我们做一个<strong class="jm io">上下文</strong>，只要记住，上下文有一个<strong class="jm io">状态，Reducer，Type，</strong>和<strong class="jm io">上下文</strong>本身。</p><p id="7338" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">类型到底做什么？当您想要改变状态时，您必须从第 28 行调用 dispatch，并且 dispatch 内部带有两个对象(类型和有效负载)，dispatch 本身来自 react 的<strong class="jm io"> useReducer() </strong>。</p><p id="e5f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">顺便问一下如何在我们的应用程序中使用它？让我们滚动！</p><h2 id="8881" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">7.设计组件的样式</h2><p id="7b0a" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">在你为上下文创建完一个模式后，你将创建一个简单的样式，名为<strong class="jm io"> style.css </strong>，<strong class="jm io"> </strong>的文件放在你的<strong class="jm io"> src </strong>文件夹中，如果你愿意，你可以复制粘贴这个样式，这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">单体花柱</figcaption></figure><h2 id="cd8d" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">8.制作表格</h2><p id="578c" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">在你把样式写出来之后。您将制作一个用于创建新待办事项的表单。我将在<strong class="jm io"> src </strong>文件夹中创建一个名为<strong class="jm io"> components </strong>的文件夹。我把这个文件命名为<strong class="jm io"> TodoForm.js </strong>。在那个组件中，我也想实现我们的上下文。这是代码</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">待办事项表单</figcaption></figure><p id="0447" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的表单已经准备好与服务器交互，代码很容易阅读。</p><h2 id="2c72" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">9.添加待办事项列表组件</h2><p id="361d" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">在我们制作了那个<strong class="jm io"> TodoForm.js </strong>之后，我们将制作一个组件来处理<strong class="jm io"> todo </strong>数据。尽管如此，在我们创建的<strong class="jm io">组件</strong>文件夹中，我将创建一个名为<strong class="jm io"> TodoList.js. </strong>的组件，我们也将在这里实现该上下文，这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">待办事项列表项目</figcaption></figure><p id="eb10" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它只是一个简单的组件，对吗？但是你看，我们在这之前不处理任何道具，这很好。我们只是得到我们在上下文状态中定义的函数，并在组件中得到我们想要的任何东西，这就是使用 React 的上下文的优势。</p><h2 id="8e27" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">10.更新 App.js</h2><p id="bdac" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">最后，为了让您的应用程序和上下文准备好工作，您需要更新根<strong class="jm io"> src </strong>文件夹中的<strong class="jm io"> App.js </strong>。这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">更新的 App.js</figcaption></figure><p id="17ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你注意到，我们在哪里使用上下文？好吧，事情是这样的。您刚刚创建的上下文，您必须在应用程序的主文件中定义它，在本例中是<strong class="jm io"> App.js </strong>。您必须用您的<strong class="jm io">状态包装整个组件，在本例中，</strong>是<strong class="jm io">to State</strong>。因为<strong class="jm io">tod state</strong>正在接受子组件在里面，<em class="no">参见</em><strong class="jm io"><em class="no">tod state</em></strong><em class="no">返回语句</em>。这就是你要处理的上下文，<strong class="jm io">每次你为应用程序创建一个新的上下文，你必须在你的主应用程序文件中注册它，这样才能工作。</strong></p><h2 id="a50c" class="my lg in bd lh mz na dn ll nb nc dp lp jv nd ne lt jz nf ng lx kd nh ni mb nj bi translated">11.运行应用程序</h2><p id="203e" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">在您更新了您的<strong class="jm io"> App.js </strong>之后，通过运行。</p><pre class="kj kk kl km gt pe pf pg ph aw pi bi"><span id="5b70" class="my lg in pf b gy pj pk l pl pm">// Run this in root of your project folder<br/>npm start</span></pre><p id="e6c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是我们构建的应用程序的结果</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/5cf2f5a14140828b75d22a6b5421bb85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/1*FINjSQh05ALklPlNPrRX6Q.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">待办事项应用程序</figcaption></figure><p id="7df6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">界面 XD 很难看，但是，我们在这里关注的是上下文。功能都是一样的吧？但是我们在代码中做了不同的事情，应该说更加结构化了。</p><p id="4229" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们终于做到了！使用上下文创建简单的应用程序！</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="7faf" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">如何注册新的上下文？</h1><p id="4779" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">这里有一个注册新州的例子。但是，想象一下，如果你有一个更大的应用程序，请看这个例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">注册一个新的州</figcaption></figure><p id="0880" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">看到了吗？就像嵌套的对吗？就像一棵树 XD，好吧，这是使用上下文的缺点。<strong class="jm io">但是，不用担心，对付一个中等大小的 app 还是可以的。这是非常强大的，易于维护的背景</strong>！</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="ea09" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="cf63" class="pw-post-body-paragraph jk jl in jm b jn mf jp jq jr mg jt ju jv nk jx jy jz nl kb kc kd nm kf kg kh ig bi translated">看完这篇文章，也许你想用上下文？或者您可能会继续解析组件之间的属性？实际上这取决于你。但是，我建议你使用这个<strong class="jm io">上下文</strong>，因为它使你的状态更清晰，使你的组件无状态，而且非常重要的一点是，你将使你的应用程序易于管理和结构化。</p><p id="0394" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">难道是可以用于<strong class="jm io">反应的原生</strong>？绝对的！</p><p id="4ce2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">说到<strong class="jm io">结构化</strong>，我在后面为<strong class="jm io">后端</strong>写了一些文章，谈论<strong class="jm io">节点</strong>——<strong class="jm io">让你的响应 API 更好</strong>，非常简单，朗朗上口！以下是链接:</p><div class="om on gp gr oo op"><a href="https://medium.com/dev-genius/nodejs-make-your-api-response-nicely-f562f78cb67" rel="noopener follow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd io gy z fp ou fr fs ov fu fw im bi translated">NodeJS——让您的 API 响应更加完美</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">嗨，朋友们，自从一年前我写了一篇关于 Laravel API 的文章已经有一段时间了，下面是这篇文章，我写于…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">medium.com</p></div></div><div class="oy l"><div class="po l pa pb pc oy pd ks op"/></div></div></a></div><p id="a14b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">顺便说一下，这是这个带有上下文的 Todo 应用程序的代码。</p><div class="om on gp gr oo op"><a href="https://github.com/hudaprs/todo_react_context" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd io gy z fp ou fr fs ov fu fw im bi translated">hudaprs/todo_react_context</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">带有 React 上下文 API 的 Todo 应用程序。在 GitHub 上创建一个帐户，为 hudaprs/todo_react_context 开发做贡献。</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">github.com</p></div></div><div class="oy l"><div class="pp l pa pb pc oy pd ks op"/></div></div></a></div><p id="45fa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你仍然困惑，请在讨论中留下评论。</p><p id="1820" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下一篇文章再见！</p></div></div>    
</body>
</html>