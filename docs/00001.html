<html>
<head>
<title>Docking A Docker Container — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停靠码头集装箱—第1部分</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/docking-a-docker-container-part-1-6d67d51543c3?source=collection_archive---------2-----------------------#2016-10-17">https://blog.devgenius.io/docking-a-docker-container-part-1-6d67d51543c3?source=collection_archive---------2-----------------------#2016-10-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="9867" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi ki translated">hy docker的存在以及它如何为运行在云服务器或任何小型/中型/大型服务器上的应用程序解决问题。应用程序可以是低级的(系统编程)到高级的(web-apps)，这一点都不重要。</p><p id="fe23" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是一种快速而肮脏的docker入门方式，所以请多包涵。</p><h2 id="1e0f" class="kr ks in bd kt ku kv dn kw kx ky dp kz jv la lb lc jz ld le lf kd lg lh li lj bi translated"><strong class="ak">虚拟机的崛起</strong></h2><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lk"><img src="../Images/e22148134bef1f34b9e69db49fbfd48d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BxyeHcBnj6i-1dGLYu4gWA.png"/></div></div></figure><p id="cb44" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用传统硬件和软件的公司很久以前就解决了虚拟机管理程序或虚拟化问题，但只是为了满足他们自己的需求和应用程序。这种遗留的硬件或软件永远不会对其他人开放使用/利用，坦率地说，它从来没有打算这样做——我说的是一个偏执的封闭时代。(例:很多网络公司)。网络公司有一个非常合适的硬件+软件组合，可以在一个强大的分布式机箱上创建大量的VPN和硬件虚拟化。</p><p id="c763" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是后来，虚拟化领域的公司创建了一个环境，在这个环境中，主机操作系统可以允许来宾操作系统在其上运行。这更像是将一个完整的操作系统放在另一个之上。</p><p id="4d10" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">他们解决的问题是，在整个系统上单独运行的应用程序几乎不使用10%的系统资源，现在随着计算转向云，云提供商不可避免地无法向其客户提供完整的专用硬件。客户受其应用程序需求的驱动，他们很难一直充分利用这种专用资源，因此这对他们来说毫无用处，但仍然需要为完整的服务器/硬件付费。但是，当应用程序扩展时，他们需要附加资源，并希望动态地像“随用随付”一样。但是，对于现有的云基础设施，现收现付服务几乎是不可能的，而云提供商的资本支出和运营支出将是巨大而难以承受的。</p><p id="890f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，为了解决迫切的需求，公司提出了快速的虚拟机管理程序解决方案，但他们知道他们提供的只是变通办法，而不是完整的解决方案，因为仍有大量系统资源被浪费在日常管理中。因为创造云的整个前提是:</p><blockquote class="lw"><p id="f38c" class="lx ly in bd lz ma mb mc md me mf kh dk translated"><strong class="ak">“应用软件==商业价值，其他的都是开销”</strong></p></blockquote><h2 id="8e17" class="kr ks in bd kt ku mg dn kw kx mh dp kz jv mi lb lc jz mj le lf kd mk lh li lj bi translated">虚拟机丑陋的一面</h2><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi ml"><img src="../Images/54ec3cfae7fef170c79e5feeb8998e8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NQps8GdejMG9gYrwf7-5sw.png"/></div></div></figure><h2 id="ba98" class="kr ks in bd kt ku kv dn kw kx ky dp kz jv la lb lc jz ld le lf kd lg lh li lj bi translated">什么是容器？</h2><p id="9ce8" class="pw-post-body-paragraph jk jl in jm b jn mm jp jq jr mn jt ju jv mo jx jy jz mp kb kc kd mq kf kg kh ig bi translated">Docker是一个容器，它为给定的应用程序创建一个执行环境，以最小化系统访问和资源隔离的方式运行。我再重申一次，容器意味着隔离的完整执行环境。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lk"><img src="../Images/ba8ffcdc6a7c8ca58417ada1818daf36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SoRtUsDYNWeoXO8g11bkXw.png"/></div></div></figure><h2 id="49c2" class="kr ks in bd kt ku kv dn kw kx ky dp kz jv la lb lc jz ld le lf kd lg lh li lj bi translated">码头内部</h2><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi mr"><img src="../Images/ff02827041b7ae3e27fff979d0324f82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HOy86CYx6Nd7wj2MOLa6ig.png"/></div></div></figure><p id="4870" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Dockers是一个容器“运行时”。还有许多其他公司生产集装箱，但是docker现在已经成为事实上的标准。如果我打个比方——就像<em class="ms"> RedHat和Ubuntu之于linux </em> <em class="ms">内核</em>——类似的，<em class="ms"> Docker之于容器</em>。</p><p id="60af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Docker提供了一个标准的运行时，意味着一个应用程序需要运行和执行的环境。应用程序需要设备、文件系统、特权、变量、函数、API等资源，而不是完整的操作系统。这意味着开发人员可以在他们的笔记本电脑上的docker容器中编写他们的应用程序，然后将它们“按原样”放到AWS、Azure或任何地方，只要docker引擎或docker守护程序正在运行并且应用程序将工作。正如他们所说的<em class="ms">“建造、运输和运营它…”</em></p><p id="58fe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Docker完成了创建容器的所有艰苦工作，其中实例化容器需要所有的名称空间、cgroups和功能。Docker具有客户端-服务器架构，因此客户端-服务器可以在同一台机器上，也可以在不同的机器上，并通过网络进行对话，docker守护程序也称为docker引擎。</p><p id="43cf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行一个应用程序的整个想法是获得内核的一些非常具体的功能，而不是完整的操作系统。Docker通过使用内核特性和创建APP运行的环境来实现这一点。这种访问是由LXC (Linux容器——Linux执行驱动程序)提供的，但docker希望保持对所有功能的独立控制，创建了<em class="ms"> libcontainer </em>库。<em class="ms"> libcontainer </em>允许docker跨平台(这意味着Linux、windows等)而不依赖于LXC，并独立进行<em class="ms"> libcontainer </em>库特性开发。</p><p id="8125" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">以下是LXC或<em class="ms"> libcontainer </em>为docker创建可执行环境提供的高级特性:</strong></p><ol class=""><li id="4459" class="mt mu in jm b jn jo jr js jv mv jz mw kd mx kh my mz na nb bi translated"><a class="ae nc" href="https://en.wikipedia.org/wiki/Linux_namespaces" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">命名空间</strong> </a>:独立进程树、网络栈、IP表等。</li><li id="d853" class="mt mu in jm b jn nd jr ne jv nf jz ng kd nh kh my mz na nb bi translated"><a class="ae nc" href="https://en.wikipedia.org/wiki/Cgroups" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> cgroups </strong> </a>:资源限制、优先级、会计、控制</li><li id="77be" class="mt mu in jm b jn nd jr ne jv nf jz ng kd nh kh my mz na nb bi translated"><a class="ae nc" href="https://en.wikipedia.org/wiki/Capability-based_security" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">能力</strong> </a>:访问和特权，即SELinux。</li></ol><p id="53ba" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，Docker不仅仅是一个容器，更像是一个平台。</p><ol class=""><li id="3204" class="mt mu in jm b jn jo jr js jv mv jz mw kd mx kh my mz na nb bi translated">图像形式</li><li id="5e0f" class="mt mu in jm b jn nd jr ne jv nf jz ng kd nh kh my mz na nb bi translated">容器</li><li id="442c" class="mt mu in jm b jn nd jr ne jv nf jz ng kd nh kh my mz na nb bi translated">登记处</li><li id="96d1" class="mt mu in jm b jn nd jr ne jv nf jz ng kd nh kh my mz na nb bi translated">使聚集</li><li id="5a7f" class="mt mu in jm b jn nd jr ne jv nf jz ng kd nh kh my mz na nb bi translated">编排:服务发现</li><li id="3ff8" class="mt mu in jm b jn nd jr ne jv nf jz ng kd nh kh my mz na nb bi translated">覆盖网络</li></ol><p id="cdbf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<a class="ae nc" href="https://medium.com/@tomdeore/docking-a-docker-container-part-2-c1206e7c6677#.5wjsezzgw" rel="noopener">下一个</a>部分，我们将详细介绍其中的每一项，并获得一些动手操作的机会。敬请期待！</p><p id="cf81" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">可以在|</strong><a class="ae nc" href="https://www.linkedin.com/in/mdeore/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">LinkedIn</strong></a><strong class="jm io">|</strong><a class="ae nc" href="https://tomdeore.wixsite.com/epoch" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">网站</strong></a><strong class="jm io">|</strong><a class="ae nc" href="https://github.com/milinddeore" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">Github</strong></a><strong class="jm io">|</strong></p></div></div>    
</body>
</html>