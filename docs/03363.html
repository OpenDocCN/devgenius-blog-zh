<html>
<head>
<title>Use These 7 Tips For Clean And Maintainable Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用这 7 个技巧来获得干净和可维护的代码</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/use-these-7-tips-for-clean-and-maintainable-code-d6eface6149d?source=collection_archive---------7-----------------------#2020-10-26">https://blog.devgenius.io/use-these-7-tips-for-clean-and-maintainable-code-d6eface6149d?source=collection_archive---------7-----------------------#2020-10-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f919" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">利用这些技巧在你的开发者朋友中获得尊重😎</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/51bbd4b2b4d40065b93d853b3bc39df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EDtJ2_hEGbryRwZA"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">JESHOOTS.COM 在<a class="ae ks" href="https://unsplash.com/s/photos/cleaning?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ks" href="https://unsplash.com/@jeshoots?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">拍照</a></figcaption></figure><p id="5ede" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这一切都是为了维护干净和可读的代码(这当然是可行的)。所以，我想和你们分享一些建议。欢迎在评论中纠正我或分享更多你自己的建议，为我们所有人创造一个学习的经历。让我们开始吧:</p><h1 id="d04b" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">1.评论，评论和更多评论</h1><p id="c359" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">我不是一个理想的开发人员，我打赌你也不是。我将告诉你不要做什么，而不是解释该做什么。让我们来看一些示例代码:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="3ee5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">相反，当您有复杂代码块时，请使用注释。</p><h1 id="1e03" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">2.有意义的名字</h1><p id="6169" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">你想用那种读者会说，“是的！我很清楚这是干什么的”。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="57e3" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">3.不要忽略控制台/ESLint 警告</h1><p id="0f8b" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">这是一个巨大的问题，所以我见过很多次开发人员提交带有 eslint 警告的代码。事实上，几个月前，我开始着手一个现有的项目。当我编译前端的时候，有超过 100 个来自 jsx-ally，eslint 等的警告。</p><p id="ed42" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以将<a class="ae ks" href="https://www.npmjs.com/package/husky" rel="noopener ugc nofollow" target="_blank"> husky </a>与<a class="ae ks" href="https://www.npmjs.com/package/lint-staged" rel="noopener ugc nofollow" target="_blank"> lint-staged </a>一起使用，它不会让您提交代码，直到您清除所有警告和错误。</p><h1 id="afb4" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">4.不要在打字稿中使用“<code class="fe mo mp mq mr b">as unknown”</code></h1><p id="ef81" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Typescript 很聪明，但是有时候，它不够聪明！我在打字稿代码中见过很多<code class="fe mo mp mq mr b">// @ts-ignore</code>或<code class="fe mo mp mq mr b">as unknown</code>。所以，看看这个例子:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="2763" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">尽管这样做是不可取的，但至少你得到了一些类型安全。</p><h1 id="6ab4" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">5.用巴别塔代替 tsc</h1><p id="dded" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">从版本 7 开始，Babel 增加了对 TypeScript 的支持，这意味着您不再需要使用 TypeScript 编译器(即<code class="fe mo mp mq mr b">tsc</code>来构建您的项目，而是可以只使用 Babel，它只是从所有 TypeScript 文件中剥离您的类型，然后以 JavaScript 的形式发出结果。</p><p id="d5ed" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这不仅比 tsc 快得多，尤其是在更大的项目中，而且允许您在您的项目中使用整个 Babel 生态系统。例如，当您想使用仍处于第 3 阶段的 react 或 javascript 特性时，它非常有用。</p><p id="a5f0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于后端项目，这意味着您可以简化笨重的文件查看脚本，只需使用 babel-node 来查看更改。</p><h1 id="e6f3" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">6.使用 SonarJS 和 Eslint</h1><p id="9130" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Eslint 有许多实施最佳实践和惯例的规则，也有助于防止错误。</p><p id="eaf5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">(不赞成使用 TSLint，而赞成使用 typescript-eslint；TSLint 插件 SonarTS 已经被采用，现在是 SonarJS 的一部分。</p><p id="094b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">除了 ESLint 的特性之外，SonarJS 还为您的代码添加了一些复杂性检查，这有助于您先编写代码，然后将您的方法分成更小的部分。</p><h1 id="6274" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">7.不透明类型</h1><p id="af9a" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">我不打算解释，我只是给你演示一下。</p><p id="2896" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">假设我们正在构建一个银行 API。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">account.ts</figcaption></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk translated">控制器. ts</figcaption></figure><p id="cade" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你发现窃听器了吗？如果没有，看看我们调用<code class="fe mo mp mq mr b">spend()</code>函数的地方。我已经(有意地)在 accountNumber 之前传递了金额，但是 typescript 没有抱怨。</p><p id="6149" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想知道为什么会发生这种情况，这是因为<code class="fe mo mp mq mr b">AccountNumberType</code>和<code class="fe mo mp mq mr b">PaymentAmt</code>可以互相赋值，因为它们都是类型<code class="fe mo mp mq mr b">number</code>。</p><p id="6bb6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">关于这一点，typescript repo 中有一个长期存在的问题。在 typescript 团队对此采取措施之前，我们可以使用下面的方法:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="894f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">实用函数 Opaque 简单地定义了一个新类型，除了变量值之外，它还存储一个(唯一的)键，比如 Uuid。</p><h1 id="3061" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">结论</h1><p id="7a54" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">感谢阅读！在<a class="ae ks" href="https://twitter.com/AkashShyam11" rel="noopener ugc nofollow" target="_blank"> twitter </a>上关注我，在那里我为开发者发布提示、技巧和迷因。再见🤟</p></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><p id="5acb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mz">原载于 2020 年 10 月 26 日</em><a class="ae ks" href="https://dev.to/akashshyam/7-tips-for-clean-code-3nk1" rel="noopener ugc nofollow" target="_blank"><em class="mz">https://dev . to</em></a><em class="mz">。</em></p></div></div>    
</body>
</html>