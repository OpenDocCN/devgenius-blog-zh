<html>
<head>
<title>Profile Before You Process Your Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在处理数据之前进行配置</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/profile-before-you-process-your-data-830263740ec5?source=collection_archive---------1-----------------------#2022-10-27">https://blog.devgenius.io/profile-before-you-process-your-data-830263740ec5?source=collection_archive---------1-----------------------#2022-10-27</a></blockquote><div><div class="fc ig ih ii ij ik"/><div class="il im in io ip"><div class=""/><div class=""><h2 id="24c8" class="pw-subtitle-paragraph jp ir is bd b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg dk translated">谷歌合作实验室熊猫简介快速教程</h2></div><p id="9965" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">消息传出去了——数据是主观的。因此，当我们摘下玫瑰色的眼镜时，我们正拿起放大镜来更仔细地筛选数据和数据集、数据处理和数据洞察力。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ld"><img src="../Images/89c6657ea256c967acbc8b9d87ebc269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dgdCY2qnMBJaX8ni"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">埃米利亚诺·维托里奥西在<a class="ae lt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="131b" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">下一个障碍是<em class="lu">如何</em>评估你的数据和数据集的质量。简而言之:这是一个多步骤的、基于人类认知和算法的过程集，在合理的时间框架内是可以实现的，但可能不会引导你得出你期望的结论。冗长的回答:你需要依靠他人对数据和数据集的观点，对不舒服的事情感到舒服。然后，你可能不得不放弃执行一些你的“标准”数据处理方法，因为你会发现并不是所有的方法都能带来有价值的见解。最后，你可能会意识到高质量的数据是多么难以捉摸，所以你会变得更加敏捷，更加宽容。当你更了解你的数据和数据集时，你会做得更好。</p><p id="15ee" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">数据集文档恰好是数据质量筛选过程中的一个有用实践。我正在分享一个有用的 Python 函数，<strong class="kj it"> pandas-profiling。它会给你一个数据集的概览。Python 语句的数量很少，而且您可以将输出保存为 HTML 文件。我正在谷歌协作实验室上浏览这个快速教程，这样如果你想自己完成这些步骤，你就可以轻松完成。哦，这个教程应该需要大约 10 分钟才能完成。</strong></p><p id="d860" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated"><strong class="kj it">预备步骤 1: </strong>使用 Google Colaboratory 打开一个新的 Jupyter 笔记本文件。提醒:您可以通过打开您的 Google Drive，单击 New，然后单击 More 来进入您的 Google 协作环境，您应该会在下拉菜单中看到 Google 协作环境。点击它，一个新的无标题 Jupyter 笔记本就会打开。</p><p id="4809" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated"><strong class="kj it">前步骤 2: </strong>要准备您的 Google 协作环境，您需要检查您是否有权访问配置文件包。创建一个代码单元格，并粘贴以下注释和代码。</p><pre class="le lf lg lh gt lv lw lx ly aw lz bi"><span id="d48f" class="ma mb is lw b gy mc md l me mf"># Install a fresh version of the profiling package</span><span id="6715" class="ma mb is lw b gy mg md l me mf">! pip install pandas-profiling</span></pre><p id="d48c" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">运行代码单元。当包组件被加载到 Google 协作环境中时，您将看到输出。事实上，您应该看到概要分析包已经加载到您的云环境中了。不过检查一下也无妨。</p><p id="03be" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">现在，我们已经准备好探索分析包了。将一个干净的数据集带入这个环境是很重要的。样本数据集可在 public Tableau 的网站上获得:<a class="ae lt" href="https://public.tableau.com/app/resources/sample-data" rel="noopener ugc nofollow" target="_blank">https://public.tableau.com/app/resources/sample-data</a>。我选择第 113 届国会数据集。因为它有两个表，所以我将账单表保存为 csv 格式，并将文件重命名为‘Bills-table 1 . CSV’。</p><ol class=""><li id="64ea" class="mh mi is kj b kk kl kn ko kq mj ku mk ky ml lc mm mn mo mp bi translated"><strong class="kj it">创建一个新的代码单元格</strong>并粘贴以下语句:</li></ol><pre class="le lf lg lh gt lv lw lx ly aw lz bi"><span id="5eaa" class="ma mb is lw b gy mc md l me mf"># if dataset is on your local machine, you can select and load the file directly</span><span id="77d6" class="ma mb is lw b gy mg md l me mf">from google.colab import files</span><span id="7f4d" class="ma mb is lw b gy mg md l me mf">uploaded = files.upload()</span></pre><p id="8907" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">运行代码单元。从本地机器中选择“Bills-Table1.csv”文件。加载大约需要 10-15 秒(1388057 字节)。百分比将增加，直到达到 100%。</p><p id="d09a" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated"><strong class="kj it"> 2。创建一个新的代码单元格</strong>并粘贴以下语句:</p><pre class="le lf lg lh gt lv lw lx ly aw lz bi"><span id="3b6c" class="ma mb is lw b gy mc md l me mf"># load the dataset into a dataframe</span><span id="d4d8" class="ma mb is lw b gy mg md l me mf">import io</span><span id="19ac" class="ma mb is lw b gy mg md l me mf">import pandas as pd</span><span id="0b76" class="ma mb is lw b gy mg md l me mf">census = pd.read_csv(‘Bills-Table1.csv’)</span><span id="c570" class="ma mb is lw b gy mg md l me mf"><br/># preview the dataframe ‘census’ content</span><span id="dd07" class="ma mb is lw b gy mg md l me mf">census.head(10)</span></pre><p id="b7b4" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">运行代码单元。您将看到数据帧的前 10 行。你不必预览数据帧，但我喜欢看到输出，以确保我认为计算机应该做的是正在执行的。</p><p id="079c" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated"><strong class="kj it"> 3。创建一个新的代码单元格</strong>并粘贴以下语句:</p><pre class="le lf lg lh gt lv lw lx ly aw lz bi"><span id="8d3d" class="ma mb is lw b gy mc md l me mf"># Create a profile report with a user-defined label</span><span id="ef0a" class="ma mb is lw b gy mg md l me mf"># Profile report deeper dive: showcasing features for text (length distribution, unicode information),files (file size, creation time) and images (dimensions, exif information)</span><span id="dabc" class="ma mb is lw b gy mg md l me mf">profile = ProfileReport(census, title='Census Data Report')</span></pre><p id="40ab" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">运行代码单元。您不会看到任何输出，因为结果存储在配置文件变量中，因为您没有告诉系统显示输出。通过使用下面的语句创建一个新的代码单元格，可以很容易地纠正这种情况:</p><pre class="le lf lg lh gt lv lw lx ly aw lz bi"><span id="a226" class="ma mb is lw b gy mc md l me mf">profile</span></pre><p id="11d7" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">您将能够看到所有的输出，但您将不得不做大量的滚动。坦率地说，这很难消化和解释。但是，还有另一种方法可以访问 dataframe 配置文件。</p><p id="438b" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated"><strong class="kj it"> 4。创建一个新的代码单元格</strong>并粘贴以下语句:</p><pre class="le lf lg lh gt lv lw lx ly aw lz bi"><span id="f87d" class="ma mb is lw b gy mc md l me mf"># Make our report easier to navigate using html function</span><span id="5255" class="ma mb is lw b gy mg md l me mf">profile.to_notebook_iframe()</span></pre><p id="d277" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">运行此代码单元。您将看到如下所示的概要文件报告。输出将会很长，包含数据集统计、变量细节、交互、相关性、第一行、最后一行等等。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi mq"><img src="../Images/3beb0bcfb906eaf7676e7c95ad317c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KfA4wVjPfBCP4MXZHbL-Jw.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">由 pandas profiling 软件包生成的普查数据报告的屏幕截图。它显示了数据集统计数据和变量类型的概述。</figcaption></figure><p id="f99f" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated"><strong class="kj it"> 5。但是如果我们可以共享它，而不需要所有其他 Python 语句，那么看到这个细节会更好。</strong>我们可以做到！创建一个代码单元格并粘贴以下语句:</p><pre class="le lf lg lh gt lv lw lx ly aw lz bi"><span id="923a" class="ma mb is lw b gy mc md l me mf"># Save the report to html</span><span id="3949" class="ma mb is lw b gy mg md l me mf">profile.to_file("Congress113th_Bill.html")</span></pre><p id="1eae" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">运行代码单元。您将看到文件导出到文件。它存储在谷歌合作实验室环境中。你可以通过点击左边的三个灰色条(又名汉堡)来访问它，然后点击文件夹图标来显示文件。您将看到如下所示的 html 文件。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi mr"><img src="../Images/4b6f422b99a322ecbc8ebff24e979cad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s6pzyrDJ8N174ptFP4uI-g.png"/></div></div></figure><p id="4908" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">滚动文件，直到你看到三个点。点击下载。然后，html 文件将被下载到本地机器上的下载文件夹中。现在，您(和您的团队)可以调查数据的值分布、稀疏度或密度以及其他重要指标，为您的数据处理后续步骤提供信息。</p></div><div class="ab cl ms mt hw mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="il im in io ip"><p id="ce4a" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">如果你想自己完成这个快速教程，可以在<a class="ae lt" href="https://drive.google.com/drive/folders/1G6B_aZDbG6XIUPhfri-vRBpk4HErLXxm?usp=sharing" rel="noopener ugc nofollow" target="_blank">这个共享文件夹</a>中下载 MS Excel 电子表格、重新格式化的 csv 文件、Jupyter 笔记本文件和 HTML 文件。</p><p id="ceb6" class="pw-post-body-paragraph kh ki is kj b kk kl jt km kn ko jw kp kq kr ks kt ku kv kw kx ky kz la lb lc il bi translated">开心快乐！</p></div></div>    
</body>
</html>