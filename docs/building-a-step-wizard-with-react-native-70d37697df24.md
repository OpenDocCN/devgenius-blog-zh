# 使用 react native 构建步骤向导

> 原文：<https://blog.devgenius.io/building-a-step-wizard-with-react-native-70d37697df24?source=collection_archive---------4----------------------->

![](img/11a31d37dcab2818b4393c9f50a9b798.png)

在过去的几个月里，由于疫情的情况，我决定是时候离开 react native 一段时间，重新开始建设了！是的，在我继续用 angular 做有趣的事情的同时，我给了自己一个喘息的机会。在这次暂时的休息之前，我开发了一个 step wizard 组件，所以我决定对它进行优化和重构，因为从那以后，新的版本出现了钩子和其他一些非常好的东西。

所以让我们开始吧！！

![](img/af119b4943ca6a5b9af9845f10e26045.png)

当我们开始创建一个 UI 时，我们必须把它想成一组组件，它们将包装你的界面的一部分，然后一起工作，知道了这一点，是时候这样设置我们的组件了。

**步骤组件和上下文** 对于我们的 API 上下文，我们只需要共享状态和两个函数，一个用于设置当前步骤的索引，另一个用于设置我们想要显示的所有步骤。我们用空的步骤数组和索引为 0 的当前步骤初始化状态。

步骤数组是一个对象数组，这个对象将有标题，我们想在标题与 StepHeader 组件和组件，我们想在"步骤内容"组件。

现在，上下文提供者向其消费者共享其功能和状态，该提供者将包装我们的组件，因此现在每个组件都可以使用来自上下文的数据来完成它们的工作。

现在，我们只需设置我们的步骤组件，并通过调用“setSteps”和“setCurrentStep”函数来填充这个步骤数组，以默认显示第一步。

**StepHeader 组件
我们已经创建了两个组件 StepHeader 和 Circle。**

说明

它是这样工作的:

1.  我们从上下文中获得步骤的数组，对于每个标题，它将显示一个带有我们的 Circle 组件和标题的视图。
2.  Circle 组件有两个属性:(selectedIndex 和 index) index 将是我们想要在圆圈中间显示的数字，我们将使用这个索引与 selectedIndex 进行比较，selectedIndex 将显示我们所在的当前步骤，这个数字将由 state 存储，现在我们知道当它被选中时何时设置圆圈的特定样式。
3.  对于标题，我们使用“number of lines”属性，默认设置 2 为文本必须拥有的行数，如果文本多于两行，我们将设置属性“ellipsizeMode”为 tail 以放置一些点。
4.  然后，我们放一个视图，它将代表一条线，这只是把一条线通过中间的步骤按钮只是为了把一些时尚。

此处的样式:

![](img/e42ae59aff2196e36420fd7fe43473db.png)

**步骤内容组件**

该组件将通过当前索引显示特定组件，该索引将由上下文提供程序更改，否则，如果该数组为空，则不会显示任何内容。

**页脚组件**

这个组件可以被认为是我们的动作组件。有两个按钮，一个用于返回上一个内容，另一个用于显示下一个内容。

为此，我们将调用一个在上下文中共享的函数来更改当前索引，让“StepContent”组件知道需要显示什么内容。

就这样，有了这些，我们就有了 StepWizard 组件！！