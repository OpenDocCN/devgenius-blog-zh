<html>
<head>
<title>Understanding the file system in Magento 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解 Magento 2 中的文件系统</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/understanding-the-file-system-in-magento-2-b1858826a0c7?source=collection_archive---------3-----------------------#2020-10-13">https://blog.devgenius.io/understanding-the-file-system-in-magento-2-b1858826a0c7?source=collection_archive---------3-----------------------#2020-10-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c4697e6b8aee41102a218032678a6100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H2ZxGrI-8XZHoS5Df40i1Q.png"/></div></div></figure><blockquote class="jv jw jx"><p id="6807" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">开始组件开发的第一件事就是理解和设置文件系统。尽管所有组件都需要特定的文件，但每种类型的组件都有不同的文件结构。另外，可以选择组件根目录开始开发。以下部分提供了更多信息。— <a class="ae kx" href="https://devdocs.magento.com/guides/v2.4/architecture/archi_perspectives/components/modules/mod_intro.html" rel="noopener ugc nofollow" target="_blank"> Magento DevDocs —关于组件文件结构</a></p></blockquote><h1 id="dfcf" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">在哪里可以找到 Javascript 和 PHTML 文件？</h1><ul class=""><li id="6c04" class="lw lx in kb b kc ly kg lz ma mb mc md me mf kw mg mh mi mj bi translated">视图/前端/web/js</li><li id="538b" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">查看/前端/requirejs-config.js</li><li id="d331" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">视图/前端/布局</li><li id="4a2f" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">视图/前端/模板</li></ul><h1 id="677d" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">组件根目录</h1><p id="8b0b" class="pw-post-body-paragraph jy jz in kb b kc ly ke kf kg lz ki kj ma mp km kn mc mq kq kr me mr ku kv kw ig bi translated">一个组件根目录可以出现在两个地方，/app 和/vendor，它是那个组件的<strong class="kb io">顶层目录</strong>。</p><p id="57da" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj ma kl km kn mc kp kq kr me kt ku kv kw ig bi translated"><strong class="kb io"> /app </strong></p><ul class=""><li id="1b07" class="lw lx in kb b kc kd kg kh ma ms mc mt me mu kw mg mh mi mj bi translated">模块— <em class="ka">应用/代码</em>。</li><li id="36c9" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">店面主题—<em class="ka">app/设计/前端</em>。</li><li id="7277" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">管理主题— <em class="ka">应用程序/设计/管理 html </em>。</li><li id="5ab1" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">语言包— <em class="ka"> app/i18n </em>。</li></ul><p id="50a1" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj ma kl km kn mc kp kq kr me kt ku kv kw ig bi translated"><strong class="kb io">/供应商</strong></p><ul class=""><li id="f969" class="lw lx in kb b kc kd kg kh ma ms mc mt me mu kw mg mh mi mj bi translated">模块— <em class="ka">供应商/【供应商名称】/【模块—模块名称】</em></li><li id="10cb" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">店面主题— <em class="ka">供应商/[供应商]/主题—[区域]-[主题名称] </em></li><li id="8918" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">管理主题-<em class="ka">供应商/[供应商名称]/主题-管理 html-[主题名称] </em></li><li id="271d" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">语言包— <em class="ka">供应商/[供应商名称]/language-en_us </em></li></ul><blockquote class="jv jw jx"><p id="c8e6" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">任何第三方组件(以及 Magento 应用程序本身)都被下载并存储在供应商目录下。如果您使用 Git 来管理项目，这个目录通常会添加到。gitignore 文件。因此，我们建议您在应用程序/代码中进行定制工作，而不是在供应商中。— <a class="ae kx" href="https://devdocs.magento.com/guides/v2.4/extension-dev-guide/build/module-file-structure.html" rel="noopener ugc nofollow" target="_blank"> Magento DevDocs —创建您的组件文件结构</a></p></blockquote><h1 id="7bab" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">组件文件结构</h1><p id="1fd8" class="pw-post-body-paragraph jy jz in kb b kc ly ke kf kg lz ki kj ma mp km kn mc mq kq kr me mr ku kv kw ig bi translated">组件需要 registration.php、etc/module.xml 和 composer.json 文件。这足以让 Magento 2 知道一个组件存在。参见我之前的博客<a class="ae kx" href="https://rickdaalhuizen.com/posts/understanding-magento-2-module-based-architecture/" rel="noopener ugc nofollow" target="_blank">了解 Magento 2 基于模块的架构——模块注册</a></p><p id="a326" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj ma kl km kn mc kp kq kr me kt ku kv kw ig bi translated">以下文件和文件夹是 Magento 2 模块(组件)中常见的。</p><ul class=""><li id="133d" class="lw lx in kb b kc kd kg kh ma ms mc mt me mu kw mg mh mi mj bi translated"><strong class="kb io"> Api </strong> —任何暴露于 Api 的 PHP 类(服务和数据服务契约)。</li><li id="7539" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">块</strong> — PHP 视图类作为模型视图控制器(MVC)模块逻辑垂直实现的一部分。</li><li id="db52" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">控制台</strong> —控制台命令</li><li id="5651" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">控制器</strong> — PHP 控制器类，作为模块逻辑的 MVC 垂直实现的一部分。</li><li id="12a0" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">控制器/管理 html </strong> —管理控制器</li><li id="1754" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> Cron </strong> — Cron 作业类</li><li id="2a26" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">等</strong> —配置文件；尤其是 module.xml，这是必需的。</li><li id="5c4a" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">助手</strong> —助手</li><li id="94fa" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">i18n</strong>—CSV 格式的本地化文件</li><li id="0386" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">模型</strong> — PHP 模型类，作为模块逻辑的 MVC 垂直实现的一部分。</li><li id="f12d" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">模型/资源模型</strong> —数据库交互</li><li id="cad3" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">观察者</strong> —事件监听器</li><li id="0ae6" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">插件</strong> —包含任何需要的插件。</li><li id="1a37" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> Setup </strong> —安装或升级时调用的模块数据库结构和数据设置类。</li><li id="663c" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">测试 —单元测试</li><li id="78cb" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> Ui </strong> — UI 组件类</li><li id="3dee" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">查看</strong> —查看文件，包括静态视图文件、设计模板、电子邮件模板和布局文件。</li><li id="6a60" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">查看/{ area }/电子邮件</li><li id="481b" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">视图/{ area }/布局</li><li id="cdb7" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">视图/{ area }/模板</li><li id="5636" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">view/{area}/ui_component</li><li id="2062" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">view/{ area }/ui _ component/templates</li><li id="84c7" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">查看/{area}/web</li><li id="c078" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">视图/{ area }/网站/模板</li><li id="cd9a" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">view/{ area }/require js-config . js</li></ul><h1 id="59dd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">主题文件结构</h1><p id="ba02" class="pw-post-body-paragraph jy jz in kb b kc ly ke kf kg lz ki kj ma mp km kn mc mq kq kr me mr ku kv kw ig bi translated">Magento 主题通常位于<em class="ka">app/design/frontend/【Vendor】/</em>中，或者位于<em class="ka">Vendor/【Vendor】/theme-[area]-【theme-name】</em>中，但是从技术上来说可以放在任何地方。但是，主题必须放在单独的文件夹中。</p><p id="d2c7" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj ma kl km kn mc kp kq kr me kt ku kv kw ig bi translated">典型的 magento 主题文件夹结构如下所示:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="906f" class="ne kz in na b gy nf ng l nh ni">[theme_dir]/<br/>├── [Vendor]_[Module]/<br/>│   ├── web/<br/>│   │   ├── css/<br/>│   │   │   ├── source/<br/>│   ├── layout/<br/>│   │   ├── override/<br/>│   ├── templates/<br/>├── etc/<br/>├── i18n/<br/>├── media/<br/>├── web/<br/>│   ├── css/<br/>│   │   ├── source/<br/>│   ├── fonts/<br/>│   ├── images/<br/>│   ├── js/<br/>├── composer.json<br/>├── registration.php<br/>├── theme.xml</span></pre><p id="c40d" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj ma kl km kn mc kp kq kr me kt ku kv kw ig bi translated">要创建一个主题，你基本上只需要下面这些，这些是创建一个主题所需要的。</p><ul class=""><li id="f094" class="lw lx in kb b kc kd kg kh ma ms mc mt me mu kw mg mh mi mj bi translated"><strong class="kb io"> composer.json </strong> —描述主题依赖和元数据。如果您的主题是 composer 包，则需要。</li><li id="6e19" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated">registration.php 需要注册你的主题</li><li id="354d" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> theme.xml </strong> —它包含基本的元信息，比如主题标题和父主题名称</li></ul><p id="8351" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj ma kl km kn mc kp kq kr me kt ku kv kw ig bi translated">以下文件夹是可选的:</p><ul class=""><li id="ca3e" class="lw lx in kb b kc kd kg kh ma ms mc mt me mu kw mg mh mi mj bi translated"><strong class="kb io">布局/ </strong> —扩展默认模块或父主题布局的布局文件。</li><li id="0177" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">布局/覆盖/基础</strong> —覆盖默认模块布局的布局。</li><li id="26f3" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">布局/覆盖/ &lt;父主题&gt; </strong> —覆盖模块父主题布局的布局。</li><li id="4ec6" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">模板</strong> —该目录包含主题模板，这些模板覆盖该模块的默认模块模板或父主题模板。自定义模板也存储在该目录中。</li><li id="7075" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> etc/view.xml </strong> —该文件包含所有店面产品图像和缩略图的配置。</li><li id="733d" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">i18n</strong>——。带翻译的 csv 文件。</li><li id="a048" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">媒体</strong> —这个目录包含一个主题预览(你的主题的截图)。</li><li id="89e1" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> web </strong> —可以从前端直接加载的静态文件。</li><li id="2e69" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">网页/字体</strong> —主题字体。</li><li id="104b" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io">网页/图片</strong> —该主题中使用的图片。</li><li id="59a1" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> web/js </strong> —主题 JavaScript 文件。</li><li id="a3df" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> web/css </strong> —无主题文件</li><li id="2246" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> web/css/source </strong> —这个目录包含了调用 Magento UI 库中全局元素的 mixins 的无主题配置文件，以及覆盖默认变量值的无主题文件。</li><li id="884d" class="lw lx in kb b kc mk kg ml ma mm mc mn me mo kw mg mh mi mj bi translated"><strong class="kb io"> web/css/source/lib </strong> —查看覆盖存储在 lib/web/css/source/lib 中的 UI 库文件的文件</li></ul><h1 id="ac62" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">觉得这个帖子有用吗？请点击👏下面的按钮！:)</h1></div></div>    
</body>
</html>