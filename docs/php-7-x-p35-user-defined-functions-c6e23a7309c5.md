# PHP — P35:用户定义的函数

> 原文：<https://blog.devgenius.io/php-7-x-p35-user-defined-functions-c6e23a7309c5?source=collection_archive---------5----------------------->

![](img/67b475e7026dabac73be7f3862129a69.png)

如果你是一个新的程序员，函数可能是一个很难理解的话题。我肯定你接触过数学中的函数，但是你真的理解“函数”这个术语的含义吗？

想象一个汽车工厂:

1.  你把材料带到工厂。
2.  你用这些材料给植物施肥。
3.  工厂获取材料，并以某种方式生产出一辆汽车(我们将重点关注这一辆)。

植物本身就是*的功能*。如果你是一名工程师，你会知道为了生产汽车，工厂需要什么样的机器。既然我们在这里说植物是*功能*，那么植物的内部就是*功能*的内部。实现工厂内部的工程师字面上翻译成程序员。程序员知道如何构建*函数*的内部。

让我们创建自己的虚拟汽车工厂(*功能*)。我们会从简单开始。工程师(程序员)将创建汽车工厂(*功能*)，工厂唯一要做的事情就是打印出“我是汽车工厂”在实际的工厂里，这可以通过打印机或者甚至是写下文字的人来完成。在我们的虚拟工厂(*函数*)中，我们可以使用 *echo* 语句打印出单词。

在这样做之前，我们必须理解用户定义函数的结构。

```
function function_name() {
  // function body
}
```

该函数以关键字 *function* 开始，后跟函数名。函数名可以是任何有效的 PHP 名称。函数名遵循与变量相同的命名约定:字母或下划线，后跟一系列字母、数字或下划线。接下来是括号。在这种情况下，没有参数传递给函数(我们将在后面介绍)。在括号之后，左花括号表示函数体的开始。这是放置您的 *echo* 语句(或任何其他代码)的地方。函数体可以有多行代码；每一行代码都用分号隔开(如图)。最后，右花括号用来表示*函数*的结束。

让我们创建我们的汽车工厂*功能*。该函数的名称将是“automotive_plant ”,而*函数*将只是*回显*“我是一家汽车工厂”

一旦函数被创建，PHP 将读取它，但不会执行它。为了让函数执行函数体内的代码，我们必须调用那个函数。你如何调用一个函数？你只需写出函数名和括号。这是所有编程语言的标准。不要忘记分号。

```
automotive_plant();
```

如果我们执行上面的代码，你会在屏幕上看到“我是一个汽车工厂”。

让我们看一个在函数体内有多个语句的例子。我们将创建一个更通用的函数，名为 *plant()* 。该函数将有一个局部变量(我们将在后面讨论作用域),该变量仅对名为 *$type_of_plant* 的函数体内的代码可见。我们将把字符串“automotive”赋给 *$type_of_plant* 变量。然后我们将*回显*我们刚刚分配给 *$type_of_plant* 变量的植物类型。

如果您运行上面的代码，您将得到:

我是一家汽车工厂
我是一家汽车工厂

它执行了两次，因为我们调用了两次 *plant()* 函数。这就是函数的强大之处:代码可维护性、可伸缩性和可重用性。假设 *plant()* 函数有 5 行代码。如果您需要调用该函数 5 次，我们将再编写总共 5 行代码:

```
plant();
plant();
plant();
plant();
plant();
```

如果我们没有这个函数，我们将不得不写 5 行代码 5 次。代码完全一样，但是你只写了 25 行代码。如果我们需要改变什么，会发生什么？我们必须修改放置这些代码行的每个地方。如果我们在一千个不同的地方使用代码会怎么样？我们将不得不在一千个不同的地方修改代码。有了*函数*，我们只需要在一个地方修改代码。

不需要变量 *$type_of_plant* 。我写这个只是为了展示多行代码。我们真正想要的是能够传递给函数我们想要它显示的植物类型，比如*茄子*、*汽车厂、蔬菜厂*等。这些被称为参数，将在下一篇文章中讨论。

在本文中，我们需要讨论另一个主题:*函数调用其他函数*。在我们看一个具体的例子之前，让我们再来看看我们真正的汽车工厂。我们让员工在打印机的帮助下打印出“我是一家汽车工厂”的声明。打印机本身可以看作是一种功能。它知道如何从计算机中获取输入，并将墨水放在纸上，从而将计算机的机器代码翻译成纸上的字符。在这个例子中，它知道如何接受计算机的输入，并打印出“我是一家汽车工厂。”该打印机功能位于汽车工厂功能的内部:功能内部的功能。汽车厂就是所谓的打印机功能。

让我们看一个更简单的例子。我们将创建两个函数:

*   sayName()
*   陈述自己()

这个 *sayName()* 函数将只是*回显*出“我的名字是迪诺。” *state_yourself()* 函数将*回应*出“你好，我是来自未来的机器人”，然后将调用 *sayName()* 函数。您将以完全相同的方式调用 *sayName()* 函数:通过编写函数名和括号。唯一不同的是， *sayName()* 函数调用将被放在 *state_yourself()* 函数体内。

作为旁注，我使用 camel-case 符号来编写 *sayName()* ，使用 snake_case 符号(或下划线符号)来编写 *state_yourself()* 。如果您使用 camel-case 符号来命名变量或函数名，请从小写字符开始，并用大写字母分隔每个单词；其他的都应该小写。下划线符号用下划线分隔每个单词；每个单词都是小写的。关于你应该使用哪种最好的符号类型，有一场激烈的争论。无论你选择哪一个，都要坚持下去。

让我们看一下上面的例子。

1.  PHP 跳过了每个函数声明。
2.  PHP 在第 12 行遇到了 *state_yourself()* 函数调用。
3.  它在第 7 行寻找并找到函数 *state_yourself()* 。
4.  PHP 进入 *state_yourself()* 函数体*回显*出“嗨，我是来自未来的机器人。”
5.  PHP 转到下一条语句，看到这是对 *sayName()* 的函数调用。
6.  它在第 3 行找到函数 *sayName()* 。
7.  它进入 *sayName()* 函数体，*回显*出“我的名字是 Dino。”
8.  它到达第 5 行的 *sayName()* 函数的右花括号，并关闭该函数。
9.  PHP 返回到 *state_yourself()* 函数，并在 *sayName()* 函数调用后继续执行代码。
10.  PHP 在第 10 行遇到一个右花括号；它结束了 *state_yourself()* 函数的执行。
11.  PHP 返回到第 12 行，看到下一个字符是分号。它在第 12 行结束语句。
12.  PHP 继续执行，遇到结束 PHP 标签(？>).它结束代码的执行，并将结果发送到用户的浏览器。
13.  浏览器显示:你好，我是来自未来的机器人。我叫迪诺。"

可视化 PHP 遍历代码的方式很重要。我不打算深入研究函数在内存中被放入调用栈的方式，但是如果你感兴趣的话，这绝对值得一读。

[](https://github.com/dinocajic/php-7-youtube-tutorials) [## dinocajic/PHP-7-YouTube-教程

### PHP 7.x YouTube 教程的代码。

github.com](https://github.com/dinocajic/php-7-youtube-tutorials) ![](img/32079533914edfc640e829cd26cfca8a.png)

迪诺·卡伊奇目前是 [LSBio(生命周期生物科学公司)](https://www.lsbio.com/)、[绝对抗体](https://absoluteantibody.com/)、 [Kerafast](https://www.kerafast.com/) 、[珠穆朗玛生物](https://everestbiotech.com/)、[北欧 MUbio](https://www.nordicmubio.com/) 和 [Exalpha](https://www.exalpha.com/) 的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。

你可以在 [LinkedIn](https://www.linkedin.com/in/dinocajic/) 上联系他，在 [Instagram](https://instagram.com/think.dino) 上关注他，或者[订阅他的媒体出版物](https://dinocajic.medium.com/subscribe)。

[*阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。*](https://dinocajic.medium.com/membership)