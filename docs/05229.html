<html>
<head>
<title>Migrating from Oracle 2 Snowflake: Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Oracle 2雪花迁移:第3部分</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/migrating-from-oracle-2-snowflake-part-3-a11ece17e2d6?source=collection_archive---------2-----------------------#2021-07-05">https://blog.devgenius.io/migrating-from-oracle-2-snowflake-part-3-a11ece17e2d6?source=collection_archive---------2-----------------------#2021-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jn jo jp jq gh gi paragraph-image"><div class="ab gu cl jr"><img src="../Images/fb389d3d5acc3029752a29d804835779.png" data-original-src="https://miro.medium.com/v2/format:webp/1*O4jGSugxAqGmNgSsh3zSRQ.png"/></div></figure><p id="8a9a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这篇博客是我之前的博客<a class="ae ks" href="https://rajivgupta780184.medium.com/migrating-from-oracle-2-snowflake-part-2-bfe8ca076ac8" rel="noopener"> <strong class="jw ir">从Oracle 2雪花迁移:第二部分</strong> </a>的延续，我想继续分享我从Oracle迁移到雪花的经历。</p><p id="2822" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">注意:这更多的是为了让人们了解在Oracle到雪花迁移过程中会面临哪些挑战。所有建议都是我个人的，与我的雇主(过去/现在)无关。</strong></p><p id="f3ee" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在我之前的博客中，我捕捉到了Oracle DDL &amp;对象迁移策略。在这篇博客中，我的分析将更侧重于从Oracle到Snowflake的数据迁移。</p><p id="bd78" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">有两种方法进行数据迁移:</p><ol class=""><li id="663e" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">本地方法。</li><li id="d3b6" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">数据迁移产品。</li></ol><p id="d85d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">今天，您可能会在市场上找到大量支持Oracle到雪花迁移的数据集成工具。所有工具都有利弊，适合您产品的工具可能基于成本、时间表、数据量、复杂性、速度、自动化与手动等因素。</p><p id="70b6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可以在这里 找到支持雪花生态<a class="ae ks" href="https://docs.snowflake.com/en/user-guide/ecosystem-etl.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">的整个数据集成工具。</strong></a></p><p id="760d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">今天我将更多地讨论本机方法，因为使用产品的数据迁移可以在他们的手册中很容易地找到。</p><p id="f98e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">由于我们的应用低于平均存储大小，我们选择本机方法，而不是现成的迁移产品。正如您在下面的架构中看到的:</p><figure class="li lj lk ll gt jq gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lh"><img src="../Images/1e2a8ad9d70ac8d54ef31132cfd2dece.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gzR-DQquU0lvBaQB4Z1Ybw.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">提议架构</figcaption></figure><p id="9524" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们选择Azure blob存储作为未来应用流的外部平台。我们利用它来扩展我们的数据迁移路径。此外，我们在内部和Azure cloud之间建立了一个专用网络来传输我们的数据。我们根据<a class="ae ks" href="https://docs.snowflake.com/en/user-guide/data-load-considerations-prepare.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">雪花数据负载考虑</strong> </a> <strong class="jw ir">对数据进行了批处理。</strong>我们使用PYTHON脚本，通过CLI批量自动将数据文件导出到azure blob。</p><p id="7bd1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一次，数据被上传到各自容器中的Azure blob存储。我们已经设置了外部阶段、文件格式、安全性、使用Python批量运行的copy语句。</p><p id="56da" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您没有大量的数据，并且没有时间压力在紧迫的时间内完成数据加载，上述方法是可行的。</p><p id="b496" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您项目需要保持严格的期限和各种其他因素，而这些又不能用本地方法来涵盖，那么您可能会选择迁移产品。</p><p id="1be7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们选择了几个包含各种数据类型的表，这样我们就可以覆盖我们的应用程序表。还包括其他对象，如视图、过程等。因此，我们已经考虑了迁移到POC的所有因素，以做出最佳决策。</p><p id="4f2c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们使用DDL迁移python脚本和本地方法将表DDL迁移到雪花和数据。</p><p id="d8f2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，我们使用PYTHON创建了一个数据验证实用程序来比较Oracle和雪花之间的数据。</p><p id="eba8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，我们已经完成了我们的分析、概念验证和方法，这是我们在上线期间必须遵循的。是时候决定雪花的大小和设置了。</p><p id="baec" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如需进一步阅读，请点击<strong class="jw ir">从Oracle 2雪花迁移:第4部分</strong></p><p id="3e50" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">希望这篇博客能帮助你了解我们如何从Oracle迁移到雪花。如果你对此有任何疑问，欢迎在评论区提问。如果你喜欢这个博客，请鼓掌。保持联系，看到更多这样的酷东西。谢谢你的支持。</p><p id="5486" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">你可以找到我:</strong></p><p id="a3f9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">跟我上媒:</strong><a class="ae ks" href="https://rajivgupta780184.medium.com/" rel="noopener">https://rajivgupta780184.medium.com/</a></p><p id="d0c7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">在Twitter上关注我:</strong><a class="ae ks" href="https://twitter.com/RAJIVGUPTA780" rel="noopener ugc nofollow" target="_blank">https://twitter.com/RAJIVGUPTA780</a></p><p id="e53e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">在LinkedIn联系我:</strong><a class="ae ks" href="https://www.linkedin.com/in/rajiv-gupta-618b0228/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/rajiv-gupta-618b0228/</a></p><p id="9ba5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">订阅我的YouTube频道:</strong><a class="ae ks" href="https://www.youtube.com/channel/UC8Fwkdf2d6-hnNvcrzovktg" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/channel/UC8Fwkdf2d6-hnNvcrzovktg</a></p><figure class="li lj lk ll gt jq gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/b6f53bd4f35a4c4b2c529865ca887f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/0*sSY2iqoRn3Cdge36.png"/></div></figure><p id="99cc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">#坚持学习#坚持分享#每天学习。</p><h1 id="a172" class="lv lw iq bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">参考资料:-</h1><ul class=""><li id="b8e7" class="kt ku iq jw b jx mt kb mu kf mv kj mw kn mx kr my kz la lb bi translated"><a class="ae ks" href="https://www.snowflake.com/" rel="noopener ugc nofollow" target="_blank">https://www.snowflake.com/</a></li></ul></div></div>    
</body>
</html>