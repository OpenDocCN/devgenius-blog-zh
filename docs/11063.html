<html>
<head>
<title>Setting Up Laravel 9.x with Vue.js and DataTables (the Vue approach)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Vue.js 和数据表设置 Laravel 9.x 方法)</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/setting-up-laravel-9-x-with-vue-js-and-datatables-the-vue-approach-fb52dfc74f36?source=collection_archive---------0-----------------------#2022-12-16">https://blog.devgenius.io/setting-up-laravel-9-x-with-vue-js-and-datatables-the-vue-approach-fb52dfc74f36?source=collection_archive---------0-----------------------#2022-12-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f91c908a3a31bea22ffb6a481cf71931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jJfdqG1VcPCHEFRD58m-YA.jpeg"/></div></div></figure><p id="2662" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上次我们看了使用数据表 CDN 设置数据表。如果你阅读 DataTables Vue 文档，那不是它所说的。为了尽可能全面地介绍这个主题，我决定也展示这种方法。要阅读 CDN 方法，请查看下面的文章。</p><div class="kw kx gp gr ky kz"><a href="https://medium.com/geekculture/laravel-9-x-with-vue-js-and-datatables-b1299d0e6f09" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">带有 Vue.js 和数据表的 Laravel 9.x</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">到目前为止，我所看到的关于如何设置数据表的一切都没有产生我需要的那种结果。我想要一个…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">medium.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><p id="0030" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这篇文章，我认为从头开始会比较好。没有假设。让我们用全新安装的 Laravel 9.x 来安装它。我们将完成设置 Vue.js，然后用服务器端支持设置数据表。</p><h1 id="76f4" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">假设</h1><p id="e931" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">你的设备上安装了 Docker 桌面和 PHP。我运行的 PHP 版本是:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="abe9" class="na lp iq mw b be nb nc l nd ne">PHP 8.2.0 (cli) (built: Dec  9 2022 16:55:44) (NTS)<br/>Copyright (c) The PHP Group<br/>Zend Engine v4.2.0, Copyright (c) Zend Technologies<br/>    with Zend OPcache v8.2.0, Copyright (c), by Zend Technologies</span></pre><h1 id="f9f1" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">拉勒韦尔装置</h1><p id="38df" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">建立一个新的项目。我在 Mac 上使用 Docker，所以我的安装非常简单。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="4192" class="na lp iq mw b be nb nc l nd ne">curl -s "https://laravel.build/laravel-vue-datatables" | bash</span></pre><p id="0ecf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装完成后，将 cd 放入您的目录并运行<code class="fe nf ng nh mw b">./vendor/bin/sail up</code>来启动您的项目。</p><p id="df60" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开 Docker 桌面，查看项目运行情况。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/11f22eae2f98f0fd14bf11d720b0a7a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kfW-h9R__mbnWVDR82HHiw.png"/></div></div></figure><p id="622e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们继续之前，点击<code class="fe nf ng nh mw b">laravel.test-1</code>打开容器，然后点击<code class="fe nf ng nh mw b">terminal</code>标签。从现在开始，这是我们输入所有命令的地方。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/4616cb7337d31a93801d0ab0d982232e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HJJlftWO_OyiMBzaJ75jfQ.png"/></div></div></figure><h1 id="28f8" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">vitejs/plugin-vue</h1><p id="d479" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">为了使用 Vue，我们需要安装 vite vue 插件。打开名为<code class="fe nf ng nh mw b">laravel.test-1</code>的 docker 容器，进入终端(如果您在上一节中没有这样做的话)。</p><p id="7616" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">键入以下命令:</p><p id="bef2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe nf ng nh mw b">npm i vue@next</code></p><p id="286c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装完成后，再运行一个命令来安装 vue 插件:</p><p id="554e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe nf ng nh mw b">npm i @vitejs/plugin-vue</code></p><h1 id="169c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">vite.config.js</h1><p id="e8b3" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">你主目录下的<code class="fe nf ng nh mw b">vite.config.js</code>文件需要修改。我们需要从插件中导入<code class="fe nf ng nh mw b">Vue</code>，并在<code class="fe nf ng nh mw b">plugins</code>下注册。您的文件现在应该如下所示:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="c5ca" class="na lp iq mw b be nb nc l nd ne">import { defineConfig } from 'vite';<br/>import laravel from 'laravel-vite-plugin';<br/>import Vue from '@vitejs/plugin-vue';<br/><br/>export default defineConfig({<br/>    plugins: [<br/>        laravel({<br/>            input: ['resources/css/app.css', 'resources/js/app.js'],<br/>            refresh: true,<br/>        }),<br/>        Vue({<br/>            template: {<br/>                transformAssetUrls: {<br/>                    base: null,<br/>                    includeAbsolute: false,<br/>                }<br/>            }<br/>        }),<br/>    ],<br/>});</span></pre><h1 id="d494" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">resources/js/App.vue</h1><p id="8cc8" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">创建<code class="fe nf ng nh mw b">App.vue</code>文件的时间到了。只要你知道这是入口点，你可以给它起任何你喜欢的名字。我将从包含一个<code class="fe nf ng nh mw b">h1</code>标签的简单文件开始。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="cfc6" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;h1&gt;DataTables Example&lt;/h1&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>    name: 'App',<br/>    components: {},<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/><br/>&lt;/style&gt;</span></pre><h1 id="088c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">资源/js/app.js</h1><p id="fa70" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">接下来，我们需要修改我们的<code class="fe nf ng nh mw b">app.js</code>文件。它目前正在从同一个目录导入<code class="fe nf ng nh mw b">bootstrap.js</code>，但是我们需要它实际导入我们的<code class="fe nf ng nh mw b">App.vue</code>。我们还需要来自<code class="fe nf ng nh mw b">vue</code>的<code class="fe nf ng nh mw b">createApp</code>，这样我们可以在<code class="fe nf ng nh mw b">resources/views/index.blade.php</code>内将内容挂载到<code class="fe nf ng nh mw b">#app</code> id 上。我们还没有这样做，但我们接下来会这样做。</p><p id="a4bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的<code class="fe nf ng nh mw b">resources/js/app.js</code>文件应该是这样的。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="c69f" class="na lp iq mw b be nb nc l nd ne">import { createApp } from "vue";<br/>import App from "./App.vue";<br/><br/>createApp(App).mount("#app");</span></pre><h1 id="34f0" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">resources/index.blade.php</h1><p id="3b39" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">创建一个新的<code class="fe nf ng nh mw b">index.blade.php</code>视图，并添加以下代码。确保在<code class="fe nf ng nh mw b">index.blade.php</code>中包含<code class="fe nf ng nh mw b">app.js</code>文件。我们可以用<code class="fe nf ng nh mw b">vite</code>做到这一点。当你这样做的时候，你也可以包括<code class="fe nf ng nh mw b">app.css</code>资源。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="3b28" class="na lp iq mw b be nb nc l nd ne">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="{{ str_replace('_', '-', app()-&gt;getLocale()) }}"&gt;<br/>    &lt;head&gt;<br/>        &lt;meta charset="utf-8"&gt;<br/>        &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;<br/><br/>        &lt;title&gt;Laravel Vue.js DataTables&lt;/title&gt;<br/><br/>        &lt;!-- Fonts --&gt;<br/>        &lt;link href="https://fonts.bunny.net/css2?family=Nunito:wght@400;600;700&amp;display=swap" rel="stylesheet"&gt;<br/><br/>        @vite(['resources/js/app.js', 'resources/css/app.css'])<br/>    &lt;/head&gt;<br/>    &lt;body class="antialiased"&gt;<br/>        &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="3822" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们还没有修改<code class="fe nf ng nh mw b">routes/web.php</code>文件，但是我们会在安装<code class="fe nf ng nh mw b">vue-router</code>后修改。</p><h1 id="9717" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">安装 Vue 路由器</h1><p id="1424" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我们需要首先安装依赖项。转到 Docker 容器，使用以下命令安装<code class="fe nf ng nh mw b">vue-router</code>依赖项:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="9e1f" class="na lp iq mw b be nb nc l nd ne">npm install vue-router</span></pre><h1 id="c5c5" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">routes/web.php</h1><p id="dc7c" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">现在是修改<code class="fe nf ng nh mw b">web.php</code>路线文件的时候了。我们可以添加一条新路由来处理我们所有的 vue 路由器路由。如果我们不这样做，就会导致 vue 路由器出错。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="cd55" class="na lp iq mw b be nb nc l nd ne">&lt;?php<br/><br/>use Illuminate\Support\Facades\Route;<br/><br/>Route::get('/{all}', function () {<br/>    return view('index');<br/>})-&gt;where("all", ".*");</span></pre><h1 id="a9f8" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">创建主视图:resources/views/home/Index.vue</h1><p id="5532" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">让我们为主页创建一个新的 Vue 文件。该页面将包含数据表。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="3e86" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;h1&gt;Home Page with DataTable&lt;/h1&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>    name: 'Home',<br/>    components: {},<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/><br/>&lt;/style&gt;</span></pre><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/498e149c212444d5adef2b1838f1ab41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQ7Ycj5CsLadX7JeQyxScA.png"/></div></div></figure><h1 id="4d68" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">资源/js/router/index.js</h1><p id="0f20" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">是时候创建我们的路径文件了。这将处理我们所有的路线，而不是<code class="fe nf ng nh mw b">web.php</code>。对于该文件，我们需要:</p><ul class=""><li id="0209" class="nl nm iq ka b kb kc kf kg kj nn kn no kr np kv nq nr ns nt bi translated">从<code class="fe nf ng nh mw b">vue-router</code>导入<code class="fe nf ng nh mw b">createRouter</code>和<code class="fe nf ng nh mw b">createWebHistory</code></li><li id="23be" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv nq nr ns nt bi translated">导入任何我们需要定义路径的页面组件，比如<code class="fe nf ng nh mw b">Home</code></li><li id="f1b8" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv nq nr ns nt bi translated">创建我们的路由常量并将组件绑定到它</li><li id="6921" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv nq nr ns nt bi translated">创建我们的<code class="fe nf ng nh mw b">router</code>并将<code class="fe nf ng nh mw b">history</code>和<code class="fe nf ng nh mw b">routes</code>绑定到它</li><li id="eac2" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv nq nr ns nt bi translated">导出路由器</li></ul><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="5211" class="na lp iq mw b be nb nc l nd ne">import {createRouter, createWebHistory } from "vue-router";<br/>import Home from "../../views/home/Index.vue";<br/><br/>const routes = [<br/>    {<br/>        path: "/",<br/>        name: "home",<br/>        component: Home,<br/>    },<br/>];<br/><br/>const router = createRouter({<br/>    history: createWebHistory(import.meta.env.BASE_URL),<br/>    routes,<br/>});<br/><br/>export default router;</span></pre><h1 id="1570" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">资源/js/app.js</h1><p id="cbab" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">导出的<code class="fe nf ng nh mw b">router</code>现在需要导入。它需要导入到我们的<code class="fe nf ng nh mw b">app.js</code>文件中。一旦进口，我们需要<code class="fe nf ng nh mw b">use</code>它。在我们<code class="fe nf ng nh mw b">mount</code>我们的 app 之前添加<code class="fe nf ng nh mw b">use(router)</code>功能。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="d4b1" class="na lp iq mw b be nb nc l nd ne">import { createApp } from "vue";<br/>import App from "./App.vue";<br/>import router from "./router/index";<br/><br/>createApp(App)<br/>    .use(router)<br/>    .mount("#app");</span></pre><h1 id="69e1" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">修改 resources/js/App.vue</h1><p id="b6ea" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">最后，我们需要修改<code class="fe nf ng nh mw b">App.vue</code>文件，使其包含路由器文件返回的内容。我们将把<code class="fe nf ng nh mw b">&lt;router-view /&gt;</code>添加到我们的模板中。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="e86e" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;router-view /&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/><br/>export default {<br/>    name: 'App',<br/>    components: {},<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/><br/>&lt;/style&gt;</span></pre><p id="5b28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们开始使用数据表之前，请确保它能够工作。回到容器中运行<code class="fe nf ng nh mw b">npm run dev</code>。如果您还没有配置您的<code class="fe nf ng nh mw b">hosts</code>文件，您可能会访问<code class="fe nf ng nh mw b">http://0.0.0.0</code>来查看它的运行。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/4af22ddc6b4e878bac44ded1a927713b.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*x9FulMZQHLeao--fAKFrFg.png"/></div></figure><h1 id="aa06" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">数据表准备</h1><p id="5984" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我们将显示的数据来自 users 表。为什么是用户的表？因为它已经存在，我们可以快速运行播种机播种。</p><p id="8e4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开您的<code class="fe nf ng nh mw b">database/seeders/DatabaseSeeder.php</code>文件，取消对<code class="fe nf ng nh mw b">User</code>工厂代码的注释。把<code class="fe nf ng nh mw b">10</code>换成<code class="fe nf ng nh mw b">100</code>，这样我们就有更多的玩法了。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="d2c6" class="na lp iq mw b be nb nc l nd ne">&lt;?php<br/><br/>namespace Database\Seeders;<br/><br/>// use Illuminate\Database\Console\Seeds\WithoutModelEvents;<br/>use Illuminate\Database\Seeder;<br/><br/>class DatabaseSeeder extends Seeder<br/>{<br/>    /**<br/>     * Seed the application's database.<br/>     *<br/>     * @return void<br/>     */<br/>    public function run()<br/>    {<br/>         \App\Models\User::factory(100)-&gt;create();<br/><br/>        // \App\Models\User::factory()-&gt;create([<br/>        //     'name' =&gt; 'Test User',<br/>        //     'email' =&gt; 'test@example.com',<br/>        // ]);<br/>    }<br/>}</span></pre><p id="5be2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，回到 Docker 容器并停止应用程序的运行，如果你还没有使用<code class="fe nf ng nh mw b">CTRL+C</code>。运行您的迁移并播种表格:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="8de9" class="na lp iq mw b be nb nc l nd ne">php artisan migrate --seed</span></pre><pre class="oa mv mw mx bn my mz bi"><span id="0eb7" class="na lp iq mw b be nb nc l nd ne"># php artisan migrate --seed<br/><br/>   INFO  Preparing database.  <br/><br/>  Creating migration table ............................................................. 26ms DONE<br/><br/>   INFO  Running migrations.  <br/><br/>  2014_10_12_000000_create_users_table ................................................. 43ms DONE<br/>  2014_10_12_100000_create_password_resets_table ....................................... 24ms DONE<br/>  2019_08_19_000000_create_failed_jobs_table ........................................... 26ms DONE<br/>  2019_12_14_000001_create_personal_access_tokens_table ................................ 36ms DONE<br/><br/>   INFO  Seeding database.  </span></pre><p id="008e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦完成，就该转到数据表了。</p><h1 id="926a" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">Vue3 的数据表</h1><p id="4847" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">请访问官方文档以获得更多项目的完整说明。我们要从这里提取最重要的信息。</p><p id="feb4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，安装软件包。打开 Docker 容器并运行:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="3c59" class="na lp iq mw b be nb nc l nd ne">npm install --save datatables.net-vue3</span></pre><p id="c4b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装到此为止。我们现在需要开始使用它。为了尽可能真实，我将为我们的主页创建一个 DataTable 组件。我们可以在主页 vue 文件中完成所有这些工作，但是我们将创建一个 DataTable 组件并将其导入主页。</p><h1 id="6341" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">数据表组件</h1><p id="dfb8" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我将在<code class="fe nf ng nh mw b">resources/js</code>下创建一个名为<code class="fe nf ng nh mw b">components</code>的新目录，并将我的所有组件放在那里。因为这是专门针对主页的，所以我将在 components 下创建一个子目录<code class="fe nf ng nh mw b">home</code>并将<code class="fe nf ng nh mw b">DataTableComponent.vue</code>文件放在那里。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/9359668fb3feeccf1e39d4101853d8e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SkhN3xdSgSklmra_h-6ZeQ.png"/></div></div></figure><p id="b894" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该文件将以与我们所有其他 Vue 文件相同的框架开始:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="9ece" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;!-- DataTable --&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>    name: 'DataTableComponent',<br/>    components: {},<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/><br/>&lt;/style&gt;</span></pre><p id="0a8a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们现在只需要将它导入到我们位于<code class="fe nf ng nh mw b">resources/views/home/Index.vue</code>的 Home vue 中。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="d50b" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;h1&gt;Home Page with DataTable&lt;/h1&gt;<br/>    &lt;DataTable /&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import DataTableComponent from "../../js/components/home/DataTableComponent.vue";<br/><br/>export default {<br/>    name: 'Home',<br/>    components: {DataTableComponent},<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/><br/>&lt;/style&gt;</span></pre><h1 id="4f5a" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">resources/js/components/home/datatable component . vue</h1><p id="e9ca" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">是时候开始构建我们的<code class="fe nf ng nh mw b">DataTable</code>组件了。Vue 指令声明我们应该将以下内容添加到我们的<code class="fe nf ng nh mw b">script</code>标签中。我们需要将<code class="fe nf ng nh mw b">DataTable</code>注册为我们的组件之一，这样我们就可以开始使用它了。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="510f" class="na lp iq mw b be nb nc l nd ne">import DataTable from 'datatables.net-vue3'<br/>import DataTablesLib from 'datatables.net';<br/> <br/>DataTable.use(DataTablesLib);</span></pre><pre class="oa mv mw mx bn my mz bi"><span id="5ad4" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;!-- DataTable --&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import DataTable from 'datatables.net-vue3'<br/>import DataTablesLib from 'datatables.net';<br/><br/>DataTable.use(DataTablesLib);<br/><br/>export default {<br/>    name: 'DataTableComponent',<br/>    components: {DataTable},<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/><br/>&lt;/style&gt;</span></pre><p id="bdac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们确保它有效。将下表添加到您的<code class="fe nf ng nh mw b">template</code>标签中。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="7cdd" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;DataTable class="display"&gt;<br/>        &lt;thead&gt;<br/>            &lt;tr&gt;<br/>                &lt;th&gt;First&lt;/th&gt;<br/>                &lt;th&gt;Second&lt;/th&gt;<br/>            &lt;/tr&gt;<br/>        &lt;/thead&gt;<br/>        &lt;tbody&gt;<br/>            &lt;tr&gt;<br/>                &lt;td&gt;Test 1&lt;/td&gt;<br/>                &lt;td&gt;Test 2&lt;/td&gt;<br/>            &lt;/tr&gt;<br/>            &lt;tr&gt;<br/>                &lt;td&gt;Test 3&lt;/td&gt;<br/>                &lt;td&gt;Test 4&lt;/td&gt;<br/>            &lt;/tr&gt;<br/>            &lt;tr&gt;<br/>                &lt;td&gt;Test 5&lt;/td&gt;<br/>                &lt;td&gt;Test 6&lt;/td&gt;<br/>            &lt;/tr&gt;<br/>        &lt;/tbody&gt;<br/>    &lt;/DataTable&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import DataTable from 'datatables.net-vue3'<br/>import DataTablesLib from 'datatables.net';<br/><br/>DataTable.use(DataTablesLib);<br/><br/>export default {<br/>    name: 'DataTableComponent',<br/>    components: {DataTable},<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/><br/>&lt;/style&gt;</span></pre><p id="712f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在 Docker 容器中键入<code class="fe nf ng nh mw b">npm run dev</code>命令，并确保它能够工作。您应该会看到无样式的数据表。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/5c9196068e0e67c7d3d306609b69e82c.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*67ygfR4dfas7xxO0Bp4Qpg.png"/></div></figure><h1 id="1b5b" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">添加数据表样式</h1><p id="bbeb" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">根据官方文档，对数据表进行样式化需要两行代码。首先，在 Docker 容器中运行以下命令:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="8961" class="na lp iq mw b be nb nc l nd ne">npm install --save datatables.net-dt</span></pre><p id="ed8c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，将导入添加到您的<code class="fe nf ng nh mw b">DataTablesComponent</code> <code class="fe nf ng nh mw b">style</code>标签中。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="ad88" class="na lp iq mw b be nb nc l nd ne">&lt;style&gt;<br/>@import 'datatables.net-dt';<br/>&lt;/style&gt;</span></pre><p id="ed61" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过再次从 Docker 容器运行<code class="fe nf ng nh mw b">npm run dev</code>并访问主页，确保它能够正常工作。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/f2c05323666b38db1b61dadc7d9aecf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-67RhtvARCZxl2TN50XIg.png"/></div></div></figure><h1 id="8f18" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">服务器端</h1><p id="1222" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">这很好，但是我们希望能够从服务器端检索数据。这有很大的依赖性，使得从我们的<code class="fe nf ng nh mw b">API</code>返回数据表的数据变得极其简单。</p><div class="kw kx gp gr ky kz"><a href="https://github.com/yajra/laravel-datatables" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">GitHub-yajra/Laravel-DataTables:用于 Laravel 4|5|6|7|8|9 的 jQuery DataTables API</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">Laravel 包，通过 AJAX 选项使用雄辩的 ORM 处理数据表 jQuery 插件的服务器端工作…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">github.com</p></div></div><div class="li l"><div class="oe l lk ll lm li ln jw kz"/></div></div></a></div><p id="ddf2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要安装它，请从 Docker 容器中运行以下命令:</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="d4f4" class="na lp iq mw b be nb nc l nd ne">composer require yajra/laravel-datatables-oracle:"^10.0"</span></pre><p id="e60d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这位于文档中。确保再次运行您的开发环境:<code class="fe nf ng nh mw b">npm run dev</code>。</p><h1 id="6745" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">routes/api.php</h1><p id="35e7" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">是时候将我们的路线添加到<code class="fe nf ng nh mw b">api.php</code>文件中了。既然已经安装了<code class="fe nf ng nh mw b">datatables</code>全局函数，我们将使用它。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="91aa" class="na lp iq mw b be nb nc l nd ne">&lt;?php<br/><br/>use Illuminate\Http\Request;<br/>use Illuminate\Support\Facades\Route;<br/><br/>/*<br/>|--------------------------------------------------------------------------<br/>| API Routes<br/>|--------------------------------------------------------------------------<br/>|<br/>| Here is where you can register API routes for your application. These<br/>| routes are loaded by the RouteServiceProvider within a group which<br/>| is assigned the "api" middleware group. Enjoy building your API!<br/>|<br/>*/<br/><br/>// ...<br/><br/>Route::get('/users', function() {<br/>    $users = \App\Models\User::select('id', 'name', 'email');<br/><br/>    return datatables($users)-&gt;make(true);<br/>});</span></pre><p id="aaa5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们生成想要传递给<code class="fe nf ng nh mw b">datatables</code>的查询后，我们将把它作为一个参数传递。确保你不是真的在自己检索内容；换句话说，不要在你的语句末尾加上<code class="fe nf ng nh mw b">-&gt;get()</code>。</p><h1 id="124a" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">检索 resources/js/components/home/datatable component . vue 中的数据</h1><p id="f5c0" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我们终于成功了。是时候进行修改并查看来自<code class="fe nf ng nh mw b">users</code>表的数据了。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="c268" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;div class="p-6"&gt;<br/>        &lt;DataTable<br/>            class="display"<br/>            :columns="columns"<br/>            ajax="api/users"<br/>            ref="table"<br/>            :options="{<br/>              select: true,<br/>              serverSide: true,<br/>        }"<br/>        &gt;<br/>            &lt;thead&gt;<br/>            &lt;tr&gt;<br/>                &lt;th&gt;ID&lt;/th&gt;<br/>                &lt;th&gt;Name&lt;/th&gt;<br/>                &lt;th&gt;Email&lt;/th&gt;<br/>            &lt;/tr&gt;<br/>            &lt;/thead&gt;<br/>            &lt;tbody&gt;<br/>            &lt;/tbody&gt;<br/>        &lt;/DataTable&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="08c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们浏览一下<code class="fe nf ng nh mw b">DataTable</code>组件的重要方面。</p><ul class=""><li id="bd89" class="nl nm iq ka b kb kc kf kg kj nn kn no kr np kv nq nr ns nt bi translated">我们将<code class="fe nf ng nh mw b">:columns</code>绑定到我们的<code class="fe nf ng nh mw b">data()</code>，我们还没有定义它，但是我们会的。</li><li id="8015" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv nq nr ns nt bi translated">我们使用<code class="fe nf ng nh mw b">ajax</code>属性来点击我们的<code class="fe nf ng nh mw b">api/users</code>路线。这将从我们的 api 中检索数据。</li><li id="ae4c" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv nq nr ns nt bi translated">在<code class="fe nf ng nh mw b">:options</code>中，我们添加了<code class="fe nf ng nh mw b">serverSide</code>属性，并将其设置为<code class="fe nf ng nh mw b">true</code>。这将允许我们在服务器端处理请求。</li></ul><p id="2747" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要将<code class="fe nf ng nh mw b">data()</code>方法添加到脚本中。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="0d2f" class="na lp iq mw b be nb nc l nd ne">export default {<br/>    name: 'DataTableComponent',<br/>    components: {DataTable},<br/>    data(){<br/>        return {<br/>            columns: [<br/>                {"data": "id"},<br/>                {"data": "name"},<br/>                {"data": "email"},<br/>            ],<br/>        }<br/>    },<br/>}</span></pre><p id="65ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在那里添加<code class="fe nf ng nh mw b">columns</code>的原因是为了给数据表添加额外的特性。例如，如果我们不希望名称是<code class="fe nf ng nh mw b">sortable</code>，我们可以添加一个<code class="fe nf ng nh mw b">sortable</code>属性并将其设置为<code class="fe nf ng nh mw b">false</code>。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="8ccf" class="na lp iq mw b be nb nc l nd ne">export default {<br/>    name: 'DataTableComponent',<br/>    components: {DataTable},<br/>    data(){<br/>        return {<br/>            columns: [<br/>                {"data": "id"},<br/>                {"data": "name", "sortable": false},<br/>                {"data": "email"},<br/>            ],<br/>        }<br/>    },<br/>}</span></pre><p id="6e95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你的<code class="fe nf ng nh mw b">DataTableComponent</code>文件应该是这样的。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="b61e" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;div class="p-6"&gt;<br/>        &lt;DataTable<br/>            class="display"<br/>            :columns="columns"<br/>            ajax="api/users"<br/>            ref="table"<br/>            :options="{<br/>                select: true,<br/>                serverSide: true,<br/>            }"<br/>        &gt;<br/>            &lt;thead&gt;<br/>            &lt;tr&gt;<br/>                &lt;th&gt;ID&lt;/th&gt;<br/>                &lt;th&gt;Name&lt;/th&gt;<br/>                &lt;th&gt;Email&lt;/th&gt;<br/>            &lt;/tr&gt;<br/>            &lt;/thead&gt;<br/>            &lt;tbody&gt;<br/>            &lt;/tbody&gt;<br/>        &lt;/DataTable&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import DataTable from 'datatables.net-vue3'<br/>import DataTablesLib from 'datatables.net';<br/><br/>DataTable.use(DataTablesLib);<br/><br/>export default {<br/>    name: 'DataTableComponent',<br/>    components: {DataTable},<br/>    data(){<br/>        return {<br/>            columns: [<br/>                {"data": "id"},<br/>                {"data": "name", "sortable": false},<br/>                {"data": "email"},<br/>            ],<br/>        }<br/>    },<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/>@import 'datatables.net-dt';<br/>&lt;/style&gt;</span></pre><p id="ff8a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大考时间到了。如果 Docker 容器中还没有运行<code class="fe nf ng nh mw b">npm run dev</code>，请输入并访问主页。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/564757f047ccc1bb8f37aa69f5df3c84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T5-wC4Etof-JQsyDfU_HQQ.png"/></div></div></figure><p id="14e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不骗你，我开始有点紧张它是否会起作用。</p><h1 id="8148" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">向表格中添加按钮</h1><p id="9d03" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">打开您的<code class="fe nf ng nh mw b">resources/js/components/home/DataTableComponent.vue</code>文件。让我们在表和脚本中添加一个新列。我将把它命名为<code class="fe nf ng nh mw b">Action</code>，并将<code class="fe nf ng nh mw b">{ “data”: “action” }</code>对象添加到我们的<code class="fe nf ng nh mw b">columns</code>属性中。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="9c38" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;div class="p-6"&gt;<br/>        &lt;DataTable<br/>            class="display"<br/>            :columns="columns"<br/>            ajax="api/users"<br/>            ref="table"<br/>            :options="{<br/>                select: true,<br/>                serverSide: true,<br/>            }"<br/>        &gt;<br/>            &lt;thead&gt;<br/>            &lt;tr&gt;<br/>                &lt;th&gt;ID&lt;/th&gt;<br/>                &lt;th&gt;Name&lt;/th&gt;<br/>                &lt;th&gt;Email&lt;/th&gt;<br/>                &lt;th&gt;Action&lt;/th&gt;<br/>            &lt;/tr&gt;<br/>            &lt;/thead&gt;<br/>            &lt;tbody&gt;<br/>            &lt;/tbody&gt;<br/>        &lt;/DataTable&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import DataTable from 'datatables.net-vue3'<br/>import DataTablesLib from 'datatables.net';<br/><br/>DataTable.use(DataTablesLib);<br/><br/>export default {<br/>    name: 'DataTableComponent',<br/>    components: {DataTable},<br/>    data(){<br/>        return {<br/>            columns: [<br/>                {"data": "id"},<br/>                {"data": "name"},<br/>                {"data": "email"},<br/>                {"data": "action", "sortable": false},<br/>            ],<br/>        }<br/>    },<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/>@import 'datatables.net-dt';<br/>&lt;/style&gt;</span></pre><p id="7599" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来我们需要修改 API 路由来返回一个列。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="97d3" class="na lp iq mw b be nb nc l nd ne">Route::get('/users', function() {<br/>    $users = \App\Models\User::select('id', 'name', 'email');<br/><br/>    return datatables($users)<br/>        -&gt;addColumn('action', function($row) {<br/>            return '&lt;a href="/users/' . $row['id'] . '/edit"&gt;Edit&lt;/a&gt;';<br/>        })<br/>        -&gt;rawColumns(['action'])<br/>        -&gt;make(true);<br/>});</span></pre><p id="9da1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">刷新您的页面，您应该会看到类似这样的内容:</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/13c59ac0adaa66571715491a37fb31e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6BGk5GlnWpNIrQt92G57gA.png"/></div></div></figure><h1 id="4666" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">关系呢？</h1><p id="1593" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">假设您的用户模型与其他模型有一个<code class="fe nf ng nh mw b">belongsTo</code>关系，比如一个<code class="fe nf ng nh mw b">Profile</code>。我们可以想象<code class="fe nf ng nh mw b">Profile</code>模型有一个与之相关联的<code class="fe nf ng nh mw b">image</code>。<code class="fe nf ng nh mw b">User</code>模型将具有带有关系的<code class="fe nf ng nh mw b">profile</code>方法。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="a4bf" class="na lp iq mw b be nb nc l nd ne">&lt;?php<br/><br/>namespace App\Models;<br/><br/>// use Illuminate\Contracts\Auth\MustVerifyEmail;<br/>use Illuminate\Database\Eloquent\Factories\HasFactory;<br/>use Illuminate\Foundation\Auth\User as Authenticatable;<br/>use Illuminate\Notifications\Notifiable;<br/>use Laravel\Sanctum\HasApiTokens;<br/><br/>class User extends Authenticatable<br/>{<br/>    use HasApiTokens, HasFactory, Notifiable;<br/><br/>    // ...<br/><br/>    public function profile() {<br/>        return $this-&gt;belongsTo(Profile::class);<br/>    }<br/>}</span></pre><p id="44c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们通过侧写，我们会在另一边收到一个对象。换句话说，我们不能简单的用<code class="fe nf ng nh mw b">with</code>。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="5c98" class="na lp iq mw b be nb nc l nd ne">Route::get('/users', function() {<br/>    $users = \App\Models\User::with(['profile'])-&gt;select('id', 'name', 'email');<br/><br/>    return datatables($users)<br/>        -&gt;addColumn('action', function($row) {<br/>            return '&lt;a href="/users/' . $row['id'] . '/edit"&gt;Edit&lt;/a&gt;';<br/>        })<br/>        -&gt;rawColumns(['action'])<br/>        -&gt;make(true);<br/>});</span></pre><p id="e88f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们必须创建一个新的列。我将调用它<code class="fe nf ng nh mw b">profile-image</code>来获得<code class="fe nf ng nh mw b">Profile</code>图像。它将从<code class="fe nf ng nh mw b">profile</code>关系中返回<code class="fe nf ng nh mw b">image</code>。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="7198" class="na lp iq mw b be nb nc l nd ne">Route::get('/users', function() {<br/>    $users = \App\Models\User::select('id', 'name', 'email');<br/><br/>    return datatables($users)<br/>        -&gt;addColumn('action', function($row) {<br/>            return '&lt;a href="/users/' . $row['id'] . '/edit"&gt;Edit&lt;/a&gt;';<br/>        })<br/>        -&gt;addColumn('profile-image', function($row) {<br/>            return $row-&gt;profile-&gt;image;<br/>        })<br/>        -&gt;rawColumns(['action', 'profile-image'])<br/>        -&gt;make(true);<br/>});</span></pre><p id="b953" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要调整我们的<code class="fe nf ng nh mw b">DataTableComponent.vue</code>,通过将它添加到我们的表和我们的<code class="fe nf ng nh mw b">columns</code>属性中来查看它。</p><pre class="mr ms mt mu gt mv mw mx bn my mz bi"><span id="dc32" class="na lp iq mw b be nb nc l nd ne">&lt;template&gt;<br/>    &lt;div class="p-6"&gt;<br/>        &lt;DataTable<br/>            class="display"<br/>            :columns="columns"<br/>            ajax="api/users"<br/>            ref="table"<br/>            :options="{<br/>                select: true,<br/>                serverSide: true,<br/>            }"<br/>        &gt;<br/>            &lt;thead&gt;<br/>            &lt;tr&gt;<br/>                &lt;th&gt;ID&lt;/th&gt;<br/>                &lt;th&gt;Name&lt;/th&gt;<br/>                &lt;th&gt;Email&lt;/th&gt;<br/>                &lt;th&gt;Profile Image&lt;/th&gt;<br/>                &lt;th&gt;Action&lt;/th&gt;<br/>            &lt;/tr&gt;<br/>            &lt;/thead&gt;<br/>            &lt;tbody&gt;<br/>            &lt;/tbody&gt;<br/>        &lt;/DataTable&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import DataTable from 'datatables.net-vue3'<br/>import DataTablesLib from 'datatables.net';<br/><br/>DataTable.use(DataTablesLib);<br/><br/>export default {<br/>    name: 'DataTableComponent',<br/>    components: {DataTable},<br/>    data(){<br/>        return {<br/>            columns: [<br/>                {"data": "id"},<br/>                {"data": "name"},<br/>                {"data": "email"},<br/>                {"data": "profile-image", "sortable": false},<br/>                {"data": "action", "sortable": false},<br/>            ],<br/>        }<br/>    },<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/>@import 'datatables.net-dt';<br/>&lt;/style&gt;</span></pre><p id="faf7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，您将能够看到指向您的个人资料图像的链接…如果您有这种类型的关系设置。</p><p id="6200" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就是这样。下次见。我必须继续写我的 Laravel 系列:我们刚刚进入刀片模板引擎。</p><p id="ad2b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想要上面提到的代码，那就给你。</p><div class="kw kx gp gr ky kz"><a href="https://github.com/dinocajic/laravel-vue-datatables" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">GitHub-dinocajic/laravel-vue-数据表</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">Laravel 是一个 web 应用程序框架，具有丰富、优雅的语法。我们相信发展必须是令人愉快的…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">github.com</p></div></div><div class="li l"><div class="og l lk ll lm li ln jw kz"/></div></div></a></div></div><div class="ab cl oh oi hu oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="ij ik il im in"><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/f7a6738db240e0357993b4f588007fc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PFFqJPRpLlvFzHRe.jpeg"/></div></figure><p id="0fd1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dino Cajic 目前是<a class="ae op" href="http://absolutebiotech.com/" rel="noopener ugc nofollow" target="_blank"> Absolute Biotech </a>的 IT 负责人，该公司是<a class="ae op" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(寿命生物科学公司)</a>、<a class="ae op" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank"> Absolute 抗体</a>、<a class="ae op" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae op" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank"> Everest BioTech </a>、<a class="ae op" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank"> Nordic MUbio </a>和<a class="ae op" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的母公司。他还担任我的自动系统的首席执行官。他拥有计算机科学学士学位，辅修生物学，并拥有十多年的软件工程经验。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="461a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae op" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae op" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae op" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="beb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">阅读 Dino Cajic(以及 Medium 上成千上万的其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。T25】</p></div></div>    
</body>
</html>