<html>
<head>
<title>Deploy GatsbyJS on Production With PM2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与PM2一起在生产中部署盖茨比</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/deploy-gatsbyjs-on-production-with-pm2-ed7bbc05ec78?source=collection_archive---------9-----------------------#2020-06-21">https://blog.devgenius.io/deploy-gatsbyjs-on-production-with-pm2-ed7bbc05ec78?source=collection_archive---------9-----------------------#2020-06-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/d84b9520754810b046dc0f48e65de864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*aUra4NZQ-F69Y61s3ed9LA.png"/></div></figure><p id="77fd" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">也许我们很多人都知道，gatbyjs是一个基于react的前端免费开源框架，由graphql、Progressif Web Apps (PWA)和static site generator提供支持。Gatsbyjs将把你的网站建成“静态”文件，并使你的应用程序速度惊人，搜索引擎友好，更加安全。</p><p id="5b28" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">盖茨比建立在react的基础上，当你熟悉React的时候你会喜欢的。Gatsbyjs有许多插件，如配置简单搜索引擎优化(SEO)和Progressif Web Apps (PWA)。Gatsbyjs可以使用markdown文件在您的站点中创建静态页面。但是我会在另一篇文章中写得更详细。</p><p id="0ae4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在，我只想分享我的经验，如何部署我的应用到生产与先进的生产过程管理器名称PM2。<strong class="jt io"> PM2 </strong>是一个守护进程管理器，它将帮助你管理并保持你的应用程序在线。默认情况下，Gatsbyjs有一个命令用于生产，那么为什么要使用PM2来部署生产模式呢？</p><p id="0401" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">PM2有许多丰富的功能来帮助你管理和监控你的应用程序的进程。</p><ol class=""><li id="c6ba" class="kp kq in jt b ju jv jy jz kc kr kg ks kk kt ko ku kv kw kx bi translated">轻松管理程序的每个节点。</li><li id="1213" class="kp kq in jt b ju ky jy kz kc la kg lb kk lc ko ku kv kw kx bi translated">可以检查流程状态。</li><li id="b53b" class="kp kq in jt b ju ky jy kz kc la kg lb kk lc ko ku kv kw kx bi translated">可以显示您的日志。</li><li id="2e24" class="kp kq in jt b ju ky jy kz kc la kg lb kk lc ko ku kv kw kx bi translated">支持集群节点进程。</li><li id="dff8" class="kp kq in jt b ju ky jy kz kc la kg lb kk lc ko ku kv kw kx bi translated">监测和诊断网络界面调用PM2加，但一些功能需要升级帐户。</li><li id="d5cb" class="kp kq in jt b ju ky jy kz kc la kg lb kk lc ko ku kv kw kx bi translated">还有更多，你可以在官方文件上查看<a class="ae ld" href="https://pm2.keymetrics.io/docs/usage/pm2-doc-single-page/" rel="noopener ugc nofollow" target="_blank">这里</a></li></ol><h2 id="c469" class="le lf in bd lg lh li dn lj lk ll dp lm kc ln lo lp kg lq lr ls kk lt lu lv lw bi translated">我们开始吧</h2><p id="0938" class="pw-post-body-paragraph jr js in jt b ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk mb km kn ko ig bi translated">首先，在您的机器上全局安装gatsby CLI</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="8b44" class="le lf in mh b gy ml mm l mn mo">npm install -g gatsby-cli</span></pre><p id="6039" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">使用如下命令创建您的新应用程序</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="7e20" class="le lf in mh b gy ml mm l mn mo">gatsby new myapps</span></pre><p id="6b66" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">转到生成的文件夹myapps内部</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="2727" class="le lf in mh b gy ml mm l mn mo">cd myapps</span></pre><p id="01c8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">测试您的应用程序是否正常工作</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="3a19" class="le lf in mh b gy ml mm l mn mo">gatsby develop -p 8080</span></pre><p id="d2f0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后在你的浏览器上检查你的应用程序是否正常工作，转到网址“http://your_host:8080”。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/417dca3694b0ee0343b5804ed716101d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LN-dEEBHRj0VHpqM0VdW0Q.png"/></div></figure><p id="20da" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在假设我们已经设置好了盖茨比并开始工作了</p><p id="5a9e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在您的计算机上全局安装PM2 CLI</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="a58c" class="le lf in mh b gy ml mm l mn mo">npm install pm2 -g</span></pre><p id="e5ca" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在，使用PM2部署您的应用</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="a8eb" class="le lf in mh b gy ml mm l mn mo">pm2 start gatsby --name &lt;your_name&gt; -- serve -p &lt;your port&gt;</span></pre><p id="7da8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">使用以下命令检查您的应用程序并显示列表节点</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="dda1" class="le lf in mh b gy ml mm l mn mo">pm2 list</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mq"><img src="../Images/6df28e9afc0964447288039c602d240a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i-_R4JcF2LvbZ0X4bVdKeA.png"/></div></div></figure><p id="3225" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">为了显示你的应用程序日志，我通常会检查我们的代码是否有错误，即使已经在生产中。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="d988" class="le lf in mh b gy ml mm l mn mo">pm2 logs</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mv"><img src="../Images/f92716b224efbb438f4020c18cdbc73c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WMQ8IDP1uF7drSquAGzudA.png"/></div></div></figure><p id="79ce" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">使用此命令监控基于终端的日志、自定义指标和应用程序信息。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="63e7" class="le lf in mh b gy ml mm l mn mo">pm2 monit</span></pre><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mv"><img src="../Images/62e57485f3eb7435bc760c9ce310f42a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1weSB0MDEFD8krFMS1lbw.png"/></div></div></figure><p id="568a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">只需在web上添加key metrix<a class="ae ld" href="http://app.pm2.io" rel="noopener ugc nofollow" target="_blank">http://app . PM2 . io</a>即可监控您的应用</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mw"><img src="../Images/e409bfa626cea96a73db8771f6ebe4be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3SpY6pG6KeZpnXBNUw4lVg.png"/></div></div></figure><h1 id="e500" class="mx lf in bd lg my mz na lj nb nc nd lm ne nf ng lp nh ni nj ls nk nl nm lv nn bi translated">结论</h1><p id="e334" class="pw-post-body-paragraph jr js in jt b ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk mb km kn ko ig bi translated">PM2是守护进程是我最推荐的部署你的gatsbyjs和更多基于nodejs的应用程序，因为PM2有这么多的功能，可以帮助你使你的应用程序跟上，更具生产力，易于设置和监控。</p><p id="12bc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">希望这篇教程能对你有用，感谢你的阅读。鼓掌支持我们；-).再见。</p></div></div>    
</body>
</html>