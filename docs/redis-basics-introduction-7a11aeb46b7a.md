# Redis 基础|简介

> 原文：<https://blog.devgenius.io/redis-basics-introduction-7a11aeb46b7a?source=collection_archive---------8----------------------->

![](img/5b3f310859c71894ef1523de58fb47d8.png)

👨🏻‍💻在这篇基础文章中，我们将处理基本的 Redis 命令并更加熟悉它们！

## 那么 Redis 是什么？

Redis 是一个使用 NoSQL 的高级键值数据存储。由于其健壮的数据类型，包括字符串、哈希、列表、集合、排序集、位图和超级日志，它也被称为“数据结构服务器”。

Redis 默认将其所有数据**存储在内存**中，使得读写操作非常快。因此，数据也可能留在磁盘上。Redis 允许创建正在保存的数据的二进制快照，或者包含一段时间以来运行的所有命令序列的可读文件。这些分别被称为日志和快照。

# 运行 CLI！

*redis-server* 是实际的 **Redis 数据存储**。它可以在*独立*模式或*集群*模式下启动。

*redis-cli* 是一个**命令行接口**，可以执行任何 redis 命令(它是一个 Redis 客户端)。

默认情况下，Redis 绑定到端口 *6379* ，以独立模式运行，并且可以通过该行启动)

![](img/757a1a5c967eabce038f32fcaa6ec47d.png)

现在，让我们启动美丽的 redis-cli，开始学习吧！

![](img/defd20024c016dc0463444a30da688de.png)

# 基础知识:

让我们先创建一个密钥！

我们使用 *SET* 命令创建一个带有字符串值的键，然后使用 GET 命令读取键值

![](img/4c0c64b7e17c104611e8a69e40b275b4.png)

我们可以通过使用以下方法获得键值:

![](img/f4c4464f46f4e924957eb932149f1218.png)

> 太好了。

![](img/1168a90361df07a674c3b18a898833f6.png)

精彩的 gif

您可以使用 HELP 命令来查看命令的作用。

![](img/0aa606129aea039f22674993b2b5fada.png)

**HELP** 命令对于了解命令语法非常有用。它显示命令参数以及摘要和示例。

KEYS 命令也很有用，因为它返回所有存储的匹配某个模式的键(这是一个 glob 样式的模式，类似于 Unix shell glob 模式)

![](img/4f96c6dc91d42fbb56e4fbfb20a7334f.png)

## 获取键的数据类型

![](img/1da5548dfbf5cc7cf03a916e399e3a51.png)

## 删除密钥

![](img/2539bd7cd23fa7d46c4651fe2858dd2f.png)

## 一把钥匙存在吗

![](img/a78ebc5d8304829ea465645e38090c76.png)

## 在 UNIX 纪元中设置过期时间

![](img/0c39b70e65aeb4c5ed9624945debe62e.png)

## 在毫秒数内使密钥过期

![](img/a97cf7875c0da94f3425263e89b9d1b1.png)

## 检查过期密钥的生存时间

![](img/ec43204216caad7badc3bd1a8991a2f7.png)

## 删除密钥的过期时间

![](img/3223619c736edf01dfc0d23f1dee63f7.png)

## 命名一个键

![](img/f815e6ff310d1ca09a5bbbf263967c41.png)

## 如果新的密钥不存在，请重命名密钥

![](img/865c1e72705832e1c71a639198576606.png)

edis 的字符串数据类型是最灵活的，因为它们可以用于各种各样的任务和命令。根据其值和使用的命令，字符串可以作为整数、浮点、文本字符串或位图。它可以存储任何类型的数据，包括二进制数据、浮点数、整数和文本(包括 XML、JSON 和原始文本)(视频、图像或音频文件)。

字符串值**不能超过 512 MB 的文本或二进制数据**。以下是字符串的一些使用案例:

*   缓存机制:文本或二进制数据，比如 HTML 页面、API 答案、照片和视频，可以缓存在 Redis 中。通过使用命令集、GET、MSET 和 MGET，可以建立一个基本的缓存系统。
*   具有自动密钥过期的缓存:使用命令 SETEX、EXPIRE 和 EXPIREAT，字符串可以与自动密钥过期配对，以创建可靠的缓存系统。当数据库查询可以缓存一段预定的时间并需要很长时间来执行时，这非常有用。因此，这可以防止这些查询过于频繁地运行，并可以提高应用程序的速度。
*   计数:命令 INCR 和 INCRBY 和字符串使创建计数器变得简单。计数器的好例子是页面浏览量、视频浏览量和喜欢。字符串还提供其他计数命令，如 DECR、DECRBY 和 INCRFLOATBY。

## 附加

![](img/cfb83eb6e1df4928c9ddb26a97e7e667.png)

## 增加 1

![](img/5df9c05873a664722d40c79e55cd09b7.png)

## 任意递增

![](img/9df678ca3565bc405644f582d8d4d52d.png)

## 递减 1

![](img/e8cad0d0c5ee7e03ed474157d16ac68f.png)

## 获取字符串长度

![](img/e1b86c05727cb5e4ccc97665249d5fed.png)

## 设置多个值

![](img/2aba9e6069fb0428041e64f3e3b8e8a1.png)

## 如果键不存在，则设置多个值(nx)

![](img/1aa54224d35a7be6f1d95deddb3997d7.png)

由于列表能够表现为简单的集合、堆栈或队列，所以在 Redis 中，列表是一种特别灵活的数据类型。因为 Redis 列表的操作保证了在从队列中删除项目时并发系统不会重叠，所以许多事件系统使用列表作为它们的队列。列表中的命令是原子的。Redis 的列表支持阻塞命令，因此如果一个客户在一个空列表中使用阻塞命令，Redis 将等待一个新项目被添加到列表中。

Redis 的列表是链接列表，因此从列表的开头或结尾添加或删除需要 O(1)常量时间。列表的元素可以在 O(N)，线性时间内访问，但是第一个和最后一个元素总是在常数时间内访问。

如果列表的元素少于 list-max-ziplist-entries 的配置，并且每个元素都小于 list-max-ziplist-value 的配置，则可以对列表进行编码和内存优化(以字节为单位)。

一个列表可以容纳的最大元素数量是**232–1**，这意味着每个列表可以有超过 40 亿个元素。列表的一些真实使用案例如下:

*   许多技术，如 Resque、Celery 和 Logstash，都利用了列表。
*   存储最近的用户帖子。

## 创建新列表(或添加到列表中)

![](img/509d79c36cd5cf020808d571cdc98040.png)

## 仅当列表存在时，将项目推送到列表

![](img/b275c1607c3b094694ef975e6635ddad.png)

## 根据索引将列表项设置为不同的值

![](img/f9368cb86baafff8cb001e4f78a307ce.png)

## 根据值将项目插入列表

![](img/b6d50058f323ec878281976d9c61d777.png)

## 获取列表长度

![](img/b533360265b79c61cccd33231c1bfb1b.png)

## 移除第一个或最后一个项目

![](img/a456e00c755f14eb2b96b5ea2ddebc45.png)

## 获取列表索引的值

![](img/b65b7fb7f9d8c1e5075d44a5cf6753e8.png)

## 显示所有列表项目

![](img/e1ef7aac6841db4831261c683d099d92.png)

ash 是存储对象的一个很好的数据结构，因为你可以将字段映射到值。它们被设计用来快速搜索数据和有效利用内存。哈希表中的字段名和值都是字符串。因此，哈希是从字符串到字符串的映射。

哈希具有内存优化的优势。hash-max-ziplist-entries 和 hash-max-ziplist-value 参数是优化的基础。在内部，哈希可以是哈希表或 ziplist。一个叫做 ziplist 的双重链表被做得更节省内存。在 ziplist 中，使用实数而不是字符串来存储整数。ziplist 有内存优化，但是查找不会立即发生。另一方面，哈希表提供了固定时间的查找，但是不节省内存。

## 设置哈希

![](img/3702bb6f890a029de072c9ec7ba9f0e9.png)

## 设置多个哈希

![](img/aaf7b100d463bb58dbe344eab44e0c41.png)

## 获取哈希数据

![](img/cb96e90f2dfc0b4e5d899af5d381d82b.png)

## 获取单个哈希值数据

![](img/04c56a819bb378451eb9bac76e9d82ed.png)

## 获取多个哈希值

![](img/d7c1371b1c97ca11a3ac94ab1b405cfc.png)

## 从哈希中删除成员

![](img/7a870431d7578a12712f9f6cff462293.png)

## 检查哈希是否存在

![](img/4036fe3bd839162b1301d8079fae6e63.png)

## 摘要

在本文中，我们学习了 Redis 及其基本数据类型和命令。

在下一篇文章中，我们将讨论集合、有序集合和超对数

> H️ope，你会发现这篇文章很有趣，很好玩，❤️！