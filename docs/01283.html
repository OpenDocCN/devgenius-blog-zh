<html>
<head>
<title>How to differentiate between SOAP and MQ Inputs in IIB App Connect Enterprise 11</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 IIB App Connect Enterprise 11 中区分 SOAP 和 MQ 输入</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-differentiate-between-soap-and-mq-inputs-in-iib-app-connect-enterprise-11-66edfbf46d6b?source=collection_archive---------10-----------------------#2020-06-29">https://blog.devgenius.io/how-to-differentiate-between-soap-and-mq-inputs-in-iib-app-connect-enterprise-11-66edfbf46d6b?source=collection_archive---------10-----------------------#2020-06-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/10ae2a1df19a4690276c1c1fe8b353eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-oZntZEDREefXo8h4MxCw.png"/></div></div></figure><div class=""/><p id="c5d3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">成为一名软件工程师最大的好处是，在你的职业生涯中，你有机会使用不同的语言、平台和工具。在 IBM 工作，你会经常得到这样的机会。因此，在过去的几个月里，我一直在从事 IBM 集成总线(也称为 IIB)的工作。IBM Integration Bus 允许业务信息在跨多个硬件和软件平台的应用程序之间流动。</p><p id="77d6" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在 IIB 学习工作时，我发现很难获得在线支持，所以我不得不通过有时从同事那里获得帮助来学习，并调试我的实现以弄清楚发生了什么。本教程演示了如何区分 IIB 中不同类型的数据输入，如 MQ、SOAP、REST 或 HTTP。为此，我将只区分</p><h2 id="e8c4" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">步骤 1:创建消息流。</h2><p id="779f" class="pw-post-body-paragraph jv jw iy jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">在本教程的消息流中，我们将使用一个 SOAP 输入节点、一个与用 ESQL 编写的计算机节点连接的 MQ 输入、一个路由器、一个 ReplyToQ 和一个 SOAP 回复节点。完整的演示如下所示。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lr"><img src="../Images/acfaf9c8dc6977d8c73a52068c084880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nyUUH5ljAaXxcsSaixcJsw.png"/></div></div></figure><h2 id="6c76" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">第二步:确保连接</h2><p id="d4b7" class="pw-post-body-paragraph jv jw iy jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">一旦流准备就绪，我们需要将各自的节点连接到它们的数据源和目的地。</p><p id="9a1b" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">步骤 2.1:连接 SOAP 输入节点:</strong></p><p id="b5ad" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">单击 SOAP 输入节点并检查下面的属性。SOAP 输入节点有两个强制属性。在基础部分，选择单选按钮“在网关模式下操作”,因为我们在本教程中不涉及 wsdl。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lw"><img src="../Images/0ebf8d1c32b631c03445d3b842da81a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lG0sdZgusp4ny0DnP5OOxw.png"/></div></div></figure><p id="0062" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">需要设置的另一个强制属性是 soap 输入节点将要监听的路径。在 SOAP 输入节点的属性中，单击 HTTP 传输并指定路径。对于这个例子，我们将使用默认路径，但是您可以使用任何您想要的路径。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lx"><img src="../Images/f7def68cb9a6e825e4dc0ccb3584fbe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pUu1bpAnWOrlXeUn8R4DQA.png"/></div></div></figure><p id="a3b7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">SOAP 应答节点将把响应返回给请求的同一个源。</p><p id="dab8" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">步骤 2.2:连接 MQ 节点。</strong></p><p id="0955" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下一步，我们将在 MQ Explorer 中将 MQ 节点与消息队列连接起来。首先在 MQ Explorer 中创建两个名为 MQIn 和 MQOut 的队列。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ly"><img src="../Images/befa793968060ef581e84d7fd543730c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YtUyOKWFtHCUHBwjV3xRqw.png"/></div></div></figure><p id="83bc" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">单击 MQ 输入节点，并在属性中从下拉列表中选择连接作为本地队列管理器。(此功能在 IIB App Connect Enterprise 11 中提供)。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lz"><img src="../Images/3afa4f69b572df24c24c2c66b31e52fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BPxW0YrY6Djc759zLc0z_g.png"/></div></div></figure><p id="f8de" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在单击 Basic 选项卡，输入要连接的队列名称。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ma"><img src="../Images/1468deb4ed0fbe1f519b25ed6fdc430c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dRnY1ExFSBNUTeSbdROSxA.png"/></div></div></figure><p id="9562" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对 MQ 输出节点进行同样的操作。</p><p id="95ce" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">步骤 2.3:设置路线属性</strong></p><p id="0189" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">单击路由节点，并在基本选项卡中“添加”过滤器模式，如下所示。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mb"><img src="../Images/cf015fa9b1bb889c6ddaaedc1e0a8638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DskU9bFbmLoDxYhn63puLg.png"/></div></div></figure><h2 id="de61" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">步骤 3:计算节点 ESQL 代码</h2><p id="89bf" class="pw-post-body-paragraph jv jw iy jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">最后，在这一步中，我们已经准备好了流程和所有的连接。为了检查数据源，在 InputRoot 的属性中有一个名为 ReplyProtocol 的值。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mc"><img src="../Images/2a8388466cd1784cc2fc88c0a8ba6019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zdxgv7sFtDVYWx-6s7wfdA.png"/></div></div></figure><p id="cc5a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">调试完代码后，我们找到了这些值，并设置了如下所示的环境变量，以便路由节点进行过滤。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi md"><img src="../Images/13435bcbd86e55970f757d6d69f730a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*meYCvYMoselHbSKMxJkZeA.png"/></div></div></figure><p id="1f5b" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从 SOAP UI 测试 SOAP 项目时，我们得到了与输入相同的响应，因为语句</p><blockquote class="me mf mg"><p id="5b15" class="jv jw mh jx b jy jz ka kb kc kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ks ig bi translated">SET OutputRoot = InputRoot</p></blockquote><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ml"><img src="../Images/1f0ca5c557708047527fbebbc3c4f4c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YNOGHONhlnVctmjT3gv7tA.png"/></div></div></figure><p id="f3cd" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对 MQ 输入进行同样的测试，我们在 MQOut 队列中得到我们所期望的消息。</p><figure class="ls lt lu lv gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mm"><img src="../Images/6903623efb151cb226a09396b8fdb83c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ttYlKVNfrARZrWnXSXmInw.png"/></div></div></figure><h2 id="2601" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">结论:</h2><p id="348d" class="pw-post-body-paragraph jv jw iy jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">在本教程中，我们学习了如何区分 IIB 中不同的数据输入类型，如 SOAP 和 MQ。ReplyProtocol 的这个简单的消息属性值可用于所有类型的输入，如 HTTP、REST、SOAP 和 MQ。我们还学习了如何在 MQ Explorer 中将 MQ 输入和输出节点与队列连接起来。我们还学习了如何使用路由节点过滤器属性来回复相应的输出节点，例如 SOAP 输入的 SOAP 回复和 MQ 输入的 MQ 输出。(在这种情况下，您也可以使用 MQ 回复节点)。</p><p id="7980" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">希望这篇教程能帮助你学习一些关于 IIB 集成开发的重要知识。</p><p id="0e5d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请点击以下链接查看我在 github 上的项目:</p><div class="im in gp gr io mn"><a href="https://github.com/ahmedkhan1991/mqSoapIdentifierESQL" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd iz gy z fp ms fr fs mt fu fw ix bi translated">艾哈迈德汗 1991/mqsoapidentifiersql</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">该项目在单个消息流中接受来自 SOAP 输入节点和 MQ 输入节点的输入，并回复给…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">github.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb iu mn"/></div></div></a></div><p id="ca3a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">快乐学习</p></div></div>    
</body>
</html>