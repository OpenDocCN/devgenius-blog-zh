<html>
<head>
<title>Deploying your libGDX game to iOS TestFlight</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将您的 libGDX 游戏部署到 iOS TestFlight</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/deploying-your-libgdx-game-to-ios-testflight-163cada0696b?source=collection_archive---------7-----------------------#2020-06-06">https://blog.devgenius.io/deploying-your-libgdx-game-to-ios-testflight-163cada0696b?source=collection_archive---------7-----------------------#2020-06-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d3378e83df213298cb91dc4268aeebc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6OBEXItKw9XqVrxJXVb7yw.png"/></div></div></figure><p id="69bb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们进入任何细节之前，我只想说你需要对这个过程有一些耐心。我花了几天时间才弄清楚所有的事情，我想通过写这个指南来省去其他人的麻烦。</p><p id="e727" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">完成这个过程需要的东西:</strong> <br/> - Android Studio <br/> -一个完成的 libGDX 游戏(所有音频文件都需要是 mp3 格式)<br/> -一台运行 Catalina (10.15.5)和 Xcode 11 的 Mac(我用的是 MacBook Pro) <br/> -一台 iOS 设备(我用的是 iPad) <br/> -一个苹果开发者账号<br/> -很大的耐心</p><p id="ea8d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">步骤 1 </strong> <br/>安装 MobiVM</p><p id="d3e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先你需要下载 MobiVM。确保获得版本 2.3.10 <br/>你可以在这里获得:<a class="ae kt" href="https://plugins.jetbrains.com/plugin/14440-mobivm" rel="noopener ugc nofollow" target="_blank"> MobiVM </a> <br/>打开 Android Studio 首选项并进入插件<br/>点击齿轮图标<br/>现在点击“从磁盘安装插件”<br/>选择下载的 MobiVM 文件</p><p id="26db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">打开 build.gradle，确保将您的 RoboVM 版本设置为 2.3.10 <br/> <code class="fe ku kv kw kx b">roboVMVersion = 2.3.10</code></p><p id="71a9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">确保您运行的是 gradle 6.5 或更高版本(您可以在 gradle-wrapper 属性中更改这一点)</p><p id="c396" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">第二步</strong>创建一个 Xcode 项目</p><p id="af37" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在 Xcode 中创建一个新项目，给它一个和你的 libGDX 游戏一样的包 id <code class="fe ku kv kw kx b">com.yourcompanyname.yourgame</code>。<br/>连接你的 iPhone/iPad，在设备上运行游戏。</p><p id="afbd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">注意:如果你重启你的 iPhone/iPad，你需要重复这个步骤来加载你的 libGDX 游戏</p><p id="e069" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">步骤 3 </strong> <br/>您第一次接触预置描述文件</p><p id="13f7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当您创建新项目时，Xcode 会自动为您生成一个临时描述文件。</p><p id="f79b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">(如果你没有苹果开发者账号，我不确定是不是这样)</p><p id="a89a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为你需要一个开发者帐号来发布你的游戏，你最好现在就做好准备。如果 Xcode 在设置开发者帐户之前没有自动为您生成临时描述文件，您可以删除您生成的 Xcode 项目并创建一个新项目。这应该是一个快速的过程。</p><p id="1286" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">注意:为了大大减少获得苹果开发者账户的痛苦，你可以在你的 iphone/iPad 上下载“开发者”应用程序，并用它来注册。只需要几分钟。</p><p id="ae9c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在您已经有了一个预置描述文件，您将需要创建一个配置来在您的 iPhone/iPad 上运行您的 libGDX 项目。回到 Android Studio，打开运行/调试配置。单击左上角的“+”创建新配置。选择 RoboVM iOS。现在为您的架构选择“连接设备”和“arm64”。接下来，您需要选择您的签名身份(Auto 应该可以)和您的配置文件(iOS Team Provisioning Profile: *)。单击确定。</p><p id="c624" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这应该允许你在本地 iOS 上运行你的 libGDX 游戏。你的电脑会询问你的用户密码，在弹出的窗口中你可以选择“总是允许”来避免以后遇到这种情况。<br/>接下来，是应用商店。</p><p id="03cc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">注意:如果你到目前为止有任何问题，你可以查看本杰明·舒尔特 2019 年的这篇帖子。它会带你到这一步。<br/><a class="ae kt" href="https://medium.com/@bschulte19e/deploying-your-libgdx-game-to-ios-in-2019-8d3796410d82" rel="noopener">https://medium . com/@ bschulte 19 e/deploying-your-libgdx-game-to-IOs-in-2019-8d 3796410d 82</a></p><p id="72dd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">第四步</strong> <br/> IOSLauncher.ipa</p><p id="3e36" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ipa 文件是苹果公司的谷歌 apk 文件。这是您将上传到 Apple 开发者帐户的文件。创建投资促进机构应该相当简单。</p><p id="b838" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在 Android studio 中打开终端，输入<code class="fe ku kv kw kx b">./gradlew ios:createIPA</code></p><p id="8bc6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果构建失败，请重新构建您的项目，然后重试。这个过程第一次可能需要一段时间(第一次尝试通常需要 7 分钟，之后只需要几秒钟)。也可能说<code class="fe ku kv kw kx b">Classpath entry /path/main does not exist </code>，挂 93%左右。这种情况每次都发生在我身上，但它确实完成了。</p><p id="555b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">第 5 步</strong> <br/>设置您的签名档案</p><p id="2d39" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这一步对我来说很痛苦。我花了一整天才想明白所有的事情。你真的只需要确保你有一个“苹果分销”签名身份和一个“应用商店”预置描述文件。</p><p id="2563" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">转到您的 Apple 开发者帐户。点击证书，身份证和个人资料。<br/>在证书下，您需要创建一个分发证书。按照流程操作并下载文件。<br/>在标识符下，您需要创建一个应用 ID。使用您喜欢的任何描述，并确保提供正确的包 ID。</p><p id="22b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，转到 App Store Connect，使用您刚刚创建的凭据创建一个新的应用程序。</p><p id="8a93" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，在您的计算机上找到下载的证书并打开它。这将把它添加到您的钥匙串中。</p><p id="b46d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">第六步</strong>设置快车道<br/></p><p id="c4d6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">浪子是一个伟大的开源管理工具，它可以让你立刻注册并上传你的游戏。<br/>首先你需要下载最新的 Xcode 命令行工具。</p><p id="07f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">打开你的终端。(Go -&gt; Utilities -&gt; Terminal) <br/>输入<code class="fe ku kv kw kx b">xcode-select --install</code> <br/>安装可能需要一段时间。安装完成后，您需要安装 fastlane。<br/>输入<code class="fe ku kv kw kx b">sudo gem install fastlane -NV</code> <br/>现在导航到你创建 ipa 文件的同一个文件夹(MacHD-&gt;Users-&gt;your username-&gt;androidstudio projects-&gt;your game-&gt;IOs-&gt;build-&gt;robo VM)<br/>注意:在<code class="fe ku kv kw kx b">cd ..</code>上移一个文件夹类型，在<code class="fe ku kv kw kx b">ls</code>列出该文件夹类型中的所有文件，在<code class="fe ku kv kw kx b">cd yourFolderName</code>打开一个文件夹类型</p><p id="0de3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">步骤 7 </strong> <br/>认证并上传您的项目</p><p id="7a06" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通过键入<code class="fe ku kv kw kx b">sudo fastlane cert</code> <br/>认证您的项目通过键入<code class="fe ku kv kw kx b">sudo fastlane sigh</code> <br/>签署您的项目现在下一步是提交您的项目。不知道为什么要这样，但每次都要这样。键入<code class="fe ku kv kw kx b">sudo fastlane sigh resign</code> <br/>退出您的项目，您将看到您所有可用身份的列表。<br/>复制苹果分销标识并粘贴在底部。这将放弃该项目。现在你已经准备好上传你的项目了。<br/>类型<code class="fe ku kv kw kx b">sudo fastlane pilot upload</code></p><p id="385d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这将开始上传过程。如果第一次尝试就完成了，你就是神奇的！对于我们所有的正常人来说，是时候开始解决苹果抛给我们的一些问题了。</p><p id="eedb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最常见的问题与图标有关。仔细阅读错误并进行适当的修改。您需要将以下内容添加到 info.plist.xml 文件中(位于项目的 ios 文件夹中):</p><pre class="ky kz la lb gt lc kx ld le aw lf bi"><span id="88cf" class="lg lh in kx b gy li lj l lk ll">&lt;key&gt;CFBundleIcons&lt;/key&gt;<br/>&lt;dict&gt;<br/>    &lt;key&gt;CFBundlePrimaryIcon&lt;/key&gt;<br/>    &lt;dict&gt;<br/>        &lt;key&gt;CFBundleIconFiles&lt;/key&gt;<br/>        &lt;array&gt;<br/>            &lt;string&gt;Icon&lt;/string&gt;<br/>            &lt;string&gt;Icon-60@2x.png&lt;/string&gt; &lt;!-- added --&gt;<br/>            &lt;string&gt;Icon-72&lt;/string&gt;<br/>            &lt;string&gt;Icon-76@2x.png&lt;/string&gt; &lt;!-- added --&gt;<br/>            &lt;string&gt;Icon-120@1x.png&lt;/string&gt; &lt;!-- added --&gt;<br/>            &lt;string&gt;Icon-152@1x.png&lt;/string&gt; &lt;!-- added --&gt;<br/>        &lt;/array&gt;<br/>    &lt;/dict&gt;<br/>&lt;/dict&gt;</span></pre><p id="e857" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你遇到其他问题，就去 stackoverflow.com 求助，那里有很多帮助。当我收到问题/请求时，我也会更新这个帖子。</p><p id="60b2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你解决了苹果抛出的所有问题，你应该能够上传你的项目。打开 App Store Connect 并检查 TestFlight 选项卡。你的游戏现在应该可以测试了。</p><p id="46b5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">注意:如果您在签署应用程序时仍有问题，请转到您的开发者帐户中的证书、标识符和配置文件。点击档案，找到你的游戏，然后点击编辑。您将可以看到分配给此游戏的预置描述文件。确保它是分发证书。</p><p id="ecc0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望你能够使用这个指南上传你的游戏。如果你有任何问题，请随意发表评论，我会尽快回复你。另外，请随意指出你在我的指南中看到的任何错误。对我来说，这仍是一项进行中的工作。</p><p id="7f86" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你愿意支持我，你可以访问<a class="ae kt" href="https://tmdstudios.wordpress.com/" rel="noopener ugc nofollow" target="_blank"> TMD 工作室</a>并尝试我的一些游戏。</p><p id="c5fe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">或者你可以<a class="ae kt" href="https://tmdstudios.wordpress.com/2020/04/28/support/" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a></p></div></div>    
</body>
</html>