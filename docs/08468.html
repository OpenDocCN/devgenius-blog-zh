<html>
<head>
<title>SwiftUI Tutorial: Working with FixedSized modifier</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI 教程:使用固定大小的修改器</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/swiftui-tutorial-working-with-fixedsized-modifier-91a1676a7941?source=collection_archive---------8-----------------------#2022-06-16">https://blog.devgenius.io/swiftui-tutorial-working-with-fixedsized-modifier-91a1676a7941?source=collection_archive---------8-----------------------#2022-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f50a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">固定大小的修饰符如何使 SwiftUI 编码更容易</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/65066ba3b9d091f0461dc8ac17f0e49f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lby6yPZF2twKr7RAbEQ1Lg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图一。</figcaption></figure><p id="c454" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="lr"> fixedSize() </em>修饰符允许一定程度的控制，开发者可以选择不遵从父视图给定的大小。</p><blockquote class="ls lt lu"><p id="ea0f" class="kv kw lr kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">这篇文章是我的<a class="ae ly" href="https://arc-sosangyo.medium.com/list/swiftui-tutorial-03734e631240" rel="noopener"> SwiftUI 教程</a>系列的一部分。</p></blockquote><p id="a628" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了更好地理解<em class="lr"> fixedSize()，</em>的重要性，我们将创建一个这样的简单 UI。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/743d901f2662e414415f7e01f141b833.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*kvbsGCtbDGM4bCzXhWU43g.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图二。UI 截图</figcaption></figure><p id="55fb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是在我们开始之前，本教程假设你已经有了 SwiftUI 的基础。</p><p id="1997" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们开始吧。在 ContentView 之外写下这段代码。</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="7b03" class="mf mg iq mb b gy mh mi l mj mk">struct ExternalView: View {<br/>    <br/>    @State private var passengerNumber: Int = 1<br/>    let numberList = [1, 2, 3, 4, 5]<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            <br/>            Color.white<br/>            <br/>            HStack {<br/>                <br/>                Image(systemName: "person.3.fill")<br/>                    .font(.system(size: 30))<br/>                <br/>                Text("How many passengers?")<br/>                <br/>                Spacer()<br/>                <br/>                Picker("How many passengers", selection: $passengerNumber) {<br/>                    ForEach(numberList, id: \.self) {<br/>                        Text("\($0)")<br/>                    }<br/>                }<br/>                .accentColor(.black)<br/>            }<br/>            .padding()<br/>            <br/>        }<br/><br/>    }<br/>    <br/>} // ExternalView</span></pre><p id="1677" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后像这样编辑内容视图。</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="ebad" class="mf mg iq mb b gy mh mi l mj mk">struct ContentView: View {<br/><br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            <br/>            Image("lee-chinyama")<br/>                .resizable()<br/>                .ignoresSafeArea(.all)<br/>            <br/>            ExternalView()<br/>            <br/>        }<br/>        <br/>    }<br/><br/>} // ContentView</span></pre><blockquote class="ls lt lu"><p id="3600" class="kv kw lr kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">这是我在这个例子中使用的背景图片的<a class="ae ly" href="https://unsplash.com/photos/Mz5p7ViO71A" rel="noopener ugc nofollow" target="_blank">链接</a>。这张照片来自 unsplash.com 的李·钦亚马。</p></blockquote><p id="052c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">运行应用程序。该应用程序应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/c772b2c029f784368775b17d1cd5c095.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*a7qNw_y0dRSzN6ZjJVo-Bw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图 3。将外部视图放在内容视图中</figcaption></figure><p id="30f8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请注意，如果您没有指定 ZStack 的大小，它将尽可能多地填充空间。</p><p id="4ecb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因为目标是让应用程序看起来像图 2 所示的那样，所以我们可以执行以下操作:在<em class="lr"> ExternalView() </em>上放置一个填充。然后指定 ZStack 的大小。</p><p id="0bbb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">像这样更新<em class="lr">外部视图</em>()的代码:</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="4658" class="mf mg iq mb b gy mh mi l mj mk">struct ExternalView: View {<br/>    <br/>    @State private var passengerNumber: Int = 1<br/>    let numberList = [1, 2, 3, 4, 5]<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            <br/>            Color.white<br/>            <br/>            HStack {<br/>                <br/>                Image(systemName: "person.3.fill")<br/>                    .font(.system(size: 30))<br/>                <br/>                Text("How many passengers?")<br/>                <br/>                Spacer()<br/>                <br/>                Picker("How many passengers", selection: $passengerNumber) {<br/>                    ForEach(numberList, id: \.self) {<br/>                        Text("\($0)")<br/>                    }<br/>                }<br/>                .accentColor(.black)<br/>            }<br/>            .padding()<br/>            <br/>        }<br/>        .padding()<br/>        .frame(height: 100)<br/>        <br/>    }<br/>    <br/>} // ExternalView</span></pre><p id="75fc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您运行该应用程序，它现在将看起来像图 2 中的屏幕截图。虽然<em class="lr">帧</em>修改器解决了尺寸问题。我进行了多次高度调整，才能够获得视图所需的大小。</p><p id="0d53" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这就是使用 FixedSize 修饰符可以使事情变得更简单的地方。忽略前面的代码，使用下面的代码:</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="fa8c" class="mf mg iq mb b gy mh mi l mj mk">struct ExternalView: View {<br/>    <br/>    @State private var passengerNumber: Int = 1<br/>    let numberList = [1, 2, 3, 4, 5]<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            <br/>            Color.white<br/>            <br/>            HStack {<br/>                <br/>                Image(systemName: "person.3.fill")<br/>                    .font(.system(size: 30))<br/>                <br/>                Text("How many passengers?")<br/>                <br/>                Spacer()<br/>                <br/>                Picker("How many passengers", selection: $passengerNumber) {<br/>                    ForEach(numberList, id: \.self) {<br/>                        Text("\($0)")<br/>                    }<br/>                }<br/>                .accentColor(.black)<br/>            }<br/>            .padding()<br/>            <br/>        }<br/>        .padding()<br/>        .fixedSize(horizontal: false, vertical: true)<br/>        <br/>    }<br/>    <br/>} // ExternalView</span></pre><p id="7c80" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这一次，我们使用<em class="lr">固定大小</em>修改器代替框架。</p><p id="9ac6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">运行应用程序将产生相同的结果。</p><p id="12ec" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在上面的例子中，我们只想垂直固定大小。这就是为什么我们设置水平为假，垂直为真。默认情况下，您可以选择不指定参数，只需像这样写:</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="f30b" class="mf mg iq mb b gy mh mi l mj mk">.fixedSize()</span></pre><p id="26ec" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这对于水平和垂直都将返回 true。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><p id="ad0f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是源代码的 github <a class="ae ly" href="https://github.com/athurion/SwiftUI-Tutorial-Fixed-sized-modifier/blob/main/ContentViewFixedSized.swift" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="fa7b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">愿法典与你同在，</p><p id="4905" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">-电弧</p></div></div>    
</body>
</html>