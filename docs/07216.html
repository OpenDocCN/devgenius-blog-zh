<html>
<head>
<title>Introducing Medium-auto-post | Syndicate your Hugo Content to Medium.com</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍 Medium-auto-post |将您的 Hugo 内容整合到 Medium.com</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/introducing-medium-auto-post-syndicate-your-hugo-content-to-medium-com-3fd760ce09?source=collection_archive---------9-----------------------#2022-03-06">https://blog.devgenius.io/introducing-medium-auto-post-syndicate-your-hugo-content-to-medium-com-3fd760ce09?source=collection_archive---------9-----------------------#2022-03-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/383f816f16407b215835f34069544406.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QwFX1-qpmzPIPoVp.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">MediumAutoPost 简介</figcaption></figure><p id="3246" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在之前的一篇文章中，我概述了如何建立你的 Hugo 网站，这样你就可以轻松地将你的文章整合到 medium.com。我还提供了一个 Postman 集合，它可以完成发布新内容的繁重工作。虽然这样做很好，但我想做得更好。</p><div class="ky kz gp gr la lb"><a href="https://askcloudarchitech.com/posts/tutorials/auto-generate-post-payload-medium-com/" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab fo"><div class="ld ab le cl cj lf"><h2 class="bd io gy z fp lg fr fs lh fu fw im bi translated">自动生成一个 Medium.com REST API 有效负载，与 Hugo 联合发布帖子</h2><div class="li l"><h3 class="bd b gy z fp lg fr fs lh fu fw dk translated">通过自动为…生成 API 有效负载，使用 hugo 轻松将您的网站或博客文章整合到 medium.com</h3></div><div class="lj l"><p class="bd b dl z fp lg fr fs lh fu fw dk translated">askcloudarchitech.com</p></div></div></div></a></div><p id="dc3f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">也就是说，我想做这些改进:</p><ol class=""><li id="1315" class="lk ll in kb b kc kd kg kh kk lm ko ln ks lo kw lp lq lr ls bi translated">删除 postman 集合，并用可以在终端中使用的 CLI 工具替换它</li><li id="6d9a" class="lk ll in kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">不再需要提供你想发送到 medium.com 的文章的网址</li><li id="ddbb" class="lk ll in kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">跟踪和存储哪些文章已经被整合，以避免发布重复的内容</li><li id="f3f3" class="lk ll in kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">只需一个简单的命令就可以完成所有这些工作</li></ol><p id="8371" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">所以…为了实现这个目标，我创建了<a class="ae kx" href="https://github.com/askcloudarchitech/mediumautopost" rel="noopener ugc nofollow" target="_blank">媒体自动邮报</a>！这是一个用 Go 编写的 CLI 工具，完成了我上面列出的所有改进。本文将涵盖让这一切正常工作所需的所有一次性设置步骤。我们开始吧！</p><div class="ky kz gp gr la lb"><a href="https://github.com/askcloudarchitech/mediumautopost" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab fo"><div class="ld ab le cl cj lf"><h2 class="bd io gy z fp lg fr fs lh fu fw im bi translated">GitHub-askclouarchitech/mediumautofost</h2><div class="li l"><h3 class="bd b gy z fp lg fr fs lh fu fw dk translated">Mediumautopost 是一个 CLI 工具(和一个 Go 软件包),它会自动将您网站的文章发布到 medium.com 作为…</h3></div><div class="lj l"><p class="bd b dl z fp lg fr fs lh fu fw dk translated">github.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md jt lb"/></div></div></a></div><h2 id="b57c" class="me mf in bd mg mh mi dn mj mk ml dp mm kk mn mo mp ko mq mr ms ks mt mu mv mw bi translated">第一步:安装 mediumautopost</h2><p id="ad84" class="pw-post-body-paragraph jz ka in kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw ig bi translated">安装工具很容易！如果你的 mac 上安装了家酿软件，只需运行这两个步骤:</p><pre class="nc nd ne nf gt ng nh ni nj aw nk bi"><span id="19fa" class="me mf in nh b gy nl nm l nn no">brew tap askcloudarchitech/askcloudarchitech <br/>brew install mediumautopost</span></pre><p id="2152" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果你没有自制软件或者你更喜欢手动安装应用程序，你也可以在这里获取二进制文件<a class="ae kx" href="https://github.com/askcloudarchitech/mediumautopost/releases" rel="noopener ugc nofollow" target="_blank"/></p><h2 id="9924" class="me mf in bd mg mh mi dn mj mk ml dp mm kk mn mo mp ko mq mr ms ks mt mu mv mw bi translated">第二步:创建一个保存发布状态的地方</h2><p id="4c2a" class="pw-post-body-paragraph jz ka in kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw ig bi translated">MediumAutoPost 最好的特性之一是它能够记住哪些邮件已经发送到 medium.com。由于 mediumautopost 是为 Hugo 设计的，而 Hugo 实际上没有能力保存内容的状态(因为它是一个静态生成内容的工具)，我们需要建立一个永久的地方来存储单个帖子的发布状态。</p><p id="22f7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在构建这个工具时，我将这个发布信息存储在一个 git repo 中。我选择这个有几个原因:</p><ol class=""><li id="d0ad" class="lk ll in kb b kc kd kg kh kk lm ko ln ks lo kw lp lq lr ls bi translated">Github 是一个非常通用的工具，很多人都在使用</li><li id="e884" class="lk ll in kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">免费的！如果你还没有注意到，我在这里做的一切从虚拟主机到出版物和自动化都是完全免费的。这对我维护一个非常低成本的内容发布解决方案非常重要。</li></ol><p id="e0d1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这个过程非常简单。去 github.com 创建一个新的回购协议。我称我的媒体发布状态，如果你想看一个例子，你可以在这里看到它。您甚至不需要向这个回购添加任何文件。MediumAutoPost 将为您完成所有这些工作。</p><p id="1347" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">接下来，您需要创建一个 Github 个人访问令牌，这样程序就有权限更新 repo。前往 https://github.com/settings/tokens<a class="ae kx" href="https://github.com/settings/tokens" rel="noopener ugc nofollow" target="_blank">点击“生成新令牌”按钮。在“注释”字段中提供名称，选择到期日期并选中“回购”旁边的框，然后点击底部的“生成令牌”。复制令牌，暂时放在安全的地方。注意:对这个令牌保密。</a></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/bd950aae0e55be3097527032f39f15ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WnoUujhlA28HbxOS.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">在 GitHub 上创建个人访问令牌</figcaption></figure><p id="5bc3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我还应该补充一点，如果你不想做 Github 状态设置，你也可以在你的计算机上本地存储状态文件。我将在下一步中介绍这一点。只是一个警告:如果您选择本地存储选项，请小心。如果你丢失了文件，程序将不知道它已经在 medium.com 发布了什么帖子。</p><h2 id="5059" class="me mf in bd mg mh mi dn mj mk ml dp mm kk mn mo mp ko mq mr ms ks mt mu mv mw bi translated">第三步:填充环境变量</h2><p id="168a" class="pw-post-body-paragraph jz ka in kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw ig bi translated">运行该命令之前的最后一步是创建设置文件。以下是该文件的一个示例:</p><pre class="nc nd ne nf gt ng nh ni nj aw nk bi"><span id="8c97" class="me mf in nh b gy nl nm l nn no">MEDIUM_ENDPOINT_PREFIX="https://api.medium.com/v1"<br/>MEDIUM_BEARER_TOKEN="get token from medium. paste here"<br/>WEBSITE_JSON_INDEX_URL="path to your json index file"<br/>GITHUB_PERSONAL_TOKEN="generate a personal access token and paste here"<br/>GITHUB_STATUS_REPO_OWNER="your Github account name"<br/>GITHUB_STATUS_REPO="repo name for storing the status of posts to medium.com"<br/>STORAGE_TYPE=""<br/>STORAGE_FILE_PATH="/OPTIONAL/PATH/TO/STATUS/FILE.json"</span></pre><p id="6d31" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这些设置指导 MediumAutoPost 如何提取您的文章并将其发布到 medium.com。让我们浏览一下这些台词，并逐一讨论。</p><p id="0f5e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">MEDIUM_ENDPOINT_PREFIX:这只是 medium API 的 URL 的开始。您可以保持原样<br/>媒体承载令牌:<a class="ae kx" href="https://askcloudarchitech.com/posts/tutorials/auto-generate-post-payload-medium-com/#step-1-generate-a-mediumcom-access-token" rel="noopener ugc nofollow" target="_blank">在之前的文章</a>中，我解释了如何获得媒体承载令牌。将您的令牌放在这里<br/> WEBSITE_JSON_INDEX_URL:同样，在第一篇文章中，我概述了这个步骤。将您的索引文件的 URL 放在这里<br/> Github_PERSONAL_TOKEN:如果您使用 GITHUB 来存储您的发布状态，请将您的个人访问令牌放在这里<br/> GITHUB_STATUS_REPO_OWNER:这应该是您的 GITHUB 用户名。例如，在我的例子中，它是 askclouarchitech<br/>GITHUB _ STATUS _ REPO:这应该是您使用上面概述的步骤创建的 REPO 的名称<br/> STORAGE_TYPE:如果使用 GITHUB 存储您的状态，您可以将其留空。如果您想使用本地文件方法，将其设置为“FILE”<br/>STORAGE _ FILE _ PATH:如果使用本地文件方法，键入您想要保存状态文件的路径</p><p id="c89d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">现在您已经创建了设置文件，只需将它保存在某个地方并记下文件的路径。</p><h2 id="b25a" class="me mf in bd mg mh mi dn mj mk ml dp mm kk mn mo mp ko mq mr ms ks mt mu mv mw bi translated">第四步:运行工具并发布你的内容</h2><p id="42ab" class="pw-post-body-paragraph jz ka in kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw ig bi translated">最后一步是运行命令。从您的终端，运行<code class="fe np nq nr nh b">mediumautopost -e /path/to/your/.env</code>，用您在上面创建的设置文件的实际路径替换命令中的路径。如果一切顺利，您应该会看到一些输出，告诉您您的帖子已经提交！</p><p id="e15b" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">现在前往 medium.com，登录你的账户。去你的草稿区，你会看到你的文章。您可以进行任何必要的调整，然后发布。</p><p id="c085" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最后，检查你的状态报告。应该有一个名为 status.json 的文件，其中包含发布到 medium 的每篇文章的详细信息。该文件将在以后的运行中使用，以确保这些相同的帖子不会发布两次。</p></div></div>    
</body>
</html>