<html>
<head>
<title>CoffeeBreak: Ruby CLI Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CoffeeBreak: Ruby CLI项目</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/coffeebreak-ruby-cli-project-b8e0c4b7e892?source=collection_archive---------11-----------------------#2020-07-11">https://blog.devgenius.io/coffeebreak-ruby-cli-project-b8e0c4b7e892?source=collection_archive---------11-----------------------#2020-07-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6ffd000f4938e0520ec34eadb98377e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9sZ7xL6cfq1r42zp"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jz" href="https://unsplash.com/@azhar93?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Azharul Islam </a>拍摄</figcaption></figure><p id="486a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我终于完成了我的第一个作品集项目！这篇文章将深入介绍我的项目是做什么的，解释每个文件是做什么的，以及一个关于它如何工作的快速视频演示。</p><p id="5d51" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我制作了一个CLI，向用户展示来自<a class="ae jz" href="https://playeronecoffee.com/collections/all-coffee" rel="noopener ugc nofollow" target="_blank">player ecoffee</a>的咖啡产品，显示产品名称、烘焙类型、价格和描述。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ky"><img src="../Images/46f2de2dcd1b1603dcd5098dded7d8e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gpa4Cl3_7Gr91HHc.jpg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">大声向我的导师和朋友尼克致谢，感谢他在整个过程中给了我反馈。</figcaption></figure><p id="205e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个项目确实挑战了我对基本Ruby基础的理解，但也给了我额外的学习主题！</p><p id="6845" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我常见的错误是缩进和冗余。当必须进行字符串整数转换时，许多Google搜索也会进行。我有一些相互冲突的方法，这些方法要么导致语法错误，要么根本没有语法错误。在调试时，尽可能避免后者是至关重要的，以便了解是什么原因导致CLI无法运行。</p><p id="4c89" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是我的工作流程。</p></div><div class="ab cl ld le hr lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ig ih ii ij ik"><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lk"><img src="../Images/e1e293c5ddf42e5cf3986f9b1a7c3b09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbxVpjX-ynpMM7tNNwhnZw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">用draw.io制作</figcaption></figure><p id="518a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该流程图帮助我了解我希望CLI如何工作和运行。它将以加载消息开始，然后是问候。用户可以选择按编号浏览特定产品，也可以键入“exit”离开。终端根据用户的响应给出相应的消息，例如:</p><blockquote class="ll lm ln"><p id="79e4" class="ka kb lo kc b kd ke kf kg kh ki kj kk lp km kn ko lq kq kr ks lr ku kv kw kx ig bi translated">“哎呀！请再试一次。”||“啊哦！请再试一次。”如果输入无效。</p><p id="d18f" class="ka kb lo kc b kd ke kf kg kh ki kj kk lp km kn ko lq kq kr ks lr ku kv kw kx ig bi translated">“当然，给你！”给出一个有效的输入以再次显示菜单。</p><p id="825b" class="ka kb lo kc b kd ke kf kg kh ki kj kk lp km kn ko lq kq kr ks lr ku kv kw kx ig bi translated">“谢谢你的来访。下次见！”用户结束程序。</p></blockquote><p id="ab0e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我有4个不同的文件来帮助运行程序:</p><ol class=""><li id="0f33" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx lx ly lz ma bi translated">"<strong class="kc io"> cli.rb </strong>包含运行终端的cli逻辑。</li></ol><ul class=""><li id="6f6d" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx mb ly lz ma bi translated">这就是奇迹发生的地方！我用它们自己的特定方法定义了响应消息。你不一定要这样做，但我想保持我的方式，这样我就知道在什么情况下不工作了。在我的run方法中有一个非常简洁的东西，它在启动名为<strong class="kc io"> system("clear") </strong>的程序时清空你的终端。这基本上是在执行之前清空bash，使得一切都变得干净。我在文件中包含了Scraper类，这将导致它一开始加载缓慢。我不想让用户认为它有问题，所以我只是添加了一些厚脸皮的咖啡加载消息。</li></ul><ol class=""><li id="1024" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx lx ly lz ma bi translated">“<strong class="kc io"> scraper.rb </strong>”是咖啡收藏网站的首页。</li></ol><ul class=""><li id="5dd5" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx mb ly lz ma bi translated">Nokogiri gem用于从网站的<div>和<href>标签中抓取所需数据。Open-Uri有助于发送HTTPS请求。然后，使用铲子方法将其发送到Beanss.rb中的bean类。</href></div></li></ul><ol class=""><li id="e2ee" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx lx ly lz ma bi translated">“<strong class="kc io"> scraper2.rb </strong>”是第二个代码结构相同但没有URL的页面。</li></ol><ul class=""><li id="a6ec" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx mb ly lz ma bi translated">与上面类似，Nokogiri将从第二页中抓取数据。</li></ul><ol class=""><li id="b1bf" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx lx ly lz ma bi translated">"<strong class="kc io"> beans.rb </strong>"包含从刮刀文件中获得的数据。</li></ol><ul class=""><li id="be23" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx mb ly lz ma bi translated">名称、标签、价格和详细信息被初始化到一个数组中，以显示CLI文件的信息。</li></ul><p id="e224" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">bin文件包含“coffee_time ”,当bin/coffee_time被输入到一个Ruby友好的应用程序中时，它执行终端。你可以通过我的Github下载这个库，在你的终端上试试。<a class="ae jz" href="https://github.com/Ro5hi/coffee_break/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> Github回购此处。</strong>T9】</a></p><h1 id="d604" class="mc md in bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">视频演示</h1><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><a class="ae jz" href="https://youtu.be/JN9Q4K9zwpY" rel="noopener ugc nofollow" target="_blank">https://youtu.be/JN9Q4K9zwpY</a></figcaption></figure><h1 id="31c8" class="mc md in bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">Ruby代码</h1><p id="fc75" class="pw-post-body-paragraph ka kb in kc b kd nc kf kg kh nd kj kk kl ne kn ko kp nf kr ks kt ng kv kw kx ig bi translated">另外，如果它不是最有条理或看起来最干净的代码，我提前道歉。不过我肯定会有一个0.2.0版本！</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="nh nb l"/></div></figure><h1 id="629b" class="mc md in bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">结论</h1><p id="65e1" class="pw-post-body-paragraph ka kb in kc b kd nc kf kg kh nd kj kk kl ne kn ko kp nf kr ks kt ng kv kw kx ig bi translated">对于一个Ruby新手来说，这是一个挑战。我一直在做实验室作业，我知道该做什么，但从头开始让我从头开始计划一切。但这是一次很棒的学习经历，我希望通过创造更多的项目，随着时间的推移变得更好！</p></div></div>    
</body>
</html>