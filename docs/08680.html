<html>
<head>
<title>Java 11: 8 Features You Must Know and Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你必须知道的 Java 11: 8 特性和例子</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/new-features-you-must-know-in-java-11-and-examples-3fda2ad26def?source=collection_archive---------0-----------------------#2022-07-03">https://blog.devgenius.io/new-features-you-must-know-in-java-11-and-examples-3fda2ad26def?source=collection_archive---------0-----------------------#2022-07-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="0ce7" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">JAVA 11 概述</h1><p id="ff3d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">从 Java 11 开始，甲骨文 JDK 将不再免费用于商业用途，你可以将 Java 11 用于学习，但不能用于商业用途。Java 11 是继 Java 8 之后的第二个 LTS(长期支持)版本。在本文中，我们将看看选择 Java 11 SDK 的选项。此外，我们将探索 Java 11 中的新特性、删除特性和增强功能。</p><blockquote class="lj lk ll"><p id="3c23" class="kl km lm kn b ko ln kq kr ks lo ku kv lp lq ky kz lr ls lc ld lt lu lg lh li ij bi translated">(07/21/2022)更新:Java 17 LTS 是 Java SE 平台的最新长期支持版本。JDK 18 和 JDK 17 二进制文件可以在生产中免费使用，并且可以根据甲骨文免费条款和条件免费再分发。</p></blockquote><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/dff11e6fdc44cea4f55b9a0413b5fb85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYPAgsWPGGM9y3zN2B7LGQ.png"/></div></div></figure><h1 id="b2d5" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">JAVA 11 的选项</h1><p id="9d52" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">甲骨文 JDK 公司提供 Java 10 的最新免费版本。从 Java 11 开始，Oracle 就没有免费的 LTS 了。然而，我们仍将使用 OpenJDK 发行版，它可以免费下载和使用。此外，我们还可以考虑其他一些 OpenJDK 提供商:Azul Zulu、HotSpot、Amazon Corretto 等。</p><blockquote class="lj lk ll"><p id="f4ac" class="kl km lm kn b ko ln kq kr ks lo ku kv lp lq ky kz lr ls lc ld lt lu lg lh li ij bi translated">(07/21/2022)更新:Java 17 LTS 是 Java SE 平台的最新长期支持版本。根据<a class="ae lv" href="https://java.com/freeuselicense" rel="noopener ugc nofollow" target="_blank">甲骨文免费条款和条件</a>，JDK 18 和 JDK 17 二进制文件可以在生产中免费使用，并且可以免费重新发布。</p></blockquote><h1 id="e21b" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">JAVA 11 特性</h1><h2 id="0503" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">新的内置字符串方法</h2><p id="888f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Java 11 提供了一些改进 String 类的新方法:isBlank()、lines()、repeat(n)、strip()、stripLeading()、stripTrailing()。这是演示上述 String 类中所有新方法的示例代码:</p><pre class="lx ly lz ma gt mu mv mw mx aw my bi"><span id="7087" class="mi jo iq mv b gy mz na l nb nc"><strong class="mv ir">import </strong>java.util.stream.Collectors;</span><span id="6a86" class="mi jo iq mv b gy nd na l nb nc"><strong class="mv ir">public class TechIsBeautiful </strong>{</span><span id="a407" class="mi jo iq mv b gy nd na l nb nc">  <strong class="mv ir">public static void </strong>main(String[] args) {<br/>    String str1 = <strong class="mv ir">""</strong>;<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(str1.isBlank());</span><span id="1e1e" class="mi jo iq mv b gy nd na l nb nc">    String str2 = <strong class="mv ir">"tech is beautiful"</strong>;<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(str2.isBlank());</span><span id="d6c6" class="mi jo iq mv b gy nd na l nb nc">    String str3 = <strong class="mv ir">"tech\nis\nbeautiful"</strong>;<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(str3.lines().collect(Collectors.<em class="lm">toList</em>()));</span><span id="c023" class="mi jo iq mv b gy nd na l nb nc">    String str4 = <strong class="mv ir">"tech is beautiful "</strong>;<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(str4.repeat(2));</span><span id="cce8" class="mi jo iq mv b gy nd na l nb nc">    String str5 = <strong class="mv ir">" tech is beautiful"</strong>;<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(str5.stripLeading());</span><span id="9539" class="mi jo iq mv b gy nd na l nb nc">    String str6 = <strong class="mv ir">"tech is beautiful "</strong>;<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(str6.stripTrailing());</span><span id="174f" class="mi jo iq mv b gy nd na l nb nc">    String str7 = <strong class="mv ir">" tech is beautiful "</strong>;<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(str7.strip());<br/>  }<br/>}</span></pre><p id="da91" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lq ky kz la ls lc ld le lu lg lh li ij bi translated">代码的输出:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ne"><img src="../Images/a03d5e54b0701cb441ab9c19c59fecfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KsZNpavQQr3Q-gwmIdPmIA.png"/></div></div></figure><h2 id="3a14" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">新建 HTTP 客户端</h2><p id="1c18" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这个来自 java.net.http.*包的新 HTTP 客户端现在是 Java 11 的标准特性。它不仅提高了整体性能，还提供了对 HTTP 1.1 和 HTTP2 的支持。这是向示例 API 端点发送请求并打印出 http 响应的示例代码，您应该修改端点字符串:</p><pre class="lx ly lz ma gt mu mv mw mx aw my bi"><span id="5ffe" class="mi jo iq mv b gy mz na l nb nc"><strong class="mv ir">import </strong>java.io.IOException;<br/><strong class="mv ir">import </strong>java.net.URI;<br/><strong class="mv ir">import </strong>java.net.http.HttpClient;<br/><strong class="mv ir">import </strong>java.net.http.HttpRequest;<br/><strong class="mv ir">import </strong>java.net.http.HttpResponse;<br/><strong class="mv ir">import </strong>java.time.Duration;<br/><br/><strong class="mv ir">public class TechIsBeautiful</strong> {<br/><br/>  <strong class="mv ir">public static void </strong>main(String[] args) <strong class="mv ir">throws </strong>InterruptedException, IOException {<br/>    HttpClient httpClient = HttpClient.<em class="lm">newBuilder</em>()<br/>        .version(HttpClient.Version.<strong class="mv ir"><em class="lm">HTTP_2</em></strong>)<br/>        .connectTimeout(Duration.<em class="lm">ofSeconds</em>(20))<br/>        .build();<br/>    HttpRequest httpRequest = HttpRequest.<em class="lm">newBuilder</em>()<br/>        .GET()<br/>        .uri(URI.<em class="lm">create</em>(<strong class="mv ir">"https://dummy.restapiexample.com/api/v1/employees"</strong>)) <em class="lm">// Modify to your endpoint<br/>        </em>.build();<br/>    HttpResponse httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.<em class="lm">ofString</em>());<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(httpResponse.body());<br/>  }<br/>}</span></pre><h2 id="0611" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">直接运行 Java 文件</h2><p id="570d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在 Java 11 之前，要运行 Java 应用程序，我们需要用 javac 命令显式编译 Java 源文件:</p><pre class="lx ly lz ma gt mu mv mw mx aw my bi"><span id="deb2" class="mi jo iq mv b gy mz na l nb nc">$ javac <strong class="mv ir">TechIsBeautiful</strong>.java<br/>$ java <strong class="mv ir">TechIsBeautiful</strong></span></pre><p id="f887" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lq ky kz la ls lc ld le lu lg lh li ij bi translated">现在，有了 Java 11，我们可以使用 Java 命令直接运行文件，而无需使用 javac 命令进行任何编译:</p><pre class="lx ly lz ma gt mu mv mw mx aw my bi"><span id="cd8f" class="mi jo iq mv b gy mz na l nb nc">$ java <strong class="mv ir">TechIsBeautiful</strong>.java</span></pre><h2 id="7e00" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">Lambda 参数的局部变量语法</h2><p id="e733" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Java 11 提供了在 Lambda 参数中使用局部 var 语法，让我们回顾一下这个示例代码:</p><pre class="lx ly lz ma gt mu mv mw mx aw my bi"><span id="aca3" class="mi jo iq mv b gy mz na l nb nc"><strong class="mv ir">import </strong>java.util.Arrays;<br/><strong class="mv ir">import </strong>java.util.List;<br/><strong class="mv ir">import </strong>java.util.stream.Collectors;<br/><br/><strong class="mv ir">public class TechIsBeautiful</strong> {<br/><br/>  <strong class="mv ir">public static void </strong>main(String[] args) {<br/>    List&lt;String&gt; sample = Arrays.<em class="lm">asList</em>(<strong class="mv ir">"tech"</strong>, <strong class="mv ir">"is"</strong>, <strong class="mv ir">"beautiful"</strong>);<br/>    String output = sample.stream()<br/>        .map((<strong class="mv ir">var </strong>x) -&gt; x.toUpperCase())<br/>        .collect(Collectors.<em class="lm">joining</em>(<strong class="mv ir">", "</strong>));<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(output);<br/>  }<br/>}</span></pre><p id="70bc" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lq ky kz la ls lc ld le lu lg lh li ij bi translated">代码的输出:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nf"><img src="../Images/2ebfdd7c5993232bf8a9e00a60b3add8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94d16trkYCmdpvIuXco1Pw.png"/></div></div></figure><h2 id="ec64" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">新的内置文件方法</h2><p id="59a1" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">有了这些新方法，现在在 Java 11 中读、写文件更容易了:</p><pre class="lx ly lz ma gt mu mv mw mx aw my bi"><span id="e349" class="mi jo iq mv b gy mz na l nb nc"><strong class="mv ir">import </strong>java.io.IOException;<br/><strong class="mv ir">import </strong>java.nio.file.Files;<br/><strong class="mv ir">import </strong>java.nio.file.Path;<br/><br/><strong class="mv ir">public class TechIsBeautiful</strong> {<br/><br/>  <strong class="mv ir">public static void </strong>main(String[] args) <strong class="mv ir">throws </strong>IOException {<br/>    Path filePath = Files.<em class="lm">writeString</em>(Files.<em class="lm">createTempFile</em>(<br/>        Path.<em class="lm">of</em>(<strong class="mv ir">"../java11"</strong>), <strong class="mv ir">"techisbeautiful"</strong>, <strong class="mv ir">".txt"</strong>), <strong class="mv ir">"Tech is beautiful"</strong>);<br/>    String fileContent = Files.<em class="lm">readString</em>(filePath);<br/>    System.<strong class="mv ir"><em class="lm">out</em></strong>.println(fileContent);<br/>  }<br/>}</span></pre><h2 id="0624" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">动态类文件常数</h2><p id="21ed" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这个新特性是为了增强性能。Java 类文件格式支持新的常量池形式。这样做的目的是通过创建一个新的常量池形式来减少开发新形式的可具体化类文件约束的成本和中断。</p><h2 id="1a35" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">Epsilon 垃圾收集器</h2><p id="7cb4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Epsilon 只分配内存，不像 JVM GC 那样释放内存。使用这个新的垃圾收集器在测试环境中非常有用，因为没有内存清理开销。因此，它给出了准确的性能测试结果。需要注意的是，Epsilon 只适用于测试环境，因为它会导致生产环境中的 OOM (OutOfMemory ),并使 Java 应用程序崩溃。</p><h2 id="e6c3" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">删除了 Java EE 和 CORBA 模块</h2><p id="271b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们不再使用以前版本中删除的、不推荐使用的特性，因此 Java SE 不需要包含 Java EE 的技术。在版本 11 中，所有这些(JavaEE 和 CORBA)现在都被完全删除了。</p><h2 id="7026" class="mi jo iq bd jp mj mk dn jt ml mm dp jx kw mn mo kb la mp mq kf le mr ms kj mt bi translated">摘要</h2><p id="01fe" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在本文中，我们通过例子学习了 Java 11 的一些新特性。我们还讨论了 API 的变化和样例代码，以及 Java 11 中删除或废弃的模块。</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="75bb" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lq ky kz la ls lc ld le lu lg lh li ij bi translated"><em class="lm">喜欢这篇文章？给我弄个</em> <a class="ae lv" href="https://ko-fi.com/techisbeautiful" rel="noopener ugc nofollow" target="_blank"> <em class="lm"> Ko-fi </em> </a> <em class="lm">。</em></p><p id="e2dc" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lq ky kz la ls lc ld le lu lg lh li ij bi translated"><em class="lm">爱我的文字？加入我的</em> <a class="ae lv" href="https://medium.com/subscribe/@techisbeautiful" rel="noopener"> <em class="lm">邮箱列表</em> </a> <em class="lm">。</em></p><p id="5577" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lq ky kz la ls lc ld le lu lg lh li ij bi translated"><em class="lm">爱读书？加入</em><a class="ae lv" href="https://medium.com/@techisbeautiful/membership" rel="noopener"><em class="lm">Medium</em></a><em class="lm">(如果你用这个链接，也是支持我，因为我有一点 Medium 的提成)。</em></p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="5bf7" class="pw-post-body-paragraph kl km iq kn b ko ln kq kr ks lo ku kv kw lq ky kz la ls lc ld le lu lg lh li ij bi translated">如果你喜欢这个故事，你也会喜欢:</p><ul class=""><li id="b822" class="nn no iq kn b ko ln ks lo kw np la nq le nr li ns nt nu nv bi translated"><a class="ae lv" rel="noopener ugc nofollow" target="_blank" href="/java-18-top-4-features-you-must-know-1f36ee23e2ab">你必须知道的 Java 18: 4 特性</a></li><li id="f904" class="nn no iq kn b ko nw ks nx kw ny la nz le oa li ns nt nu nv bi translated"><a class="ae lv" href="https://medium.com/@techisbeautiful/java-17-top-5-features-you-must-know-bbed2afaea3d" rel="noopener">你必须知道的 Java 17: 5 特性</a></li><li id="9af3" class="nn no iq kn b ko nw ks nx kw ny la nz le oa li ns nt nu nv bi translated"><a class="ae lv" rel="noopener ugc nofollow" target="_blank" href="/java-8-seven-features-you-must-know-and-examples-1c3964ae7fe8">你必须知道的 Java 8 : 7 特性</a></li></ul></div></div>    
</body>
</html>