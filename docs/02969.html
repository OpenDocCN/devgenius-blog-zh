<html>
<head>
<title>Maintainable JavaScript — Blocks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可维护的 JavaScript —块</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/maintainable-javascript-blocks-af9a396a4394?source=collection_archive---------2-----------------------#2020-09-16">https://blog.devgenius.io/maintainable-javascript-blocks-af9a396a4394?source=collection_archive---------2-----------------------#2020-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/68a8739918b93d711c70bfdf91006ff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MKwak7AKOHfu2itU"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@mattvs?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Matthijs van Schuppen </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="e65f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果想继续使用代码，创建可维护的 JavaScript 代码很重要。</p><p id="9221" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将通过正确编写语句来了解创建可维护的 JavaScript 代码的基础。</p><h1 id="f3f6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">块语句</h1><p id="439a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">块语句应该用花括号括起来。</p><p id="c939" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正文也应该在单独的一行。</p><p id="168c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">跳过花括号并将所有内容放在同一行是有效的，但很难阅读。</p><p id="d4ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们也被各种风格指南和 linters 禁止，比如 ESLint 或 JSHint。</p><p id="4871" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以要加大括号，要有占据多行的块。</p><p id="73de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ff4c" class="mn lc iq mj b gy mo mp l mq mr">if (condition)<br/>  doWork();<br/>  doSomethingElse();</span></pre><p id="d95f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么很多人会误以为两条线都在<code class="fe ms mt mu mj b">if</code>块。</p><p id="1b86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，事实并非如此。</p><p id="d884" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">只有第一行在<code class="fe ms mt mu mj b">if</code>块内。</p><p id="58ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该只添加花括号，这样我们就可以清楚地分隔块。</p><p id="7267" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="066f" class="mn lc iq mj b gy mo mp l mq mr">if (condition) {<br/>  doWork();<br/>}<br/>doSomethingElse();</span></pre><p id="b949" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让一切变得更清晰。</p><p id="aafe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有 block 语句都应使用大括号，包括:</p><ul class=""><li id="df1e" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated">如果</li><li id="4190" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">为</li><li id="fe01" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">在…期间</li><li id="38eb" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">做…的同时</li><li id="0645" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated">试着…抓住…最后</li></ul><h1 id="f70d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">支撑对齐</h1><p id="e345" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">支架应该正确对齐。</p><p id="1718" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加大括号的一种方法是让左大括号与块的开始在同一行。</p><p id="3585" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="42a4" class="mn lc iq mj b gy mo mp l mq mr">if (condition) {<br/>  doWork();<br/>} else {<br/>  doSomething();<br/>}</span></pre><p id="5ce8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这类似于 Java 的风格，在像 Google、Airbnb、ESLint 等大多数风格指南中都有推荐。</p><p id="cbd6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一种风格是将左大括号放在自己的行上。</p><p id="7a24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，有些人可能会写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dbe1" class="mn lc iq mj b gy mo mp l mq mr">if (condition) <br/>{<br/>  doWork();<br/>} else <br/>{<br/>  doSomething();<br/>}</span></pre><p id="d80a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这在 C#中更受欢迎，因为这是由 Visual Studio 强制执行的。</p><p id="4772" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，没有风格指南推荐这种风格。</p><p id="6580" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">谷歌禁止这样做，因为它可能会引入自动分号插入错误。</p><h1 id="c21b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">块语句间距</h1><p id="64a5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">块的第一行周围的间距是一个偏好问题。</p><p id="7da0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有三种风格。</p><p id="bf29" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中之一是在第一行的每一项之间有空格。</p><p id="5a11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e38a" class="mn lc iq mj b gy mo mp l mq mr">if (condition) {<br/>  doWork();<br/>} else {<br/>  doSomething();<br/>}</span></pre><p id="d6af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe ms mt mu mj b">if</code>和左括号之间，右括号和左大括号之间都有空格。</p><p id="5ad2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一些程序员的首选，因为它很紧凑，但仍有足够的空间使代码易于阅读。</p><p id="4a00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一种风格是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f8d3" class="mn lc iq mj b gy mo mp l mq mr">if(condition){<br/>  doWork();<br/>}else{<br/>  doSomething();<br/>}</span></pre><p id="3d0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们没有任何东西之间的空间，但它很紧凑。</p><p id="6b37" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以很难推荐这种风格。</p><p id="8e80" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第 3rtd 样式在左括号后和右括号前添加空格，如下所示:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="90d0" class="mn lc iq mj b gy mo mp l mq mr">if ( condition ) {<br/>  doWork();<br/>} else {<br/>  doSomething();<br/>}</span></pre><p id="ac03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种风格占用更多的空间，但可读性更强。</p><p id="c573" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一种样式是在保持可读性的同时占用的空间量之间的一个很好的折衷。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/517fe51031cd25368488c9b76956c8f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P0PvcK4UuvR4E4gU"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">尤里·卡塔拉诺在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="aa7d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="301e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">块语句可以用更好的方式编写。</p><p id="bb4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有很多方法可以给我们足够的空间来提高可读性，同时又不会占用太多空间。</p><p id="4ce4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，花括号应该总是包围块，以便我们总是知道他们开始或结束。</p></div></div>    
</body>
</html>