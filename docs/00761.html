<html>
<head>
<title>REST API Exception Handling in Spring Boot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spring Bootçš„REST APIå¼‚å¸¸å¤„ç†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/rest-api-exception-handling-in-spring-boot-d6b3272e7e21?source=collection_archive---------0-----------------------#2020-06-16">https://blog.devgenius.io/rest-api-exception-handling-in-spring-boot-d6b3272e7e21?source=collection_archive---------0-----------------------#2020-06-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/4b93da1acd11a20dff6e7fdd1f2d6e50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vQhZE1qHwimCGeiC7vHfLA.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="43ed" class="pw-subtitle-paragraph jv ix iy bd b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dk translated">ä»€ä¹ˆæ˜¯ä¾‹å¤–ï¼Ÿ</h2></div><p id="d8b9" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">å¼‚å¸¸æ˜¯ä¸€ç§ä¸å¸Œæœ›çš„æˆ–ä¸å¯é¢„è§çš„æƒ…å†µï¼Œå®ƒå‘ç”Ÿåœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´ï¼Œå³è¿è¡Œæ—¶ï¼Œä¼šä¸­æ–­ç¨‹åºã€‚</p><p id="6ecf" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">åœ¨Spring Bootå¦‚ä½•å¤„ç†å¼‚å¸¸ï¼Ÿ</p><p id="c607" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">åœ¨Spring Bootä¸­æœ‰è®¸å¤šå¤„ç†å¼‚å¸¸çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬å°†å…³æ³¨â€œå¦‚ä½•ä¸ºæ¯ä¸ªAPIå…¨å±€å¤„ç†å¼‚å¸¸ï¼Ÿâ€ã€‚</p><p id="ca7b" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">æˆ‘ä»¬å°†ä½¿ç”¨@ <strong class="kp iz"> ControllerAdviceå’Œ@ExceptionHandler </strong>åœ¨ä¸€ä¸ªåœ°æ–¹å¤„ç†æ‰€æœ‰å¼‚å¸¸ï¼Œå› æ­¤å¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œå®ƒå°†é€šè¿‡æˆ‘ä»¬çš„å¤„ç†æ–¹æ³•ã€‚</p><p id="3f5c" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated"><strong class="kp iz"> @ControllerAdvice </strong></p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="a29d" class="ls lt iy lo b gy lu lv l lw lx">@ControllerAdvice<!-- --> is a specialization of the <!-- -->@Component<!-- --> annotation which allows to handle exceptions across the whole application in one global handling component. It can be viewed as an interceptor of exceptions thrown by methods annotated with <!-- -->@RequestMapping<!-- --> and similar.</span></pre><p id="e270" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated"><strong class="kp iz">@å¼‚å¸¸å¤„ç†ç¨‹åº</strong></p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="3bb1" class="ls lt iy lo b gy lu lv l lw lx">Annotation for handling exceptions in specific handler classes and/or handler methods.</span></pre><p id="0761" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">ä¸ºäº†å¤„ç†å¼‚å¸¸ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ‰€æœ‰å¼‚å¸¸çš„å“åº”åˆ›å»ºä¸€ä¸ªé€šç”¨ç±»ã€‚</p><figure class="lj lk ll lm gt ip"><div class="bz fp l di"><div class="ly lz l"/></div></figure><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="10e1" class="ls lt iy lo b gy lu lv l lw lx"><strong class="lo iz">errorMessage</strong>: The message that we want to display to the end user.</span><span id="04ee" class="ls lt iy lo b gy ma lv l lw lx"><strong class="lo iz">errorCode</strong>: Http Status Code</span><span id="9c22" class="ls lt iy lo b gy ma lv l lw lx"><strong class="lo iz">timestamp</strong>: Time when an exception is thrown</span></pre><p id="8779" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">ç°åœ¨ï¼Œå¯¹äºæ¯ç§ç±»å‹çš„å¼‚å¸¸ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºå•ç‹¬çš„ç±»ã€‚</p><p id="d7a6" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">å¸¸è§ä½¿ç”¨æ¡ˆä¾‹:</p><ul class=""><li id="c42f" class="mb mc iy kp b kq kr kt ku kw md la me le mf li mg mh mi mj bi translated"><em class="mk">æœªæˆæƒå¼‚å¸¸401 </em></li><li id="6606" class="mb mc iy kp b kq ml kt mm kw mn la mo le mp li mg mh mi mj bi translated"><em class="mk">æœªæ‰¾åˆ°èµ„æºå¼‚å¸¸404 </em></li><li id="bb68" class="mb mc iy kp b kq ml kt mm kw mn la mo le mp li mg mh mi mj bi translated"><em class="mk">èµ„æºå·²ç»å­˜åœ¨/å†²çª409 </em></li><li id="a761" class="mb mc iy kp b kq ml kt mm kw mn la mo le mp li mg mh mi mj bi translated"><em class="mk">é”™è¯¯è¯·æ±‚/è‡ªå®šä¹‰å¼‚å¸¸400 </em></li></ul><p id="9a2f" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated"><strong class="kp iz">åˆ›å»ºç±»åˆ«</strong></p><ul class=""><li id="624e" class="mb mc iy kp b kq kr kt ku kw md la me le mf li mg mh mi mj bi translated">UnauthorizedException.java</li></ul><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="b992" class="ls lt iy lo b gy lu lv l lw lx">/**<br/> * @author anuragdhunna<br/> */<br/>public class UnauthorizedException extends RuntimeException {<br/><br/>    public UnauthorizedException(String message) {<br/>        super(message);<br/>    }<br/><br/>}</span></pre><ul class=""><li id="0c8e" class="mb mc iy kp b kq kr kt ku kw md la me le mf li mg mh mi mj bi translated">ResourceNotFoundException.java</li></ul><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="2dce" class="ls lt iy lo b gy lu lv l lw lx">/**<br/> * @author anuragdhunna <br/> */<br/><br/>public class ResourceNotFoundException extends RuntimeException {<br/><br/>    public ResourceNotFoundException(String message) {<br/>        super(message);<br/>    }<br/><br/>}</span></pre><ul class=""><li id="a92f" class="mb mc iy kp b kq kr kt ku kw md la me le mf li mg mh mi mj bi translated">ResourceAlreadyExists.java</li></ul><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="fef4" class="ls lt iy lo b gy lu lv l lw lx">/**<br/> * @author anuragdhunna <br/> */<br/>public class ResourceAlreadyExists extends RuntimeException {<br/><br/>    public ResourceAlreadyExists(String message) {<br/>        super(message);<br/>    }<br/>}</span></pre><ul class=""><li id="d9f8" class="mb mc iy kp b kq kr kt ku kw md la me le mf li mg mh mi mj bi translated">CustomException.java</li></ul><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="9611" class="ls lt iy lo b gy lu lv l lw lx">/**<br/> * @author anuragdhunna <br/> */<br/>public class CustomException extends RuntimeException {<br/><br/>    public CustomException(String message) { super(message); }<br/><br/>}</span></pre><p id="4922" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">ç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨@ControllerAdviceåˆ›å»ºå…¨å±€å¼‚å¸¸å¤„ç†ç±»</p><figure class="lj lk ll lm gt ip"><div class="bz fp l di"><div class="ly lz l"/></div></figure><p id="17d4" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">ç°åœ¨æ‰€æœ‰çš„å¼‚å¸¸éƒ½é€šè¿‡<strong class="kp iz">GlobalExceptionHandle</strong>ræ¥å¤„ç†ã€‚</p><p id="d387" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">è®©æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹:</p><p id="deae" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">åœ¨æ‚¨é€‰æ‹©çš„ä»»ä½•æ§åˆ¶å™¨ä¸­åˆ›å»ºæ–¹æ³•:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="8d19" class="ls lt iy lo b gy lu lv l lw lx">@RequestMapping(value = "/testExceptionHandling", <br/>method = RequestMethod.<strong class="lo iz"><em class="mk">GET</em></strong>)<br/>public String testExceptionHandling(@RequestParam int code) {<br/>    switch (code) {<br/>        case 401:<br/>            throw new UnauthorizedException("You are not authorized");<br/>        case 404:<br/>            throw new ResourceNotFoundException("Requested resource is not found.");<br/>        case 400:<br/>            throw new CustomException("Please provide resource id.");<br/>        case 409:<br/>            throw new ResourceAlreadyExists("Resource already exists in DB.");<br/><br/>        default:<br/>            return "Yeah...No Exception.";<br/><br/>    }<br/>}</span></pre><p id="0618" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">API:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="50cf" class="ls lt iy lo b gy lu lv l lw lx">http://localhost:5000/api/testExceptionHandling?code=401</span></pre><p id="dc7c" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">å›åº”:</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="fb08" class="ls lt iy lo b gy lu lv l lw lx">{<br/> "errorMessage": "You are not authorized",<br/> "errorCode": "UNAUTHORIZED",<br/> "timestamp": "14-06-2020 04:51:13"<br/>}</span></pre><h1 id="f3a0" class="mq lt iy bd mr ms mt mu mv mw mx my mz ke na kf nb kh nc ki nd kk ne kl nf ng bi translated">åœ¨ä½ èµ°ä¹‹å‰â€¦</h1><h1 id="a693" class="mq lt iy bd mr ms mt mu mv mw mx my mz ke na kf nb kh nc ki nd kk ne kl nf ng bi translated">å¦‚æœä½ å–œæ¬¢â¤çš„è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹å‡»ğŸ‘é¼“æŒã€‚</h1><p id="9c2c" class="pw-post-body-paragraph kn ko iy kp b kq nh jz ks kt ni kc kv kw nj ky kz la nk lc ld le nl lg lh li ig bi translated">å¦‚æœä½ çŸ¥é“æœ‰äººå¯èƒ½ä¼šæå–ä»·å€¼ï¼Œè¯·<strong class="kp iz">åˆ†äº«</strong>ã€‚æˆ‘ä¼šåœ¨<strong class="kp iz">è¯„è®º</strong>ã€<strong class="kp iz">åé¦ˆ</strong>ä¸­å¯»æ‰¾ä½ çš„<strong class="kp iz">æ„è§</strong>å’Œ<strong class="kp iz">å»ºè®®</strong>ã€‚</p></div></div>    
</body>
</html>