<html>
<head>
<title>How to deploy a website on a domain name using AWS Route 53</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 AWS Route 53 在域名上部署网站</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-deploy-a-website-on-a-domain-name-113fe6c86329?source=collection_archive---------10-----------------------#2022-12-10">https://blog.devgenius.io/how-to-deploy-a-website-on-a-domain-name-113fe6c86329?source=collection_archive---------10-----------------------#2022-12-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="5615" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">网络世界是一个迷人的地方。每一点知识都是一种探索。如果你是一个网站开发者，你也在为它做贡献，通过建立精彩的网站和添加优秀的功能。所有这些了不起的东西不应该仅限于本地主机。我们部署它们，让全世界都能看到它们，与它们互动，为它们做出贡献。我们来说说在一个域名上部署一个网站。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0de81ab0f839e89db079f789b604de92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BlxawdHXokfiPtVpARmUfg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">感谢 KOBU Agency 在 unsplash 上提供这张照片</figcaption></figure><p id="1e0b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">正如你所猜测的，我们需要一个域名。我已经注册了一个，即来自 GoDaddy 的 rohankumarthakur.co.in，所以让我们用它来托管我们的网站，并将其命名为<domain-name>。我们会用 HTML 做一个简单的网站，撒一些 CSS 进去。你可以创造你自己的或者克隆一个由我<a class="ae ky" href="https://github.com/Xebec19/Xebec19" rel="noopener ugc nofollow" target="_blank">https://github.com/Xebec19/Xebec19</a>建造的。现在我们需要将这些文件存储在某个地方。现在，让我们使用 AWS 的 S3 来存储我们的文件。<br/>注:如需进一步了解，您可以关注本教程<a class="ae ky" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/website-hosting-custom-domain-walkthrough.html#website-hosting-custom-domain-walkthrough-domain-registry" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon S3/latest/user guide/website-hosting-custom-domain-walk through . html # website-hosting-custom-domain-walk through-domain-registry</a>或关注我们。<br/>我们将创建两个存储桶，一个与我们的域名如 rohankumarthakur.co.in 同名，另一个用于我们的子域如 www.rohankumarthakur.co.in。这个想法是在域名桶上托管网站，并使用另一个桶作为重定向。</domain-name></p><h1 id="0236" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">在 S3 桶中保存文件</strong></h1><p id="27e5" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">让我们创建第一个与域名同名的 bucket。<br/> <strong class="jm io"> 1。我们将登录我们的 AWS 管理控制台<br/> 2。去 S3 <br/> 3。创建一个名为“rohankumarthakur.co.in”的存储桶(在您的情况下，它将是您的域名的名称)<br/> 4。将我们的文件保存在其中</strong> <br/>目前，默认情况下，公共访问我们的存储桶是被阻止的。我们需要消除这种限制。我们将<br/> <strong class="jm io"> 1。访问我们桶<br/> 2 的权限部分。阻止公共访问<br/> 3。4 点击<br/>中的‘编辑’。取消选中阻止公共访问。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mc"><img src="../Images/4286d171e524c3634858fdb8a2aeca2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YqbYHDDWOk7Uz3ryneI8kQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">存储桶的权限部分</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/3c4b3aa725ea43e33ccd5e79d8ce6ae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vDLKpYvj2JFPKDffU7qicA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">取消选中下一页的“阻止所有公共访问”</figcaption></figure><p id="86df" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们需要将公共读取权限添加到我们的存储桶中，因为我们需要人们访问我们的网站并查看其内容。我们可以通过添加一个存储桶策略来实现。<br/>添加一个斗策，<strong class="jm io"> 1。拜访你的水桶<br/> 2。转到许可选项卡<br/> 3。转到存储桶策略<br/> 4。单击“编辑”并添加以下行以添加策略。</strong></p><pre class="kj kk kl km gt me mf mg bn mh mi bi"><span id="9cea" class="mj la in mf b be mk ml l mm mn">{<br/>    "Version": "2012-10-17",<br/>    "Statement": [<br/>        {<br/>            "Sid": "PublicReadGetObject",<br/>            "Effect": "Allow",<br/>            "Principal": "*",<br/>            "Action": [<br/>                "s3:GetObject"<br/>            ],<br/>            "Resource": [<br/>                "arn:aws:s3:::Bucket-Name/*"<br/>            ]<br/>        }<br/>    ]<br/>}</span></pre><p id="3572" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们需要打开网站的静态托管。<br/> <strong class="jm io"> 1。我们回到我们的水桶<br/> 2。访问属性选项卡<br/> 3。向下滚动到静态网站托管部分<br/> 4。5 点击【编辑】<br/>。选中以启用“静态网站托管”<br/> 6。检查“托管静态网站”中的“托管类型”7。输入你的主 HTML 文件为索引文件(在我们的例子中它将 index.html)<br/>8。单击保存更改。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/25be686b4a4500bf9e8eda2cc9247c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jeI1IjcPBxePYfKKtJxX-g.png"/></div></div></figure><p id="2728" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们的网站托管在 AWS 提供的 URL 上，您可以在属性选项卡的“静态托管”部分找到该 URL，并测试您的网站。在下面的步骤中，我们将创建一个从<a class="ae ky" href="http://www.domain-name.co" rel="noopener ugc nofollow" target="_blank">www.domain-name.co</a>到 domain-name.co 的重定向。<br/>让我们创建第二个桶，我们将使用它从“<a class="ae ky" href="http://www.domain-name.co" rel="noopener ugc nofollow" target="_blank">www.domain-name.co</a>”重定向到“域名.公司”。这一次，bucket name 应该是<a class="ae ky" href="http://www.domain-name.co," rel="noopener ugc nofollow" target="_blank">www.domain-name.co，在我们的例子中应该是</a>www.rohankumarthakur.co.in。现在来设置重定向，<br/> <strong class="jm io"> 1。我们去我们的第二桶<br/> 2。转到属性选项卡<br/> 3。向下滚动到静态网站托管<br/> 4。选中启用“静态网站托管”5。检查托管类型<br/> 6 的“重定向对象请求”。输入你的域名作为主机名<br/> 7。检查 HTTP 协议<br/> 8。点击【保存修改】</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/dce2ea10cfacd1fd8b8aedde9bbda2fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7ao4SCTGGfNExfxcW1RVQ.png"/></div></div></figure><p id="7d7c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们用完了水桶。在接下来的步骤中，我们将使用 AWS Route 53 创建一个托管区域，在 DNS 中更新我们的名称服务器，并在我们的托管区域中创建两个记录:-一个用于我们的域，另一个用于从<a class="ae ky" href="http://www.domain-name.co" rel="noopener ugc nofollow" target="_blank">www.domain-name.co</a>重定向到 domain-name.co。</p><h1 id="cdb3" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">在 53 号公路上创建托管区域</h1><p id="9d7e" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">创建一个托管区域，<br/> <strong class="jm io"> 1。我们将在 AWS <br/> 2 中参观 53 号公路。点击“创建托管区域”<br/> 3。在“托管区域”中输入您的域名<br/> 4。检查类型<br/> 5 中的“公共托管区域”。点击【保存修改】</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/8efc03c7b86126fc2c119e46408eebab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F3uHYnBFG0JjqXewzBqiWQ.png"/></div></div></figure><p id="9837" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，当我们访问托管区域并向下滚动一点时。我们会在那里找到一些域名服务器。我们将复制它们(忽略。即每个条目结束时的句号)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/d29e83afa9f1a5b0efee01964479986d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUkBjRg7NuW4dq_rqwBFnQ.png"/></div></div></figure><p id="2212" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">域名服务器是 DNS 中的一个服务器，它将域名转换成 IP 地址。当您访问您的域名提供商并登录我们的帐户时，在域名设置或 DNS 管理部分，您会发现您的域名提供商已经为您提供了一些默认的域名服务器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/6c73a4720c800bbb55215c39417e16a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9u9QVR_pSC2fxNq-uVGTfQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/9285d0e78fb7012b6e7506f0890ba782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WKdc1z9bM9ptaHFRKNM38w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">默认名称服务器</figcaption></figure><p id="bb20" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将用托管区域中提供的名称服务器替换它们。然后，我们在托管区域中创建一个记录。我们选择了“简单”的路由策略。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/2e400c494ea6fb54dfcb8a0ff7a4fdbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hSCEZTZhc0llE7hloJz7vQ.png"/></div></div></figure><p id="008b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在下一步，即配置记录，我们定义两条记录:-一条用于我们的 domain-name.co，另一条用于<a class="ae ky" href="http://www.domain-name.co." rel="noopener ugc nofollow" target="_blank">www.domain-name.co。</a>首先，让我们为 domain-name.co 创造。点击“定义简单记录”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/8a9eb779d16520a6f7dec1476cb07df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u-MQIEF_dN7I0SkJoMp9_Q.png"/></div></div></figure><p id="01e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将子域留空，在记录类型中，主要有两种类型的记录类型，即 A 和 CNAME，<strong class="jm io">A 记录将一个主机名映射到一个或多个 IP 地址，而 CNAME 记录将一个主机名映射到另一个主机名</strong>。在我们的例子中，我们将选择一个记录类型。由于我们已经在 S3 而不是我们自己的服务器上部署了我们的网站，我们将设置<strong class="jm io">值/路由流量到</strong>到<strong class="jm io">别名到 S3 网站端点</strong>并输入 S3 桶<strong class="jm io">的凭证。</strong>我们应该让<strong class="jm io"> </strong>确保我们的 bucket 的名称与我们的域名相同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/4725d9793640e7dd53c4674aa6fd3a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F3hoxo71v-23RV0yrI7HBg.png"/></div></div></figure><p id="c802" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，我们还必须为我们的子域创建一个记录，即<a class="ae ky" href="http://www.domain-name.co." rel="noopener ugc nofollow" target="_blank">www.domain-name.co。</a>我们将遵循与为 domain-name.co 创建记录相同的步骤，但是这次我们在子域输入中输入“www ”,并确保我们的 bucket 的名称是<a class="ae ky" href="http://www.domain-name.co." rel="noopener ugc nofollow" target="_blank">www.domain-name.co。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/cd95d98757257bbd5a67a23f67724ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*axNIcSjI8vLbqCQmFApXEw.png"/></div></div></figure><p id="be1c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建两个记录后，我们单击“创建记录”。更新您的托管区域可能需要几分钟时间。现在，如果我们访问 http://domain-name.com 或 http://www.domain-name.com，我们可以在那里看到我们的网站。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/c1e7731c63ee6046c9e3d5c451a70536.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r2n3_MVtVoEg9m2eoAmBcQ.png"/></div></div></figure><p id="6bc1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意:您将在 53 号公路上产生费用。您可能想要部署一个 web 应用程序或向您的网站添加一个 SSL 证书。我们将在下一篇文章中讨论这两个问题。希望这篇文章对你有所帮助。</p></div></div>    
</body>
</html>