<html>
<head>
<title>Top React Hooks — Select and SVG Canvas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">顶部反应挂钩—选择和 SVG 画布</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/top-react-hooks-select-and-svg-canvas-53288eb86325?source=collection_archive---------0-----------------------#2020-10-11">https://blog.devgenius.io/top-react-hooks-select-and-svg-canvas-53288eb86325?source=collection_archive---------0-----------------------#2020-10-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/866939b29c48bbd7b80739ec623d39fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NeU4MkA5z_M4dG_B"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">安德烈·费塔多在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="2a15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks 包含了 React 应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的 React 挂钩。</p><h1 id="82ae" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应钩子库</h1><p id="2fae" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Hooks Lib 是一个库，有许多可重用的 React Hooks。</p><p id="e382" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们可以运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fe7a" class="mn lc iq mj b gy mo mp l mq mr">npm i react-hooks-lib --save</span></pre><p id="2699" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用库附带的钩子。</p><p id="7367" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe ms mt mu mj b">useField</code>属性将选择的值绑定到一个状态。</p><p id="be9d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fa46" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useField } from "react-hooks-lib";</span><span id="4179" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { value, bind } = useField("apple");</span><span id="e7e9" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;select {...bind}&gt;<br/>        &lt;option value="apple"&gt;apple&lt;/option&gt;<br/>        &lt;option value="orange"&gt;orange&lt;/option&gt;<br/>        &lt;option value="grape"&gt;grape&lt;/option&gt;<br/>      &lt;/select&gt;<br/>      &lt;p&gt;{value}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="4eb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个带有选择元素初始值的<code class="fe ms mt mu mj b">useField</code>钩子。</p><p id="2218" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bind</code>是一个用<code class="fe ms mt mu mj b">value</code>和<code class="fe ms mt mu mj b">onChange</code>处理程序自动绑定到选择框的对象。</p><p id="4bba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">value</code>具有从下拉列表中选择的值。</p><p id="3df3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它附带了许多其他钩子来操作其他类型的状态，比如数组，并且还监视 DOM 元素的变化。</p><p id="b829" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，它有钩子来模仿 React 类组件的生命周期方法。</p><h1 id="6822" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">react-hooks-svgdrawing</h1><p id="e478" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">react-hooks-svgdrawing 库让我们可以轻松地在应用程序中创建一个绘图区域。</p><p id="bbf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过运行以下命令来安装它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e6b0" class="mn lc iq mj b gy mo mp l mq mr">yarn add react react-hooks-svgdrawing</span></pre><p id="ea9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0b9c" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useSvgDrawing } from "react-hooks-svgdrawing";</span><span id="d4c8" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [renderRef, draw] = useSvgDrawing();<br/>  return &lt;div style={{ width: 500, height: 500 }} ref={renderRef} /&gt;;<br/>}</span></pre><p id="edbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后将<code class="fe ms mt mu mj b">renderRef</code>作为<code class="fe ms mt mu mj b">ref</code>属性的值传递给 div，使 div 成为一个绘图区域。</p><p id="82c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">钩子可以带不同选项的对象。</p><p id="b743" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="57fd" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useSvgDrawing } from "react-hooks-svgdrawing";</span><span id="434b" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [renderRef, draw] = useSvgDrawing({<br/>    penWidth: 10,<br/>    penColor: "red",<br/>    close: true,<br/>    curve: false,<br/>    delay: 60,<br/>    fill: ""<br/>  });<br/>  return &lt;div style={{ width: 500, height: 500 }} ref={renderRef} /&gt;;<br/>}</span></pre><p id="baa0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">penWidth</code>有笔的宽度。</p><p id="2a92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">penColor</code>有笔的颜色。</p><p id="e766" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">close</code>设置为<code class="fe ms mt mu mj b">true</code>表示绘图路径将被关闭。</p><p id="2911" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">curve</code>对路径使用曲线命令。</p><p id="1b0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">delay</code>是在绘制点之前等待的毫秒数。</p><p id="ef66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">fill</code>有路径的填充。</p><p id="cded" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有各种我们可以使用的方法。</p><p id="ceff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们是<code class="fe ms mt mu mj b">draw</code>方法的一部分。</p><p id="b7e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8583" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useSvgDrawing } from "react-hooks-svgdrawing";</span><span id="35ce" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [renderRef, draw] = useSvgDrawing();<br/>  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; draw.download("png")}&gt;download&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; draw.undo()}&gt;undo&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; draw.changePenColor("red")}&gt;changePenColor&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; draw.changePenWidth(10)}&gt;changePenWidth&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; draw.changeFill("green")}&gt;changeFill&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; draw.changeDelay(10)}&gt;changeDelay&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; draw.changeCurve(false)}&gt;changeCurve&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; draw.changeClose(true)}&gt;changeClose&lt;/button&gt;<br/>      &lt;div style={{ width: 500, height: 500 }} ref={renderRef} /&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="009d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来调用<code class="fe ms mt mu mj b">draw</code>的各种方法。</p><p id="bc38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">download</code>下载给定格式的图纸。</p><p id="fd03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">undo</code>撤销最后一次更改。</p><p id="03d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">changePenColor</code>改变笔的颜色。</p><p id="c1ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">changePenWidth</code>改变笔的宽度。</p><p id="48f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">changeFill</code>改变钢笔的填充。</p><p id="848a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">changeDelay</code>改变绘制圆点的延迟。</p><p id="667e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">changeCurve</code>设置 SVG 路径元素是否使用弯逗号。</p><p id="d586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">chnageClose</code>设置是否关闭路径。</p><p id="6e3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe ms mt mu mj b">getSvgXML</code>方法来获取 SVG 代码。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/9073ad5131a72f8636d17010f79f4abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*41NxCFKH7RnaIoJE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">安德烈·费塔多在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="f680" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="6175" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React 钩子库有<code class="fe ms mt mu mj b">useField</code>和许多其他有用的钩子。</p><p id="6801" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">react-hooks-svgdrawing 为我们提供了一个可配置的绘图区域。</p><p id="2633" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以下载绘图并从中获得 SVG 代码。</p></div></div>    
</body>
</html>