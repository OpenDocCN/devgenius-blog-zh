<html>
<head>
<title>Calculating Relative Points from different frame sizes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">根据不同的帧大小计算相对点</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/calculating-relative-points-from-different-frame-sizes-6d6560615de5?source=collection_archive---------20-----------------------#2022-07-25">https://blog.devgenius.io/calculating-relative-points-from-different-frame-sizes-6d6560615de5?source=collection_archive---------20-----------------------#2022-07-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1634" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你在你的应用程序/网站中使用代码进行绘制，并且窗口小部件/视图/画布的大小并不总是相同，这将有助于你在不同的屏幕尺寸下保持一致！</p><p id="c1dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇文章主要是让我快速找到这些信息的一种方法，毕竟，我在桌子附近的一张纸上有这个公式。但是我想把它放在互联网上的某个地方，我想和大家分享它，因为我正在发表一些关于如何用 Swift 进行基本绘图的文章。</p><p id="4fbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将使用一个非常简单的例子来更容易理解这些公式在做什么。</p><h2 id="1f83" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated"><strong class="ak">让我们从一个例子开始</strong></h2><p id="dcc5" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">我用 Figma 做了一个简单的 SVG 形状，然后我开始用代码在上面画画。此外，我的目标是每个点在每个设备中占据相同的相对位置，不管我的屏幕大小是否改变。</p><p id="8cda" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好吧。我们的图像是 5x5(宽 x 高)，SVG 的第一个点是点(x: 2，y: 3)。我们想把它转换成一个 1000x1000(宽 x 高)的框架。</p><div class="lg lh li lj gt ab cb"><figure class="lk ll lm ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/c7f0275bb52f16784cf47519265a6111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*NXjkGhmsYWfz14XXaI9yAw.png"/></div></figure><figure class="lk ll lx ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/5b2a8133d638d0c977ff99946b68c23e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*1Zf5wkGDTqPe-EZ1vs74pQ.png"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk mc di md me translated">展示两种不同尺寸的两张图表</figcaption></figure></div><p id="e047" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有了方对方的观点，更容易看到我们的点在哪里，但是我们如何计算我们的点应该在哪里呢？</p><p id="f3da" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">给定原始和新的帧尺寸以及原始点，下面的公式计算新的点应该在哪里。</p><figure class="lg lh li lj gt ll gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/4fab6b680edccf1ca2baa843cc13ac68.png" data-original-src="https://miro.medium.com/v2/resize:fit:326/0*1KZIsFuviXtrOJGq"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">x 点公式</figcaption></figure><figure class="lg lh li lj gt ll gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/5b3d05b06862fe047cd32d1627715e01.png" data-original-src="https://miro.medium.com/v2/resize:fit:316/0*tbNnza_P7cU5wzfH"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">y 点公式</figcaption></figure><ul class=""><li id="4a81" class="mh mi in jm b jn jo jr js jv mj jz mk kd ml kh mm mn mo mp bi translated">Ow:原始宽度；</li><li id="1d13" class="mh mi in jm b jn mq jr mr jv ms jz mt kd mu kh mm mn mo mp bi translated">哦:原来的身高；</li><li id="0c09" class="mh mi in jm b jn mq jr mr jv ms jz mt kd mu kh mm mn mo mp bi translated">Cw:当前宽度；</li><li id="84bf" class="mh mi in jm b jn mq jr mr jv ms jz mt kd mu kh mm mn mo mp bi translated">Ch:当前高度；</li><li id="db12" class="mh mi in jm b jn mq jr mr jv ms jz mt kd mu kh mm mn mo mp bi translated">X:点的原始 X 位置；</li><li id="a44a" class="mh mi in jm b jn mq jr mr jv ms jz mt kd mu kh mm mn mo mp bi translated">Y:点的原始 Y 位置；</li></ul><p id="6f64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这样，你就能得到正确的相对点。利用前面的例子，我们可以计算点数:</p><pre class="lg lh li lj gt mv mw mx my aw mz bi"><span id="203a" class="ki kj in mw b gy na nb l nc nd">From frame (5 x 5) to frame (1000 x 1000)<br/>Original point at (x: 2, y: 3)</span><span id="e0ec" class="ki kj in mw b gy ne nb l nc nd">XPoint(2) = x * Cw / Ow = 2 * 1000 / 5 = 400<br/>YPoint(3) = y * Ch / Oh = 3 * 1000 / 5 = 600</span></pre><p id="3201" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这样，我们知道我们的点应该在(x: 400，y: 600)。下图用于比较，第一张图是具有原始帧大小的原始点，第二张图是具有我们刚刚计算的点的新帧大小:</p><div class="lg lh li lj gt ab cb"><figure class="lk ll nf ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/c7f0275bb52f16784cf47519265a6111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*NXjkGhmsYWfz14XXaI9yAw.png"/></div></figure><figure class="lk ll ng ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/9eed209fca4d076beef99a7f8e7c6b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*64Mo94Gj0_vtb6Pjc9MsrQ.png"/></div></figure></div><p id="bb4d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">不错！我们拿到了。现在，如果我们想将其转换为不同的大小(如 200x300 和 500x200)，我们知道我们的点将始终停留在我们定义的相对点:</p><div class="lg lh li lj gt ab cb"><figure class="lk ll nh ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/a5841c51e4b1756e3f4e9161c01ab947.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*2x6guSELZFM6XIz1cnhKfA.png"/></div></figure><figure class="lk ll ni ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/b590e4bbf194c7c03195f670e4d734f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1452/format:webp/1*_qNwm-uOkro4mvlKDfaahA.png"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk nj di nk me translated">200x300 和 500x200 网格(宽 x 高)</figcaption></figure></div><p id="d86c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">略高于一半高度，略低于一半宽度。整洁！</p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><h2 id="99d1" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">还有什么？</h2><p id="f1cf" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">你可能已经意识到，在计算它们的时候，有些数据会重复出现。当我们已经有一个原点和原始尺寸时，我们可以简化公式。从我们之前的示例开始，使用网格为 5x5 的点(x: 2，y: 3 ),我们可以预先计算:</p><pre class="lg lh li lj gt mv mw mx my aw mz bi"><span id="350f" class="ki kj in mw b gy na nb l nc nd">Kx = 2/5 = 0,4 // x divided by width<br/>Ky = 3/5 = 0,6 // y divided by height</span></pre><p id="3812" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，在我们的代码中，不是每次都使用除法，然后乘以框架的宽度或高度，而是可以乘以我们刚刚找到的常数，从而将我们的公式简化为:</p><figure class="lg lh li lj gt ll gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/09a9bc54de2e3727b4a06e991c57bc40.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/0*Zus3Hlhq9NI8FbI5"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">x 点公式</figcaption></figure><figure class="lg lh li lj gt ll gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/3d6d0d75f83bd4e2e099024c289cce30.png" data-original-src="https://miro.medium.com/v2/resize:fit:312/0*Sk_e8QDCZhz0uRgX"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">y 点公式</figcaption></figure><p id="82c1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">其中 K 是我们上面计算的常数。</p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="edd4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">感谢您的阅读！如果你想联系我，请在<a class="ae nu" href="https://twitter.com/LuizPedroGuerra" rel="noopener ugc nofollow" target="_blank">推特</a>上添加评论或给我发消息！</p><p id="3d43" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">此外，我没有找到任何关于这个或另一个名称定义这一点的材料。如果你找到了，我很想读一读！</p></div></div>    
</body>
</html>