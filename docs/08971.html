<html>
<head>
<title>The Complete JS Notes #11 🧵 Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">完整的 JS 注释#11 🧵函数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-complete-js-notes-10-46f8bc8c2a5d?source=collection_archive---------10-----------------------#2022-07-21">https://blog.devgenius.io/the-complete-js-notes-10-46f8bc8c2a5d?source=collection_archive---------10-----------------------#2022-07-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3f491401c86adae3ef18f2e659dcff52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M_nvlASF0vQF2WmD"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">保罗·埃施-洛朗在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="ef75" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">欢迎阅读我的 JavaScript 笔记的下一篇文章。</em></p><p id="6ee3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">在本文中我们将讨论:</em> <strong class="kc io"> <em class="ky">函数、IIFE、闭包</em> </strong></p><p id="8d78" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">所有内容摘自 Jonas Schmedtmann 的惊人课程</em> <a class="ae jz" href="https://www.udemy.com/course/the-complete-javascript-course/" rel="noopener ugc nofollow" target="_blank"> <em class="ky">完整的 JavaScript 课程 2022:从零到专家！</em> </a></p><p id="e1dc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请购买课程以了解内容，这只是我对课程的总结笔记。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><figure class="lh li lj lk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lg"><img src="../Images/d6e0a02a8b101cad7a39c8c839c72b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_r9XfbAlCpMauTkY1sK1cg.png"/></div></div></figure></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><h1 id="60aa" class="ll lm in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">立即调用函数表达式(IIFE)</h1><pre class="lh li lj lk gt mj mk ml mm aw mn bi"><span id="bdca" class="mo lm in mk b gy mp mq l mr ms">(function () {</span><span id="3ede" class="mo lm in mk b gy mt mq l mr ms">console.log(‘This function will never run again’);</span><span id="1eba" class="mo lm in mk b gy mt mq l mr ms">})();</span></pre><p id="8fff" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里有两件事很重要</p><ul class=""><li id="f566" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated">我们必须在括号内创建 IIFE 语句，否则会抛出错误</li><li id="7f81" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">我们必须在创建后调用它，否则我们不能再次调用它。</li></ul><p id="962b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">它还有一个箭头功能版本</p><pre class="lh li lj lk gt mj mk ml mm aw mn bi"><span id="c833" class="mo lm in mk b gy mp mq l mr ms">(() =&gt; console.log(‘This function ALSO will never run again’))();</span></pre><p id="cbba" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">小心括号</p><p id="4f30" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那么我们为什么需要这个生命的东西呢？我们需要它，因为它有助于数据封装和数据隐私。</p><h1 id="8a54" class="ll lm in bd ln lo ni lq lr ls nj lu lv lw nk ly lz ma nl mc md me nm mg mh mi bi translated">关闭</h1><figure class="lh li lj lk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/a147f991093245bf441c23f0d0e0bc02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2ksjE5j8knVFRB7VQuZcA.png"/></div></div></figure><p id="8003" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里发生了一件有趣的事情。即使我们移出了 secureBooking 函数，它返回的函数也能够到达它的变量并递增它？WTF 对吧？</p><p id="cb70" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">任何函数总是可以访问创建该函数的执行上下文的可变环境。</p><figure class="lh li lj lk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/9ceb0c471dd0e01bbd8ee9260461266c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H2tXuZO4S14WxK18_2F4yQ.png"/></div></div></figure><p id="4e35" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这种连接被称为闭合</p><figure class="lh li lj lk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/d9407092e10f97f76eeec39aafb5eb52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PnwVtPDkavni3RR9f-Ak7A.png"/></div></div></figure><figure class="lh li lj lk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/2f64e83695eb2772d29deaae4b52fba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RqX5rlF_5KG1TP9slaJyZQ.png"/></div></div></figure><p id="f98d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们可以用我们创建的匿名函数 console.dir</p><figure class="lh li lj lk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/c5d2269c9cb3e6df3a7d09c8091bb5b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZC9mnlmVByk4XVRlcPG6pQ.png"/></div></div></figure><p id="6d04" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里有一些匿名函数的属性</p><p id="7462" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">带双方括号的是内部结构，我们实际上无法触及。在 scopes 属性中，我们可以看到闭包。</p><pre class="lh li lj lk gt mj mk ml mm aw mn bi"><span id="26fa" class="mo lm in mk b gy mp mq l mr ms">let f;</span><span id="d76f" class="mo lm in mk b gy mt mq l mr ms">const c = function () {</span><span id="96a2" class="mo lm in mk b gy mt mq l mr ms">const a = 23;</span><span id="700c" class="mo lm in mk b gy mt mq l mr ms">f = function () {</span><span id="8729" class="mo lm in mk b gy mt mq l mr ms">console.log(a * 2);</span><span id="8982" class="mo lm in mk b gy mt mq l mr ms">};</span><span id="7d21" class="mo lm in mk b gy mt mq l mr ms">};</span><span id="0189" class="mo lm in mk b gy mt mq l mr ms">c();</span><span id="39bb" class="mo lm in mk b gy mt mq l mr ms">f();</span></pre><p id="043d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里疯狂的事情是，即使函数 c 带着它的变量 f 离开了 JS 引擎的调用堆栈，它仍然可以访问和使用它的内容，它甚至没有在 c 中定义，也没有被它返回。</p><figure class="lh li lj lk gt jo gh gi paragraph-image"><div class="gh gi no"><img src="../Images/250106fc569a93ad9f0c49c850768122.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*1YFwe8_lnDoyDinB-qY2Xw.png"/></div></figure><pre class="lh li lj lk gt mj mk ml mm aw mn bi"><span id="cee5" class="mo lm in mk b gy mp mq l mr ms">const boardPassengers = (n, wait) =&gt; {</span><span id="3a44" class="mo lm in mk b gy mt mq l mr ms">const perGroup = n / 3;</span><span id="aec6" class="mo lm in mk b gy mt mq l mr ms">setTimeout(function () {</span><span id="f0b5" class="mo lm in mk b gy mt mq l mr ms">console.log(`We are now boarding all ${n} passengers`);</span><span id="ac0a" class="mo lm in mk b gy mt mq l mr ms">console.log(`We will accept them in ${perGroup} person groups`);</span><span id="7a1e" class="mo lm in mk b gy mt mq l mr ms">});</span><span id="14c0" class="mo lm in mk b gy mt mq l mr ms">console.log(`We will start boarding in ${wait} seconds`);</span><span id="220f" class="mo lm in mk b gy mt mq l mr ms">};</span><span id="9b95" class="mo lm in mk b gy mt mq l mr ms">boardPassengers(30, 2);</span></pre><p id="5175" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是闭包的另一个例子，即使 boardPassengers 函数离开了调用堆栈，我们在 setTimeout 中的函数也可以到达它的变量。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="7e9b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://medium.com/@barisbll/the-complete-js-notes-1-36ea76e326b3" rel="noopener"> <em class="ky">见本 js 笔记第一篇帖子！</em> </a></p><p id="13e7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://medium.com/dev-genius/the-complete-js-notes-10-d979affa85ea" rel="noopener"> <em class="ky">见本 js 笔记跟帖的上一篇！</em> </a></p><p id="7e55" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://medium.com/@barisbll/the-complete-js-notes-11-d9df3de726ed" rel="noopener"> <em class="ky">见本 js 笔记线程下篇！</em> </a></p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="4cc2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://twitter.com/barisbll_dev" rel="noopener ugc nofollow" target="_blank"> <em class="ky">在 twitter 上关注我获取甜蜜内容</em> </a> <em class="ky"> </em>😘</p><p id="98ce" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">在</em> <a class="ae jz" href="https://blog.devgenius.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ky"> Dev Genius </em> </a>中阅读我和许多其他伟大的科技博客作者</p></div></div>    
</body>
</html>