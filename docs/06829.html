<html>
<head>
<title>How to extract the ID of a YouTube or Vimeo URL with Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用 Javascript 提取 YouTube 或 Vimeo URL 的 ID</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-extract-the-id-of-a-youtube-or-vimeo-url-with-javascript-ad5e2d1049a?source=collection_archive---------2-----------------------#2022-02-06">https://blog.devgenius.io/how-to-extract-the-id-of-a-youtube-or-vimeo-url-with-javascript-ad5e2d1049a?source=collection_archive---------2-----------------------#2022-02-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1336" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从 YouTube 或视频 URL 中轻松提取 id 的指南。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/5c0323aed69d34b2a5ac92e7120908cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0bG0dNUzFNINexRo3qiVlQ.jpeg"/></div></div></figure><p id="9e85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有时您会发现自己需要从 URL 中提取 ID。例如，如果您的最终用户在 CMS 系统中工作，他们可以通过输入视频的 URL 来添加视频，所以让他们更容易。这样做的问题是，他们输入的 URL 不是您生成 embed/iframe 所需的 URL。在这些情况下，您会发现自己需要提取 ID，这样您就可以自己生成嵌入的 URL。</p><h1 id="f74d" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">正则表达式</h1><p id="bd03" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">为此，我们需要使用正则表达式。正则表达式使用起来非常强大。简而言之，正则表达式基本上是描述搜索模式的特殊文本字符串。我喜欢使用像<a class="ae ma" href="https://regex101.com/" rel="noopener ugc nofollow" target="_blank">https://regex101.com/</a>这样的服务来测试我的正则表达式模式。</p><p id="bd19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这种情况下，我们将获取字符串(用户输入的字符串)，应用正则表达式并找到 ID，然后返回 ID，并用 ID 构建我们自己的嵌入 URL。</p><h1 id="ea6c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">获取 YouTube URL 的 ID</h1><p id="9457" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们需要做的第一件事是创建 regex 模式，我们将使用它来匹配传递给函数的字符串。</p><p id="5492" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们将匹配字符串和正则表达式，最后返回结果。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="0cfa" class="mg ky iq mc b gy mh mi l mj mk">const getYouTubeVideoIdFromUrl = (url: string) =&gt; {<br/>  // Our regex pattern to look for a youTube ID<br/>  const regExp = /^.*(youtu.be<strong class="mc ir">\/</strong>|v<strong class="mc ir">\/</strong>|u<strong class="mc ir">\/</strong>\w<strong class="mc ir">\/</strong>|embed<strong class="mc ir">\/</strong>|watch\?v=|&amp;v=)([^#&amp;?]*).*/;<br/>  //Match the url with the regex<br/>  const match = url.match(regExp);<br/>  //Return the result<br/>  return match &amp;&amp; match[2].length === 11 ? match[2] : undefined;<br/>};</span></pre><h1 id="b42c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">获取 Vimeo URL 的 ID</h1><p id="1544" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">从 Vimeo URL 获取 ID 与上面的 YouTube 示例非常相似，只是使用了不同的正则表达式模式。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="d11b" class="mg ky iq mc b gy mh mi l mj mk">const getVimeoIdFromUrl = (url: string) =&gt; {<br/>  // Look for a string with 'vimeo', then whatever, then a<br/>  // forward slash and a group of digits.<br/>  const match = /vimeo.*<strong class="mc ir">\/</strong>(\d+)/i.exec(url);<br/>  // If the match isn't null (i.e. it matched)<br/>  if (match) {<br/>    // The grouped/matched digits from the regex<br/>    return match[1];<br/>  }<br/>};</span></pre><p id="41c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">生成您自己的嵌入 URL</p><p id="2c04" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有了上面的函数，你现在可以为 YouTube 和 Vimeo 生成你自己的 URL 了:</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="08e9" class="mg ky iq mc b gy mh mi l mj mk">const generateYouTubeUrl = (videoId: string): string =&gt; {<br/>  return `//www.youtube.com/embed/${videoId}?autoplay=1&amp;autohide=1&amp;showinfo=0&amp;modestbranding=1&amp;controls=0&amp;mute=0&amp;rel=0&amp;enablejsapi=1`;<br/>};</span><span id="078b" class="mg ky iq mc b gy ml mi l mj mk">const generateVimeoUrl = (videoId: string): string =&gt; {<br/>  return `https://player.vimeo.com/video/${videoId}?&amp;autoplay=1&amp;loop=1&amp;title=0&amp;byline=0&amp;portrait=0&amp;muted=1&amp;#t=235s`;<br/>};</span></pre><h1 id="b421" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="44ca" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">正如您可能注意到的，在处理代码时，正则表达式是一个强大的工具。使用正则表达式，可以在字符串中搜索非常具体的条件。非常有用，搜索/匹配模式的可能性非常大。</p><p id="df52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读，我希望你喜欢这篇文章，如果是的话，请点击按钮或订阅来支持我。</p><p id="405d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你还不是一个中等成员，考虑成为一个！你可以从成千上万的作者那里获得像这样的好内容！它有助于支持作家，你也有机会通过写作赚钱。<em class="mm"> </em> <a class="ae ma" href="https://nickychristensen.medium.com/membership" rel="noopener"> <strong class="jp ir">在这里注册每月只需 5 美元。</strong> </a></p><p id="adea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="mm">如果你想订阅我的全部内容，可以点击</em> </strong> <a class="ae ma" href="https://nickychristensen.medium.com/subscribe" rel="noopener"> <strong class="jp ir"> <em class="mm">这里的</em> </strong> </a></p><div class="mn mo gp gr mp mq"><a href="https://javascript.plainenglish.io/stop-using-momentjs-for-dates-this-is-the-better-alternative-2709afb229a0" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd ir gy z fp mv fr fs mw fu fw ip bi translated">停止使用 Moment.js 来表示日期——这是更好的选择</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">在 JavaScript 中使用 Date 对象可能会非常麻烦！如果你没有使用现成的数据库，你可以…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne kv mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a href="https://blog.bitsrc.io/10-things-tips-i-would-tell-my-younger-self-as-a-frontend-developer-and-a-human-being-7959fb8eaf96" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd ir gy z fp mv fr fs mw fu fw ip bi translated">作为开发人员，我会给年轻时的自己 10 个建议</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">作为前端开发人员和人类，我会给自己 10 件东西！</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">blog.bitsrc.io</p></div></div><div class="mz l"><div class="nf l nb nc nd mz ne kv mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a href="https://medium.com/front-end-weekly/a-closer-look-on-array-reduce-with-useful-examples-34f222664e66" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd ir gy z fp mv fr fs mw fu fw ip bi translated">更详细地了解 array.reduce()，并提供有用的示例</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">提高你的 javascript 技能，并通过一些有用的例子来学习如何使用 Array.prototype.reduce()</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">medium.com</p></div></div><div class="mz l"><div class="ng l nb nc nd mz ne kv mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a href="https://javascript.plainenglish.io/typescript-generics-explained-in-2-minutes-c95e49783347" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd ir gy z fp mv fr fs mw fu fw ip bi translated">类型脚本泛型将在 2 分钟内通过示例进行解释</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">对类型脚本泛型的深入研究</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mz l"><div class="nh l nb nc nd mz ne kv mq"/></div></div></a></div><p id="305c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="mm">如果你想在某个时候赶上我，跟我上</em> </strong> <a class="ae ma" href="https://twitter.com/nickycdk" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="mm">推特</em></strong></a><strong class="jp ir"><em class="mm">|</em></strong><a class="ae ma" href="https://www.linkedin.com/in/dknickychristensen/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="mm">LinkedIn</em></strong></a><strong class="jp ir"><em class="mm">或简单地访问我的</em></strong><strong class="jp ir">网站</strong>|<strong class="jp ir"><em class="mm">(这是丹麦语)<em class="mm"/></em></strong></p></div></div>    
</body>
</html>