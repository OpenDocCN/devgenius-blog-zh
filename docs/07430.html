<html>
<head>
<title>Build a Phatic Dialogue(Small Talk) App with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 构建一个聊天应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/build-a-phatic-dialogue-small-talk-app-with-python-840ef42e3727?source=collection_archive---------9-----------------------#2022-03-24">https://blog.devgenius.io/build-a-phatic-dialogue-small-talk-app-with-python-840ef42e3727?source=collection_archive---------9-----------------------#2022-03-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/6e545144a30cdeeee280424393530b3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*hjvN9lVP4gwOC1Hl.jpg"/></div></figure><h1 id="632f" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">介绍</h1><p id="5075" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">寒暄对话是两个人之间毫无意义的谈话，通常被称为闲聊。在这篇文章中，我们将创建一个应用程序，以一种友好的方式响应用户的输入。</p><p id="f77b" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">我们将使用一些基本的 NLP 工具来提取用户句子的核心词汇成分。这些构件将被嵌入到我们自己的反应模式中。</p><h1 id="edc4" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">先决条件</h1><p id="2b75" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">使用以下命令安装 spacy NLP 工具库和 en_core_web_sm 英语管道:</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><h1 id="0fb6" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">导入和全局变量</h1><p id="27ea" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">下一步是导入必要的库并初始化全局变量。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="4825" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">虽然<strong class="ku ir"> spacy </strong>为我们提供了词法分析工具，但<strong class="ku ir"> textblob </strong>是分析文本情感极性的绝佳工具。它的伟大之处在于它甚至可以和独立的单词一起使用。</p><p id="1f58" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">现在，让我们深入编码。</p><h1 id="12a0" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">名词</h1><p id="82b7" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">第一个响应模式的想法是从用户输入中提取名词和专有名词，并将它们与我们准备好的短语连接起来。这种技术叫做反射或<strong class="ku ir">镜像</strong>。</p><p id="4d08" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">get_nouns()方法返回文章中的名词和专有名词的列表。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><h1 id="932c" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">动词</h1><blockquote class="mb mc md"><p id="f146" class="ks kt me ku b kv lq kx ky kz lr lb lc mf ls lf lg mg lt lj lk mh lu ln lo lp ij bi translated">做<strong class="ku ir">是</strong>，还是不做<strong class="ku ir">是</strong>，这是个问题。</p></blockquote><p id="ccb5" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">《哈姆雷特》中的这句名言包含了一个助动词<strong class="ku ir"> <em class="me"> be </em> </strong>，<strong class="ku ir"> <em class="me"> </em> </strong>，但是我们可以用任何动词来代替，听起来就像《哈姆雷特》一样新奇。</p><p id="86af" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">在 get_verb_lemmas()中，我们提取动词和助动词，并返回一个动词 lemmas 列表(裸不定式)。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><h1 id="bedd" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">形容词</h1><p id="38b7" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">每个形容词都有积极、消极或中性的情绪。一个绝对积极的形容词的情感极性接近 1，而一个绝对消极的形容词-1。比如<em class="me">优秀的</em> (0.85)，自夸的<em class="me">(-0.78)。</em></p><p id="b240" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">给定形容词的情感极性值(从-1 到 1 的连续范围)，我们将决定告诉用户他或她的感受。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="df2d" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">我们现在已经准备好把它们放在一起。</p><h1 id="802e" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">驱动程序</h1><p id="4e5e" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">在处理用户输入的无限循环中有四个主要部分。</p><p id="1d7a" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">在第一部分，用户被提示输入他们的文本。然后检查是否该说再见了。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="fdf6" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">第二部分是关于分析用户的输入。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="82cd" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">第三部分的三个条件语句检查是否找到了动词、名词或形容词。如果是，它们将被处理，产生的短语将被添加到候选响应列表中。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="46fd" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">在最后一部分，我们检查 response_candidates 列表中是否有任何元素。如果没有，它充满了虚假的短语。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="a596" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated">下面是驱动函数的完整代码:</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="lz ma l"/></div></figure><h1 id="af6a" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">对话示例</h1><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/8a9176816473a5a7f662031d9cf8bd30.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*QutbMnZnUAxvwQNW_cLEEg.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">用户提示以&gt;开头</figcaption></figure><h1 id="2854" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="d1b8" class="pw-post-body-paragraph ks kt iq ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">本文讨论了一些基本的 NLP 概念，并建议如何将它们整合到一个 phatic dialogue 应用程序中。</p><p id="c38c" class="pw-post-body-paragraph ks kt iq ku b kv lq kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lu ln lo lp ij bi translated"><em class="me">本文代码笔记本</em> <a class="ae mn" href="https://github.com/Vice10/ds_notebooks/blob/main/phatic_dialogue.ipynb" rel="noopener ugc nofollow" target="_blank"> <em class="me">此处</em> </a> <em class="me">。</em></p></div></div>    
</body>
</html>