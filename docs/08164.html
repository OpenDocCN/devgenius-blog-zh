<html>
<head>
<title>Add faded text in React components using CSS Transitions and Animations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 CSS 过渡和动画在 React 组件中添加淡化文本</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/add-faded-text-in-react-components-using-css-transitions-and-animations-cdb7a2cdacae?source=collection_archive---------7-----------------------#2022-05-22">https://blog.devgenius.io/add-faded-text-in-react-components-using-css-transitions-and-animations-cdb7a2cdacae?source=collection_archive---------7-----------------------#2022-05-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="c1f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在现代网络应用中，创造流畅的用户界面体验是关键。让我们看看如何在处理褪色的文本时创造这种体验..</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a7e691f74c9a121389cc4de659c4a72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZwyeUr6hrONVhhpI"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@florianwehde?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Florian Wehde </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="9117" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文的目标是，到最后，您将能够在 React 应用程序的文本显示上添加淡入淡出，该应用程序具有展开/折叠切换，这是 web 上常见的模式。</p><h2 id="4dc5" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">先决条件</h2><p id="ab2d" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">你需要在你的机器上安装带有<code class="fe lx ly lz ma b">npm</code>的<code class="fe lx ly lz ma b">git</code>和<code class="fe lx ly lz ma b">node</code>。这种效果也是在最新版本的 Chrome 上开发的。</p></div><div class="ab cl mb mc hr md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ig ih ii ij ik"><h1 id="269d" class="mi la in bd lb mj mk ml le mm mn mo lh mp mq mr lk ms mt mu ln mv mw mx lq my bi translated">首先:设置项目</h1><p id="27d1" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">这篇文章是一篇珍贵文章的延续，在这篇文章中，我们完成了<a class="ae ky" href="https://javascript.plainenglish.io/create-a-react-component-for-more-less-text-transition-b8896f098773" rel="noopener ugc nofollow" target="_blank">创建“更多/更少”文本按钮</a>。我们将从文章停止的地方开始，使用一个简单的切换开关来展开和折叠，但没有为褪色的文本效果添加其他样式。您可以使用下面的命令从标签<code class="fe lx ly lz ma b">v1.0.0</code>处的文章中提取存储库:</p><pre class="kj kk kl km gt mz ma na nb aw nc bi"><span id="2369" class="kz la in ma b gy nd ne l nf ng">git clone -b v1.0.0  <a class="ae ky" href="https://github.com/cameronDz/more-less-medium-app.git" rel="noopener ugc nofollow" target="_blank">https://github.com/cameronDz/more-less-medium-app.git</a></span></pre><p id="ac7d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以做的另一个选择是使用<code class="fe lx ly lz ma b">create-react-app</code>来生成一个新项目，并使用下面的两个部分作为你的<code class="fe lx ly lz ma b">App.js</code>和<code class="fe lx ly lz ma b">index.css</code>文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/e28973b314e9638307916ef3261d3ec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*lUsLT-aFOG5HdiFcGao9qw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">App.js 启动文件。</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/cd691d3a30c8be678a17ad01c97b8a06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*phsrptoTDMSXNOetjABodg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">index.css 开始文件。</figcaption></figure><p id="d50e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦你下载了应用程序，或者将上面的代码添加到你生成的应用程序中，你就可以运行<code class="fe lx ly lz ma b">npm install</code>和<code class="fe lx ly lz ma b">npm run start</code>来运行应用程序。该功能将如所述，一个非常简单的扩展和折叠按钮，带有一些 Lorem 益普生文本。</p><h1 id="4c3b" class="mi la in bd lb mj nj ml le mm nk mo lh mp nl mr lk ms nm mu ln mv nn mx lq my bi translated">接下来:添加淡入淡出</h1><p id="c775" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">现在应用程序已经设置好了，我们可以开始添加淡入淡出的功能。</p><h2 id="b445" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">设置课程</h2><p id="d625" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">第一步是设置类来决定文本何时展开或折叠。这是在文本的包装器<code class="fe lx ly lz ma b">div</code>的<code class="fe lx ly lz ma b">className</code>中使用字符串文字的简单三元组。我们目前在<code class="fe lx ly lz ma b">div</code>包装器中有以下内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/1ccf5a2db0aaa7c6e4efd0b57d9e3c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*9ybXdWgNJ7WTnIXJvtXBYw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">初始文本包装元素。</figcaption></figure><p id="ba9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">变化 add 将是一个三进制对着<code class="fe lx ly lz ma b">isExpanded</code>标志，当它是<code class="fe lx ly lz ma b">true</code>时，我们将添加一个<code class="fe lx ly lz ma b">.expanded</code>类，当<code class="fe lx ly lz ma b">false</code>时，我们将添加一个<code class="fe lx ly lz ma b">.collapsed</code>类。它看起来会像这样。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/08ddcbf24092bc3ec8d4cfded9b65bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*lr-o96KhcO49fY6ZbatAlg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">完成的文本包装元素。</figcaption></figure><h2 id="bdac" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">褪色的 CSS 属性</h2><p id="3e72" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">现在我们可以进入样式表，根据这两个类添加一些新的样式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/3f88c6cad54fee8c52c5df9e2a31b7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*ZO7xM546S194iv_By944Lg.png"/></div></figure><p id="d4d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">设置<code class="fe lx ly lz ma b">mark-image</code> ( <a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask-image" rel="noopener ugc nofollow" target="_blank"> docs </a>)属性会将键中定义的图像应用到元素上。元素中的任何文本都将显示图像。函数<code class="fe lx ly lz ma b">linear-gradient()</code> ( <a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/linear-gradient" rel="noopener ugc nofollow" target="_blank">文档</a>)根据参数生成图像。</p><p id="3484" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe lx ly lz ma b">.collapsed</code>类中，<code class="fe lx ly lz ma b">black 50%, transparent</code>表示创建一个从元素顶部到<code class="fe lx ly lz ma b">50%</code>底部的图像，然后为图像的其余部分创建一个从黑色到透明的渐变。当文本折叠时，这给了“褪色”的外观。</p><p id="ab84" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe lx ly lz ma b">.expanded</code>类中，<code class="fe lx ly lz ma b">black 100%, transparent</code>表示创建一个图像，它是<code class="fe lx ly lz ma b">black</code>元素的整个高度。</p><p id="aba4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行应用程序，你现在应该有一个可折叠的文本字段，在底部有轻微的褪色，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/7c631325cc061a21b8c0b37a3a0a5371.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/1*__b0JcKbVYA2q1-vmyJxpw.gif"/></div></figure><h1 id="663c" class="mi la in bd lb mj nj ml le mm nk mo lh mp nl mr lk ms nm mu ln mv nn mx lq my bi translated">最后:平稳过渡</h1><p id="3912" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">淡入淡出的文本很好，但是你可以看到上面的<code class="fe lx ly lz ma b">.gif</code>，当你展开和折叠文本时淡入淡出。再用几行 CSS 就可以把<code class="fe lx ly lz ma b">transition</code>弄平滑了。</p><h2 id="0bd2" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">使用关键帧</h2><p id="cec5" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">这里我们只需要添加两个<code class="fe lx ly lz ma b">@keyframes</code> CSS 属性(<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes" rel="noopener ugc nofollow" target="_blank"> docs </a>)用于文本的展开和折叠。这是我们将添加到样式表中的代码片段。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/0192566a9a69e5b3f529d7245d7c30cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*YGzxeEduqYmTGZfXVXoEuA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">动画的关键帧会淡化。</figcaption></figure><p id="1527" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe lx ly lz ma b">@keyframes</code>定义了动画是如何工作的。为了使用动画，我们已经指向了我们想要拥有动画的类中的<code class="fe lx ly lz ma b">@keyframes</code>。</p><p id="cb60" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于<code class="fe lx ly lz ma b">mask-collapsing</code>，这是我们希望文本折叠时动画的工作方式。蒙版将从 100%开始，并过渡到 50%的值，该值已经在类中为我们想要的线条渐变开始的位置定义。这将使淡入淡出的外观慢慢显现出来，而不是一按下按钮就迅速出现。</p><p id="ab1c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe lx ly lz ma b">mask-expanding</code>中，我们定义了当我们扩展文本时动画是如何工作的。我们将黑色部分的 50%开始慢慢增加到 100%，这将使淡入淡出看起来像是慢慢消失，而不是立即被移除。</p><h2 id="0893" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">添加动画</h2><p id="538f" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">现在我们只需要将<code class="fe lx ly lz ma b">animation</code>属性应用到类中。将<code class="fe lx ly lz ma b">animation: mask-collapsing;</code>添加到<code class="fe lx ly lz ma b">.collapsed</code>类，将<code class="fe lx ly lz ma b">animation: mask-expanding;</code>添加到<code class="fe lx ly lz ma b">.expanded</code>类。我们还添加了动画发生的时间。我们在<code class="fe lx ly lz ma b">0.5s</code>匹配文本的<code class="fe lx ly lz ma b">transition</code>速度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/b3609d7d84e8e427462719750be0067d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*I4JHdYIn_B1LsJgShMMXig.png"/></div></figure><p id="62cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们查看正在运行的应用程序时，我们看到</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/b4707b6277f2b765ee1cb3a540e5377d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/1*2nuWYr8tEhUZlrK8hW_7qQ.gif"/></div></figure><p id="d91c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，淡入淡出不会像扩展/折叠时那样强烈，当显示更多文本时，过渡会变得平滑。</p><h2 id="58da" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">结论</h2><p id="8a85" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">就这样，希望你已经为你的工具包学习了一些新的 CSS 工具，并且能够在任何展开/折叠的文本上添加淡入淡出。最终代码可以在标签<code class="fe lx ly lz ma b">v1.1.0</code>下找到，存储在<a class="ae ky" href="https://github.com/cameronDz/more-less-medium-app/releases/tag/v1.1.0" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上。</p><p id="585f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">祝你好运，编码快乐！</p></div></div>    
</body>
</html>