<html>
<head>
<title>Create a Tic Tac Toe Game with React and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 React 和 JavaScript 创建一个井字游戏</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/create-a-tic-tac-toe-game-with-react-and-javascript-80c1f86421d9?source=collection_archive---------7-----------------------#2021-05-15">https://blog.devgenius.io/create-a-tic-tac-toe-game-with-react-and-javascript-80c1f86421d9?source=collection_archive---------7-----------------------#2021-05-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/94c5703fb372cb3c565a76fa467e0d08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fUrQSzen6yg6CBxr"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@micheile?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米歇尔·亨德森</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="ff23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React 是一个易于使用的 JavaScript 框架，让我们可以创建前端应用程序。</p><p id="497b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用 React 和 JavaScript 创建一个井字游戏。</p><h1 id="bcb5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建项目</h1><p id="a1b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用 Create React App 创建 React 项目。</p><p id="5322" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="011e" class="mn lc iq mj b gy mo mp l mq mr">npx create-react-app tic-tac-toe</span></pre><p id="5666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和 NPM 一起创建我们的 React 项目。</p><h1 id="33e3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建井字游戏</h1><p id="e01d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了创建井字游戏，我们编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8ea4" class="mn lc iq mj b gy mo mp l mq mr">import React, { useMemo, useState } from "react";</span><span id="f605" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [board, setBoard] = useState([[], [], []]);</span><span id="51e2" class="mn lc iq mj b gy ms mp l mq mr">  const restart = () =&gt; {<br/>    setBoard([[], [], []]);<br/>  };</span><span id="56ba" class="mn lc iq mj b gy ms mp l mq mr">  const isWinner = (player) =&gt; {<br/>    return (<br/>      (board[0][0] === player &amp;&amp;<br/>        board[0][1] === player &amp;&amp;<br/>        board[0][2] === player) ||<br/>      (board[1][0] === player &amp;&amp;<br/>        board[1][1] === player &amp;&amp;<br/>        board[1][2] === player) ||<br/>      (board[2][0] === player &amp;&amp;<br/>        board[2][1] === player &amp;&amp;<br/>        board[2][2] === player) ||<br/>      (board[0][0] === player &amp;&amp;<br/>        board[1][0] === player &amp;&amp;<br/>        board[2][0] === player) ||<br/>      (board[0][1] === player &amp;&amp;<br/>        board[1][1] === player &amp;&amp;<br/>        board[2][1] === player) ||<br/>      (board[0][2] === player &amp;&amp;<br/>        board[1][2] === player &amp;&amp;<br/>        board[2][2] === player) ||<br/>      (board[0][0] === player &amp;&amp;<br/>        board[1][1] === player &amp;&amp;<br/>        board[2][2] === player) ||<br/>      (board[0][2] === player &amp;&amp;<br/>        board[1][1] === player &amp;&amp;<br/>        board[2][0] === player)<br/>    );<br/>  };</span><span id="9fc0" class="mn lc iq mj b gy ms mp l mq mr">  const xWins = useMemo(() =&gt; {<br/>    return isWinner("x");<br/>  }, [board, isWinner]);</span><span id="1315" class="mn lc iq mj b gy ms mp l mq mr">  const oWins = useMemo(() =&gt; {<br/>    return isWinner("o");<br/>  }, [board, isWinner]);</span><span id="51f9" class="mn lc iq mj b gy ms mp l mq mr">  if (xWins || oWins) {<br/>    if (xWins) {<br/>      return (<br/>        &lt;&gt;<br/>          &lt;div&gt;x wins&lt;/div&gt;<br/>          &lt;button onClick={restart}&gt;restart&lt;/button&gt;<br/>        &lt;/&gt;<br/>      );<br/>    }</span><span id="8dcd" class="mn lc iq mj b gy ms mp l mq mr">    if (oWins) {<br/>      return (<br/>        &lt;&gt;<br/>          &lt;div&gt;o wins&lt;/div&gt;<br/>          &lt;button onClick={restart}&gt;restart&lt;/button&gt;<br/>        &lt;/&gt;<br/>      );<br/>    }<br/>  } else {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        &lt;form&gt;<br/>          {Array(3)<br/>            .fill()<br/>            .map((_, i) =&gt; {<br/>              return (<br/>                &lt;div key={i}&gt;<br/>                  {Array(3)<br/>                    .fill()<br/>                    .map((_, j) =&gt; {<br/>                      return (<br/>                        &lt;span key={j}&gt;<br/>                          &lt;input<br/>                            value={board[i][j] || ""}<br/>                            onChange={(e) =&gt; {<br/>                              const b = [...board];<br/>                              b[i][j] = e.target.value;<br/>                              setBoard(b);<br/>                            }}<br/>                            style={{ width: 20 }}<br/>                          /&gt;<br/>                        &lt;/span&gt;<br/>                      );<br/>                    })}<br/>                &lt;/div&gt;<br/>              );<br/>            })}<br/>        &lt;/form&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="5f55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有保存井字游戏值的<code class="fe mt mu mv mj b">board</code>状态。</p><p id="43c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数<code class="fe mt mu mv mj b">restart</code>调用<code class="fe mt mu mv mj b">setBoard</code>来清除棋盘。</p><p id="9017" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们有了<code class="fe mt mu mv mj b">isWinner</code>函数，它检查<code class="fe mt mu mv mj b">player</code>是否以玩家获胜的方式填充了棋盘。</p><p id="d581" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们检查每个可能的组合，看看玩家是否赢了，包括水平、垂直和对角线组合。</p><p id="8963" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用带有回调的<code class="fe mt mu mv mj b">useMemo</code>定义<code class="fe mt mu mv mj b">xWins</code>和<code class="fe mt mu mv mj b">oWins</code>，回调用玩家字符串调用<code class="fe mt mu mv mj b">isWinner</code>以查看玩家是否获胜。</p><p id="13be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们观察<code class="fe mt mu mv mj b">board</code>和<code class="fe mt mu mv mj b">isWinner</code>变量的更新。</p><p id="e9dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们检查<code class="fe mt mu mv mj b">xWins</code>和<code class="fe mt mu mv mj b">oWins</code>。</p><p id="c510" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这两种情况下，我们都显示谁赢了和重新启动按钮。</p><p id="48e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们将嵌套数组呈现到输入网格中。</p><p id="1c3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个输入都将<code class="fe mt mu mv mj b">value</code>设置为<code class="fe mt mu mv mj b">board[i][j]</code>值。</p><p id="d189" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，为了在用户输入时更新该值，我们将<code class="fe mt mu mv mj b">onChange</code>属性设置为一个函数，该函数复制<code class="fe mt mu mv mj b">board</code>并将其设置为<code class="fe mt mu mv mj b">b</code>。</p><p id="6b67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将<code class="fe mt mu mv mj b">b[i][j]</code>设置为<code class="fe mt mu mv mj b">e.target.value</code>。</p><p id="91b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe mt mu mv mj b">b</code>调用<code class="fe mt mu mv mj b">setBoard</code>来更新公告板。</p><p id="9a9d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将输入样式设置为宽度 20px。</p><h1 id="866e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="bc35" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用 React 和 JavaScript 创建一个井字游戏。</p></div></div>    
</body>
</html>