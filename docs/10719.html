<html>
<head>
<title>A Guide to Creating Your Very First Docker Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建第一个 Docker 应用程序的指南</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/a-guide-to-creating-your-very-first-docker-application-d4a444b30a65?source=collection_archive---------11-----------------------#2022-11-24">https://blog.devgenius.io/a-guide-to-creating-your-very-first-docker-application-d4a444b30a65?source=collection_archive---------11-----------------------#2022-11-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/631b1f5539f51e1088e596c95eed56c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lU_o0ripzjQF-2uKkHTwCQ.png"/></div></div></figure><h1 id="1eb4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Docker 如何工作</h1><p id="ab18" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">Docker 用于开发、测试、发布和运行应用程序。Docker 的关键之处在于它允许程序员将应用程序与其运行的基础设施分离开来。</p><p id="e145" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在 Docker 之前，虚拟机(VM)是很常见的。</p><p id="c18b" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Docker 和传统 VM 的区别在于 Docker 运行在 Docker 引擎上。它不需要虚拟机管理程序和来宾操作系统。</p><p id="220d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">这使得 Docker 容器更轻，并增加了启动时间。</p><p id="280f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Docker 容器还可以在几乎任何环境中运行，这使得它比 VM 更具可移植性。</p><p id="91fd" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">容器的构建和销毁速度比虚拟机快得多。</p><p id="8d54" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在云服务器上部署 Docker 容器比在虚拟机上部署要容易得多。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lz"><img src="../Images/d201d3a2b2f3864a41c9cd042ef10bde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v__40q8IFLPQxru4DB-W3w.jpeg"/></div></div></figure><h1 id="75ce" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">创建您的第一个 Docker 应用程序</h1><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/1ee667e771c29364187c646b8462a380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0MDpiWKXfgOZTelf"/></div></div></figure><h2 id="8508" class="mf jz iq bd ka mg mh dn ke mi mj dp ki lh mk ml km ll mm mn kq lp mo mp ku mq bi translated">1.首先，在 Linux 上安装 Docker</h2><p id="c82a" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">更新包:</p><pre class="ma mb mc md gt mr ms mt bn mu mv bi"><span id="9b04" class="mw jz iq ms b be mx my l mz na">sudo apt update</span></pre><p id="7b7d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">安装 Docker:</p><pre class="ma mb mc md gt mr ms mt bn mu mv bi"><span id="3f7f" class="mw jz iq ms b be mx my l mz na">sudo apt install docker.io</span></pre><p id="0a59" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">测试 Docker 安装:</p><pre class="ma mb mc md gt mr ms mt bn mu mv bi"><span id="9402" class="mw jz iq ms b be mx my l mz na">sudo docker run hello-world</span></pre><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/456a42b3971ebdb65d46d53f327136ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nEE2M6gZEx-W5yt6"/></div></div></figure><h2 id="b491" class="mf jz iq bd ka mg mh dn ke mi mj dp ki lh mk ml km ll mm mn kq lp mo mp ku mq bi translated">2.编写项目</h2><p id="ff40" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我们需要两个文件来运行我们的应用程序。一个<code class="fe nb nc nd ms b">Dockerfile</code>和一个 Python 文件。</p><ul class=""><li id="91b6" class="ne nf iq ky b kz lu ld lv lh ng ll nh lp ni lt nj nk nl nm bi translated">Python 文件<code class="fe nb nc nd ms b">main.py</code>包含将由 Docker 容器运行的代码</li><li id="69ab" class="ne nf iq ky b kz nn ld no lh np ll nq lp nr lt nj nk nl nm bi translated"><code class="fe nb nc nd ms b">Dockerfile</code>用于配置 Docker 容器将如何运行</li></ul><p id="cb44" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Python 文件非常简单，只输出一些文本:</p><pre class="ma mb mc md gt mr ms mt bn mu mv bi"><span id="4208" class="mw jz iq ms b be mx my l mz na">#!/usr/bin/env python3<br/><br/>print("Hello from Docker!")</span></pre><p id="ed51" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><code class="fe nb nc nd ms b">Dockerfile</code>是奇迹发生的地方:</p><pre class="ma mb mc md gt mr ms mt bn mu mv bi"><span id="22f1" class="mw jz iq ms b be mx my l mz na"># A Dockerfile must always begin with a FROM instruction.<br/># The FROM instruction specifies the Parent Image from which you are building.<br/># In this case the latest version of Python is the image from which we are building.<br/>FROM python:latest<br/><br/># The COPY instruction copies new files or directories from &lt;src&gt; <br/># and adds them to the filesystem of the container at the path &lt;dest&gt;<br/># In this case the main.py file is added to the root directory<br/>COPY main.py /<br/><br/># There can only be one CMD instruction in a Dockerfile.<br/># The main purpose of a CMD is to provide defaults for an executing container.<br/>CMD [ "python", "./main.py" ]</span></pre><p id="c3df" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><code class="fe nb nc nd ms b">Dockerfile</code>的目标是发布 Python 代码。</p><p id="95a7" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">首先，使用<code class="fe nb nc nd ms b">FROM</code>指令加载一个 Python 图像。</p><p id="e706" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">然后使用<code class="fe nb nc nd ms b">COPY</code>指令将 Python 文件(在本例中为<code class="fe nb nc nd ms b">main.py</code>复制到容器中。</p><p id="a037" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">最后，<code class="fe nb nc nd ms b">CMD</code>指令告诉容器执行 Python 文件。</p><p id="dc30" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">本指南中使用的代码可以在我的 GitHub 上找到:<br/><a class="ae ns" href="https://github.com/conanmercer/docker-application-example" rel="noopener ugc nofollow" target="_blank">https://github.com/conanmercer/docker-application-example</a></p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/8bd32bcfd58b035a9b386883261621dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QfVblJ4Fho36IBoY"/></div></div></figure><h2 id="9179" class="mf jz iq bd ka mg mh dn ke mi mj dp ki lh mk ml km ll mm mn kq lp mo mp ku mq bi translated">3.首次创建 Docker 图像</h2><p id="3bd7" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">使用终端时，首先需要创建映像，然后才能运行它。以下命令创建名为“docker-python-test”的映像</p><pre class="ma mb mc md gt mr ms mt bn mu mv bi"><span id="7174" class="mw jz iq ms b be mx my l mz na">docker build -t docker-python-test . </span></pre><p id="d625" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><code class="fe nb nc nd ms b">-t</code>命令允许我们将图像命名为<code class="fe nb nc nd ms b">docker-python-test</code></p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/d081fdf1d3c0c9fa5b8af706a8f110b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PklD1DDIcLMjErmU"/></div></div></figure><h2 id="387d" class="mf jz iq bd ka mg mh dn ke mi mj dp ki lh mk ml km ll mm mn kq lp mo mp ku mq bi translated">4.首次运行 Docker 映像</h2><p id="c1f5" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">现在我们已经创建了一个要运行的映像，是时候实际运行它了。</p><pre class="ma mb mc md gt mr ms mt bn mu mv bi"><span id="312c" class="mw jz iq ms b be mx my l mz na">docker run docker-python-test</span></pre><p id="a08b" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">万岁！</p><p id="d2ad" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">你应该看到“你好，来自码头！”终端屏幕上的输出。</p><h2 id="1756" class="mf jz iq bd ka mg mh dn ke mi mj dp ki lh mk ml km ll mm mn kq lp mo mp ku mq bi translated">5.结论</h2><p id="9285" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">从这里开始，您就可以开始在 Docker 中构建和运行应用程序了！</p><p id="de71" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">天空是极限！</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/afc888e4cb5d0eec1b86cdef8a3ffb30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nIb7gdaZ3nOMenv0"/></div></div></figure></div></div>    
</body>
</html>