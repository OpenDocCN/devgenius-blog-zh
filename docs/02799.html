<html>
<head>
<title>Material UI — Progress Spinner Customization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">材料用户界面-进度微调器定制</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/material-ui-progress-spinner-customization-c2559ad33248?source=collection_archive---------4-----------------------#2020-08-31">https://blog.devgenius.io/material-ui-progress-spinner-customization-c2559ad33248?source=collection_archive---------4-----------------------#2020-08-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4402da861cd19cbd37c497da43bc733a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AaeMoMn_jK1RxSji"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">安娜·佩尔泽在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="81b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">材质UI是一个为React制作的材质设计库。</p><p id="b124" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一组具有材质设计风格的React组件。</p><p id="5e95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何添加带有材质UI的进度微调器。</p><h1 id="9aee" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">交互式集成</h1><p id="9af2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以添加微调按钮和浮动动作按钮。</p><p id="7eda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3902" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { makeStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";<br/>import CircularProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/CircularProgress";<br/>import { pink } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/colors";<br/>import Fab from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Fab";<br/>import CheckIcon from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/icons/Check";<br/>import SaveIcon from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/icons/Save";<br/>import clsx from "clsx";</span><span id="4292" class="mn lc iq mj b gy ms mp l mq mr">const useStyles = makeStyles(theme =&gt; ({<br/>  root: {<br/>    display: "flex",<br/>    alignItems: "center"<br/>  },<br/>  wrapper: {<br/>    margin: theme.spacing(1),<br/>    position: "relative"<br/>  },<br/>  fabProgress: {<br/>    color: pink[500],<br/>    position: "absolute",<br/>    top: -6,<br/>    left: -6,<br/>    zIndex: 1<br/>  }<br/>}));</span><span id="f09b" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const classes = useStyles();<br/>  const [loading, setLoading] = React.useState(false);<br/>  const [success, setSuccess] = React.useState(false);<br/>  const timer = React.useRef();</span><span id="0ff0" class="mn lc iq mj b gy ms mp l mq mr">const buttonClassname = clsx({<br/>    [classes.buttonSuccess]: success<br/>  });</span><span id="4ed5" class="mn lc iq mj b gy ms mp l mq mr">React.useEffect(() =&gt; {<br/>    return () =&gt; {<br/>      clearTimeout(timer.current);<br/>    };<br/>  }, []);</span><span id="626c" class="mn lc iq mj b gy ms mp l mq mr">const handleButtonClick = () =&gt; {<br/>    if (!loading) {<br/>      setSuccess(false);<br/>      setLoading(true);<br/>      timer.current = setTimeout(() =&gt; {<br/>        setSuccess(true);<br/>        setLoading(false);<br/>      }, 1000);<br/>    }<br/>  };</span><span id="468b" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div className={classes.root}&gt;<br/>      &lt;div className={classes.wrapper}&gt;<br/>        &lt;Fab<br/>          aria-label="save"<br/>          color="primary"<br/>          className={buttonClassname}<br/>          onClick={handleButtonClick}<br/>        &gt;<br/>          {success ? &lt;CheckIcon /&gt; : &lt;SaveIcon /&gt;}<br/>        &lt;/Fab&gt;<br/>        {loading &amp;&amp; (<br/>          &lt;CircularProgress size={68} className={classes.fabProgress} /&gt;<br/>        )}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="d796" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在浮动操作按钮周围添加加载微调器。</p><p id="c59b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须设置<code class="fe mt mu mv mj b">fabProgress</code>类来移动微调器，使其环绕浮动动作按钮。</p><p id="e703" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们必须用<code class="fe mt mu mv mj b">wrapper</code>类改变间距，使按钮与微调按钮对齐。</p><p id="5907" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们点击按钮时，运行<code class="fe mt mu mv mj b">handleButtonClick</code>功能。</p><p id="5ba6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将<code class="fe mt mu mv mj b">loading</code>状态设置为<code class="fe mt mu mv mj b">true</code>。</p><p id="36fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将触发微调器显示。</p><p id="8d43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后1秒钟后，我们在<code class="fe mt mu mv mj b">useEffect</code>回调中将<code class="fe mt mu mv mj b">loading</code>状态设置为<code class="fe mt mu mv mj b">false</code>。</p><p id="c30d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的<code class="fe mt mu mv mj b">success</code>状态将被设置为<code class="fe mt mu mv mj b">true</code>，我们会看到复选标记图标。</p><p id="f7be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以对按钮做同样的事情。</p><p id="fbe5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0b59" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { makeStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";<br/>import CircularProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/CircularProgress";<br/>import { pink } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/colors";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import clsx from "clsx";</span><span id="f6d1" class="mn lc iq mj b gy ms mp l mq mr">const useStyles = makeStyles(theme =&gt; ({<br/>  root: {<br/>    display: "flex",<br/>    alignItems: "center"<br/>  },<br/>  wrapper: {<br/>    margin: theme.spacing(1),<br/>    position: "relative"<br/>  },<br/>  buttonProgress: {<br/>    color: pink[500],<br/>    position: "absolute",<br/>    top: "50%",<br/>    left: "50%",<br/>    marginTop: -12,<br/>    marginLeft: -12<br/>  }<br/>}));</span><span id="72bc" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const classes = useStyles();<br/>  const [loading, setLoading] = React.useState(false);<br/>  const [success, setSuccess] = React.useState(false);<br/>  const timer = React.useRef();</span><span id="4c11" class="mn lc iq mj b gy ms mp l mq mr">  const buttonClassname = clsx({<br/>    [classes.buttonSuccess]: success<br/>  });</span><span id="c84a" class="mn lc iq mj b gy ms mp l mq mr">  React.useEffect(() =&gt; {<br/>    return () =&gt; {<br/>      clearTimeout(timer.current);<br/>    };<br/>  }, []);</span><span id="f1eb" class="mn lc iq mj b gy ms mp l mq mr">  const handleButtonClick = () =&gt; {<br/>    if (!loading) {<br/>      setSuccess(false);<br/>      setLoading(true);<br/>      timer.current = setTimeout(() =&gt; {<br/>        setSuccess(true);<br/>        setLoading(false);<br/>      }, 1000);<br/>    }<br/>  };</span><span id="28e4" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div className={classes.root}&gt;<br/>      &lt;div className={classes.wrapper}&gt;<br/>        &lt;Button<br/>          variant="contained"<br/>          color="primary"<br/>          className={buttonClassname}<br/>          disabled={loading}<br/>          onClick={handleButtonClick}<br/>        &gt;<br/>          save<br/>        &lt;/Button&gt;<br/>        {loading &amp;&amp; (<br/>          &lt;CircularProgress size={24} className={classes.buttonProgress} /&gt;<br/>        )}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="bd87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加一个中间带有微调器的保存按钮。</p><p id="bce1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">逻辑与浮动操作按钮相同。</p><p id="f277" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是我们有不同的样式让微调器在按钮中定位它。</p><h1 id="82dd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">带标签的圆形旋转器</h1><p id="98b1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在圆形微调器中显示进度。</p><p id="72cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6b13" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import CircularProgress from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/CircularProgress";<br/>import Typography from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Typography";<br/>import Box from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Box";</span><span id="f983" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [progress, setProgress] = React.useState(10);</span><span id="0db1" class="mn lc iq mj b gy ms mp l mq mr">  React.useEffect(() =&gt; {<br/>    const timer = setInterval(() =&gt; {<br/>      setProgress(prevProgress =&gt;<br/>        prevProgress &gt;= 100 ? 10 : prevProgress + 10<br/>      );<br/>    }, 800);<br/>    return () =&gt; {<br/>      clearInterval(timer);<br/>    };<br/>  }, []);</span><span id="e3d5" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;Box position="relative" display="inline-flex"&gt;<br/>        &lt;CircularProgress variant="static" value={progress} /&gt;<br/>        &lt;Box<br/>          top={0}<br/>          left={0}<br/>          bottom={0}<br/>          right={0}<br/>          position="absolute"<br/>          display="flex"<br/>          alignItems="center"<br/>          justifyContent="center"<br/>        &gt;<br/>          &lt;Typography<br/>            variant="caption"<br/>            component="div"<br/>            color="textSecondary"<br/>          &gt;{`${Math.round(progress)}%`}&lt;/Typography&gt;<br/>        &lt;/Box&gt;<br/>      &lt;/Box&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="e11f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加一个进度微调器，其中包含一些动画来显示进度。</p><p id="281b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是放了一个<code class="fe mt mu mv mj b">Box</code>来显示文本。</p><p id="d483" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">Box</code>有一个绝对位置，我们将<code class="fe mt mu mv mj b">alignItems</code>和<code class="fe mt mu mv mj b">justifyContent</code>设置为<code class="fe mt mu mv mj b">center</code>以使文本在微调器中居中。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/a6365574808ea47b80414e13f9952f22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gTc6B5Qb0kv47xH-"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@pwign?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Anh Nguyen </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="ae08" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0298" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在按钮内或浮动动作按钮周围添加微调器。</p><p id="ff92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以在循环进度微调器中显示进度。</p></div></div>    
</body>
</html>