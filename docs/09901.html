<html>
<head>
<title>Testing in Production: The Tragic Story of Franz Reichelt</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生产测试:弗朗兹·赖歇尔的悲剧故事</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/testing-in-production-the-tragic-story-of-franz-reichelt-82c47e1dfae5?source=collection_archive---------4-----------------------#2022-09-21">https://blog.devgenius.io/testing-in-production-the-tragic-story-of-franz-reichelt-82c47e1dfae5?source=collection_archive---------4-----------------------#2022-09-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="55fb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于软件工程，一个 19 世纪法国裁缝的悲惨死亡能教给我们什么</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/db0ffa970cfbbd5cc9d4a83ade0f6016.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*PoZr78g1lXZ8vktdRinydg.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">弗朗兹·赖歇尔特穿着他的跳伞服(来源:维基百科，作者不详)</figcaption></figure><p id="e34d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们很少能从 19 世纪的法国裁缝那里学到软件工程的课程，尤其是那些在可编程计算机发明前 30 年去世的人，但是请耐心听我说——我们打算试一试！</p><p id="ba7f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Franz Reichelt 是一位法国裁缝和发明家，于 1878 年出生在奥地利。那是航空业的早期，飞行是一件危险的事情。就像今天许多年轻的软件工程师一样，Franz 有一个梦想，要解决现实世界的问题，让世界变得更美好:</p><blockquote class="lo lp lq"><p id="9346" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">从 1910 年 7 月起，Reichelt 开始开发一种“降落伞服”:这种衣服并不比飞行员通常穿的衣服大多少，但增加了几根杆、一个丝绸伞盖和少量橡胶，使它能够折叠起来，成为 Reichelt 希望的实用高效的降落伞。</p></blockquote><p id="7b48" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">弗朗兹在 20 世纪初对自制降落伞的早期实验为他赢得了“飞行裁缝”的绰号。</p><p id="3942" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">可悲的是(也不像今天的许多年轻软件工程师)，Franz 没有采用测试最佳实践来确保他的产品的安全和高质量发布:Reichelt lept 穿着自制的降落伞服从埃菲尔铁塔上跳下，并在 1912 年 33 岁时坠楼身亡。</p><p id="515d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么，我们能从弗朗兹·赖歇尔特的早逝中学到什么呢？事实证明，我们可以从经验中吸取很多软件质量的教训。不，真的！</p><h1 id="92b3" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">单元测试是有帮助的，但是集成测试是关键</h1><p id="ae11" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">通过<em class="lr">单元测试</em>，我们可以确保我们的组件在隔离和严格控制的环境中工作。这些测试很棒，但它们不能替代我们看到代码端到端工作的<em class="lr">集成测试</em>。</p><p id="3bbd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">可悲的是，弗朗兹得到了这个教训:</p><blockquote class="lo lp lq"><p id="dc01" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">他的早期测试是成功的:装备有可折叠丝绸“翅膀”的假人从五楼落下时可以轻松着陆，但将原型转换成可穿戴的“服装”被证明是困难的。(<a class="ae ln" href="https://en.wikipedia.org/wiki/Franz_Reichelt" rel="noopener ugc nofollow" target="_blank">维基百科</a>)</p></blockquote><p id="37b9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Franz 能够构建在特定条件下独立工作的组件，但无法让它们在真实的环境中与真实的用户一起工作。</p><p id="9f73" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">虽然单元测试对于确保你的组件单独工作很重要，但是集成测试有助于确保你的组件一起工作，也就是说，你的系统在现实世界中是如何工作的。单元测试很重要，但是老实说，如果我<em class="lr">有</em>来选择其中之一，我每次都会选择集成测试。集成有助于您测试“大图”，并且通常会捕捉到许多与单元测试相同的错误(尽管可能更难识别错误发生的原因)。</p><h1 id="3392" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">测试期间不要忽视警告信号</h1><p id="1e1f" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">偶尔当我们测试软件时，测试通过或者软件正确运行，但是有警告信号表明某些东西<em class="lr">可能</em>没有按照预期的方式工作。也许一个请求花费的时间比它应该花费的时间长，或者也许日志中有一些有趣的警告。</p><p id="630c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不要忽视这些警告信号——总是深入挖掘，弄清楚到底发生了什么。不幸的是，我们亲爱的朋友“飞行裁缝”在急于运送他的产品时忽略了一些主要的危险信号:</p><blockquote class="lo lp lq"><p id="22d8" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">尽管如此，赖歇尔还是坚持不懈，在盖隆街他的大楼的院子里用假人进行了实验性投掷。他的测试没有一次成功。</p><p id="dca9" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">Reichelt 将他设计的失败至少部分归因于他进行测试的短距离跌落，因此他渴望得到埃菲尔铁塔的允许进行实验。(<a class="ae ln" href="https://en.wikipedia.org/wiki/Franz_Reichelt" rel="noopener ugc nofollow" target="_blank">维基百科</a>)</p></blockquote><p id="528e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">弗朗兹发现他的测试失败了，但把这归咎于他的“舞台”环境。“当然，这将在生产中发挥作用！”，他想。它没有。</p><p id="484c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你不能 100%确定，不要试图将警告信号斥之为“哦，那只发生在舞台上”，或“真实数据不会发生这种情况”，或“那些消息是无害的”，或“这完全适用于真实的人体”。即使你确定警告信号是假警报，也要试着让你的代码更能抵御这些情况。</p><p id="f18f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我已经数不清有多少次，当警告信号一直存在的时候，我已经看到重大错误被交付到产品中…</p><h1 id="1f6a" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">不要在生产中测试(但是要验证)</h1><p id="ef02" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">有时候，在您的测试环境中，代码很难被有效地测试。也许它涉及到在生产中难以复制的环境，如 984 英尺高的塔或身体柔软的人，而不是笨重的假人。在这种情况下，您可能会试图在预发布测试中节省开支，并在生产中进行测试。</p><p id="66f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你知道还有谁想在生产中测试吗？弗朗兹·赖歇尔:</p><blockquote class="lo lp lq"><p id="6267" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">然而，从他到达塔的那一刻起，赖歇尔就明确表示，他打算自己跳下去。根据后来对陪同他登上塔顶的一位朋友的采访，这对每个人来说都是一个惊喜，因为 Reichelt 直到最后一刻才透露他的意图。(<a class="ae ln" href="https://en.wikipedia.org/wiki/Franz_Reichelt" rel="noopener ugc nofollow" target="_blank">维基百科</a>)</p></blockquote><p id="2aa9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">弗朗兹告诉他的团队他不会在生产中测试，这让他们很失望，但他还是测试了，结果很悲惨。</p><p id="a535" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在生产中进行测试从来都不是明智的策略。然而！<em class="lr">确保</em>你<em class="lr">验证</em>你在生产上的改变。有时部署过程中会出错，或者存在无法预见的合理情况。即使你做了正确的事情，并且对你的测试充满信心，也要检查以确保你没有遗漏什么——如果你<em class="lr">确实</em>遗漏了什么，确保为将来更新你的测试计划！</p><h1 id="5014" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">令人悲伤的结论</h1><p id="eff9" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">如果可怜的 Franz 知道我们今天所知道的关于代码质量和软件开发的知识，他今天可能还活着。嗯，事实上，不，在这一点上他应该是 144 岁了，但仍然——他肯定会活到他的 34 岁生日。</p><p id="2ea9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不管你是在为早期的航空先驱建造超大号的降落伞，还是在解决更具 21 世纪特色的问题，比如为狗建造一个社交网络，正确的软件测试策略都是至关重要的！</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="6f2c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://blog.devgenius.io/@jonnystartup" rel="noopener ugc nofollow" target="_blank"> <em class="lr"> Jonathan </em> </a> <em class="lr">在大型&amp;小型创业公司中拥有超过 20 年的工程领导经验。如果你喜欢这篇文章，</em> <a class="ae ln" href="https://www.buymeacoffee.com/jonnystartup" rel="noopener ugc nofollow" target="_blank"> <em class="lr">请考虑给乔纳森留个提示</em> </a> <em class="lr">！</em></p></div></div>    
</body>
</html>