<html>
<head>
<title>PHP — P84: MySQL Tables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P84: MySQL 表格</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-p84-mysql-tables-83b203d28ff7?source=collection_archive---------6-----------------------#2022-10-28">https://blog.devgenius.io/php-p84-mysql-tables-83b203d28ff7?source=collection_archive---------6-----------------------#2022-10-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/45b6b57021ca675b9c868aa38ab559cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aqe2Zt6VK3wE3KfI1EuaOA.jpeg"/></div></div></figure><p id="0389" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上一篇文章中，我们介绍了如何创建一个数据库并建立到它的连接。现在是时候更深入一步了。是时候创建一些表了。如果您还记得前面的类比，可以将数据库视为 Excel 工作簿，将表格视为工作簿中的工作表。</p><div class="kw kx gp gr ky kz"><a rel="noopener  ugc nofollow" target="_blank" href="/php-p83-mysql-db-connection-8a34c4056863"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">PHP — P83: MySQL 数据库连接</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">读取或插入数据的第一步是建立与服务器/数据库的连接。这是一个相当…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">blog.devgenius.io</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><p id="ee79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">桌子既是艺术又是科学。架构师必须决定在不损失可读性的情况下，他们希望数据库规范化到什么程度。我们将在本文中介绍表的基础知识，并将在下一篇文章中介绍数据规范化。</p><h1 id="5b50" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">创建您的第一个表格</h1><p id="145a" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我们将从 phpMyAdmin 方法开始。访问 phpMyAdmin。对我来说是<code class="fe mr ms mt mu b"><a class="ae mv" href="http://0.0.0.0/phpmyadmin." rel="noopener ugc nofollow" target="_blank">http://0.0.0.0/phpmyadmin</a></code>。选择数据库并创建表。我们将创建的第一个表将存储图书作者信息。我们将该表命名为<code class="fe mr ms mt mu b">authors</code>。它是复数，因为它将容纳多个作者。我们想要存储作者的名字、姓氏和电子邮件地址。我们还将存储一个惟一的标识符，叫做<code class="fe mr ms mt mu b">id</code>。我们为什么需要这个？想象一下，如果人们没有社会安全号码。国税局不会知道哪个约翰·史密斯刚刚提交了他们的税款。顺便说一句，这可能不是个坏主意。<code class="fe mr ms mt mu b">id</code>对每个人都是独一无二的。因此，如果在<code class="fe mr ms mt mu b">authors</code>表中有 100 个约翰·史密斯的作者，我们将知道哪个是哪个。</p><p id="58ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数表格都有标准的<code class="fe mr ms mt mu b">updated_at</code>和<code class="fe mr ms mt mu b">created_at</code>字段。这些时间戳显示作者的创建时间和条目的最后更新时间。如果我们更改某个作者的姓氏，<code class="fe mr ms mt mu b">created_at</code>字段将保持不变，但<code class="fe mr ms mt mu b">updated_at</code>字段将被修改。</p><p id="6704" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要 6 个字段来存储:</p><ul class=""><li id="fa42" class="mx my iq ka b kb kc kf kg kj mz kn na kr nb kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">id</code></li><li id="1cca" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">first_name</code></li><li id="9482" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">last_name</code></li><li id="ec77" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">email</code></li><li id="b4b1" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">updated_at</code></li><li id="1a72" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">created_at</code></li></ul><figure class="nm nn no np gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/1254a0c0f3a3940eff6e10a97db00d22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CYOPVc0LilmDVo9o4pdvHA.png"/></div></div></figure><p id="420e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你会看到大量的信息需要填写。这是有一些标准化的，但是如何选择填写完全取决于你自己。您需要理解现有的数据类型。例如，如果您选择<code class="fe mr ms mt mu b">INT</code>作为<code class="fe mr ms mt mu b">first_name</code>字段的数据类型，您将无法存储除整数值之外的任何数据。所以这不是一个好的数据类型。一个<code class="fe mr ms mt mu b">VARCHAR</code>会比<code class="fe mr ms mt mu b">first_name</code>好得多。</p><figure class="nm nn no np gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/da112b2f2e513d236b9f58e391857bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hBMAv4QSipsmeKnLubgEjg.png"/></div></div></figure><p id="f0e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">目前，让我们像这样填写这些字段。</p><figure class="nm nn no np gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/feb6b4775c938f7e7d5beba0c6f504a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1J0AZC8av-_uetsfg_AW7A.png"/></div></div></figure><p id="cf99" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mr ms mt mu b">id</code>字段是:</p><ul class=""><li id="e236" class="mx my iq ka b kb kc kf kg kj mz kn na kr nb kv nc nd ne nf bi translated">一个<code class="fe mr ms mt mu b">INT</code>数据类型意味着它将是一个整数，这就是我们想要的。</li><li id="7d9b" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">因为在这个例子中我们不想要负的整数值。</li><li id="6863" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">因为我们希望它成为我们的主键。我们稍后将讨论主键和外键，但是主键必须是唯一的。我们不能有两个相同的整数值。</li><li id="73d2" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">A.I.</code>或自动增量。我们希望在插入新记录时自动给 ID 加 1。如果第一条记录是 1，那么下一条记录将是 2。</li></ul><p id="ab89" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mr ms mt mu b">first_name</code>、<code class="fe mr ms mt mu b">last_name</code>和<code class="fe mr ms mt mu b">email</code>字段是:</p><ul class=""><li id="7a56" class="mx my iq ka b kb kc kf kg kj mz kn na kr nb kv nc nd ne nf bi translated"><code class="fe mr ms mt mu b">VARCHAR</code>数据类型</li><li id="f3d4" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">最大字符长度为<code class="fe mr ms mt mu b">255</code>个字符</li></ul><p id="5109" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mr ms mt mu b">updated_at</code>字段是:</p><ul class=""><li id="70e9" class="mx my iq ka b kb kc kf kg kj mz kn na kr nb kv nc nd ne nf bi translated">一个<code class="fe mr ms mt mu b">TIMESTAMP</code>，其格式如下:<code class="fe mr ms mt mu b">YYYY-MM-DD HH:MM:SS</code>。时间戳示例如下:<code class="fe mr ms mt mu b">2022–01–01 00:00:01</code></li><li id="25ce" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">它的缺省值被设置为<code class="fe mr ms mt mu b">CURRENT_TIMESTAMP</code>，这意味着当你向数据库中添加 a 记录时，它会自动插入时间戳。</li><li id="98f4" class="mx my iq ka b kb ng kf nh kj ni kn nj kr nk kv nc nd ne nf bi translated">它还具有<code class="fe mr ms mt mu b">on update CURRENT_TIMESTAMP</code>属性。这只是说明每次记录被更新时，就像电子邮件被更改一样，时间戳也会被更新。</li></ul><p id="9029" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除了<code class="fe mr ms mt mu b">on update CURRENT_TIMESTAMP</code>之外，<code class="fe mr ms mt mu b">created_at</code>字段与<code class="fe mr ms mt mu b">updated_at</code>字段完全相同。更新这个字段的时间戳是没有意义的，因为我们只想知道这个记录实际上是什么时候创建的。</p><p id="52be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击底部的<code class="fe mr ms mt mu b">Save</code>按钮创建新的表格。</p><figure class="nm nn no np gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/16234ae97d77efd829b7bc4d939da1a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*34dxXpAe60_V1eU068FLJA.png"/></div></div></figure><p id="de22" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过单击 insert 按钮从 phpMyAdmin 自动插入数据。键入名字、姓氏和电子邮件来添加数据。就这么简单。但是，我们希望通过编程来实现这一点，我们将在下一篇文章中介绍。</p><h1 id="de21" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">以编程方式创建表</h1><p id="67fc" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">你知道我们会到这里的。让我们通过 PHP 创建一个表。在上一篇文章中，我们以编程方式创建了一个数据库。我们可以很容易地用桌子达到同样的目的。</p><p id="3d09" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们创建一个名为<code class="fe mr ms mt mu b">users</code>的新表，它与我们的<code class="fe mr ms mt mu b">authors</code>表、<code class="fe mr ms mt mu b">first_name</code>、<code class="fe mr ms mt mu b">last_name</code>、<code class="fe mr ms mt mu b">email</code>具有相同的字段。</p><pre class="nm nn no np gt nt mu nu nv aw nw bi"><span id="6f4a" class="nx lp iq mu b gy ny nz l oa ob">CREATE TABLE users (<br/>    id INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY,<br/>    first_name VARCHAR(255),<br/>    last_name VARCHAR(255),<br/>    email VARCHAR(50),<br/>    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP <br/>               ON UPDATE CURRENT_TIMESTAMP,<br/>    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP<br/>)</span></pre><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="7209" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们创建 SQL 脚本，并将其传递给实例化的<code class="fe mr ms mt mu b">mysqli</code>对象中的<code class="fe mr ms mt mu b">query</code>方法。如果一切正常，并且确实如此，它就创建了这个表。您可以通过重新访问 phpMyAdmin 并看一看来验证它是否是创建的。</p><figure class="nm nn no np gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/4cc4b871498fae803a0a52c92d390c59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dILYBnYJ3ddMO1i_lPegYg.png"/></div></div></figure><p id="d7d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它就在那里。暂时就这样了。下次我们真正开始向这些表添加数据时再见。您将希望熟悉 MySQL 中的各种数据类型。您可以在此获得完整列表:</p><div class="kw kx gp gr ky kz"><a href="https://dev.mysql.com/doc/refman/8.0/en/data-types.html" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">MySQL :: MySQL 8.0 参考手册::11 种数据类型</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">MySQL 支持几种类型的 SQL 数据类型:数字类型、日期和时间类型、字符串(字符和字节)…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">dev.mysql.com</p></div></div></div></a></div><div class="kw kx gp gr ky kz"><a href="https://github.com/dinocajic/php-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">GitHub-dinocajic/PHP-YouTube-tutorials:PHP YouTube 教程的代码</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">PHP YouTube 教程的代码确保你已经安装了 Docker。克隆回购。运行以下命令…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">github.com</p></div></div><div class="li l"><div class="of l lk ll lm li ln jw kz"/></div></div></a></div></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><figure class="nm nn no np gt jr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/fd805f575cd9f58c4d29b8cb8aeba3c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qH1dLhS8nOJObHrR.jpeg"/></div></figure><p id="9c71" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Dino Cajic 目前是<a class="ae mv" href="http://absolutebiotech.com/" rel="noopener ugc nofollow" target="_blank"> Absolute Biotech </a>的 IT 主管，该公司是<a class="ae mv" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(寿命生物科学公司)</a>、<a class="ae mv" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank"> Absolute 抗体</a>、<a class="ae mv" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae mv" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank"> Everest BioTech </a>、<a class="ae mv" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank"> Nordic MUbio </a>和<a class="ae mv" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的母公司。他还是<a class="ae mv" href="https://myautosystem.com/" rel="noopener ugc nofollow" target="_blank"> MyAutoSystem </a>的首席执行官。他拥有计算机科学学士学位，辅修生物学，并拥有十多年的软件工程经验。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="bd7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae mv" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae mv" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae mv" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="984a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">阅读迪诺·卡吉克(以及媒体上成千上万的其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。T9】</p></div></div>    
</body>
</html>