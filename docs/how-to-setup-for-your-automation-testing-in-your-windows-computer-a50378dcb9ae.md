# å¦‚ä½•åœ¨ Windows è®¡ç®—æœºä¸Šè®¾ç½®è‡ªåŠ¨åŒ–æµ‹è¯•

> åŸæ–‡ï¼š<https://blog.devgenius.io/how-to-setup-for-your-automation-testing-in-your-windows-computer-a50378dcb9ae?source=collection_archive---------6----------------------->

å¦‚æœæ‚¨æ˜¯è‡ªåŠ¨åŒ–æ¡†æ¶çš„æ–°æµ‹è¯•äººå‘˜ï¼Œä¸º Windows ç¬”è®°æœ¬ç”µè„‘/å°å¼æœºè®¾ç½®è‡ªåŠ¨åŒ–æ˜¯ä¸€é¡¹å›°éš¾çš„ä»»åŠ¡ã€‚ä½†æ˜¯å¦‚æœä½ ç†Ÿæ‚‰å‘½ä»¤å’Œè„šæœ¬ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸ºè‡ªåŠ¨åŒ–å’Œç¼–ç¨‹è®¾ç½® windows ç³»ç»Ÿã€‚

![](img/48cae9cbbcc7e5cc684aa70a7a7b11f6.png)

ä»Šå¤©ï¼Œæˆ‘ä»¬æƒ³ä¸°å¯Œæ‚¨å…³äºè‡ªåŠ¨åŒ–ç§»åŠ¨æµ‹è¯•çš„çŸ¥è¯†ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†æ‰¾åˆ°ä¸€æ­¥ä¸€æ­¥çš„æŒ‡å¯¼ä»¥åŠè‡ªåŠ¨åŒ–æµ‹è¯•çš„ä¸€ä¸ªç®€å•ä¾‹å­ğŸ’ğŸ’»ã€‚

# è‡ªåŠ¨åŒ–éœ€è¦ä»€ä¹ˆï¼Ÿ

æˆ‘ä»¬å°†å‘Šè¯‰ä½ å¦‚ä½•åœ¨ IntelliJ Idea ä¸­ä½¿ç”¨ Cucumberã€Appium å’Œ Java åˆ›å»ºæµ‹è¯•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ç¼–å†™ä¸€ä¸ªæ ·æœ¬ç‰¹æ€§å’Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚æˆ‘ä»¬å¼€å§‹å§ï¼

[](http://appium.io/)**â€”â€”ä¸€ä¸ªå…è®¸ä½ ä¸ºä½ çš„ç§»åŠ¨åº”ç”¨å’Œç½‘ç«™ç¼–å†™ç®€å•è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ¡†æ¶ã€‚**

**[**é»„ç“œ**](https://cucumber.io/) â€”ä¸€ä¸ªæ”¯æŒè¡Œä¸ºé©±åŠ¨å¼€å‘çš„æ¡†æ¶ã€‚**

**[**Gradle**](https://gradle.org/) â€”ä¸€ä¸ªæ„å»ºå·¥å…·ã€‚**

**[**JUnit**](https://junit.org/junit5/) â€”ä¸€ä¸ªè¿è¡Œæµ‹è¯•çš„æ¡†æ¶ã€‚**

# **å¦‚ä½•è®¾ç½®è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Ÿ**

**Appium æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æµ‹è¯•å·¥å…·ï¼Œä½†æ˜¯å®ƒå¹¶ä¸ç®€å•ï¼Œä¹Ÿä¸å®¹æ˜“å®‰è£…ã€‚è¯¥æ–‡æ¡£å¹¶æ²¡æœ‰æä¾›ä¸€ä¸ªå¾ˆå¥½çš„å¿«é€Ÿå·¥ä½œçš„æ•™ç¨‹ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨æä¾›è®¾ç½® Appium æ‰€éœ€çš„ä¸€åˆ‡ï¼Œä»¥ä¾¿è¿è¡Œç”¨ Java ç¼–å†™çš„åŸºæœ¬æµ‹è¯•åœºæ™¯ã€‚**

**é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®æ‰€æœ‰ç»„ä»¶:**

****ç¬¬ä¸€æ­¥:** [å®‰è£… Java](https://www.java.com/en/download/help/download_options.xml)**

****ç¬¬äºŒæ­¥:** [å®‰è£… Android Studio](https://developer.android.com/studio/install)**

****ç¬¬ä¸‰æ­¥:**å°† [JAVA_HOME](http://www.sajeconsultants.com/how-to-set-java_home-on-mac-os-x/) å’Œ [ANDROID_HOME](https://github.com/bahattincinic/react-native-starter-kit/wiki/How-to-set-ANDROID_HOME-environment-variable-in-mac) æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­**

****ç¬¬å››æ­¥:** [åœ¨ Android Studio ä¸­é…ç½®ä»¿çœŸå™¨](https://developer.android.com/studio/install)**

****ç¬¬äº”æ­¥:** [å®‰è£… Node.js](https://blog.teamtreehouse.com/install-node-js-npm-mac)**

****ç¬¬å…­æ­¥:** [å®‰è£… Appium æœåŠ¡å™¨å’Œ Appium å®¢æˆ·ç«¯](http://appium.io/docs/en/about-appium/getting-started/)**

****æ­¥éª¤ 8** : [å®‰è£… IntelliJ Idea](https://www.jetbrains.com/idea/download/#section=mac)**

**ä½¿ç”¨ç»ˆç«¯ä¸­çš„**å‘½ä»¤**æ£€æŸ¥ç»„ä»¶çš„å®‰è£…:**

**`$ appium-doctor`**

**å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å±å¹•:**

**![](img/7755a55f793ddc3a35660dba5d0cd4b7.png)**

**éªŒè¯é™„ä»¶å®‰è£…**

# **è®¾ç½®è®¾å¤‡é…ç½®**

**å¯åŠ¨ Appium GUI åº”ç”¨ç¨‹åºâ˜ï¸ï¸.å•å‡» Android å›¾æ ‡å¹¶è¾“å…¥ä»¥ä¸‹è¯¦ç»†ä¿¡æ¯:**

*   **åº”ç”¨ç¨‹åºè·¯å¾„â€”æµè§ˆè‡³ã€‚app æ–‡ä»¶å¤¹ä¸‹çš„ apk ä½ç½®**
*   **å¹³å°åç§°â€”é€‰æ‹© **Android****
*   **è‡ªåŠ¨åŒ–åç§°â€”é€‰æ‹©**åº”ç”¨ç¨‹åº****
*   **å¹³å°ç‰ˆæœ¬â€”ä»ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹© **5.1 æ£’æ£’ç³–(API ç­‰çº§ 22)****

**å®Œæˆä¸Šè¿°è®¾ç½®åï¼Œç‚¹å‡»**é€šç”¨è®¾ç½®**å›¾æ ‡å¹¶é€‰æ‹©ä»¥ä¸‹è®¾ç½®:**

*   **é€‰æ‹©**é¢„å¯åŠ¨åº”ç”¨****
*   **é€‰æ‹©**ä¸¥æ ¼çš„èƒ½åŠ›****
*   **é€‰æ‹©**è¦†ç›–ç°æœ‰ä¼šè¯****
*   **é€‰æ‹©**åœ¨å¯åŠ¨å‰ç»ˆæ­¢ä½¿ç”¨æœåŠ¡å™¨ç«¯å£çš„è¿›ç¨‹****
*   **é€‰æ‹©**æ–°å‘½ä»¤è¶…æ—¶**å¹¶è¾“å…¥æ•°å€¼ **7200** ã€‚**

**![](img/a5546ce2a004efcbe52402454b7a066c.png)**

**è®¾å¤‡è®¾ç½®**

**å¦å¤–ï¼Œæ‚¨éœ€è¦åœ¨æ¨¡æ‹Ÿå™¨ä¸Šå®‰è£…æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ä½ å¯ä»¥ä½¿ç”¨ Android Studio çš„æ¨¡æ‹Ÿå™¨ã€‚å®Œæˆåâ€”å¯åŠ¨ Appium æœåŠ¡å™¨ã€‚**

**![](img/fdd838fd480df5333ccbfa1ef2a16384.png)**

**å·²å¯åŠ¨ Appium æœåŠ¡å™¨**

**å½“ä½ å¯åŠ¨ Appium åº”ç”¨ç¨‹åºæ—¶ï¼Œä½ ä¼šåœ¨é¡¶éƒ¨çœ‹åˆ°å›¾æ ‡ã€‚æˆ‘ç”¨çº¢è‰²çªå‡ºæ˜¾ç¤ºäº† Appium æ£€æŸ¥å™¨ã€‚**

**![](img/48886b05b3d3a492340e5f4ecebe2404.png)**

**Appium**

**å½“æ‚¨å•å‡»çªå‡ºæ˜¾ç¤ºçš„å›¾æ ‡(Appium Inspector)æ—¶ï¼Œå®ƒå°†æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åº UI çŠ¶æ€æ•è·ã€‚**

**![](img/3640ade533440e0e74dba41641f84068.png)**

**åº”ç”¨æ£€æŸ¥å‘˜**

**å•å‡»å³ä¾§é¢æ¿ä¸Šçš„ä»»ä½•å…ƒç´ ï¼Œå¯ä»¥æ‰¾åˆ°å…³äºå®ƒçš„è¯¦ç»†ä¿¡æ¯ã€‚ç‚¹å‡»**ç»†èŠ‚**åï¼Œæ‚¨å°†çœ‹åˆ°æ‰€é€‰å…ƒç´ çš„ä¸€ç»„å±æ€§åˆ—è¡¨:**

**![](img/666263270d5127f464c5efd78ec881c5.png)**

**å…³äºå…ƒç´ çš„è¯¦ç»†ä¿¡æ¯**

**æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°å±æ€§â€œresource-idâ€å’Œ id å±æ€§çš„å€¼ã€‚å®ƒå¯ä»¥ç”¨ä½œæµ‹è¯•ä¸­å…ƒç´ çš„æ ‡è¯†ç¬¦ã€‚**

# **åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨è‡ªåŠ¨åŒ–çš„ç¤ºä¾‹**

**ä¸ºäº†åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨è‡ªåŠ¨åŒ–ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä½¿ç”¨æ­£ç¡®å‡­è¯ç™»å½•çš„ç®€å•æµ‹è¯•ã€‚æµ‹è¯•æ˜¯ä½¿ç”¨é¡µé¢å¯¹è±¡æ¨¡å¼ç¼–å†™çš„ã€‚**

****æ­¥éª¤ 1:** åˆ›å»ºä¸€ä¸ª Gradle é¡¹ç›®ï¼Œå¹¶å°† JUnitã€Appiumã€Cucumber å’Œ log4J æ‰€éœ€çš„ä¾èµ–é¡¹æ·»åŠ åˆ°æ‚¨çš„" *build.gradle"* æ–‡ä»¶ä¸­ã€‚**

****ç¬¬äºŒæ­¥:**æ·»åŠ é»„ç“œæ’ä»¶ï¼Œåˆ›å»º*ã€‚ç‰¹å¾"*æ–‡ä»¶ã€‚**

**åŠŸèƒ½:ç™»å½•åœºæ™¯æ¦‚è¿°:é€šè¿‡åº”ç”¨ç¨‹åºç™»å½•æµç¨‹ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘åº”è¯¥èƒ½å¤Ÿä½¿ç”¨æˆ‘çš„ç”µå­é‚®ä»¶å’Œå¯†ç ç™»å½•ï¼Œå½“æˆ‘å•å‡»ç™»å½•æŒ‰é’®æ—¶ï¼Œæˆ‘åœ¨ç”µå­é‚®ä»¶ä¸­å¡«å†™â€œ<login>â€ï¼Œåœ¨å¯†ç ä¸­å¡«å†™â€œ<password>â€ï¼Œç„¶åæˆ‘é€‰æ‹©ç™»å½•æŒ‰é’®ç¤ºä¾‹:| log in | Password | | test . user 1 @ test . com | 123456 | | test . user 2 @ test . com | 123456 |</password></login>**

****æ­¥éª¤ 3:** åˆ›å»ºæ­¥éª¤å®šä¹‰ã€‚æŒ‰ *Alt+Enter* æ˜¾ç¤º**åˆ›å»ºæ­¥éª¤å®šä¹‰**æ„å›¾åŠ¨ä½œã€‚ä»å¼¹å‡ºåˆ—è¡¨ä¸­é€‰æ‹©ç›®æ ‡æ­¥éª¤å®šä¹‰æ–‡ä»¶ã€‚**

**![](img/9e9f75d6f8ab77d8d95c397d64a01235.png)**

**æ­¥éª¤å®šä¹‰**

****ç¬¬å››æ­¥:**æ¯ä¸ªæµ‹è¯•åœºæ™¯éƒ½åº”è¯¥åœ¨ç‰¹å®šçš„æµ‹è¯•ç¯å¢ƒä¸‹æ‰§è¡Œã€‚Android å’Œ iOS ç§»åŠ¨ä»¿çœŸå™¨æ‰€éœ€çš„åŠŸèƒ½:**

**if(appium driver = = null){ switch(osName){ case " Android ":capabilities = desired capabilities . Android()ï¼›capabilities . set capability(" app ium-version "ï¼Œ" 1 . 9 . 0 ")ï¼›capabilities . set capability(" platform name "ï¼Œ" Android ")ï¼›capabilities . set capability(" platform version "ï¼Œ" 5.1 ")ï¼›capabilities . set capability(" device name "ï¼Œ" Google Nexus 10 ")ï¼›capabilities . set capability(" app "ï¼Œ"/Users/uptechmacbook _ air/idea projects/app ium-cucumber/app/test . apk ")ï¼›å°è¯•{ appiumDriver = new AppiumDriver(æ–° URL(" http://0 . 0 . 0 . 0:4723/wd/hub ")ï¼ŒåŠŸèƒ½)ï¼›appiumDriver.manage()ã€‚è¶…æ—¶()ã€‚éšå¼ç­‰å¾…(60ï¼Œæ—¶é—´å•ä½ã€‚ç§’)ï¼›log.info("åˆ›å»º Android é©±åŠ¨çš„å®ä¾‹")ï¼›} catch(malformedurexception e){ e . printstacktrace()ï¼›log.info("æ²¡æœ‰åˆ›å»º Android é©±åŠ¨çš„å®ä¾‹")ï¼›};æ‰“ç ´ï¼›**

****æ­¥éª¤ 5:** ç°åœ¨æˆ‘ä»¬éœ€è¦ä½¿ç”¨é¡µé¢å¯¹è±¡æ¨¡å¼æ·»åŠ åŒ…å«å…ƒç´ å’Œæ–¹æ³•çš„é¡µé¢:**

**@ AndroidFindBy(id = " log in _ Button ")ç§æŒ‰é’® btnSignIn@ AndroidFindBy(id = " email _ sign _ in ")ç§ä¿¡æŒ‰é’® emailField@ AndroidFindBy(id = " password _ sign _ in ")ç§ä¿¡æŒ‰é’® passField@ AndroidFindBy(XPath = "//Android . widget . Button[@ text = ' log in ' and @ index = ' 2 ']")ç§æœ‰æŒ‰é’® btnLoginpublic void click sign(){ btnsignin . click()ï¼›} public void set email(String email){ emailfield . sendkeys(email)ï¼›} public void set password(String password){ passfield . sendkeys(password)ï¼›} public void click log in(){ btnlogin . click()ï¼›}**

****ç¬¬å…­æ­¥:**é»„ç“œæœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç‰¹ç‚¹å«åš**æŒ‚é’©**ã€‚å®ƒä»¬å¸®åŠ©æˆ‘ä»¬åœ¨æ¯ä¸ªåœºæ™¯ä¹‹å‰æˆ–/å’Œä¹‹åæ‰§è¡Œä¸€æ®µä»£ç ã€‚æ·»åŠ å®ƒä»¬:**

**@ before class public void setUp(){ wait = new web driver wait(appium driverï¼Œ15)ï¼›} @ before class public void tear down(){ appium driver . close()ï¼›}**

****æ­¥éª¤ 9:** å› ä¸ºæˆ‘ä»¬æƒ³è¦ä½¿ç”¨ JUnit æ¡†æ¶æ¥è¿è¡Œ Cucumberï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸‹é¢çš„ç±»:**

****ä½ å®Œæˆäº†**ğŸ’ª**

**æœ‰äº†è¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿è¡Œå…¸å‹çš„ **JUnit** æµ‹è¯•ä¸€æ ·è¿è¡Œæµ‹è¯•ã€‚è¿˜æœ‰æ— æ•°ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥è®¾ç½®ã€æ„å»ºå’Œè¿è¡Œ Appium æµ‹è¯•ã€‚**

# **ç»“è®ºğŸ’¡**

**åœ¨æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†å¦‚ä½•ä¸ºæœ¬åœ°åº”ç”¨ç¨‹åºåˆ›å»ºæµ‹è¯•ã€‚æˆ‘ä»¬è¿˜å­¦ä¹ äº†å¦‚ä½•è®¾ç½® Appiumã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒAppium æ˜¯æ‰€æœ‰å¯ç”¨é€‰é¡¹ä¸­çš„æœ€ä½³é€‰æ‹©ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªâ€œè·¨å¹³å°â€çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ API é’ˆå¯¹ iOS å’Œ Android å¹³å°ç¼–å†™è½¯ä»¶è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚é€šè¿‡æ·»åŠ  Cucumber æ¡†æ¶ï¼Œæ‚¨å¯ä»¥å°† BDD æ–¹æ³•é›†æˆåˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚ç”±äº BDD æ˜¯æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)çš„ä¸€éƒ¨åˆ†ï¼Œä½ è¿˜å¯ä»¥é¢å¤–è·å¾—æ‰€æœ‰åˆä½œè€…å…±äº«çš„è§†å›¾å’Œè¿‡ç¨‹ã€‚**

**å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³åˆ†äº«æ‚¨çš„ Appium æµ‹è¯•ç»éªŒï¼Œè¯·å‘Šè¯‰æˆ‘ä»¬ï¼**

**å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾æˆ‘ä»¬çš„æœåŠ¡ï¼Œè¯·ç‚¹å‡»ä¸‹é¢çš„ç½‘ç«™:**

**[StackedQA ç½‘ç«™](https://www.stackedqa.com/)**

**æŸ¥çœ‹æˆ‘ä»¬çš„ç¤¾äº¤åª’ä½“:**

**[è„¸ä¹¦](https://www.facebook.com/StackedQA)ï¼Œ[æ¨ç‰¹](https://twitter.com/stackedqa)ï¼Œ [Instagram](https://instagram.com/stackedqa) ï¼Œ&Linkedin**