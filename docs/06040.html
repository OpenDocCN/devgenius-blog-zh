<html>
<head>
<title>Sourcery in iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS中的Sourcery</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/sourcery-in-ios-10e93c822223?source=collection_archive---------3-----------------------#2021-12-08">https://blog.devgenius.io/sourcery-in-ios-10e93c822223?source=collection_archive---------3-----------------------#2021-12-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/71b2f3eb5ba36c76a6d34abf286dbd95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*sDDwG9_3lBNRpu_7orRovw.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">准备好成为消息来源了吗？🪄</figcaption></figure><p id="7923" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/krzysztofzablocki/Sourcery" rel="noopener ugc nofollow" target="_blank"> Sourcery </a>是Swift语言的代码生成器，保证能为您节省时间。它被用于iOS和macOS上的超过40，000个项目中，并为你使用过的一些最受欢迎、最受好评的应用程序提供动力(包括Airbnb、Bumble、纽约时报)</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="4ca7" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">使用情形:</strong></h1><p id="df45" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">我们用一点小魔法改变了这个:</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="361c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">进入这个🪄:</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="ef0a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们都知道单元测试时模拟有多重要。<br/>作为开发人员，我们不想花时间编写样板代码。<br/>在上述情况下，sourcery被指示为一个协议创建一个模拟实现。但你可以做得更多。</p><h1 id="bf1b" class="le lf iq bd lg lh mn lj lk ll mo ln lo lp mp lr ls lt mq lv lw lx mr lz ma mb bi translated">了解如何使用Sourcery</h1><blockquote class="ms mt mu"><p id="5afb" class="jy jz mv ka b kb kc kd ke kf kg kh ki mw kk kl km mx ko kp kq my ks kt ku kv ij bi translated">有趣的事实:你可以比看哈利波特电影更快地理解和设置Sourcery。🍿</p></blockquote><h2 id="e6c3" class="mz lf iq bd lg na nb dn lk nc nd dp lo kj ne nf ls kn ng nh lw kr ni nj ma nk bi translated">1.下载源</h2><p id="f313" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">我们将下载Sourcery和cocoapods。</p><p id="370d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将<code class="fe nl nm nn no b">pod 'Sourcery'</code>添加到您的<code class="fe nl nm nn no b">Podfile</code>中，然后添加<code class="fe nl nm nn no b">pod install</code></p><p id="bddd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请记住:Sourcery不是项目源代码中的依赖项，它不会被发送到最终的存档应用程序中。就像雨燕绒一样。所以Cocoapods只会为我们下载可执行文件，然后我们就可以使用它了。没有它，我们不能做魔术🪄</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi np"><img src="../Images/a6d079ebb3986e893436a1cd41719086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H3EWtTMwzmPSxO85q3U1zg.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">Sourcery可执行文件Cocoapods为我们下载。</figcaption></figure><h2 id="6eee" class="mz lf iq bd lg na nb dn lk nc nd dp lo kj ne nf ls kn ng nh lw kr ni nj ma nk bi translated">2.使用来源</h2><p id="91a4" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">既然我们有了变魔术的工具(可执行)，我们应该知道如何运行它。</p><pre class="mh mi mj mk gt nu no nv nw aw nx bi"><span id="d7fa" class="mz lf iq no b gy ny nz l oa ob">Pods/Sourcery/bin/sourcery --sources "PROJECT_NAME/Source" \</span><span id="6d03" class="mz lf iq no b gy oc nz l oa ob">--templates "PROJECT_NAME/TemplateMagic" \</span><span id="9634" class="mz lf iq no b gy oc nz l oa ob">--output "PROJECT_NAME/Source"</span></pre><ul class=""><li id="8b33" class="od oe iq ka b kb kc kf kg kj of kn og kr oh kv oi oj ok ol bi translated">源Sourcery为了创建其他文件而读取的输入文件。(例如，在上面的示例中，FooProtocol.swift位于PROJECT_NAME/Source内部)</li><li id="5e39" class="od oe iq ka b kb om kf on kj oo kn op kr oq kv oi oj ok ol bi translated">模板→是Sourcery知道为哪些类/枚举创建代码和什么代码的说明。</li><li id="c819" class="od oe iq ka b kb om kf on kj oo kn op kr oq kv oi oj ok ol bi translated">输出→是sourcery将保存生成文件的文件夹。</li></ul><blockquote class="ms mt mu"><p id="79bb" class="jy jz mv ka b kb kc kd ke kf kg kh ki mw kk kl km mx ko kp kq my ks kt ku kv ij bi translated">提示:如果您希望Sourcery在每个构建中运行，您可以在构建阶段添加它。</p></blockquote><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi or"><img src="../Images/3b723bae234aa5bd997d547b5ae3a656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T7CdX3FzQryLNKZlo395NQ.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">在构建阶段添加了Sourcery</figcaption></figure><h2 id="8f02" class="mz lf iq bd lg na nb dn lk nc nd dp lo kj ne nf ls kn ng nh lw kr ni nj ma nk bi translated">3.学习如何编写自己的模板(法术)</h2><p id="287a" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/stencilproject/Stencil" rel="noopener ugc nofollow" target="_blank">模板</a>是最流行的模板语言来编写您的自定义模板。<br/>现在让我们创建自己的定制模板，让《哈利·波特与⚡️》引以为豪:)</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><blockquote class="ms mt mu"><p id="b999" class="jy jz mv ka b kb kc kd ke kf kg kh ki mw kk kl km mx ko kp kq my ks kt ku kv ij bi translated">提示:介于<strong class="ka ir"> {% </strong>和<strong class="ka ir"> %} </strong>之间的是模板代码。</p><p id="d0eb" class="jy jz mv ka b kb kc kd ke kf kg kh ki mw kk kl km mx ko kp kq my ks kt ku kv ij bi translated">提示:首先，使用注释/注释my IRST法术迭代所有协议</p></blockquote><p id="ced7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每个魔术师都从简单的法术开始，将物体变成青蛙🐸</p><p id="960f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们运行🪄</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><blockquote class="ms mt mu"><p id="933e" class="jy jz mv ka b kb kc kd ke kf kg kh ki mw kk kl km mx ko kp kq my ks kt ku kv ij bi translated">观察:第一行注释是必要的，否则我们就没有输出(没有青蛙函数)。</p></blockquote><p id="f44f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在咒语之后:</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">生成的文件。</figcaption></figure><p id="bc22" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你做到了🎉。你真好。你正式成为一名新魔术师了。我希望能从你身上看到更多的魔法。</p><p id="4ab2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里了解更多关于如何写更强大的咒语:<br/><a class="ae kw" href="https://www.youtube.com/watch?v=GNmLVq14LC8" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=GNmLVq14LC8</a></p><p id="ee2f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你觉得这篇文章很有帮助，别忘了留下一些掌声👏，你帮一个魔术师同行继续写这样的文章！</p><p id="abdf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我差点忘了..这里有一些我一直在用的咒语，想和大家分享一下。</p><h2 id="65a1" class="mz lf iq bd lg na nb dn lk nc nd dp lo kj ne nf ls kn ng nh lw kr ni nj ma nk bi translated">自动锁定</h2><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><h2 id="14b8" class="mz lf iq bd lg na nb dn lk nc nd dp lo kj ne nf ls kn ng nh lw kr ni nj ma nk bi translated">自动等值:</h2><p id="94fe" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">转换枚举以符合等效协议。</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="1852" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mv">更多内容尽在</em><a class="ae kw" href="http://blog.devgenius.io" rel="noopener ugc nofollow" target="_blank"><em class="mv">blog . dev genius . io</em></a><em class="mv">。</em></p></div></div>    
</body>
</html>