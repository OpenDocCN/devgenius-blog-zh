<html>
<head>
<title>How to Pass Data from Child to Parent in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 React 中将数据从子节点传递到父节点</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-pass-data-from-child-to-parent-in-react-33ed99a90f43?source=collection_archive---------0-----------------------#2022-09-06">https://blog.devgenius.io/how-to-pass-data-from-child-to-parent-in-react-33ed99a90f43?source=collection_archive---------0-----------------------#2022-09-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="2978" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">React 面试中常见的问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/20d0695f4cdebbbdbe93b9950914e1b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JGJy5mcxE6ah3j5Y"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">费伦茨·阿尔马西在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="cd89" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">React 中一个不太常见的细微差别是它遵循单向数据绑定。换句话说，在 React 的情况下，数据只向一个方向流动，从父组件流向子组件。反之，也就是说，将数据从子节点传递到父节点是不可能的，至少在理论上是不可能的。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="80f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">数据可以通过 props 从父组件传递到子组件。父组件的任何属性，无论是变量还是函数，都可以作为道具传递给子组件。虽然没有直接的方法将数据从子组件传递到父组件，但是有一些变通方法。最常见的方法是将一个处理函数从父组件传递给子组件，该处理函数接受子组件的数据参数。这可以用一个例子来更好地说明。</p><pre class="kj kk kl km gt lg lh li lj aw lk bi"><span id="da4d" class="ll lm in lh b gy ln lo l lp lq">import React from "react";</span><span id="fefb" class="ll lm in lh b gy lr lo l lp lq">export default function App() {</span><span id="a5b7" class="ll lm in lh b gy lr lo l lp lq">  return (</span><span id="ff93" class="ll lm in lh b gy lr lo l lp lq">    &lt;div&gt;</span><span id="1bf6" class="ll lm in lh b gy lr lo l lp lq">       &lt;Parent /&gt;</span><span id="1001" class="ll lm in lh b gy lr lo l lp lq">    &lt;/div&gt;</span><span id="5d24" class="ll lm in lh b gy lr lo l lp lq">  );</span><span id="2873" class="ll lm in lh b gy lr lo l lp lq">}</span></pre><p id="c807" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">考虑一个带有上面显示的<code class="fe ls lt lu lh b">App</code>组件的简单应用程序。它在 div 元素中返回一个<code class="fe ls lt lu lh b">Parent</code>组件。让我们看看<code class="fe ls lt lu lh b">Parent</code>和<code class="fe ls lt lu lh b">Child</code>组件。</p><pre class="kj kk kl km gt lg lh li lj aw lk bi"><span id="5231" class="ll lm in lh b gy ln lo l lp lq">const Parent = () =&gt; {<br/>  const [message, setMessage] = React.useState("Hello World");</span><span id="cc75" class="ll lm in lh b gy lr lo l lp lq">  const chooseMessage = (message) =&gt; {<br/>    setMessage(message);<br/>  };</span><span id="823a" class="ll lm in lh b gy lr lo l lp lq">  return (<br/>    &lt;div&gt;<br/>      &lt;h1&gt;{message}&lt;/h1&gt;<br/>      &lt;Child chooseMessage={chooseMessage} /&gt;<br/>    &lt;/div&gt;<br/>  );</span><span id="545d" class="ll lm in lh b gy lr lo l lp lq">};</span><span id="2de9" class="ll lm in lh b gy lr lo l lp lq">const Child = ({ chooseMessage }) =&gt; {<br/>  let msg = 'Goodbye';<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={() =&gt; chooseMessage(msg)}&gt;Change    Message&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );</span><span id="5ebc" class="ll lm in lh b gy lr lo l lp lq">};</span></pre><p id="7506" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ls lt lu lh b">Parent</code>组件中的<code class="fe ls lt lu lh b">message</code>变量的初始状态被设置为‘Hello World ’,并显示在<code class="fe ls lt lu lh b">Parent</code>组件的 h1 标签中，如图所示。我们在<code class="fe ls lt lu lh b">Parent</code>组件中编写一个<code class="fe ls lt lu lh b">chooseMessage</code>函数，并将这个函数作为道具传递给<code class="fe ls lt lu lh b">Child</code>组件。这个函数接受一个参数<code class="fe ls lt lu lh b">message</code>。但是这个<code class="fe ls lt lu lh b">message</code>参数的数据是从<code class="fe ls lt lu lh b">Child</code>组件内部传递的，如图所示。因此，单击更改消息按钮，<code class="fe ls lt lu lh b">msg</code>=‘Goodbye’将被传递给<code class="fe ls lt lu lh b">Parent</code>组件中的<code class="fe ls lt lu lh b">chooseMessage</code>处理函数，并且<code class="fe ls lt lu lh b">Parent</code>组件中的<code class="fe ls lt lu lh b">message</code>的新值将为‘Goodbye’。这样，来自子组件的数据(在<code class="fe ls lt lu lh b">Child</code>组件的变量<code class="fe ls lt lu lh b">msg</code>中的数据)被传递到父组件。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="0144" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是如何将数据从子组件传递到父组件的一个简单且相当基本的例子。了解这一点很方便，因为您可能会遇到具有多个组件级别的 React 项目，其中父组件可能依赖于/期望来自子组件的数据。</p></div></div>    
</body>
</html>