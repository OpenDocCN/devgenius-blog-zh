<html>
<head>
<title>All you need for Dependency Injection is Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">依赖注入所需要的就是 Kotlin</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/all-you-need-for-dependency-injection-is-kotlin-831b235bb45b?source=collection_archive---------3-----------------------#2022-02-20">https://blog.devgenius.io/all-you-need-for-dependency-injection-is-kotlin-831b235bb45b?source=collection_archive---------3-----------------------#2022-02-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/7e0442461125f1a4725ee4e050cf9347.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cQvbK-wPJ9sYVwVpGiQhcw.png"/></div></div></figure><p id="5dff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可能想知道什么是最适合你的 Android 项目的依赖注入库。匕首，剑柄，银，还是柯丁？我无法回答这个问题。您应该选择适合您的项目、经验和期望的内容。但是如果我告诉你你不需要任何库呢？你在科特林有你需要的一切！你不会有一些新奇的东西，比如开箱即用，但是在大多数项目中，你也不会用到它。当然，你仍然可以在将来改进你的方法。</p><p id="0125" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">最简单的依赖注入是构造函数中的默认参数值。</strong></p><p id="2a27" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">看看这有多简单:</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="e143" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以看到有一个<code class="fe kz la lb lc b">Graph</code>物体，但这也是 Kotlin 的一个非常简单的主图。该图是单例的，具有单例范围。😉<br/>你可以为网络和数据库创建任意多的图形对象。像在所有 DI 库中一样组织它。</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="9040" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您还可以将一些既不是单例也不是新实例的对象传递给一个 ViewModel，就像另一个 ViewModel 一样。为此，您可以使用定制工厂为视图模型编写自己的扩展<code class="fe kz la lb lc b">by viewModels</code>:</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="f8e0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">同样的方法也适用于其他类型的视图模型委托:</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="2469" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">仅此而已。这就是你在项目中作为依赖注入所需要的。</p><p id="2cc4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">好了，你可能还想使用更多的东西— <a class="ae ld" href="https://developer.android.com/topic/libraries/architecture/viewmodel-savedstate" rel="noopener ugc nofollow" target="_blank"> SavedStateHandle </a>。如果是，那么更好是一个小的不同的方法。我们可以提供函数来提供视图模型工厂，而不是重写委托。</p><figure class="kt ku kv kw gt jo"><div class="bz fp l di"><div class="kx ky l"/></div></figure><p id="f2d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">告诉我你对这些方法有什么看法？哪个更适合你？你在项目中使用什么作为依赖注入？</p><p id="884f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">加入我的<strong class="jx io">代码端</strong>！<br/>一切顺利，<br/>阿图尔</p></div><div class="ab cl le lf hr lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ig ih ii ij ik"><p id="e1e6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ll">原载于</em><a class="ae ld" href="https://www.thecodeside.com/2022/02/09/all-you-need-for-dependency-injection-is-kotlin/" rel="noopener ugc nofollow" target="_blank"><em class="ll">https://www.thecodeside.com</em></a><em class="ll">。</em></p></div></div>    
</body>
</html>