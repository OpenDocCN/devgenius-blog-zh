<html>
<head>
<title>JavaScript Tips — Arrays and Numbers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript 提示—数组和数字</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/javascript-tips-arrays-and-numbers-3113dee8fee7?source=collection_archive---------17-----------------------#2020-08-05">https://blog.devgenius.io/javascript-tips-arrays-and-numbers-3113dee8fee7?source=collection_archive---------17-----------------------#2020-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/48d08bc85c9a9cfe1cef9d18be1bcdf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jYhT-tx3mnraW8fW"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">丹尼尔·奥拉莱耶在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="1ce6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript 应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些在编写 JavaScript 代码时应该遵循的技巧。</p><h1 id="5dda" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">验证给定的参数是一个数字</strong></h1><p id="4d11" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">isNaN</code>和<code class="fe me mf mg mh b">isFinite</code>函数检查给定的参数是否是一个数字。</p><p id="ee24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="eda5" class="mq lc iq mh b gy mr ms l mt mu">function isNumber(n){<br/>  return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);<br/>}</span></pre><p id="d413" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">isNaN</code>检查一个数字不是<code class="fe me mf mg mh b">NaN</code>，而<code class="fe me mf mg mh b">isFinite</code>检查一个数字是有限的。</p><p id="7674" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe me mf mg mh b">isNaN</code>返回<code class="fe me mf mg mh b">false</code>，<code class="fe me mf mg mh b">isFinite</code>返回<code class="fe me mf mg mh b">true</code>，那么我们知道<code class="fe me mf mg mh b">n</code>是一个数字。</p><p id="af1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们先用<code class="fe me mf mg mh b">parseFloat</code>试着把它转换成浮点数。</p><h1 id="2d52" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">验证给定的参数是数组</h1><p id="a21f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">Array.isArray</code>方法来检查一个变量是否是一个数组。</p><p id="ba7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="18f0" class="mq lc iq mh b gy mr ms l mt mu">Array.isArray(obj)</span></pre><p id="5f06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这在任何地方都适用，包括外部框架和其他环境。</p><p id="367e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们不必担心框架，我们也可以使用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3d96" class="mq lc iq mh b gy mr ms l mt mu">Object.prototype.toString.call(obj) === '[object Array]' </span></pre><p id="04df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="249b" class="mq lc iq mh b gy mr ms l mt mu">arr instanceof Array</span></pre><p id="b734" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">去做检查。</p><h1 id="e9fe" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">获取数字数组中的最大值或最小值</h1><p id="d044" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Math.max</code>或<code class="fe me mf mg mh b">Math.min</code>方法得到一个数的最大值或最小值。</p><p id="9474" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用 spread 操作符来传播参数。</p><p id="c0eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7d8f" class="mq lc iq mh b gy mr ms l mt mu">const numbers = [5, 4, 4, 7, 2, 6, 2]; <br/>const maxInNumbers = Math.max(...numbers); <br/>const minInNumbers = Math.min(...numbers);</span></pre><p id="9b65" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">numbers</code>数组扩展为<code class="fe me mf mg mh b">Math.max</code>和<code class="fe me mf mg mh b">Math.min</code>方法的参数，分别从数组中获取最大值和最小值。</p><h1 id="09de" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">清空数组</h1><p id="621f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过将<code class="fe me mf mg mh b">length</code>属性设置为 0 来清空数组。</p><p id="17dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6bea" class="mq lc iq mh b gy mr ms l mt mu">const myArray = [1, 2, 3];  <br/>myArray.length = 0;</span></pre><p id="895f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe me mf mg mh b">myArray</code>将被清空。</p><h1 id="ccf9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">不要使用 delete 从数组中删除项目</h1><p id="f577" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">delete</code>不应该用来从数组中移除一个元素。</p><p id="e976" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们不应该写这样的代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bf8a" class="mq lc iq mh b gy mr ms l mt mu">const myArray = [1, 2, 3];<br/>delete myArray[1];</span></pre><p id="2580" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相反，我们使用<code class="fe me mf mg mh b">splice</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1b6b" class="mq lc iq mh b gy mr ms l mt mu">const myArray = [1, 2, 3];<br/>myArray.splice(1, 1);</span></pre><p id="ca46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">移除索引为 1 的项目。</p><p id="5945" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是要删除的索引。</p><p id="2a74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数是从索引开始要删除多少项。</p><h1 id="78c9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用长度截断数组</h1><p id="2f42" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将<code class="fe me mf mg mh b">length</code>属性设置为一个大于 0 的数字来截断一个数组。</p><p id="45e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5d57" class="mq lc iq mh b gy mr ms l mt mu">const myArray = [1, 2, 3, 4, 5, 6];<br/>myArray.length = 2;</span></pre><p id="5f6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在<code class="fe me mf mg mh b">myArray</code>的长度是 2。</p><h1 id="c6ec" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">使用逻辑“与/或”作为条件</strong></h1><p id="2ae4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">&amp;&amp;</code>或<code class="fe me mf mg mh b">||</code>来创建条件表达式。</p><p id="66cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7902" class="mq lc iq mh b gy mr ms l mt mu">const foo = 10;  <br/>(foo === 10) &amp;&amp; doSomething();<br/>(foo === 5) || doSomething();</span></pre><p id="5fa6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">(foo === 10) &amp;&amp; doSomething();</code>同:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1596" class="mq lc iq mh b gy mr ms l mt mu">if (foo === 10){<br/>  doSomething();<br/>}</span></pre><p id="7d17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和<code class="fe me mf mg mh b">(foo === 5) || doSomething();</code>相同的是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="54d7" class="mq lc iq mh b gy mr ms l mt mu">if <!-- -->(foo === 5){<br/>  doSomething();<br/>}</span></pre><h1 id="8243" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">使用 map()方法循环遍历数组的项</strong></h1><p id="7a3c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们需要将每个数组条目映射到一个新值，我们可以使用<code class="fe me mf mg mh b">map</code>方法。</p><p id="6ec4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3629" class="mq lc iq mh b gy mr ms l mt mu">const squares = [1, 2, 3].map((val) =&gt; {  <br/>  return val ** 2;  <br/>});</span></pre><p id="c47c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">map</code>对数组中的每个数字求平方。</p><p id="4c45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cb6a" class="mq lc iq mh b gy mr ms l mt mu">[1, 4, 9]</span></pre><p id="ff7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为<code class="fe me mf mg mh b">squares</code>的值。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/a8f864003896b4a5d4f266f06000034c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N0MnI6qg9VoJj2Gn"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">杰罗姆·霍伊泽在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="7b24" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b7c9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用数组和数字做很多事情。</p></div></div>    
</body>
</html>