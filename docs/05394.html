<html>
<head>
<title>How to Format a Number with K at the End if it is One Thousand or More and Show the Number Otherwise in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果一个数字是一千或一千以上，如何格式化一个以 K 结尾的数字，否则在 JavaScript 中显示这个数字？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-format-a-number-with-k-at-the-end-if-it-is-one-thousand-or-more-and-show-the-number-283ad5141280?source=collection_archive---------8-----------------------#2021-08-02">https://blog.devgenius.io/how-to-format-a-number-with-k-at-the-end-if-it-is-one-thousand-or-more-and-show-the-number-283ad5141280?source=collection_archive---------8-----------------------#2021-08-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9658e5213b588c9a0b2da73c0416a9e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IQisfg3FM8NfDy_3"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@ocollet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Olivier Collet </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="99e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们想要格式化一个数字，如果它是 1000 或更大，我们就在末尾显示 K，如果它小于 1000，就返回显示的数字。</p><p id="714a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何格式化一个结尾为 K 的数字，如果它是 1000 或更大，否则返回整数。</p><h1 id="2ac3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用数学方法</h1><p id="f19e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建自己的函数，使用<code class="fe me mf mg mh b">Math</code>方法来检查一个数字的绝对值是否大于或等于 1000。</p><p id="de10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是，那么我们除以 1000，在它后面加一个 K。</p><p id="2039" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们返回整数。</p><p id="cd56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="73db" class="mq lc iq mh b gy mr ms l mt mu">const kFormatter = (num) =&gt; {<br/>  return Math.abs(num) &gt; 999 ? Math.sign(num) * ((Math.abs(num) / 1000).toFixed(1)) + 'k' : Math.sign(num) * Math.abs(num)<br/>}</span><span id="88a1" class="mq lc iq mh b gy mv ms l mt mu">console.log(kFormatter(1200));<br/>console.log(kFormatter(-1200));<br/>console.log(kFormatter(900));<br/>console.log(kFormatter(-900));</span></pre><p id="5f9a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了接受<code class="fe me mf mg mh b">num</code>数字参数的<code class="fe me mf mg mh b">kFormatted</code>函数。</p><p id="15ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们检查<code class="fe me mf mg mh b">num</code>的绝对值是否大于 999。</p><p id="ad14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Math.abs</code>让我们计算一个数的绝对值。</p><p id="a8c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果大于 999，那么我们用<code class="fe me mf mg mh b">Math.sign</code>来得到数字的符号。</p><p id="9681" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果数字是负数，返回-1，否则返回 1。</p><p id="e17e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们把它乘以<code class="fe me mf mg mh b">num</code>的绝对值除以 1000。</p><p id="4086" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用 1 调用<code class="fe me mf mg mh b">toFixed</code>来返回四舍五入到一个小数位的数字的字符串版本。</p><p id="29f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在它后面加上<code class="fe me mf mg mh b">'k'</code>。</p><p id="009b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们只返回数字本身:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="35e2" class="mq lc iq mh b gy mr ms l mt mu">Math.sign(num) * Math.abs(num)</span></pre><p id="2444" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dc33" class="mq lc iq mh b gy mr ms l mt mu">1.2k<br/>-1.2k<br/>900<br/>-900</span></pre><p id="ac76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从控制台日志结果。</p><h1 id="169b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="535f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用各种<code class="fe me mf mg mh b">Math</code>方法来格式化数字，如果是 1000 或更大，则返回截断的数字，否则返回整数。</p></div></div>    
</body>
</html>