<html>
<head>
<title>Set Up a Programmatic UIKit Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立一个可编程的 UIKit 项目</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/set-up-a-programmatic-uikit-project-fc201a6a8fe2?source=collection_archive---------2-----------------------#2020-07-23">https://blog.devgenius.io/set-up-a-programmatic-uikit-project-fc201a6a8fe2?source=collection_archive---------2-----------------------#2020-07-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9ae18414593870751577e44e0b193d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zoN0YxCnWdvMs35FaP5tNA.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com/@zanilic?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Zan </a>在<a class="ae jz" href="https://unsplash.com/s/photos/xcode?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="a6ee" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在 UIKit 中，有几种不同的方法来构建用户界面。通过故事板。xib 文件，或者 100%通过代码。通过使用代码开发用户界面，开发人员可以更好地管理他们的应用程序，因为他们能够控制约束、更改逻辑，并避免使用界面构建器时可能出现的性能低下的问题。</p><p id="8c92" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本文使用 Xcode 14。</p><h2 id="8acf" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">创建项目</h2><p id="d79e" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">在 Xcode 中创建新应用程序。确保你使用的是故事板界面。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/8d8f02129977482f0dacc208a1c58fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dl_8r7l5GysCDhtjM6RQBg.png"/></div></div></figure><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/54636dc2c3511573717244eb369f44b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-BePbazsawscmtscvfnsww.png"/></div></div></figure><h2 id="762a" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">删除“Main.storyboard”文件</h2><p id="9d92" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">在导航区域，右键点击<code class="fe mc md me mf b">Main.storyboard</code>，然后点击<strong class="kc io">删除</strong>。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/dfc75ea0349befd9610084dca50b971f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YIzNh-Nri0DiOpgOizIMog.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">使用⌘ + 0 打开和关闭导航区域。</figcaption></figure><p id="27f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">单击<strong class="kc io">删除</strong>后，会出现一个警告，询问您是要将故事板文件移动到回收站，还是仅删除对它的引用。两者的区别在于<strong class="kc io">移动到垃圾桶</strong>会将文件从你的硬盘上完全删除，而<strong class="kc io">移除引用</strong>只会移除对你的 Xcode 项目中文件的引用，但会将其保留在硬盘上。</p><p id="8d69" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">选择<strong class="kc io">移至垃圾箱</strong>，故事板文件将被删除。</p><h2 id="230a" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">从 Info.plist 或 Build 设置中删除对情节提要的引用</h2><p id="2274" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">在<code class="fe mc md me mf b">Info.plist</code>中，有一个名为<strong class="kc io">主故事板文件库名的键。</strong>将鼠标悬停在按键上时，单击减号即可移除。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mh"><img src="../Images/ce2eb862f1fd1021c461ce763fb24852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aeYD2KedHfUY_DnQ2Lg8wA.png"/></div></div></figure><p id="bd9e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<strong class="kc io">构建设置</strong>中搜索<strong class="kc io"> UIKit 主故事板文件库名</strong>也可以得到同样的结果。点击设置名称，然后使用⌘ +删除来删除引用。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/8a04ff3f7e2328e7b0a62a65c18e6a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rLrqgEog0qto6g_Dmwkw_g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">参考尚未删除。</figcaption></figure><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/64220b8aade98d10f954f5196f7df4de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPQ7B-6PUryRCE_z6YdDpw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">参考已删除。</figcaption></figure><h2 id="452a" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">从<strong class="ak">信息列表</strong>中删除<code class="fe mc md me mf b"><strong class="ak">UISceneStoryboardFile</strong></code> <strong class="ak"> </strong>。</h2><p id="edc2" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">在<code class="fe mc md me mf b">Info.plist</code>中，有一个名为<strong class="kc io">的键，应用场景清单</strong>；一本字典。通过单击名称左侧的箭头来扩展字典。</p><p id="1087" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将产生两个项目，<strong class="kc io">启用多个窗口</strong>和<strong class="kc io">场景配置</strong>。扩展<strong class="kc io">场景配置</strong>字典以显示<strong class="kc io">应用会话角色</strong>数组。</p><p id="a7a1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，扩展在<strong class="kc io">应用会话角色</strong>中找到的名为<strong class="kc io"> Item 0 </strong>的键。您将看到一个名为<strong class="kc io">故事板名称</strong>的键—单击名称旁边的减号删除该键。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/c36730a0653a0d156bc0cac7d60de985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fUwd8VRnd6xtfaphVSMO0Q.png"/></div></div></figure><p id="0d68" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您在删除目标的故事板文件和主故事板文件基础名称设置后没有删除<strong class="kc io">故事板名称</strong>键，应用程序将会崩溃，您将会收到以下错误:</p><pre class="lx ly lz ma gt mj mf mk bn ml mm bi"><span id="591e" class="mn kz in mf b be mo mp l mq mr">Terminating app due to uncaught exception 'NSInvalidArgumentException,' reason: 'Could not find a storyboard named 'Main' in bundle NSBundle.</span></pre><p id="54c8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您的“应用程序场景清单”应该如下所示:</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/78e1fe8ffb49f4b63ab3c97ca15f3a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*Ic8Llsfif6f5U2dk_FV0ow.png"/></div></figure><h2 id="da15" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">在 SceneDelegate 中设置根视图控制器</h2><p id="2c9c" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated"><code class="fe mc md me mf b">SceneDelegate</code>文件负责用户在屏幕上看到的内容。由于这是一个编程式 UI 设置，所以必须设置根视图控制器，否则，应用程序启动时不会出现任何内容。</p><p id="ea74" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<code class="fe mc md me mf b">willConnectTo</code>方法中，更改如下:</p><pre class="lx ly lz ma gt mj mf mk bn ml mm bi"><span id="2f74" class="mn kz in mf b be mo mp l mt mr">func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {<br/>    guard let _ = (scene as? UIWindowScene) else { return }<br/>}</span></pre><p id="62df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对此:</p><pre class="lx ly lz ma gt mj mf mk bn ml mm bi"><span id="bce0" class="mn kz in mf b be mo mp l mt mr">func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {<br/>    // 1.<br/>    guard let windowScene = (scene as? UIWindowScene) else { return }<br/>    <br/>    // 2.<br/>    let window = UIWindow(windowScene: windowScene)<br/>    <br/>    // 3.<br/>    window.rootViewController = ViewController()<br/><br/>    // 4.<br/>    window.makeKeyAndVisible()<br/><br/>    // 5.<br/>    self.window = window<br/>}</span></pre><ol class=""><li id="1985" class="mu mv in kc b kd ke kh ki kl mw kp mx kt my kx mz na nb nc bi translated">将<code class="fe mc md me mf b">UIWindowScene</code>对象存储在一个变量中。</li><li id="b481" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">使用先前存储的<code class="fe mc md me mf b">UIWindowScene</code>创建一个新的<code class="fe mc md me mf b">UIWindow</code>。</li><li id="3cd3" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">设置应用程序的根视图控制器。(这正是它听起来的样子——您的应用程序将视图控制器视为视图控制器层次结构的根)。</li><li id="2b2e" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">将窗口设置为应用程序的主窗口。(这确保该窗口用于在屏幕上显示正确的内容)。</li><li id="bfaa" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx mz na nb nc bi translated">使用<code class="fe mc md me mf b">window</code>属性将新创建的窗口存储在<code class="fe mc md me mf b">SceneDelegate</code>中。(如果不这样做，应用程序将不会使用正确的<code class="fe mc md me mf b">UIWindow</code>对象，因此不会在屏幕上显示正确的内容)。</li></ol><p id="5402" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我已经将 ViewController 的视图背景颜色设置为红色，以表明应用程序运行时显示了正确的 ViewController。</p><pre class="lx ly lz ma gt mj mf mk bn ml mm bi"><span id="906c" class="mn kz in mf b be mo mp l mt mr">import UIKit<br/><br/>class ViewController: UIViewController {<br/><br/>    override func viewDidLoad() {<br/>        super.viewDidLoad()<br/>        // Do any additional setup after loading the view.<br/>        view.backgroundColor = .red<br/>    }<br/>}</span></pre><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/2f7c8c5c08400937e2288da525765d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*_PiWKfu52gCdSuaMsvER7g.png"/></div></figure></div><div class="ab cl nj nk hr nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ig ih ii ij ik"><h2 id="985f" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">相关内容</h2><ul class=""><li id="9580" class="mu mv in kc b kd lr kh ls kl nq kp nr kt ns kx nt na nb nc bi translated"><a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/the-basics-of-ios-development-e1874f387fc">iOS 开发基础</a></li><li id="d103" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx nt na nb nc bi translated"><a class="ae jz" href="https://andrew-lundy.medium.com/adding-space-between-the-cells-of-a-uitableview-590a0cfd2e22" rel="noopener">在 UITableView 的单元格之间添加空间</a></li><li id="2b63" class="mu mv in kc b kd nd kh ne kl nf kp ng kt nh kx nt na nb nc bi translated"><a class="ae jz" href="https://levelup.gitconnected.com/core-location-setting-up-core-location-with-uikit-fc7980565b4f" rel="noopener ugc nofollow" target="_blank">核心位置——用 UIKit 设置核心位置</a></li></ul></div></div>    
</body>
</html>