<html>
<head>
<title>Get Your “Pull Request” Approved Faster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让您的“拉动式请求”更快获得批准</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/get-your-pull-request-approved-faster-9b123239d664?source=collection_archive---------12-----------------------#2020-07-26">https://blog.devgenius.io/get-your-pull-request-approved-faster-9b123239d664?source=collection_archive---------12-----------------------#2020-07-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="3717" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi ki translated">我仍然记得我的第一个拉取请求(我们在FB中称之为“diff ”)在最终获得批准之前被拒绝了5次。像大多数菜鸟一样，我基本上犯了所有我能犯的错误，这使得审查者不可能允许它被合并到主分支中。幸运的是，我得到了一群患者评论者的支持，他们在评论中列出了我需要纠正的所有地方。这些评论指导了如何写一份合适的拉式请求，为自己保持高质量，绝不偷工减料。</p><p id="cdef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">快进到现在，我已经审查了1000多个跨不同语言(从C++到Javascript)的拉请求。作为一名技术主管，规划工程工作和审查代码是我的首要职责。通过这些经验，我总结了一些技巧，我相信这些技巧可以帮助你的“拉动式请求”更快地获得批准。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/92d35710b376b0e932385bd7dc4b5ca6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g67phmS8_ZytbCRI"/></div></div></figure><h1 id="2ca1" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">聚焦变化</h1><blockquote class="mb mc md"><p id="cc4c" class="jk jl me jm b jn jo jp jq jr js jt ju mf jw jx jy mg ka kb kc mh ke kf kg kh ig bi translated">“如果主题行中有单词“<strong class="jm io">和</strong>，则需要拆分”</p></blockquote><p id="2925" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在一个请求中压缩太多的变化是头号错误。评论者对无法用一句话解释的拉式请求过敏。在单个拉取请求中，长而复杂的代码变更会使评审者对您想要完成的任务感到困惑，并且难以验证。</p><blockquote class="mi"><p id="5651" class="mj mk in bd ml mm mn mo mp mq mr kh dk translated">“糊涂的头脑永远不会买”。</p></blockquote><p id="11d2" class="pw-post-body-paragraph jk jl in jm b jn ms jp jq jr mt jt ju jv mu jx jy jz mv kb kc kd mw kf kg kh ig bi translated">所以，为了让你的请求更快地被批准，第一件事就是限制你的改变范围，每个请求只做一件事。</p><p id="5371" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将一个要素分解成更小的堆叠请求。一些工程师可能会争辩说它增加了评审请求的负荷，但是实际上，它通过极大地简化每个请求而减少了评审时间。</p><p id="eb23" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，任务是<strong class="jm io">在网页</strong>上添加一个“打开对话框”按钮。而不是提交一个巨大的请求，包括整个堆栈文件的变化。考虑提交3个堆叠的请求，分别针对“添加后端逻辑”、“添加按钮/对话框UI”和“将UI与后端连接”。</p><h1 id="dfc6" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">清除摘要</h1><blockquote class="mb mc md"><p id="9a49" class="jk jl me jm b jn jo jp jq jr js jt ju mf jw jx jy mg ka kb kc mh ke kf kg kh ig bi translated">“拉请求的目的是让你的审查者相信你的代码正在做你所计划的事情”。</p></blockquote><p id="b575" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在快节奏的开发周期中，我们花在编写“官方”技术文档或wiki上的时间越来越少，这些文档或wiki解释了我们为什么以这种方式实现它。当事情发生时，为了理解根本原因，工程师最有可能追溯到有问题的拉请求。</p><p id="5bbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这种情况下，每个拉取请求的描述都是事实上的文档。</p><p id="78a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了证明每个提交都是响应性地编写的，并有助于未来的调查，应涵盖以下方面:</p><h2 id="bbf1" class="mx le in bd lf my mz dn lj na nb dp ln jv nc nd lr jz ne nf lv kd ng nh lz ni bi translated">为什么</h2><p id="ff71" class="pw-post-body-paragraph jk jl in jm b jn nj jp jq jr nk jt ju jv nl jx jy jz nm kb kc kd nn kf kg kh ig bi translated">为什么我们首先要做这些改变。写一个简短的介绍，介绍这个拉取请求的背景。具体来说，</p><ol class=""><li id="64e4" class="no np in jm b jn jo jr js jv nq jz nr kd ns kh nt nu nv nw bi translated">如果是大项目的一部分，附上项目链接。</li><li id="cdfe" class="no np in jm b jn nx jr ny jv nz jz oa kd ob kh nt nu nv nw bi translated">如果是一个用户界面的变化，附上一个设计模拟。</li><li id="d62e" class="no np in jm b jn nx jr ny jv nz jz oa kd ob kh nt nu nv nw bi translated">如果是bug，描述一下损坏情况。</li></ol><h2 id="0adb" class="mx le in bd lf my mz dn lj na nb dp ln jv nc nd lr jz ne nf lv kd ng nh lz ni bi translated">目标</h2><p id="1a0c" class="pw-post-body-paragraph jk jl in jm b jn nj jp jq jr nk jt ju jv nl jx jy jz nm kb kc kd nn kf kg kh ig bi translated">解释这个拉取请求计划做什么。</p><ol class=""><li id="d561" class="no np in jm b jn jo jr js jv nq jz nr kd ns kh nt nu nv nw bi translated">如果是bug修复，描述我们想要消除的症状。</li><li id="9826" class="no np in jm b jn nx jr ny jv nz jz oa kd ob kh nt nu nv nw bi translated">如果是一个特性，描述它的功能。</li></ol><h2 id="3a8b" class="mx le in bd lf my mz dn lj na nb dp ln jv nc nd lr jz ne nf lv kd ng nh lz ni bi translated">怎么做</h2><p id="7319" class="pw-post-body-paragraph jk jl in jm b jn nj jp jq jr nk jt ju jv nl jx jy jz nm kb kc kd nn kf kg kh ig bi translated">确信这个拉取请求提出的代码更改是合理的。简述如何实现目标的解决方案。如果涉及到算法的话解释一下。如果我们正在修复bug，请解释根本原因。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/780fdeff0f21a71edf5a06854a654e0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*OpOoskeSwc6SZh8_ZIduKw.jpeg"/></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">图片来自<a class="ae oh" href="https://www.perforce.com/blog/vcs/git-code-review-workflow" rel="noopener ugc nofollow" target="_blank"> Perforce </a></figcaption></figure><h1 id="cf8c" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">测试计划</h1><p id="ac33" class="pw-post-body-paragraph jk jl in jm b jn nj jp jq jr nk jt ju jv nl jx jy jz nm kb kc kd nn kf kg kh ig bi translated">在大多数公司中，在你的代码发布到产品中后，评审者将对任何意想不到的结果负责。因此，为了说服评审人员，拉式请求的作者有义务展示一些证据，证明代码更改是安全的，并且按预期工作。</p><p id="09f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有三种基本方法来演示:</p><ol class=""><li id="3e11" class="no np in jm b jn jo jr js jv nq jz nr kd ns kh nt nu nv nw bi translated">证明它通过了所有<strong class="jm io">静态分析工具的</strong>检查。在测试计划中显示代码通过了所有的linter、编译器或者任何其他静态分析检查。确保代码至少没有基本的语法错误。</li><li id="d54a" class="no np in jm b jn nx jr ny jv nz jz oa kd ob kh nt nu nv nw bi translated">增加<strong class="jm io">单元测试</strong>。编写并执行单元测试，覆盖您更改的代码。</li><li id="2eaa" class="no np in jm b jn nx jr ny jv nz jz oa kd ob kh nt nu nv nw bi translated">附上一个<strong class="jm io">演示视频</strong>。附上截图或截屏视频，说明软件在应用新的更改后工作正常。</li></ol><p id="0d4a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是拉请求的三个最基本的部分。试着在你的下一个请求中应用它们，看看效果如何。</p></div></div>    
</body>
</html>