<html>
<head>
<title>Add Marker Icons onto Lines with the Visx Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Visxåº“å°†æ ‡è®°å›¾æ ‡æ·»åŠ åˆ°çº¿æ¡ä¸Š</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.devgenius.io/add-markers-onto-lines-with-the-visx-library-25ac00e55191?source=collection_archive---------5-----------------------#2021-03-21">https://blog.devgenius.io/add-markers-onto-lines-with-the-visx-library-25ac00e55191?source=collection_archive---------5-----------------------#2021-03-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1d0226f2be01423d9ab62cefc734166c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hDfQzjfUTgJC4GIp"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae kc" href="https://unsplash.com/@teo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Teo Zac </a>åœ¨<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</figcaption></figure><p id="34cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Visxæ˜¯ä¸€ä¸ªåº“ï¼Œè®©æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†å›¾å½¢æ·»åŠ åˆ°Reactåº”ç”¨ç¨‹åºä¸­ã€‚</p><p id="ee07" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•ä½¿ç”¨å®ƒåœ¨Reactåº”ç”¨ç¨‹åºä¸­æ·»åŠ å¸¦æœ‰æ ‡è®°çš„çº¿æ¡ã€‚</p><h1 id="80db" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">å®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…</h1><p id="2968" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¿…é¡»å®‰è£…ä¸€äº›æ¨¡å—ã€‚</p><p id="61e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬è¿è¡Œ:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="89df" class="mn lc iq mj b gy mo mp l mq mr">npm i @visx/curve @visx/glyph @visx/group @visx/mock-data @visx/responsive @visx/scale @visx/shape</span></pre><p id="8e2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å®‰è£…è½¯ä»¶åŒ…ã€‚</p><h1 id="db97" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">åˆ›å»ºå¸¦æ ‡è®°çš„çº¿æ¡</h1><p id="b2ff" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥ç”¨<code class="fe ms mt mu mj b">@visx/glyph</code>æ¨¡å—æ·»åŠ æ ‡è®°æ¥åˆ›å»ºå¸¦æœ‰æ ‡è®°çš„çº¿æ¡ã€‚</p><p id="dfef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å†™é“:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1185" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { Group } from "@visx/group";<br/>import {<br/>  Glyph as CustomGlyph,<br/>  GlyphCircle,<br/>  GlyphCross,<br/>  GlyphDiamond,<br/>  GlyphSquare,<br/>  GlyphStar,<br/>  GlyphTriangle,<br/>  GlyphWye<br/>} from "@visx/glyph";<br/>import { LinePath } from "@visx/shape";<br/>import genDateValue from "@visx/mock-data/lib/generators/genDateValue";<br/>import { scaleTime, scaleLinear } from "@visx/scale";<br/>import { curveMonotoneX, curveBasis } from "@visx/curve";</span><span id="1abc" class="mn lc iq mj b gy mv mp l mq mr">const defaultMargin = { top: 10, right: 10, bottom: 10, left: 10 };</span><span id="d45d" class="mn lc iq mj b gy mv mp l mq mr">export const primaryColor = "#8921e0";<br/>export const secondaryColor = "#00f2ff";<br/>const contrastColor = "#ffffff";</span><span id="785b" class="mn lc iq mj b gy mv mp l mq mr">const Glyphs = [<br/>  GlyphCircle,<br/>  GlyphCross,<br/>  GlyphDiamond,<br/>  GlyphStar,<br/>  GlyphTriangle,<br/>  GlyphSquare,<br/>  GlyphWye,<br/>  ({ left, top }) =&gt; (<br/>    &lt;CustomGlyph left={left} top={top}&gt;<br/>      &lt;circle r={12} fill={secondaryColor} /&gt;<br/>      &lt;text fontSize={16} textAnchor="middle" dy="0.5em"&gt;<br/>        {"ğŸ’œ"}<br/>      &lt;/text&gt;<br/>    &lt;/CustomGlyph&gt;<br/>  )<br/>];</span><span id="f4b5" class="mn lc iq mj b gy mv mp l mq mr">const data = genDateValue(Glyphs.length * 2);</span><span id="2dcc" class="mn lc iq mj b gy mv mp l mq mr">const date = (d) =&gt; d.date.valueOf();<br/>const value = (d) =&gt; d.value;</span><span id="0825" class="mn lc iq mj b gy mv mp l mq mr">const xScale = scaleTime({<br/>  domain: [Math.min(...data.map(date)), Math.max(...data.map(date))]<br/>});<br/>const yScale = scaleLinear({<br/>  domain: [0, Math.max(...data.map(value))]<br/>});</span><span id="eff8" class="mn lc iq mj b gy mv mp l mq mr">const getX = (d) =&gt; xScale(date(d)) ?? 0;<br/>const getY = (d) =&gt; yScale(value(d)) ?? 0;</span><span id="2634" class="mn lc iq mj b gy mv mp l mq mr">function Example({ width, height, margin = defaultMargin }) {<br/>  if (width &lt; 10) return null;<br/>  const innerWidth = width - margin.left - margin.right;<br/>  const innerHeight = height - margin.top - margin.bottom;<br/>  xScale.range([0, innerWidth]);<br/>  yScale.range([innerHeight, 0]);</span><span id="ed10" class="mn lc iq mj b gy mv mp l mq mr">return (<br/>    &lt;svg width={width} height={height}&gt;<br/>      &lt;rect<br/>        x={0}<br/>        y={0}<br/>        width={width}<br/>        height={height}<br/>        fill={secondaryColor}<br/>        rx={14}<br/>      /&gt;<br/>      &lt;Group left={margin.left} top={margin.top}&gt;<br/>        &lt;LinePath<br/>          data={data}<br/>          x={getX}<br/>          y={getY}<br/>          stroke={primaryColor}<br/>          strokeWidth={2}<br/>          strokeDasharray="2,2"<br/>          curve={curveBasis}<br/>        /&gt;<br/>        &lt;LinePath<br/>          data={data}<br/>          x={getX}<br/>          y={getY}<br/>          stroke={primaryColor}<br/>          strokeWidth={2}<br/>          curve={curveMonotoneX}<br/>        /&gt;<br/>        {data.map((d, i) =&gt; {<br/>          const CurrGlyph = Glyphs[i % Glyphs.length];<br/>          const left = getX(d);<br/>          const top = getY(d);<br/>          return (<br/>            &lt;g key={`line-glyph-${i}`}&gt;<br/>              &lt;CurrGlyph<br/>                left={left}<br/>                top={top}<br/>                size={110}<br/>                stroke={secondaryColor}<br/>                strokeWidth={10}<br/>              /&gt;<br/>              &lt;CurrGlyph<br/>                left={left}<br/>                top={top}<br/>                size={110}<br/>                fill={i % 2 === 0 ? primaryColor : contrastColor}<br/>                stroke={i % 2 === 0 ? contrastColor : primaryColor}<br/>                strokeWidth={2}<br/>              /&gt;<br/>            &lt;/g&gt;<br/>          );<br/>        })}<br/>      &lt;/Group&gt;<br/>    &lt;/svg&gt;<br/>  );<br/>}</span><span id="bba6" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Example width={500} height={300} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="260f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ç”¨å˜é‡<code class="fe ms mt mu mj b">defaultMargin</code>ä¸ºå›¾è¡¨æ·»åŠ è¾¹è·ã€‚</p><p id="8a0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">primaryColor</code>ã€<code class="fe ms mt mu mj b">secondaryColor</code>æœ‰çº¿æ¡çš„é¢œè‰²ã€‚</p><p id="d2cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">contrastColor</code>æœ‰èƒŒæ™¯è‰²çš„æ ‡è®°ã€‚</p><p id="6633" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ•°ç»„æœ‰å›¾æ ‡å’Œä¸€ä¸ªè¿”å›å¸¦æœ‰å›¾æ ‡çš„è‡ªå®šä¹‰ç»„ä»¶çš„å‡½æ•°ã€‚</p><p id="52d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">CustomGlyph</code>ä½¿ç”¨<code class="fe ms mt mu mj b">left</code>å’Œ<code class="fe ms mt mu mj b">top</code>å±æ€§æ¥è®¾ç½®å®ƒçš„ä½ç½®ã€‚</p><p id="d053" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">data</code>æœ‰è¯¥è¡Œçš„æ•°æ®ã€‚</p><p id="f2fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">date</code>å’Œ<code class="fe ms mt mu mj b">value</code>æ˜¯è¿”å›ç»™å®šæ¡ç›®çš„å€¼çš„å‡½æ•°ã€‚</p><p id="a810" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">xScale</code>å…·æœ‰xè½´çš„åˆ»åº¦ã€‚</p><p id="46f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¹¶ä¸”<code class="fe ms mt mu mj b">yScale</code>å…·æœ‰yè½´çš„åˆ»åº¦ã€‚</p><p id="78ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">Example</code>ç»„ä»¶æ˜¯æˆ‘ä»¬å°†å›¾è¡¨æ”¾åœ¨ä¸€èµ·çš„åœ°æ–¹ã€‚</p><p id="3c9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ç”¨<code class="fe ms mt mu mj b">innerWidth</code>å’Œ<code class="fe ms mt mu mj b">innerHeight</code>å˜é‡è®¾ç½®å›¾è¡¨çš„å®½åº¦å’Œé«˜åº¦ã€‚</p><p id="ed4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">Group</code>ç»„ä»¶ç¯ç»•å›¾è¡¨çš„å„ä¸ªéƒ¨åˆ†ã€‚</p><p id="b559" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">LinePath</code>æœ‰çº¿æ¡ä¸ºå›¾å½¢ã€‚</p><p id="f126" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ä¼ å…¥<code class="fe ms mt mu mj b">getX</code>å’Œ<code class="fe ms mt mu mj b">getY</code>å‡½æ•°æ¥å°†æ•°æ®æ¸²æŸ“ä¸ºçº¿æ¡ã€‚</p><p id="3c23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç¬¬ä¸€ä¸ª<code class="fe ms mt mu mj b">LinePath</code>æ¸²æŸ“ä¸€æ¡è™šçº¿ã€‚</p><p id="d6db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç¬¬äºŒä¸ªæ¸²æŸ“çš„æ˜¯å®çº¿ã€‚</p><p id="c925" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½¿ç”¨<code class="fe ms mt mu mj b">data.map</code>å›è°ƒå‡½æ•°æ¸²æŸ“æ ‡è®°ã€‚</p><p id="4b0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å®ƒè¿”å›<code class="fe ms mt mu mj b">CurrGlyph</code>ç»„ä»¶æ¥å‘ˆç°æˆ‘ä»¬çš„æ ‡è®°ã€‚</p><p id="8693" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬è®¾ç½®<code class="fe ms mt mu mj b">left</code>å’Œ<code class="fe ms mt mu mj b">top</code>é“å…·æ¥è®¾å®šä½ç½®ã€‚</p><p id="ec3a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">CurrGlyph</code>æ˜¯ä»<code class="fe ms mt mu mj b">Glyphs</code>æ•°ç»„ä¸­åˆ›å»ºçš„ï¼Œæ–¹æ³•æ˜¯è®©å›¾æ ‡æ ¹æ®å…¶ç´¢å¼•è¿›è¡Œæ¸²æŸ“ã€‚</p><p id="5c59" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨æˆ‘ä»¬åº”è¯¥çœ‹åˆ°ä¸¤æ¡çº¿ï¼Œæ¯ä¸€æ¡éƒ½æœ‰æ ‡è®°ã€‚</p><h1 id="ee98" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ç»“è®º</h1><p id="bb6f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Visxåº“åœ¨Reactåº”ç”¨ç¨‹åºä¸­è½»æ¾åˆ›å»ºå¸¦æ ‡è®°çš„çº¿æ¡ã€‚</p></div></div>    
</body>
</html>