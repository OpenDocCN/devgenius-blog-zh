<html>
<head>
<title>Learn SQL The Right Way Part 2: Key Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正确学习 SQL 第 2 部分:关键类型</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/learn-sql-the-right-way-part-2-key-types-52848fcca792?source=collection_archive---------21-----------------------#2022-08-15">https://blog.devgenius.io/learn-sql-the-right-way-part-2-key-types-52848fcca792?source=collection_archive---------21-----------------------#2022-08-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/556bea34fe9f8811f3a962dd6381af76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BQA994zx5bAF-KLMhZZklg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">图片网址:<a class="ae jz" href="https://codingsight.com/wp-content/uploads/2021/02/ConfigureSQLJobs_878%D1%85700-copy-5-870x600.png" rel="noopener ugc nofollow" target="_blank">https://coding sight . com/WP-content/uploads/2021/02/ConfigureSQLJobs _ 878% D1 % 85700-copy-5-870 x600 . png</a></figcaption></figure><h1 id="ef7a" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">学习成果</h1><ul class=""><li id="a200" class="ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">超级键</li><li id="b497" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">候选键</li><li id="f9b1" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">主键</li><li id="e42f" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">备用关键字</li><li id="0174" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">复合/复合键</li><li id="0bf9" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">外键</li><li id="4cfd" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">代理键</li></ul><h1 id="ef39" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">键</h1><p id="2a8c" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">在以正确的方式学习 SQL 的这一部分中，我们将重点关注您可以在表中找到的所有不同类型的键。我将假设你了解关于 SQL 表的基本关键术语，如果不放心，可以先检查一下第一部分<a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/learn-sql-the-right-way-4aecadb8b054"><strong class="la io"/></a>。</p><h1 id="6db8" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">超级键</h1><p id="253c" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">超级键是指一个属性或一组属性用于唯一标识一个实体。换句话说，超级键是可以用作主键的所有可能的属性。</p><figure class="mk ml mm mn gt jo"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">使用信息示例</figcaption></figure><h1 id="584e" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">候选关键字</h1><p id="6143" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">如果一个超级键的任何真子集是一个超级键，那么它不可能是一个候选键。那么，这意味着什么呢？</p><p id="fe38" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">首先你需要明白什么是真子集，让我们先看看数学定义。</p><blockquote class="mv"><p id="87b8" class="mw mx in bd my mz na nb nc nd ne ll dk translated">注意:我推荐研究集合，因为这将有助于你的编程之旅。</p></blockquote><p id="6e82" class="pw-post-body-paragraph lv lw in la b lb nf lx ly ld ng lz ma lf nh mc md lh ni mf mg lj nj mi mj ll ig bi translated">假设我们有一组数字:</p><ul class=""><li id="0167" class="ky kz in la b lb mq ld mr lf nk lh nl lj nm ll lm ln lo lp bi translated">A = {1，3，5}</li><li id="e04c" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">B = {1，3}</li><li id="6e7d" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">C = {1，2}</li><li id="b99a" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">D = {1，3，5}</li></ul><p id="fe1a" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">我们可以说 B 是 A 的真子集，这是因为 1 和 3 都在 A 中，但是 C 不是真子集，因为 2 不在 A 中，那么 D 呢？d 不是真子集；这是因为根据定义。集合的真子集不能等于集合本身。如你所见，真子集是指父集包含除一个子集之外的所有子集。</p><p id="1deb" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">让我们回头看看我们的桌子</p><figure class="mk ml mm mn gt jo"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">使用信息示例</figcaption></figure><p id="8fb6" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">让我们列出一些超级键:</p><ul class=""><li id="a2c6" class="ky kz in la b lb mq ld mr lf nk lh nl lj nm ll lm ln lo lp bi translated">{希德，里德，电子邮件}</li><li id="a2eb" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">{SID，电子邮件}</li><li id="be6e" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">{SID}</li><li id="bfb1" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated">{电子邮件}</li></ul><p id="b8a3" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">如您所见，{SID，Email}是{SID，RID，Email}的真子集，因此{SID，RID，Email}不能作为候选关键字。这对于{SID，Email}也是一样的，因为{SID}是真子集。</p><p id="032b" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">因此，理论上候选键是寻找一个超级键的最小子集的过程。</p><h1 id="dbef" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">主关键字</h1><p id="cf14" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">主键是被选择用来唯一标识实体的候选键。数据库模式中只允许并定义了一个主键。主键不能为空，并且必须是唯一的，这是键的区别，而候选键可以为空，并且不必是唯一的。那么我们为什么需要主键呢？主键用于确保<strong class="la io">实体的完整性</strong>。实体完整性确保表中没有重复的记录，并且表中的每条记录都是唯一的。</p><figure class="mk ml mm mn gt jo"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">使用信息示例</figcaption></figure><p id="04e4" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">我们的候选关键字是 SID、RID 和 Email。这两个都可以用作主键，我个人会选择 RID，因为这种格式看起来更容易记忆。</p><h1 id="3bc1" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">备用键</h1><p id="2cd6" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">备选键是未被选为主键的候选键。这些仍然可以在技术上用于唯一地识别每个实体。在上面的例子中，如果我们选择 RID 作为主键，那么 SID 和 Email 将作为我们的备用键。</p><h1 id="355b" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">外键</h1><p id="b694" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">外键是放在另一个表中的主键，外键用于帮助定义表之间的关系。我将在另一篇文章中更详细地讨论关系，所以一定要点击下面的按钮。</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/1b9a9aab34f496574f3f7fc2b5e999c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nb2H5bm09phkIxgJcmjTOQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">存储所有帖子的表</figcaption></figure><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/4da69dad32ba3a96d24a2dd0c739ff10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fw36EgXkeB8a_e1WDy0aVQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">存储每个帖子的所有评论的表格</figcaption></figure><p id="77cf" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">如您所见，post_id 是外键，它引用 post 表中的主键。外键用于将评论链接到文章。使用外键意味着我们不必不断更新两个表，这有助于我们实现数据完整性；存储在数据库中的数据的准确性和一致性。</p><h1 id="97c7" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">复合/复合键</h1><p id="2622" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">组合键相当简单，它基本上是一个包含多个属性的键，但是如果其中一个属性是外键，那么它就被称为复合键。</p><figure class="mk ml mm mn gt jo"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">使用信息示例</figcaption></figure><p id="db61" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">例如，组合键可以是 SID 和 RID</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/4da69dad32ba3a96d24a2dd0c739ff10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fw36EgXkeB8a_e1WDy0aVQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">存储每个帖子的所有评论的表格</figcaption></figure><p id="53dd" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">另一方面，由于我们前面讨论过 post_id 是一个外键，所以 id 和 post_id 应该是一个复合键</p><h1 id="a6b7" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">代理键</h1><p id="7ea2" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">有时，您可能有一个不包含我们称之为自然主键的表</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/355382afeee283f12ba8dbdcb658a1dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3tcTN45O-gVHA_ZL3cQiTg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">用于存储所有员工工作时间的表</figcaption></figure><p id="b946" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">为了解决这个问题，我们需要添加一个代理键。这时，您需要添加一个额外的属性作为主键。</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/38e6a2054bc106a5d6134065fd3b3a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dwXa1wF9NZRqUCELiPKyig.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">用于存储所有员工工作时间的表</figcaption></figure><h1 id="3c5b" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">摘要</h1><p id="7080" class="pw-post-body-paragraph lv lw in la b lb lc lx ly ld le lz ma lf mb mc md lh me mf mg lj mh mi mj ll ig bi translated">让我们快速回顾一下所有不同类型的钥匙</p><ul class=""><li id="b944" class="ky kz in la b lb mq ld mr lf nk lh nl lj nm ll lm ln lo lp bi translated"><strong class="la io">超级键</strong>:当一个属性或一组属性用来唯一标识一个实体时</li><li id="402d" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated"><strong class="la io">候选键</strong>:不是超级键真子集的键。</li><li id="9c87" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated"><strong class="la io">主键</strong>:被选中的候选键，用来唯一标识每个实体</li><li id="92e6" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated"><strong class="la io">备用键</strong>:未被选为主键的候选键</li><li id="2b42" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated"><strong class="la io">组合键</strong>:由多个属性组成的键</li><li id="7e62" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated"><strong class="la io">复合键</strong>:由多个属性组成的键，其中至少有一个属性是外键</li><li id="2be9" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated"><strong class="la io">外键</strong>:另一个表中的主键</li><li id="3efb" class="ky kz in la b lb lq ld lr lf ls lh lt lj lu ll lm ln lo lp bi translated"><strong class="la io">代理键</strong>:添加到表中作为主键的额外属性</li></ul><p id="3326" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">在良好的实践中，每个表都应该有一个主键。超级键和候选键用于帮助找到最佳主键。外键有助于表之间的关系。代理键总是您的最后选择。</p><p id="c8fa" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">暂时够了。</p><p id="e9d8" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">在第三部分，我将详细介绍关系，并看一些例子。</p><p id="8930" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated">接下来:正确学习 SQL 第 3 部分:关系</p><p id="02c8" class="pw-post-body-paragraph lv lw in la b lb mq lx ly ld mr lz ma lf ms mc md lh mt mf mg lj mu mi mj ll ig bi translated"><em class="no">如果您喜欢，请点击👏所以其他人会在媒体上看到这个。欢迎任何反馈或意见。祝你今天开心！玩的开心！</em></p><h1 id="2ffa" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">来源</h1><figure class="mk ml mm mn gt jo"><div class="bz fp l di"><div class="np mp l"/></div></figure><div class="nq nr gp gr ns nt"><a href="https://www.tutorialspoint.com/difference-between-primary-and-candidate-key" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd io gy z fp ny fr fs nz fu fw im bi translated">主键和候选键之间的差异</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">在这篇文章中，我们将了解主键和候选键之间的区别。它用于确保…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">www.tutorialspoint.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh jt nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://mathworld.wolfram.com/ProperSubset.html" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd io gy z fp ny fr fs nz fu fw im bi translated">真子集-来自 Wolfram MathWorld</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">集合 s 的真子集 S^'，记为 S^'子集 s，是严格包含在 s 中的子集，因此必然…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">mathworld.wolfram.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh jt nt"/></div></div></a></div></div></div>    
</body>
</html>