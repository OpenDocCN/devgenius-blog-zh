# iOS åº“æ”¯æŒ Cocoapods å’Œ Swift åŒ…ç®¡ç†å™¨

> åŸæ–‡ï¼š<https://blog.devgenius.io/ios-library-support-both-cocoapods-and-swift-package-manager-983c81b35080?source=collection_archive---------3----------------------->

![](img/c6683492965ba7bd8cd46837d949ffb0.png)

Cocoapods å’Œ SwiftPM æ˜¯ä¸€äº›æœ€å—æ¬¢è¿çš„åŒ…ç®¡ç†å™¨ã€‚é€šè¿‡åœ¨ä½ çš„å¼€æºåº“ä¸­æ”¯æŒè¿™ä¸¤è€…ï¼Œä½ æ½œåœ¨åœ°å¢åŠ äº†ä½¿ç”¨å®ƒçš„å¼€å‘è€…ã€‚

ğŸš¨è®°ä½ï¼Œæ‰€æœ‰åŒ…ç®¡ç†è€…æƒ³è¦çŸ¥é“çš„æœ€é‡è¦çš„äº‹æƒ…æ˜¯**æºæ–‡ä»¶**åœ¨å“ªé‡Œï¼Œä»¥ä¾¿åˆ†å‘å®ƒä»¬ã€‚æ¯ä¸ªåŒ…ç®¡ç†å™¨éƒ½æœ‰è‡ªå·±çš„é…ç½®æ–¹å¼ã€‚

å› æ­¤ï¼Œè®©æˆ‘ä»¬ç›´æ¥è·³åˆ°ä¸€äº›å®é™…çš„ä¾‹å­ï¼Œä»¥ä¾¿äº†è§£å¦‚ä½•æ”¯æŒè¿™ä¸¤è€…ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä»¥æˆ‘æœ€è¿‘æ„å»ºçš„åä¸º FancyGradient çš„å¼€æºåº“ä¸ºä¾‹ã€‚

[](https://github.com/Nikoloutsos/fancyGradient) [## GitHub-Nikoloutsos/fancy gradient:swift ä¸­å¼ºå¤§çš„åŠ¨ç”» gradientViewğŸŒˆ

### FancyGradient æ˜¯ä¸€ä¸ª UIView å­ç±»ï¼Œå¯ä»¥è®©ä½ åœ¨ä½ çš„ iOS åº”ç”¨ä¸­åˆ¶ä½œæ¸å˜åŠ¨ç”»ã€‚å®ƒçº¯ç²¹æ˜¯ç”¨ Swift å†™çš„â€¦

github.com](https://github.com/Nikoloutsos/fancyGradient) 

**Swift è½¯ä»¶åŒ…ç®¡ç†å™¨ğŸ”¥**

é…ç½®å‘ç”Ÿåœ¨åä¸º`Package.swift` (åˆåæ¸…å•)çš„æ–‡ä»¶ä¸Šã€‚
è¿™æ˜¯æˆ‘ä»¬éœ€è¦ç¼–è¾‘çš„æ–‡ä»¶ï¼Œä»¥ä¾¿è®© SPM çŸ¥é“è¦åŒ…å«å“ªäº›æ–‡ä»¶ã€‚

> æ³¨æ„:æ¯ä¸ª SPM åº“å¿…é¡»åŒ…å«ä¸€ä¸ªåä¸º **Package.swift** çš„æ¸…å•æ–‡ä»¶

![](img/8a83ae7f72a43f0e8266708afadf3ccc.png)

æ–‡ä»¶å¤¹ä¸­çš„ EPackage.swift

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSPM é¢„è®¡å¼€å‘äººå‘˜ä¼šå°†:

*   ä»–çš„æºä»£ç æ”¾å…¥â†’ `Sources >> {{target Name}}`æ–‡ä»¶å¤¹ğŸ“
*   ä»–çš„æµ‹è¯•(XCTests) â†’ `Sources >> {{testTarget Name}`æ–‡ä»¶å¤¹ğŸ“

![](img/53a82fc2fc37e182047d361378ca3494.png)

çº¢è‰²ä¸‹åˆ’çº¿æ˜¾ç¤ºäº†**ç›®æ ‡**å’Œ**æµ‹è¯•ç›®æ ‡**çš„åç§°ã€‚

> æ³¨æ„:å¦‚æœæˆ‘æŠŠæ–‡ä»¶å¤¹å`Sources >> FancyGradient`æ”¹æˆåˆ«çš„åå­—ï¼Œåº“å°†æ— æ³•ç¼–è¯‘ã€‚å½“ç„¶ï¼Œå› ä¸º SPM ä¸çŸ¥é“å¦‚ä½•æ‰¾åˆ°æ–‡ä»¶ğŸš¨

ä½†æ˜¯å¦‚æœæ‚¨æƒ³è¦ä¸åŒçš„ç»“æ„æˆ–ä¸åŒçš„æ–‡ä»¶å¤¹åç§°å‘¢ï¼Ÿä¸è¦æ‹…å¿ƒ SPM çš„å¼€å‘è€…ä¼šæ”¯æŒä½ ğŸ’ª

ä¸ºäº†æ”¹å˜ SPM çš„é»˜è®¤è¡Œä¸ºï¼Œæ‚¨éœ€è¦ç¯¡æ”¹`Package.swift`æ¸…å•ã€‚

![](img/ed77d2b44acf837e87ba13d09988c3e0.png)

æˆ‘ä»¬æŠŠé»˜è®¤ç›®å½•æ”¹æˆäº† Foo

`path`target ä¸­çš„å‚æ•°ä½¿æ‚¨èƒ½å¤Ÿæ›´æ”¹ SPM å°è¯•æŸ¥æ‰¾æ–‡ä»¶çš„è·¯å¾„ã€‚(åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯æºä»£ç )ã€‚ğŸ‘€

æ‰€ä»¥ç°åœ¨æˆ‘ä»¬çŸ¥é“äº† SPM å¦‚ä½•å®šä½æˆ‘ä»¬çš„æ–‡ä»¶ï¼Œä»¥ä¾¿ä¸å…¶ä»–å¼€å‘äººå‘˜å…±äº«è¿™ä¸ªåº“ã€‚âœ…

> æ³¨æ„:åœ¨å°†è¿™ä¸ªæ¨é€åˆ° github ä¹‹åï¼Œè®°å¾—æ·»åŠ ä¸€ä¸ªæ ‡ç­¾ç‰ˆæœ¬çš„åº“ï¼Œç„¶åæ¨å®ƒã€‚è¿™æ ·å½“æœ‰äººä½¿ç”¨ä½ çš„åº“æ—¶ï¼Œä»–å°±ä¼šçŸ¥é“ä»–æ‹¥æœ‰çš„ç‰ˆæœ¬æˆ–è€…å†³å®šå¾—åˆ°ä»€ä¹ˆç‰ˆæœ¬ã€‚

![](img/077b0ce2a2e9e314a2ce896045dd1e5d.png)

FancyGradient çš„ç‰ˆæœ¬

**æ¤°å­ğŸ”¥**

Cocoapods æœ‰ä¸€ä¸ªåä¸º`{{LibraryName}}.podspec`çš„é…ç½®æ–‡ä»¶

![](img/b9f1a89d69f5d24a115304af5a44fcd8.png)

FancyGradient.podspec

çº¢è‰²ä¸‹åˆ’çº¿çš„è¡Œè®© Cocoapods çŸ¥é“åœ¨å“ªé‡Œæœç´¢æºä»£ç ã€‚æˆ‘ä»¬å½“ç„¶å¯ä»¥åƒåœ¨ SPM æ¸…å•ä¸­é‚£æ ·æ›´æ”¹æ–‡ä»¶å¤¹ç»“æ„çš„åç§°ã€‚

> æ³¨: `Sources/FancyGradient/**/*.{h,m,swift}` å°†åŒ…æ‹¬æ‰€æœ‰ã€‚è£…è¿åº“ä¸­çš„ h .m .swift æ–‡ä»¶ã€‚

**æ¤°å­+ SPMğŸš€**

æ‰€ä»¥ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†æ¯ä¸ªåŒ…ç®¡ç†å™¨é…ç½®æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶æ”¯æŒå®ƒä»¬ã€‚âœ…

å¦‚æœæ‚¨å·²ç»æ”¯æŒ Cocoapods ä½†ä¸æ”¯æŒ SPMï¼Œæ‚¨å¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤ã€‚ğŸ‘‡

1.  åˆ›å»ºæ–°çš„ç©º SPM åŒ…
2.  (å¯é€‰)é‡å‘½åæ–‡ä»¶å¤¹ç»“æ„(æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°çš„)
3.  å°†æºä»£ç æ–‡ä»¶ä»å½“å‰åº“å¤åˆ¶åˆ°`sources >> {{Library Name }}.`ä¸­ï¼Œå¯¹æµ‹è¯•åšåŒæ ·çš„æ“ä½œ(å¦‚æœä½ åªæ˜¯åˆ›å»ºåº“ï¼Œä¸è¦å¤åˆ¶ä»»ä½•ä¸œè¥¿ğŸ˜„)
4.  åœ¨ç›®å‰çš„ç»“æ„ä¸‹ï¼Œæ·»åŠ å¯å¯è±†èš(å¦‚æœä½ å·²ç»æœ‰äº†ï¼Œä¸ç”¨æ‹…å¿ƒ)
5.  æ”¹å˜å¯å¯è±†èšæºæ–‡ä»¶ã€‚podspec æ–‡ä»¶(è®©å®ƒçŸ¥é“æœç´¢æºä»£ç çš„è·¯å¾„)
6.  å‘ Github æ·»åŠ å¹¶æ¨é€åº“çš„æ–°æ ‡ç­¾ç‰ˆæœ¬ã€‚
7.  å‘å¸ƒ Cocoapods(æ‚¨å°†ä½¿ç”¨å‘½ä»¤è¡Œ)å¹¶å°†æ‰€æœ‰å†…å®¹æ¨é€åˆ° GitHub

ç°åœ¨ä½ çš„å›¾ä¹¦é¦†åŒæ—¶æ”¯æŒ cocoa pods å’Œ SPMã€‚

> æ³¨æ„:å¦‚æœä½ å¿˜è®°æˆ–å¯¹å¦‚ä½•åšæœ‰ä»»ä½•ç–‘é—®ï¼Œåªéœ€æ‰“å¼€å¦ä¸€ä¸ªæ”¯æŒä¸¤ä¸ªåŒ…ç®¡ç†å™¨çš„ github åº“ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•åšçš„ã€‚ä½ ä¸å¿…é‡æ–°å‘æ˜è½®å­ğŸ‘€

## ç»™é‚£äº›æ¥â¤ï¸çš„äººé¢å¤–çš„å°è´´å£«

å¯¹äºé‚£äº›å³å°†ç»“æŸçš„äººï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªä» **pointfreeco** å­¦åˆ°çš„æœ‰ç”¨æŠ€å·§ã€‚å‡è®¾ä½ æƒ³åœ¨ä½ çš„åº“ä¸­æ·»åŠ ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œä½ ä¼šå¾—åˆ°è¿™ä¸ªã€‚

![](img/208c9165c9fa34ba9cb79938f87fbdc4.png)

æ¼”ç¤ºæ–‡ä»¶å¤¹åœ¨ä¸­ä¸å¥½çœ‹

æ‚¨å¯ä»¥é€šè¿‡åœ¨æ¼”ç¤ºâ­ï¸ä¸­æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶`Package.swift`æ¥åˆ é™¤åŒ…ä¸­çš„æ¼”ç¤ºæ–‡ä»¶å¤¹

![](img/6eea402254a39f6bd7416c862fdfb60f.png)

åœ¨æ¼”ç¤ºä¸­æ·»åŠ ç©º Package.swift

![](img/0fbd752fddedbfd257012dbacf40e84c.png)

SPM å¿½ç•¥äº†æ¼”ç¤ºã€‚

åŒæ ·ï¼Œå¦‚æœä½ ä¸æƒ³è¦ docs æ–‡ä»¶å¤¹ï¼Œåªéœ€åœ¨é‡Œé¢æ·»åŠ ä¸€ä¸ªç©ºæ¸…å•ï¼Œç„¶åç °çš„ä¸€å£°ğŸ‰ã€‚

## é¢å¤–èµ„æº:

[](https://www.raywenderlich.com/7242045-swift-package-manager-for-ios) [## iOS ç‰ˆ Swift è½¯ä»¶åŒ…ç®¡ç†å™¨

### äº†è§£å¦‚ä½•ä½¿ç”¨ Swift åŒ…ç®¡ç†å™¨(SwiftPM)åˆ›å»ºã€æ›´æ–°å’ŒåŠ è½½æœ¬åœ°å’Œè¿œç¨‹ Swift åŒ…â€¦

www.raywenderlich.com](https://www.raywenderlich.com/7242045-swift-package-manager-for-ios) [](https://medium.com/@jeantimex/create-your-own-cocoapods-library-da589d5cd270) [## åˆ›å»ºè‡ªå·±çš„ CocoaPods åº“

medium.com](https://medium.com/@jeantimex/create-your-own-cocoapods-library-da589d5cd270) 

å¦‚æœä½ å–œæ¬¢ä½ å­¦åˆ°äº†ä¸è¦å¿˜è®°ç•™ä¸‹ä¸€ä¸ªğŸ‘