<html>
<head>
<title>Avoid Common Mistakes With Streams And Optional</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">避免流和可选的</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/avoid-common-mistakes-with-streams-and-optional-fc4dbe40425d?source=collection_archive---------6-----------------------#2020-09-25">https://blog.devgenius.io/avoid-common-mistakes-with-streams-and-optional-fc4dbe40425d?source=collection_archive---------6-----------------------#2020-09-25</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="58d6" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">Java 中如何正确使用 Streams 和 Optional</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/1cd37866932956106836c2251e369198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2V1jlZ3PdKxLu0--"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">米歇尔·勒恩斯在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="442f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">大多数开发人员只会使用<a class="ae kw" href="https://www.baeldung.com/java-8-streams" rel="noopener ugc nofollow" target="_blank">流</a>来呈现知识。你会学会如何正确使用它。没有更深层次的知识，编码人员只会使用它。工程师会想出办法的。像工程师一样，通读本指南。</p><p id="18dc" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">不要到处撒<a class="ae kw" href="https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html" rel="noopener ugc nofollow" target="_blank">随意</a>！有时<a class="ae kw" href="https://www.baeldung.com/java-avoid-null-check" rel="noopener ugc nofollow" target="_blank">空检查</a>更有益。可选的 and Streams 方法略微提高了代码的可读性。调试可能有点困难。</p><p id="ef17" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">让我们进入代码！</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="72a2" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">绘图</h1><p id="6ba6" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">常见的错误包括糟糕的嵌套。我们可以用贴图来弄平它。让代码的结构按顺序排列。这样我们可以避免地图嵌套。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mx my l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">如何不做贴图！</figcaption></figure><p id="3456" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><a class="ae kw" href="https://www.baeldung.com/java-method-references" rel="noopener ugc nofollow" target="_blank">方法引用</a>在这个代码片段中派上了用场。你可以把它们放在周围，写得更少，但完成得更多。大家都会同意，这段代码可读性更好。在这段代码中，<a class="ae kw" href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html" rel="noopener ugc nofollow" target="_blank">λ</a>是不必要的，因为我们可以使用方法引用。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mx my l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">更好的，扁平的方式</figcaption></figure></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="7b73" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">减低</h1><p id="4862" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">当您想要将流“收缩”为一个值时，请使用 reducing。在这种情况下，避免使用映射。For 循环不是最好的方法，因为我们在流中有 reduce 函数。</p><p id="7323" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在这个函数中，我们正在获取应用于<code class="fe mz na nb nc b">itemPrice</code>的折扣。如果没有折扣，我们不会从价格中减去任何东西。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mx my l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">所有折扣都降价</figcaption></figure></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="ec30" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">零检验</h1><p id="b1d9" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">空检查是每个代码不可或缺的一部分。这样做可以防止 NullPointerExceptions。检查空值的一种方法是通过可选的接口。</p><p id="daea" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果您想避免嵌套 if 块，获取其他内容是很好的。<code class="fe mz na nb nc b">orElseGet</code>和<code class="fe mz na nb nc b">orElse</code>将提供该功能。</p><p id="754c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">有时我们希望返回 null，对于 POJOs 或 dto，我们不需要这种方法。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mx my l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk translated">带有 orElse 的空检查</figcaption></figure></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h2 id="aa47" class="nd mb ir bd mc ne nf dn mg ng nh dp mk lg ni nj mm lk nk nl mo lo nm nn mq no bi translated">感谢阅读！</h2></div></div>    
</body>
</html>