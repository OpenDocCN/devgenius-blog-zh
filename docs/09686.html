<html>
<head>
<title>How to use Solid js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Solid js</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-use-solid-js-2ee09d7ca08f?source=collection_archive---------8-----------------------#2022-09-05">https://blog.devgenius.io/how-to-use-solid-js-2ee09d7ca08f?source=collection_archive---------8-----------------------#2022-09-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b641d80bee387bea28ea570d296835de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1NwVjIL4zhpvHIrH.png"/></div></div></figure><h1 id="ae87" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">目的</h1><p id="5ed7" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">当我知道 solid js 是像 next generations 一样有用的 js 框架之一时，我搜索了关于 solid js 的内容并与你分享。</p><h1 id="bc31" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">什么是固体 js？</h1><p id="f59d" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Solid js 是在 js 2021 状态下获得第一满意前端框架的 JS 框架。这个库不使用像 React，Vue，Angular 这样的流行框架使用的虚拟 DOM，这个特性类似于 Svelte。虽然我在之前的文章中提到，虚拟 dom 是为了防止部分代码改变时出现完整代码而发明的。Solid js 对这个问题的解决方案类似于 Svelte，这个框架检查频繁变化的 dom 并反映出来。因此，这个库必须具有高性能和轻量级。</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/ab7b01ceb959b309213d1700432cd7cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/0*qmlSRgBW-plejICz.png"/></div></figure><p id="06ea" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">上面的条形图显示了 JS 或 JS 框架之间的性能比较。当然，最快的是 vanilla js，但是 solid js 是第二快的。事实上，Solid js 的语法类似于 React，其中包括 JSX 符号，但这个库的性能几乎是 React 的两倍。这要感谢“没有虚拟 dom”。</p><p id="391b" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">Solid.js 的概念类似于 svelte 但是 Svelte 的语法类似于 Vue。虽然 Solid.js 的语法类似于 React，但是这个框架允许你使用自定义指令“use:”像 Vue 和 Svelte。因此，这个框架具有反应迅速、灵活、苗条的优点。</p><p id="2664" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">此外，这个框架使用 Vite 作为模块捆绑器，而不是 webpack。虽然 Webpack 是一个有用的模块捆绑器，但是这个捆绑器让我觉得很累或者很无聊，因为它太慢了。是的，如果你使用定制的 webpack，性能会提高，但是要花很多时间。但是，Vite 只是快，没有任何设置(因为“Vite”在法语中是“快”的意思)。当然，这个框架支持 TypeScript，因此您可以使用类型安全来编写代码。</p><p id="c3d5" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">好吧，让我们来看一个例子。</p><h1 id="3e41" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">示例(柜台 app)。</h1><ol class=""><li id="d5c3" class="mb mc in kv b kw kx la lb le md li me lm mf lq mg mh mi mj bi translated">安装固体 js。安装需要的时间非常快，就像 flash 一样。</li></ol><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="e866" class="mp jw in ml b gy mq mr l ms mt">&gt; npx degit solidjs/templates/js solid-example  // This name is up to you.<br/></span><span id="ad23" class="mp jw in ml b gy mu mr l ms mt">Need to install the following packages:<br/>  degit<br/>Ok to proceed? (y) y<br/>&gt; cloned solidjs/templates#HEAD to solid-example</span></pre><p id="79ba" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">文件夹结构如下所示。您可能会注意到，这与 React structure 类似，但没有公共文件夹，有 pngm-lock.yaml 和 vite.config.js 作为设置文件。</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/448f99b90ca01c90ec094477dce11f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/0*y4s9vnaEoaIQOaGV.png"/></div></figure><p id="cd75" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">2.移动到目录并安装 node_modules。</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="35f0" class="mp jw in ml b gy mq mr l ms mt">&gt; cd solid-example<br/>&gt; npm i</span></pre><p id="806d" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">如果你想运行你的应用程序，你可以输入<code class="fe mw mx my ml b">npm run dev</code>你可以看到如下默认屏幕</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mz"><img src="../Images/09f2939f3c506715d4792f7ce59469a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8wjzFa-PxqM1XBaY.png"/></div></div></figure><p id="54e1" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">3.像下面一样改变你的 App.js 来使用 Counter.app。注意，导入方式和 React 是一样的。您可以进行命名导出和默认导出。</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="feef" class="mp jw in ml b gy mq mr l ms mt">import { Counter } from "./Counter";<br/></span><span id="34d0" class="mp jw in ml b gy mu mr l ms mt">function App() {<br/>  return &lt;Counter /&gt;;<br/>}<br/></span><span id="bc95" class="mp jw in ml b gy mu mr l ms mt">export default App;</span></pre><p id="4f18" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">4.创建 Counter.js 文件并添加如下代码。它与 React 的语法相似，但有一个很大的区别是“创建信号”而不是“使用状态”。此方法的用法与 useState 非常相似，但有一个显著的区别，就是将 read count 和 setCount 作为 getter 和 setter。因此，您需要使用 as "count()"而不仅仅是" count "来使用计数值。</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="4a68" class="mp jw in ml b gy mq mr l ms mt">import { createSignal } from "solid-js";<br/></span><span id="e5b1" class="mp jw in ml b gy mu mr l ms mt">export function Counter() {<br/>  const [count, setCount] = createSignal(0);<br/>  const increment = () =&gt; setCount(count() + 1);<br/></span><span id="cd4a" class="mp jw in ml b gy mu mr l ms mt">  return (<br/>    &lt;button type="button" onClick={increment}&gt;<br/>      {count()}<br/>    &lt;/button&gt;<br/>  );</span></pre><p id="c0f7" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">5.基本的计数器应用程序已经完成了如下工作。</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi na"><img src="../Images/109f078d85220ea2160e8cb458605f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/0*5BTcUgOAv8DpBTq5.gif"/></div></figure><h1 id="cdeb" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">Extra:固体 js 的特性</h1><ol class=""><li id="dfa1" class="mb mc in kv b kw kx la lb le md li me lm mf lq mg mh mi mj bi translated">创建信号</li></ol><p id="7679" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">尽管 Solid js 也有上下文，但这创建了作为全局状态使用信号。</p><p id="be61" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">换句话说，您可以在不同的组件中使用相同的状态，而无需上下文或冗余方式。</p><p id="f98d" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">例子如下。您可以将相同的状态与渲染器 DoubleCounter 一起使用。</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="72db" class="mp jw in ml b gy mq mr l ms mt">import { Counter } from "./Counter";<br/>import { createSignal } from "solid-js";<br/></span><span id="cccd" class="mp jw in ml b gy mu mr l ms mt">const [count, setCount] = createSignal(0);<br/></span><span id="3b5d" class="mp jw in ml b gy mu mr l ms mt">function Renderer() {<br/>  return &lt;Counter count={count} setCount={setCount} /&gt;;<br/>}<br/></span><span id="064c" class="mp jw in ml b gy mu mr l ms mt">function DoubleCounter() {<br/>  function doubleCounter() {<br/>    setCount(count() * 2);<br/>  }<br/></span><span id="8aad" class="mp jw in ml b gy mu mr l ms mt">  return &lt;Counter count={count} setCount={doubleCounter} /&gt;;<br/>}<br/></span><span id="925e" class="mp jw in ml b gy mu mr l ms mt">function App() {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;Renderer /&gt;<br/>      &lt;DoubleCounter /&gt;<br/>    &lt;/&gt;<br/>  );<br/>}<br/></span><span id="1f7a" class="mp jw in ml b gy mu mr l ms mt">export default</span></pre><p id="93bc" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">正如你可能注意到的，这两个按钮是链接和不同的行为</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi na"><img src="../Images/d0f3aff359c8f7c335c31f96d607e59d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/0*qDZtBdghIRX0NFWy.gif"/></div></figure><p id="3ac0" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">2.创建效果</p><p id="bf24" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">这类似于 React 中的 useEffect，但是不需要依赖数组，因为 Solid js 会自动检查。如果想“使用”状态但不想“跟踪”这个状态，可以在 createEffect 中添加“取消跟踪”回调函数。</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="a39d" class="mp jw in ml b gy mq mr l ms mt">const [exampleA, setExampleA] = createSignal('');<br/>const [exampleB, setExampleB] = createSignal('');<br/></span><span id="393e" class="mp jw in ml b gy mu mr l ms mt">createEffect(() =&gt; {<br/>    console.log(exambleA());<br/>});<br/></span><span id="3c1e" class="mp jw in ml b gy mu mr l ms mt">createEffect(() =&gt; {<br/>    const exampleC = exampleA();<br/>    untrack(() =&gt; console.log(exampleC, exampleB()));<br/>})</span></pre><h1 id="d086" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="2a5e" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Solid js 是一个 js 框架，与 React 有相似的语法，但是更高的性能和更有用的工具。不幸的是，这个框架还没有很多资源和社区，但是在官方文档中有很好的文档和教程。如果你对一个新的框架感兴趣，我推荐你去看看。</p><h1 id="45dc" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">参考</h1><p id="a608" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">官方文件:<a class="ae nb" href="https://www.solidjs.com/" rel="noopener ugc nofollow" target="_blank">https://www.solidjs.com/</a></p><p id="2a81" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">JS 的状态:<a class="ae nb" href="https://2021.stateofjs.com/en-US/libraries/front-end-frameworks" rel="noopener ugc nofollow" target="_blank">https://2021 . state of JS . com/en-US/libraries/front-end-frameworks</a></p><p id="159b" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">替代品反应过来:【https://blog.openreplay.com/alternatives-to-react-solid-js T4】</p><p id="bc41" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi">ReactもSvelteも好きな私が思うSolid jsのいいところ: <a class="ae nb" href="https://qiita.com/tonio0720/items/c28b4d37e6ab860ea04d#:~:text=SolidJS%E3%81%A8%E3%81%AF&amp;text=%E4%BB%AE%E6%83%B3DOM%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%AA%E3%81%84,%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8C%E7%89%B9%E5%BE%B4%E3%81%A7%E3%81%99%E3%80%82" rel="noopener ugc nofollow" target="_blank">https://qiita.com/tonio0720/items/c28b4d37e6ab860ea04d#:~:text=SolidJS%E3%81%A8%E3%81%AF&amp;text=%E4%BB%AE%E6%83%B3DOM%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%AA%E3%81%84,%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8C%E7%89%B9%E5%BE%B4%E3%81%A7%E3%81%99%E3%80%82</a></p><p id="f921" class="pw-post-body-paragraph kt ku in kv b kw lw ky kz la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq ig bi translated">感谢您的阅读！！</p></div></div>    
</body>
</html>