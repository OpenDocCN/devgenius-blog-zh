<html>
<head>
<title>How to Animate your Images in Swift — iOS Swift Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Swift——iOS Swift指南中制作图像动画</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-animate-your-images-in-swift-ios-swift-guide-64de30ea616b?source=collection_archive---------1-----------------------#2020-06-09">https://blog.devgenius.io/how-to-animate-your-images-in-swift-ios-swift-guide-64de30ea616b?source=collection_archive---------1-----------------------#2020-06-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="60b7" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">SWIFT编程</h2><div class=""/><div class=""><h2 id="74e4" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">使用UIImage和UIImageView创建动画图像的5个步骤</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/7ba8aafb8353b9bb3381877d2e130c3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g8f2jbLJyb-X2nDnzkvrrg.png"/></div></div></figure><p id="3ae3" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">UIKit提供了一个很棒的内置特性，可以用几行代码显示动画图像。它允许为许多不同的用例创建动画，从加载动画，到发光物品，旋转物品，等等。</p><p id="2603" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这里有5个步骤来创建你自己的基于图像的动画并添加到你的应用中。让我们开始吧。</p><h1 id="f07d" class="lw lx iq bd ly lz ma mb mc md me mf mg kf mh kg mi ki mj kj mk kl ml km mm mn bi translated">1.为您的动画创建一组图像</h1><p id="a873" class="pw-post-body-paragraph la lb iq lc b ld mo ka lf lg mp kd li lj mq ll lm ln mr lp lq lr ms lt lu lv ij bi translated">第一步，创建你的动画并导出它，一个图像一个图像，在一个目录中。请确保从<code class="fe mt mu mv mw b"><strong class="lc ja">0</strong></code>(例如<code class="fe mt mu mv mw b"><strong class="lc ja">0.png</strong></code>)开始，用一个数字来命名每个图像文件，以指示其在动画中的位置。</p><p id="02a2" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在本文中，我将使用一个示例动画作为例子:假设这是一个播客播放器，我需要一个动画来指示当前播放的曲目。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mx"><img src="../Images/f5635dc7bbc7a8a0bdc34284aebfa8d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o49yQDjD_zwzNyNKXFYz3Q.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">示例动画图像</figcaption></figure><p id="30e3" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">如果您自己制作动画图像，您可以创建多个图像来表示动画的不同状态。</p><p id="e620" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">下面是一个动画旋转硬币的例子。正如你所看到的，你可以模拟一个完整的360度旋转动画，只有6个不同的图像。假设持续时间足够短(在这种情况下不到一秒)，即使有几个图像，它看起来也像一个平滑的动画。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nc"><img src="../Images/81990dfeb69d41bfc558096abddbb857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iaVtfe-xHxq5BaqgFEIyrA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">示例动画图像</figcaption></figure><h1 id="8f07" class="lw lx iq bd ly lz ma mb mc md me mf mg kf mh kg mi ki mj kj mk kl ml km mm mn bi translated">2.将您的图像添加到xcassets文件夹</h1><p id="35b4" class="pw-post-body-paragraph la lb iq lc b ld mo ka lf lg mp kd li lj mq ll lm ln mr lp lq lr ms lt lu lv ij bi translated">一旦您有了包含所有图像的文件夹，请转到Xcode，选择您的项目资源目录，然后拖放动画文件夹。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nd"><img src="../Images/008f8b1393a4ef4acbee627e607ad198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MkXTX2m3_EOwflAfkg1XOA.jpeg"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Xcode —添加资产</figcaption></figure><p id="80bc" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">为了确保一切井然有序，启用<code class="fe mt mu mv mw b"><strong class="lc ja">"Provide Namespace"</strong></code>选项。这将使您可以从<code class="fe mt mu mv mw b"><strong class="lc ja">"FolderName/ImageName"</strong></code>而不是<code class="fe mt mu mv mw b"><strong class="lc ja">"ImageName"</strong></code>访问swift文件中的资产。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/6b16039f9d862d6ce3aa97fdec80d8d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7olZ2h4rJIMfOBBzG1N7Gg.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Xcode —资产配置</figcaption></figure><h1 id="56e3" class="lw lx iq bd ly lz ma mb mc md me mf mg kf mh kg mi ki mj kj mk kl ml km mm mn bi translated">3.创建自动图像加载器</h1><p id="4abc" class="pw-post-body-paragraph la lb iq lc b ld mo ka lf lg mp kd li lj mq ll lm ln mr lp lq lr ms lt lu lv ij bi translated">现在，是时候在代码中加载动画的所有图像了。</p><p id="66b0" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">让我们创建一个<code class="fe mt mu mv mw b"><strong class="lc ja">animatedImages</strong></code>函数，它将动画的名称(对应于我们在上一步中在xcassets文件中创建的文件夹的名称)作为参数，并返回一个图像数组。</p><p id="dd75" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">为了避免检查有多少图像是动画的一部分，让我们从<code class="fe mt mu mv mw b"><strong class="lc ja">0</strong></code>开始迭代，同时可以用生成的名称加载一个图像。</p><p id="acce" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这样，动画的所有图像都将被加载，不管它有多少图像，也不用指定要加载的图像数。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="0fbf" class="lw lx iq bd ly lz ma mb mc md me mf mg kf mh kg mi ki mj kj mk kl ml km mm mn bi translated">4.配置ImageView以运行动画</h1><p id="4900" class="pw-post-body-paragraph la lb iq lc b ld mo ka lf lg mp kd li lj mq ll lm ln mr lp lq lr ms lt lu lv ij bi translated">我们有自己的图像加载器，所以最后一步是将这些图像设置到我们的<code class="fe mt mu mv mw b"><strong class="lc ja">imageView</strong></code>，并配置动画。</p><p id="695b" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><code class="fe mt mu mv mw b"><strong class="lc ja">UIImageView</strong></code>具有内置动画功能，可定制以下属性:</p><ul class=""><li id="91c9" class="nh ni iq lc b ld le lg lh lj nj ln nk lr nl lv nm nn no np bi translated"><strong class="lc ja">动画时长:</strong> <code class="fe mt mu mv mw b"><strong class="lc ja">animationDuration</strong></code></li></ul><p id="57ed" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">持续时间以秒为单位，表示显示所有图像需要多少时间。因此，如果我在一个动画中有<code class="fe mt mu mv mw b"><strong class="lc ja">10 images</strong></code>和<code class="fe mt mu mv mw b"><strong class="lc ja">0.5 second</strong></code>的持续时间，动画的每个图像将保持<code class="fe mt mu mv mw b"><strong class="lc ja">0.5/10 second</strong></code>。默认值为<code class="fe mt mu mv mw b"><strong class="lc ja">0</strong></code>，并使图像视图使用等于图像数量乘以<code class="fe mt mu mv mw b"><strong class="lc ja">1/30 second</strong></code>的持续时间。</p><ul class=""><li id="7465" class="nh ni iq lc b ld le lg lh lj nj ln nk lr nl lv nm nn no np bi translated"><strong class="lc ja">动画的重复次数:</strong> <code class="fe mt mu mv mw b"><strong class="lc ja">animationRepeatCount</strong></code></li></ul><p id="c06d" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">该属性允许您指定动画重复播放的次数。值<code class="fe mt mu mv mw b"><strong class="lc ja">0</strong></code>使动画无限期运行。</p><p id="7804" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">另外，不要忘记用动画的第一个图像设置<code class="fe mt mu mv mw b"><strong class="lc ja">image</strong></code>属性，否则，如果动画没有运行，什么也不会显示。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nf ng l"/></div></figure><div class="kp kq kr ks gt ab cb"><figure class="nq kt nr ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/80f0d1e9f1f3b78ae826570a284336fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*jyAzCM8FxmK2elpjmQuTFQ.gif"/></div></figure><figure class="nq kt nw ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/2efd77018b322e6bd90bcf50e4072ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/1*QSqx5zIwXqFVKXjHeJLzyg.gif"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk nx di ny nz translated">音乐播放动画</figcaption></figure></div><h1 id="f03a" class="lw lx iq bd ly lz ma mb mc md me mf mg kf mh kg mi ki mj kj mk kl ml km mm mn bi translated">5.替代实现</h1><p id="7825" class="pw-post-body-paragraph la lb iq lc b ld mo ka lf lg mp kd li lj mq ll lm ln mr lp lq lr ms lt lu lv ij bi translated">我们在上面看到了一个使用<strong class="lc ja"> UIImageView </strong>的实现，带有一些基本的定制。<code class="fe mt mu mv mw b"><strong class="lc ja">UIImage</strong></code>类还包括一个内置特性，允许我们创建动画<code class="fe mt mu mv mw b"><strong class="lc ja">UIImage</strong></code>对象，仍然基于多个<code class="fe mt mu mv mw b"><strong class="lc ja">UIImage</strong></code>的数组。</p><p id="8da4" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这个实现的一个优点是它允许在动画图像上使用<code class="fe mt mu mv mw b"><strong class="lc ja">tintColor</strong></code>属性。使用与前面相同的示例，我们现在可以为模板动画图像设置自定义色调:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="d008" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">除了淡色之外，这种方法还允许你在动画上使用一些高级的<code class="fe mt mu mv mw b"><strong class="lc ja">UIImage</strong></code>功能，比如拉伸。</p><p id="d408" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">有关动画图像的更多信息，您可以查看与<a class="ae oa" href="https://developer.apple.com/documentation/uikit/uiimage/1624149-animatedimage" rel="noopener ugc nofollow" target="_blank"> UIImage动画</a>和<a class="ae oa" href="https://developer.apple.com/documentation/uikit/uiimageview/1621068-animationimages" rel="noopener ugc nofollow" target="_blank"> UIImageView动画</a>相关的Apple文档。</p><div class="kp kq kr ks gt ab cb"><figure class="nq kt ob ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/b9627747b4cc3aa739fa98ff8490d174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*qbRrIvoxGu0tM6PqWTQIXw.gif"/></div></figure><figure class="nq kt ob ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/5d526eccc9d90d560766c445e6bacfde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*ljShIuTTViKJ-TlCyev3Wg.gif"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk nx di ny nz translated">旋转和发光硬币动画</figcaption></figure></div><h1 id="792b" class="lw lx iq bd ly lz ma mb mc md me mf mg kf mh kg mi ki mj kj mk kl ml km mm mn bi translated">概述</h1><p id="7bbf" class="pw-post-body-paragraph la lb iq lc b ld mo ka lf lg mp kd li lj mq ll lm ln mr lp lq lr ms lt lu lv ij bi translated">动画图像是向您的应用程序添加新的循环动画的绝佳机会。这个UIKit内置特性可以用来轻松创建各种动画:加载动画，发光物品，旋转物品，滚动骰子，等等。</p><p id="bbe7" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ja">下面是给你的应用添加动画图像的5个步骤:</strong></p><ol class=""><li id="3d02" class="nh ni iq lc b ld le lg lh lj nj ln nk lr nl lv oc nn no np bi translated">为您的动画创建一组图像</li><li id="eb2d" class="nh ni iq lc b ld od lg oe lj of ln og lr oh lv oc nn no np bi translated">将您的图像添加到xcassets文件夹</li><li id="eab5" class="nh ni iq lc b ld od lg oe lj of ln og lr oh lv oc nn no np bi translated">创建自动图像加载器</li><li id="0509" class="nh ni iq lc b ld od lg oe lj of ln og lr oh lv oc nn no np bi translated">配置ImageView以运行动画</li><li id="d8aa" class="nh ni iq lc b ld od lg oe lj of ln og lr oh lv oc nn no np bi translated">替代实现</li></ol><h1 id="b022" class="lw lx iq bd ly lz ma mb mc md me mf mg kf mh kg mi ki mj kj mk kl ml km mm mn bi translated">您可能也会喜欢这些文章:</h1><div class="oi oj gp gr ok ol"><a href="https://medium.com/swlh/how-to-create-advanced-shadows-in-swift-ios-swift-guide-9d2844b653f8" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd ja gy z fp oq fr fs or fu fw iz bi translated">如何在Swift中创建高级阴影— iOS Swift指南</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">为应用程序创建美丽阴影的5种方法</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">medium.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz ky ol"/></div></div></a></div><div class="oi oj gp gr ok ol"><a href="https://medium.com/swlh/how-to-create-a-custom-gradient-in-swift-with-cagradientlayer-ios-swift-guide-190941cb3db2" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd ja gy z fp oq fr fs or fu fw iz bi translated">如何使用CAGradientLayer在Swift中创建自定义渐变— iOS Swift指南</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">为你的应用程序创建美丽渐变的5个步骤</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">medium.com</p></div></div><div class="ou l"><div class="pa l ow ox oy ou oz ky ol"/></div></div></a></div><div class="oi oj gp gr ok ol"><a href="https://bmontag.medium.com/how-to-use-sf-symbols-in-your-ios-app-ios-swift-guide-2e81ade5f69e" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd ja gy z fp oq fr fs or fu fw iz bi translated">如何在您的iOS应用程序中使用SF符号——iOS Swift指南</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">SF Symbols 4:超过4000个高质量图标，旨在与您的应用程序无缝集成</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">bmontag.medium.com</p></div></div><div class="ou l"><div class="pb l ow ox oy ou oz ky ol"/></div></div></a></div></div></div>    
</body>
</html>