<html>
<head>
<title>How to use Haskell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Haskell</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-use-haskell-8d0d7e0aa792?source=collection_archive---------4-----------------------#2022-06-04">https://blog.devgenius.io/how-to-use-haskell-8d0d7e0aa792?source=collection_archive---------4-----------------------#2022-06-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/5143029201f460836e8077ce82aa3056.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x9GqF5r1xb0yxhbI08rrSw.png"/></div></div></figure><h1 id="b261" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">目的</h1><p id="6a85" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">由于我对函数式编程语言感兴趣，我正在学习 Haskell。有很多函数式语言，但我选择了 Haskell，因为这是函数式编程非常严格和独特的特性(注意:Haskell 可以写成过程式语言，但一般来说，这种语言的用例更多的是函数式编程，而不是过程式编程)。</p><h1 id="6d51" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">哈斯克尔是什么？</h1><p id="3936" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Haskell 是 1985 年发明的一种编程语言，以数学家和逻辑学家 Haskell Curry 的名字命名。Haskell 是一种具有不变性的纯函数式语言。换句话说，如果你在 Haskell 的任何变量中放入任何值，这些变量不能被任何值覆盖。所以，如果你想替换数组中的一些值，你需要创建一个新的副本来保持不变性。尽管我写了几篇关于 redux toolkit 的文章，并且在这些文章中提到过，但是这种不变性在 redux 中也很重要。基本上你不能改变任何值(多亏了 immer，你并不真正关心 redux toolkit 中的不变性，但这个主题不是本文的范围)。为什么不变性很重要？因为如果编程语言有严格的不变性，任何副作用都不会发生(严格来说，你可以控制副作用)。也就是说，这种不变性防止了严重的错误。Haskell 还有其他特性。</p><h1 id="dc06" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">特性(除了不变性)</h1><ul class=""><li id="d691" class="lr ls in kv b kw kx la lb le lt li lu lm lv lq lw lx ly lz bi translated">懒惰的</li></ul><p id="96ae" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">这有点像 react 中的懒惰统治，它在需要值的时候加载。由于 Haskell 有一个默认的懒惰特性，这有助于提高性能</p><ul class=""><li id="cf7c" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq lw lx ly lz bi translated">类型推理</li></ul><p id="f668" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">由于这种语言具有很强的类型推断能力，所以您不需要真正关心类型。当然你仍然需要关心类型，但是 Haskell 推导出类型并帮助它。所以如果某些变量明显有类型，这种语言会自动推断出类型并在编译时加上。你不必浪费你的时间在那些公认的类型上。</p><ul class=""><li id="fa79" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq lw lx ly lz bi translated">静态类型化</li></ul><p id="659a" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">这不是 Haskell 的唯一特性，但知道这一点很重要。这个特性在 Java、C 和任何其他语言中都有使用，它可以防止严重的 bug 在编译时检测错误。然而，正如我已经提到的，Haskell 也有很强的类型推断特性，所以你可以节省时间，编译后不会有任何错误。</p><p id="f99f" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">为什么有用？例如，你不需要对一个 Haskell 程序进行完美或非常严格的测试，因为 Haskell 在编译过程中不需要任何测试就能发现很多错误。这并不意味着您不再需要编写任何测试，但至少您可以节省时间来编写测试，这完全归功于 Haskell 的特性。</p><p id="587a" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">此外，由于这种语言非常抽象，所以学习其他语言也很有帮助，因为如果你熟悉高度抽象的语言，你的抽象技能就会提高。</p><p id="5f1b" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">Haskell 的缺点如何</p><ul class=""><li id="fd7e" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq lw lx ly lz bi translated">学习限制</li></ul><p id="a5a5" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">由于 Haskell 是一种纯函数式编程语言，其语法与其他过程式语言和非纯函数式语言有着本质的区别。所以，学起来稍微有点难。此外，正如我已经提到的，这种语言需要你有抽象的能力，所以很难熟悉这种语言，特别是对于初学者。</p><ul class=""><li id="e7c1" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq lw lx ly lz bi translated">控制副作用</li></ul><p id="c0e1" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">正如我已经提到的，基本上这种语言不接受任何副作用，因为这是一种纯粹的函数式语言。这是防止严重错误的一个非常有用的特性，但是我们需要输入或输出等副作用的时候呢？在这种情况下，你需要像 I/O 一样使用 monad。Monad 是一个稍微有点难的概念，所以我在本文中不涉及，但是你需要使用一些 Monad 来处理任何副作用。</p><ul class=""><li id="7109" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq lw lx ly lz bi translated">不太受欢迎</li></ul><p id="c273" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">尽管这是一种古老的语言，而且有一些不错的社区，但这种语言还是有点次要。这就是为什么尽管 Haskell 中有很多库，但库的数量比其他任何流行语言(如 Java)都少。这不是一个严重的问题，但你有时会觉得很难找到一个合适的解决方案。</p><p id="68a6" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">关于 Haskell 已经说得够多了，让我们深入一些例子。</p><h1 id="4acf" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">示例(Hello world)</h1><ol class=""><li id="dabc" class="lr ls in kv b kw kx la lb le lt li lu lm lv lq mi lx ly lz bi translated">设置您的环境(有多种方式来设置，但在这种情况下，我使用堆栈。)</li></ol><p id="290e" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">堆栈安装(mac 或 linux)</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="8f3c" class="ms jw in mo b gy mt mu l mv mw">$ curl -sSL <a class="ae mx" href="https://get.haskellstack.org/" rel="noopener ugc nofollow" target="_blank">https://get.haskellstack.org/</a> | sh</span></pre><p id="3f4d" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">堆栈安装(windows)</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="823d" class="ms jw in mo b gy mt mu l mv mw">Set-ExecutionPolicy Bypass -Scope Process -Force;[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072;Invoke-Command -ScriptBlock ([ScriptBlock]::Create((Invoke-WebRequest <a class="ae mx" href="https://www.haskell.org/ghcup/sh/bootstrap-haskell.ps1" rel="noopener ugc nofollow" target="_blank">https://www.haskell.org/ghcup/sh/bootstrap-haskell.ps1</a> -UseBasicParsing))) -ArgumentList $true</span></pre><p id="affd" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">因为我在本文末尾放了一个官方参考文件的链接，所以如果你需要不同的方法或帮助，请查看。</p><p id="5491" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">这个栈意味着像 rbenv(ruby)、pyenv(python)、nodebrew(node.js)这样的包管理器。所以你需要安装 GHC，它是 Haskell 世界中最流行的编译器之一。</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="e486" class="ms jw in mo b gy mt mu l mv mw">stack setup</span></pre><p id="03ce" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">如果您成功安装了 GHC，您可以看到下面的信息时，您键入以下命令。</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="348a" class="ms jw in mo b gy mt mu l mv mw">stack ghc -- --version<br/></span><span id="aadc" class="ms jw in mo b gy my mu l mv mw">//result<br/>The Glorious Glasgow Haskell Compilation System, version 9.0.2</span></pre><ol class=""><li id="b6be" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq mi lx ly lz bi translated">创建一个 hello.hs 文件，并编写如下代码。这个主函数非常重要，因为你总是需要它。如果你编译某个程序，这个函数总是首先被执行。符号“=”可以像其他语言一样表示变量。然而，函数的语法和 Haskell 中的=是一样的，所以这很简单，但是如果你不熟悉任何函数式语言，你需要稍微注意一下。这个 putStrLn 是一个函数。这种语言分为两种不同的函数，一种是纯函数，另一种是非纯函数，它有一些副作用，叫做 I/O 动作。正如我已经提到的，当你想使用一些副作用，如输入或输出，你需要有这个 IO()。这个 putStrLn 得到一些字符串并返回一些动作。</li></ol><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="42d0" class="ms jw in mo b gy mt mu l mv mw">main :: IO ()<br/>main = putStrLn "Hello, world!"</span></pre><ol class=""><li id="514d" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq mi lx ly lz bi translated">使用以下命令运行 hello.hs 文件。当您运行此命令时，您将有三个不同的编译文件“hello”“hello . hi”“hello . o”作为二进制文件。</li></ol><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="29dc" class="ms jw in mo b gy mt mu l mv mw">stack ghc hello.hs</span></pre><ol class=""><li id="7a01" class="lr ls in kv b kw ma la mb le mf li mg lm mh lq mi lx ly lz bi translated">运行下面的命令编译你的文件，你可以看到你写的字。</li></ol><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="0676" class="ms jw in mo b gy mt mu l mv mw">./hello<br/>Hello, world!</span></pre><h1 id="f215" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="d8d2" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">正如我展示的一个非常简单的例子，您可能不知道 Haskell 的强大之处。然而，如果你处理一些递归值，比如计算斐波那契数，你可以只写一行。如果你使用任何其他的过程语言比如 Java 或者 JavaScript，你需要写 10 行以上，因为我们需要使用 for 循环。所以如果你熟悉这门语言。</p><h1 id="90a0" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">参考</h1><p id="e87e" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">官方文件(哈斯克尔):<a class="ae mx" href="https://www.haskell.org/" rel="noopener ugc nofollow" target="_blank">https://www.haskell.org/</a></p><p id="bc1f" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">官方文档(Stack):<a class="ae mx" href="https://docs.haskellstack.org/en/stable/install_and_upgrade/#windows" rel="noopener ugc nofollow" target="_blank">https://docs . haskellstack . org/en/stable/install _ and _ upgrade/# windows</a></p><p id="f9ce" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">什么是 Haskell，谁应该使用它？:【https://www.47deg.com/blog/what-is-haskell/ T4】</p><p id="440d" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">什么是 Haskell 编程语言？:<a class="ae mx" href="https://www.geeksforgeeks.org/what-is-haskell-programming-language/" rel="noopener ugc nofollow" target="_blank">https://www . geeks forgeeks . org/what-is-haskell-programming-language/</a></p><p id="21e5" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi">純粋関数型言語 Haskellを使ってみた: <a class="ae mx" href="https://qiita.com/k-iida/items/8023f55dec2d3c3c73f7" rel="noopener ugc nofollow" target="_blank">https://qiita.com/k-iida/items/8023f55dec2d3c3c73f7</a></p><p id="0f2f" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi">Haskellらしさって？ 「型」と「関数」の基本を解説！(第二言語としてのHaskell): <a class="ae mx" href="https://eh-career.com/engineerhub/entry/2017/08/25/110000/?PK=F85EE5&amp;isLoginAfter" rel="noopener ugc nofollow" target="_blank">https://eh-career.com/engineerhub/entry/2017/08/25/110000/?PK=F85EE5&amp;isLoginAfter</a></p><p id="636b" class="pw-post-body-paragraph kt ku in kv b kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq ig bi translated">感谢您的阅读！！</p></div></div>    
</body>
</html>