<html>
<head>
<title>Day 15 of Game Dev: Spawning Objects in Unity while keeping a clean Hierarchy!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发的第 15 天:在 Unity 中生成对象，同时保持清晰的层次结构！</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/day-15-of-game-dev-spawning-objects-in-unity-while-keeping-a-clean-hierarchy-1817ed078def?source=collection_archive---------7-----------------------#2022-04-20">https://blog.devgenius.io/day-15-of-game-dev-spawning-objects-in-unity-while-keeping-a-clean-hierarchy-1817ed078def?source=collection_archive---------7-----------------------#2022-04-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="8d0e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">目标:</strong>为我游戏中产生的敌人设置一个不填满<strong class="jm io">等级</strong>的方法，让事情变得更加有条理。</p><p id="791b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是一个<strong class="jm io">等级</strong>在场景中产生敌人时的样子的例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/52199cf742d201609383f865731b8dea.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/1*5Njp1JTumtCTvSxCTyWqSA.gif"/></div></figure><p id="28a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">随着时间的推移，随着不同的敌人或者力量或者其他我们想要产生的东西，这将会变得非常混乱。</p><p id="7579" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">老实说，我将要向您展示的这个特性让我大吃一惊，它只需要几行代码！直到最近我才知道这是可能的。</p><p id="1ba3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通常当清理一个<strong class="jm io">层级</strong>时，你会创建一个新的<strong class="jm io">空游戏对象</strong>并将其命名为“敌人”,你会将你所有的敌人作为那个<strong class="jm io">空游戏对象</strong>的子对象，就像一个文件一样。这样你就可以打开和关闭空的游戏对象，这些对象就像一个文件夹一样保存着所有的敌人游戏对象，这样<strong class="jm io">层次结构</strong>就不会那么混乱。但是如果敌人还没有出现呢？你不能将它们拖放到你创建的“文件夹”中，因为它们还不存在。</p><p id="9eea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了解决这个问题，我们首先需要一个<strong class="jm io">空游戏对象</strong>来收集物品。其次，我们需要在这些游戏对象产生之后，让它们成为空游戏对象的子对象 <strong class="jm io">。让我们进入代码！</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kq"><img src="../Images/df0f8c150599f9dd1015e5516694ccec.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/1*zY5RZU_AnG0DH8-qmFwXXw.gif"/></div></figure><p id="9c28" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我的<strong class="jm io"> SpawnEnemy() </strong> <strong class="jm io">协程</strong>中，我每 5 秒就实例化一个新的敌人，如你所见。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi kr"><img src="../Images/8596134573e83a2b07ee626b917ef9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/1*s0orCbaqzxZHJefl8g3TJg.gif"/></div></div></figure><p id="81a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我需要一个这些敌人的引用，这样我就可以让他们成为我的新<strong class="jm io">空游戏对象</strong>(我称之为 _EnemyContainer)的子对象……老实说，在这一点上，我的头脑是混乱的。但后来有人给我指了条路！</p><p id="5049" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我可以得到每个被实例化的游戏对象的引用！我所要做的就是创建一个类型为<strong class="jm io"> GameObject </strong>的变量，我想怎么命名就怎么命名(我把我的命名为<strong class="jm io"> newEnemy </strong>，并把它" = "设置为<strong class="jm io"> Instantiate() </strong> <strong class="jm io">方法</strong>，这就是生成游戏对象！我甚至不知道这是可能的。这也意味着每当一个新的敌人产生时，新敌人变量就会更新为新的敌人。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi kw"><img src="../Images/0f058ed398a7bec4ab1db724b1e2ad78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1d5Sa2XxD577EAZRWA2gQA.gif"/></div></div></figure><p id="57d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面的代码将敌人的父对象设置为我们想要的游戏对象！就这么简单！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/ea6667b743606f4019627de969f38d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/1*AqYRL6GfAJBABXmdW4oU3g.gif"/></div></figure><p id="44bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最终结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ky"><img src="../Images/e21702fa7c1f8585327bd4848a60a55e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NeYiOT_MbWgvF8oF9D71jA.gif"/></div></div></figure><p id="28be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">再一次，每当一个新的敌人产生时,<strong class="jm io">新敌人</strong>变量被更新为" = "最新的敌人产生，这意味着每一个产生父对象的新敌人都被设置为我们制作的<strong class="jm io">新敌人</strong>游戏对象！</p><p id="4baa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在看看在<strong class="jm io">层级</strong>中发生了什么！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi kz"><img src="../Images/af1ad60097ca6a8047fbfd375e156895.png" data-original-src="https://miro.medium.com/v2/resize:fit:456/1*pUHBhQPAMkxfSp1zBCgxFg.gif"/></div></div></figure><p id="427b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这么干净！在一个大项目中，大量不同的游戏对象被衍生和去衍生，这是非常有价值的。</p><p id="661a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我希望你能从中学到一些又酷又新的东西，如果你有任何问题，欢迎提问！</strong></p></div></div>    
</body>
</html>