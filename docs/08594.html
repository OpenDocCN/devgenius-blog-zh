<html>
<head>
<title>PHP — P62: Traits</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P62:特性</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-p62-traits-6b55c6f73659?source=collection_archive---------15-----------------------#2022-06-26">https://blog.devgenius.io/php-p62-traits-6b55c6f73659?source=collection_archive---------15-----------------------#2022-06-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e0a5a3e948cd98a343f1a8759f224836.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Pw1U1JT15WdqWk38hfzCg.jpeg"/></div></div></figure><p id="3c9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">支持多重继承的编程语言存在一个基本问题。PHP 不是这些语言中的一种，但是无论如何，让我们从头到尾看一遍，以便您理解这个问题。</p><p id="3092" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设有一个包含特定方法的父类，例如 drive。有两个子类，1 类和 2 类，它们都扩展了父类。他们继承驱动方法并覆盖它。</p><p id="15ab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，PHP 不支持我将要告诉你的内容，因为这是一个多重继承的问题。另一个类别，类别 3，扩展了类别 1 和类别 2。它如何知道使用哪种驱动方法？它将继承哪种方法？一班的那个或者二班的那个。</p><p id="97f6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是多重继承的问题。有时，您应该从一个以上的类进行扩展。到目前为止，我们可以实现多个方法，但是我们不能扩展多个类的功能。特质可以解决这个问题。就像抽象类一样，您不能实例化特性，但是您可以继承它们。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="5fae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ld">重述</em>:我们已经有一段时间没有上汽车课了。让我们看看将要做的事情。</p><ul class=""><li id="5ea0" class="le lf iq ka b kb kc kf kg kj lg kn lh kr li kv lj lk ll lm bi translated"><a class="ae ln" href="https://github.com/dinocajic/php-7-youtube-tutorials/blob/master/Car.php" rel="noopener ugc nofollow" target="_blank">车</a></li><li id="88ae" class="le lf iq ka b kb lo kf lp kj lq kn lr kr ls kv lj lk ll lm bi translated"><a class="ae ln" href="https://github.com/dinocajic/php-7-youtube-tutorials/blob/master/Vehicle.php" rel="noopener ugc nofollow" target="_blank">车辆</a></li></ul></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="3e06" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，让我们创建测试文件。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="1b10" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们的 Car 类扩展了 Vehicle 类，这意味着它继承了 Vehicle 类的所有属性和方法。Car 类本身有一些常量、属性和方法。除了几个方法，如<em class="ld">关闭()</em>和<em class="ld">关闭()</em>之外，大多数方法都只是获取和设置。</p><p id="47c7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们退后一步，开始思考每辆汽油动力汽车都有什么，那就是发动机和变速器。我们将创建单独的引擎和变速器类，而不是把所有的东西都加载到我们的 Car 类中。为什么选择发动机和变速器？我们可以在一辆车内浏览所有内容，但我们只选择了这些作为简单的示例。</p><p id="4926" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">实际上，汽车中的任何物体都可以有自己的属性类。想想汽车里的一个座位。它代表一个特定的对象。它有特定的细节，比如尺寸和材料类型，所以它需要成为自己独立的物体。我们想使用这个对象并在 Car 类中实现它。即使从一个座位继承属性是没有意义的，即使我们继承了，我们也不能<em class="ld">扩展</em>多个类。为了向我们自己证明这一点，让我们试一试。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="5de0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们想扩展引擎类，我们不能这样做:</p><pre class="lt lu lv lw gt lz ma mb mc aw md bi"><span id="e7c5" class="me mf iq ma b gy mg mh l mi mj">class Car extends Vehicle, Engine { … }</span></pre><p id="72e3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的编辑器将自动突出显示该引擎，并指出它的语法不正确。那么我们能做什么呢？首先让我们给 Engine 类添加一个方法，并将该类改为 Trait，因为从技术上讲，引擎是汽车的一个特征。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="d1ee" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们为我们的传输特性做同样的事情。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="7812" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">发动机和变速器特征具有相同的方法名称，<em class="ld">检查油位()</em>。发动机特征方法返回“发动机机油油位良好”，变速器特征方法返回“变速器机油油位良好”</p><p id="3803" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">太好了，我们现在如何在汽车类中使用这些特性？与<em class="ld">一起使用</em>关键字。让我们像往常一样，从简单的开始，通过实现变速器特性和检查变速器油位来建立这一点。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="e085" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们应该得到以下响应:“变速器油位良好。”</p><p id="ac0b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们仍然可以像平常一样通过调用方法名来调用 Vehicle 父类中的方法。</p><pre class="lt lu lv lw gt lz ma mb mc aw md bi"><span id="1ef8" class="me mf iq ma b gy mg mh l mi mj">echo $subaru-&gt;getYear(); // example from Parent class</span></pre><p id="757a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们进入下一步，将我们的引擎特征添加到汽车类中。</p><pre class="lt lu lv lw gt lz ma mb mc aw md bi"><span id="2cfc" class="me mf iq ma b gy mg mh l mi mj">use Transmission, Engine;</span></pre><p id="6a71" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们得到以下错误:<em class="ld">特征方法‘检查 _ 油位 _ 液位’将不被应用，因为它与‘传输’冲突如果你仍然想尝试一下，刷新你的页面，你会得到下面的错误。</em></p><figure class="lt lu lv lw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/51c71545c0b04fc48adf8eb2797cb255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ImzOpbr6G0V_r6oZW2XWtw.png"/></div></div></figure><p id="ef28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们如何解决这个问题？我们必须告诉 PHP 我们想要使用哪个<em class="ld"> check_oil_level() </em>方法。我们如何做到这一点？使用特殊的语法。一旦你使用了这两个特征，添加花括号并使用<em class="ld">代替</em>关键字。我想用这个方法<em class="ld">而不是</em>这个另外的方法。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="0eca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在当我们调用<em class="ld"> check_oil_level() </em>时，PHP 知道要调用哪个方法。太好了，这解决了一个问题。但是如果我们也想检查我们的机油呢？您只需在 Car 类中重命名其中一个。我们的变速器<em class="ld"> check_oil_level() </em>将被用作默认设置。我们的机油检查将命名为<em class="ld">check _ Engine _ oil _ level()</em>。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="654b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在调用我们的方法会产生正确的结果。说到特质就是这样。如果您开始收到错误，很可能是由于方法名冲突，现在您知道如何重新定义了。</p><figure class="lt lu lv lw gt jr"><div class="bz fp l di"><div class="ml ly l"/></div></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><div class="lt lu lv lw gt mm"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd ir gy z fp mr fr fs ms fu fw ip bi translated">dinocajic/PHP-YouTube-教程</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">PHP YouTube 教程的代码。</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">github.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na jw mm"/></div></div></a></div></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><figure class="lt lu lv lw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/88d39505afe10f3a40db32c1b360f6e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eqfTcomuL0LYEG7G.jpeg"/></div></div></figure><p id="ff03" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡伊奇目前是<a class="ae ln" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(生命周期生物科学公司)</a>、<a class="ae ln" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae ln" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae ln" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物</a>、<a class="ae ln" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae ln" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="471d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae ln" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae ln" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，<a class="ae ln" href="https://www.dinocajic.com/" rel="noopener ugc nofollow" target="_blank">订阅他的博客</a>，或者<a class="ae ln" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="303e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">阅读 Dino Cajic(以及 Medium 上成千上万的其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。T25】</p></div></div>    
</body>
</html>