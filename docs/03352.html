<html>
<head>
<title>Factory Design Pattern in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 中的工厂设计模式</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/factory-design-pattern-in-java-66e5afd61bfc?source=collection_archive---------6-----------------------#2020-10-25">https://blog.devgenius.io/factory-design-pattern-in-java-66e5afd61bfc?source=collection_archive---------6-----------------------#2020-10-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d542c36154750b6b301f4deb64e10a9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KXb1J_f3LT2EmbnQ"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae jz" href="https://unsplash.com/@scienceinhd?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">科学高清</a>拍摄的照片</figcaption></figure><p id="fa7d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你有没有看过一个工厂，想知道东西是如何以如此自动化的方式如此快速地制造出来的？</p><p id="154d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当我们购买工厂生产的产品时，我们从不关心工厂是如何生产我们想要的产品的。我们只关心得到我们要求的东西，也就是我们自己买的东西。</p><p id="787c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就是工厂模式在 java 中的工作方式。</p><p id="9185" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用工厂模式，无需向客户端公开创建逻辑即可创建对象，并使用公共接口引用新创建的对象。</p><p id="da44" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">什么？这到底是什么意思？</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ky"><img src="../Images/1681134d0720d395d5e303e870137e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3AZsrNhdo5MzrKuA"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com/@willhime?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">威尔·艾萨延科</a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="3f23" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">例如，假设我们有一个工厂类，它为我们提供了一些形状。比方说，我们可以在圆形和矩形之间选择。我们指定工厂给我们一个圆或矩形，而不必自己实例化这个圆或矩形。事实上，我们甚至不关心圆或矩形是如何创建/实现的，因为工厂为我们处理了它。</p><p id="172d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们看看工厂是如何设置的:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="48e8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这里，我们有一个形状界面。我们创建了一个返回特定形状类型的形状工厂。我们放入一个参数，它会给出我们想要的相应形状。</p><p id="4500" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里有一个现实世界的类比:这就像去麦当劳选择点哪个汉堡。快餐店的工作就像一个工厂；顾客不需要关心汉堡是如何制作的。他们所关心的只是他们点了什么汉堡，而餐馆会给他们所需要的。</p><p id="332b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们看看客户端代码将如何处理:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="8312" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这里，我们实例化一个形状工厂。从那里，我们可以选择得到什么样的形状，而不需要实例化特定的形状，如矩形和圆形。</p><p id="2aed" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有人可能会问:为什么我们应该使用工厂设计模式，而不是自己实例化不同的对象(圆形、正方形、矩形)？</p><p id="7671" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先，随着时间的推移，它允许开发人员用他们的工厂类支持更多的对象，而不影响客户端代码。</p><p id="572f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">以上面的例子为例:假设我们需要支持额外的形状类，比如三角形和五边形。我们所要做的就是添加一个实现 shape 接口的三角形和五边形类，并在 shapefactory.java 中添加一个新的逻辑来根据请求生成三角形和五边形。</p><p id="4cc7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">客户端代码怎么样？当您添加额外的代码来支持三角形和五边形类时，会影响客户端代码吗？</p><p id="f572" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一点也不，因为所有的变化都发生在工厂层面。在这种情况下，客户端代码根本不需要更改。这就像第二天走进一家快餐店，你意识到有新的汉堡可以点。但这并不妨碍你点你一直点的汉堡。这正是工厂模式的工作方式。</p><p id="6dc1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们用下面的句子总结一下工厂设计模式的优缺点:</p><p id="368d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">优点:</p><ul class=""><li id="a6ee" class="lf lg in kc b kd ke kh ki kl lh kp li kt lj kx lk ll lm ln bi translated">允许我们隐藏形状和工厂是如何实现的。所有用户需要关心的是如何通过正确的调用获得所需的实例。</li><li id="aab5" class="lf lg in kc b kd lo kh lp kl lq kp lr kt ls kx lk ll lm ln bi translated">允许客户端代码和工厂逻辑之间的松散耦合。从长远来看，它允许工厂逻辑为额外的代码进行扩展和伸缩。</li></ul><p id="8afe" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">骗局</p><ul class=""><li id="ce88" class="lf lg in kc b kd ke kh ki kl lh kp li kt lj kx lk ll lm ln bi translated">故障排除可能具有挑战性，因为工厂逻辑由于抽象而完全隐藏。</li></ul><p id="539d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就是 java 工厂设计模式的全部内容！</p></div></div>    
</body>
</html>