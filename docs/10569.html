<html>
<head>
<title>AEM Adaptive Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AEM 自适应表单</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/aem-adaptive-forms-1ad4a583ee9e?source=collection_archive---------1-----------------------#2022-11-12">https://blog.devgenius.io/aem-adaptive-forms-1ad4a583ee9e?source=collection_archive---------1-----------------------#2022-11-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="95e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">AEM 表单为我们提供了在运行时创建、更新、发布和管理表单的能力。使用 AEM 表单，我们可以添加、更新和删除 AEM 表单中的任何字段。</p><p id="b0f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为本博客的一部分，我们将讨论以下主题:</p><ol class=""><li id="462e" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">为什么我们需要 AEM 表格？</li><li id="3d3c" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在本地 AEM 实例中设置 AEM 表单</li><li id="f171" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">问题陈述</li><li id="c98a" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">表单是如何工作的？</li><li id="2751" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">(计划或理论的)纲要</li><li id="9305" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">表单创建和与模式的集成</li><li id="d0b4" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">AEM 表单与 servlet 的集成</li></ol><h2 id="2ad6" class="kw kx in bd ky kz la dn lb lc ld dp le jv lf lg lh jz li lj lk kd ll lm ln lo bi translated">让我们试着理解为什么我们首先需要 AEM 表格？</h2><p id="e2d7" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">假设我们有一个使用下面的 HTML 代码创建的传统表单，放在 form.html 内部</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="edae" class="kw kx in lz b gy md me l mf mg">&lt;form action="/bin/submitform"&gt;<br/>  &lt;label&gt;First name:&lt;/label&gt;&lt;br&gt;<br/>  &lt;input type="text" id="fname"&gt;&lt;br&gt;<br/>  &lt;label&gt;Last name:&lt;/label&gt;&lt;br&gt;<br/>  &lt;input type="text" id="lname"&gt;<br/>&lt;/form&gt;</span></pre><h1 id="dfd1" class="mh kx in bd ky mi mj mk lb ml mm mn le mo mp mq lh mr ms mt lk mu mv mw ln mx bi translated">作为代码的一部分部署在服务器上的上述 HTML 表单的问题:</h1><ol class=""><li id="84f9" class="ki kj in jm b jn lp jr lq jv my jz mz kd na kh kn ko kp kq bi translated"><strong class="jm io">任何与字段标签、类型或验证</strong>相关的更新都需要更改代码并重新构建。</li><li id="2ac2" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jm io">添加新字段或删除旧字段</strong>也需要代码更改和新构建。</li><li id="0ef4" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">为了<strong class="jm io">更新或添加表单，提交动作 URL </strong>也需要构建。</li><li id="f8f7" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">添加新表单也需要构建。</li><li id="6ee7" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">简而言之，做任何与形式相关的改变都需要一个构建。</li></ol><p id="d438" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> AEM 自适应表单使我们能够在运行时进行上述所有更改，而无需构建。</strong></p><h1 id="6639" class="mh kx in bd ky mi mj mk lb ml mm mn le mo mp mq lh mr ms mt lk mu mv mw ln mx bi translated">在本地 AEM 实例中设置 Adobe 表单</h1><ol class=""><li id="048e" class="ki kj in jm b jn lp jr lq jv my jz mz kd na kh kn ko kp kq bi translated">这将需要从<a class="ae nb" href="https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?fulltext=forms*&amp;orderby=%40jcr%3Acontent%2Fjcr%3AlastModified&amp;orderby.sort=desc&amp;layout=list&amp;p.offset=0&amp;p.limit=24" rel="noopener ugc nofollow" target="_blank">链接</a>安装适应性表单包。在左侧导航中搜索表单。</li></ol><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nc"><img src="../Images/d95fb0041b36f8c1cc70babffec56154.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*18Qhron64cbojy6-M-vtEg.png"/></div></div></figure><p id="e6e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">重要提示:</strong></p><ul class=""><li id="b0ad" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh nk ko kp kq bi translated">请检查您的 AEM 本地实例版本，并安装相同版本的 adaptive forms 软件包。按照以下步骤检查您的本地 AEM 实例版本:</li></ul><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nl"><img src="../Images/eef85d9c08bfcefb9561e54ae7cc93e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H6xDTaIJ4Ozlvf81uGeFyg.png"/></div></div></figure><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nm"><img src="../Images/cd8d5a2201f19b4c4de026579c85bc20.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*_ET_wB_UeK_wu26VHh89QQ.png"/></div></div></figure><ul class=""><li id="6ea9" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh nk ko kp kq bi translated">确保根据操作系统安装所需的。它可能发生在我们可以在 windows 操作系统上安装 Linux 表单包的地方，反之亦然。</li><li id="dfe0" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh nk ko kp kq bi translated">如果您无法访问上述 URL 来下载自适应表单包，请联系您的主管或管理员。</li></ul><p id="30d7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.接受 EULA 条款和条件，并点击下载下载此表格包。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nn"><img src="../Images/086616eb8743ea7aeea6003f5cd03b3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Er26E5-4S8X8xgKOu1vwQA.png"/></div></div></figure><p id="ef6c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.进入<a class="ae nb" href="http://localhost:4502/crx/packmgr/index.jsp" rel="noopener ugc nofollow" target="_blank">包管理器</a>上传上面下载的<strong class="jm io">adobe-AEM FD-win-pkg-6 . 0 . 566 . zip</strong>包。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div class="gh gi no"><img src="../Images/b924e8395505fd2a2a3cf9678cb442d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*9ffgvU6e0y6SbwlRj7sX6Q.png"/></div></figure><p id="df18" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4.单击 install 在 AEM 服务器上安装这个包，如下所示。</p><p id="0f00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">软件包安装可能需要大约 10-15 分钟。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi np"><img src="../Images/3a1cff4ac5b4952307cee3cd3439a218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M55_LeeEHF4ap7tK_Lwh1g.png"/></div></div></figure><p id="e636" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.成功安装后，将出现下面的弹出窗口，要求重启 AEM 服务器。</p><p id="a101" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们重新启动 AEM 服务器并进行验证。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/60ff5e93e93fa59d9c6cd33739797db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*6EAUAtcUCxOt4r5KmwXkbQ.png"/></div></figure><p id="f1e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.打开下面的<a class="ae nb" href="http://localhost:4502/sites.html/content" rel="noopener ugc nofollow" target="_blank"> URL </a>以验证表单包是否成功安装。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nr"><img src="../Images/2151fe68d7806893ee487c4b9e133c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xESTs604hKDvQO9QEmGOfA.png"/></div></div></figure><h1 id="5614" class="mh kx in bd ky mi mj mk lb ml mm mn le mo mp mq lh mr ms mt lk mu mv mw ln mx bi translated">形成问题陈述</h1><ol class=""><li id="bd23" class="ki kj in jm b jn lp jr lq jv my jz mz kd na kh kn ko kp kq bi translated">作为此博客的一部分，我们将创建以下表单:</li></ol><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/62d196bfb6a38a3be0230faaec0f4e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*4EPcluVbwX_cDONBh01ctw.png"/></div></figure><p id="b52f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.在表单提交时，它将生成以下 JSON</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d3a5" class="kw kx in lz b gy md me l mf mg">{<br/> "fistName": "",<br/> "lastName": "",<br/> "age": "",<br/> "address": {<br/>  "addressLine": "",<br/>  "city": ""<br/> }<br/>}</span></pre><p id="9eb3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.调用定制的 AEM servlet，以步骤 2 中提到的预定义 JSON 格式收集表单提交数据。</p><h1 id="79d9" class="mh kx in bd ky mi mj mk lb ml mm mn le mo mp mq lh mr ms mt lk mu mv mw ln mx bi translated">表单提交流程</h1><p id="3e2a" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">表单包含多个字段。众所周知，在表单提交时，第三方 API 或 servlet 总是希望数据采用某种预定义的格式。</p><p id="bcf5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为这个博客的一部分，我们将使用<strong class="jm io"> JSON Schema </strong>以 servlet 和第三方 API 期望的相同预定义格式收集数据。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nt"><img src="../Images/a5e4ec64b16fe11564faf91dcef9e6c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SGHmsrytBLU-OrbsgvicSA.png"/></div></div></figure><h1 id="001a" class="mh kx in bd ky mi mj mk lb ml mm mn le mo mp mq lh mr ms mt lk mu mv mw ln mx bi translated">Adobe 表单实现</h1><ol class=""><li id="72e3" class="ki kj in jm b jn lp jr lq jv my jz mz kd na kh kn ko kp kq bi translated">打开下面的<a class="ae nb" href="http://localhost:4502/sites.html/content" rel="noopener ugc nofollow" target="_blank">网址</a>，点击表格平铺。</li></ol><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nr"><img src="../Images/2151fe68d7806893ee487c4b9e133c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xESTs604hKDvQO9QEmGOfA.png"/></div></div></figure><p id="279a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.点击下面的表格和文档标题:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nu"><img src="../Images/9c71b53f7b0930b20d9d0ade8ed83a76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WcA_6tMhwopIJO0mAxtQeQ.png"/></div></div></figure><h2 id="63f7" class="kw kx in bd ky kz la dn lb lc ld dp le jv lf lg lh jz li lj lk kd ll lm ln lo bi translated">创建和上传模式</h2><p id="a098" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">3.如前所述，让我们创建一个如下所示的<strong class="jm io"> JSON 模式</strong>，Servlet 或第三方 API 将接受该模式。</p><p id="e0b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用<strong class="jm io"> &lt;文件名&gt; .schema.json </strong>扩展名存储下面的模式文件。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="ab39" class="kw kx in lz b gy md me l mf mg">{<br/>  "$schema": "<a class="ae nb" href="http://json-schema.org/draft-07/schema#" rel="noopener ugc nofollow" target="_blank">http://json-schema.org/draft-07/schema#</a>",<br/>  "$id": "<a class="ae nb" href="http://example.com/product.schema.json" rel="noopener ugc nofollow" target="_blank">http://example.com/product.schema.json</a>",<br/>  "title": "User",<br/>  "description": "User Form",<br/>  "type": "object",<br/>  "properties": {<br/>    "firstName": {<br/>      "type": "string"<br/>    },<br/>    "lastName": {<br/>      "type": "string"<br/>    },<br/>    "age": {<br/>      "type": "string"<br/>    },<br/>    "address": {<br/>      "type": "object",<br/>      "properties": {<br/>        "addressline": {<br/>          "type": "string"<br/>        },<br/>        "city": {<br/>          "type": "string"<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="9188" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的<strong class="jm io"> JSON 模式</strong>将创建下面的<strong class="jm io"> JSON </strong>作为输出</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="f853" class="kw kx in lz b gy md me l mf mg">{<br/> "fistName": "",<br/> "lastName": "",<br/> "age": "",<br/> "address": {<br/>  "addressLine1": "",<br/>  "city": ""<br/> }<br/>}</span></pre><p id="40ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4.如下图所示选择元模型图块。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nv"><img src="../Images/c3599325bdf2b4795ebc5785b460f33f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vSwcgxaR8mKVXr6sYBWAoA.png"/></div></div></figure><p id="487b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.点击创建按钮，选择<strong class="jm io">文件上传</strong>选项，上传<strong class="jm io"> JSON 模式</strong>。选择上面的模式文件并点击上传按钮，如下所示。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nw"><img src="../Images/90d77bd60d591f2b3b5debcb7a3751e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2B489EWg-Beh06HLijHkmA.png"/></div></div></figure><p id="aa3f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">6.它将在成功上传时开始出现，如下所示:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nw"><img src="../Images/c3adfece0b7bca1c42301b0ccd93be5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iNI3ulAbUUlapBCjSqql-g.png"/></div></div></figure><h1 id="1591" class="mh kx in bd ky mi mj mk lb ml mm mn le mo mp mq lh mr ms mt lk mu mv mw ln mx bi translated">创建表单</h1><p id="210a" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">7.返回并点击下方的<strong class="jm io">表单&amp;文档</strong>平铺，如下图所示:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nu"><img src="../Images/9c71b53f7b0930b20d9d0ade8ed83a76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WcA_6tMhwopIJO0mAxtQeQ.png"/></div></div></figure><p id="bef9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">8.选择<strong class="jm io">空白模板</strong>创建自适应表单，点击<strong class="jm io">下一个</strong>按钮。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nx"><img src="../Images/5809dbcab51ec83267065d397241f6b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1KRGLPKdteIsJzJw9dmLbw.png"/></div></div></figure><p id="874d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">9.在基本选项卡上输入<strong class="jm io">标题</strong>和<strong class="jm io">名称</strong>。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ny"><img src="../Images/14684b80dbe4c77c31b27963913b8e5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AFbppoVEosYHgh3dr8dlTw.png"/></div></div></figure><p id="0cef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">10.选择<strong class="jm io">表单模型</strong>选项卡，然后选择<strong class="jm io">模式作为选择自字段的一部分。选择我们在步骤 6 中上传的模式。</strong>选定的 JSON 模式将帮助我们映射表单字段。相同的 JSON 将作为 post 请求数据的一部分。这与 servlet 和第三方 API 期望的 JSON 格式相同:</p><p id="e4a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">点击<strong class="jm io">创建</strong>按钮创建一个表单。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nz"><img src="../Images/ae1415d0ad914c8fe4f255af3708d5ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lQbfffMWqsUxGhw5ShKNoA.png"/></div></div></figure><p id="b488" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">11.单击“编辑”按钮编辑表单，以添加字段、提交操作和其他必需的详细信息。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi oa"><img src="../Images/760000968f9b7bb533a5e88329f902a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*-Lj_r99RLqajgz_U-B0rCg.png"/></div></div></figure><p id="c2f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">12.突出显示的第 1 点是我们将在后续步骤中讨论的内容。</p><p id="88a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">突出显示的 2 号点将显示我们要拖放的内容或字段层次结构。</p><p id="9f5a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">突出显示的第 3 点是拖放表单字段。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ob"><img src="../Images/d428b2c7cb6a444fa753d3c20c4f3c7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pWR6U2Iy8f9sAqOG7ZpK-g.png"/></div></div></figure><p id="ba35" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">13.导航到下面突出显示的选项，并验证模式结构是否存在。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/f5aaa2d24d015719a4067c8a638ec28e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*IvPgKmAGtLxeqDw95YqoSw.png"/></div></figure><p id="55e2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">13.点击<strong class="jm io">拖动组件到这里——根面板</strong> parsys 会弹出一个选择<strong class="jm io">面板</strong>的窗口。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi od"><img src="../Images/8c7c73b1d15b3ff9b86a53779267c00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Amk3a6MhsG_a01TOAaaC9Q.png"/></div></div></figure><p id="8d07" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">14.选择<strong class="jm io">拖拽组件到</strong>段，点击<strong class="jm io"> + </strong>按钮拖拽组件。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi oe"><img src="../Images/6d3059f67dd8378314eb71fff63b2726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZADUUhxun43Xp449UKmVyA.png"/></div></div></figure><p id="0989" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">15.选择下面的<strong class="jm io">文本框</strong>选项，以拥有一个文本字段。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi of"><img src="../Images/8a5b359837faac47d2eefda580231322.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KAEMVarAK10PgzC27ojxcA.png"/></div></div></figure><p id="5e26" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">16.选择文本框 parsys 并单击配置按钮将打开左侧导航菜单，以填写字段特定信息。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi og"><img src="../Images/7260931506e72bc3241683dec51a8a57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xEzzBBf8ZC3Rsa72g_oqhw.png"/></div></div></figure><p id="5520" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">17.提供名称、将成为字段标签的标题、占位符，选中<strong class="jm io">必填字段</strong>复选框，提供必填字段错误消息。</p><p id="cd85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面我们来详细讨论一下高亮显示的<strong class="jm io">绑定引用</strong>字段的红色。该字段将帮助我们在创建的字段和先前上传的模式之间建立联系。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/62936193e45884e7e9cfc3a849f5f25c.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*mhMrnVKrTqxGRWwlDIWp2Q.png"/></div></figure><p id="5442" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">18.点击绑定参考选项后，将出现以下屏幕。选择必填字段，然后单击确定。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/b38c599c5325291f4d6e6316779ace98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*xLtFfgz_Ov9ug6qEVDOwww.png"/></div></figure><p id="b63e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">19.对姓氏和年龄重复第 15、16、17 和 18 步。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi oj"><img src="../Images/b5f2256022d30878e095cf5bf8d3b6de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f_ZEGokE7mq5OTo8q3ySNg.png"/></div></div></figure><p id="3df1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">20.作为此步骤的一部分，拖放作者下拉列表。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ok"><img src="../Images/43cd92b282aaf95c6702fd70146f16df.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*V58J4hhNmdPPuCZptl7dgA.png"/></div></div></figure><p id="3256" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意:这个下拉菜单我们只是用来学习的，它将帮助我们学习更多关于表单的特性。</p><p id="831c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">21.配置下拉列表并填写下面突出显示的值:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ol"><img src="../Images/cd2e9094284d6bfb53a08a094cd264c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vm1CwMm3RFyNnd2KRottCA.png"/></div></div></figure><p id="fbc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">22.平行于第一个面板再拖放一个面板。为面板提供自定义名称。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi om"><img src="../Images/96131c324e732f81ef48dee648054d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YKKdAc-XMee0xd2wF_-8RQ.png"/></div></div></figure><p id="c805" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">23.在<strong class="jm io">第二个面板</strong>中，拖放地址行和城市字段的剩余部分，重复步骤 15、16、17 和 18。</p><p id="0236" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">注意:不要将地址行和城市字段设为必填。</strong></p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi on"><img src="../Images/826e1681ea3f253452e715aa983de4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*txAyOYFXgHaYe8IlAr_ulQ.png"/></div></div></figure><p id="9f04" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">24.我们希望在页面上隐藏的地址相关字段。这可以通过使用 OOTB 配置逐个隐藏所有字段来实现，这将是一项繁琐的任务。作为替代，我们可以隐藏面板本身，在面板下拖放所有与地址相关的字段，如下所示。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi oo"><img src="../Images/8686c8187d338903e2310ed5e107e97e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzx6KzoGJUF-9XbMEMiBLQ.png"/></div></div></figure><p id="40d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">25.作为表单<strong class="jm io">预览的一部分，</strong>地址相关字段将不会出现。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi op"><img src="../Images/75934c36e868c7aaae5e168bb92c15b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B9TkXJTdrGw6JnZ3iTh2VQ.png"/></div></div></figure><p id="ff24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">26.我们希望在选择<strong class="jm io">必填字段</strong>“是”选项时显示所有地址字段。</p><p id="d6e2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">选择下面突出显示选项来定义规则。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi oq"><img src="../Images/e5f7b1424bb10851a693fda008396102.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FDrEC49J6J0uMABKJn_wUQ.png"/></div></div></figure><p id="5353" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">27.单击下面的“创建”按钮来定义规则:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi or"><img src="../Images/2c8d74dcd290bbbf5a0ad3fe28cd6000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*48lLpcrFxRD6URUOL4j2Ng.png"/></div></div></figure><p id="39ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">28.从所需的<strong class="jm io">地址中选择“是”选项时，定义以下规则至显示的地址部分及其所有字段？</strong>字段，点击<strong class="jm io">完成</strong>按钮。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi os"><img src="../Images/77fd8fff408ee83ad7430fd652cbca1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jkuugYNVBaW09IvGCGrEw.png"/></div></div></figure><p id="36e9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">29.进入预览选项，选择<strong class="jm io">是选项，地址栏显示如下:</strong></p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ot"><img src="../Images/c74c786cb6635018bb25872b9f686b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqCnZYMu9qYuAUjbrBp_gA.png"/></div></div></figure><p id="4bd6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">30.作为该步骤的一部分，我们将编写自定义代码，以在选择所需的发件人地址的<strong class="jm io">否</strong>选项时再次隐藏地址部分。领域。</p><p id="bb88" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">重复步骤 26 和 27。</p><p id="047a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">选择下面的选项以遍历代码编辑器:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ou"><img src="../Images/319bdc4a6ee5c52c80c0567be555a97a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*60kdczKRkqEQ2XDrAu7leA.png"/></div></div></figure><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ov"><img src="../Images/0643f2df1fa1723d938c80a7f5557ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X59p9UB9yHy9wBqNX1tY7w.png"/></div></div></figure><p id="b816" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">31.在内联代码编辑器中粘贴下面的代码。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="42be" class="kw kx in lz b gy md me l mf mg">if (this.value == "no") {<br/>    alert("Selected No");<br/>    addressPanel.visible = false;<br/>}</span></pre><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ow"><img src="../Images/0d5e4bd976f1521fa6baa74d2966b319.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NQ8RxoV0CQ8it4Ep135pcw.png"/></div></div></figure><p id="7277" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">32.在选择选项为<strong class="jm io">时，No </strong>将弹出警告并隐藏地址部分及其字段。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ox"><img src="../Images/bf403f55626d1ececd28f31dad71e719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_1CSiHdWHCMMATj_7VGYFg.png"/></div></div></figure><p id="522a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">33.让我们为表单提交编写一个<strong class="jm io">提交按钮</strong>:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi oy"><img src="../Images/66bd4ee08ede001fa3ba8a49b755e613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EMShbmcGhuRqJER7wcoKYw.png"/></div></div></figure><p id="b0bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">34.选择顶部容器并点击配置按钮以执行表单级创作，并选择<strong class="jm io">提交动作</strong>下拉字段下的<strong class="jm io">提交至 REST 端点</strong>选项。</p><p id="547d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">表单提交将是一个 POST 请求调用，因为我们将发送用户表单数据作为请求有效负载的一部分。</p><p id="3edf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">选择<strong class="jm io">启用 POST 请求</strong>复选框，并提供第三方 API 或 servlet URL 作为 POST 请求字段的<strong class="jm io"> URL 的一部分。</strong></p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi oz"><img src="../Images/32bf23fcdf482b7c9aa702f3e0dd9b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0VuW4mo2UgLVyYfyjGEhCw.png"/></div></div></figure><h1 id="d56d" class="mh kx in bd ky mi mj mk lb ml mm mn le mo mp mq lh mr ms mt lk mu mv mw ln mx bi translated">创建内容页面并使用 AEM 表单</h1><p id="fa2b" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">35.选中复选框，允许<strong class="jm io">常规</strong>组下的<strong class="jm io"> AEM 表单</strong>作为模板的一部分拖放到页面上。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi pa"><img src="../Images/b4c70e4b49f988ee50e0281a93d8bf26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oe3tQaKJkJ6Tj9NVSJZeNw.png"/></div></div></figure><p id="54d5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">36.创建页面，拖放 AEM 表单组件。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi pb"><img src="../Images/8bc72c52c0c34c2d2454b54e7e78c997.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F9eRDW4weXsF1MMDwX4I9w.png"/></div></div></figure><p id="51d5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">37.使用下面突出显示的选项配置组件。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi pb"><img src="../Images/f75d86a98998b85089c6dba9e43d7000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CPV8-jdgiaLFRWvs-wJYfg.png"/></div></div></figure><p id="d7f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">38.在“资产路径”字段下提供我们作为此博客的一部分创建的 AEM 表单路径，然后单击“确定”将在页面上加载 AEM 表单。</p><p id="fa0b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为该对话框的一部分，我们还可以提供感谢页面 URL 或消息。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/90fd601f5e30d45aa828facec9a80615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*731OgKsodBqZi875-lOe1Q.png"/></div></figure><p id="bf5c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">39.它将加载下面的 AEM 表单内容页面</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi pd"><img src="../Images/b4ff4a6fb106082adea17a4973b515f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ieSA3v_HvdXfaC_vJm7JUw.png"/></div></div></figure><p id="cba4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">40.创建下面的 POST Servlet 来收集数据</p><p id="564b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">提交的数据以参数的形式出现，可以使用下面的语法进行收集。</p><p id="0275" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">req . getparameter(" data XML ")</strong></p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="a066" class="kw kx in lz b gy md me l mf mg">import org.apache.sling.api.SlingHttpServletRequest;<br/>import org.apache.sling.api.SlingHttpServletResponse;<br/>import org.apache.sling.api.servlets.HttpConstants;<br/>import org.apache.sling.api.servlets.SlingAllMethodsServlet;<br/>import org.osgi.framework.Constants;<br/>import org.osgi.service.component.annotations.Component;<br/>import org.slf4j.Logger;<br/>import org.slf4j.LoggerFactory;<br/><br/>import javax.servlet.Servlet;<br/>import java.io.IOException;<br/><br/>@Component(<br/>    service=Servlet.class,<br/>    property={<br/>        Constants.<em class="pe">SERVICE_DESCRIPTION </em>+ "=Custom Servlet",<br/>        "sling.servlet.methods=" + HttpConstants.<em class="pe">METHOD_POST</em>,<br/>        "sling.servlet.paths=" + "/bin/user"<br/>    }<br/>)<br/>public class UserDetailServletByPath extends SlingAllMethodsServlet {<br/>    private static final long <em class="pe">serialVersionUID </em>= 1L;<br/>    private final Logger logger = LoggerFactory.<em class="pe">getLogger</em>(getClass());<br/><br/>    @Override<br/>    protected void doPost(final SlingHttpServletRequest req,<br/>        final SlingHttpServletResponse resp) throws IOException {</span><span id="8d75" class="kw kx in lz b gy pf me l mf mg">        logger.error("User &gt;&gt;&gt;&gt; {}", <strong class="lz io">req.getParameter("dataXml")</strong>);</span><span id="3ee5" class="kw kx in lz b gy pf me l mf mg">        resp.setStatus(SlingHttpServletResponse.<em class="pe">SC_OK</em>);<br/>        resp.setContentType("application/json;charset=UTF-8");<br/>        resp.getWriter().print("{\"response message\" : \" Service Called\"}");<br/>    }<br/>}</span></pre><p id="0eb1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">41.在表单中填入以下值，并在提交后收集值作为 Post servlet (/bin/user)的一部分。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi pg"><img src="../Images/dff7674a5ace75d41b84dd4bc2e34182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1PxQVsh3BssISzNlGdvqsQ.png"/></div></div></figure><h2 id="8695" class="kw kx in bd ky kz la dn lb lc ld dp le jv lf lg lh jz li lj lk kd ll lm ln lo bi translated">输出:</h2><p id="c75d" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv lr jx jy jz ls kb kc kd lt kf kg kh ig bi translated">检查 error.log 文件以验证作为表单的一部分提交的值。</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ph"><img src="../Images/df116655586fe105684504bf3970222e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t_4waWgkFSVg_Fn44gkFmA.png"/></div></div></figure><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="b5ef" class="kw kx in lz b gy md me l mf mg">{<br/> "afData": {<br/>  "afUnboundData": {<br/>   "data": {<br/>    "address": "yes"<br/>   }<br/>  },<br/>  "afBoundData": {<br/>   <strong class="lz io">"data": {<br/>    "firstName": "John",<br/>    "lastName": "Carter",<br/>    "age": "28",<br/>    "address": {<br/>     "addressline": "Victoria",<br/>     "city": "Washington"<br/>    }</strong><br/>   <strong class="lz io">}</strong><br/>  },<br/>  "afSubmissionInfo": {<br/>   "computedMetaInfo": {},<br/>   "stateOverrides": {},<br/>   "signers": {}<br/>  }<br/> }<br/>}</span></pre><p id="7250" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">成功的表单提交将进行以下三次后续调用:</p><figure class="lu lv lw lx gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ov"><img src="../Images/9c0883ff67cc3568ec161016a520ec8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lCF5gLZnwy_Mar40MNlSCw.png"/></div></div></figure><p id="ac3e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望你发现这篇文章有趣且内容丰富。请分享给你的朋友来传播知识。</p><p id="78e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以关注我即将发布的博客<a class="ae nb" href="https://medium.com/@toimrank" rel="noopener">关注</a>。<br/>谢谢！</p></div></div>    
</body>
</html>