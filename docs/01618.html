<html>
<head>
<title>Customize the MacOS Terminal</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自定 MacOS 终端</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/customize-the-macos-terminal-zsh-4cb387e4f447?source=collection_archive---------0-----------------------#2020-07-08">https://blog.devgenius.io/customize-the-macos-terminal-zsh-4cb387e4f447?source=collection_archive---------0-----------------------#2020-07-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="826d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用 Z Shell 个性化提高生产率的提示</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/efbb64c34223d6856efa6bb6254f37d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z_AtCX-myOgoPxa9fmWaLA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/photos/T8LMIN09-mo" rel="noopener ugc nofollow" target="_blank"> Goran Ivos </a>在<a class="ae kv" href="https://unsplash.com/photos/T8LMIN09-mo" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="f1cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">截至 2019 年，macOS Catalina 已经采用<a class="ae kv" href="http://zsh.sourceforge.net/Guide/zshguide01.html" rel="noopener ugc nofollow" target="_blank"> Z Shell </a>，简称<code class="fe ls lt lu lv b">zsh</code>作为默认登录 Shell。Z shell 是一个 Unix shell，充当交互式登录 Shell 和 Shell 脚本的命令行解释器。</p><p id="edbd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您发现提示没有显示足够或太多的信息，本文将指导您使用几个简单的步骤定制提示。默认情况下，当您在任何 macOS 设备上打开终端时，提示符将只显示当前目录。当在多个目录间导航时，看不到完整的当前目录路径可能会产生阻碍。例如，您可能会发现自己经常键入<code class="fe ls lt lu lv b">pwd</code>来获取完整路径。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/176e5152fc5ceb4304a2d7e4f6706ebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VArxeYjIHbacEmI3ZmtkuA.png"/></div></div></figure><p id="dc46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面我们将讨论如何定制<code class="fe ls lt lu lv b">zsh</code>提示符。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="623f" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">创建一个<code class="fe ls lt lu lv b">~/.zshrc</code>文件</h1><p id="293e" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">首先，您需要创建一个配置文件<code class="fe ls lt lu lv b">~/.zshrc</code>，它将包含提示变量和您可能需要的任何其他环境变量。</p><ol class=""><li id="759c" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated">打开终端</li><li id="ea07" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">键入<code class="fe ls lt lu lv b">touch ~/.zshrc</code>创建文件。</li><li id="2168" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">使用 vim、nedit 或任何其他文本编辑器打开<code class="fe ls lt lu lv b">~/.zshrc</code>文件。如果您正在通过 Finder 访问文件，请使用<code class="fe ls lt lu lv b">Cmd + Shift + .</code>来显示隐藏的文件。您需要将<code class="fe ls lt lu lv b">PROMPT</code>变量添加到这个文件中，如下所述。</li></ol></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="2bf5" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">自定义提示</h1><p id="5f6d" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">可以通过在<code class="fe ls lt lu lv b">~/.zshrc</code>文件中设置<code class="fe ls lt lu lv b">PROMPT</code>变量来覆盖该提示。</p><p id="68d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不同的占位符在<a class="ae kv" href="http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html#Prompt-Expansion" rel="noopener ugc nofollow" target="_blank"> zsh 提示文档</a>中有详细描述。下面我将重点介绍一些最常见和最有用的提示配置。</p><p id="b0cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认的终端提示符显示用户名、主机名和当前目录。这表示为:</p><p id="d3c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">PROMPT='%n@%m %. %% '</code></p><p id="ea51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">组件说明:</p><pre class="kg kh ki kj gt np lv nq nr aw ns bi"><span id="cc96" class="nt mf iq lv b gy nu nv l nw nx">%n  $USERNAME<br/>%m  The hostname up to the first ‘.’<br/>%.  Current directory<br/>%%  Character '%'</span></pre><p id="967c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想让路径引用完整路径，可以将其配置为:</p><p id="5623" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">PROMPT='%n@%m %~ %% '</code></p><p id="de79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里唯一的区别就是<code class="fe ls lt lu lv b">%.</code>被<code class="fe ls lt lu lv b">%~</code>取代了。</p><pre class="kg kh ki kj gt np lv nq nr aw ns bi"><span id="8d4f" class="nt mf iq lv b gy nu nv l nw nx">%~  Refers to the current working directory, but if the current working directory starts with $HOME, $HOME part is replaced by a '~'.</span><span id="464e" class="nt mf iq lv b gy ny nv l nw nx">An alternative would be to use %/, which evaluates to the absolute current working directory path.</span></pre><p id="82d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ls lt lu lv b">~/.zshrc</code>中应用这些更改并打开一个<em class="nz">新的</em>终端窗口后，完整路径现在显示在提示符中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/b834558e50382160c3c9b9bdc5a0e6df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OJeVia9lG5qR2ELesXvHpQ.png"/></div></div></figure><p id="d74f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你是唯一使用机器的人，并且只访问一台机器，也许显示用户名和机器名并不重要。这里有一个例子，我们只是显示时间和路径，其中<code class="fe ls lt lu lv b">%*</code>表示一天中的时间，包括秒。</p><p id="aa62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">PROMPT='%*:%~ %% '</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/b5fe3ae03b84dfff8e5abb1268e170f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XEbHJCXL1paKF-s8bx-RkQ.png"/></div></div></figure></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="6296" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">添加颜色</h1><p id="19b8" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">您还可以为提示的不同部分指定一种颜色。Zsh <a class="ae kv" href="https://wiki.archlinux.org/index.php/Zsh#Colors" rel="noopener ugc nofollow" target="_blank">支持颜色</a>字符串黑色、红色、绿色、黄色、蓝色、洋红色、青色、白色或 256 色调色板中从 0 到 255 的任何数字。参考此<a class="ae kv" href="https://upload.wikimedia.org/wikipedia/commons/1/15/Xterm_256color_chart.svg" rel="noopener ugc nofollow" target="_blank">链接</a>查看所有 256 种颜色的列表。</p><p id="c05b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">颜色分配必须以<code class="fe ls lt lu lv b">%F</code>开始，表示前景色，以<code class="fe ls lt lu lv b">%f</code>结束。例如，<code class="fe ls lt lu lv b">%F{red}Label%f</code>将用红色打印单词<em class="nz">标签</em>。</p><p id="38d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">继续我们上面的例子，假设我们希望时间是绿色的，但是路径是蓝色的。</p><p id="b76c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">PROMPT='%F{green}%*%f:%F{blue}%~%f %% '</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/5bf3e28b9593508e4c57d00162db9aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iHvMzyQI-tyKy0Ys3JLR7A.png"/></div></div></figure></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="9e25" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">额外资源</h1><ul class=""><li id="9d5b" class="nb nc iq ky b kz mw lc mx lf od lj oe ln of lr og nh ni nj bi translated"><a class="ae kv" href="http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html#Prompt-Expansion" rel="noopener ugc nofollow" target="_blank"> Zsh 提示文件</a></li><li id="9cd8" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr og nh ni nj bi translated"><a class="ae kv" href="https://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Git-in-Zsh" rel="noopener ugc nofollow" target="_blank"> Git 集成</a></li><li id="4b97" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr og nh ni nj bi translated"><a class="ae kv" href="https://developer.apple.com/library/archive/documentation/OpenSource/Conceptual/ShellScripting/shell_scripts/shell_scripts.html" rel="noopener ugc nofollow" target="_blank"> Apple Shell 脚本基础知识</a></li><li id="2de2" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr og nh ni nj bi translated"><a class="ae kv" href="https://ohmyz.sh/" rel="noopener ugc nofollow" target="_blank">哦，我的 Zsh </a>，一个管理 Zsh 配置的开源框架</li></ul></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="b160" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">结论</h1><p id="697c" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">当使用终端在目录和项目间导航时，对终端提示符进行简单的修改极大地提高了我的工作效率。本文涵盖了基础知识，但是进一步的定制和微调可以满足您的确切需求。感谢阅读！</p></div></div>    
</body>
</html>