<html>
<head>
<title>PHP — P6: Integers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP — P6:整数</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/php-7-x-p6-integers-d003609694b1?source=collection_archive---------13-----------------------#2020-06-20">https://blog.devgenius.io/php-7-x-p6-integers-d003609694b1?source=collection_archive---------13-----------------------#2020-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5069bb9f4eddac2d91bf9daec120a0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N6pGHL2MI8ZRFQLuDxam1w.jpeg"/></div></div></figure><p id="eb13" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">整数数据类型表示整数，可以是正数、负数或零，而不是分数。在我们进入任何值得研究的内容之前，让我们看一个简单的例子。</p><p id="9ac7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建一个新的 PHP 文件，并将下面的代码复制到其中。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e522" class="lf lg iq lb b gy lh li l lj lk">&lt;?php<br/>$x = 0;<br/>$y = 1;<br/>$z = -2;</span><span id="3fb1" class="lf lg iq lb b gy ll li l lj lk">echo $x + $y + $z;</span><span id="4b9d" class="lf lg iq lb b gy ll li l lj lk">?&gt;</span></pre><p id="7a12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">结果应该是-1。我知道我们还没有看到算术运算符，但是我确信你能理解前面例子中+运算符的作用。我们将三个变量$x，$y 和$z 设置为 0，1 和-2，将它们相加，并回显它们。</p><p id="8213" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们已经看了一个简单的例子，让我们来看一些细节，为什么整数是一个重要的讨论话题。它不仅仅在 PHP 中重要，在任何编程语言中都很重要。</p><p id="6745" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于 32 位和 64 位操作系统，整数数据类型都有最大值和最小值。</p><h2 id="cebc" class="lf lg iq bd lm ln lo dn lp lq lr dp ls kj lt lu lv kn lw lx ly kr lz ma mb mc bi translated">32 位操作系统</h2><p id="726d" class="pw-post-body-paragraph jy jz iq ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated">最小值:-2147483647 <br/>最大值:+2147483647</p><p id="e1ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为什么这很重要？因为您的结果可能与您的预期不同。我们将$x 设置为最大整数值 2147483647。我们将$y 设置为最大整数值+ 1，即 2147483648。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="126a" class="lf lg iq lb b gy lh li l lj lk">&lt;?php<br/>$x = 2147483647;<br/>$y = 2147483648;</span><span id="5960" class="lf lg iq lb b gy ll li l lj lk">echo "X: " . $x . "&lt;br&gt;";<br/>echo "Y: " . $y . "&lt;br&gt;";</span><span id="d76e" class="lf lg iq lb b gy ll li l lj lk">?&gt;</span></pre><p id="b6c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">根据你的电脑类型，你要么会看到正确的值，要么会发生一些奇怪的事情。我运行的是 64 位操作系统，所以这些值会正确显示。</p><p id="8d79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">X: 2147483647 <br/> Y: 2147483648</p><h2 id="9424" class="lf lg iq bd lm ln lo dn lp lq lr dp ls kj lt lu lv kn lw lx ly kr lz ma mb mc bi translated">64 位操作系统</h2><p id="b5b4" class="pw-post-body-paragraph jy jz iq ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated">最小值:-9223372036854775807 <br/>最大值:+9223372036854775807</p><p id="7855" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将重复同样的过程。我们将设置$x 等于 9223372036854775807，而$y 等于 64 位操作系统的最大整数值加 1，9223372036854775808。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="8d9c" class="lf lg iq lb b gy lh li l lj lk">&lt;?php<br/>$x_64 = 9223372036854775807;<br/>$y_64 = 9223372036854775808;</span><span id="17e9" class="lf lg iq lb b gy ll li l lj lk">echo "X-64: " . $x . "&lt;br&gt;";<br/>echo "Y-64: " . $y . "&lt;br&gt;";</span><span id="334c" class="lf lg iq lb b gy ll li l lj lk">?&gt;</span></pre><p id="50e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你在 64 位平台上运行，你会得到什么？$x 的结果显示正确，但$y 的结果显示不正确。</p><p id="1a0a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">x-64:9223372036854775807<br/>Y-64:92233720368548 e+18</p><p id="1049" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最大值超过了整数数据类型的存储容量，被自动转换为双精度值。double 允许您存储整数和小数类型的数字，并且比 integer 数据类型具有更大的存储容量。借助 gettype() PHP 函数，我们可以测试每个变量中存储了哪些数据类型。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e56a" class="lf lg iq lb b gy lh li l lj lk">&lt;?php<br/>$x = 2147483647;<br/>$y = 2147483648;<br/>$x_64 = 9223372036854775807;<br/>$y_64 = 9223372036854775808;</span><span id="6c96" class="lf lg iq lb b gy ll li l lj lk">echo "X32 Data Type: " . gettype($x) . "&lt;br&gt;";<br/>echo "Y32 Data Type: " . gettype($y) . "&lt;br&gt;";<br/>echo "X64 Data Type: " . gettype($x_64) . "&lt;br&gt;";<br/>echo "Y64 Data Type: " . gettype($y_64) . "&lt;br&gt;";</span><span id="c879" class="lf lg iq lb b gy ll li l lj lk">?&gt;</span></pre><p id="d709" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您运行的是 64 位操作系统，您会注意到$x、$y 和$x_64 是整数，而$y_64 是双精度数。</p><p id="97d4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">X32 数据类型:整数<br/> Y32 数据类型:整数<br/> X64 数据类型:整数<br/> Y64 数据类型:双精度</p><p id="f50b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您什么时候可能会遇到这个问题？大多数 PHP 应用程序都有某种数据库访问。我们将在稍后讨论数据库，但是现在，把它们想象成 excel 表格。您可以将数据存储到其中，然后从其中检索信息。您将指定在每个单元格中存储什么类型的数据，以及数据库限制对该单元格的访问。如果你指定你存储的是一个整数，而你试图存储一个双精度数，那么它会从数字中去掉所有的小数点。</p><p id="72df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">根据在线讨论板上不断出现的问题，我不得不说，相当多的开发人员已经指定，当他们在数据库中存储电话号码时，他们将存储一个整数值。</p><p id="b04d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您继续将数千个电话号码添加到数据库中，并且您很快意识到其中大多数已经被转换为 2147483647。如果您不知道您的数据库使用了 32 位架构，您将会完全不知所措。</p><p id="a12c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看看 32 位系统的最大整数值；它类似于一个电话号码。</p><blockquote class="mi"><p id="d9e2" class="mj mk iq bd ml mm mn mo mp mq mr kv dk">214-748-3647</p></blockquote><p id="1b75" class="pw-post-body-paragraph jy jz iq ka b kb ms kd ke kf mt kh ki kj mu kl km kn mv kp kq kr mw kt ku kv ij bi translated">如果您尝试添加一个电话号码，如 555555555，您会看到实际存储的号码是 2147483647。是的，那真的很糟糕。为了确保不会发生这种情况，请在数据库中查找为该特定单元格设置的数据类型的最大值，并验证它实际上可以支持您的输入。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="mz my l"/></div></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><div class="kw kx ky kz gt nh"><a href="https://github.com/dinocajic/php-7-youtube-tutorials" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd ir gy z fp nm fr fs nn fu fw ip bi translated">dinocajic/PHP-7-YouTube-教程</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">PHP 7.x YouTube 教程的代码。</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">github.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv jw nh"/></div></div></a></div></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b3c4a5a9945bf3e564ed1d2cf9f7ab3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ujTqa6nHRhb8wtv5.jpeg"/></div></div></figure><p id="71c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迪诺·卡伊奇目前是<a class="ae nw" href="https://www.lsbio.com/" rel="noopener ugc nofollow" target="_blank"> LSBio(生命周期生物科学公司)</a>、<a class="ae nw" href="https://absoluteantibody.com/" rel="noopener ugc nofollow" target="_blank">绝对抗体</a>、<a class="ae nw" href="https://www.kerafast.com/" rel="noopener ugc nofollow" target="_blank"> Kerafast </a>、<a class="ae nw" href="https://everestbiotech.com/" rel="noopener ugc nofollow" target="_blank">珠穆朗玛生物</a>、<a class="ae nw" href="https://www.nordicmubio.com/" rel="noopener ugc nofollow" target="_blank">北欧 MUbio </a>和<a class="ae nw" href="https://www.exalpha.com/" rel="noopener ugc nofollow" target="_blank"> Exalpha </a>的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。</p><p id="ede8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae nw" href="https://www.linkedin.com/in/dinocajic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系他，在<a class="ae nw" href="https://instagram.com/think.dino" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上关注他，或者<a class="ae nw" href="https://dinocajic.medium.com/subscribe" rel="noopener">订阅他的媒体出版物</a>。</p><p id="d01b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae nw" href="https://dinocajic.medium.com/membership" rel="noopener"> <em class="nx">阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。</em> </a></p></div></div>    
</body>
</html>