<html>
<head>
<title>NodeJS — Make Your API Response Nicely</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NodeJS——让您的 API 响应更加完美</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/nodejs-make-your-api-response-nicely-f562f78cb67?source=collection_archive---------1-----------------------#2020-07-04">https://blog.devgenius.io/nodejs-make-your-api-response-nicely-f562f78cb67?source=collection_archive---------1-----------------------#2020-07-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/25a4233424750520e8a25a741df67314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*00eZ4ki5zqBTxsrUXZPQuw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">响应良好的 API</figcaption></figure><p id="62d5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">嗨，朋友们，已经有一段时间没有用媒体写作了。我们来谈谈 NodeJS 中的 API，好吗？</p><h1 id="ff92" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">遵循这篇文章的要求</h1><ol class=""><li id="5dad" class="lv lw in kb b kc lx kg ly kk lz ko ma ks mb kw mc md me mf bi translated">非常基础的 JavaScript。</li><li id="5731" class="lv lw in kb b kc mg kg mh kk mi ko mj ks mk kw mc md me mf bi translated">非常基础的 NodeJS / ExpressJS。</li><li id="0f4f" class="lv lw in kb b kc mg kg mh kk mi ko mj ks mk kw mc md me mf bi translated">非常基础的 API。</li></ol><h1 id="caa0" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">跟随本文的必备工具</h1><h2 id="d702" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">1.NodeJS</h2><p id="c149" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">重要的是<strong class="kb io"> NodeJS </strong>本身，你可以在这里下载(【https://nodejs.org/en】T2)。我推荐安装<strong class="kb io"> LTS </strong>版本，我目前用的是 v12.2.0 <em class="nb">。</em></p><h2 id="42e6" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">2.邮递员</h2><p id="baec" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">Postman 是一个强大而友好的用户界面应用程序，可以在这里下载(<a class="ae na" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank">https://www.postman.com</a>)。</p><h2 id="78c1" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">3.文字编辑器</h2><p id="7860" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">有很多文本编辑器，我更喜欢使用可以在这里下载的<strong class="kb io">vs code</strong>(<a class="ae na" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com</a>)。<br/>如果你想使用像<strong class="kb io"> Sublime Text </strong>或<strong class="kb io"> Atom 这样的文本编辑器，没关系，</strong>只需选择适合你的工具。</p></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="3779" class="kx ky in bd kz la nj lc ld le nk lg lh li nl lk ll lm nm lo lp lq nn ls lt lu bi translated"><strong class="ak">我为什么写这篇文章</strong></h1><p id="1e20" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">你猜怎么着我只是厌倦了一次又一次地用同一个对象制作响应 API，这就像重复你以前已经做过的那样，顺便说一句，那并不好，但我做到了。多么讽刺的哈哈。不过是很久以前的事了。</p><p id="8722" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">让我们看看下面的响应 API，我有用户数据，其中包含:</p><figure class="np nq nr ns gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/529f2110c017cfabcfc0477d359ec2fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CyPu7x5im382NbL9U08zjQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">示例响应</figcaption></figure><p id="48c1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">好了，数据没问题。但是，假设您有一个更大的应用程序，您必须有一个动态消息，当您到达某个端点时会发出，可能您需要一个状态代码，也可能您需要验证或错误对象，最后可能是，您想要配置发送到客户端的数据对象？嗯，你想象一下，如果你像这样编码:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="717d" class="ml ky in nu b gy ny nz l oa ob">res.json({code: 200, someKey: "someData", data: { someData: "word" }})</span></pre><p id="7224" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">那很好，但是如果你有很多端点呢？那会很累，对吧？你一遍又一遍地写同样的代码。</p><p id="6e84" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">这篇文章对于处理那些这样的事情来说派上用场了。你还在等什么？让我们向下滚动！</strong></p></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="1803" class="kx ky in bd kz la nj lc ld le nk lg lh li nl lk ll lm nm lo lp lq nn ls lt lu bi translated">让我们开始吧</h1><p id="03b0" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">让我们假设你已经在你的机器上安装了这三样东西。</p><h2 id="f1b1" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">1.在文本编辑器中创建一个文件夹</h2><p id="fda7" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">在你的本地机器上创建一个文件夹，你想取什么名字都行，但我只称它为<strong class="kb io"> response-api。</strong></p><h2 id="45a0" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">2.初始化 package.json</h2><p id="bfad" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">什么是<strong class="kb io"> package.json？</strong>简单来说，<strong class="kb io"> </strong>就是一个包含你 app 信息的文件。要初始化<strong class="kb io"> package.json </strong>，只需在您的终端/ CMD 中键入以下代码:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="baf3" class="ml ky in nu b gy ny nz l oa ob">npm init -y</span></pre><h2 id="649e" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated"><strong class="ak"> 3。安装 ExpressJS </strong></h2><p id="fa9f" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">在这里，我们将安装 ExpressJS，为此只需运行以下代码:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="1f80" class="ml ky in nu b gy ny nz l oa ob">npm install express</span></pre><h2 id="da18" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">4.安装 Nodemon</h2><p id="225a" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">什么是<strong class="kb io"> Nodemon？Nodemon </strong>是一个会自动重启服务器的包，如果我们不使用它，我们会一遍又一遍地重新运行服务器。要安装<strong class="kb io"> Nodemon </strong>，只需键入如下内容:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="10aa" class="ml ky in nu b gy ny nz l oa ob">npm install -D nodemon</span></pre><p id="2f3a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="nb"/><strong class="kb io"><em class="nb">-D</em></strong><em class="nb">命令代表将我们的包安装到</em><strong class="kb io"><em class="nb">package . JSON .</em></strong>中的 DevDependencies 中</p><p id="b092" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果您已经完成了这 4 个步骤，那么您将让<strong class="kb io"> package.json </strong>包含:</p><figure class="np nq nr ns gt jo gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/61810953c31b36977dff82d3d66ad57e.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*cfdj4e1cD91vf21eP9IJZg.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">package.json</figcaption></figure><h2 id="663a" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">5.配置 package.json 文件</h2><p id="24b2" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">转到<strong class="kb io"> package.json </strong>用下面的代码复制并替换“<strong class="kb io">脚本</strong>对象:</p><figure class="np nq nr ns gt jo"><div class="bz fp l di"><div class="od oe l"/></div></figure></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="add5" class="kx ky in bd kz la nj lc ld le nk lg lh li nl lk ll lm nm lo lp lq nn ls lt lu bi translated">让我们编码</h1><h2 id="859c" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">6.在 server.js 文件中编写代码</h2><p id="586f" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">在<strong class="kb io"> server.js </strong>文件中，键入以下代码:</p><figure class="np nq nr ns gt jo"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="c798" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">通过键入以下命令运行服务器:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="a5b8" class="ml ky in nu b gy ny nz l oa ob">// if you configuring package.json in step 5, you can<br/>npm run server</span><span id="05be" class="ml ky in nu b gy of nz l oa ob">// or if you do not, you can simply<br/>nodemon server</span></pre><p id="acc8" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是结果，这意味着，服务器正在运行。很好。</p><figure class="np nq nr ns gt jo gh gi paragraph-image"><div class="gh gi og"><img src="../Images/55df56301e5dda849bda09a7b40f08b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*HOYh41Tkr7Csno47ICz-5g.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">服务器正在运行</figcaption></figure><h2 id="a0eb" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">7.生成 responseApi.js 文件</h2><p id="0361" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">这是本文中的主要文件。不过，在根文件夹中，创建一个<strong class="kb io"> responseApi.js </strong>文件。在下面键入代码，或者你只是复制粘贴代码。</p><figure class="np nq nr ns gt jo"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="b8f2" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">好的，我将解释一下<strong class="kb io"> responseApi.js </strong>文件。</p><h2 id="c8b0" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">成功响应代码</h2><figure class="np nq nr ns gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oh"><img src="../Images/6c22783e75013620bd9be812fc7e2368.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*1_vHzZtgOMG0dIRgXzHmuw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">导出成功函数</figcaption></figure><p id="a2b2" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在这段代码中，我们创建了一个名为 success 的导出函数，用于返回一个<strong class="kb io">成功响应</strong>对象。这些对象包含一个字符串形式的<strong class="kb io">消息</strong>，错误<strong class="kb io">为布尔值，<strong class="kb io">代码</strong>为数字，<strong class="kb io">结果</strong>可以是我们发送的对象或数据数组。该函数的参数在代码注释中是不言自明的。</strong></p><h2 id="df62" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">错误响应代码</h2><figure class="np nq nr ns gt jo gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/57634011efdfb9fa6d87509f326e5855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*fqO16KNzDC6XOS1ytCxEVQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">导出的误差函数</figcaption></figure><p id="088a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在这段代码中，我们创建了一个名为 error 的导出函数，用于返回一个<strong class="kb io">错误响应</strong>对象，该对象包含一个字符串形式的<strong class="kb io">消息</strong>，<strong class="kb io">错误</strong>为布尔值，<strong class="kb io">代码</strong>为数字，没有<strong class="kb io">结果</strong>对象。为什么没有结果对象？因为错误只是为了传递一个信息，对吗？用户只是想知道服务器是否有任何错误，如“<em class="nb">出错，请联系服务器管理员</em>”，而不是读取服务器发送的对象。我希望这有意义，其余的在代码中解释。</p><h2 id="a1c5" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">验证响应代码</h2><figure class="np nq nr ns gt jo gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/c1557baeb3efa3613cb09433bff13d10.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*K4t3C3ceZDBqqZSZXycLLw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">导出的验证函数</figcaption></figure><p id="ede5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">上面的最后一段代码，用于捕捉来自服务器的任何验证请求，对象响应与上面的<strong class="kb io">成功响应</strong>相同，不同之处在于包含的<strong class="kb io">错误</strong>对象。但是，这个函数只接受一个参数，即包含验证/错误的对象或数组的<strong class="kb io">错误</strong>。</p><h2 id="f94f" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">8.在 server.js 中创建端点</h2><p id="3f1d" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">回到 server.js 文件并制作端点，该端点包含:</p><ul class=""><li id="6824" class="lv lw in kb b kc kd kg kh kk ok ko ol ks om kw on md me mf bi translated">成功</li><li id="df21" class="lv lw in kb b kc mg kg mh kk mi ko mj ks mk kw on md me mf bi translated">错误</li><li id="0e56" class="lv lw in kb b kc mg kg mh kk mi ko mj ks mk kw on md me mf bi translated">确认</li></ul><p id="3a64" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在<strong class="kb io"> server.js </strong>中编写上面的代码<strong class="kb io"> <em class="nb"> app.listen() </em> </strong></p><figure class="np nq nr ns gt jo"><div class="bz fp l di"><div class="od oe l"/></div></figure><blockquote class="oo op oq"><p id="85fe" class="jz ka nb kb b kc kd ke kf kg kh ki kj or kl km kn os kp kq kr ot kt ku kv kw ig bi translated"><strong class="kb io">注意，</strong>这些函数中的三个来自<strong class="kb io"> responseApi。JS </strong>必须包装在<strong class="kb io"> json()中，</strong>只是为了返回 json 类型。</p></blockquote><h2 id="1d4d" class="ml ky in bd kz mm mn dn ld mo mp dp lh kk mq mr ll ko ms mt lp ks mu mv lt mw bi translated">9.在邮递员中测试</h2><p id="05ad" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">打开你已经安装的邮递员应用程序。</p><p id="c88b" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">成功端点，</strong>输入正在运行的 ExpressJS 的主机，我正在运行端口 5000，所以可以输入<strong class="kb io"><em class="nb">http://localhost:5000/API/Success</em></strong><em class="nb"/>，点击<strong class="kb io">发送</strong>按钮<em class="nb">。回应会是这样的:</em></p><figure class="np nq nr ns gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ou"><img src="../Images/dac30be5fae2f2cd585380175ae1f491.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z80-fGDepPlV-1BMUjeheg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">成功响应</figcaption></figure><p id="aed7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">错误端点，</strong>这样我就可以键入<a class="ae na" href="http://localhost:5000/api/success" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="nb">http://localhost:5000/API/</em></strong></a><strong class="kb io"><em class="nb">错误</em> </strong>并点击<strong class="kb io">发送</strong>按钮<em class="nb">。</em>响应如下:</p><figure class="np nq nr ns gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ov"><img src="../Images/afeb8b66dea7e1948d7d25214e71ece1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yeOBShf1vYivxx-Da9PIkw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">错误响应</figcaption></figure><p id="aab5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">验证端点，</strong>我可以输入<a class="ae na" href="http://localhost:5000/api/success" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="nb">http://localhost:5000/API/</em></strong></a><strong class="kb io"><em class="nb">验证</em> </strong>并点击<strong class="kb io">发送</strong>按钮<em class="nb">。</em>响应将是这样的:</p><figure class="np nq nr ns gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ow"><img src="../Images/be9e5c5ff8859b7a2374128550883c11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SlFrLWhccN0Sujr6YBD85g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">验证响应</figcaption></figure><p id="1e51" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">看到结果了吗？我们在响应中生成了 3 或 4 个对象，而没有一遍又一遍地写，这很好，对吗？你不必在不同的端点再写一遍。现在您只需调用<strong class="kb io"> responseApi.js </strong>并获得<strong class="kb io">成功()</strong>、<strong class="kb io">错误()</strong>和<strong class="kb io">验证()</strong>。</p><p id="b5f1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">好了，app 已经完成了。哦，对了，还有一件事，如果你想修改代码，创建一个全功能的端点，这里是它的示例代码。</p><p id="c71e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">示例代码</strong></p><figure class="np nq nr ns gt jo"><div class="bz fp l di"><div class="od oe l"/></div></figure></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="e706" class="kx ky in bd kz la nj lc ld le nk lg lh li nl lk ll lm nm lo lp lq nn ls lt lu bi translated">结论</h1><p id="46b4" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk mx km kn ko my kq kr ks mz ku kv kw ig bi translated">就这样，我们制作了一个 express app，它有更多的<strong class="kb io">结构化的</strong>和<strong class="kb io">可读的</strong>响应 API，这只是我对制作一个具有一致性的响应 API 的看法。所以这取决于你。</p><p id="ad65" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">您可以在 GitHub 中访问或贡献应用程序。也许你们对这个<strong class="kb io"> responseApi.js </strong>有更好的想法，告诉我。谢谢，下一篇文章再见。</p><p id="3506" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是 GitHub 库:</p><div class="ox oy gp gr oz pa"><a href="https://github.com/hudaprs/be_response_api_nodejs" rel="noopener  ugc nofollow" target="_blank"><div class="pb ab fo"><div class="pc ab pd cl cj pe"><h2 class="bd io gy z fp pf fr fs pg fu fw im bi translated">hudaprs/be_response_api_nodejs</h2><div class="ph l"><h3 class="bd b gy z fp pf fr fs pg fu fw dk translated">结构化节点响应 API。通过在…上创建帐户，为 hudaprs/be_response_api_nodejs 开发做出贡献</h3></div><div class="pi l"><p class="bd b dl z fp pf fr fs pg fu fw dk translated">github.com</p></div></div><div class="pj l"><div class="pk l pl pm pn pj po jt pa"/></div></div></a></div></div></div>    
</body>
</html>