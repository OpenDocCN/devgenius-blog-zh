# åœ¨ Win10 ä¸Šå®‰è£… Laravel 8 . x with Homestead(VirtualBox)

> åŸæ–‡ï¼š<https://blog.devgenius.io/install-laravel-8-x-on-win-10-with-homestead-virtualbox-ec996f9a2cb6?source=collection_archive---------0----------------------->

L aravel æ˜¯ç”± Taylor Otwell åˆ›å»ºçš„æœ€æµè¡Œçš„å¼€æº PHP MVC æ¡†æ¶ã€‚Laravel çš„å½“å‰ç‰ˆæœ¬æ˜¯ 8.xã€‚æ‚¨å¯èƒ½æ˜¯ Windows dev æœºå™¨çš„ XAMPP è¿·ã€‚ä½†æ˜¯ï¼Œåœ¨å¼€å‘ä¾‹ç¨‹ä¸­ï¼Œæ‚¨å¯èƒ½å¶å°”ä¼šå¬åˆ°â€œåœ¨æˆ‘çš„æœºå™¨ä¸Šå·¥ä½œâ€çš„å€Ÿå£ã€‚

[**å®¶å›­**](https://laravel.com/docs/8.x/homestead) æ˜¯å®˜æ–¹çš„ Laravel åŒ…ï¼Œé€šè¿‡åˆ©ç”¨è™šæ‹Ÿæœºå’Œ [*æµæµªè€…*](https://www.vagrantup.com/) è‡ªåŠ¨åŒ–è„šæœ¬çš„åŠ›é‡æ¥å¸®åŠ©ä½ è§£å†³è¿™ä¸ªå¯æ€•çš„æ—¶åˆ»ã€‚æ‰€ä»¥ï¼Œä½ æ‰€æœ‰çš„é˜Ÿå‹éƒ½ä¼šä¸€ç›´åœ¨åŒä¸€ä¸ªç¯å¢ƒé‡Œï¼

ã€4 æœˆ 21 æ—¥æ›´æ–° 5:ç°åœ¨åº•éƒ¨æœ‰ Youtube æ¼”ç¤ºè§†é¢‘ï¼ã€‘

è¯·ç¡®ä¿æ‚¨çš„ Windows ä¸Šå®‰è£…äº†ä»¥ä¸‹è½¯ä»¶:

*   Git(ä¸‹è½½[é“¾æ¥](https://git-scm.com/downloads)
*   VirtualBox(ä¸‹è½½[å¹³å°&æ‰©å±•åŒ…](https://www.virtualbox.org/wiki/Downloads)
*   æµæµªæ±‰(ä¸‹è½½[é“¾æ¥](https://www.vagrantup.com/downloads)
*   PuTTY(ä¸‹è½½[é“¾æ¥](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)
*   HeidiSQL(ä¸‹è½½[é“¾æ¥](https://www.heidisql.com/download.php)
*   VS ä»£ç (ä¸‹è½½[é“¾æ¥](https://code.visualstudio.com/)

![](img/865ef0cab481cbd231f45c4c7c448094.png)

å®¶å›­è®¾ç½®æ¦‚è§ˆå›¾

# 1.é¥­æ¡¶

é€šå¸¸ï¼Œåªéœ€éµå¾ªå®‰è£…å‘å¯¼(æ¥å—é»˜è®¤é€‰é¡¹)å¹¶å®Œæˆå®‰è£…ã€‚

![](img/0b0c29290ad3337399a86bbc635ffa77.png)

å¯¹äºåˆå­¦è€…ï¼Œæ¨è Nano ç¼–è¾‘å™¨ã€‚

> ä½ å¯èƒ½ä¼šæ³¨æ„åˆ° *Git* åœ¨ä¸Šå›¾ä¸­æ²¡æœ‰æåˆ°ï¼Œä½†æ˜¯å®ƒæ˜¯ä½ æ—¥å¸¸å¼€å‘ç¨‹åºèƒŒåçš„ä¸€ä¸ªé‡è¦è½¯ä»¶ã€‚

# 1.1 ç”Ÿæˆæ‚¨çš„ SSH å¯†é’¥

> æ³¨æ„:å¦‚æœæ‚¨ä¹‹å‰å·²ç»åˆ›å»ºäº† SSH å¯†é’¥å¯¹ï¼Œè¯·è·³è¿‡è¿™ä¸€æ­¥ã€‚

ä½¿ç”¨ RSA ç®—æ³•ï¼Œä¸ºäº†æ›´å¥½åœ°å…¼å®¹ä¸åŒç³»ç»Ÿï¼Œ
æ‰§è¡Œæ­¤å‘½ä»¤:
`ssh-keygen -t rsa -b 4096 -C â€œyour_email@example.comâ€`

å¼ºçƒˆå»ºè®®ä½¿ç”¨å¯†ç ï¼Œä½†ä¸è¦å¿˜è®°ğŸ˜‰

![](img/7b14a13f34d7f709db879d6a8cfe6bbc.png)

".sshâ€æ–‡ä»¶å¤¹æ˜¯ç”¨ä½äºå…¶ä¸­çš„å…¬é’¥å’Œç§é’¥åˆ›å»ºçš„

# 1.2 IDE å’Œå®ç”¨ç¨‹åº

å®‰è£… VS ä»£ç ï¼ŒPuTTYï¼ŒHeidiSQLï¼ŒSourceTree ä»¥åŠæ‰€æœ‰ä½ å–œæ¬¢çš„å¼€å‘å·¥å…·ã€‚

# 2.VirtualBox

ä½¿ç”¨é»˜è®¤é€‰é¡¹å®‰è£…ä¸»å¹³å°ï¼Œç„¶åæ·»åŠ æ‰©å±•ã€‚

![](img/4891269c87463a615fed361f5a1350fa.png)

é€šè¿‡æ–‡ä»¶èœå•>é¦–é€‰é¡¹>æ‰©å±•å®‰è£…

# 3.æ— èµ–

å®‰è£…å¹¶éµå¾ªå®‰è£…å‘å¯¼ï¼Œç„¶ååœ¨å®‰è£…å®Œæˆåé‡æ–°å¯åŠ¨ã€‚

![](img/146d9a7afef89844c30d699c2481be5a.png)

åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­é”®å…¥â€œvagger â€,ç„¶åæ‚¨åº”è¯¥ä¼šçœ‹åˆ°è¾“å‡º

# 3.1 æµæµª NFS æ’ä»¶

å®‰è£… NFS æ’ä»¶ä»¥æé«˜æ˜ å°„æ–‡ä»¶å¤¹çš„æ€§èƒ½ã€‚

```
vagrant plugin install vagrant-winnfsd
```

> æ³¨æ„:å¦‚æœæ²¡æœ‰ NFSï¼Œæ‚¨å¯èƒ½ä¼šåœ¨å®‰è£… composer è½¯ä»¶åŒ…
> [https://www.virtualbox.org/ticket/18776](https://www.virtualbox.org/ticket/18776)
> æ—¶é‡åˆ°æ˜ å°„æ–‡ä»¶å¤¹çš„é—®é¢˜ï¼Œæˆ–è€…ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ [stackoverflow](https://stackoverflow.com/a/63139337/9104189) ä¸­çš„å»ºè®®é™çº§åˆ° VirtualBox 6.0.4ã€‚

# 4.å®‰è£…å®¶å›­

> æç¤º:è¯·å§‹ç»ˆå‚è€ƒæœ€æ–°çš„å®˜æ–¹æ–‡ä»¶[https://laravel.com/docs/8.x/homestead](https://laravel.com/docs/8.x/homestead)

ä»å¼€å§‹èœå•å¯åŠ¨ä½ çš„ *Git Bash* ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤
`git clone https://github.com/laravel/homestead.git ~/Homestead`

![](img/f710d60400b3379a7d535e4dc37cb7b2.png)

â€œå®¶å›­â€æ–‡ä»¶å¤¹æ˜¯åœ¨æ‚¨çš„ç”¨æˆ·ç›®å½•ä¸­åˆ›å»ºçš„

ç„¶åç»“è´¦`release`åˆ†æ”¯
`cd ~/Homestead`
`git checkout release`

# 4.1 ä¸‹è½½å®¶å›­æµæµªç®±

åœ¨ Windows å‘½ä»¤æç¤ºç¬¦ä¸‹æ‰§è¡Œ
å‘½ä»¤`vagrant box add laravel/homestead`

![](img/603fbbc66b3a1c6f4a0c49b4ba1272fc.png)

ä¸º VirtualBox é€‰æ‹© 2

> ä½ å¯èƒ½ä¼šé‡åˆ°ä¸‹è½½é€Ÿåº¦ææ…¢çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘åˆ›å»ºäº†ç›’å­çš„é•œåƒ(v11.3.0 & v11.4.0)å¯ä»¥ä»æˆ‘çš„ [Google Drive](http://bit.ly/3l2HvKi) ä¸‹è½½ã€‚
> a)æå–å†…å®¹åˆ°`C:\Users\<username>\.vagrant.d\boxes` b)ç„¶åé€šè¿‡å‘½ä»¤è¿›è¡ŒéªŒè¯:`vagrant box list`

![](img/ab1713a315a6ba6ff7348b0463a62083.png)

éªŒè¯æ˜¯å¦ä¸‹è½½äº†å®¶å›­ç›’

# 4.2 é…ç½®å®…åŸºåœ°

åŒå‡»å¹¶æ‰§è¡Œ Homestead æ–‡ä»¶å¤¹ä¸­çš„`init.bat`

![](img/a0e0a7f3ac7ecb9dbbf6bb01986663fc.png)

ç”¨ä½ æœ€å–œæ¬¢çš„ç¼–è¾‘å™¨ç¼–è¾‘`Homestead.yaml`

![](img/f99a7053a4938dbc851acd0306f28e08.png)

ç¬¬ä¸€éƒ¨åˆ†:è™šæ‹Ÿæœºè§„èŒƒ

![](img/e2fcbc13225fe9310752395784224a12.png)

ç¬¬äºŒéƒ¨åˆ†:SSH å¯†é’¥å¯¹

> æ‚¨å¿…é¡»åˆ›å»ºè¦æ˜ å°„åˆ°è™šæ‹Ÿæœºçš„å…±äº«æ–‡ä»¶å¤¹ã€‚
> ä¾‹å¦‚`*C:\Users\john\****code***` æ³¨æ„:å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦ï¼Œè¯·ç”¨å¼•å·æ‹¬èµ·æ¥

![](img/c30c68e3e55d5716041284fe02e02d85.png)

ç¬¬ä¸‰éƒ¨åˆ†:å…±äº«æ–‡ä»¶å¤¹æ˜ å°„

> æ³¨æ„:ä¸ºäº†åœ¨ Linux å’Œ Windows ç¯å¢ƒä¸­è·å¾—æœ€å¥½çš„å…¼å®¹æ€§ï¼Œæ€»æ˜¯æ¨èä½¿ç”¨å°å†™å­—æ¯

![](img/f20f139d4855d46cbb55dd1581c94dc3.png)

ç¬¬å››éƒ¨åˆ†:Nginxã€MySQL å’Œç‰¹æ€§è®¾ç½®

> ç¡®ä¿`mysql`åŠŸèƒ½è®¾ç½®ä¸º`true`ï¼Œå¹¶ä¿å­˜`Homestead.yaml`ã€‚
> 
> ã€æ›´æ–°:2021 å¹´ 3 æœˆ 29 æ—¥ã€‘
> ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æŒ‡å—è°ˆåˆ°äº†`Homestead.yaml`
> [https://abbasharoon.me/homestead-yaml-explained-a-z/](https://abbasharoon.me/homestead-yaml-explained-a-z/)

ç¼–è¾‘æ‚¨çš„ä¸»æœºæ–‡ä»¶ä»¥åŒ¹é…æ‚¨çš„æœ¬åœ°åŸŸ
ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œæ‚¨çš„è®°äº‹æœ¬ï¼Œç„¶åæ‰“å¼€æ–‡ä»¶`C:\Windows\System32\drivers\etc\hosts`

![](img/e82ff1ba7f6d55c5b53f9a22d766c2e4.png)

ç¡®ä¿ IP å’Œæœ¬åœ°åŸŸä¸ Homestead.yaml æ–‡ä»¶åŒ¹é…

# 5.å¯åŠ¨ä½ çš„å®¶å›­ï¼

å°†ç›®å½•`cd`æ”¹ä¸ºä½ çš„`Homestead`ç›®å½•
ä¾‹å¦‚`cd C:\Users\<username>\Homestead`
åœ¨ä½ çš„å‘½ä»¤æç¤ºç¬¦ä¸‹æ‰§è¡Œ`vagrant up`

> æ³¨æ„:æ‚¨å¿…é¡»åœ¨`Vagrantfile`ç›®å½•ä¸‹æ‰§è¡Œæ‚¨çš„`vagrant up`å‘½ä»¤

![](img/b8d58150e58a687638434035f8889214.png)

ç¬¬ä¸€æ¬¡å¯åŠ¨éœ€è¦ä¸€äº›æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…â€¦

> æ³¨:å¦‚æœæ‚¨é‡åˆ°`VERR_INTNET_FLT_IF_NOT_FOUND`é”™è¯¯ï¼Œè¯·è½¬åˆ°è®¾å¤‡ç®¡ç†å™¨ç¦ç”¨ï¼Œç„¶åå¯ç”¨ VirtualBox é€‚é…å™¨ã€‚

> âš ï¸å¯¹äºé‚£äº›çœ‹åˆ°è¿™ä¸ªé”™è¯¯æ¶ˆæ¯çš„äºº:âš ï¸
> â€œèµ„æºåº“â€˜https://deb . node source . com/node _ 14 . x focal releaseâ€™ä¸å†æœ‰å‘å¸ƒæ–‡ä»¶ã€‚â€ã€‚
> 
> è¯·å‚è€ƒè¿™ä¸ª:[https://github . com/laravel/homestead/issues/1707 # issue comment-933536900](https://github.com/laravel/homestead/issues/1707#issuecomment-933536900)

# 6.é€šè¿‡ SSH è¿æ¥æ‚¨çš„å®¶å›­

![](img/014b8b052cff9d009b6cbe6893b323fa.png)

ç”¨ä½ çš„ IP æˆ–æœ¬åœ°åŸŸåè¿æ¥åˆ°ä½ çš„å®¶å›­

æ‚¨å¯ä»¥é€šè¿‡ç”¨æˆ·å(`*vagrant*` ) &å¯†ç (`*vagrant*`)è¿›è¡Œè¿æ¥

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡ SSH å¯†é’¥è¿æ¥

![](img/915d93609e6edafc2e9af074da88db3a.png)

> æ‚¨å¿…é¡»ä½¿ç”¨â€œPuTTYgenâ€
> å°†æ‚¨çš„ SSH å¯†é’¥è½¬æ¢ä¸º PuTTY æ ¼å¼ a)ä»å¼€å§‹èœå•
> æ‰“å¼€â€œPuTTYgenâ€b)ä»ç¨‹åºèœå•ï¼Œè½¬æ¢>å¯¼å…¥å¯†é’¥
> c)é€‰æ‹©ç§é’¥(å®ƒåº”è¯¥åœ¨ C:\Users\ < username > \ã€‚ssh\id_rsa)
> d)ç‚¹å‡»â€œä¿å­˜ç§é’¥â€
> e)ç”¨ **id_rsa.ppk** ( **ä¸è¦è¦†ç›–**å·²æœ‰çš„ç§é’¥ï¼)

![](img/1172a988ba31762f0a69ee542881cbb9.png)

æˆåŠŸè¿æ¥å®¶å›­

# 7.é€šè¿‡ SSH éš§é“è¿æ¥æ‚¨çš„ MySQL

a)æ‰“å¼€ HeidiSQL >å•å‡»â€œæ–°å»ºâ€åˆ›å»ºæ–°ä¼šè¯

b)å•å‡»â€œSSH éš§é“â€é€‰é¡¹å¡

> ä½¿ç”¨ç”¨æˆ·å(`*vagrant*` ) &)å¯†ç (`*vagrant*`)æˆ–æ‚¨çš„ç§é’¥è¿›è¡Œè¿æ¥

![](img/2cc5c8469f511ffa22e3d7aa69456069.png)

ä½¿ç”¨å¸¦ç§é’¥çš„ SSH éš§é“

c)å•å‡» MySQL(æˆ– MariaDB)å‡­è¯çš„â€œè®¾ç½®â€é€‰é¡¹å¡

> ä½¿ç”¨ç”¨æˆ·å(`*homestead*` ) &å¯†ç (`*secret*`)è¿æ¥

d)é€šè¿‡å³é”®å•å‡»ä¼šè¯>é‡å‘½åæ¥é‡å‘½åæ‚¨çš„ä¼šè¯

e)æœ€åï¼Œç‚¹å‡»â€œä¿å­˜â€

![](img/31bea5a63ccdb59c30139f5e2df10a32.png)

ç‚¹å‡»â€œæ‰“å¼€â€,ä½ åº”è¯¥å¯ä»¥åœ¨ Homestead è™šæ‹Ÿæœºä¸­è¿æ¥ MySQL äº†

![](img/a941ab12a62f5c779d8f76c950dc02d1.png)

åœ¨ Homestead.yaml ä¸­é…ç½®çš„æ•°æ®åº“å·²åˆ›å»º

# 8.å®‰è£… Laravel 8.x

é€šè¿‡ PuTTY ç™»å½•ï¼Œå¹¶åœ¨`cd code`ä¹‹å‰è½¬åˆ°æ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹

**é€‰é¡¹ 1:é€šè¿‡ Composer å®‰è£…**

```
composer create-project laravel/laravel sample
```

**é€‰é¡¹ 2:é€šè¿‡ Laravel å®‰è£…ç¨‹åºå®‰è£…(æ¨è)**

```
composer global update laravel/installerlaravel new sample
```

> æç¤º:å¦‚æœæ‚¨ç¼–è¾‘äº†æ‚¨çš„`Homestead.yaml`ï¼Œæ‚¨å¯ä»¥è¿è¡Œ`vagrant provision`æ¥åº”ç”¨æ‚¨çš„æ–°é…ç½®
> 
> æç¤º:å¦‚æœæ‚¨é¢ä¸´ä»»ä½•æ€§èƒ½é—®é¢˜ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ`*vagrant reload*`æ¥å°è¯•é‡å¯ Homestead VM

ä¸€æ—¦å®‰è£…å®Œæˆï¼Œ`cd sample`ç„¶åè¿è¡Œ`php artisan --version`

![](img/88fb121cf687843365f4984aca1ef22d.png)

# 8.1 åœ¨å¼€å‘å‰æ›´æ–°æ‚¨çš„`.env`

![](img/7af4d4c55fb454a4431598be1529606d.png)

åœ¨ä¸­æ›´æ–°æ‚¨çš„æ•°æ®åº“é…ç½®ã€‚é¡¹ç›®æ ¹ç›®å½•ä¸­çš„ env æ–‡ä»¶

# 9.ç¼–ç å¿«ä¹ï¼

Git æäº¤æ‚¨çš„å…¨æ–°å®‰è£…ï¼Œç„¶åç”¨ VSCode/PhpStorm æ‰“å¼€æ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¼€å§‹æ‚¨çš„ Artisan ä¹‹æ—…ï¼

![](img/1b263f1ee5235931b4a3cd2e80ebe7c6.png)

é”®å…¥æ‚¨çš„æœ¬åœ°åŸŸï¼Œç„¶åæ‚¨åº”è¯¥ä¼šçœ‹åˆ° Laravel æ¬¢è¿é¡µé¢

> æç¤º:åœ¨ä½ å…³é—­çª—å£ä¹‹å‰ï¼Œè®°å¾—è¿è¡Œ`vagrant halt`

# è§†é¢‘æ¼”ç¤º

# ä½ å‡†å¤‡å¥½æŠŠä½ çš„ç½‘ç«™æ”¾åœ¨ç½‘ä¸Šï¼Œæ¯æœˆåªéœ€ 10 ç¾å…ƒå°±å¯ä»¥æ— é™åˆ¶åœ°æ‰˜ç®¡åº”ç”¨ç¨‹åºäº†å—ï¼Ÿ

**Cloudways** æä¾›äº†å¤§é‡çš„ç‰¹æ€§ï¼Œè®©ä½ å¯ä»¥è½»æ¾æ‰˜ç®¡ä½ çš„ Laravelã€WordPress æˆ–ä»»ä½• PHP ç½‘ç«™ï¼Œè€Œä¸ç”¨æ‹…å¿ƒç½‘ç»œå®‰å…¨çš„å™©æ¢¦ã€‚

ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ BFCM 2022 æ´»åŠ¨æœŸé—´äº«å—é¢å¤–æŠ˜æ‰£ï¼

![](img/c4aa55855082de96c53455aff24930d6.png)

é“¾æ¥:[www.cloudways.com/en/?id=66136](http://www.cloudways.com/en/?id=66136)

è®©æˆ‘ä»¬å¼€å§‹å°è¯•**äº‘é“**ï¼