<html>
<head>
<title>Getting started in Natural Language Processing with spaCy: Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">spaCy自然语言处理入门:第3部分</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/getting-started-in-natural-language-processing-with-spacy-part-3-824c1b291d22?source=collection_archive---------13-----------------------#2020-06-04">https://blog.devgenius.io/getting-started-in-natural-language-processing-with-spacy-part-3-824c1b291d22?source=collection_archive---------13-----------------------#2020-06-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="cae4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个故事中，我们将重点关注词干。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a3ee50418fc6cd06fea40cfd88b930b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HTtQseukwrBiREJf8MSVcA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自Spacy.io</figcaption></figure><h2 id="5ca2" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">堵塞物</h2><p id="cac4" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">通常，当搜索文本中的某个关键词时，如果搜索返回该词的变体，会有所帮助。例如，搜索“船”也可能返回“船”和“划船”。在这里，“船”将是【船，船夫，划船，船】的<strong class="jm io">词干</strong>。</p><p id="b3ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">词干法是对相关单词进行编目的一种有些粗糙的方法；它基本上是从字母的末端开始，直到到达词干。这在大多数情况下工作得相当好，但不幸的是，英语有许多需要更复杂过程的例外。事实上，spaCy没有包含词干分析器，而是选择完全依赖于词汇化。对于那些感兴趣的人来说，这里有一些关于这个决定的背景资料。我们将在后面讨论<em class="lx">引理化</em>的优点。</p><p id="c815" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相反，我们将使用另一个流行的NLP工具，称为<strong class="jm io"> nltk </strong>，它代表<em class="lx">自然语言工具包</em>。有关nltk的更多信息，请访问<a class="ae lw" href="https://www.nltk.org/" rel="noopener ugc nofollow" target="_blank">https://www.nltk.org/</a></p><h2 id="c614" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">波特·斯特梅尔</h2><p id="8f6f" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">最常见也是最有效的词干工具之一是马丁·波特在1980年<a class="ae lw" href="https://tartarus.org/martin/PorterStemmer/def.txt" rel="noopener ugc nofollow" target="_blank"/>开发的<a class="ae lw" href="https://tartarus.org/martin/PorterStemmer/" rel="noopener ugc nofollow" target="_blank"> <em class="lx">波特算法</em> </a>。该算法采用了五个阶段的单词缩减，每个阶段都有自己的一组映射规则。在第一阶段，定义简单的后缀映射规则，例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/ca428f0d331f36630e8bf58cf11eb205.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*EzaepeAsQpa8SyEc1h9lSA.png"/></div></figure><p id="5798" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从一组给定的词干规则中，基于最长后缀S1，只应用一个规则。因此，<code class="fe lz ma mb mc b">caresses</code>减少到<code class="fe lz ma mb mc b">caress</code>而不是<code class="fe lz ma mb mc b">cares</code>。</p><p id="8ea0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">更复杂的阶段在应用规则之前考虑单词的长度/复杂性。例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi md"><img src="../Images/436558b4636e20c8facbf1f728c535c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*2cUR76NeWoPMiFsur0hQtw.png"/></div></figure><p id="ea2d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里的<code class="fe lz ma mb mc b">m&gt;0</code>描述了词干的“度量”,使得规则适用于除了最基本的词干之外的所有词干。</p><pre class="kj kk kl km gt me mc mf mg aw mh bi"><span id="cd62" class="ky kz in mc b gy mi mj l mk ml"><em class="lx"># Import the toolkit and the full Porter Stemmer library<br/></em><strong class="mc io">import</strong> nltk<br/><strong class="mc io">from</strong> nltk.stem.porter <strong class="mc io">import</strong> <strong class="mc io">*<br/></strong>In [2]:p_stemmer <strong class="mc io">=</strong> PorterStemmer()<br/>In [3]:words <strong class="mc io">=</strong> ['run','runner','running','ran','runs','easily','fairly']<br/>In [4]:<br/><strong class="mc io">for</strong> word <strong class="mc io">in</strong> words:<br/>   print(word<strong class="mc io">+</strong>' --&gt; '<strong class="mc io">+</strong>p_stemmer.stem(word))<br/>run --&gt; run<br/>runner --&gt; runner<br/>running --&gt; run<br/>ran --&gt; ran<br/>runs --&gt; run<br/>easily --&gt; easili<br/>fairly --&gt; fairli</span></pre><p id="9c65" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意词干分析器如何将“runner”识别为名词，而不是动词形式或分词。此外，副词“容易地”和“相当地”源于不寻常的词根“easili”和“fairli”</p><h2 id="4310" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">雪球斯特梅尔</h2><p id="e430" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">这有点用词不当，因为Snowball是由Martin Porter开发的词干语言的名字。这里使用的算法被更准确地称为“英国斯特梅尔”或“斯特梅尔”。它在逻辑和速度上都比最初的Porter stemmer稍有改进。由于nltk 使用了SnowballStemmer这个名称，我们将在这里使用它。</p><pre class="kj kk kl km gt me mc mf mg aw mh bi"><span id="c9ce" class="ky kz in mc b gy mi mj l mk ml">In [5]:<strong class="mc io">from</strong> nltk.stem.snowball <strong class="mc io">import</strong> SnowballStemmer<br/><em class="lx"># The Snowball Stemmer requires that you pass a language parameter<br/></em>s_stemmer <strong class="mc io">=</strong> SnowballStemmer(language<strong class="mc io">=</strong>'english')<br/>In [6]:<br/>words <strong class="mc io">=</strong> ['run','runner','running','ran','runs','easily','fairly']<br/><em class="lx"># words = ['generous','generation','generously','generate']<br/></em>In [7]:<br/><strong class="mc io">for</strong> word <strong class="mc io">in</strong> words:<br/>   print(word<strong class="mc io">+</strong>' --&gt; '<strong class="mc io">+</strong>s_stemmer.stem(word))</span><span id="906b" class="ky kz in mc b gy mm mj l mk ml">run --&gt; run<br/>runner --&gt; runner<br/>running --&gt; run<br/>ran --&gt; ran<br/>runs --&gt; run<br/>easily --&gt; easili<br/>fairly --&gt; fair</span></pre><p id="b8c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这种情况下，词干分析器的表现与波特斯特梅尔相同，只是它用“fair”更恰当地处理了“fairly”的词干</p><p id="19cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">词干有它的缺点。如果给定了标记<code class="fe lz ma mb mc b">saw</code>，词干可能总是返回<code class="fe lz ma mb mc b">saw</code>，而词汇化可能返回<code class="fe lz ma mb mc b">see</code>或<code class="fe lz ma mb mc b">saw</code>，这取决于标记是用作动词还是名词。例如，考虑以下情况:</p><pre class="kj kk kl km gt me mc mf mg aw mh bi"><span id="2c86" class="ky kz in mc b gy mi mj l mk ml">In [4]:phrase <strong class="mc io">=</strong> 'I am meeting him tomorrow at the meeting'<br/><strong class="mc io">for</strong> word <strong class="mc io">in</strong> phrase.split():<br/>   print(word<strong class="mc io">+</strong>' --&gt; '<strong class="mc io">+</strong>p_stemmer.stem(word))<br/>I --&gt; I<br/>am --&gt; am<br/>meeting --&gt; meet<br/>him --&gt; him<br/>tomorrow --&gt; tomorrow<br/>at --&gt; at<br/>the --&gt; the<br/>meeting --&gt; meet</span></pre><p id="d786" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里,“meeting”这个词出现了两次——一次作为动词，一次作为名词，但是词干分析器对两者一视同仁。</p><p id="2136" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您错过了前面的部分，以下是链接:</p><div class="mn mo gp gr mp mq"><a href="https://medium.com/dev-genius/getting-started-in-natural-language-processing-with-spacy-part-1-5026748cadc2" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">spaCy自然语言处理入门:第1部分</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">spaCy(https://spacy.io/)是一个开源的Python库，可以解析和“理解”大量的文本…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne ks mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a href="https://medium.com/@santanudutta85/getting-started-in-natural-language-processing-with-spacy-part-2-73ecb4eac11d" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">spaCy自然语言处理入门:第2部分</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">如果您错过了第1部分。如果您正在寻找基本安装、基本命令、令牌化，请查看它</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne ks mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a href="https://medium.com/@santanudutta85/getting-started-in-natural-language-processing-with-spacy-part-4-4ab7f005464" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">spaCy自然语言处理入门:第4部分</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">在这个故事中，我们将着重于词汇化和停用词</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne ks mq"/></div></div></a></div></div></div>    
</body>
</html>