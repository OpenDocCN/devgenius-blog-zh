<html>
<head>
<title>How to create a dark/light theme switch using HTML, CSS, and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用HTML、CSS和JavaScript创建暗/亮主题切换</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-create-a-dark-light-theme-switch-using-html-css-and-javascript-d8e466dcd979?source=collection_archive---------0-----------------------#2020-04-20">https://blog.devgenius.io/how-to-create-a-dark-light-theme-switch-using-html-css-and-javascript-d8e466dcd979?source=collection_archive---------0-----------------------#2020-04-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1e83" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在开始主题之前，我想告诉你为什么黑暗主题在你的网站上是必不可少的。在过去的3-5年里，黑暗模式变得很流行，因为公司开始推出这些模式，让夜间用户和亮屏用户受益。你知道黑暗模式在ios，android，windows等系统中无处不在..如果它无处不在，并不意味着你应该有一个，那么为什么它很重要。假设一些用户在晚上访问你的网站阅读一篇文章，较浅的颜色会使用户的眼睛疲劳。所以，我认为黑暗模式是每个网站必不可少的功能。</p><p id="0389" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是使用深色主题的好处:</p><ul class=""><li id="0353" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">提高了文本的可读性</li><li id="b1fc" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">更好的对比度</li><li id="330c" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">减少眼睛疲劳</li><li id="91ed" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">闪烁减少(如果存在问题)</li><li id="6a41" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">蓝光更少</li><li id="c597" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">不易引发畏光</li><li id="9227" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">可以节省少量的电力</li></ul><p id="5578" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里是我们最终项目的预览或者查看工作预览<a class="ae kw" href="https://phanendraguptha.github.io/darktheme/" rel="noopener ugc nofollow" target="_blank">这里</a></p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/69cd28477409c42226691167f9741636.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_zfIZS5ySIxbpTlYqLqN2Q.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">黑暗主题</figcaption></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ln"><img src="../Images/aa20bab5e6ed5e26566acb09ce5b8d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xMU08zAW_mNpfWmfymCrsQ.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk translated">轻音乐主题</figcaption></figure><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="6b6c" class="lt lu in lp b gy lv lw l lx ly">&lt;html&gt;<br/> &lt;head&gt;<br/>  &lt;title&gt;Dark Mode&lt;/title&gt;<br/>  &lt;link href="<a class="ae kw" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&amp;display=swap" rel="noopener ugc nofollow" target="_blank">https://fonts.googleapis.com/css2?family=Montserrat:wght@500&amp;display=swap</a>" rel="stylesheet"&gt;<br/>  &lt;link rel="stylesheet" href="./style.css"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/> &lt;/head&gt;<br/> &lt;body&gt;<br/>  <br/> &lt;div class="box"&gt;<br/>  &lt;h2&gt;Light / Dark Theme<br/>   &lt;span&gt;<br/>    &lt;form&gt;<br/>     &lt;input onclick="toggle(this.form)" id="checkbox" name="checkbox" type="checkbox" /&gt;&lt;label for="checkbox"&gt;Toggle&lt;/label&gt;<br/>    &lt;/form&gt;<br/>   &lt;/span&gt;    <br/>  &lt;/h2&gt;<br/>  &lt;p&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit&lt;/p&gt;<br/> &lt;/div&gt;  <br/> <br/> &lt;script src="./script.js"&gt;&lt;/script&gt;<br/> &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><blockquote class="lz ma mb"><p id="08fc" class="jk jl mc jm b jn jo jp jq jr js jt ju md jw jx jy me ka kb kc mf ke kf kg kh ig bi translated">创建一个名为<strong class="jm io"> style.css </strong>的文件，并粘贴下面的代码</p></blockquote><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="b927" class="lt lu in lp b gy lv lw l lx ly">/* light theme colors */<br/> html{<br/>   --bg: #FCFCFC;<br/>   --bg-panel: #EEEEEE;/*box container*/<br/>   --color-headings: #00ADB5;/*heading*/<br/>   --color-text: #393e46;/*paragraph*/<br/>   height:100%;<br/>   display:grid;<br/>   align-items:center;<br/>   justify-content:center;<br/>   margin: 0;<br/>   padding: 0;<br/> }<br/> /* dark theme colors */<br/> html[data-theme='dark']{<br/>   --bg: #232931;<br/>   --bg-panel: #393E46;<br/>   --color-headings: #00ADB5;<br/>   --color-text: #B5B5B5;<br/> }<br/> body{<br/>   font-family: 'Montserrat', sans-serif;<br/>   background-color: var(--bg);<br/> }<br/> /* box container */<br/> .box{<br/>   display:grid;<br/>   grid-template-rows: auto auto;<br/>   border-radius: 15px;<br/>   padding:30px;<br/>   width:60vw;<br/>   background-color: var(--bg-panel);<br/>   letter-spacing: 0.05rem;<br/> }<br/> h2{<br/>   font-size: 2.18rem;/*35px*/<br/>   margin: 20px 0;<br/>   color:var(--color-headings);<br/> }<br/> div h2 span{<br/>   float: right;<br/> }<br/> div p{<br/>   font-size: 1.25rem;/*20px*/<br/>   margin-top: 5px;<br/>   margin-bottom: 20px;<br/>   color: var(--color-text);<br/> }<br/> form{  <br/>   margin-top: 0.7rem;<br/> }<br/> /* checkbox toggler */<br/> input[type=checkbox]{<br/>     height: 0;<br/>   width: 0;<br/>     visibility: hidden;<br/> }<br/> label {<br/>     cursor: pointer;<br/>     text-indent: -9999px;<br/>     width: 52px;<br/>     height: 27px;<br/>     background: grey;<br/>     float: right;<br/>     border-radius: 100px;<br/>     position: relative;<br/> }<br/> label:after {<br/>     content: '';<br/>     position: absolute;<br/>     top: 3px;<br/>     left: 3px;<br/>     width: 20px;<br/>     height: 20px;<br/>     background: #fff;<br/>     border-radius: 90px;<br/>     transition: 0.3s;<br/> }<br/> input:checked + label {<br/>     background: var(--color-headings);<br/> }<br/> input:checked + label:after {<br/>     left: calc(100% - 5px);<br/>     transform: translateX(-100%);<br/> }<br/> label:active:after {<br/>     width: 45px;<br/> }<br/> /* transition */<br/> html.transition,<br/> html.transition *,<br/> html.transition *:before,<br/> html.transition *:after {<br/>   transition: all 750ms <strong class="lp io">!important</strong>;<br/>   transition-delay: 0 <strong class="lp io">!important</strong>;<br/> }</span></pre><blockquote class="lz ma mb"><p id="a177" class="jk jl mc jm b jn jo jp jq jr js jt ju md jw jx jy me ka kb kc mf ke kf kg kh ig bi translated">创建一个名为<strong class="jm io"> script.js </strong>的文件，并粘贴下面的代码</p></blockquote><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="7458" class="lt lu in lp b gy lv lw l lx ly">window.onload=function(){<br/>   var theme = localStorage.getItem('data-theme');<br/>   if(theme=='light'){<br/>     document.documentElement.setAttribute('data-theme', 'light');<br/>   }else if(theme==''){<br/>     document.documentElement.setAttribute('data-theme', 'light');<br/>   }else if(theme=='dark'){<br/>     document.documentElement.setAttribute('data-theme' , 'dark');<br/>     document.getElementById("checkbox").checked = true;<br/>   }<br/> }<br/> function toggle(a){<br/>   if(a.checkbox.checked==true){<br/>     document.documentElement.classList.add('transition');<br/>     document.documentElement.setAttribute('data-theme', 'dark');<br/>     localStorage.setItem('data-theme','dark');<br/>   }<br/>   else if(a.checkbox.checked==false){<br/>     document.documentElement.classList.add('transition');<br/>     document.documentElement.setAttribute('data-theme', 'light');<br/>     localStorage.setItem('data-theme','light');<br/>   }<br/> };</span></pre><h1 id="4cc3" class="mg lu in bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">下面解释一下上面的代码是如何工作的。</h1><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="f6bb" class="lt lu in lp b gy lv lw l lx ly">&lt;input onclick="toggle(this.form)" id="checkbox" name="checkbox" type="checkbox" /&gt;&lt;label for="checkbox"&gt;Toggle&lt;/label&gt;</span></pre><p id="a80e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当用户点击切换按钮时，就会触发这个JavaScript函数。</p><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="6ebd" class="lt lu in lp b gy lv lw l lx ly">function toggle(a){<br/>   if(a.checkbox.checked==true){<br/>     document.documentElement.classList.add('transition');<br/>     document.documentElement.setAttribute('data-theme', 'dark');<br/>     localStorage.setItem('data-theme','dark');<br/>   }<br/>   else if(a.checkbox.checked==false){<br/>     document.documentElement.classList.add('transition');<br/>     document.documentElement.setAttribute('data-theme', 'light');<br/>     localStorage.setItem('data-theme','light');<br/>   }<br/> };</span></pre><p id="22b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最初，我们的网站将在轻模式。如果复选框被选中，我们的功能将设置数据主题为黑暗。由于数据主题设置为黑色，我们的网站使用下面的CSS变量，并相应地更新网页。</p><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="9492" class="lt lu in lp b gy lv lw l lx ly">html[data-theme='dark']{<br/>   --bg: #232931;<br/>   --bg-panel: #393E46;<br/>   --color-headings: #00ADB5;<br/>   --color-text: #B5B5B5;<br/> }</span></pre><p id="05fe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果复选框没有被选中，我们的功能将设置数据主题为轻。由于数据主题设置为轻，我们的网站使用下面的CSS变量。</p><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="4756" class="lt lu in lp b gy lv lw l lx ly">html{<br/>   --bg: #FCFCFC;<br/>   --bg-panel: #EEEEEE;/*box container*/<br/>   --color-headings: #00ADB5;/*heading*/<br/>   --color-text: #393e46;/*paragraph*/<br/> }</span></pre><blockquote class="lz ma mb"><p id="55aa" class="jk jl mc jm b jn jo jp jq jr js jt ju md jw jx jy me ka kb kc mf ke kf kg kh ig bi translated"><strong class="jm io">查看CSS变量概念</strong> <a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">此处</strong> </a></p></blockquote><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="cf30" class="lt lu in lp b gy lv lw l lx ly">document.documentElement.classList.add('transition');</span></pre><p id="d732" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码有助于使用下面的转换代码为我们的网站添加个性。您可以自由使用自己的过渡属性。</p><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="78e3" class="lt lu in lp b gy lv lw l lx ly">html.transition,<br/> html.transition *,<br/> html.transition *:before,<br/> html.transition *:after {<br/>   transition: all 750ms <strong class="lp io">!important</strong>;<br/>   transition-delay: 0 <strong class="lp io">!important</strong>;<br/> }</span></pre><h2 id="ccb1" class="lt lu in bd mh nd ne dn ml nf ng dp mp jv nh ni mt jz nj nk mx kd nl nm nb nn bi translated">存储用户偏好以备将来访问</h2><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="7c8e" class="lt lu in lp b gy lv lw l lx ly">localStorage.setItem('data-theme','dark');<br/>localStorage.setItem('data-theme','light');</span></pre><p id="9cda" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用本地存储的基本思想是将用户偏好存储在浏览器中(使用本地存储)。</p><blockquote class="lz ma mb"><p id="5386" class="jk jl mc jm b jn jo jp jq jr js jt ju md jw jx jy me ka kb kc mf ke kf kg kh ig bi translated"><strong class="jm io">查看本地存储</strong> <a class="ae kw" href="https://www.taniarascia.com/how-to-use-local-storage-with-javascript/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">此处</strong> </a></p></blockquote><p id="2a31" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当页面加载后，我们会检查之前是否选择了主题，并相应地更新网站界面。为此，我们使用下面的代码。</p><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="9feb" class="lt lu in lp b gy lv lw l lx ly">window.onload=function(){<br/>   var theme = localStorage.getItem('data-theme');<br/>   if(theme=='light'){<br/>     document.documentElement.setAttribute('data-theme', 'light');<br/>   }else if(theme==''){<br/>     document.documentElement.setAttribute('data-theme', 'light');<br/>   }else if(theme=='dark'){<br/>     document.documentElement.setAttribute('data-theme' , 'dark');<br/>     document.getElementById("checkbox").checked = true;<br/>   }<br/> }</span></pre><p id="951e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想使用任何其他调色板，这里有你应该考虑的资源。</p><pre class="ky kz la lb gt lo lp lq lr aw ls bi"><span id="59ff" class="lt lu in lp b gy lv lw l lx ly"><a class="ae kw" href="https://colorhunt.co/palette/183903" rel="noopener ugc nofollow" target="_blank">https://colorhunt.co/palette/183903</a><br/><a class="ae kw" href="https://colorhunt.co/palette/117601" rel="noopener ugc nofollow" target="_blank">https://colorhunt.co/palette/117601</a><br/><a class="ae kw" href="https://colorhunt.co/palette/2763" rel="noopener ugc nofollow" target="_blank">https://colorhunt.co/palette/2763</a></span></pre><p id="c52d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一定要在<a class="ae kw" href="https://github.com/phanendraguptha/darktheme" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> Github </strong> </a> <strong class="jm io">上查看源文件。</strong></p><p id="5c31" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">学习曲线对成长至关重要。所以，上船去找一些有趣的东西来帮助你提高学习曲线。</p></div></div>    
</body>
</html>