<html>
<head>
<title>Here’s How I Coded “Dots and Boxes” Game in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以下是我如何用 Python 编写“点和盒子”游戏的代码</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/dots-and-boxes-game-in-python-22058a187a84?source=collection_archive---------3-----------------------#2022-02-08">https://blog.devgenius.io/dots-and-boxes-game-in-python-22058a187a84?source=collection_archive---------3-----------------------#2022-02-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="4ba7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为一名计算机科学和应用专业的学生，编程是在各个领域中进行选择的一个途径。在编程方面，我是一名 Python 和 Django 学习者(截至目前)。除此之外，Python 是市场上使用最多的语言之一。众所周知，Python 是一种解释型语言。在这里，我们可以编码和开发网站，应用程序，游戏和更多的探索。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8beea3b2555fc61316d7d615f814532e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DHeakGP8rYJYU5V0Jn43Ng.png"/></div></div></figure><p id="5741" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，今天我将编码并解释我是如何用 Python 编码“点和盒子”游戏的。</p><p id="ff92" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">先决条件:</strong> tkinter、numpy、编辑器和一台电脑/笔记本电脑。</p><p id="e76a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装时，<strong class="jm io"> pip 为 Tkinter 安装 tk </strong>，而<strong class="jm io"> pip 为 numpy 安装 numpy </strong>。</p><p id="3ddb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">之后，这个基本的安装——进入你的编辑器<strong class="jm io">(例如 Visual Studio 代码，PyCharm，PyScripter) </strong></p><p id="d24d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我们将根据代码脚本导入库。</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="440f" class="kz la in kv b gy lb lc l ld le">from tkinter import *</span><span id="1762" class="kz la in kv b gy lf lc l ld le">import numpy as np</span></pre><p id="74ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，我们将定义<strong class="jm io"> GUI 中的所有内容，如棋盘大小、玩家、圆点</strong>等等。</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="86b2" class="kz la in kv b gy lb lc l ld le">size_of_board = 600</span><span id="140c" class="kz la in kv b gy lf lc l ld le">number_of_dots = 6</span><span id="6ed2" class="kz la in kv b gy lf lc l ld le">symbol_size = (size_of_board / 3 - size_of_board / 8) / 2</span><span id="a69b" class="kz la in kv b gy lf lc l ld le">symbol_thickness = 50</span><span id="a2b9" class="kz la in kv b gy lf lc l ld le">dot_color = '#7BC043'</span><span id="9f8f" class="kz la in kv b gy lf lc l ld le">player1_color = '#0492CF'</span><span id="36c5" class="kz la in kv b gy lf lc l ld le">player1_color_light = '#67B0CF'</span><span id="77e3" class="kz la in kv b gy lf lc l ld le">player2_color = '#EE4035'</span><span id="7826" class="kz la in kv b gy lf lc l ld le">player2_color_light = '#EE7E77'</span><span id="15d7" class="kz la in kv b gy lf lc l ld le">Green_color = '#7BC043'</span><span id="7593" class="kz la in kv b gy lf lc l ld le">dot_width = 0.25*size_of_board/number_of_dots</span><span id="5fed" class="kz la in kv b gy lf lc l ld le">edge_width = 0.1*size_of_board/number_of_dots</span><span id="c2e7" class="kz la in kv b gy lf lc l ld le">distance_between_dots = size_of_board / (number_of_dots)</span></pre><p id="fe12" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们创建一个类并<strong class="jm io">初始化函数。</strong></p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="8542" class="kz la in kv b gy lb lc l ld le">class Dots_and_Boxes():</span></pre><p id="d891" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">初始化或<strong class="jm io">定义功能</strong></p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="1ed8" class="kz la in kv b gy lb lc l ld le">def __init__(self):</span><span id="33d6" class="kz la in kv b gy lf lc l ld le">self.window = Tk()</span><span id="2efd" class="kz la in kv b gy lf lc l ld le">self.window.title('Dots and Boxes - Created By Harshal Suryawanshi')</span><span id="e969" class="kz la in kv b gy lf lc l ld le">self.canvas = Canvas(self.window, width=size_of_board, height=size_of_board)</span><span id="efd0" class="kz la in kv b gy lf lc l ld le">self.canvas.pack()</span><span id="e7b6" class="kz la in kv b gy lf lc l ld le">self.window.bind('&lt;Button-1&gt;', self.click)</span><span id="2246" class="kz la in kv b gy lf lc l ld le">self.player1_starts = True</span><span id="ce81" class="kz la in kv b gy lf lc l ld le">self.refresh_board()</span><span id="6d57" class="kz la in kv b gy lf lc l ld le">self.play_again()</span><span id="d9a1" class="kz la in kv b gy lf lc l ld le">def play_again(self):</span><span id="03c2" class="kz la in kv b gy lf lc l ld le">self.refresh_board()</span><span id="0d82" class="kz la in kv b gy lf lc l ld le">self.board_status = np.zeros(shape=(number_of_dots - 1, number_of_dots - 1))</span><span id="1fbf" class="kz la in kv b gy lf lc l ld le">self.row_status = np.zeros(shape=(number_of_dots, number_of_dots - 1))</span><span id="bd8d" class="kz la in kv b gy lf lc l ld le">self.col_status = np.zeros(shape=(number_of_dots - 1, number_of_dots))</span><span id="909b" class="kz la in kv b gy lf lc l ld le"># Input from user in form of clicks</span><span id="4d04" class="kz la in kv b gy lf lc l ld le">self.player1_starts = not self.player1_starts</span><span id="a667" class="kz la in kv b gy lf lc l ld le">self.player1_turn = not self.player1_starts</span><span id="4be0" class="kz la in kv b gy lf lc l ld le">self.reset_board = False</span><span id="bcaa" class="kz la in kv b gy lf lc l ld le">self.turntext_handle = []</span><span id="0926" class="kz la in kv b gy lf lc l ld le">self.already_marked_boxes = []</span><span id="591b" class="kz la in kv b gy lf lc l ld le">self.display_turn_text()</span><span id="392f" class="kz la in kv b gy lf lc l ld le">def mainloop(self):</span><span id="e1c1" class="kz la in kv b gy lf lc l ld le">self.window.mainloop()</span><span id="59ad" class="kz la in kv b gy lf lc l ld le"># ------------------------------------------------------------------</span><span id="0dd3" class="kz la in kv b gy lf lc l ld le"># Logical Functions:</span><span id="2eca" class="kz la in kv b gy lf lc l ld le"># The modules required to carry out game logic</span><span id="fe97" class="kz la in kv b gy lf lc l ld le"># ------------------------------------------------------------------</span><span id="b832" class="kz la in kv b gy lf lc l ld le">def is_grid_occupied(self, logical_position, type):</span><span id="3534" class="kz la in kv b gy lf lc l ld le">r = logical_position[0]</span><span id="6952" class="kz la in kv b gy lf lc l ld le">c = logical_position[1]</span><span id="cdc0" class="kz la in kv b gy lf lc l ld le">occupied = True</span><span id="27e7" class="kz la in kv b gy lf lc l ld le">if type == 'row' and self.row_status[c][r] == 0:</span><span id="6b1e" class="kz la in kv b gy lf lc l ld le">occupied = False</span><span id="9bee" class="kz la in kv b gy lf lc l ld le">if type == 'col' and self.col_status[c][r] == 0:</span><span id="5c21" class="kz la in kv b gy lf lc l ld le">occupied = False</span><span id="1860" class="kz la in kv b gy lf lc l ld le">return occupied</span><span id="39cf" class="kz la in kv b gy lf lc l ld le">def convert_grid_to_logical_position(self, grid_position):</span><span id="10bd" class="kz la in kv b gy lf lc l ld le">grid_position = np.array(grid_position)</span><span id="ce0c" class="kz la in kv b gy lf lc l ld le">position = (grid_position-distance_between_dots/4)//(distance_between_dots/2)</span><span id="5d60" class="kz la in kv b gy lf lc l ld le">type = False</span><span id="82a7" class="kz la in kv b gy lf lc l ld le">logical_position = []</span><span id="10eb" class="kz la in kv b gy lf lc l ld le">if position[1] % 2 == 0 and (position[0] - 1) % 2 == 0:</span><span id="da9d" class="kz la in kv b gy lf lc l ld le">r = int((position[0]-1)//2)</span><span id="f531" class="kz la in kv b gy lf lc l ld le">c = int(position[1]//2)</span><span id="8ddd" class="kz la in kv b gy lf lc l ld le">logical_position = [r, c]</span><span id="71e3" class="kz la in kv b gy lf lc l ld le">type = 'row'</span><span id="152d" class="kz la in kv b gy lf lc l ld le"># self.row_status[c][r]=1</span><span id="0f09" class="kz la in kv b gy lf lc l ld le">elif position[0] % 2 == 0 and (position[1] - 1) % 2 == 0:</span><span id="0bbe" class="kz la in kv b gy lf lc l ld le">c = int((position[1] - 1) // 2)</span><span id="9914" class="kz la in kv b gy lf lc l ld le">r = int(position[0] // 2)</span><span id="2a91" class="kz la in kv b gy lf lc l ld le">logical_position = [r, c]</span><span id="ef65" class="kz la in kv b gy lf lc l ld le">type = 'col'</span><span id="3c31" class="kz la in kv b gy lf lc l ld le">return logical_position, type</span><span id="2b0e" class="kz la in kv b gy lf lc l ld le">def mark_box(self):</span><span id="c204" class="kz la in kv b gy lf lc l ld le">boxes = np.argwhere(self.board_status == -4)</span><span id="da94" class="kz la in kv b gy lf lc l ld le">for box in boxes:</span><span id="d19f" class="kz la in kv b gy lf lc l ld le">if list(box) not in self.already_marked_boxes and list(box) !=[]:</span><span id="2bb6" class="kz la in kv b gy lf lc l ld le">self.already_marked_boxes.append(list(box))</span><span id="3ed7" class="kz la in kv b gy lf lc l ld le">color = player1_color_light</span><span id="793c" class="kz la in kv b gy lf lc l ld le">self.shade_box(box, color)</span><span id="f430" class="kz la in kv b gy lf lc l ld le">boxes = np.argwhere(self.board_status == 4)</span><span id="a557" class="kz la in kv b gy lf lc l ld le">for box in boxes:</span><span id="66ac" class="kz la in kv b gy lf lc l ld le">if list(box) not in self.already_marked_boxes and list(box) !=[]:</span><span id="3e11" class="kz la in kv b gy lf lc l ld le">self.already_marked_boxes.append(list(box))</span><span id="9544" class="kz la in kv b gy lf lc l ld le">color = player2_color_light</span><span id="631d" class="kz la in kv b gy lf lc l ld le">self.shade_box(box, color)</span><span id="c0b4" class="kz la in kv b gy lf lc l ld le">def update_board(self, type, logical_position):</span><span id="6976" class="kz la in kv b gy lf lc l ld le">r = logical_position[0]</span><span id="d1b2" class="kz la in kv b gy lf lc l ld le">c = logical_position[1]</span><span id="8af9" class="kz la in kv b gy lf lc l ld le">val = 1</span><span id="ba5f" class="kz la in kv b gy lf lc l ld le">if self.player1_turn:</span><span id="c2f0" class="kz la in kv b gy lf lc l ld le">val =- 1</span><span id="fe02" class="kz la in kv b gy lf lc l ld le">if c &lt; (number_of_dots-1) and r &lt; (number_of_dots-1):</span><span id="fdfd" class="kz la in kv b gy lf lc l ld le">self.board_status[c][r] += val</span><span id="fa6b" class="kz la in kv b gy lf lc l ld le">if type == 'row':</span><span id="07f9" class="kz la in kv b gy lf lc l ld le">self.row_status[c][r] = 1</span><span id="71a6" class="kz la in kv b gy lf lc l ld le">if c &gt;= 1:</span><span id="3990" class="kz la in kv b gy lf lc l ld le">self.board_status[c-1][r] += val</span><span id="7631" class="kz la in kv b gy lf lc l ld le">elif type == 'col':</span><span id="b9dd" class="kz la in kv b gy lf lc l ld le">self.col_status[c][r] = 1</span><span id="b977" class="kz la in kv b gy lf lc l ld le">if r &gt;= 1:</span><span id="1b7a" class="kz la in kv b gy lf lc l ld le">self.board_status[c][r-1] += val</span><span id="b9d3" class="kz la in kv b gy lf lc l ld le">def is_gameover(self):</span><span id="7474" class="kz la in kv b gy lf lc l ld le">return (self.row_status == 1).all() and (self.col_status == 1).all()</span><span id="7d74" class="kz la in kv b gy lf lc l ld le"># ------------------------------------------------------------------</span><span id="f5dd" class="kz la in kv b gy lf lc l ld le"># Drawing Functions:</span><span id="e873" class="kz la in kv b gy lf lc l ld le"># The modules required to draw required game based object on canvas</span><span id="5189" class="kz la in kv b gy lf lc l ld le"># ------------------------------------------------------------------</span><span id="b694" class="kz la in kv b gy lf lc l ld le">def make_edge(self, type, logical_position):</span><span id="7a7e" class="kz la in kv b gy lf lc l ld le">if type == 'row':</span><span id="c9e8" class="kz la in kv b gy lf lc l ld le">start_x = distance_between_dots/2 + logical_position[0]*distance_between_dots</span><span id="0f22" class="kz la in kv b gy lf lc l ld le">end_x = start_x+distance_between_dots</span><span id="24f2" class="kz la in kv b gy lf lc l ld le">start_y = distance_between_dots/2 + logical_position[1]*distance_between_dots</span><span id="df81" class="kz la in kv b gy lf lc l ld le">end_y = start_y</span><span id="a156" class="kz la in kv b gy lf lc l ld le">elif type == 'col':</span><span id="ca0a" class="kz la in kv b gy lf lc l ld le">start_y = distance_between_dots / 2 + logical_position[1] * distance_between_dots</span><span id="861e" class="kz la in kv b gy lf lc l ld le">end_y = start_y + distance_between_dots</span><span id="14a9" class="kz la in kv b gy lf lc l ld le">start_x = distance_between_dots / 2 + logical_position[0] * distance_between_dots</span><span id="8806" class="kz la in kv b gy lf lc l ld le">end_x = start_x</span><span id="8b37" class="kz la in kv b gy lf lc l ld le">if self.player1_turn:</span><span id="6f66" class="kz la in kv b gy lf lc l ld le">color = player1_color</span><span id="7df5" class="kz la in kv b gy lf lc l ld le">else:</span><span id="428a" class="kz la in kv b gy lf lc l ld le">color = player2_color</span><span id="fcc3" class="kz la in kv b gy lf lc l ld le">self.canvas.create_line(start_x, start_y, end_x, end_y, fill=color, width=edge_width)</span><span id="a8e9" class="kz la in kv b gy lf lc l ld le">def display_gameover(self):</span><span id="daa8" class="kz la in kv b gy lf lc l ld le">player1_score = len(np.argwhere(self.board_status == -4))</span><span id="5566" class="kz la in kv b gy lf lc l ld le">player2_score = len(np.argwhere(self.board_status == 4))<br/></span><span id="853b" class="kz la in kv b gy lf lc l ld le">if player1_score &gt; player2_score:</span><span id="757a" class="kz la in kv b gy lf lc l ld le"># Player 1 wins</span><span id="3226" class="kz la in kv b gy lf lc l ld le">text = 'Winner: Player 1 '</span><span id="5f96" class="kz la in kv b gy lf lc l ld le">color = player1_color</span><span id="b799" class="kz la in kv b gy lf lc l ld le">elif player2_score &gt; player1_score:</span><span id="0890" class="kz la in kv b gy lf lc l ld le">text = 'Winner: Player 2 '</span><span id="4c50" class="kz la in kv b gy lf lc l ld le">color = player2_color</span><span id="4ebc" class="kz la in kv b gy lf lc l ld le">else:</span><span id="5ece" class="kz la in kv b gy lf lc l ld le">text = 'Its a tie'</span><span id="29ae" class="kz la in kv b gy lf lc l ld le">color = 'gray'</span><span id="9ff8" class="kz la in kv b gy lf lc l ld le">self.canvas.delete("all")</span><span id="b850" class="kz la in kv b gy lf lc l ld le">self.canvas.create_text(size_of_board / 2, size_of_board / 3, font="cmr 60 bold", fill=color, text=text)</span><span id="2793" class="kz la in kv b gy lf lc l ld le">score_text = 'Scores \n'</span><span id="16ee" class="kz la in kv b gy lf lc l ld le">self.canvas.create_text(size_of_board / 2, 5 * size_of_board / 8, font="cmr 40 bold", fill=Green_color,</span><span id="00b0" class="kz la in kv b gy lf lc l ld le">text=score_text)</span><span id="3de2" class="kz la in kv b gy lf lc l ld le">score_text = 'Player 1 : ' + str(player1_score) + '\n'</span><span id="0968" class="kz la in kv b gy lf lc l ld le">score_text += 'Player 2 : ' + str(player2_score) + '\n'</span><span id="7ebc" class="kz la in kv b gy lf lc l ld le"># score_text += 'Tie                    : ' + str(self.tie_score)</span><span id="99cd" class="kz la in kv b gy lf lc l ld le">self.canvas.create_text(size_of_board / 2, 3 * size_of_board / 4, font="cmr 30 bold", fill=Green_color,</span><span id="4fb5" class="kz la in kv b gy lf lc l ld le">text=score_text)</span><span id="fd0a" class="kz la in kv b gy lf lc l ld le">self.reset_board = True</span><span id="1ea2" class="kz la in kv b gy lf lc l ld le">score_text = 'Click to play again \n'</span><span id="f70b" class="kz la in kv b gy lf lc l ld le">self.canvas.create_text(size_of_board / 2, 15 * size_of_board / 16, font="cmr 20 bold", fill="gray",</span><span id="f4bc" class="kz la in kv b gy lf lc l ld le">text=score_text)</span><span id="7704" class="kz la in kv b gy lf lc l ld le">def refresh_board(self):</span><span id="9279" class="kz la in kv b gy lf lc l ld le">for i in range(number_of_dots):</span><span id="94d9" class="kz la in kv b gy lf lc l ld le">x = i*distance_between_dots+distance_between_dots/2</span><span id="349e" class="kz la in kv b gy lf lc l ld le">self.canvas.create_line(x, distance_between_dots/2, x,</span><span id="84c1" class="kz la in kv b gy lf lc l ld le">size_of_board-distance_between_dots/2,</span><span id="2aac" class="kz la in kv b gy lf lc l ld le">fill='gray', dash = (2, 2))</span><span id="78d8" class="kz la in kv b gy lf lc l ld le">self.canvas.create_line(distance_between_dots/2, x,</span><span id="ccc5" class="kz la in kv b gy lf lc l ld le">size_of_board-distance_between_dots/2, x,</span><span id="36ff" class="kz la in kv b gy lf lc l ld le">fill='gray', dash=(2, 2))</span><span id="de66" class="kz la in kv b gy lf lc l ld le">for i in range(number_of_dots):</span><span id="2e30" class="kz la in kv b gy lf lc l ld le">for j in range(number_of_dots):</span><span id="1bd1" class="kz la in kv b gy lf lc l ld le">start_x = i*distance_between_dots+distance_between_dots/2</span><span id="4c93" class="kz la in kv b gy lf lc l ld le">end_x = j*distance_between_dots+distance_between_dots/2</span><span id="6526" class="kz la in kv b gy lf lc l ld le">self.canvas.create_oval(start_x-dot_width/2, end_x-dot_width/2, start_x+dot_width/2,</span><span id="df49" class="kz la in kv b gy lf lc l ld le">end_x+dot_width/2, fill=dot_color,</span><span id="f3cc" class="kz la in kv b gy lf lc l ld le">outline=dot_color)</span><span id="435a" class="kz la in kv b gy lf lc l ld le">def display_turn_text(self):</span><span id="c958" class="kz la in kv b gy lf lc l ld le">text = 'Next turn: '</span><span id="5d1f" class="kz la in kv b gy lf lc l ld le">if self.player1_turn:</span><span id="bbc3" class="kz la in kv b gy lf lc l ld le">text += 'Player1'</span><span id="a0d1" class="kz la in kv b gy lf lc l ld le">color = player1_color</span><span id="6346" class="kz la in kv b gy lf lc l ld le">else:</span><span id="93be" class="kz la in kv b gy lf lc l ld le">text += 'Player2'</span><span id="f1c0" class="kz la in kv b gy lf lc l ld le">color = player2_color</span><span id="9a54" class="kz la in kv b gy lf lc l ld le">self.canvas.delete(self.turntext_handle)</span><span id="1d9c" class="kz la in kv b gy lf lc l ld le">self.turntext_handle = self.canvas.create_text(size_of_board - 5*len(text),</span><span id="9137" class="kz la in kv b gy lf lc l ld le">size_of_board-distance_between_dots/8,</span><span id="221a" class="kz la in kv b gy lf lc l ld le">font="cmr 15 bold", text=text, fill=color)</span><span id="f444" class="kz la in kv b gy lf lc l ld le">def shade_box(self, box, color):</span><span id="131a" class="kz la in kv b gy lf lc l ld le">start_x = distance_between_dots / 2 + box[1] * distance_between_dots + edge_width/2</span><span id="112a" class="kz la in kv b gy lf lc l ld le">start_y = distance_between_dots / 2 + box[0] * distance_between_dots + edge_width/2</span><span id="4b21" class="kz la in kv b gy lf lc l ld le">end_x = start_x + distance_between_dots - edge_width</span><span id="87cc" class="kz la in kv b gy lf lc l ld le">end_y = start_y + distance_between_dots - edge_width</span><span id="bc68" class="kz la in kv b gy lf lc l ld le">self.canvas.create_rectangle(start_x, start_y, end_x, end_y, fill=color, outline='')</span><span id="103c" class="kz la in kv b gy lf lc l ld le">def display_turn_text(self):</span><span id="3a20" class="kz la in kv b gy lf lc l ld le">text = 'Next turn: '</span><span id="ef67" class="kz la in kv b gy lf lc l ld le">if self.player1_turn:</span><span id="d776" class="kz la in kv b gy lf lc l ld le">text += 'Player1'</span><span id="e053" class="kz la in kv b gy lf lc l ld le">color = player1_color</span><span id="dfcd" class="kz la in kv b gy lf lc l ld le">else:</span><span id="0815" class="kz la in kv b gy lf lc l ld le">text += 'Player2'</span><span id="d854" class="kz la in kv b gy lf lc l ld le">color = player2_color</span><span id="ba06" class="kz la in kv b gy lf lc l ld le">self.canvas.delete(self.turntext_handle)</span><span id="f3f8" class="kz la in kv b gy lf lc l ld le">self.turntext_handle = self.canvas.create_text(size_of_board - 5*len(text),</span><span id="49c2" class="kz la in kv b gy lf lc l ld le">size_of_board-distance_between_dots/8,</span><span id="fc9b" class="kz la in kv b gy lf lc l ld le">font="cmr 15 bold",text=text, fill=color)</span><span id="4d33" class="kz la in kv b gy lf lc l ld le">def click(self, event):</span><span id="ff97" class="kz la in kv b gy lf lc l ld le">if not self.reset_board:</span><span id="b0da" class="kz la in kv b gy lf lc l ld le">grid_position = [event.x, event.y]</span><span id="9e07" class="kz la in kv b gy lf lc l ld le">logical_positon, valid_input = self.convert_grid_to_logical_position(grid_position)</span><span id="e901" class="kz la in kv b gy lf lc l ld le">if valid_input and not self.is_grid_occupied(logical_positon, valid_input):</span><span id="ac48" class="kz la in kv b gy lf lc l ld le">self.update_board(valid_input, logical_positon)</span><span id="60ac" class="kz la in kv b gy lf lc l ld le">self.make_edge(valid_input, logical_positon)</span><span id="dd36" class="kz la in kv b gy lf lc l ld le">self.mark_box()</span><span id="1da4" class="kz la in kv b gy lf lc l ld le">self.refresh_board()</span><span id="865a" class="kz la in kv b gy lf lc l ld le">self.player1_turn = not self.player1_turn</span><span id="0a04" class="kz la in kv b gy lf lc l ld le">if self.is_gameover():</span><span id="5a31" class="kz la in kv b gy lf lc l ld le"># self.canvas.delete("all")</span><span id="36bd" class="kz la in kv b gy lf lc l ld le">self.display_gameover()</span><span id="749f" class="kz la in kv b gy lf lc l ld le">else:</span><span id="2e8f" class="kz la in kv b gy lf lc l ld le">self.display_turn_text()</span><span id="dcdb" class="kz la in kv b gy lf lc l ld le">else:</span><span id="a97d" class="kz la in kv b gy lf lc l ld le">self.canvas.delete("all")</span><span id="48cd" class="kz la in kv b gy lf lc l ld le">self.play_again()</span><span id="1343" class="kz la in kv b gy lf lc l ld le">self.reset_board = False</span><span id="e1d6" class="kz la in kv b gy lf lc l ld le">game_instance = Dots_and_Boxes()</span><span id="d85c" class="kz la in kv b gy lf lc l ld le">game_instance.mainloop()</span></pre><p id="171d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">以下是输出结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lg"><img src="../Images/9782715fcfb7b66cb19a852dad516cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ug4AKSpsEUB-2uUeCtpHQ.png"/></div></div></figure><p id="559f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，这是基于“点和盒子游戏”的文章。希望你会喜欢。别忘了跟着。</p></div></div>    
</body>
</html>