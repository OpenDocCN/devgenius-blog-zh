<html>
<head>
<title>Code Smell 76 — Generic Assertions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码味道76 —通用断言</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-smell-76-generic-assertions-b345491b745e?source=collection_archive---------4-----------------------#2021-06-07">https://blog.devgenius.io/code-smell-76-generic-assertions-b345491b745e?source=collection_archive---------4-----------------------#2021-06-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ea88" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">不要做弱测试来制造虚假的覆盖感。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/30204ff4f0048265ccc053dd292212eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*guFFKNdeeiu1jfvyOaIy-w.jpeg"/></div></div></figure><blockquote class="ko kp kq"><p id="da5d" class="kr ks kt ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">TL；DR:测试断言应该精确。不太模糊也不太具体。没有灵丹妙药。</p></blockquote><h1 id="0f85" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">问题</h1><ul class=""><li id="c626" class="mg mh in ku b kv mi ky mj mk ml mm mn mo mp ln mq mr ms mt bi translated">假阴性</li><li id="0f7c" class="mg mh in ku b kv mu ky mv mk mw mm mx mo my ln mq mr ms mt bi translated">缺乏信任</li></ul><h1 id="ec3c" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">解决方法</h1><p id="d7e7" class="pw-post-body-paragraph kr ks in ku b kv mi jo kx ky mj jr la mk mz ld le mm na lh li mo nb ll lm ln ig bi translated">1.检查正确的案例</p><p id="cf0d" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">2.为功能案例断言。</p><p id="a509" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">3.不要测试实现。</p><h1 id="6438" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">示例代码</h1><h2 id="6f2c" class="nc lp in bd lq nd ne dn lu nf ng dp ly mk nh ni ma mm nj nk mc mo nl nm me nn bi translated">错误的</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div></figure><h2 id="65de" class="nc lp in bd lq nd ne dn lu nf ng dp ly mk nh ni ma mm nj nk mc mo nl nm me nn bi translated">对吧</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div></figure><h1 id="9601" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">侦查</h1><p id="24f0" class="pw-post-body-paragraph kr ks in ku b kv mi jo kx ky mj jr la mk mz ld le mm na lh li mo nb ll lm ln ig bi translated">使用<a class="ae nq" href="https://en.wikipedia.org/wiki/Mutation_testing" rel="noopener ugc nofollow" target="_blank">突变测试</a>技术，我们可以在测试中发现这些错误。</p><h1 id="f2b2" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">标签</h1><ul class=""><li id="f65a" class="mg mh in ku b kv mi ky mj mk ml mm mn mo mp ln mq mr ms mt bi translated">测试</li></ul><h1 id="59d7" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">结论</h1><p id="6597" class="pw-post-body-paragraph kr ks in ku b kv mi jo kx ky mj jr la mk mz ld le mm na lh li mo nb ll lm ln ig bi translated">我们应该使用像<a class="ae nq" href="https://mcsee.medium.com/how-to-squeeze-test-driven-development-on-legacy-systems-3e66625c4fb1" rel="noopener"> TDD </a>这样的开发技术，要求具体的业务案例，并基于我们的领域做出具体的断言。</p><h1 id="a9f0" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">关系</h1><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-30-mocking-business-885299c32d6f"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">代码气味30——嘲弄商业</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">在测试行为时，嘲笑是一个很好的帮助。像许多其他工具一样，我们正在滥用它们。</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">blog.devgenius.io</p></div></div><div class="od l"><div class="oe l of og oh od oi km nu"/></div></div></a></div><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/code-smell-52-fragile-tests-b917de33fd53"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">代码气味52 —易碎测试</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">测试是我们的安全网。如果我们不信任他们的正直，我们将处于极大的危险之中。</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">blog.devgenius.io</p></div></div><div class="od l"><div class="oj l of og oh od oi km nu"/></div></div></a></div><h1 id="3d6a" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">更多信息</h1><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-squeeze-test-driven-development-on-legacy-systems-3e66625c4fb1"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">如何在遗留系统上挤压测试驱动开发</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">我们都喜欢T.D.D .我们知道它的好处，我们已经阅读了一千篇关于如何使用它来构建系统的教程…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">blog.devgenius.io</p></div></div><div class="od l"><div class="ok l of og oh od oi km nu"/></div></div></a></div><div class="nr ns gp gr nt nu"><a href="https://codeburst.io/the-one-and-only-software-design-principle-5328420712af" rel="noopener follow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">唯一的软件设计原则</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">如果我们在一个单一的规则上建立我们的整个范式，我们可以保持它的简单并做出优秀的模型。</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">codeburst.io</p></div></div><div class="od l"><div class="ol l of og oh od oi km nu"/></div></div></a></div><div class="nr ns gp gr nt nu"><a href="https://en.wikipedia.org/wiki/Mutation_testing" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">突变测试-维基百科</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">变异测试(或变异分析或程序变异)被用来设计新的软件测试和评估新的软件测试。</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">en.wikipedia.org</p></div></div></div></a></div><h1 id="b5cd" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">信用</h1><p id="c9ae" class="pw-post-body-paragraph kr ks in ku b kv mi jo kx ky mj jr la mk mz ld le mm na lh li mo nb ll lm ln ig bi translated">这种气味的灵感来自马里奥·塞尔韦拉，并在他的许可下使用。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="om np l"/></div></figure></div><div class="ab cl on oo hr op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="ig ih ii ij ik"><blockquote class="ko kp kq"><p id="87a8" class="kr ks kt ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">一个程序产生错误结果的速度是原来的两倍，但速度却慢了无限。</p></blockquote><p id="2b75" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated"><em class="kt">约翰·奥斯特胡特</em></p><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/software-engineering-great-quotes-3af63cea6782"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">软件工程名言</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">blog.devgenius.io</p></div></div><div class="od l"><div class="ou l of og oh od oi km nu"/></div></div></a></div></div><div class="ab cl on oo hr op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="ig ih ii ij ik"><p id="875c" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mk lc ld le mm lg lh li mo lk ll lm ln ig bi translated">本文是CodeSmell系列的一部分。</p><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">如何找到你的代码中有问题的部分</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">代码很难闻。让我们看看如何品尝香味。</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">blog.devgenius.io</p></div></div><div class="od l"><div class="ov l of og oh od oi km nu"/></div></div></a></div></div></div>    
</body>
</html>