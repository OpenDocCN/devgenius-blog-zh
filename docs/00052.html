<html>
<head>
<title>How To Create Extensible Applications in C#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 C#中创建可扩展的应用程序</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/learn-to-create-extensible-applications-f5f5450ee89d?source=collection_archive---------0-----------------------#2019-08-17">https://blog.devgenius.io/learn-to-create-extensible-applications-f5f5450ee89d?source=collection_archive---------0-----------------------#2019-08-17</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><h2 id="eb62" class="ip iq ir bd b dl is it iu iv iw ix dk iy translated" aria-label="kicker paragraph">反射基础</h2><div class=""/><div class=""><h2 id="3cc9" class="pw-subtitle-paragraph jx ja ir bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">动态发现类型的初学者入门</h2></div><p id="0c5d" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">您是否想过如何在不修改现有代码的情况下轻松扩展您的应用程序？也许甚至感受到了在项目中接收新特性需求的挫败感？</p><p id="20aa" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">阅读完本文后，您将能够通过应用反射和接口“简单地添加新类”来扩展您自己的应用程序。</p><h1 id="f1f0" class="ll lm ir bd ln lo lp lq lr ls lt lu lv kg lw kh lx kj ly kk lz km ma kn mb mc bi translated">创建简单的可扩展库</h1><p id="5fe7" class="pw-post-body-paragraph kp kq ir kr b ks md kb ku kv me ke kx ky mf la lb lc mg le lf lg mh li lj lk ik bi translated">为了演示如何通过应用反射和接口轻松地开始开发可扩展软件，我们将创建一个简单的“规则引擎”来评估学生分数并返回语言熟练程度。</p><p id="49fc" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">基本思想是 1)拥有一套规则，2)发现和加载规则的机制，以及 3)评估规则。</p><h2 id="cdd3" class="mi lm ir bd ln mj mk dn lr ml mm dp lv ky mn mo lx lc mp mq lz lg mr ms mb ix bi translated">创建规则</h2><p id="bc0f" class="pw-post-body-paragraph kp kq ir kr b ks md kb ku kv me ke kx ky mf la lb lc mg le lf lg mh li lj lk ik bi translated"><strong class="kr jb">首先</strong>，需要一个接口。接口提供了规则必须实现的公共方法。在这个简单的例子中，该方法只接受一个整数数组。</p><figure class="mt mu mv mw gu mx"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="ff14" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated"><strong class="kr jb">其次</strong>，我们将创建两个返回枚举的规则。为了简洁起见，我将所有代码包含在一个代码块中，并删除了导入。</p><figure class="mt mu mv mw gu mx"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="f6ed" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated"><strong class="kr jb">最后</strong>，我们将动态地发现规则，加载它们，并提供一种方法来执行熟练程度评估。</p><figure class="mt mu mv mw gu mx"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="effa" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">请注意 LoadRules 方法。它主要扫描程序集以查找实现 IProficiencyRule 接口的类型，实例化规则，并返回所有发现的规则的列表。</p><p id="9b7f" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">然后，该类提供一个公共方法，根据学生成绩(整数)的数组来评估熟练程度。</p><p id="9c9c" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated"><em class="na"> EvaluateProficiencyLevel </em>遍历每个规则，并调用规则的<em class="na">check experience</em>方法。</p><h2 id="a4e2" class="mi lm ir bd ln mj mk dn lr ml mm dp lv ky mn mo lx lc mp mq lz lg mr ms mb ix bi translated">扩展应用程序</h2><p id="35f4" class="pw-post-body-paragraph kp kq ir kr b ks md kb ku kv me ke kx ky mf la lb lc mg le lf lg mh li lj lk ik bi translated">目前，我们只实施了一些规则来判断一个学生是初学者还是熟练者。</p><p id="0f93" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">实现“中间”规则不再需要我们修改代码。现在，添加新规则很简单，只需添加一个实现了<em class="na"> IProficiencyRule </em>接口的新类。</p><figure class="mt mu mv mw gu mx"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="5413" class="pw-post-body-paragraph kp kq ir kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">新规则现在由<em class="na"> ProficiencyChecker </em>类自动发现。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><pre class="mt mu mv mw gu ni nj nk nl aw nm bi"><span id="6640" class="mi lm ir nj b gz nn no l np nq"><strong class="nj jb">Resources for the curious</strong></span><span id="6ed8" class="mi lm ir nj b gz nr no l np nq"><a class="ae ns" href="https://app.pluralsight.com/library/courses/practical-reflection-dotnet/table-of-contents" rel="noopener ugc nofollow" target="_blank">Practical Reflection in .NET by Jeremy Clark</a><br/><a class="ae ns" href="https://app.pluralsight.com/library/courses/using-csharp-interfaces/table-of-contents" rel="noopener ugc nofollow" target="_blank">C# Interfaces by Jeremy Clark</a><br/><a class="ae ns" href="https://app.pluralsight.com/library/courses/developing-extensible-software/table-of-contents" rel="noopener ugc nofollow" target="_blank">Developing Extensible Software by Miguel Castro</a></span></pre></div></div>    
</body>
</html>