<html>
<head>
<title>Kafka Installtions and Kafka Topics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡夫卡装置和卡夫卡主题</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/kafka-installtions-and-kafka-topics-f0b7c81754d8?source=collection_archive---------4-----------------------#2022-11-07">https://blog.devgenius.io/kafka-installtions-and-kafka-topics-f0b7c81754d8?source=collection_archive---------4-----------------------#2022-11-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/5ca06c674c407575d29ab5c9c642adff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Bd3pXxqIwwh7ZIRa.png"/></div></div></figure><h1 id="08d7" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">卡夫卡启动</h1><p id="262c" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Kafka 是一个实时事件驱动的应用程序。如果你想实时观看视频，优步会显示汽车的实时位置，或者你可以在任何电子商务网站上实时查看订单状态。卡夫卡可以用在那里。</p><h1 id="2856" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">装置</h1><ol class=""><li id="5421" class="lr ls in kv b kw kx la lb le lt li lu lm lv lq lw lx ly lz bi translated">你需要安装 docker 和 docker-compose，</li><li id="2531" class="lr ls in kv b kw ma la mb le mc li md lm me lq lw lx ly lz bi translated">你只需要下载文件<a class="ae mf" href="https://github.com/SohaibAnwaar/Kafka-KickStart/blob/main/docker-compose.yml" rel="noopener ugc nofollow" target="_blank"> docker 文件</a></li><li id="7dda" class="lr ls in kv b kw ma la mb le mc li md lm me lq lw lx ly lz bi translated">在终端<code class="fe mg mh mi mj b">docker-compose up -d</code>输入该命令</li><li id="72f2" class="lr ls in kv b kw ma la mb le mc li md lm me lq lw lx ly lz bi translated">要检查您的 Kafka 程序是否正在运行，请输入命令<code class="fe mg mh mi mj b">docker-compose ps</code></li></ol><h1 id="0e33" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">卡夫卡命令</h1><p id="e22a" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">列出卡夫卡主题</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="afb1" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-topics --list --bootstrap-server broker0:29092,broker1:29093,broker2:29094</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/5b43bc37df278ce268af4476a899ef36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fCEvj5gzEiis0eD0.png"/></div></div></figure><p id="df56" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">创建卡夫卡主题</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="2d60" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-topics --create --topic people1 --bootstrap-server broker0:29092 --partitions 2</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/2d8274f3c3e6ec9a9d9aca56a38616df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EE7_3BDpvJp8ezPL.png"/></div></div></figure><p id="326f" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">获取有关该主题的信息</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="4da1" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-topics --describe --topic people --bootstrap-server broker0:29092</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/ce06f28484715bdb1bbdaa3f714f3f10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pwh7x8VtbkPh7lVr.png"/></div></div></figure><p id="1326" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">删除主题</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="e3a3" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-topics --delete --topic people --bootstrap-server broker0:29092</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/a98c78bddc84b7ad5aa3deb5545e2e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wz_8Mdy_LUHrMgqI.png"/></div></div></figure><h1 id="8fcc" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">高级主题创建</h1><p id="896c" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在预先主题创建中，我们可以改变我们在 Kafka 中创建的主题的配置，例如消息将在 Kafka 中停留多长时间，这称为保留。</p><p id="ea33" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">更改保留时间</p><p id="2d9c" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">更改 Kafka 默认保存信息的时间限制为 2 周</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="785a" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-topics --bootstrap-server broker0:29092 --create --topic experiments --config retention.ms=360000</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/3f8b42f793a4810816ec1f08ae9b49b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*G1z49f_ZgRwwmoh4.png"/></div></div></figure><p id="cd3f" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">查看主题的所有配置</p><p id="fa2c" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">查看主题配置</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="ccb0" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-configs --bootstrap-server broker0:29092 --describe --all --topic experiments</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/0b6926c7ce068846731e15719de81da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ckTmwN2MvIiARsZX.png"/></div></div></figure><p id="be38" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">更新主题配置如果您想要更新已经创建的主题的配置，您可以通过下面的命令来完成</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="0eb7" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-configs --bootstrap-server broker0:29092 --alter --entity-type topics --entity-name experiments --add-config retention.ms=360</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/0ef1cbff1fe06cbf69d1449e228b8b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZyPH96Ns-k5ZASQm.png"/></div></div></figure><p id="3c0b" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">创建压缩主题如果您想要创建压缩主题，您可以使用此命令</p><pre class="mk ml mm mn gt mo mj mp mq aw mr bi"><span id="ad18" class="ms jw in mj b gy mt mu l mv mw">docker exec -it cli-tools kafka-configs --bootstrap-server broker0:29092 --alter --entity-type topics --entity-name experiments --add-config retention.ms=360</span></pre><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/0ad88b50fede3d45c73d3e90984df739.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j5oDK8wMKXzu1Pxa.png"/></div></div></figure><p id="e23c" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">时基保留基于时间的保留是通过设置清除来指定的。删除和设置保留期的策略。毫秒到几毫秒。有了这个设置，事件将至少保留在主题中，直到它们达到时间限制。一旦达到这个限制，它们可能不会被立即删除。这是因为事件删除发生在段级别。一旦其最年轻的事件超过时间阈值，一个段将被标记为删除。</p><p id="dfb8" class="pw-post-body-paragraph kt ku in kv b kw my ky kz la mz lc ld le na lg lh li nb lk ll lm nc lo lp lq ig bi translated">压缩主题与保留策略标准不同，在保留策略标准中，当达到时间或大小时，Kafka 会自动从 Kafka 服务器中删除邮件，您可以借助日志压缩过程手动清理邮件。换句话说，使用日志压缩方法，您可以有选择地从每个主题分区中删除记录被复制或多次出现的通知。</p><ul class=""><li id="3435" class="lr ls in kv b kw my la mz le nk li nl lm nm lq nn lx ly lz bi translated">索海卜·安瓦尔</li><li id="84fd" class="lr ls in kv b kw ma la mb le mc li md lm me lq nn lx ly lz bi translated">Gmail:【sohaibanwaar36@gmail.com T4】</li><li id="a38d" class="lr ls in kv b kw ma la mb le mc li md lm me lq nn lx ly lz bi translated">LinkedIn : <a class="ae mf" href="https://www.linkedin.com/in/sohaib-anwaar-4b7ba1187/" rel="noopener ugc nofollow" target="_blank">在这里进行一些专业的谈话</a></li><li id="cd6f" class="lr ls in kv b kw ma la mb le mc li md lm me lq nn lx ly lz bi translated">堆栈溢出:<a class="ae mf" href="https://stackoverflow.com/users/7959545/sohaib-anwaar" rel="noopener ugc nofollow" target="_blank">在这里获得我的帮助</a></li><li id="2633" class="lr ls in kv b kw ma la mb le mc li md lm me lq nn lx ly lz bi translated">卡格尔:<a class="ae mf" href="https://www.kaggle.com/sohaibanwaar1203" rel="noopener ugc nofollow" target="_blank">在这里查看我的杰作</a></li><li id="54ac" class="lr ls in kv b kw ma la mb le mc li md lm me lq nn lx ly lz bi translated">GitHub:<a class="ae mf" href="https://github.com/SohaibAnwaar" rel="noopener ugc nofollow" target="_blank">https://github.com/SohaibAnwaar</a></li></ul></div></div>    
</body>
</html>