<html>
<head>
<title>How I Survived the Zombie Apocalypse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何在僵尸启示录中幸存的</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-i-survived-the-zombie-apocalypse-19905db22043?source=collection_archive---------0-----------------------#2020-11-11">https://blog.devgenius.io/how-i-survived-the-zombie-apocalypse-19905db22043?source=collection_archive---------0-----------------------#2020-11-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="f795" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">选择优秀的测试用例非常困难。除非你召唤亡灵。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/988df7ad4a9edc175ba886edbe7381ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jW6aLnT_IVFJPYaqV7egTQ.jpeg"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@yohannlibot" rel="noopener ugc nofollow" target="_blank">约翰·利博特</a>在<a class="ae kz" href="https://unsplash.com/s/photos/zombies" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="919a" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">问题是</h1><p id="acc4" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">对于大多数开发人员来说，软件测试是一门新的学科。</p><p id="a53d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">质量保证工程师有很好的用例创建方法。</p><p id="c479" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">此外，<a class="ae kz" href="https://en.wikipedia.org/wiki/Test-driven_development" rel="noopener ugc nofollow" target="_blank">测试驱动开发</a> (TDD)技术将开发人员推向了测试编写的世界。<em class="ki">(不测试世界因为 TDD 不是测试技术)</em>。</p><p id="85b3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是我们还没有准备好。</p><div class="md me gp gr mf mg"><a href="https://mcsee.medium.com/how-to-squeeze-test-driven-development-on-legacy-systems-3e66625c4fb1" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">如何在遗留系统上挤压测试驱动开发</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">我们都喜欢 T.D.D .我们知道它的好处，我们已经阅读了一千篇关于如何使用它来构建系统的教程…</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">mcsee.medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu kt mg"/></div></div></a></div><h1 id="3c48" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">TDD 个人旅程</h1><p id="6a10" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">我在 2005 年遇到了 TDD。我爱上了 XUnit 的回归、领域发现和全面覆盖。</p><p id="524f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">TDD 是一种不可思议的技术，但是决定测试什么是很麻烦的。</p><p id="0230" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我用混乱的方式写了几年 TDD 测试。</p><p id="359b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将总结我这些年学到的一些东西，希望能给新开发人员一些时间。</p><h1 id="931f" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">解决方案</h1><h2 id="7c4a" class="mv lb in bd lc mw mx dn lg my mz dp lk jv na nb lo jz nc nd ls kd ne nf lw ng bi translated">学习区分测试用例与测试数据</h2><p id="578f" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">大多数程序员喜欢数据和实例化，在处理抽象概念时有困难。</p><p id="f8de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">他们急于创建<em class="ki">测试数据</em>而忽略了选择<em class="ki">相关案例</em>的大局。</p><p id="4891" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">选择代表<em class="ki">测试用例</em>的<em class="ki">精确数据</em>应该是简单明了的。反之则不然。</p><p id="c617" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae kz" href="http://diranieh.com/Testing/TestCaseDesign.htm" rel="noopener ugc nofollow" target="_blank">等价划分</a>是一种挑选合适的大使<em class="ki">的技术</em>将所有可能的情况划分成有限数量的等价类。</p><p id="b009" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以合理地假设，对每个类的代表值的测试等同于对任何其他值的测试。</p><h2 id="69ae" class="mv lb in bd lc mw mx dn lg my mz dp lk jv na nb lo jz nc nd ls kd ne nf lw ng bi translated">给测试编号</h2><p id="0a9c" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">如果你正在开发 TDD 方式，创建顺序显示了你是如何处理问题的。</p><p id="3d84" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一种情况应该容易理解，耦合度非常低。</p><p id="c5e0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">需要我们慢慢增加我们的测试复杂度，这样我们就可以逐渐处理它。早期绿灯是无价的反馈。</p><h2 id="6fff" class="mv lb in bd lc mw mx dn lg my mz dp lk jv na nb lo jz nc nd ls kd ne nf lw ng bi translated">挑选僵尸代表</h2><p id="b1a8" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">僵尸测试是以下词的首字母缩写:</p><p id="18ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">z-零</p><p id="98bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个</p><p id="c5e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">M —许多(或更复杂)</p><p id="0260" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">B —边界行为</p><p id="65a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">I —接口定义</p><p id="b4dc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">e——锻炼特殊行为</p><p id="77d7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简单的场景，简单的解决方案</p><div class="md me gp gr mf mg"><a href="https://www.agilealliance.org/resources/sessions/test-driven-development-guided-by-zombies" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">僵尸引导的测试驱动开发|敏捷联盟</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">你是否曾经很难找到从哪里开始测试驱动开发的方法？如果僵尸可以帮助你建立…</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">www.agilealliance.org</p></div></div><div class="mp l"><div class="nh l mr ms mt mp mu kt mg"/></div></div></a></div><h2 id="ad92" class="mv lb in bd lc mw mx dn lg my mz dp lk jv na nb lo jz nc nd ls kd ne nf lw ng bi translated">例子</h2><p id="ab5f" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">让我们创建一封电子邮件<em class="ki"> T.D.D. Way </em>。</p><p id="a50c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一次一个行为！</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="29fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们从一个空的测试类开始:</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="7913" class="mv lb in nq b gy nu nv l nw nx">TestCase subclass: #EmailMessageTest<br/>    instanceVariableNames: ''<br/>    classVariableNames: ''<br/>    poolDictionaries: ''<br/>    category: 'Zombies'</span></pre></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="e1ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一个测试将是我们的(Z)ero。因为我们正在进行 TDD，所以我们还没有定义<em class="ki"> EmailMessage </em>类。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="02fd" class="mv lb in nq b gy nu nv l nw nx">test01ZeroRecipients</span><span id="9372" class="mv lb in nq b gy ny nv l nw nx">    self deny: (EmailMessage forRecipients: Array new) isValid</span></pre><p id="f8a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">名称 test01ZeroRecipients 由以下部分组成</p><ul class=""><li id="038f" class="nz oa in jm b jn jo jr js jv ob jz oc kd od kh oe of og oh bi translated">前缀<em class="ki">测试</em>在许多测试框架中是强制性的。(<em class="ki">强制</em>)</li><li id="a678" class="nz oa in jm b jn oi jr oj jv ok jz ol kd om kh oe of og oh bi translated">连续顺序(逐步显示学习/测试程序)。(<em class="ki">可选</em>)</li><li id="b9e3" class="nz oa in jm b jn oi jr oj jv ok jz ol kd om kh oe of og oh bi translated">零/一/多来代表僵尸。(<em class="ki">可选</em>)</li><li id="0275" class="nz oa in jm b jn oi jr oj jv ok jz ol kd om kh oe of og oh bi translated">功能描述(<em class="ki">强制</em>)</li></ul><p id="1d1b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们开始否认(断言错误)我们的第一封电子邮件将是有效的。(因为没有收件人)。</p><p id="540c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(否认等于<em class="ki">断言，因为不是</em>而是为了更清楚地阅读和避免双重否定)。</p><p id="b9f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们进行第一次测试。</p><p id="af11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki"> EmailMessage </em>类未定义</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="d9c5" class="mv lb in nq b gy nu nv l nw nx">Object subclass: #EmailMessage<br/>    instanceVariableNames: ''<br/>    classVariableNames: ''<br/>    poolDictionaries: ''<br/>    category: 'TDD-Zombies'</span></pre><p id="2af5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">接收方:</em>(施工方)</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="f2e7" class="mv lb in nq b gy nu nv l nw nx">forRecipients: recipients </span><span id="1dc4" class="mv lb in nq b gy ny nv l nw nx">    ^self new initializeForRecipients: recipients</span></pre><p id="4766" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">构造函数创建实例并用本质初始化(没有反模式设置器，没有从头开始的变化)。</p><div class="md me gp gr mf mg"><a href="https://medium.com/dev-genius/nude-models-part-ii-getters-b039e5ad3427" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">裸体模特第二部分:吸气剂</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">可靠的数据结构及其有争议的(读)访问。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="on l mr ms mt mp mu kt mg"/></div></div></a></div><div class="md me gp gr mf mg"><a href="https://codeburst.io/the-evil-powers-of-mutants-f803281ef82e" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">变种人的邪恶力量</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">变异就是进化。它是由查尔斯·达尔文爵士提出的，我们在软件行业中使用它。但是有些事情是…</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">codeburst.io</p></div></div><div class="mp l"><div class="oo l mr ms mt mp mu kt mg"/></div></div></a></div><p id="3be5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">私人</em>初始值设定项</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="1f4f" class="mv lb in nq b gy nu nv l nw nx">initializeForRecipients: emailRecipients </span><span id="1f10" class="mv lb in nq b gy ny nv l nw nx">    recipients := emailRecipients.</span></pre><p id="081f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">初始化器设置私有属性。</p><p id="ca68" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是<em class="ki"> isValid </em>的第一个(足够好的)实现。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="c03a" class="mv lb in nq b gy nu nv l nw nx">isValid<br/>     ^false</span></pre><p id="3585" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki"> isValid </em>被硬编码为<em class="ki"> false </em>。</p><p id="ff6f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是 TDD 值之一。最简单的解决方案应该是硬编码的。</p><p id="f13b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一次测试通过！！！</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="b8d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们去海边吧。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="96fa" class="mv lb in nq b gy nu nv l nw nx">test02OneRecipient</span><span id="81cb" class="mv lb in nq b gy ny nv l nw nx">    self assert: (EmailMessage forRecipients: (Array with: 'john@example.com')) isValid.</span></pre><p id="b43a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">测试不起作用，因为我们在上一步中将其硬编码为<em class="ki">假</em>。</p><p id="f8fd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们改变<em class="ki">是有效的</em>实现。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="eee5" class="mv lb in nq b gy nu nv l nw nx">isValid<br/>     ^recipients notEmpty</span></pre><p id="fe52" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个条件比较一般。现在 test01 和 test02 工作了！</p><p id="91f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们向 test02 添加新协议。这应该是一个不同的测试案例，但我们将超载测试 02，所以我们坚持每个僵尸一个测试。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="2067" class="mv lb in nq b gy nu nv l nw nx">test02OneRecipient</span><span id="cbec" class="mv lb in nq b gy ny nv l nw nx">    self assert: (EmailMessage forRecipients: (Array with: 'john@example.com')) isValid.<br/>    self assert: (EmailMessage forRecipients: (Array with: 'john@example.com')) plain = 'to: john@example.com'.</span></pre><p id="dac4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">纯文本</em>消息将从电子邮件中返回纯文本。我们来实施吧。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="b697" class="mv lb in nq b gy nu nv l nw nx">plain<br/>     ^'to: ' , recipients first.</span></pre><p id="e884" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将<em class="ki">连接到:</em>头和第一个接收者。硬编码。</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="be3a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(ZO)测试准备好了。让我们尽情享受吧。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="679f" class="mv lb in nq b gy nu nv l nw nx">test03ManyRecipients</span><span id="f944" class="mv lb in nq b gy ny nv l nw nx">    | message |<br/>    message := (EmailMessage forRecipients:<br/> (Array with: 'john@example.com' with: 'jane@example.com' with: 'lucas@example.com')).</span><span id="bc67" class="mv lb in nq b gy ny nv l nw nx">    self assert: message plain = 'to: john@example.com,jane@example.com,lucas@example.com'.<br/>    self assert: message isValid</span></pre><p id="e993" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这一点上<em class="ki">比</em>更难造假。这是一个提示，我们应该重构并制定一个通用的解决方案，而不是硬编码。</p><p id="2421" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Many 由一个 3 元素集合表示。<em class="ki">有效</em>工作，但<em class="ki">普通</em>无效。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="d4ee" class="mv lb in nq b gy nu nv l nw nx">plain<br/>     ^(recipients inject: 'to: ' into: [:plainText :address | plainText, address ,' ,' ]) allButLast</span></pre><p id="ffaa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个习语遍历 recipients(私有属性，没有 getters)，插入一个逗号(，)并删除最后一个(<em class="ki"> allButLast </em>)。既然我们没有<em class="ki">爆炸</em>。</p><div class="md me gp gr mf mg"><a href="https://medium.com/dev-genius/nude-models-part-ii-getters-b039e5ad3427" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">裸体模特第二部分:吸气剂</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">可靠的数据结构及其有争议的(读)访问。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="on l mr ms mt mp mu kt mg"/></div></div></a></div><p id="7e94" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3 次测试成功！(ZOM)</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="c28a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们应该解决边界问题。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="5c83" class="mv lb in nq b gy nu nv l nw nx">test04BoundaryRecipients</span><span id="e93e" class="mv lb in nq b gy ny nv l nw nx">    | recipients |<br/>    recipients := OrderedCollection new.<br/>    1 to: 10 do: [:index | recipients add: ('john', index asString, '@example.com')].</span><span id="09b2" class="mv lb in nq b gy ny nv l nw nx">    self deny: (EmailMessage forRecipients: recipients) isValid</span></pre><p id="b63d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们创建了 10 封不同的电子邮件<a class="ae kz" href="mailto:john1@example.com" rel="noopener ugc nofollow" target="_blank">john1@example.com</a>、<a class="ae kz" href="mailto:john2@example.com" rel="noopener ugc nofollow" target="_blank">john2@example.com</a>、…、<a class="ae kz" href="mailto:john10@example.com" rel="noopener ugc nofollow" target="_blank">john10@example.com</a>。</p><p id="0c5a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们决定 10 是这个练习中接收者大小的任意上限。有 10 个收件人的邮件无效。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="b054" class="mv lb in nq b gy nu nv l nw nx">isValid<br/>     ^recipients notEmpty and: [recipients size &lt; 10]</span></pre><p id="31db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该条件现在检查下限和上限。它等于:</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="91a9" class="mv lb in nq b gy nu nv l nw nx">isValid<br/>     ^recipients size between: 1 and: 9</span></pre><p id="c10f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由于我们有全面的覆盖，我们可以随时改变实施！</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="dc34" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">僵尸进来了。该是检查界面的时候了。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="8d45" class="mv lb in nq b gy nu nv l nw nx">test05InterfaceDefinition</span><span id="7cf8" class="mv lb in nq b gy ny nv l nw nx">    self should: [ EmailMessage forRecipients: 1 ] raise: Exception</span></pre><p id="acb9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们试图创建一个带有整数的消息，这违反了我们的接口，因此它应该会引发一个异常。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="6061" class="mv lb in nq b gy nu nv l nw nx">forRecipients: recipients </span><span id="c607" class="mv lb in nq b gy ny nv l nw nx">    recipients do: [:eachAddress | <br/>        eachAddress isString<br/>            ifFalse: [ self error: (eachAddress , ' is not a valid recipient')]].</span><span id="c249" class="mv lb in nq b gy ny nv l nw nx">    ^self new initializeForRecipients: recipients</span></pre><p id="af1b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们在创建时验证地址。这里没有无效对象！</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="5177" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我是僵尸。例外行为怎么样？</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="7c39" class="mv lb in nq b gy nu nv l nw nx">test06ExceptionalBehavior</span><span id="5472" class="mv lb in nq b gy ny nv l nw nx">    self should: [EmailMessage forRecipients: (Array with: 'john@example.com' with: 'john@example.com')] raise: Exception</span></pre><p id="049f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">根据我们的域名，重复是无效的。让我们检查他们！</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="dfce" class="mv lb in nq b gy nu nv l nw nx">forRecipients: recipients </span><span id="2890" class="mv lb in nq b gy ny nv l nw nx">recipients do: [:eachAddress | <br/>    eachAddress isString<br/>        ifFalse: [ self error: (eachAddress , ' is not a valid recipient')]].<br/>    (recipients asSet size = recipients size)<br/>        ifFalse: [self error: 'Duplicates'].</span><span id="f63d" class="mv lb in nq b gy ny nv l nw nx">    ^self new initializeForRecipients: recipients</span></pre><p id="a41b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们检查重复映射我们的收件人到一个集合，并检查两个大小。不是最好的表演方式。</p><p id="857b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要保持示例正常工作，避免过早优化。随着所有测试的运行，我们可以优化代码。</p><div class="md me gp gr mf mg"><a href="https://medium.com/dev-genius/code-smell-20-premature-optimization-60409b7f90ec" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">代码味道 20 —过早优化</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">提前计划需要一个水晶球，这是任何一个开发者都没有的。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="op l mr ms mt mp mu kt mg"/></div></div></a></div><p id="f358" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">可读性怎么样？方法太难看了。让我们做 TDD 第三步:重构。</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="fda4" class="mv lb in nq b gy nu nv l nw nx">forRecipients: recipients </span><span id="db41" class="mv lb in nq b gy ny nv l nw nx">     self assertAllAddressesAreValid: recipients.<br/>     self assertThereAreNoDuplicates: recipients.         <br/>    ^self new initializeForRecipients: recipients</span></pre><p id="56e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那更好！</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="97e1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后一次测试！简单的情景。在这一小块没有必要。出于教学目的，我们可以添加一种冗余方式:</p><pre class="kk kl km kn gt np nq nr ns aw nt bi"><span id="8cc3" class="mv lb in nq b gy nu nv l nw nx">test07SimpleScenarios</span><span id="c910" class="mv lb in nq b gy ny nv l nw nx">    self assert: (EmailMessage forRecipients: (Array with: 'john@example.com')) plain =     'to: john@example.com'</span></pre><p id="1070" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">仅此而已。我们用 TDD 建立了我们的模型，并且信心十足。全覆盖不镀金！。</p><ul class=""><li id="06cc" class="nz oa in jm b jn jo jr js jv ob jz oc kd od kh oe of og oh bi translated">没有空构造函数</li></ul><div class="md me gp gr mf mg"><a href="https://medium.com/dev-genius/code-smell-13-empty-constructors-8fa705fb3f33" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">代码味道 13 —空构造函数</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">不完整的对象会导致很多问题。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="oq l mr ms mt mp mu kt mg"/></div></div></a></div><ul class=""><li id="36a2" class="nz oa in jm b jn jo jr js jv ob jz oc kd od kh oe of og oh bi translated">模型是可汇总的</li><li id="0da5" class="nz oa in jm b jn oi jr oj jv ok jz ol kd om kh oe of og oh bi translated">没有 setters</li><li id="cba7" class="nz oa in jm b jn oi jr oj jv ok jz ol kd om kh oe of og oh bi translated">没有吸气剂</li><li id="d6fc" class="nz oa in jm b jn oi jr oj jv ok jz ol kd om kh oe of og oh bi translated">没有偶然的如果</li></ul><div class="md me gp gr mf mg"><a href="https://medium.com/dev-genius/how-to-get-rid-of-annoying-ifs-forever-317033474484" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">如何永远摆脱烦人的 if</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">为什么我们学习编程的第一条指令应该是最后使用的。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="or l mr ms mt mp mu kt mg"/></div></div></a></div><ul class=""><li id="cf9b" class="nz oa in jm b jn jo jr js jv ob jz oc kd od kh oe of og oh bi translated">没有空值</li></ul><div class="md me gp gr mf mg"><a href="https://medium.com/dev-genius/code-smell-12-null-64fbd7792a7c" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">代码气味 12 —空</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">程序员使用 Null 作为不同的标志。它可以提示缺席、未定义的值、错误等。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="os l mr ms mt mp mu kt mg"/></div></div></a></div><h1 id="fbb1" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="8898" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">有了这些提示，我们可以做非常基本的测试写作。</p><p id="95ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这对于 TDD 来说就足够了。</p><p id="e15c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">TDD 不会取代质量保证过程，QA 工程师会与开发人员一起工作，互相学习。</p><p id="bd60" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">开发软件是一项人类的协作活动。</p><p id="8067" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们一起欣赏吧！</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="0d11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这一系列文章的部分目标是为软件设计的辩论和讨论提供空间。</p><div class="md me gp gr mf mg"><a href="https://mcsee.medium.com/object-design-checklist-47c63d351352" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd io gy z fp ml fr fs mm fu fw im bi translated">目标设计清单</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">这是已经发表的软件设计文章的索引。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">mcsee.medium.com</p></div></div><div class="mp l"><div class="ot l mr ms mt mp mu kt mg"/></div></div></a></div><p id="cb49" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们期待着对这篇文章的评论和建议。</p></div></div>    
</body>
</html>