<html>
<head>
<title>One problem, five solutions — Primality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个问题，五种解决方案——素性</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/one-problem-five-solutions-primality-734078141bc3?source=collection_archive---------3-----------------------#2022-12-02">https://blog.devgenius.io/one-problem-five-solutions-primality-734078141bc3?source=collection_archive---------3-----------------------#2022-12-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="081b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">读者们好，这是本系列的又一集，我们将深入研究一个计算机科学问题，并用五种编程语言对其进行分析，这可能是今年本系列的最后一集，所以就当是我的圣诞礼物吧。</p><p id="d35a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们今天要解决的问题是一个经典的素性问题，我从 hackerrank 上摘下来的，让我们来看看问题描述:</p><p id="d0b0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi ki translated">一个 <strong class="jm io"> <em class="kr">质数是一个大于 1 的自然数，它除了 1 和它本身之外没有其他的正整数。给定一个 p 整数，确定每个整数的素性，并在新的一行返回素或不素。</em> </strong></p><p id="5395" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以如果数是质数我们返回<strong class="jm io"> <em class="kr">【质数】</em> </strong>如果不是那么<strong class="jm io"> <em class="kr">【非质数】</em> </strong>返回</p><p id="2ffa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有了上面的介绍，我想我们已经足够舒服了，可以开始寻找针对这个问题的解决方案了</p><h1 id="6571" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">朱莉娅</h1><p id="19a5" class="pw-post-body-paragraph jk jl in jm b jn lq jp jq jr lr jt ju jv ls jx jy jz lt kb kc kd lu kf kg kh ig bi translated">第一个解决方案来自本系列中的一种语言，Julia 语言的特性和简单性让我非常惊讶，即使你没有使用这种语言的经验，用 Julia 编写代码的感觉也是如此自然和甜美</p><pre class="lv lw lx ly gt lz ma mb bn mc md bi"><span id="fb8c" class="me kt in ma b be mf mg l mh mi">function primality(n)<br/>    if n &lt;= 1<br/>        return "Not prime"<br/>    end<br/>    <br/>    for x in 2:n-1<br/>        if n%x == 0<br/>            return "Not prime"<br/>        end<br/>    end<br/>    "Prime"<br/>end</span></pre><p id="a9c3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Julia 自动返回最后一条语句的方式非常有趣和有用，因为一旦 Julia 返回，我们只需验证它不是素数，如果它小于 1，它就不是素数</p><p id="8eff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果 n 大于 1，则创建一个从 2 到 n-1 的范围，我们设置一个循环来遍历它，如果 n 可以被这个范围内的任何值整除，我们只需返回<strong class="jm io"><em class="kr">【Not prime】</em></strong>。</p><h1 id="cf53" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">Vlang</h1><p id="da9f" class="pw-post-body-paragraph jk jl in jm b jn lq jp jq jr lr jt ju jv ls jx jy jz lt kb kc kd lu kf kg kh ig bi translated">在本文的所有解决方案中，我认为这个解决方案是最冗长的，因为 V 更接近于系统语言或者更明确的语言类型，比如 GO</p><pre class="lv lw lx ly gt lz ma mb bn mc md bi"><span id="ec2b" class="me kt in ma b be mf mg l mh mi">fn primality(n int) string {<br/> if n &lt;= 1 {<br/>  return "Not prime"<br/> }<br/><br/> arr_size := n-2<br/><br/> entries := []int{len: arr_size, init: it+2}<br/><br/> for i in entries {<br/>  if n%i == 0 {<br/>   return "Not prime"<br/>  }<br/> }<br/><br/> return "Prime"<br/>}</span></pre><p id="455f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个过程有点类似于 Julia 解决方案，我们检查 n 是否大于 1，如果不是，那么我们定义可能的整除值的大小，然后，我们填充一个可能是除数的条目数组</p><p id="142a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后在条目中执行一个循环，检查它是否可分，如果是，那么我们返回<strong class="jm io"> <em class="kr">【非素数】</em> </strong>，否则我们只需返回<strong class="jm io"> <em class="kr">【素数】</em> </strong>。</p><h1 id="e416" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">Java Script 语言</h1><p id="b97c" class="pw-post-body-paragraph jk jl in jm b jn lq jp jq jr lr jt ju jv ls jx jy jz lt kb kc kd lu kf kg kh ig bi translated">下一个解决方案是 JavaScript 解决方案，对于命令式语言来说，这个解决方案非常简短，我不喜欢的唯一一点是我不得不使用 for 循环，因为我认为它比手动改变状态的 while 循环更合适</p><pre class="lv lw lx ly gt lz ma mb bn mc md bi"><span id="3eee" class="me kt in ma b be mf mg l mh mi">const primality = (n) =&gt; {<br/>    if(n&lt;=1) <br/>        return "Not prime"<br/>    for (let divisor = 2; divisor &lt; n-1; divisor++) {<br/>        if(n%divisor == 0)<br/>            return "Not prime"<br/>    }<br/>    return "Prime"<br/>}</span></pre><h1 id="0fc3" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">长生不老药</h1><p id="964a" class="pw-post-body-paragraph jk jl in jm b jn lq jp jq jr lr jt ju jv ls jx jy jz lt kb kc kd lu kf kg kh ig bi translated">函数式语言在解决方案的格式上会有更多的分歧</p><pre class="lv lw lx ly gt lz ma mb bn mc md bi"><span id="65cb" class="me kt in ma b be mf mg l mh mi">defmodule Primality do <br/>  def primality(n) when n &lt;= 1 do<br/>    "Not prime"<br/>  end<br/>  def primality(2), do: "Prime"<br/>  def primality(n) do <br/>    any_divisible = Enum.any? 2..n-1, &amp;(rem(n, &amp;1)==0)<br/>    case any_divisible do <br/>      true -&gt; "Not prime"<br/>      _ -&gt; "Prime"<br/>    end<br/>  end<br/>end</span></pre><p id="bf6a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在解决方案中使用模式匹配，我们多次声明函数，在第一次声明中验证它是否小于 1，在第二次声明中验证它是否为 2，在最后一次声明中我们使用一个<strong class="jm io"><em class="kr">“any？”</em> </strong>验证 n 是否可被从 2 到 n-1 的区间中的任何条目整除的函数，如果是，我们返回<strong class="jm io"> <em class="kr">【非素数】</em> </strong>，否则我们只返回 case 结构中的<strong class="jm io"> <em class="kr">【素数】</em> </strong>。</p><h1 id="4332" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">哈斯克尔</h1><p id="fa10" class="pw-post-body-paragraph jk jl in jm b jn lq jp jq jr lr jt ju jv ls jx jy jz lt kb kc kd lu kf kg kh ig bi translated">第二种函数式语言也有一个不同于之前所有语言的解决方案</p><pre class="lv lw lx ly gt lz ma mb bn mc md bi"><span id="c232" class="me kt in ma b be mf mg l mh mi">primality n <br/>    | n &lt;= 1 || anyDivisible = "Not prime"<br/>    | otherwise = "Prime"<br/>    where<br/>        interval = [2..n-1]<br/>        anyDivisible = length (filter (\v -&gt; n`rem`v==0) interval) &gt; 0 </span></pre><p id="01ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 Haskell 中，我选择使用 guards 来验证条件，在 where 作用域上，我定义了一个从 2 到 n-1 的区间，并应用了一个过滤器来获取所有可能的除数。</p><p id="c6c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在第一个保护子句中，我们检查它是否小于 1，或者是否找到了任何约数，如果是，那么它不是素数</p><p id="d19f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">而在最后一个子句上，我们只需返回<strong class="jm io"><em class="kr">“Prime”。</em>T15】</strong></p><p id="6a13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">起初，我认为这个解决方案足够好，但后来我想起 Haskell 还有一个<strong class="jm io"><em class="kr">【any】</em></strong>函数，所以我对这个解决方案做了一些改进，使用了<strong class="jm io"><em class="kr">【any】</em></strong>函数，并计算了我在函数组合<strong class="jm io"><em class="kr">【function 2】中使用的布尔值。function1" </em> </strong>在这里，我执行除法的剩余部分，并将结果传递给第二个函数，比较它是否等于零。</p><pre class="lv lw lx ly gt lz ma mb bn mc md bi"><span id="dea0" class="me kt in ma b be mf mg l mh mi">primality n <br/>    | n &lt;= 1 || anyDivisible = "Not prime"<br/>    | otherwise = "Prime"<br/>    where<br/>        interval = [2..n-1]<br/>        anyDivisible = any ((0 ==) . (n`rem`)) interval</span></pre></div><div class="ab cl mj mk hr ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ig ih ii ij ik"><p id="bc64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就这样，我们在这个系列中又做了一集，在这个系列中尝试新语言和推出新语言非常好，当然，明年会有更多集，所以请继续关注<br/>祝你假期愉快，明年见！！<br/>感谢阅读！</p></div></div>    
</body>
</html>