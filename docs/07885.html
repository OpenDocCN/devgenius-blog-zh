<html>
<head>
<title>Bundle size JavaScript and Webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">捆绑大小 JavaScript 和 Webpack</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/bundle-size-javascript-and-webpack-8861ddd54620?source=collection_archive---------4-----------------------#2022-04-30">https://blog.devgenius.io/bundle-size-javascript-and-webpack-8861ddd54620?source=collection_archive---------4-----------------------#2022-04-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1109" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你曾经做过前端或后端 web 开发人员，你应该听说过包的大小。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/35c82bd766aae9587e6172f321ef13ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*AwGpys7eWz4TTD6LJRzvbQ.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">sizebot —关于关键包大小更改的注释</figcaption></figure><h1 id="13f9" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">包的大小有多重要？</h1><p id="72ba" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">假设为脸书工作的开发人员都很优秀。如果他们使用工具来测量束尺寸，这一定很重要。为了验证他们是否关心包的大小，我们可以访问他们的 GitHub 库。</p><p id="5ab1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下图显示了 ReactJS 首席开发人员 Dan Abramov 的一个 pull 请求。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi lx"><img src="../Images/e44b88edc7e3f5ca7e6c716f39d42c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g3nz3wdVKfMB_CuNbp6cPA.png"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">dan abramov 在 github 上对 reactjs 库的 pull 请求。Sizebot 评论了捆绑包大小的更改。</figcaption></figure><p id="b60d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Size-bot 对捆绑包大小的更改发表了评论。</p><p id="8d75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在图中，我们可以看到 size-bot 对包大小变化的评论。因为脸书使用一个工具来获得任何主要的包大小变化的通知，所以结论是它可能是重要的。</p><h1 id="9039" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">我为什么提到 Webpack？</h1><p id="aa6a" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">Webpack 是一个主要与 ReactJS 一起用于开发客户端应用程序的工具。快速刷新插件展示了一个 Webpack 的例子。Create-React-App 在引擎盖下使用 Webpack。我使用 Webpack 是因为在 ReactJS 文档和其他资料中经常提到它。</p><p id="2740" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我想说它已经被很好地采纳并成为主流。</p><p id="a429" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">另一方面，Rollup 用于构建 ReactJS 库，Webpack 不是唯一的选择。</p><p id="ae6b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为正确的工作选择正确的工具。</p><h1 id="d2be" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">捆绑大小指的是什么？</h1><p id="6d5a" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">你下载过电影吗？它大约有 1GB 大，你必须等半个小时才能下载完吗？</p><p id="5b33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">想象一下，如果你的互联网速度非常慢，你试图打开一个网页。那个网速慢的是 0.1 mb/s。</p><p id="1c11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mc">注意，</em> <strong class="jm io"> <em class="mc"> mb/s </em> </strong> <em class="mc">和</em><strong class="jm io"><em class="mc">Mbps</em></strong><em class="mc">不一样。从</em><strong class="jm io"><em class="mc">Mbps</em></strong><em class="mc">中得到</em><strong class="jm io"><em class="mc">MB/s</em></strong><em class="mc">你将 Mbps 除以 8，结果是</em><strong class="jm io"><em class="mc">MB/s</em></strong><em class="mc">。</em></p><p id="07bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mc">80 Mbps 的网速是 10 mb/s，你</em> <strong class="jm io"> <em class="mc">总</em> </strong> <em class="mc">应该想知道 mb/s，知道 mb/s 就很容易估算出 1Gb 下载有多快。</em></p><p id="3350" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<strong class="jm io"> 0.1 mb/s </strong>的网速下，我们访问一个网页需要下载<strong class="jm io">一个<strong class="jm io"> 0.4 Mb </strong>的 JavaScript 包</strong>。用户必须等待 4 秒钟来下载代码，然后让浏览器解析 HTML、CSS 和 JavaScript。</p><p id="7e27" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">等待在屏幕上看到东西的时间会让用户离开。你有没有因为几秒钟没有显示任何内容而离开页面的经历？我敢打赌你有，因为我有。</p><h1 id="781f" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">JavaScript 捆绑包是什么？</h1><p id="27f1" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">bundle 是代码的别称，因为在我们的代码通过 Webpack 之后，我们可以说它被打包了。</p><p id="3953" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当你去商店买新年礼物时，他们可能会问你几个问题。您的订单将根据您的回答进行定制。</p><p id="429d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">JavaScript 包也是如此。Webpack 将完成这项工作，并打包我们的代码运行所需的一切。</p><h1 id="1da9" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">JavaScript 包的大小是多少？</h1><p id="01fe" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我会说大概是字符数。如果你在谷歌上搜索“javascript bundle size calculator”并找到一个，这一点可以得到验证。</p><p id="224c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">或者，你可以去<a class="ae md" href="https://bundle.js.org/?text=%22console.log%28%27hi%27%29%22" rel="noopener ugc nofollow" target="_blank">bundle.js.org</a>然后按下 build。JavaScript 打印函数是捆绑在一起的，您可以看到输出的大小。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi me"><img src="../Images/0fa9f532c2659e2c91acbc956694e4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wmSRgXS3Mn30twNUTXjoOQ.png"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">显示 console.log 包大小的 bundle.js.org</figcaption></figure><p id="ab75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简单地说，JavaScript 包的大小意味着字符的数量。字符是简化的变量名、分号、函数名等。一切可以而且应该缩小的都将被缩小。</p><h1 id="4ad9" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h1><p id="1fbf" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">有了关于我们的代码发生了什么的所有背景信息，可以肯定地说，包的大小取决于字符的数量。</p><p id="97d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">字符的数量取决于 Webpack 在输出中提取的内容。</p><p id="a825" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">得出这样一个简单的结论需要很多信息:)</p></div></div>    
</body>
</html>