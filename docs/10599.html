<html>
<head>
<title>DWITE ’10 R3 #3 — Dominos Tiling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DWITE '10 R3 #3 —多米诺骨牌平铺</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/dwite-10-r3-3-dominos-tiling-f750630a460e?source=collection_archive---------12-----------------------#2022-11-14">https://blog.devgenius.io/dwite-10-r3-3-dominos-tiling-f750630a460e?source=collection_archive---------12-----------------------#2022-11-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3fca856edac9e7cea3b34d5c58bee858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E842OH_Xy-VqohoX5AmOWw.png"/></div></div></figure><p id="9476" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们来看一下这个问题的解决方案。简而言之，这个问题是问我们有多少种方法可以用 1x2 平铺一个 3xN 的矩形。在跳到解决方案之前，尝试处理一些简单的案例。</p><p id="616c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在试图解决这个问题时，有一个问题需要考虑:有没有 N 个没有镶嵌的地方？</p><p id="70bc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">是的，任何奇数 n 都没有 tilings，这是为什么？</p><p id="8ab8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于奇数 N 没有镶嵌，因为如果 N 是奇数，3xN 矩形的面积将是奇数，而 2x1 瓷砖的面积是偶数。因为没有办法用偶数矩形平铺奇数矩形，所以对于每个奇数 N，有 0 种方法用 2×1 平铺 3xN 矩形。</p><p id="70ff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们创建一个函数- f(N)，其中 f(N)是用 1x2 矩形平铺一块 3xN 板的方法的数量。我们来看看 N =2 的时候。</p><p id="1e05" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是 f(2)的一种可能性。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/0d662a8671960f13b0354998df04931e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*xfJ9AoHMNQ9xz3nnGv0sMw.jpeg"/></div></figure><p id="c9f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们也可以用 f 来表示。这将是 f(N-2)，因为当 N ≥ 2 时，我们剩下 N-2 个矩形。这意味着 f(N) = f(N-2)。</p><p id="b30e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">看起来会像这样:</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi kz"><img src="../Images/10ca4981bb0879c873a3a22a253ee8be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2Ka58Md_QU1vXEujD1Uwg.jpeg"/></div></div></figure><p id="30ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们对 f(2)还有两种情况:</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi la"><img src="../Images/955b4c444b559c3597da7a891125cc74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LxGvoIiSZ98GEDkPTbC26g.jpeg"/></div></div></figure><p id="135d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这意味着当 N = 2 时，有 3 种方法可以用 1x2 平铺块平铺 3x2 矩形。</p><p id="ee10" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，为了用 N 来表示，我们需要再一次改变它。我们不用 N=2 重新画一下，看看能得出什么。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lb"><img src="../Images/ec5e6c708fbea3e991aedf5513d2a612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dVkg8rOWCQPL4KQW1-RYjw.jpeg"/></div></div></figure><p id="4f1b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们创建一个新函数，g(N)。g(N)会考虑这两种情况。有了 g(N)，我们要么回到 f(N)，要么继续 g(N)流。让我解释一下。如果你要把一个新的垂直瓷砖放在另一个垂直瓷砖旁边，你可以得到 f(N-1)。或者，您可以放置 3 个水平块，然后继续沿着 g(N)向下移动 g(N-2)。让我举例说明。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lc"><img src="../Images/224c275d6ef4b656db69ccd42c0c378c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vODWOeIFxHcdR5ktF7TUsA.jpeg"/></div></div></figure><p id="5adb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这意味着 g(N) = f(N-1) + g(N-2)。</p><p id="b6de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个想法可以用来求解 N=4，其中 f(4) = 11。我会把这个证明留给你作为练习。这些将是我们的基本案例。f(2) = 3，f(4) = 11。</p><p id="f526" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，回到上面的案例:</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi la"><img src="../Images/955b4c444b559c3597da7a891125cc74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LxGvoIiSZ98GEDkPTbC26g.jpeg"/></div></div></figure><p id="bb36" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有 2g(N-1)种方法可以实现这一点。这意味着我们的函数，f(N)现在是:f(N) = f(N-2) + 2g(N-1)。</p><p id="a7ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这给了我们两个函数，让我们把它们标为 1 和 2，因为我们要做一些优化来获得更有效的函数。</p><p id="3df1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">1: f(N) = f(N-2) + 2g(N-1)</p><p id="03cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2: g(N) = f(N-1) + g(N-2)</p><p id="6061" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们用 N-1 来重写 g(N)。你很快就会明白为什么我们要这样做。</p><p id="b54c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3: g(N-1) = f(N-2) + g(N-3)</p><p id="7b11" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们把等式 1 和等式 3 加在一起。</p><p id="d464" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3:f(N)+g(N-1)= f(N-2)+2g(N-1)+f(N-2)+g(N-3)</p><p id="d4e1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">简化后，我们得到:</p><p id="53a6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3: f(N) = 2f(N-2) + g(N-1) + g(N-3)</p><p id="d9d4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">由于我们知道 g(N-1) = f(N-2) + g(N-3)，我们可以得到:</p><p id="8ca3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4:f(N)= 2f(N-2)+f(N-2)+g(N-3)+g(N-3)</p><p id="6e6a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4: f(N) = 3f(N-2) + 2g(N-3)</p><p id="b1d9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我们可以重新排列等式 1，从 N 中减去 2，得到:</p><p id="810c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2g(N-3) = f(N-2)- f(N-4)</p><p id="a70c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将此代入等式 4，我们得到:</p><p id="00b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">f(N) = 3f(N-2) + f(N-2) — f(N-4)</p><p id="6a56" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">简化后，我们得到:</p><p id="c964" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">f(N) = 4f(N-2) — f(N-4)</p><p id="d8b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我们可以使用这种递归来解决代码中的问题。这个问题告诉我们，每种情况下将有五行包含 N 的输入，因此我们可以用代码创建一个函数 f(N)。这是它在 c++中的样子。</p><pre class="kv kw kx ky gt ld le lf bn lg lh bi"><span id="06ed" class="li lj in le b be lk ll l lm ln">#include &lt;iostream&gt;<br/>#include &lt;cmath&gt;<br/>#include &lt;cstdio&gt;<br/>#include &lt;algorithm&gt;<br/>#include &lt;iostream&gt;<br/>using namespace std;<br/>int f(int n) {<br/> if (n % 2 == 1) {<br/>  return 0;<br/> }<br/> else if (n == 2) {<br/>  return 3;<br/> }<br/> else if (n == 4) {<br/>  return 11;<br/> }<br/> else {<br/>  return 4 * f(n - 2) - f(n - 4);<br/> }<br/>}</span></pre><p id="bffb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是算法本身。下面的代码获取输入并调用函数 f。</p><pre class="kv kw kx ky gt ld le lf bn lg lh bi"><span id="fb7a" class="li lj in le b be lk ll l lm ln">int main() {<br/> vector&lt;int&gt; results;<br/> for (int i = 0; i &lt; 5; i++) {<br/>  int N;<br/>  cin &gt;&gt; N;<br/>  results.push_back(g(N));<br/> }<br/> for (int i = 0; i &lt; results.size(); i++) {<br/>  cout &lt;&lt; results[i] % 1000000 &lt;&lt; endl;<br/> }<br/><br/><br/>}</span></pre><p id="1638" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请注意，这些问题特别要求以 1000000 为模输出输出。</p><p id="1a9b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望这有助于你更好地理解平铺式问题，如果你在理解中有任何问题，请在下面留下评论，并随时留下赞。</p></div></div>    
</body>
</html>