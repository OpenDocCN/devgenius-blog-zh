<html>
<head>
<title>How to Remove Modified or Changed Files from a Git Pull Request</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从Git Pull请求中删除修改或更改的文件</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/how-to-remove-modified-or-changed-files-from-a-git-pull-request-a7769e3c58da?source=collection_archive---------0-----------------------#2021-02-04">https://blog.devgenius.io/how-to-remove-modified-or-changed-files-from-a-git-pull-request-a7769e3c58da?source=collection_archive---------0-----------------------#2021-02-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/964f4027bd967a43c896c51ef625b186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tIagnvpMaAqUnzkAz7kH4w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@yancymin" rel="noopener ugc nofollow" target="_blank"> Yancy Min </a>在<a class="ae kc" href="https://unsplash.com/photos/842ofHC6MaI" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的原始照片；插图由<a class="ae kc" href="https://tremaineeto.com" rel="noopener ugc nofollow" target="_blank"> Tremaine Eto </a>绘制。</figcaption></figure><p id="8222" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当您在Bitbucket、GitHub、GitLab、SourceForge或其他Git服务器中作为服务发出pull请求时，您经常会遇到不需要的修改文件进入您的PR的情况。</p><p id="f012" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，你想删除它的理由是充足的。这可能只是您不小心在文件或其目录上运行了<code class="fe lb lc ld le b">$ git add</code>,并且不小心添加了它。可能文件只有格式更改、换行符或空格，而这些并不需要在目标分支中出现。可能是您改变了主意，不想将修改后的文件包含在这个特定的拉请求中。</p><p id="2138" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不管是什么原因，在不从项目中完全删除文件的情况下将文件从请求中提取出来的能力是非常有用的，并且是您将会一次又一次追求的——我知道我是这样做的。</p><p id="9153" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本着将拉取请求限制在重要的变更上并使它们更容易被审阅者理解的精神，请继续阅读如何实现这一点的一些简单步骤。</p></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="ccda" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">确保您在源分支上</h1><p id="e0ff" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">基本上，您需要确保在本地切换到创建拉请求的分支。因此，如果您在分支<code class="fe lb lc ld le b">feature/A</code>上，并且创建了一个将被合并到<code class="fe lb lc ld le b">master</code>中的拉请求，那么确保您在<code class="fe lb lc ld le b">feature/A</code>上。从命令行，您可以运行:</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="0f43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您<em class="mv">刚刚发出了</em>拉请求，那么很可能您已经在源分支上了，因此您根本不需要执行这个步骤。</p><p id="ed8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦你到了源分支，你就可以进入下一步。</p><h1 id="7aef" class="lm ln iq bd lo lp mw lr ls lt mx lv lw lx my lz ma mb mz md me mf na mh mi mj bi translated">覆盖您希望从提取请求中删除的文件</h1><p id="75cd" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">假设您不小心修改并提交了一个名为<code class="fe lb lc ld le b">src/main/java/DynamoDBClient.java</code>的文件。</p><p id="bf5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您现在可以做的是用不同的分支覆盖该文件。例如，您可以从<code class="fe lb lc ld le b">master</code>分支执行此操作，将它恢复到原来的状态。为此，请运行以下命令:</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="1cf0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，如果您运行<code class="fe lb lc ld le b">$ git diff</code>，您将看到原始文件已经在本地恢复，您之前不想要的更改已经被覆盖。</p><h1 id="22b5" class="lm ln iq bd lo lp mw lr ls lt mx lv lw lx my lz ma mb mz md me mf na mh mi mj bi translated">提交和推送以删除拉请求中的更改</h1><p id="1210" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">为了使pull请求正式化，现在您所要做的就是执行您通常的<code class="fe lb lc ld le b">$ git commit</code>和<code class="fe lb lc ld le b">$ git push</code>命令；分别地，您可以按以下一般格式运行它们:</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="b89a" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">警告</h1><p id="d62a" class="pw-post-body-paragraph kd ke iq kf b kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">这种方法适用于很多用例，但不是所有用例。</p><p id="5092" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，这将删除您的更改，因为您在“覆盖您希望从拉取请求中删除的文件”步骤中覆盖了它们。</p><p id="0b05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其次，这种变化在git历史中被跟踪，并把以前的提交也留在那里，一些用例希望完全清除这种情况。</p><p id="a597" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果这些不是太大的问题，那么我发现这是清理你无意犯下的错误的最简单快捷的方法之一。</p><div class="nb nc gp gr nd ne"><a href="https://tremaineeto.medium.com/membership" rel="noopener follow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd ir gy z fp nj fr fs nk fu fw ip bi translated">通过我的推荐链接加入媒体</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">tremaineeto.medium.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns jw ne"/></div></div></a></div></div></div>    
</body>
</html>