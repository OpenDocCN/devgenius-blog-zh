<html>
<head>
<title>A Brief about Rest APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Rest APIs 简介</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/a-brief-about-rest-apis-7e9a135cffb1?source=collection_archive---------7-----------------------#2022-08-06">https://blog.devgenius.io/a-brief-about-rest-apis-7e9a135cffb1?source=collection_archive---------7-----------------------#2022-08-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/ee00b9b3a2e9d75ef171cc392b5032de.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/0*-kdLJAF76IulaFn6.png"/></div></figure><p id="3d15" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我想你在看这篇文章之前已经听说过 REST APIs 了。但是也许你不知道基本知识，或者你可能不明白它的意思。</p><p id="8e64" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所以，我们从基础开始，看看<strong class="jt io"> API </strong>，(应用编程接口)，</p><p id="3d04" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">主要是指客户机和服务器之间的通信。通过不同的 Restful web 服务访问资源只不过是一种架构风格。例如</p><p id="1585" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如果您想要处理来自您的服务的所有用户，您必须创建一个 API 来与您的服务器后来的数据库进行通信。</p><p id="3408" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><strong class="jt io">解剖一个请求:</strong> <strong class="jt io">获取所有用户:</strong></p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="f51d" class="ky kz in ku b gy la lb l lc ld">URL: https://example.com/api/v1/users METHOD: GET REQUEST BODY: None HEADERS: Authorization: Bearer Token "....", Content-Type: application/json</span></pre><p id="b8a9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">您会得到所有用户的回复:</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="e59d" class="ky kz in ku b gy la lb l lc ld">{<br/>  "User": [<br/>    {<br/>      "property": [<br/>        {<br/>          "name": "username",<br/>          "value": "nimadmin"<br/>        },<br/>        {<br/>          "name": "password",<br/>          "value": "AAAAEDFsjJUDxVV9PK+2putOEiUsoPzGAcDjnMGFie4NC01Z"<br/>        }<br/>      ]<br/>    },<br/>    {<br/>      "property": [<br/>        {<br/>          "name": "username",<br/>          "value": "nimuser"<br/>        },<br/>        {<br/>          "name": "password",<br/>          "value": "AAAAEI6OGUMkIH/VZWc1wS+G2qTf9QUtmYdjOLdK/PJQLHZo"<br/>        }<br/>      ]<br/>    }<br/>  ]<br/>}</span></pre><p id="51bc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><strong class="jt io">请求端点</strong></p><p id="2aba" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">1.<strong class="jt io"> URL 或端点</strong>:路径决定了你所请求的资源，你一定见过类似:username，{username}，/authors？name=ankit 等。可以通过 HTTP 请求发送路径、查询参数和表单。</p><p id="6116" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">API 查询参数可以定义为可选的键值对，出现在 URL 中的问号之后。基本上，它们是 URL 的扩展，用于根据交付的数据帮助确定特定的内容或操作。使用“？”将查询参数附加到 URL 的末尾。问号符号用于分隔路径和查询参数。例如</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="0a0c" class="ky kz in ku b gy la lb l lc ld">https://example.com/articles?sort=ASC&amp;page=2 http//www.techopedia.com/search.aspx?q=database&amp;ion-all</span><span id="c791" class="ky kz in ku b gy le lb l lc ld">A. GET: It is used to get or fetch all or specific resources among the server. Commonly used to show data to the client side.</span><span id="5f2e" class="ky kz in ku b gy le lb l lc ld">B. POST: The post method is used to pass the data from client to server, Suppose a new user creation, then data would be further saved in the database with the help of the POST Method.</span><span id="e879" class="ky kz in ku b gy le lb l lc ld">C. PUT: PUT is similar to POST in that it can create resources, but it does so when there is a defined URL wherein PUT replaces the entire resource if it exists or creates new if it does not exist. </span><span id="cab3" class="ky kz in ku b gy le lb l lc ld">D. PATCH: Unlike PUT Request, PATCH does partial updates e.g. Fields that need to be updated by the client, only that field is updated without modifying the other field. </span><span id="0a1d" class="ky kz in ku b gy le lb l lc ld">E. DELETE: If you perform a DELETE request, the server deletes an entry in the database and tells you whether the deletion is successful. A DELETE request performs a DELETE operation. </span><span id="db05" class="ky kz in ku b gy le lb l lc ld">F. OPTIONS method returns info about API. G. HEAD method returns info about resources.</span></pre><p id="cf5d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">3.<strong class="jt io">头</strong>:这是一个<strong class="jt io"> HTTP </strong>头，可以在<strong class="jt io"> HTTP </strong>请求中使用，提供关于请求上下文的信息，以便服务器可以定制响应。例如，<code class="fe lf lg lh ku b">Accept*</code>头指示响应的允许格式和首选格式。其他头可以用于提供认证凭证(例如<strong class="jt io"><em class="li"/></strong>)、控制缓存、获取关于用户代理或推荐者的信息等。</p><p id="1266" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">4.<strong class="jt io"> Data/Body </strong>:数据包含了你想要发送到服务器的信息。该选项仅用于<code class="fe lf lg lh ku b">POST</code>、<code class="fe lf lg lh ku b">PUT</code>、<code class="fe lf lg lh ku b">PATCH</code>或<code class="fe lf lg lh ku b">DELETE</code>请求。例如</p><p id="075c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">XML 响应:</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="2b21" class="ky kz in ku b gy la lb l lc ld">&lt;Person&gt; &lt;mobile&gt;1234567890&lt;/mobile&gt; &lt;firstName&gt;Shanaya&lt;/firstName &gt; &lt;lastName&gt;Mehta&lt;/lastName&gt; &lt;age&gt;25&lt;/age&gt; &lt;/Person&gt;</span></pre><p id="e218" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">JSON 回应:</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="77e3" class="ky kz in ku b gy la lb l lc ld">{ "mobile":"1234567890", "firstName":"Sub", "Lastname":"Stack", }</span></pre><p id="aa5e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">说明不同 RESTful API 端点的表格</p><p id="b66f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们也理解为什么它被称为<strong class="jt io"> REST </strong>，(表述性状态转移)，当浏览器(客户端)能够向服务器发送多个请求时，服务器不需要关于客户端本身的信息，因此它是一个<strong class="jt io">无状态数据事务。</strong> <br/> Restful Routes 是一套标准的规则，通过使用一套<strong class="jt io"> HTTP 方法</strong>来完成服务器请求，用来执行<strong class="jt io"> CRUD </strong>操作。</p><p id="4282" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">客户端和服务器之间的通信必须是无状态的。这意味着从客户端到服务器的每个请求都必须包含完成交易所需的所有信息。</p><p id="bd1a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这种约束的主要优点是系统能够更好地伸缩，因为服务器不必存储请求之间的客户端状态。不必记住客户机状态信息释放了服务器资源，因此它可以同时为更多的客户机服务。</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="8a94" class="ky kz in ku b gy la lb l lc ld">An operation is said to be idempotent if it doesn't change the result even when applied multiple times. The multiple operations will have the same effect leaving us with the same result that we obtained when it was applied initially for the first time.</span></pre><p id="91ad" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">最初，当我们用 1 乘以 1 时，我们得到的结果是 1。之后，无论我们做多少次同样的乘以 1 的运算，最终结果都是一样的。因此，这是一个幂等运算。</p><p id="446e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">上面的乘以 5 的运算不是幂等的。因为每次应用该操作时，最终结果都会像 25、125、…</p><blockquote class="lj lk ll"><p id="8015" class="jr js li jt b ju jv jw jx jy jz ka kb lm kd ke kf ln kh ki kj lo kl km kn ko ig bi translated"><strong class="jt io"><em class="in">REST API 和幂等:</em> </strong></p></blockquote><p id="a0b6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">当我们说一个 HTTP 方法在 REST API 上下文中是<strong class="jt io">等幂的</strong>时，我们的意思是如果我们一个接一个地发送多个相同的请求，只有最初的请求会导致系统底层状态的改变，而所有后续的请求将保持状态不变<strong class="jt io">。</strong></p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="0213" class="ky kz in ku b gy la lb l lc ld">Method  Is Idempotent  Is Safe<br/>HEAD        yes         yes<br/>OPTIONS     yes         yes<br/>GET         yes         yes<br/>POST        no          no<br/>PUT         yes         no<br/>PATCH       no          no<br/>DELETE      yes         no</span></pre><p id="3481" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如果你想知道<strong class="jt io">是安全的</strong>栏是什么意思，那就是任何不修改服务器状态的 HTTP 方法都被归类为安全方法。如果你看一下这个表，所有用来检索数据的方法(GET、HEAD、OPTIONS)都是安全的，因为它们的处理程序本质上是一个读端点。</p><p id="963c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">当客户端请求服务器时，服务器提供 HTTP 响应状态代码，这允许我们了解网站后端发生了什么，并确定需要修复哪些错误。所有 HTTP 响应状态代码分为五类。</p><p id="16c0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">状态代码的第一个数字定义了响应的类别。第一位有五个值:<br/> <strong class="jt io"> <em class="li"> 1xx(信息):</em> </strong>浏览器发起的请求正在继续。<br/> <strong class="jt io"> <em class="li"> 2xx(成功):</em> </strong>请求被服务器成功接收、理解并处理。<br/> <strong class="jt io"> <em class="li"> 3xx(重定向):</em> </strong>请求的信息不再位于所提供的地址，需要采取进一步的措施来完成请求。<br/> <strong class="jt io"> <em class="li"> 4xx(客户端错误):</em> </strong>客户端的请求出现问题时。<br/> <strong class="jt io"> <em class="li"> 5xx(服务器错误):</em> </strong>当客户端发出有效请求，但服务器无法完成转账。</p><p id="e0fd" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这就对了。关于 RESTful APIs，你需要知道的差不多就这些了！</p><p id="ee16" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我希望阅读这篇文章能让你对相同的工作有一个简单的概念。请让我知道你想知道更多关于 RESTful APIs 的内容，以及你想让我给这篇文章添加什么，以便它能提供更多的信息，更容易理解，尤其是对初学者来说！</p><p id="e023" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我还建议您动手做一个自己的 rest API。</p><p id="ac3c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><strong class="jt io">还有，跟我上媒:</strong><a class="ae lp" href="https://jinxankit.medium.com" rel="noopener"><strong class="jt io">https://jinxankit.medium.com</strong></a></p><p id="750c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">参考:</p><p id="7d2e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><a class="ae lp" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Introduction" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Learn/JavaScript/Client-side _ web _ APIs/简介</a><a class="ae lp" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" rel="noopener ugc nofollow" target="_blank">https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a><a class="ae lp" href="https://medium.com/edureka/what-is-rest-api-d26ea9000ee6" rel="noopener">https://medium.com/edureka/what-is-rest-api-d26ea9000ee6</a><a class="ae lp" href="https://medium.com/codex/everything-about-rest-api-4ab4ee9ea2c8" rel="noopener">https://medium . com/codex/everything-about-rest-API-4 ab 4 ee 9 ea 2 c 8</a></p></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><p id="87a3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><em class="li">原载于 2022 年 8 月 6 日 https://jinxankit.substack.com</em><em class="li"><a class="ae lp" href="https://jinxankit.substack.com/p/a-brief-about-rest-apis" rel="noopener ugc nofollow" target="_blank"><em class="li">。</em></a></em></p></div></div>    
</body>
</html>