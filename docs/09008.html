<html>
<head>
<title>Python data processing — Importing Libraries &amp; Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 数据处理-导入库和数据</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/python-data-processing-importing-libraries-data-datatelier-b3b4c7ac43e1?source=collection_archive---------10-----------------------#2022-07-24">https://blog.devgenius.io/python-data-processing-importing-libraries-data-datatelier-b3b4c7ac43e1?source=collection_archive---------10-----------------------#2022-07-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/39789a08a4962adb99fdb9573a1b3d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GfloMGsNpm0UgaWO"/></div></div></figure><p id="b2c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我的关于 Python 数据处理的介绍性文章中，我谈到了在 Anaconda 上使用 Jupyter Notebook，这是一种简单的方法，只需点击几下鼠标就可以获得完全可操作的 Python 环境。我们还看到了用于数据处理的 Python 脚本的一般结构，这只是为了快速入门，而不是深入细节。</p><p id="fa5d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，我想给你更多的元素来理解实际的代码，这样你就可以开始一步一步地构建你自己的 Python 脚本。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="4da5" class="lg lh iq lc b gy li lj l lk ll">· <a class="ae kw" href="#2a7c" rel="noopener ugc nofollow">Python essential Packages and Libraries for Data Science</a><br/>· <a class="ae kw" href="#63d5" rel="noopener ugc nofollow">Importing Libraries in our Python script</a><br/>· <a class="ae kw" href="#6987" rel="noopener ugc nofollow">Importing data into Python</a></span></pre><h1 id="2a7c" class="lm lh iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">用于数据科学的 Python 基本包和库</h1><p id="ac8c" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">我们现在想开始用 Python 处理数据。实际上，不是“通用”Python，而是通过<br/>使用一些使数据操作和分析非常方便的包。</p><p id="7b8d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">数据处理的核心包是<strong class="ka ir">熊猫</strong>，能够处理表格数据、导入文本文件、处理时间序列等。<br/>作为补充，我们经常需要使用另一个著名的包<strong class="ka ir"> NumPy </strong>(用于科学计算，<br/>多维数组，高级数学运算等。)，这简化了我们可能需要做的一些操作。</p><p id="decb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，我们可能想要创建数据可视化或图形分析，为此，Matplotlib 库是我们的首选。</p><p id="308c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">还有其他非常有用的包和库，比如<strong class="ka ir"> Seaborn </strong>(用于统计数据可视化)<strong class="ka ir"> Scikit-learn </strong>(用于机器学习)，在某些时候我们可以使用。</p><p id="19df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关于措辞“库”vs“包”的注意事项:严格来说，“包”是<br/>模块的集合，“库”是包的集合。但实际上，你会经常看到 Pandas <br/>和 Numpy 被称为“库”，这是合理的，因为它们是非常复杂的包。</p><p id="923b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从现在开始，我将使用“库”来做任何事情，保持简单。</p><p id="e4c8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们开始构建我们的第一个 Python 数据处理脚本。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="63d5" class="lm lh iq bd ln lo mv lq lr ls mw lu lv lw mx ly lz ma my mc md me mz mg mh mi bi translated">在我们的 Python 脚本中导入库</h1><p id="36b6" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">在我们所有的 Python 数据处理中，我们从导入库开始，至少是<strong class="ka ir"> Pandas </strong>和<strong class="ka ir"> NumPy </strong>。</p><p id="982e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们先看看代码，然后再了解一些相关的理论</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="8292" class="lg lh iq lc b gy li lj l lk ll">import pandas as pd # tabular data processing, CSV file I/O (e.g. pd.read_csv) import numpy as np # scientific computing</span></pre><p id="a974" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以把它写在我们的 Jupyter 笔记本上(参见我的<a class="ae kw" href="https://datatelier.com/getting-started-with-python-data-processing/" rel="noopener ugc nofollow" target="_blank">介绍文章</a>了解如何写)，然后按 Run 执行代码，我们没有得到任何输出，这是正常的。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/ee227cd41117ffb82a96acecceb361e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f3RIhPFAQKbBpC4F"/></div></div></figure><p id="37f1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们当前的脚本中，<strong class="ka ir"> import </strong>命令导入一个库，一个包，甚至一个模块。通过这样做，外部组件的所有功能都被导入并可以在我们的脚本中使用。</p><p id="e49b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> as pd </strong>部分告诉 Python，我们希望通过一个简短的别名来引用导入的库，以用于脚本的其余部分。</p><p id="0297" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">pd 和 np 是最常用的别名。</p><p id="b131" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们从 Python 中的实际数据处理开始。首先:最自然的开始是将数据导入 Python。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="6987" class="lm lh iq bd ln lo mv lq lr ls mw lu lv lw mx ly lz ma my mc md me mz mg mh mi bi translated">将数据导入 Python</h1><p id="26ae" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">数据可以来自不同的来源:文本文件、数据库等，但最终，在 Python 中，我们以相同的方式存储它们，通过相同的数据“容器”结构(称为“数据帧”)，我们将在另一篇文章中讨论。</p><p id="3ef3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们导入一个逗号分隔文件(csv ),并探索一些有用的选项来正确解释源格式。你可以在这里得到源文件<a class="ae kw" href="https://datatelier.com/download/832/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3f7c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通常源文件看起来非常丑陋，人们想知道我们如何能得到对它有洞察力的分析。嗯，这是 Python 熊猫的用武之地，将允许真正深入和好看的分析。我们在本帖中使用的源 csv 给出了一些关于客户的信息:每一行是一个不同的客户，对于任何一个客户给出了 5 个不同的信息:</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/fdac0f4af1acab1544190b4ad7bdf1de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NWY57KMXur0CSZ0s"/></div></div></figure><p id="a44b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了在我们的 Jupyter 笔记本中将它导入 Python，我们使用 read_csv 方法，其最简单的形式是:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="53ee" class="lg lh iq lc b gy li lj l lk ll">df = pd.read_csv('./JupyterSourceFiles/Mall_Customers.csv')</span></pre><p id="dfcd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意，对于文件名，语法指的是 Anaconda 主文件夹中的相对文件夹路径。你可以选择任何其他路径，甚至是绝对路径。</p><p id="57d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> pd.read_csv </strong>部分从 pd 库中调用 read_csv 方法，结果存储在变量 df 中，这是一个 DataFrame 结构，我们将在其他帖子中讨论。一旦运行了命令(在 Jupyter 笔记本中)</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/c6931d40014d8a57b61aedbddb68af9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/0*A5NfNirljtVCrPXp"/></div></figure><p id="bf35" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看起来什么都没发生，但实际上是的，您刚刚将第一个 csv 文件导入到 Python 中。要显示导入的内容，只需输入刚刚创建的变量来存储导入的文件，在我的例子中是<strong class="ka ir"> df </strong></p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/cb25b0d19b3fdd8141dde83641e0e68f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/0*gG4W6iUUxM21gsjz"/></div></figure><p id="b544" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里我们使用的是 csv，但是 Pandas 有许多其他方法专门用于几种文件类型:excel、json 等。</p><p id="aebd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看主 read_csv()的常见变体，以获得灵活性:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="b621" class="lg lh iq lc b gy li lj l lk ll">df = pd.read_csv('./JupyterSourceFiles/Mall_Customers.csv', sep=';')</span><span id="4cf8" class="lg lh iq lc b gy ne lj l lk ll">df = pd.read_csv('./JupyterSourceFiles/Mall_Customers.csv', header = None)</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/767a5dbdbc9b390991133ffc15c6f354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/0*zB9DVIKvvLWDBOFG"/></div></figure><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="741e" class="lg lh iq lc b gy li lj l lk ll">df = pd.read_csv('./JupyterSourceFiles/Mall_Customers.csv', index_col = 'CustomerID')</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/68947c20d8f0d704e349ff41d115c40c.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/0*aA4INlcmtg2Ckrbn"/></div></figure><p id="5f67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以从<a class="ae kw" href="https://datatelier.com/download/1177/" rel="noopener ugc nofollow" target="_blank">这里</a>下载 Jupyter 笔记本文件。</p><p id="628a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下一步将是，理解数据框架如何工作，操纵和探索它们的方法。</p><p id="bc52" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢阅读。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><p id="9cf5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="http://eepurl.com/humfIH" rel="noopener ugc nofollow" target="_blank">随时订阅我的<strong class="ka ir">【分享数据知识】</strong>简讯<strong class="ka ir">。</strong>T15】</a></p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/97360d2ffc129b1d1bc250cf0ff4a0eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:402/format:webp/0*DRkwUclmr8a4O85W.png"/></div></figure><p id="8299" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想订阅《灵媒》,请随意使用我的推荐链接<a class="ae kw" href="https://medium.com/@maw-ferrari/membership" rel="noopener">https://medium.com/@maw-ferrari/membership</a>:对你来说，费用是一样的，但它间接有助于我的故事。</p><p id="e43e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">原为 2022 年 7 月 24 日在</em><a class="ae kw" href="https://datatelier.com/python-data-processing-importing-libraries-data/" rel="noopener ugc nofollow" target="_blank"><em class="ni">https://datatelier.com</em></a><em class="ni">发布。</em></p></div></div>    
</body>
</html>