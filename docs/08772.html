<html>
<head>
<title>Simple TDD in Julia and C++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Julia 和 C++中的简单 TDD</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/simple-tdd-in-julia-and-c-e71df9dc396a?source=collection_archive---------5-----------------------#2022-07-09">https://blog.devgenius.io/simple-tdd-in-julia-and-c-e71df9dc396a?source=collection_archive---------5-----------------------#2022-07-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="6099" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我从 python 开始，在遇到限制后，我跳过了 Julia、Go 和 Rust 中的项目。最近，我一直在塞勒学院学习 C++课程。在学习所有这些不同的编译语言的同时，我还阅读了一些编程书籍，比如 Pete Goodliffe 的《成为一名更好的程序员》和 Emily Bache 的《编码 Dojo 手册》。在过去的一年里，我学到了很多，不仅仅是语法，还有结构、心态、耐心和纪律。</p><p id="897d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我想先谈谈我从上述两本书中学到的东西。虽然这些书没有教你编码，但是它们教你不仅要考虑你将来要写的代码，还要考虑你已经写的代码。这两位程序员都非常强调 TDD(测试驱动开发)。这个概念背后的主要思想是:</p><p id="9f2c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在写程序之前，先写一两个测试。<strong class="jm io"> <em class="kj">写的代码只够通过</em> </strong>的测试。通过它们之后，根据需要进行重构，并编写另一个测试。</p><p id="d1dc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这两位作者也非常强调反思。最重要的是，我们要审视并重构我们的旧代码，这样我们才能从错误中吸取教训，并作为开发人员更好地了解自己。将来，我会用我自己的代码做这件事，并在 medium 上发表。事不宜迟，让我们从一个使用经典的“Hello World”程序的例子开始。</p><p id="5e27" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">c++示例</strong></p><p id="fa08" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在你喜欢的任何文件夹中，创建一个“hello.cpp”文件。我们将从添加基本的依赖项开始，就像我们做任何事情一样。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi kk"><img src="../Images/0c72bcbaba1aedff01d2192ca9b608e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*IBqzRdjlkLpMohTR7HLZpA.png"/></div></figure><p id="afd1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在是时候添加我们的第一个测试了，记住这一定是一个失败的测试。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi ks"><img src="../Images/d14643d51a425bf20c15b25384f52bb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*NQtfLUgOvtx3TOYb1GnwyA.png"/></div></figure><p id="d45c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行它并…</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi kt"><img src="../Images/0f9ffb0bcdfb7af0c6d846146b48122e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mo_X1NlLrS3r4lS1yaPL4w.png"/></div></div></figure><p id="6b9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">等等，我们的程序怎么会通不过这个测试？如果您仔细观察，您会注意到，我们没有添加库来包含我们的测试功能。哦，讽刺的是…让我们改变这一点。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/730faf90a278f0656e95f158b4e5419f.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*jo_2f7fQMmaxAp0KGQjk_Q.png"/></div></figure><p id="7669" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行它…</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi kz"><img src="../Images/ae70038894ff99725ed175b0eac29c24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hJZLoc_Pn-zbiHN9xfjTg.png"/></div></div></figure><p id="e530" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好吧，有些进步，我猜是小步前进。</p><p id="8619" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们添加一个真正的测试。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi la"><img src="../Images/739f7232351b90d8becd893be9df19be.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*vUdj1LBWdlDJ6gtXrSxaNA.png"/></div></figure><p id="2476" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个测试应该会产生这样的错误。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lb"><img src="../Images/f8bab3d6552091420cd01009a4559c5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SqCzV-zI5zWBZSNQpC0Kvg.png"/></div></div></figure><p id="88b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">太好了，我们测试失败了，现在让我们添加代码使它通过。我们首先添加一个函数来打印字符串“Hello World！”。首先，我们需要添加 string 类。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/b6b86a5d66d07700051e8c7a78f66584.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*7ATfFrc7xlrg-YlQT4KvVg.png"/></div></figure><p id="d8ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们可以定义我们的函数了。随你怎么定义，这是我的。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi ld"><img src="../Images/750c1ecedd49e9c6db875201e6bec106.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*38voE2oozbbaezt7tXuEyA.png"/></div></figure><p id="d6a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行程序，应该会通过。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi le"><img src="../Images/8cdef1b2f3bb3fe40af4b227d77d6db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CjCwApwv_9KT2YCb49vOMA.png"/></div></div></figure><p id="cb3d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是等等，我们没有打印到控制台，只是为了整理，让我们在 main 内部调用我们的函数，然后运行它。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/9260da5c5f079aca3c76878405fa5968.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*MJBvaQqsyVHiKZv02zApmg.png"/></div></figure><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lg"><img src="../Images/65f9e5f529fe49bd75bfac98d783572b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ltVjLtRXsXh-9FLQae2scw.png"/></div></div></figure><p id="582c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">成功。</p><p id="450f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">让我们在茱莉亚身上做同样的事情</strong></p><p id="a45e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在 Julia 中，我们将使用 assert 宏。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/947828bbdce0ea2711c16f1a145cc064.png" data-original-src="https://miro.medium.com/v2/resize:fit:406/format:webp/1*zI6WTZz5ekqlGmppAjv9Gw.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">测试以确保我们有测试</figcaption></figure><p id="81c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行它</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/e35b04e37acaee4a76e763a803b869c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*OaSYifGuD-Rowx2BMdoPSw.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">它跑了</figcaption></figure><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lm"><img src="../Images/5b566ec87e2043d7b68753d6cd03c1bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*a0s9J4fHv9SdjSF4oqZ-gg.png"/></div></div></figure><p id="745d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行它</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/b7bfd8275601d1397febf01ebfd8ec40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*tTqLArlQLXk6ydAc8SYHWw.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">呜哇！我们测试失败了</figcaption></figure><p id="5665" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们定义我们的功能</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/bcec83ec86512d4eac81dce1cb90dc4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*VALP2fgANwOW_-yBeVH-DQ.png"/></div></figure><p id="9a92" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行它</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/e551468db424ac0bbe71ebcb2cf9e601.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*zCppnmg_Hn9bSrzGsNJRDg.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">测试通过</figcaption></figure><p id="64a2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是时候出版了。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/64899b64f00097ca338bc006cecf0890.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*4FTNNHkk2-OVsFTSqsxIdA.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk translated">这是整个程序</figcaption></figure><p id="a7a9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行它</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/8e440a5a02f875b9c0988fd79054a9bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*QsyNWFWJXcWLNxtgml5QPQ.png"/></div></figure><p id="1fb0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在你知道了。</p></div></div>    
</body>
</html>