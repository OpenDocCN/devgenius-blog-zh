# PHP — P6:整数

> 原文：<https://blog.devgenius.io/php-7-x-p6-integers-d003609694b1?source=collection_archive---------13----------------------->

![](img/5069bb9f4eddac2d91bf9daec120a0b2.png)

整数数据类型表示整数，可以是正数、负数或零，而不是分数。在我们进入任何值得研究的内容之前，让我们看一个简单的例子。

创建一个新的 PHP 文件，并将下面的代码复制到其中。

```
<?php
$x = 0;
$y = 1;
$z = -2;echo $x + $y + $z;?>
```

结果应该是-1。我知道我们还没有看到算术运算符，但是我确信你能理解前面例子中+运算符的作用。我们将三个变量$x，$y 和$z 设置为 0，1 和-2，将它们相加，并回显它们。

现在我们已经看了一个简单的例子，让我们来看一些细节，为什么整数是一个重要的讨论话题。它不仅仅在 PHP 中重要，在任何编程语言中都很重要。

对于 32 位和 64 位操作系统，整数数据类型都有最大值和最小值。

## 32 位操作系统

最小值:-2147483647
最大值:+2147483647

为什么这很重要？因为您的结果可能与您的预期不同。我们将$x 设置为最大整数值 2147483647。我们将$y 设置为最大整数值+ 1，即 2147483648。

```
<?php
$x = 2147483647;
$y = 2147483648;echo "X: " . $x . "<br>";
echo "Y: " . $y . "<br>";?>
```

根据你的电脑类型，你要么会看到正确的值，要么会发生一些奇怪的事情。我运行的是 64 位操作系统，所以这些值会正确显示。

X: 2147483647
Y: 2147483648

## 64 位操作系统

最小值:-9223372036854775807
最大值:+9223372036854775807

我们将重复同样的过程。我们将设置$x 等于 9223372036854775807，而$y 等于 64 位操作系统的最大整数值加 1，9223372036854775808。

```
<?php
$x_64 = 9223372036854775807;
$y_64 = 9223372036854775808;echo "X-64: " . $x . "<br>";
echo "Y-64: " . $y . "<br>";?>
```

如果你在 64 位平台上运行，你会得到什么？$x 的结果显示正确，但$y 的结果显示不正确。

x-64:9223372036854775807
Y-64:92233720368548 e+18

最大值超过了整数数据类型的存储容量，被自动转换为双精度值。double 允许您存储整数和小数类型的数字，并且比 integer 数据类型具有更大的存储容量。借助 gettype() PHP 函数，我们可以测试每个变量中存储了哪些数据类型。

```
<?php
$x = 2147483647;
$y = 2147483648;
$x_64 = 9223372036854775807;
$y_64 = 9223372036854775808;echo "X32 Data Type: " . gettype($x) . "<br>";
echo "Y32 Data Type: " . gettype($y) . "<br>";
echo "X64 Data Type: " . gettype($x_64) . "<br>";
echo "Y64 Data Type: " . gettype($y_64) . "<br>";?>
```

如果您运行的是 64 位操作系统，您会注意到$x、$y 和$x_64 是整数，而$y_64 是双精度数。

X32 数据类型:整数
Y32 数据类型:整数
X64 数据类型:整数
Y64 数据类型:双精度

您什么时候可能会遇到这个问题？大多数 PHP 应用程序都有某种数据库访问。我们将在稍后讨论数据库，但是现在，把它们想象成 excel 表格。您可以将数据存储到其中，然后从其中检索信息。您将指定在每个单元格中存储什么类型的数据，以及数据库限制对该单元格的访问。如果你指定你存储的是一个整数，而你试图存储一个双精度数，那么它会从数字中去掉所有的小数点。

根据在线讨论板上不断出现的问题，我不得不说，相当多的开发人员已经指定，当他们在数据库中存储电话号码时，他们将存储一个整数值。

您继续将数千个电话号码添加到数据库中，并且您很快意识到其中大多数已经被转换为 2147483647。如果您不知道您的数据库使用了 32 位架构，您将会完全不知所措。

看看 32 位系统的最大整数值；它类似于一个电话号码。

> 214-748-3647

如果您尝试添加一个电话号码，如 555555555，您会看到实际存储的号码是 2147483647。是的，那真的很糟糕。为了确保不会发生这种情况，请在数据库中查找为该特定单元格设置的数据类型的最大值，并验证它实际上可以支持您的输入。

[](https://github.com/dinocajic/php-7-youtube-tutorials) [## dinocajic/PHP-7-YouTube-教程

### PHP 7.x YouTube 教程的代码。

github.com](https://github.com/dinocajic/php-7-youtube-tutorials) ![](img/b3c4a5a9945bf3e564ed1d2cf9f7ab3f.png)

迪诺·卡伊奇目前是 [LSBio(生命周期生物科学公司)](https://www.lsbio.com/)、[绝对抗体](https://absoluteantibody.com/)、 [Kerafast](https://www.kerafast.com/) 、[珠穆朗玛生物](https://everestbiotech.com/)、[北欧 MUbio](https://www.nordicmubio.com/) 和 [Exalpha](https://www.exalpha.com/) 的 IT 主管。他还担任我的自动系统的首席执行官。他有十多年的软件工程经验。他拥有计算机科学学士学位，辅修生物学。他的背景包括创建企业级电子商务应用程序、执行基于研究的软件开发，以及通过写作促进知识的传播。

你可以在 [LinkedIn](https://www.linkedin.com/in/dinocajic/) 上联系他，在 [Instagram](https://instagram.com/think.dino) 上关注他，或者[订阅他的媒体出版物](https://dinocajic.medium.com/subscribe)。

[*阅读迪诺·卡吉克(以及媒体上成千上万其他作家)的每一个故事。你的会员费直接支持迪诺·卡吉克和你阅读的其他作家。你也可以在媒体上看到所有的故事。*](https://dinocajic.medium.com/membership)