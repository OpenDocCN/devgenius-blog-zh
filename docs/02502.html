<html>
<head>
<title>12 Ways to Add an Array of Integers in C# — Part 3: Thinking in Sets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">C#中添加整数数组的12种方法—第3部分:集合思维</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/12-ways-to-add-an-array-of-integers-in-c-part-3-thinking-in-sets-e2f456454f88?source=collection_archive---------6-----------------------#2020-08-08">https://blog.devgenius.io/12-ways-to-add-an-array-of-integers-in-c-part-3-thinking-in-sets-e2f456454f88?source=collection_archive---------6-----------------------#2020-08-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/56b8a351e9ac7e121413443480dc201c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SG6ZFdS32Y2HWcCXSnADLg.jpeg"/></div></div></figure><p id="d459" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们用JavaScript而不是C#来做我们一直在讨论的数组求和练习，我们能提出多少种解决方案？显然，第1部分<a class="ae kt" href="https://medium.com/dev-genius/12-ways-to-add-an-array-of-integers-in-c-part-1-34753ff7f17a?source=friends_link&amp;sk=ffb9131efdf8777a4d01208093229f3d" rel="noopener">中的for循环解决方案可以在JavaScript中工作。</a></p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="32f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当然，那篇文章中的两个相关的解决方案，使用goto和指针，将<em class="la">不能</em>工作。JavaScript有标签，但它们不能用于这种事情。如果JavaScript可以访问指针，互联网很可能无法熬过90年代。</p><p id="8289" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">来自第2部分的<a class="ae kt" href="https://medium.com/dev-genius/12-ways-to-add-an-array-of-integers-in-c-part-2-freeform-iteration-2f5c810a8e7b?source=friends_link&amp;sk=ae3d73998d2e57811d3bea1374f7ddc7" rel="noopener">的“foreach”解决方案也将非常相似，使用for..的。</a></p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="dd4b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">提出一个基于迭代器的解决方案也很容易，就像那篇文章中的解决方案一样。</p><p id="1eb7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正如您可能已经想到的，for..JavaScript中的构造可以被简化。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="4af2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们稍微分解一下。为什么<code class="fe lb lc ld le b">values</code>有一个可用的<code class="fe lb lc ld le b">forEach</code>方法？因为在运行时，<code class="fe lb lc ld le b">values</code>(我们假设)会包含一个数组。现代JavaScript有一套令人印象深刻的处理数组的方法。事实上，我们可以使用另一种数组方法进一步简化这个例子。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="8488" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一句话FTW！</p><p id="f400" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">实际上，你可以用<code class="fe lb lc ld le b">reduce</code>做很多很棒的事情，包括一些非常聪明的事情，让下一个看你代码的人看不懂你的代码，这个人可能是六个月后的你，所以要小心！但是这种用法恰恰符合<code class="fe lb lc ld le b">reduce</code>的目的，即把一组事物简化成同一事物的一个实例。这些参数是一个“累加器”(如果需要，可以初始化为一个特定的值)和一个“当前”值。函数体只是描述了如何将“当前”值与“累加器”相结合，在本例中是将两者相加。</p><h1 id="3c82" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">总计</h1><p id="fdaf" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">现代C#也有一系列令人印象深刻的方法可用于处理集合(看我在那里做了什么？).我在上一篇文章中提到，IEnumerable接口是C#中的一个重要概念。原因？任何实现IEnumerable的东西都可以访问Enumerable类中所有可用的扩展方法。这是一个相当长的列表！</p><p id="daaf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">事实上其中一种方法是。NET版的<code class="fe lb lc ld le b">array.reduce</code>，叫<code class="fe lb lc ld le b">Aggregate</code>。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="9aa2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">与JavaScript版本惊人地相似，是吧？而且就像JavaScript中的<code class="fe lb lc ld le b">reduce</code>一样，<code class="fe lb lc ld le b">Aggregate</code>可以用于各种善恶目的。任何时候你有了一个“IEnumerable”的东西——数字、字符串、日期、小部件等等——你可以使用<code class="fe lb lc ld le b">Aggregate</code>将向量转换成标量，将群体转换成个体，使用任何适用的转换逻辑将这些部分或全部组合成一个整体。</p><h1 id="37fc" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">总和</h1><p id="bcf0" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">相比之下，低级的<code class="fe lb lc ld le b">Sum</code>方法似乎相当弱。<code class="fe lb lc ld le b">Aggregate</code>可以拿任何种类的对象集合，对它们做任何事情；只能接受数字，它所知道的就是如何将数字相加。蹩脚！</p><p id="fdb0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在第1部分中，我花了一些时间谈论我如何喜欢使用它作为面试程序员的编码练习。就像我刚才说的，大多数人都会想到for循环。但对于少数本能地想出这个解决方案的人来说，要特别指出:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="6153" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为什么这是我最喜欢的现实世界的解决方案？因为它是三个字母和一点点标点符号，然后你继续解决一些实际的业务问题。如果后来有什么东西坏了，几乎肯定不在这个代码中。你写了这个一行程序，就再也不用去想它了。</p><p id="2112" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是我们能指望它像手工制作的整数加法算法一样运行吗？大概，也许，谁知道呢？大概99.99%的时候不会有什么区别。也许你的整数集有些独特或不寻常的地方(基数？发行？？？？)可以使用其他方法进行优化。也许你的整数加法问题是代码中性能关键部分的长极点。好吧，做你该做的。但是在我实现任何更复杂的东西之前，我将首先做简单的事情，然后测量它以证明简单的方法是行不通的。</p><p id="8acd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">无论哪种方式，一个能够将八行代码(包括括号在内的<code class="fe lb lc ld le b">for</code>解决方案)变成一行可读性很高的代码的开发人员，在我看来，很可能是一个将你的代码库向好的方向发展的开发人员。</p><p id="bee2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一个开发者可以无缝地从思考一个过程在一个循环中执行多次——我们从Cobol和RPG时代就开始这样做——转向思考一个应用于一组类似术语的功能转换，嗯，这可能是一个将你的<em class="la">团队</em>推向好的方向的开发者。</p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="4038" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">另一方面，如果一个开发人员的第一直觉是“我打赌我可以写一个递归方法来做到这一点”，那么他至少会是一个有趣的面试。然而，尽管递归可能不是这个解决方案的最佳方法，但对于程序员来说，理解递归仍然是一个有价值的概念。下次我们将探讨一些递归解决方案。</p></div></div>    
</body>
</html>