<html>
<head>
<title>Sidebar in iPad iOS 14, explained.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iPad iOS 14 中的侧边栏，解释过。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/sidebar-in-ipad-ios-14-explained-2617ffef09fa?source=collection_archive---------0-----------------------#2020-07-01">https://blog.devgenius.io/sidebar-in-ipad-ios-14-explained-2617ffef09fa?source=collection_archive---------0-----------------------#2020-07-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b2a28ce140f15cc3bd1e33369dc29d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sIIuEA5R4Fs_5eTMdrGvmw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated"><a class="ae jz" href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/sidebars/" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/design/human-interface-guidelines/IOs/bars/sidebars/</a></figcaption></figure><p id="50d5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">侧栏是我们应该如何在 iPad 中为 iOS 14 中的非紧凑模式环境创建分层导航系统。</p><p id="8780" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好吧，但是边栏实际上是什么呢？只是一个视图控制器，它有一个集合视图，使用了<strong class="kc io">新的</strong>侧栏外观列表布局。</p><p id="6e81" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">(不想看你的东西😡，<a class="ae jz" href="https://github.com/jamesrochabrun/iPadSideBar" rel="noopener ugc nofollow" target="_blank">给我代码</a></p><p id="e90e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">自从 iOS 14 苹果推出了<a class="ae jz" href="https://developer.apple.com/documentation/uikit/uicollectionlayoutlistconfiguration" rel="noopener ugc nofollow" target="_blank">UICollectionLayoutListConfiguration</a>以来，这是对<code class="fe ky kz la lb b">UICollectionViews</code>的一个令人难以置信的改进，它允许我们为收藏视图使用一组已定义的配置。</p><p id="24e6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/sidebars/" rel="noopener ugc nofollow" target="_blank">来自文档</a>。</p><blockquote class="lc ld le"><p id="fb90" class="ka kb lf kc b kd ke kf kg kh ki kj kk lg km kn ko lh kq kr ks li ku kv kw kx ig bi translated">通过使用侧栏样式的列表并将其放在拆分视图的主栏中，可以创建侧栏。有关相关指南，请参见<a class="ae jz" href="https://developer.apple.com/design/human-interface-guidelines/ios/views/split-views/" rel="noopener ugc nofollow" target="_blank">分割视图</a>。</p><p id="5b46" class="ka kb lf kc b kd ke kf kg kh ki kj kk lg km kn ko lh kq kr ks li ku kv kw kx ig bi translated">将正确的外观应用于侧边栏。若要创建侧栏，请使用收藏视图列表布局的侧栏外观。有关开发人员指南，请参见<a class="ae jz" href="https://developer.apple.com/documentation/uikit/uicollectionlayoutlistconfiguration/appearance" rel="noopener ugc nofollow" target="_blank">uicollectionlayoutlist configuration . appearance .</a></p></blockquote><p id="f21e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好了，让我们来构建一个，我们将使用所有可用的新集合视图 API，包括新的单元注册。如果你还没有看过，我强烈推荐你看史蒂夫布林的《WWDC 2020 年收藏观点进展》。</p><p id="5623" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在 iOS 14 中使用收藏视图时，你总是需要实现 3 个重要的部分。</p><p id="1fc3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1-提供布局。</p><p id="8ced" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2-配置不同的数据源、单元格和页眉/页脚注册包括在此步骤中。</p><p id="2b03" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3-应用快照。</p><p id="adb9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我们开始这三个步骤之前，我们需要创建将在每个单元格上显示的模型。这里有一个提示，您可以创建一个共享视图模型来定义导航选项卡项目，您可以在您的选项卡栏控制器和侧栏中使用，它看起来像这样…</p><p id="8f6a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lf">(是的，在这篇文章的后面，我们还将为 split view</em><code class="fe ky kz la lb b">UISPlitViewController.Column</code><em class="lf"/><code class="fe ky kz la lb b"><em class="lf">.compact </em></code><em class="lf">添加一个标签栏控制器。)</em></p><pre class="lj lk ll lm gt ln lb lo lp aw lq bi"><span id="6959" class="lr ls in lb b gy lt lu l lv lw">// MARK:<strong class="lb io">- ViewModel</strong></span><span id="ea15" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">enum</strong> TabsViewModel: String, CaseIterable {<br/>// 1<br/> <strong class="lb io">case</strong> home<br/> <strong class="lb io">case</strong> search<br/> <strong class="lb io">case</strong> camera<br/> <strong class="lb io">case</strong> notifications<br/> <strong class="lb io">case</strong> profile</span><span id="c550" class="lr ls in lb b gy lx lu l lv lw">/// Return:- the tab bar icon using SF Symbols</span><span id="eecb" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">// 2<br/> var</strong> icon: UIImage? {<br/>  <strong class="lb io">switch</strong> <strong class="lb io">self</strong> {<br/>   <strong class="lb io">case</strong> .home: <strong class="lb io">return</strong> UIImage(systemName: "house.fill")<br/>   <strong class="lb io">case</strong> .search: <strong class="lb io">return</strong> UIImage(systemName: "magnifyingglass")<br/>   <strong class="lb io">case</strong> .camera: <strong class="lb io">return</strong> UIImage(systemName: "plus.app")<br/>   <strong class="lb io">case</strong> .notifications: <strong class="lb io">return</strong> UIImage(systemName: "suit.heart")<br/>   <strong class="lb io">case</strong> .profile: <strong class="lb io">return</strong> UIImage(systemName: "person")<br/>  }<br/>}</span><span id="08fd" class="lr ls in lb b gy lx lu l lv lw">/// Return:- the tab bar title</span><span id="dc54" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">// 3<br/>var</strong> title: String { rawValue }</span><span id="577b" class="lr ls in lb b gy lx lu l lv lw">/// Return:-  the master/primary `topViewController`,  it instantiates a view controller using a convenient method for `UIStoryboards`.</span><span id="8fb2" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">// 4<br/>var</strong> primaryViewController: UIViewController  {<br/>  <strong class="lb io">switch</strong> <strong class="lb io">self</strong> {<br/>    <strong class="lb io">case</strong> .home: <strong class="lb io">return</strong> HomeViewController()<br/>    <strong class="lb io">case</strong> .search: <strong class="lb io">return</strong> SearchViewController()<br/>    <strong class="lb io">case</strong> .camera: <strong class="lb io">return</strong> CameraViewController()<br/>    <strong class="lb io">case</strong> .notifications: <strong class="lb io">return</strong> NotificationsViewController()<br/>    <strong class="lb io">case</strong> .profile: <strong class="lb io">return</strong> UserProfileViewController()<br/>  }<br/> }<br/>}</span></pre><p id="0e22" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1-创建代表应用程序主要导航层次的案例。</p><p id="2684" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2-提供一个图标图像，科幻符号是可怕的。</p><p id="06e3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3-为每个案例提供一个标题，这将是侧栏所需要的。</p><p id="2124" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">4-为每个案例创建一个提供<code class="fe ky kz la lb b">primaryViewController</code>的便捷方式。</p><p id="ee6a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好了，现在我们有了一个视图模型，我们可以从侧边栏开始，只需创建一个视图控制器，内部视图就会加载…</p><pre class="lj lk ll lm gt ln lb lo lp aw lq bi"><span id="ea6e" class="lr ls in lb b gy lt lu l lv lw"><strong class="lb io">override</strong> <strong class="lb io">func</strong> viewDidLoad() {</span><span id="6ee0" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">  super</strong>.viewDidLoad()</span><span id="1543" class="lr ls in lb b gy lx lu l lv lw">  configureCollectionViewLayout() // 1 Configure the layout</span><span id="f181" class="lr ls in lb b gy lx lu l lv lw">  configureDataSource() // 2 configure the data Source</span><span id="56af" class="lr ls in lb b gy lx lu l lv lw">  applyInitialSnapshots() // 3 Apply the snapshots.</span><span id="1fbe" class="lr ls in lb b gy lx lu l lv lw">}</span></pre><p id="655c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们看看这些方法中包含了什么:</p><p id="13f5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第一步:</strong>配置布局<strong class="kc io">。</strong></p><pre class="lj lk ll lm gt ln lb lo lp aw lq bi"><span id="ef90" class="lr ls in lb b gy lt lu l lv lw"><strong class="lb io">private</strong> <strong class="lb io">func</strong> configureCollectionViewLayout() {<br/> collectionView.collectionViewLayout = createLayout()<br/>}</span><span id="b4fe" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">private</strong> <strong class="lb io">func</strong> createLayout() -&gt; UICollectionViewLayout {</span><span id="c1cc" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">let</strong> sectionProvider = { (sectionIndex: Int, layoutEnvironment: NSCollectionLayoutEnvironment) -&gt; NSCollectionLayoutSection? <strong class="lb io">in</strong></span><span id="0908" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">// 1<br/>let</strong> section = NSCollectionLayoutSection.list(using: .init(appearance: .sidebar), layoutEnvironment: layoutEnvironment)</span><span id="57c7" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">//2 <br/>let</strong> headerFooterSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),</span><span id="55a3" class="lr ls in lb b gy lx lu l lv lw">heightDimension: .estimated(200))</span><span id="3cfe" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">let</strong> sectionHeader = NSCollectionLayoutBoundarySupplementaryItem(</span><span id="44cb" class="lr ls in lb b gy lx lu l lv lw">layoutSize: headerFooterSize,</span><span id="db06" class="lr ls in lb b gy lx lu l lv lw">elementKind: SideBarViewController.sectionHeaderElementKind, alignment: .top)</span><span id="fe68" class="lr ls in lb b gy lx lu l lv lw">section.boundarySupplementaryItems = [sectionHeader]</span><span id="a773" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">return</strong> section</span><span id="6f65" class="lr ls in lb b gy lx lu l lv lw">}<br/>// 3<br/><strong class="lb io">return</strong> UICollectionViewCompositionalLayout(sectionProvider: sectionProvider)</span><span id="bd2a" class="lr ls in lb b gy lx lu l lv lw">}</span></pre><p id="9334" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1-新的<a class="ae jz" href="https://developer.apple.com/documentation/uikit/uicollectionlayoutlistconfiguration/appearance" rel="noopener ugc nofollow" target="_blank">uicollectionlayoutlist 配置。外观</a> <code class="fe ky kz la lb b">.sideBar</code>对，就是它。🔥</p><p id="ff95" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2–定义章节标题的估计大小。</p><p id="19f6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3-返回一个<code class="fe ky kz la lb b">UICollectionViewCompositionalLayout.</code>的实例</p><p id="5960" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第二步</strong>:配置不同的数据源。</p><pre class="lj lk ll lm gt ln lb lo lp aw lq bi"><span id="5243" class="lr ls in lb b gy lt lu l lv lw"><strong class="lb io">private</strong> <strong class="lb io">func</strong> configureDataSource() {</span><span id="d729" class="lr ls in lb b gy lx lu l lv lw">/// 1 - header registration</span><span id="26e5" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io"> let</strong> headerRegistration = UICollectionView.SupplementaryRegistration</span><span id="b1d2" class="lr ls in lb b gy lx lu l lv lw">&lt;CollectionReusableView&lt;ProfileInfoView&gt;&gt;(elementKind: "Header") {</span><span id="a510" class="lr ls in lb b gy lx lu l lv lw">(supplementaryView, string, indexPath) <strong class="lb io">in<br/> </strong>supplementaryView.subView.configureWith(UserProfileViewModel.stub)</span><span id="0c28" class="lr ls in lb b gy lx lu l lv lw">}</span><span id="e728" class="lr ls in lb b gy lx lu l lv lw">/// 2 - data source</span><span id="29dd" class="lr ls in lb b gy lx lu l lv lw"> dataSource = UICollectionViewDiffableDataSource&lt;Section, TabsViewModel&gt;(collectionView: collectionView) {</span><span id="da13" class="lr ls in lb b gy lx lu l lv lw">(collectionView, indexPath, item) -&gt; UICollectionViewCell? <strong class="lb io">in<br/> return</strong> collectionView.dequeueConfiguredReusableCell(using:     <strong class="lb io">self</strong>.configuredOutlineCell(), for: indexPath, item: item)</span><span id="f5e4" class="lr ls in lb b gy lx lu l lv lw">}</span><span id="05a5" class="lr ls in lb b gy lx lu l lv lw">/// 4- data source supplementaryViewProvider</span><span id="95d6" class="lr ls in lb b gy lx lu l lv lw"> dataSource.supplementaryViewProvider = { view, kind, index <strong class="lb io">in</strong></span><span id="47ce" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io"> return</strong> <strong class="lb io">self</strong>.collectionView.dequeueConfiguredReusableSupplementary(</span><span id="fcde" class="lr ls in lb b gy lx lu l lv lw">using: headerRegistration, for: index)</span><span id="9e0e" class="lr ls in lb b gy lx lu l lv lw">}</span><span id="2acc" class="lr ls in lb b gy lx lu l lv lw">}</span><span id="04ae" class="lr ls in lb b gy lx lu l lv lw">// 3<br/><strong class="lb io">private</strong> <strong class="lb io">func</strong> configuredOutlineCell() -&gt; UICollectionView.CellRegistration&lt;UICollectionViewListCell, TabsViewModel&gt; {</span><span id="1eac" class="lr ls in lb b gy lx lu l lv lw">   UICollectionView.CellRegistration&lt;UICollectionViewListCell, TabsViewModel&gt; { cell, indexPath, item <strong class="lb io">in<br/>   var</strong> content = cell.defaultContentConfiguration()<br/>   content.text = item.title<br/>   content.image = item.icon<br/>   content.imageProperties.tintColor = .white<br/>   cell.contentConfiguration = content<br/>   cell.accessories = [.disclosureIndicator()]<br/>  }<br/>}</span></pre><p id="c73e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1-为节注册一个标题，元素种类字符串将定义是否应该显示为标题或页脚。</p><p id="a6c9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2-定义不同的数据源，并使用<code class="fe ky kz la lb b">dequeConfiguredReusableCell</code>配置单元格。</p><p id="b3e3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3-如果你还没有看过<a class="ae jz" href="https://developer.apple.com/videos/play/wwdc2020/10027" rel="noopener ugc nofollow" target="_blank"> WWDC 现代细胞配置</a>，看看吧！</p><p id="d1c6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">4-<code class="fe ky kz la lb b">suppleMentaryViewProvider</code>配置页眉/页脚的内容。</p><p id="edb0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第三步</strong>:应用快照。</p><pre class="lj lk ll lm gt ln lb lo lp aw lq bi"><span id="3d5b" class="lr ls in lb b gy lt lu l lv lw"><strong class="lb io">private</strong> <strong class="lb io">func</strong> applyInitialSnapshots() {</span><span id="3251" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">//1<br/> let</strong> sections = Section.allCases</span><span id="f90c" class="lr ls in lb b gy lx lu l lv lw">// 2<br/> <strong class="lb io">var</strong> snapshot = NSDiffableDataSourceSnapshot&lt;Section, TabsViewModel&gt;()<br/> snapshot.appendSections(sections)<br/> dataSource.apply(snapshot, animatingDifferences: <strong class="lb io">false</strong>)</span><span id="f35b" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io"> var</strong> outlineSnapshot = <br/>// 3<br/>NSDiffableDataSourceSectionSnapshot&lt;TabsViewModel&gt;()<br/> outlineSnapshot.append(TabsViewModel.allCases)<br/> dataSource.apply(outlineSnapshot, to: .list, animatingDifferences: <strong class="lb io">false</strong>)<br/>}</span></pre><p id="fd3c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1- <code class="fe ky kz la lb b">Section</code>是视图控制器中定义的枚举。</p><p id="05c1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2-为整个数据源定义快照。</p><p id="6ec4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3-新！<code class="fe ky kz la lb b"><a class="ae jz" href="https://developer.apple.com/documentation/uikit/nsdiffabledatasourcesectionsnapshot" rel="noopener ugc nofollow" target="_blank">NSDiffableDataSourceSectionSnapshot</a></code>在 iOS 14 中:</p><blockquote class="lc ld le"><p id="3791" class="ka kb lf kc b kd ke kf kg kh ki kj kk lg km kn ko lh kq kr ks li ku kv kw kx ig bi translated">节快照表示集合视图或表视图中单个节的数据。通过节快照，您可以设置在视图的单个节中显示的数据的初始状态，并在以后更新该数据。</p></blockquote><p id="6362" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就是这样！现在我们有了一个工作侧栏，看起来像这样…</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ly"><img src="../Images/79163c4d1ec091e1afcc9c4203fe1460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yUB6x4zE_HerIuXDltSQBQ.png"/></div></div></figure><p id="a215" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，还记得我们在开始时说过，我们将显示一个选项卡栏控制器作为紧凑模式的主导航系统吗？好吧，如果你在 iOS 14 之前使用过 iPad 应用程序，你就会知道实现这一点的痛苦，幸运的是苹果公司推出了一种简单的方法来做到这一点，只需在<code class="fe ky kz la lb b">setViewControllers</code>方法中为<code class="fe ky kz la lb b">.compact</code>提供一个视图控制器，这就是你需要在<code class="fe ky kz la lb b">SceneDelegate</code>文件中做的一切…</p><pre class="lj lk ll lm gt ln lb lo lp aw lq bi"><span id="64ab" class="lr ls in lb b gy lt lu l lv lw"><strong class="lb io">func</strong> scene(<strong class="lb io">_</strong> scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {</span><span id="ce20" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">guard</strong> <strong class="lb io">let</strong> <strong class="lb io">_</strong> = (scene <strong class="lb io">as</strong>? UIWindowScene) <strong class="lb io">else</strong> { <strong class="lb io">return</strong> }</span><span id="b852" class="lr ls in lb b gy lx lu l lv lw">// 1<br/><strong class="lb io">let</strong> sideBar = SideBarViewController.instantiate(from: "Main")<br/><strong class="lb io">let</strong> supplementaryViewController = SupplementaryViewController()<br/><strong class="lb io">let</strong> secondaryViewController = SecondaryViewController()</span><span id="5851" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">//2<br/>let</strong> tabBarController = TabBarController()</span><span id="3818" class="lr ls in lb b gy lx lu l lv lw">// 3<br/><strong class="lb io">let</strong> splitViewController = <!-- -->UISPlitViewController<!-- -->(style: .tripleColumn)<br/>splitViewController.setViewController(sideBar, for: .primary)<br/>splitViewController.setViewController(supplementaryViewController, for: .supplementary)<br/>splitViewController.setViewController(secondaryViewController, for: .secondary)<br/>// 4<br/>splitViewController.setViewController(tabBarController, for: .compact)</span><span id="a07d" class="lr ls in lb b gy lx lu l lv lw">window?.rootViewController = splitViewController<br/>window?.makeKeyAndVisible()</span><span id="e35a" class="lr ls in lb b gy lx lu l lv lw">}</span></pre><p id="87c2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1-为每个<code class="fe ky kz la lb b">UISPlitViewController.Column</code>案例创建一组视图控制器。</p><p id="62b6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2-<code class="fe ky kz la lb b">UITabBarController</code>的一个实例，可能看起来像这样，或者你想要的样子…</p><pre class="lj lk ll lm gt ln lb lo lp aw lq bi"><span id="ecf8" class="lr ls in lb b gy lt lu l lv lw"><strong class="lb io">final</strong> <strong class="lb io">class</strong> TabBarController: UITabBarController {</span><span id="38cb" class="lr ls in lb b gy lx lu l lv lw"><strong class="lb io">  override</strong> <strong class="lb io">func</strong> viewDidLoad() {<br/>     <strong class="lb io">super</strong>.viewDidLoad()<br/>// 1<br/>     viewControllers = TabsViewModel.allCases.map {<br/>     <strong class="lb io">let</strong> rootNavigationController =<br/>     UINavigationController(rootViewController:        $0.primaryViewController)<br/>     rootNavigationController.tabBarItem.image = $0.icon<br/>     <strong class="lb io">return</strong> rootNavigationController<br/>   }<br/>  }<br/>}</span></pre><p id="9224" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3-现在你可以使用<code class="fe ky kz la lb b">UISPlitViewController.Style</code>初始化器实例化 2 或 3 列的分割视图控制器。</p><p id="6621" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为紧凑的宽度提供任何种类的视图控制器都是非常容易的！🤯</p><p id="11e9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当你的应用从常规宽度变为紧凑宽度时，它会自动适应…</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/c5a966e6703768dd7c6e831100a52364.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*nj2XO7gATPxGITNifqLs1A.gif"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">特质集合变化。</figcaption></figure><p id="0905" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为 iPad 实现侧边栏时需要考虑的一些事情…</p><ul class=""><li id="038e" class="ma mb in kc b kd ke kh ki kl mc kp md kt me kx mf mg mh mi bi translated">使用侧边栏来组织应用程序级别的信息。</li><li id="6dae" class="ma mb in kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi bi translated">只要有可能，让人们自定义侧边栏的内容。</li><li id="8ee3" class="ma mb in kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi bi translated">不要阻止人们隐藏侧栏。</li><li id="a7ce" class="ma mb in kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi bi translated">保持侧边栏中的标题清晰简洁。</li><li id="ce2f" class="ma mb in kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi bi translated">一般来说，不要在一个侧边栏中暴露两层以上的层次结构。</li></ul><p id="367e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，值得一提的是，虽然显示紧凑模式的视图控制器非常容易，但有一个问题，我们需要让我们的应用程序恢复其导航状态，以便用户在应用程序特征改变时进入正确的视图控制器。</p><p id="2c49" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是另一个故事，我目前正在学习:)，如果你想进一步研究，这里有一些资源…</p><div class="mo mp gp gr mq mr"><a href="https://developer.apple.com/documentation/uikit/uiviewcontroller/1621499-restorationidentifier" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">Apple 开发者文档</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">编辑描述</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">developer.apple.com</p></div></div></div></a></div><div class="mo mp gp gr mq mr"><a href="https://developer.apple.com/documentation/uikit/uiviewcontroller/restoring_your_app_s_state" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">Apple 开发者文档</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">编辑描述</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">developer.apple.com</p></div></div></div></a></div><div class="mo mp gp gr mq mr"><a href="https://www.raywenderlich.com/1395-state-restoration-tutorial-getting-started" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">状态恢复教程:入门</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">在这个状态恢复教程中，学习如何使用苹果的状态恢复 API 来增强用户的体验…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.raywenderlich.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf jt mr"/></div></div></a></div><p id="bf52" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是这个帖子的<a class="ae jz" href="https://github.com/jamesrochabrun/iPadSideBar" rel="noopener ugc nofollow" target="_blank">代码</a>。</p><p id="0ed1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi">😎</p></div></div>    
</body>
</html>