<html>
<head>
<title>The Best Way To Reuse Angular Assets Across Multiple Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">跨多个项目重用角度资产的最佳方式</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/the-best-way-to-reuse-angular-assets-across-multiple-projects-2b5d6ccae65a?source=collection_archive---------9-----------------------#2020-07-02">https://blog.devgenius.io/the-best-way-to-reuse-angular-assets-across-multiple-projects-2b5d6ccae65a?source=collection_archive---------9-----------------------#2020-07-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f2f140e15af095b11f64e6ced3ae97c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sigYBviGj-GkemKyhGuuHg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">保罗·埃施-洛朗在<a class="ae kc" href="https://unsplash.com/s/photos/npm?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c011" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为一名从事多个项目的开发人员，有时您希望在它们之间使用相同的资产。样式表、图像、字体等。通常保存在 Angular 项目的<em class="lb">资产</em>文件夹中。如果您计划多次使用它们，那么多次复制它们会很麻烦。</p><p id="aa3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对您来说，更好的方法是为所有可重用资产创建一个<strong class="kf ir"> npm </strong>包。</p><p id="7503" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">出于多种原因，创建一个 npm 包来托管您的资产是非常有益的:</p><ol class=""><li id="1369" class="lc ld iq kf b kg kh kk kl ko le ks lf kw lg la lh li lj lk bi translated"><strong class="kf ir">你所有的项目整合你的资产</strong>很容易。你所要做的就是运行<strong class="kf ir">NPM install&lt;package name&gt;</strong>，所有这些都会集成到你的项目中。</li><li id="7c01" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi translated"><strong class="kf ir">添加新资产将更新所有项目</strong>。如果你必须添加 CSS 类或改变不同标题的字体类型，改变它将允许所有项目在更新<strong class="kf ir">NPM</strong>时接收这个更新。四</li><li id="1874" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi translated"><strong class="kf ir">该包可以作为其他包的依赖项</strong>。假设将来你发布一个包，其中有一组角度元件，可以在你的所有应用中使用。您可以单独创建这个包，并使这个包依赖于您的资产包，这将消除您对您的应用程序缺少样式的担心。</li></ol><h2 id="d169" class="lq lr iq bd ls lt lu dn lv lw lx dp ly ko lz ma mb ks mc md me kw mf mg mh mi bi translated">如何创建 NPM 包</h2><p id="3d07" class="pw-post-body-paragraph kd ke iq kf b kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">创建一个 npm 包非常容易！所有的 npm 包实际上都由一个<em class="lb"> package.json </em>文件组成，该文件包含所有需要被识别为包的元数据。</p><p id="2770" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">若要创建一个文件夹，请创建一个新文件夹，您希望在其中托管您的项目。导航到该文件夹并运行<em class="lb"> npm init </em>。这将询问您一系列问题，这些问题将用于填充<em class="lb"> package.json </em>文件。</p><p id="4c35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦完成，您的<em class="lb"> package.json </em>文件将类似于以下内容:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="13e2" class="lq lr iq mt b gy mx my l mz na">{</span><span id="a801" class="lq lr iq mt b gy nb my l mz na">    "name": "&lt;package name&gt;",</span><span id="0744" class="lq lr iq mt b gy nb my l mz na">    "version": "1.0.0",</span><span id="8bcf" class="lq lr iq mt b gy nb my l mz na">    "description": "&lt;description&gt;",</span><span id="16ca" class="lq lr iq mt b gy nb my l mz na">    "main": "index.js",</span><span id="bdc2" class="lq lr iq mt b gy nb my l mz na">    "scripts": {</span><span id="a0b8" class="lq lr iq mt b gy nb my l mz na">        "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>    },</span><span id="1e14" class="lq lr iq mt b gy nb my l mz na">    "author": "&lt;author&gt;",</span><span id="b123" class="lq lr iq mt b gy nb my l mz na">    "license": "ISC"</span><span id="d73c" class="lq lr iq mt b gy nb my l mz na">}</span></pre><h2 id="d4b5" class="lq lr iq bd ls lt lu dn lv lw lx dp ly ko lz ma mb ks mc md me kw mf mg mh mi bi translated">向 npm 软件包添加文件</h2><p id="2af4" class="pw-post-body-paragraph kd ke iq kf b kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">接下来，您需要一种将文件添加到包中的方法。这部分也一样简单。</p><p id="1e78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将您所有的资产以结构化的格式放在一个文件夹中。分离样式表文件、字体、图像等。将此文件夹复制到您的包文件夹中。</p><p id="b318" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开<em class="lb"> package.json </em>文件，添加以下字段:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="1e02" class="lq lr iq mt b gy mx my l mz na">"files": [<br/>    "/&lt;folder name&gt;"<br/>]</span></pre><p id="6980" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个值的作用是，当它作为一个依赖项安装时，它会添加所有要包含在包中的文件。当有人安装您的软件包时，将文件夹名称放在这里将包括文件夹内的所有内容。</p><p id="013d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这个！现在，您的包已经设置好，可以安装了。您可以导航到 Angular 项目并通过运行以下命令进行安装:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="30d1" class="lq lr iq mt b gy mx my l mz na">npm install C:/path/to/package/folder</span></pre><h2 id="0ae6" class="lq lr iq bd ls lt lu dn lv lw lx dp ly ko lz ma mb ks mc md me kw mf mg mh mi bi translated">将样式添加到角度项目</h2><p id="97c3" class="pw-post-body-paragraph kd ke iq kf b kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">这只是将包安装到您的项目中，但是您的项目实际上是如何识别样式的呢？嗯，你将不得不进口它们！别担心，这也是一个无缝的过程。</p><p id="ee04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有两种方法可以将样式导入到项目中:</p><ol class=""><li id="3f0c" class="lc ld iq kf b kg kh kk kl ko le ks lf kw lg la lh li lj lk bi translated"><strong class="kf ir"> angular.json </strong>:您可以在您的项目 angular.json 文件中添加样式的路径。打开它，找到名为<em class="lb">样式</em>的字段。默认情况下，你应该已经有了一个值(<em class="lb"> styles.scss 或者 styles.css </em>)。要添加 CSS 文件，只需将它们的路径添加到此列表中。你的路径通常会是<em class="lb"> node_modules/ &lt;包名&gt; / &lt;资产文件夹&gt; / &lt; CSS 文件&gt; </em>。</li><li id="9efe" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi translated"><strong class="kf ir"> styles.scss </strong>:或者，您可以将路径添加到您的<em class="lb"> styles.scss </em>或<em class="lb"> styles.css </em>文件本身。打开后用@import <em class="lb"> node_modules/ &lt;包名&gt; / &lt; assets 文件夹&gt; / &lt; CSS 文件&gt;导入即可。</em></li></ol><h2 id="6605" class="lq lr iq bd ls lt lu dn lv lw lx dp ly ko lz ma mb ks mc md me kw mf mg mh mi bi translated">发布您的包</h2><p id="69d7" class="pw-post-body-paragraph kd ke iq kf b kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">托管软件包的最佳方式是通过在线存储库。发布您的软件包将使它可以通过 npm-registry 获得，这是一个公共存储库，托管了数千个软件包。</p><p id="a5b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也有其他第三方包主机，包括<a class="ae kc" href="https://docs.github.com/en/packages/using-github-packages-with-your-projects-ecosystem/configuring-npm-for-use-with-github-packages" rel="noopener ugc nofollow" target="_blank"> GitHub 包</a>和<a class="ae kc" href="https://jfrog.com/artifactory/" rel="noopener ugc nofollow" target="_blank"> Artifactory </a>。只要软件包可供下载，这两种方法都是有益的。你也可以把你的包托管在一个私有依赖上。</p><h2 id="79f2" class="lq lr iq bd ls lt lu dn lv lw lx dp ly ko lz ma mb ks mc md me kw mf mg mh mi bi translated">外卖食品</h2><p id="faeb" class="pw-post-body-paragraph kd ke iq kf b kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">该系统非常适合在多个项目中使用相同风格的开发人员，或者希望在多个应用程序中使用其设计系统的承包商。这将有助于使您的开发周期更加容易。</p><p id="3912" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望这有所帮助！</p></div></div>    
</body>
</html>