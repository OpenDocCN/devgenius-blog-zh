<html>
<head>
<title>Design Patterns used in Microservices.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务中使用的设计模式。</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-are-microservices-and-its-design-patterns-18771b031d86?source=collection_archive---------7-----------------------#2020-08-10">https://blog.devgenius.io/what-are-microservices-and-its-design-patterns-18771b031d86?source=collection_archive---------7-----------------------#2020-08-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/d788bd45053c48e9acd515e56fdbafd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqPhiE8SFa2fak5DcRqk-Q.png"/></div></div></figure><div class=""/><p id="da7e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">微服务是软件行业中最热门的词汇之一，但是到底什么是微服务，它的设计方式是什么，这将在本文中用图表和解释来讨论。</p><h1 id="6d60" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">什么是微服务？</h1><blockquote class="lr ls lt"><p id="ecc1" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated">微服务架构是面向服务架构(SOA)结构风格的变体，它将应用程序安排为松散耦合的服务的集合。在微服务架构中，服务是细粒度的，协议是轻量级的。—维基百科。</p></blockquote><p id="7e36" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">微服务架构用于构建软件应用程序，这是一种与整体架构相比的替代架构，在整体架构中，应用程序紧密耦合在一起，方法和用户界面位于单个位置。并且它们大部分是用单一的编程语言编写的。</p><blockquote class="lr ls lt"><p id="dc46" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated"><strong class="jx iz">也可以阅读:</strong> <a class="ae ly" href="https://medium.com/@ahmedahsankhan/why-all-the-developers-should-learn-and-understand-rest-soap-services-377c13388b5b" rel="noopener">为什么所有的开发者都应该学习和理解REST/SOAP服务</a></p></blockquote><h2 id="707d" class="lz ku iy bd kv ma mb dn kz mc md dp ld kg me mf lh kk mg mh ll ko mi mj lp mk bi translated">API与微服务</h2><p id="dca0" class="pw-post-body-paragraph jv jw iy jx b jy ml ka kb kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks ig bi translated">大多数时候，当我们谈论微服务时，我们有时会误解它是API，所以在我们跳到设计模式之前，我们应该了解API和微服务之间的区别。</p><p id="dfa1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">微服务是web应用程序的架构风格，其中功能被划分到小型web服务中，而API是web开发人员与web应用程序交互的框架。(在上面给出的链接中阅读更多关于API的内容。)</p><h1 id="35f6" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">设计模式:</h1><blockquote class="lr ls lt"><p id="95ed" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated">在软件工程中，<strong class="jx iz">设计模式</strong>是软件设计中常见问题的通用可重复解决方案。设计模式不是可以直接转换成代码的成品设计。它是如何解决一个问题的描述或模板，可以在许多不同的情况下使用。—<a class="ae ly" href="https://sourcemaking.com/design_patterns" rel="noopener ugc nofollow" target="_blank">Soucremaking.com</a></p></blockquote><p id="b5d0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">同样，在微服务中，我们也有设计模式，用于使用微服务设计完整的web应用程序，并使用API进行交互。这就是集成服务发挥作用的地方。在这一部分，我将解释一些用于与微服务交互的设计模式。</p><h2 id="5ea7" class="lz ku iy bd kv ma mb dn kz mc md dp ld kg me mf lh kk mg mh ll ko mi mj lp mk bi translated">聚合器模式:</h2><p id="20c6" class="pw-post-body-paragraph jv jw iy jx b jy ml ka kb kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks ig bi translated">列表中的第一个模式是聚合器模式。下图显示了这是如何工作的。在这种类型的设计中，有一个集合从外部来源收集所有请求，并将其传递给适当的微服务，然后返回结果。这里的聚合器节点可以对数据进行任何所需的操作，比如在请求的头部添加时间戳，或者添加请求者的名字，以便进行日志记录，或者类似的操作。</p><figure class="mq mr ms mt gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/92ed0b69cc4cede13ee9ad54a31e5ea0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*izNxFmjpF1EE3nGA0Bn4_A.png"/></div></div></figure><h2 id="9788" class="lz ku iy bd kv ma mb dn kz mc md dp ld kg me mf lh kk mg mh ll ko mi mj lp mk bi translated">代理模式:</h2><p id="9cc9" class="pw-post-body-paragraph jv jw iy jx b jy ml ka kb kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks ig bi translated">代理模式的设计类似于聚合器模式，但是唯一的区别是，在这种模式中，代理节点除了将请求传递给微服务并将响应发送回请求者之外，什么也不做，它还做一点协调工作。</p><figure class="mq mr ms mt gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/464b26d020c1075f7200d51543011469.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TctN7FwJFgXI_CZWOpTyVA.png"/></div></div></figure><p id="ec0e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">看上面的两幅图，我们可以看到代理、聚合器或负载平衡器的工作是集成软件的工作，正如我们在上一篇文章中讨论的那样。(下面的链接)</p><blockquote class="lr ls lt"><p id="eb54" class="jv jw lu jx b jy jz ka kb kc kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ks ig bi translated"><strong class="jx iz">也可阅读</strong> : <a class="ae ly" href="https://medium.com/dev-genius/role-of-integration-software-applications-in-the-modern-days-8319b637c8d5" rel="noopener">现代集成软件应用的角色</a></p></blockquote><h2 id="ee4e" class="lz ku iy bd kv ma mb dn kz mc md dp ld kg me mf lh kk mg mh ll ko mi mj lp mk bi translated">链式模式:</h2><p id="8d81" class="pw-post-body-paragraph jv jw iy jx b jy ml ka kb kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks ig bi translated">第三种设计模式称为链式模式，它只有一个入口点，其他服务依赖于该入口点服务。一个服务调用另一个服务来完成任务。</p><figure class="mq mr ms mt gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/5bac741d2521b83ab1d5c73283d06058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7tv5pNHIl958QIC7h2wzRA.png"/></div></div></figure><p id="994a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">链式模式不是实现微服务的理想设计模式，因为它使微服务依赖于其他服务。</p><p id="79f8" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">缺点:</strong>这种模式的缺点是处理速度慢，因为它要经过多个服务。</p><p id="a714" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">优势:</strong>另一方面，这种模式的积极方面是，因为只有一个入口点，所以它是安全的。需要高安全性的微服务可以放在链的末端，这样会降低可访问性。</p><h2 id="0254" class="lz ku iy bd kv ma mb dn kz mc md dp ld kg me mf lh kk mg mh ll ko mi mj lp mk bi translated">分支模式:</h2><p id="0c5e" class="pw-post-body-paragraph jv jw iy jx b jy ml ka kb kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks ig bi translated">最后要讨论的设计模式是分支模式。分支模式是连锁模式和聚合模式的混合。在下面的图表示例中，我们可以看到服务就像一个聚合器，它分为两个分支。一个分支包含单个自治服务(服务B)，另一个分支包含一系列服务(服务D可从服务C访问)。当需要将大型单片应用程序转换为具有微服务类型架构的应用程序时，这种类型的设计非常有用。大型单片应用程序需要标准化以转换到微服务架构，这可能很耗时。</p><figure class="mq mr ms mt gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/801f17599f05e64119da89ca9610bcd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*egCohVCIC1sXiV-LvaQkZw.png"/></div></div></figure><h1 id="ccdd" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论:</h1><p id="0e44" class="pw-post-body-paragraph jv jw iy jx b jy ml ka kb kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks ig bi translated">这些只是可以用于设计微服务应用程序的几种设计模式。还有许多其他的可以根据你的需要使用。为了让您的微服务架构平稳有效地工作，我们可以利用消息队列。话虽如此，并没有硬性规定哪种设计模式最适合你。这完全取决于您的实现。每个设计模式都解决一个特定的问题。人们应该首先识别手头的问题，以确保他们使用适当的设计模式来解决他们的问题。</p><p id="8365" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">快乐学习！！！！</p></div></div>    
</body>
</html>