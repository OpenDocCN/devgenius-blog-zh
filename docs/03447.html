<html>
<head>
<title>Object-Oriented JavaScript — RegExp</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向对象的 JavaScript — RegExp</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/object-oriented-javascript-regexp-ecddf88a9dc0?source=collection_archive---------2-----------------------#2020-11-05">https://blog.devgenius.io/object-oriented-javascript-regexp-ecddf88a9dc0?source=collection_archive---------2-----------------------#2020-11-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f56ca3dd0844d567bfccb56ad758c352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0av-F3fv8pfZ5KRq"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Todd Quackenbush 在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8fc1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript 部分是面向对象的语言。</p><p id="7b04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要学习 JavaScript，我们必须学习 JavaScript 的面向对象部分。</p><p id="6eb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看<code class="fe lb lc ld le b">RegExp </code>对象。</p><h1 id="7ac7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">正则表达式</h1><p id="00c9" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">RegExp</code>构造函数让我们搜索和操作文本。</p><p id="6c77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript 使用 Perl 5 语法来定义 regex。</p><p id="36e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正则表达式由使用和匹配文本的模式组成。</p><p id="cd6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以有选择地包含零个或多个修饰符，以提供更多关于应该如何使用模式的说明。</p><p id="3942" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写以下代码来使用<code class="fe lb lc ld le b">RegExp</code>构造函数:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="c93c" class="mq lg iq le b gy mr ms l mt mu">const re = new RegExp("c.*t");</span></pre><p id="9c30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个正则表达式，它匹配一个单词和在<code class="fe lb lc ld le b">c</code>和<code class="fe lb lc ld le b">t</code>之间的一些字母。</p><p id="7dd5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">.</code>表示任何字符。</p><p id="b472" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">*</code>意为在其后的事情之前。</p><p id="a50a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以添加一些称为标志的修饰符来改变正则表达式。</p><p id="5548" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些标志包括:</p><ul class=""><li id="7802" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe lb lc ld le b">g</code>为全局。</li><li id="1755" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe lb lc ld le b">i</code>用于忽略大小写</li><li id="dfa1" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe lb lc ld le b">m</code>对于多线</li></ul><p id="826f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们有:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="1a82" class="mq lg iq le b gy mr ms l mt mu">const re = new RegExp("c.*t", 'gmi');</span></pre><p id="78c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以检查它是否与<code class="fe lb lc ld le b">global</code>属性全局匹配。</p><p id="e2a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe lb lc ld le b">re.global</code>应该返回<code class="fe lb lc ld le b">true</code>。</p><p id="4818" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">无法设置该属性，因此为其赋值不会改变值。</p><h1 id="80b2" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">正则表达式方法</h1><p id="4ac7" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">RegExp</code>实例有一些方法。</p><p id="880e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们包括<code class="fe lb lc ld le b">test</code>和<code class="fe lb lc ld le b">exec</code>方法。</p><p id="5927" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">test</code>检查字符串是否匹配正则表达式模式。</p><p id="0182" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe lb lc ld le b">exec</code>返回匹配正则表达式的字符串。</p><p id="fbe0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过运行调用<code class="fe lb lc ld le b">test</code>；</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="91d4" class="mq lg iq le b gy mr ms l mt mu">/c.*t/.test("CoffeeScript");</span></pre><p id="2c0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe lb lc ld le b">false</code>。</p><p id="64fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是我们称之为:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="89b0" class="mq lg iq le b gy mr ms l mt mu">/c.*t/i.test("CoffeeScript");</span></pre><p id="5de8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后由于不区分大小写的匹配，我们得到<code class="fe lb lc ld le b">true</code>。</p><p id="8816" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了给<code class="fe lb lc ld le b">exec</code>打电话，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="b001" class="mq lg iq le b gy mr ms l mt mu">/c.*t/i.exec("CoffeesScript")[0];</span></pre><p id="0682" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="81ad" class="mq lg iq le b gy mr ms l mt mu">"CoffeesScript"</span></pre><h1 id="36fd" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">接受正则表达式作为参数的字符串方法</h1><p id="ef70" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">一些字符串方法接受正则表达式作为参数。</p><p id="c833" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们包括:</p><ul class=""><li id="c355" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe lb lc ld le b">match</code> —返回匹配项的数组</li><li id="32d9" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe lb lc ld le b">search</code> —返回第一次搜索的位置</li><li id="ee21" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe lb lc ld le b">replace</code> —用另一个字符串替换匹配的文本</li><li id="db02" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe lb lc ld le b">split</code> —将字符串拆分为元素数组时接受正则表达式</li></ul><p id="4485" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以向<code class="fe lb lc ld le b">search</code>和<code class="fe lb lc ld le b">match</code>传递一个正则表达式。</p><p id="bd12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="d4f2" class="mq lg iq le b gy mr ms l mt mu">'JavaScript'.match(/a/);</span></pre><p id="6293" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe lb lc ld le b">['a']</code>。</p><p id="4c60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们有”</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="0c19" class="mq lg iq le b gy mr ms l mt mu">'JavaScript'.match(/a/g);</span></pre><p id="bbcb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="631d" class="mq lg iq le b gy mr ms l mt mu">["a", "a"]</span></pre><p id="ce01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="f1fb" class="mq lg iq le b gy mr ms l mt mu">'JavaScript'.match(/J.*a/g);</span></pre><p id="adae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="1dec" class="mq lg iq le b gy mr ms l mt mu">["Java"]</span></pre><p id="d2d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们叫<code class="fe lb lc ld le b">search</code>:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="1a35" class="mq lg iq le b gy mr ms l mt mu">'JavaScript'.search(/J.*a/g);</span></pre><p id="a038" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到匹配字符串的位置，为 0。</p><p id="7f3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">replace</code>方法让我们用其他字符串替换匹配的文本。</p><p id="d049" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写以下内容来删除所有小写字母:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="0284" class="mq lg iq le b gy mr ms l mt mu">'JavaScript'.replace(/[a-z]/g, '')</span></pre><p id="1c2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9e20" class="mq lg iq le b gy mr ms l mt mu">"JS"</span></pre><p id="ce60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以使用<code class="fe lb lc ld le b">$&amp;</code>占位符来给匹配添加内容。</p><p id="4669" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="409f" class="mq lg iq le b gy mr ms l mt mu">'JavaScript'.replace(/[A-Z]/g, '-$&amp;')</span></pre><p id="3e22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="3cd1" class="mq lg iq le b gy mr ms l mt mu">"-Java-Script"</span></pre><p id="08f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以接受一个回调，让我们返回我们处理过的匹配。</p><p id="e211" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="ddc2" class="mq lg iq le b gy mr ms l mt mu">'JavaScript'.replace(/[A-Z]/g, (match) =&gt; {<br/>  return `-${match.toLowerCase()}`;<br/>})</span></pre><p id="1aae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="1737" class="mq lg iq le b gy mr ms l mt mu">"-java-script"</span></pre><p id="60cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用小写字母替换了大写字母，并在它前面加了一个破折号。</p><p id="d08a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回调的第一个参数是<code class="fe lb lc ld le b">match.</code></p><p id="dfec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后是被搜索的字符串。</p><p id="da78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">倒数第二个是<code class="fe lb lc ld le b">match</code>的位置。</p><p id="a7a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其余的参数包含与我们的 regex 模式中的任何组匹配的任何字符串。</p><p id="4b59" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">方法让我们分割一个字符串。</p><p id="3c22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要一个带有[模式的正则表达式来进行拆分。</p><p id="2786" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="b1c6" class="mq lg iq le b gy mr ms l mt mu">const csv = 'one, two,three ,four'.split(/\s*,\s*/);</span></pre><p id="18e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="a060" class="mq lg iq le b gy mr ms l mt mu">["one", "two", "three", "four"]</span></pre><p id="136b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用空格分割字符串来得到它。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/b467de58cceb99f814d6fe83ac30ea2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9zrFQ_ky--vXTrOq"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Victor Grabarczyk 在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="4fc4" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="c22f" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">RegExp</code>构造函数让我们找到字符串中的模式并使用它们。</p></div></div>    
</body>
</html>