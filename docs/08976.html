<html>
<head>
<title>Java 17: Top 5 Features You Must Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 17:你必须知道的 5 大特性</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/java-17-top-5-features-you-must-know-bbed2afaea3d?source=collection_archive---------2-----------------------#2022-07-22">https://blog.devgenius.io/java-17-top-5-features-you-must-know-bbed2afaea3d?source=collection_archive---------2-----------------------#2022-07-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9846" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">软件工程之旅</h2><div class=""/><div class=""><h2 id="35ba" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">Java 17:作为软件工程师你必须知道的 5 大特性</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/4a241f9470d439dde2cba805c62fd8f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SvMr38VchAZcYreN"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">马克西米利安·魏斯贝克尔在<a class="ae le" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="b654" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated"><strong class="ak">概述</strong></h1><p id="a7bb" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">在本教程中，我将分享关于 Java 平台的新闻，<a class="ae le" href="https://jdk.java.net/17/release-notes" rel="noopener ugc nofollow" target="_blank"> Java SE 17 </a>，包括新特性和变化。Java 17 LTS 是 Java SE 平台的长期支持版本。JDK 17 二进制文件可在生产中免费使用，并可根据甲骨文免费条款和条件许可协议免费再分发，LTS 代表长期支持。2021 年 9 月 15 日上映<strong class="lz ja">。</strong></p><p id="e402" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">首先，Java 17 中有许多 JDK 增强建议(jep)。我把它们按照 JEP 号码的顺序排列，你可以看到下面的列表:</p><ul class=""><li id="64bf" class="my mz iq lz b ma mt md mu mg na mk nb mo nc ms nd ne nf ng bi translated">JEP 306:恢复总是严格的浮点语义</li><li id="c34f" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 356:增强型伪随机数发生器</li><li id="1245" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 382:新的 macOS 渲染管道</li><li id="d00b" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 391: macOS/AArch64 端口</li><li id="2c55" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 398:反对删除小应用程序 API</li><li id="4295" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 403:强封装 JDK 内部</li><li id="3a9a" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 406:开关的模式匹配(预览)</li><li id="7ea5" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 407:删除 RMI 激活</li><li id="2117" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 409:密封类</li><li id="a12e" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 410:删除实验性的 AOT 和 JIT 编译器</li><li id="d303" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 411:反对删除安全管理器</li><li id="c77b" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 412:外部函数和内存 API(孵化器)</li><li id="3a4c" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 414: Vector API(第二个孵化器)</li><li id="b61c" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated">JEP 415:特定于上下文的反序列化过滤器</li></ul><p id="e6c0" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">虽然我们在 Java 17 中有很多特性，但我将分享这个 Java 17 版本中任何软件工程师都必须知道的顶级特性。我们开始吧！</p><h1 id="ce10" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">JAVA 17 中你必须知道的 5 大特性</h1><h2 id="88d1" class="nm lg iq bd lh nn no dn ll np nq dp lp mg nr ns lr mk nt nu lt mo nv nw lv iw bi translated">#1:增强型伪随机数发生器(PRNG)</h2><p id="79a9" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">对于没有 PRNG 背景的人来说，这是一个概念:</p><blockquote class="nx ny nz"><p id="8922" class="lx ly oa lz b ma mt ka mc md mu kd mf ob mv mi mj oc mw mm mn od mx mq mr ms ij bi translated">伪随机数发生器(PRNG)，也称为确定性随机位发生器(DRBG ),是一种用于生成数字序列的算法，该数字序列的属性近似于随机数序列的属性。PRNG 生成的序列并不是真正随机的，因为它完全是由一个初始值决定的，这个初始值叫做 PRNG 种子(它可能包含真正随机的值)。虽然使用硬件随机数发生器可以产生更接近真正随机的序列，但伪随机数发生器在实践中因其产生数的速度和可再现性而很重要。</p></blockquote><p id="ac82" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">从 Java 17 开始，我们有了一个名为 RandomGenerator 的新接口。这个接口使得 PRNG 的实现和使用更加简单。</p><pre class="kp kq kr ks gt oe of og oh aw oi bi"><span id="4c93" class="nm lg iq of b gy oj ok l ol om">package java.util.random;  <br/>public interface RandomGenerator {   </span><span id="ddaf" class="nm lg iq of b gy on ok l ol om">}</span></pre><p id="86b7" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这是一个使用<code class="fe oo op oq of b">RandomGeneratorFactory</code>让<code class="fe oo op oq of b">Xoshiro256PlusPlus</code> PRNG 算法生成从 0 到 10 的特定范围内的随机整数的例子。</p><pre class="kp kq kr ks gt oe of og oh aw oi bi"><span id="ef14" class="nm lg iq of b gy oj ok l ol om"><strong class="of ja">import </strong>java.util.random.RandomGenerator;<br/><strong class="of ja">import </strong>java.util.random.RandomGeneratorFactory;<br/><br/><strong class="of ja">public class </strong>TechIsBeautiful {<br/><br/>  <strong class="of ja">public static void </strong>main(String[] args) {<br/>    <strong class="of ja">final </strong>String randomAlgorithms = <strong class="of ja">"Xoshiro256PlusPlus"</strong>;<br/>    <strong class="of ja">final int </strong>seed = 999;<br/>    RandomGenerator randomGenerator = RandomGeneratorFactory.of(randomAlgorithms).create(seed);<br/>    <strong class="of ja">for </strong>(<strong class="of ja">int </strong>i =0;i&lt;=10;i++){<br/>      <strong class="of ja">int </strong>output = randomGenerator.nextInt(11);<br/>      System.<strong class="of ja"><em class="oa">out</em></strong>.println(output);<br/>    }<br/>  }<br/>}</span></pre><p id="fb89" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这样，输出将在 0 到 10 的范围内随机变化:</p><pre class="kp kq kr ks gt oe of og oh aw oi bi"><span id="fd73" class="nm lg iq of b gy oj ok l ol om">2<br/>3<br/>0<br/>5<br/>2<br/>1<br/>10<br/>6<br/>5<br/>8<br/>7</span></pre><p id="f309" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">您可以通过下面的示例代码看到所有的 PRNG 算法:</p><pre class="kp kq kr ks gt oe of og oh aw oi bi"><span id="5e78" class="nm lg iq of b gy oj ok l ol om">RandomGeneratorFactory.all()<br/>    .map(x -&gt; x.name())<br/>    .sorted()<br/>    .forEach(System.<strong class="of ja"><em class="oa">out</em></strong>::println);</span></pre><p id="c15a" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这是 Java 17 中的 PRNG 算法列表:</p><pre class="kp kq kr ks gt oe of og oh aw oi bi"><span id="7a96" class="nm lg iq of b gy oj ok l ol om">LXM : L128X1024MixRandom<br/>LXM : L128X128MixRandom<br/>LXM : L128X256MixRandom<br/>LXM : L32X64MixRandom<br/>LXM : L64X1024MixRandom<br/>LXM : L64X128MixRandom<br/>LXM : L64X128StarStarRandom<br/>LXM : L64X256MixRandom<br/>Legacy : Random<br/>Legacy : SecureRandom<br/>Legacy : SplittableRandom<br/>Xoroshiro : Xoroshiro128PlusPlus<br/>Xoshiro : Xoshiro256PlusPlus</span></pre><p id="6179" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">此外，在遗留随机类中有一些增强，如<code class="fe oo op oq of b">java.util.Random</code>、<code class="fe oo op oq of b">SplittableRandom</code>和<code class="fe oo op oq of b">SecureRandom</code>，也扩展了新的<code class="fe oo op oq of b">RandomGenerator</code>接口。</p><h2 id="cb8c" class="nm lg iq bd lh nn no dn ll np nq dp lp mg nr ns lr mk nt nu lt mo nv nw lv iw bi translated">#2:开关的模式匹配(预览)</h2><p id="8145" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">这是增强开关表达式和语句的模式匹配的另一个特性。不过请注意，这个功能还在“预览”中。由于这是一个预览功能，您需要使用<code class="fe oo op oq of b">--enable-preview</code>选项在您的 JDK 17 环境中启用它。</p><p id="cb11" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这个例子展示了在 Java 17 中使用 switch-case 是多么方便。</p><pre class="kp kq kr ks gt oe of og oh aw oi bi"><span id="8c00" class="nm lg iq of b gy oj ok l ol om"><strong class="of ja">public </strong>String checkValidShape(Shape shape) {<br/>  <strong class="of ja">return switch </strong>(shape) {<br/>    <strong class="of ja">case </strong>Rectangle r &amp;&amp; (r.getNumOfSides() != 4) -&gt; <strong class="of ja">"Sorry! Not valid Rectangle"</strong>;<br/>    <strong class="of ja">case </strong>Line l &amp;&amp; (l.getNumOfSides() != 1) -&gt; <strong class="of ja">"Sorry! Not valid Line"</strong>;<br/>    <strong class="of ja">default </strong>-&gt; <strong class="of ja">"Great! This may a good shape"</strong>;<br/>  };<br/>}</span></pre><h2 id="1033" class="nm lg iq bd lh nn no dn ll np nq dp lp mg nr ns lr mk nt nu lt mo nv nw lv iw bi translated">#3:密封类</h2><p id="439b" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">这用密封的类和接口增强了 Java 编程语言。密封的类和接口限制了哪些其他类或接口可以扩展或实现它们。</p><pre class="kp kq kr ks gt oe of og oh aw oi bi"><span id="0968" class="nm lg iq of b gy oj ok l ol om">public abstract sealed class Shape<br/>permits Circle, Rectangle, Triangle {<br/>   ...<br/>}</span></pre><p id="d716" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">实际上，这个特性是从 Java 15 和 Java 16 中引入的，但是它仍然是一个预览特性。从 Java 17 开始，这个特性最终将密封类作为 Java 17 中的标准特性。</p><h2 id="4752" class="nm lg iq bd lh nn no dn ll np nq dp lp mg nr ns lr mk nt nu lt mo nv nw lv iw bi translated">#4: Vector API(第二个孵化器)</h2><p id="2e4f" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">在 Java 17 中，它利用专门的 CPU 硬件来支持向量指令，并允许像管道一样执行这些指令。这提高了 Vector API 的性能，还增加了其他增强功能，如支持字符操作、将字节向量转换为布尔数组以及从布尔数组转换字节向量等。</p><h2 id="bb93" class="nm lg iq bd lh nn no dn ll np nq dp lp mg nr ns lr mk nt nu lt mo nv nw lv iw bi translated">#5:特定于上下文的反序列化过滤器</h2><p id="d3df" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">众所周知，从不受信任的数据中反序列化数据是危险的，不应该是最佳实践。在 Java 9 中，它使软件工程师能够验证从不可信来源传入的序列化数据，以防止安全问题。在 Java 17 中，它允许应用程序配置在 JVM 级别定义的特定于上下文和动态选择的反序列化过滤器。</p><h1 id="3588" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">摘要</h1><p id="bd42" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">在这篇文章中，我用实例分享了 top 5 必知 Java 17 的新特性。本文中分享的信息是探索和学习 Java 17 其他特性的一个很好的切入点。</p></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><p id="b8bf" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated"><em class="oa">喜欢这篇文章？给我拿个</em><a class="ae le" href="https://ko-fi.com/techisbeautiful" rel="noopener ugc nofollow" target="_blank"><em class="oa">Ko-fi</em></a><em class="oa">。</em></p><p id="e2dc" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated"><em class="oa">爱我的文字？加入我的</em> <a class="ae le" href="https://medium.com/subscribe/@techisbeautiful" rel="noopener"> <em class="oa">邮件列表</em> </a> <em class="oa">。</em></p><p id="5577" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated"><em class="oa">爱读书？加入</em> <a class="ae le" href="https://medium.com/@techisbeautiful/membership" rel="noopener"> <em class="oa">中等</em> </a> <em class="oa">(如果你用这个链接，也是支持我，因为我有来自中等的小提成)。</em></p></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><p id="5bf7" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated"><em class="oa">如果你喜欢这个故事，你也会喜欢:</em></p><ul class=""><li id="b822" class="my mz iq lz b ma mt md mu mg na mk nb mo nc ms nd ne nf ng bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/java-18-top-4-features-you-must-know-1f36ee23e2ab">你必须知道的 Java 18: 4 特性</a></li><li id="4a79" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated"><a class="ae le" href="https://medium.com/@techisbeautiful/new-features-you-must-know-in-java-11-and-examples-3fda2ad26def" rel="noopener">你必须知道的 Java 11: 8 特性</a></li><li id="8c7c" class="my mz iq lz b ma nh md ni mg nj mk nk mo nl ms nd ne nf ng bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/java-8-seven-features-you-must-know-and-examples-1c3964ae7fe8">你必须知道的 Java 8 : 7 特性</a></li></ul></div></div>    
</body>
</html>