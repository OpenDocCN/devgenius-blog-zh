<html>
<head>
<title>Part 1: Building DApps with Angular and Hardhat</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第1部分:用棱角和安全帽构建DApps</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/part-1-building-dapps-with-angular-and-hardhat-ace1c60b2523?source=collection_archive---------3-----------------------#2022-01-20">https://blog.devgenius.io/part-1-building-dapps-with-angular-and-hardhat-ace1c60b2523?source=collection_archive---------3-----------------------#2022-01-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/dffff024af66900c76d3a735044b8e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Ff25Jq7lNzxhMtyCO22BA.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="793d" class="pw-subtitle-paragraph jv ix iy bd b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dk translated">构建可靠的智能合约，并通过以太网将它们连接到您的角度应用。</h2></div><p id="61f8" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">首先，你会找到关于DApps和智能合约的简短解释。之后，我们将模板安装并运行，这样您就可以开始构建自己的DApps了。你可以在这里找到相关的库<a class="ae lj" href="https://github.com/pguso/angular-hardhat-starter-dapp" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="1d37" class="lk ll iy bd lm ln lo dn lp lq lr dp ls kw lt lu lv la lw lx ly le lz ma mb mc bi translated">什么是DApps？</h2><p id="c2d3" class="pw-post-body-paragraph kn ko iy kp b kq md jz ks kt me kc kv kw mf ky kz la mg lc ld le mh lg lh li ig bi translated">分散式应用程序将Angular这样的前端与一个由独立节点组成的分散式网络连接起来，这些节点保存着您部署的智能契约的副本。每一个改变你的合同状态的行为都会被记录在区块链上，并且需要付费。您的DApp可以在智能合同的帮助下读写区块链。你可以在这里找到更多信息<a class="ae lj" href="https://ethereum.org/en/developers/docs/dapps/" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="9715" class="lk ll iy bd lm ln lo dn lp lq lr dp ls kw lt lu lv la lw lx ly le lz ma mb mc bi translated">什么是智能合约？</h2><p id="8fe4" class="pw-post-body-paragraph kn ko iy kp b kq md jz ks kt me kc kv kw mf ky kz la mg lc ld le mh lg lh li ig bi translated">使用智能合约，您可以将一组预定义的规则放在一起。这是一个自动执行的合同，每一个动作都被写入一个不可变的公开可见的数据库(区块链)。</p><blockquote class="mi mj mk"><p id="042d" class="kn ko ml kp b kq kr jz ks kt ku kc kv mm kx ky kz mn lb lc ld mo lf lg lh li ig bi translated">智能合同是存储在区块链上的数字合同，在满足预定的条款和条件时自动执行</p></blockquote><p id="0ccf" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">智能合同可以取代银行、公证人、律师或其他中间人。</p><p id="c28e" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">智能合同也可以建立信任。例如，一家在线商店可以使用智能合同来为客户保持安全支付，直到货物成功交付。只有在货物交付后，卖方才能拿到钱。如果卖方未能在预定的时间内交付货物，这笔钱将退还给买方。</p><p id="1e92" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">关于如何使用智能合约，有无数种可能性。你可以在这里阅读更多关于智能合约的想法<a class="ae lj" href="https://www.ibm.com/topics/smart-contracts" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="c103" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">如果您不确定区块链是否是您项目的正确选择，这个决策树可能会有所帮助:</p><figure class="mq mr ms mt gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mp"><img src="../Images/f9c4e2f884b562f027173c365e00604c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_vNj4TIg5FxJ1J8iRhz4mQ.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">来源:<a class="ae lj" href="https://connect.comptia.org/content/infographic/blockchain-decision-tree" rel="noopener ugc nofollow" target="_blank">https://connect . comptia . org/content/infograph/区块链决策树</a></figcaption></figure><h2 id="02cc" class="lk ll iy bd lm ln lo dn lp lq lr dp ls kw lt lu lv la lw lx ly le lz ma mb mc bi translated">先决条件</h2><ol class=""><li id="e449" class="my mz iy kp b kq md kt me kw na la nb le nc li nd ne nf ng bi translated"><a class="ae lj" href="http://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> NodeJS </a></li><li id="fc03" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nd ne nf ng bi translated">NPM(节点包经理)</li><li id="f1fd" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nd ne nf ng bi translated">角度坐标(<code class="fe nm nn no np b">npm install -g @angular/cli</code>)</li></ol><h2 id="17da" class="lk ll iy bd lm ln lo dn lp lq lr dp ls kw lt lu lv la lw lx ly le lz ma mb mc bi translated">使用的版本</h2><ul class=""><li id="0321" class="my mz iy kp b kq md kt me kw na la nb le nc li nq ne nf ng bi translated">角度13</li><li id="86b7" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nq ne nf ng bi translated">角形材料13</li><li id="09e4" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nq ne nf ng bi translated">安全帽2.8</li><li id="01dc" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nq ne nf ng bi translated">醚类5.5</li><li id="842c" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nq ne nf ng bi translated">坚实度0.8.4</li></ul><p id="7e22" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">我们使用<strong class="kp iz"> Angular </strong>作为带有Angular材质的前端框架，因此我们有一些UI组件来轻松地将我们的前端放在一起。</p><p id="254b" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated"><a class="ae lj" href="https://github.com/nomiclabs/hardhat" rel="noopener ugc nofollow" target="_blank"> <strong class="kp iz"> Hardhat </strong> </a>是一个npm模块，我们可以使用CLI来编译、部署和测试用Solidity编写的EVM兼容智能合同。你可以在这里找到EVM兼容区块链<a class="ae lj" href="https://coinguides.org/evm-blockchains-add-evm-network/" rel="noopener ugc nofollow" target="_blank">的列表。</a></p><p id="d526" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">以下是EVM兼容区块链的简化列表:</p><ul class=""><li id="1ff0" class="my mz iy kp b kq kr kt ku kw nr la ns le nt li nq ne nf ng bi translated">以太坊</li><li id="70a1" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nq ne nf ng bi translated">多边形</li><li id="7554" class="my mz iy kp b kq nh kt ni kw nj la nk le nl li nq ne nf ng bi translated">币安智能连锁</li></ul><p id="5451" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">我们使用<strong class="kp iz"> Ethers </strong>这是一个完整的以太坊钱包实现和JavaScript(和TypeScript)实用程序，它是轻量级的，经过良好测试。如果您已经听说过Web3库，Ethers是一个替代库。</p><p id="7054" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">对于智能契约开发，我们使用<strong class="kp iz"> Solidity </strong>，作为一名Javascript/Typescript开发人员，使用Solidity很容易上手。有几个概念对你来说是新的，比如映射、结构、严格类型等等。但是有很好的资源可以满足你的DApp需要的每一个细节。</p><p id="e67a" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">我们使用<strong class="kp iz"> IPFS </strong>(星际文件系统)来存储和读取图像和元数据。如果你保存更多关于区块链的数据，汽油费会很快变得昂贵。避免这种情况的一个简单方法是使用IPFS以分散的方式存储和读取我们的数据。</p><h2 id="03d0" class="lk ll iy bd lm ln lo dn lp lq lr dp ls kw lt lu lv la lw lx ly le lz ma mb mc bi translated">入门指南</h2><p id="16f2" class="pw-post-body-paragraph kn ko iy kp b kq md jz ks kt me kc kv kw mf ky kz la mg lc ld le mh lg lh li ig bi translated">要启动并运行此DApp，请按照以下步骤操作。</p><ol class=""><li id="c55e" class="my mz iy kp b kq kr kt ku kw nr la ns le nt li nd ne nf ng bi translated">克隆存储库</li></ol><pre class="mq mr ms mt gt nu np nv nw aw nx bi"><span id="610b" class="lk ll iy np b gy ny nz l oa ob">git clone git@github.com:pguso/angular-hardhat-starter-dapp.git</span></pre><p id="9096" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">2.切换到克隆的文件夹angular-hardhat-starter-dapp</p><p id="c84a" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">3.安装依赖项</p><pre class="mq mr ms mt gt nu np nv nw aw nx bi"><span id="7cd3" class="lk ll iy np b gy ny nz l oa ob">npm install</span></pre><p id="aca7" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">4.安装元掩模<a class="ae lj" href="https://metamask.io/download/" rel="noopener ugc nofollow" target="_blank">https://metamask.io/download/</a></p><p id="fab3" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">5.使用本<a class="ae lj" href="https://docs.matic.today/docs/develop/metamask/config-polygon-on-metamask/" rel="noopener ugc nofollow" target="_blank">教程</a>在Metamask中配置多边形(切换到Mumbai-Testnet选项卡)</p><p id="e93d" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">6.将. env.dist重命名为。env并将元掩码私钥粘贴到PRIVATE_KEY字段中</p><p id="2736" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">7.将合同上传到Polygon Mumbai Testnet</p><p id="2961" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">确保你在Metamask中有足够的MATIC，你可以从这里得到测试MATIC<a class="ae lj" href="https://faucet.polygon.technology/)" rel="noopener ugc nofollow" target="_blank">https://faucet.polygon.technology/</a></p><pre class="mq mr ms mt gt nu np nv nw aw nx bi"><span id="86a8" class="lk ll iy np b gy ny nz l oa ob">npm run deploy:testnet</span></pre><p id="96c5" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">8.将您在命令行上获得的合同地址粘贴到src/environments/environment . ts中</p><pre class="mq mr ms mt gt nu np nv nw aw nx bi"><span id="fe4d" class="lk ll iy np b gy ny nz l oa ob">export const environment = {<br/>  // ...<br/>  contractAddress: '0x04215C89a6af0f7ed9103c48BaF6A8e19f119470',<br/>  // ...<br/>};</span></pre><p id="a10e" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">9.运行angular应用程序，并在<a class="ae lj" href="http://localhost:4200" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>下测试应用程序</p><pre class="mq mr ms mt gt nu np nv nw aw nx bi"><span id="e9b5" class="lk ll iy np b gy ny nz l oa ob">ng serve</span></pre><figure class="mq mr ms mt gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi oc"><img src="../Images/3796bde7df06c61e07f69051b68f2ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fn5bgh330v5rDRQP_eTPnQ.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">已上传图片的主页</figcaption></figure><p id="d127" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">你可以玩这个DApp，在下一篇文章<a class="ae lj" href="https://pguso.medium.com/part-2-smart-contract-and-angular-service-interaction-5862f6ec3f48" rel="noopener">第二部分</a>中，我们将研究智能合同(图库)如何通过服务与我们的前端连接。</p></div></div>    
</body>
</html>