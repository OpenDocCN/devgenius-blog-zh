<html>
<head>
<title>What Is Docker? Should I Care?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker是什么？我应该在乎吗？</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/what-is-docker-should-i-care-81ab6f4d874d?source=collection_archive---------47-----------------------#2020-06-14">https://blog.devgenius.io/what-is-docker-should-i-care-81ab6f4d874d?source=collection_archive---------47-----------------------#2020-06-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/4e811bb72a7b541c4b9e949663c9aec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Bo5R4x5GbnYCL4Bi"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jz" href="https://unsplash.com/@nessa_rin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Rinson Chory </a>拍摄</figcaption></figure><p id="7c04" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本文中，我们将简要介绍docker容器。首先，我想从码头集装箱的起源说起:</p><h2 id="c09e" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated"><strong class="ak">起源/类比</strong></h2><p id="85be" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">历史上，将货物从一个港口移动到另一个港口是一个麻烦且昂贵的过程，需要人工劳动，例如码头工人，在每个转运点用手装卸物品。联运集装箱的引入彻底改变了运输业。</p><p id="ea33" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些集装箱有标准尺寸，设计用于以最少的人工在不同的运输方式之间移动。此外，冷藏和保温集装箱可用于运输对温度敏感的货物，如食品和药品。这意味着运输行业可以让货物的生产者担心集装箱的内容，这样它就可以专注于集装箱的移动和存储。</p><p id="372f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Docker的目标是将容器标准化的好处带给IT行业。</p><p id="b573" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现代系统可能包括Javascript框架、NoSQL数据库、消息队列、REST APIs和用不同编程语言编写的后端。我们可能需要这个堆栈完全或部分运行在各种硬件之上，从开发人员笔记本电脑和内部测试集群到生产云提供商。这些环境各不相同，在不同的硬件上运行不同的操作系统和不同版本的库。</p><p id="c894" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">类似于联运集装箱简化了货物的运输，Docker集装箱简化了软件应用程序的运输。现在，开发人员可以专注于构建应用程序，并通过测试和生产来交付它，而不必担心环境和依赖关系的差异。运营商可以专注于运行容器的核心问题，例如分配资源、启动和停止容器，以及在服务之间迁移容器。</p><h2 id="96ff" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">什么是容器？</h2><p id="8452" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">容器是映像的运行时实例(一个轻量级的独立可执行包，包含运行一个软件所需的一切，包括代码、运行时、库、环境变量和配置文件)。它完全独立于主机环境运行，仅在配置后访问主机文件和端口。换句话说，容器是应用程序及其依赖项的封装。</p><p id="902e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">乍一看，它们似乎是虚拟机的一种轻量级形式——就像VM一样，容器保存操作系统的一个独立实例，我们可以用它来运行应用程序。</p><h2 id="f8dc" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">为什么是集装箱？</h2><p id="b20e" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">容器在主机的内核上运行应用程序。与仅通过虚拟机管理程序虚拟访问主机资源的虚拟机相比，它们具有更好的性能特征。容器可以获得本地访问，每个容器都在一个独立的进程中运行，占用的内存不比任何其他可执行文件多。因此，它们可以在几分之一秒内停止和启动。</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/5bbce6f072e5db8238dec76d6f07ffe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mS5c8IKskvmz5fDeDacGdA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">容器与虚拟机</figcaption></figure><p id="47cc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">容器可以终结“但是它在我的机器上可以工作！”。</em>容器的可移植性可以消除运行环境中细微变化引起的一整类bug。</p><p id="e40b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">容器的轻量级特性</em>意味着开发人员可以同时运行十几个容器，从而使模拟一个生产就绪的分布式系统成为可能。</p><p id="4308" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">容器对于终端用户和开发人员来说，除了部署到云之外，还有其他优势。</em>用户可以下载并运行复杂的应用程序，而无需花费数小时解决配置和安装问题，也无需担心系统所需的更改。反过来，这种应用程序的开发人员可以避免担心用户环境的差异和依赖性的可用性。</p><h1 id="4828" class="mc kz in bd la md me mf ld mg mh mi lg mj mk ml lj mm mn mo lm mp mq mr lp ms bi translated">现在让我们去码头</h1><p id="6493" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">Docker于2013年由dotnet作为开源项目发布。Docker将现有的Linux容器技术(LXC)包装起来，并以各种方式进行扩展——主要是通过可移植的图像和用户友好的界面。Docker依赖于Linux内核特性，如名称空间和cgroups，以确保资源隔离，并打包应用程序及其依赖项。</p><p id="5a9c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Docker平台有两个不同的组件:</p><ul class=""><li id="1c7e" class="mt mu in kc b kd ke kh ki kl mv kp mw kt mx kx my mz na nb bi translated">负责创建容器的Docker引擎。</li><li id="fee7" class="mt mu in kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">Docker Hub，一个用于分发Docker容器的云服务。</li></ul><h2 id="f24f" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">基本Docker命令</h2><p id="c113" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated"><em class="lw"> docker —版本</em>:返回你正在运行的docker的版本。</p><p id="ed44" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">docker run&lt;image&gt;</em>:获取一个图像，从该<br/>图像创建一个容器并启动它(多次运行它将在每次运行时创建一个容器)。</p><p id="2e53" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">docker start&lt;image | id&gt;</em>:启动一个现有的容器。</p><p id="97bc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">docker stop&lt;image | id&gt;</em>:停止正在运行的容器。</p><p id="e0e4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">列出有多少集装箱正在运行。</p><p id="27de" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">码头工人ps -a </em>:列出停止和运行的集装箱。</p><p id="045b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw">docker RM&lt;name | id&gt;</em>:移除或删除一个集装箱。</p><p id="8b90" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw"> docker images </em>:列出最近创建的图像。</p><p id="753e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw"> docker登录</em>:创建一个新账户或使用现有凭证<br/>登录docker hub。</p><p id="f239" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lw"> docker附加Python </em>(将i/o附加到图像)。</p><p id="7e75" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">其他命令可以在这里找到。</p><h2 id="f5c3" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">Dockerfile文件</h2><p id="988f" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">Docker映像从一个基本映像开始，该映像包括您的应用程序所需的平台依赖性。基础映像被定义为Dockerfile文件中的指令。Dockerfile是一个说明列表，描述了如何部署您的应用程序，它遵循一个特定的格式和一组说明，您可以在Dockerfile reference中找到。</p><p id="7900" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">docker build -t <build-directory>:构建一个docker文件(-t参数允许您为图像和标签指定一个友好的名称，通常用作版本号)。</build-directory></p><h2 id="0f71" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">结论</h2><p id="8862" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">Docker允许你在相同的硬件上运行比其他技术更多的容器。它帮助开发人员创建现成的容器化应用程序，使开发和管理应用程序变得更加容易管理。最近，许多公司已经开始使用Docker来运行他们的服务器应用程序，包括Paypal、纽约时报、优步和许多其他公司。</p></div></div>    
</body>
</html>