<html>
<head>
<title>Best of Modern JavaScript — Template and Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现代 JavaScript 的精华——模板和变量</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/best-of-modern-javascript-template-and-variables-84fb6f7cc119?source=collection_archive---------2-----------------------#2020-09-13">https://blog.devgenius.io/best-of-modern-javascript-template-and-variables-84fb6f7cc119?source=collection_archive---------2-----------------------#2020-09-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a6adb73744e7fd845cb5c3fdbecd1b00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n3FvhvUDOZOlyUfi"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@tim_arterbury?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">蒂姆·阿特伯里</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="7bf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自 2015 年以来，JavaScript 有了巨大的进步。</p><p id="c894" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在用起来比以前舒服多了。</p><p id="193a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究 JavaScript 模板文字和变量。</p><h1 id="58c6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">文本模板</h1><p id="3733" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们为文本创建模板，因为我们可以在模板字符串中插入表达式。</p><p id="87b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3665" class="mn lc iq mj b gy mo mp l mq mr">const tmpl = persons =&gt; `<br/>  &lt;table&gt;<br/>  ${addrs.map(person =&gt; `<br/>    &lt;tr&gt;&lt;td&gt;${person.firstName}&lt;/td&gt;&lt;/tr&gt;<br/>    &lt;tr&gt;&lt;td&gt;${person.lastName}&lt;/td&gt;&lt;/tr&gt;<br/>  `).join('')}<br/>  &lt;/table&gt;<br/>`;</span></pre><p id="7ea7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是把我们的表达式传递给表达式。</p><h1 id="9cf6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">实现标签功能</h1><p id="ce5d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过创建一个函数来创建自己的模板标签函数。</p><p id="1afa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="86bb" class="mn lc iq mj b gy mo mp l mq mr">const tag = (...args) =&gt; {<br/>  console.log(args);<br/>}</span><span id="44fe" class="mn lc iq mj b gy ms mp l mq mr">const firstName = 'mary';<br/>const lastName = 'smith';</span><span id="4d40" class="mn lc iq mj b gy ms mp l mq mr">tag `hello ${firstName} ${lastName}`</span></pre><p id="da7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe mt mu mv mj b">parts</code>将是模板字符串中没有表达式的部分:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="09b3" class="mn lc iq mj b gy mo mp l mq mr">["hello ", " ", ""]</span></pre><p id="6e19" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe mt mu mv mj b">args</code>将是一个包含所有表达式的数组:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d578" class="mn lc iq mj b gy mo mp l mq mr">["mary", "smith"]</span></pre><h1 id="0b37" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">模板文字和标记模板文字从何而来？</h1><p id="bcaa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">模板文字和标记模板来自语言 E，在那里它们被称为准文字。</p><h1 id="a3d0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">为什么使用反斜线作为模板文字的分隔符？</h1><p id="c889" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">反斜线是 JavaScript 不使用的少数 ASCII 字符之一。</p><p id="9669" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">插值的<code class="fe mt mu mv mj b">${}</code>对于其他语言来说是通用的。</p><h1 id="2d3c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">变量和范围</h1><p id="c851" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript 给了我们两种方法来声明变量，<code class="fe mt mu mv mj b">let</code>和<code class="fe mt mu mv mj b">const</code>，</p><p id="4a17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们用<code class="fe mt mu mv mj b">var</code>取代了 ES5 声明变量的方式。</p><p id="1173" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">let</code>和<code class="fe mt mu mv mj b">const</code>都是块范围的。</p><p id="5d0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们只存在于当前块中。</p><p id="9b1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">var</code>是函数范围的，所以它们存在于函数中的任何地方，</p><p id="7663" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f00b" class="mn lc iq mj b gy mo mp l mq mr">if (x &gt; y) { <br/>  let foo = x;<br/>}</span></pre><p id="4b9a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe mt mu mv mj b">foo</code>仅在<code class="fe mt mu mv mj b">if</code>模块内可用。</p><p id="0aa8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这和<code class="fe mt mu mv mj b">const</code>是一样的。</p><p id="3056" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">唯一的区别是，我们不能将一个常量的值赋给另一个值。</p><p id="431b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们也很好，因为<code class="fe mt mu mv mj b">let</code>和<code class="fe mt mu mv mj b">const</code>变量不能被提升。</p><p id="eb1f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着它们只有在被定义后才能被使用。</p><h1 id="475f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">声明变量的方式</h1><p id="fcde" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript 中有几种声明变量的方法。</p><p id="f7cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">var</code>声明是否提升，其作用域是否确定。</p><p id="ddad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还创建全局属性。</p><p id="ee3a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">let</code>不会被提升，它是块范围的。</p><p id="74ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也不会创建全局属性。</p><p id="a164" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">const</code>同 let。</p><p id="4ff3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">function</code>让我们定义函数。</p><p id="1801" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数声明被完全提升。</p><p id="9e3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">function</code>也是块范围的，创建全局属性。</p><p id="8425" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关键字<code class="fe mt mu mv mj b">class</code>让我们创建类。</p><p id="684b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它不是悬挂的，它是块范围的，并且不创建全局属性。</p><p id="08b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">import</code>让我们从其他地方导入模块成员。</p><p id="7135" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它对模块是全局的，不创建全局属性。</p><h1 id="0422" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">通过<code class="fe mt mu mv mj b">let</code>和<code class="fe mt mu mv mj b">const</code>阻止作用域</h1><p id="0def" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用<code class="fe mt mu mv mj b">let</code>和<code class="fe mt mu mv mj b">const</code>的块范围让我们创建块范围的变量。</p><p id="0160" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着我们可以在函数中隐藏变量。</p><p id="993f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="868f" class="mn lc iq mj b gy mo mp l mq mr">function func() {<br/>  const foo = 5;<br/>  if (baz) {<br/>    const foo = 10; <br/>    console.log(foo);<br/>  }<br/>  console.log(foo);<br/>}</span></pre><p id="e6d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在两个地方都有<code class="fe mt mu mv mj b">foo</code>。</p><p id="8c6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">foo</code>是<code class="fe mt mu mv mj b">if</code>块中的 10。</p><p id="537f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在功能块中是 5。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f3822cc65504b284138613c9b23a12a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JSGXAokYJEMIIA0v"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@gavla?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Gavin Allanwood </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="337a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="788b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用模板文字创建模板。</p><p id="e154" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">let</code>和<code class="fe mt mu mv mj b">const</code>让我们可以轻松地创建变量。</p></div></div>    
</body>
</html>