<html>
<head>
<title>Thoughts on building software models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于建立软件模型的思考</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/thoughts-on-building-software-models-a1321bfbc4d1?source=collection_archive---------38-----------------------#2020-06-16">https://blog.devgenius.io/thoughts-on-building-software-models-a1321bfbc4d1?source=collection_archive---------38-----------------------#2020-06-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e55eb34e4628547b624c5391b5a4231c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4hqu-v2WviBep6CR"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">乌韦·亨塞尔在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="1823" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我最近教了一门课程，关于如何为初级到中级程序员构建软件模型。作为其中的一部分，我试图提炼出支撑良好建模实践的一般思想。</p><p id="cec7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，除了语法和如何编写函数的基础知识之外，当我们设计和编写软件时，真正重要的是什么？好的模型和坏的模型之间的区别是什么，我们是否按计划舒适地交付，或者是否上周每天工作 16 小时很忙碌？</p><p id="188d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">每个人做事都不一样，很少有绝对；这是对我有用的:</p><ul class=""><li id="a1d0" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">纸片测试</li><li id="75f9" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">接口与实现</li><li id="518e" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">没有捷径(但有捷径)</li><li id="8da6" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">不要目光短浅</li><li id="5642" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">编码你的想法</li><li id="b07a" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">纵观全局，拥有自己的作品</li></ul></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="4a19" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">纸片测试</strong></p><p id="869d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你能在一张纸上画出你的模型并向某人解释吗？有人可能是开发伙伴或最终用户，技术或非技术人员。但是如果你不能用最简单的术语向某人解释它，我会说它太复杂了，或者你没有完全理解它。</p><p id="df4d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">模型的大小无关紧要；对于复杂的模型，你应该能够以一种直观的方式自上而下地解释模型。</p><p id="138c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">与此相反，在设计模型时，纸和笔是你最好的朋友。它迫使你将模型削减到最基本的部分——输入、计算、输出——并鼓励你用一种不依赖于任何特定语言的通用方式来思考。</p><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lt"><img src="../Images/5b7bd34db97e10a0d27606a3e22f74bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HSpZQn3BoeczubJi"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">照片由<a class="ae jz" href="https://unsplash.com/@m15ky?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mike Tinnion </a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a> : <strong class="bd ly">笔和纸是你设计模型时最好的朋友</strong></figcaption></figure></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="a332" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">接口与实现</strong></p><p id="be88" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在软件开发的上下文中，接口的概念可以定义为<em class="lz">什么软件做什么</em>，而实现可以定义为<em class="lz">它如何做</em>。接口当然可以用非常明确的术语来定义，例如作为一个类的公共接口，但是这里我们考虑一般的形式。</p><ul class=""><li id="f787" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">接口是高级的，实现是低级的</li><li id="5fcc" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">界面是设计，实现是细节</li><li id="26ae" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">接口独立于代码而存在</li><li id="f01e" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">接口先于实现</li></ul><p id="f136" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一个有用的问题是，你在接口和实现上花了多少时间(什么时候)。用基本模型对想法进行初步探索是好的，但是如果没有一些迭代设计和构建的元素，这不应该演变成一个越来越复杂的模型。我们都在实践中见过它；模型是在两个星期的赶工中建成的，5 年后还在使用！</p><p id="8d52" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我的经验是，在接口和实现任务方面，尽量保持 80/20 的比例。如果我花了超过 20%的时间在细节上，这是缺乏清晰性和前瞻性的表现。</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="6f2d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">没有捷径(但有捷径)</strong></p><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ma"><img src="../Images/d99b151de2efd7f4c44d362ff956e591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q6bwdNKuHCnQbfqr"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">由<a class="ae jz" href="https://unsplash.com/@benjaminjohnelliott?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Benjamin Elliott </a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a> : <strong class="bd ly">上拍摄的照片知道一个项目的终点在哪里并不总是容易的</strong></figcaption></figure><p id="dbe5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">想想你最近参与的一个项目。从开始到结束花了多长时间？如果你必须再做一次，知道你现在在做什么，你会花多长时间？</p><p id="4eeb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我的经验是，事后看来，一个持续六个月到一年的项目可以在不到两个月的时间内完成。这里没有魔法。当你对自己想做的事情有一个清晰的想法时，并不需要那么长时间！</p><p id="6822" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">“长切”有多种来源，包括:</p><ul class=""><li id="3547" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">不了解利益相关者想要/需要什么</li><li id="dec2" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">利益相关者不了解利益相关者想要/需要什么</li><li id="0f9b" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">糟糕的设计</li><li id="4d30" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">使用“锁定”开发代码</li><li id="41ed" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">测试延迟</li></ul><p id="29d7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您永远不会有完美的预见——需求和资源可能会在没有警告的情况下发生变化——但在大多数情况下，通过预先进行相关的对话和设计决策，可以避免长切:</p><ul class=""><li id="17f0" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">积极地让利益相关者真正了解他们需要什么和不需要什么(同样重要)；作为一名开发人员，您的观点可以帮助您制定一套清晰的需求</li><li id="2222" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">用“如果事情发生变化怎么办？”来保持设计的模块化远景</li><li id="d1bb" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">从一开始就进行测试，最好是使用一个自动化的框架，您可以在这个框架上进行构建，并在项目的剩余部分中加以利用</li><li id="6c7e" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">让别人来评审你的设计；做这件事没有唯一正确的方法，听取他人的观点总是有用的</li></ul></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="df12" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">不要短视</strong></p><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/5f5a9fcdd70b5d6258ee1c97e1b0d16c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*p0VWvF0RQ0122Vdz"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">Felix Mittermeier 在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片；<strong class="bd ly">玩长线游戏；物有所值</strong></figcaption></figure><p id="434d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你愿意现在有 1000 还是一年后有 2000？</p><p id="99c8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">除非你真的需要钱，否则这是显而易见的。你会放弃眼前的奖励，在未来获得更大的奖励。</p><p id="d82b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">软件开发没有什么不同，除了它不那么容易识别收益和成本，从而做出理性的决定。另外，这并不总是你能决定的。</p><p id="c952" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我试图从长远或战略的角度来看待设计决策。没有简单的规则，但是问一些基本的问题会有帮助:</p><ul class=""><li id="665c" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">这符合涉众的要求吗？他们容易改变吗？如果是这样的话，我们能适应吗？</li><li id="9df7" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">模型是否经过充分测试？是不是一开始就在测试？如果没有，我们是否遗漏了容易传播的错误？有可用的自动化测试框架吗？</li><li id="21a7" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">它简单到需要的程度了吗？我们是否增加了不必要的复杂性？</li><li id="e9db" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">有记录吗？对于一个新的开发人员来说，吸收模型的开销是多少，这样他们就可以根据需要进行未来的开发了？</li><li id="c31b" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">够快吗？以后还需要更快吗？</li><li id="5438" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">是否可扩展？未来需要可扩展吗？</li><li id="c00c" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">它的可扩展性如何？</li><li id="ac27" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">是模块化的吗？如果模型的一部分发生变化，需要改变整个结构还是只改变一部分？</li></ul><p id="92e5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">共同点是总是有更多(潜在的)工作要做，如果你预先考虑到这一点，你可以将未来需要做的工作数量减到最少。额外的工作变得不像最初工作的自然延伸那样特别。</p><p id="db0b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">着眼长远并不总是一个受欢迎的选择——回报不太明显——但这是值得的。只要做好准备，让你现在多花一点时间，为将来节省更多的时间。</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="4ddd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">编码你的想法</strong></p><p id="2c50" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">根据<em class="lz">的一张纸测试</em>，模型设计应该简单，并反映出我们如何概念化一个问题。以下面的草图为例:</p><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mc"><img src="../Images/ff82bc0bb3485196db8d68016935c971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h3_-EqGuRbKWwREvWKULMA.png"/></div></div></figure><p id="a353" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">依赖结构和步骤顺序是清楚的。在一个高层次上，我们应该期望主文件密切关注这一点。类似于…</p><pre class="lu lv lw lx gt md me mf mg aw mh bi"><span id="5198" class="mi mj in me b gy mk ml l mm mn">A = ... // construct from inputs<br/>B = ... // construct from inputs<br/>C = f1(A)<br/>D = f2(A,B)<br/>D = f3(C,D)</span></pre><p id="00c1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这一点很重要，原因如下:</p><ul class=""><li id="a956" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated"><strong class="kc io">透明性和健壮性</strong>——如果你的代码试图做什么很清楚，那么就很容易看出它是否在做这件事——模型审计很简单，下一个接手模型的人不会诅咒你的名字:)</li><li id="8e75" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated"><strong class="kc io">成本</strong> —结构不良的模型很难维护，而且会耗费大量的人力和时间。最初的构建时间可能比随后花费在它上面的时间要小</li></ul><p id="c279" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那么我们该怎么做呢？对模型进行编码，使其反映概念设计。我发现了一些有用的方法:</p><ul class=""><li id="01bf" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">一旦你建立了一个模型，请另一个开发人员通读代码，并勾画出他们对代码试图做什么的解释。这是一个有用的练习，可以突出实现在翻译和预期设计中的迷失之处</li><li id="7f87" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">应用<strong class="kc io">函数式编程</strong>技术。我将在另一篇文章中详述这一点，但简而言之，函数式编程是一种非常自然地将您头脑中的想法转化为代码的方式，并且您也能够编写相当少的代码来实现相同的结果</li></ul></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="c06d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">看大图，拥有自己的作品</strong></p><figure class="lu lv lw lx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/5973b598edac5f446af5246ae4f9fa53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RQDUcd4XgSky9MMM"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk translated">由<a class="ae jz" href="https://unsplash.com/@fifernando?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">菲德尔·费尔南多</a>在<a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="6aad" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">背景很重要。如果你在做一个大项目的一部分，理解各个部分如何组合成一个整体仍然很重要。</p><p id="705b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为什么？交流。</p><p id="e282" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果项目中的个人理解底层(比如代码的细节)和高层(项目试图实现的目标和原因)，并且能够将两者联系起来，那么这确实有助于减少会议、电话和电子邮件的开销。</p><p id="3509" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我有时会花一半的时间打电话或在会议室里做很少的事情。会议是重要的，但是纯粹的数量可能是压倒性的，有时它表明在项目中没有一个单一的、明确的前进方向。</p><p id="77fa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">作为一名开发人员，你可以选择积极参与项目:问我们在做什么，为什么。项目管理的艺术是找到从你所在的地方到你想要的地方的最佳路径，而开发人员的观点对于实现这个目标是至关重要的。</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><p id="5380" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢阅读。我很想听听你对此的看法！</p></div></div>    
</body>
</html>