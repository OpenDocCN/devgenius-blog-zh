<html>
<head>
<title>Code Smell 12 — Null</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码气味12 —空</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/code-smell-12-null-64fbd7792a7c?source=collection_archive---------2-----------------------#2020-10-31">https://blog.devgenius.io/code-smell-12-null-64fbd7792a7c?source=collection_archive---------2-----------------------#2020-10-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="7ae8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">程序员使用Null作为不同的标志。它可以提示缺席、未定义的值、错误等。多重语义导致耦合和错误。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/1f17a6b283e09eccbf575f8e8d2cce90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9NmumZYYCliylXqbqSTU7w.jpeg"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@kydroon" rel="noopener ugc nofollow" target="_blank"> Kurt Cotoaga </a>在<a class="ae kz" href="https://unsplash.com/s/photos/black-hole" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="5a4d" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">问题</h1><ul class=""><li id="de05" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">呼叫者和发送者之间的耦合。</li><li id="fadb" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">呼叫者和发送者之间的不匹配。</li><li id="d568" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">if/开关/外壳污染。</li><li id="cc4c" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">Null与真实对象不是多态的。因此<em class="ki">空指针异常</em></li><li id="3b19" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">现实世界中不存在空值。因此它违反了<a class="ae kz" href="https://codeburst.io/the-one-and-only-software-design-principle-5328420712af" rel="noopener" target="_blank">双射原理</a></li></ul><div class="mo mp gp gr mq mr"><a href="https://codeburst.io/null-the-billion-dollar-mistake-c2918c92f7e0" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">Null:十亿美元的错误</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">他不是我们的朋友。它不会简化生活，也不会让我们更有效率。只是更懒。是时候停止了…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">codeburst.io</p></div></div><div class="na l"><div class="nb l nc nd ne na nf kt mr"/></div></div></a></div><h1 id="8d1e" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">解决方法</h1><ul class=""><li id="337c" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">避免Null。</li><li id="5cc9" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">使用<a class="ae kz" href="https://en.wikipedia.org/wiki/Null_object_pattern" rel="noopener ugc nofollow" target="_blank"> NullObject模式</a>来避免ifs。</li><li id="263f" class="ly lz in jm b jn mj jr mk jv ml jz mm kd mn kh mf mg mh mi bi translated">使用<a class="ae kz" href="https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html" rel="noopener ugc nofollow" target="_blank">选项</a>。</li></ul><h1 id="d5c7" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">例外</h1><ul class=""><li id="abd0" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">存在NULL的API、数据库和外部系统。</li></ul><h1 id="0889" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">示例代码</h1><h2 id="6fbe" class="ng lb in bd lc nh ni dn lg nj nk dp lk jv nl nm lo jz nn no ls kd np nq lw nr bi translated">错误的</h2><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h2 id="328f" class="ng lb in bd lc nh ni dn lg nj nk dp lk jv nl nm lo jz nn no ls kd np nq lw nr bi translated">对吧</h2><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h1 id="d861" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">侦查</h1><p id="bb23" class="pw-post-body-paragraph jk jl in jm b jn ma jp jq jr mb jt ju jv nu jx jy jz nv kb kc kd nw kf kg kh ig bi translated">大多数短绒可以显示无效用法并警告我们。</p><h1 id="70e2" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">标签</h1><ul class=""><li id="1be9" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">空</li></ul><h1 id="9b28" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><ul class=""><li id="513d" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated">Null是十亿美元的错误。然而，大多数编程语言都支持它们，库也建议使用它们。</li></ul><h1 id="5e35" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">更多信息</h1><ul class=""><li id="16c5" class="ly lz in jm b jn ma jr mb jv mc jz md kd me kh mf mg mh mi bi translated"><a class="ae kz" href="https://codeburst.io/null-the-billion-dollar-mistake-c2918c92f7e0" rel="noopener" target="_blank">空:十亿美元的错误</a></li></ul></div><div class="ab cl nx ny hr nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ig ih ii ij ik"><blockquote class="oe of og"><p id="27a4" class="jk jl ki jm b jn jo jp jq jr js jt ju oh jw jx jy oi ka kb kc oj ke kf kg kh ig bi translated">我无法抗拒放入空引用的诱惑，只是因为它太容易实现了。这导致了数不清的错误、漏洞和系统崩溃，在过去的四十年里，这可能造成了数十亿美元的痛苦和损失。</p></blockquote><p id="3d7c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">东尼·霍尔</em></p><div class="mo mp gp gr mq mr"><a href="https://medium.com/dev-genius/software-engineering-great-quotes-3af63cea6782" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">软件工程名言</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">有时一个简短的想法可以带来惊人的想法。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="ok l nc nd ne na nf kt mr"/></div></div></a></div></div><div class="ab cl nx ny hr nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ig ih ii ij ik"><p id="fd0d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文是CodeSmell系列的一部分。</p><div class="mo mp gp gr mq mr"><a href="https://medium.com/dev-genius/how-to-find-the-stinky-parts-of-your-code-fa8df47fc39c" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd io gy z fp mw fr fs mx fu fw im bi translated">如何找到你的代码中有问题的部分</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">代码很难闻。让我们看看如何改变香味。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="ol l nc nd ne na nf kt mr"/></div></div></a></div></div></div>    
</body>
</html>