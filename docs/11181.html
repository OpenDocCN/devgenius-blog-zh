<html>
<head>
<title>Chrome Extension using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 JavaScript 的 Chrome 扩展</h1>
<blockquote>原文：<a href="https://blog.devgenius.io/chrome-extension-using-javascript-7c1e5ea527c7?source=collection_archive---------7-----------------------#2022-12-23">https://blog.devgenius.io/chrome-extension-using-javascript-7c1e5ea527c7?source=collection_archive---------7-----------------------#2022-12-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/00258ea7ca585631787644ffc3d2c147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t9ISs6Rqp9q4ajiM.jpg"/></div></div></figure><p id="4a21" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，我将讲述使用 JavaScript 构建 chrome 扩展的基本结构，并将解释用于构建我们的 chrome 扩展的不同文件的工作原理。</p><p id="ced0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">要用 JavaScript 创建一个 Chrome 扩展，你需要遵循以下步骤:</strong></p><ul class=""><li id="6cb3" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">为您的扩展创建一个新文件夹。</li><li id="b9a5" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">在文件夹中创建一个名为“manifest.json”的文件。这个文件将包含关于您的扩展的元数据，比如它的名称和版本号。下面是一个基本 manifest.json 文件的示例:</li></ul><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="73a9" class="lq lr in lm b be ls lt l lu lv">{<br/>  "manifest_version": 3,<br/>  "name": "My Extension",<br/>  "version": "1.0",<br/>  "description": "A brief description of my extension",<br/>  "content_scripts":[<br/>    {<br/>      "matched" : ["&lt;all_urls&gt;"],<br/>      "js" : ["content.js"]<br/>    }<br/>  ]<br/>  <br/>}</span></pre><p id="6749" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们了解一下什么是 content_scripts:</p><p id="b1a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它用来改变你的“匹配”数组中提到的网页的内容，就像在这个例子中我们传递[" <all_urls> "]这意味着这个扩展将在 chrome 的每个 URL 上工作。如果你想为特定的网页做扩展，你可以提到那个网页的 URL。无论您在“js”上传递什么文件名，javascript 文件都将在匹配的 URL 上运行。</all_urls></p><ul class=""><li id="cb5e" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">后台脚本 :-后台脚本是在 chrome 扩展中后台运行的 javascript 文件。它可用于执行需要连续或定期执行的任务。</li></ul><p id="60bd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要使用 background.js，您必须在 manifest.json 文件中添加以下代码:-</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="c133" class="lq lr in lm b be ls lt l lu lv">"background": {<br/>    "scripts": ["background.js"]<br/>  }</span></pre><p id="c839" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在后台脚本中，您可以使用<code class="fe lw lx ly lm b">chrome.runtime</code> API 来执行任务或监听事件。例如，您可以使用<code class="fe lw lx ly lm b">chrome.runtime.onInstalled</code>事件在安装扩展时运行脚本，或者使用<code class="fe lw lx ly lm b">chrome.runtime.onMessage</code>事件监听来自其他脚本的消息。</p><ul class=""><li id="ecf2" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated"><strong class="jx io"> popup </strong> :-在文件夹中创建一个名为“popup.html”的文件。这个文件将包含当用户点击扩展图标时弹出窗口的 HTML 代码。您可以添加任何其他必要的文件，如图像或 CSS 样式表。</li></ul><p id="df57" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要使用 popup.html，您必须在 manifest.json 文件中添加以下代码:-</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="657d" class="lq lr in lm b be ls lt l lu lv">"browser_action": {<br/>    "default_icon": "icon.png",    //icon of your extension<br/>    "default_popup": "popup.html", //html code for the popup of your extension<br/>  }</span></pre></div><div class="ab cl lz ma hr mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ig ih ii ij ik"><p id="c684" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在普通扩展的基本设置已经完成，让我们看看如何在 chrome 扩展上添加这个扩展</p><ul class=""><li id="f815" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">转到 chrome://extensions/</li><li id="a147" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">确保你的开发者模式在右上角打开</li></ul><figure class="lh li lj lk gt jo gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/9384b54c0e9bef5c81d40cc67e8017be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*qiV7EeQnFwhu1h3XzKXXGw.png"/></div></figure><ul class=""><li id="93b7" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">点击加载解包</li></ul><figure class="lh li lj lk gt jo gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/9d21e9c7e0bde732048a2d0c8cd1aff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*gIxuKAZn32kjyhjlRuWg2w.png"/></div></figure><ul class=""><li id="0628" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">现在选择您在第一步中创建的扩展文件夹。</li><li id="2db5" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">在此之后，我们将把你的扩展添加到 chrome 中</li></ul><figure class="lh li lj lk gt jo gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/3623ecfb519e5f52d5bba41ba63cf905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*1D2hFIwE7IdeKvaP0VJOHA.png"/></div></figure></div><div class="ab cl lz ma hr mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ig ih ii ij ik"><p id="e6fe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我已经演示了 chrome 扩展的基本文件结构和工作原理，按照这些步骤，你可以很容易地通过编写扩展逻辑来进行普通的扩展。我写这篇文章是因为当我学习做 chrome 扩展时，我没有在一个地方找到任何东西。我希望这将有助于你，如果它确实确保:-</p><ul class=""><li id="fbc2" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">关注<a class="mj mk ep" href="https://medium.com/u/8a9ce53808fd?source=post_page-----7c1e5ea527c7--------------------------------" rel="noopener" target="_blank"> Mohit garg </a>，获取更多关于 web 开发和相关内容的文章</li><li id="b6cd" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">分享这篇文章给你想开始学习 chrome 扩展的朋友。</li></ul></div></div>    
</body>
</html>